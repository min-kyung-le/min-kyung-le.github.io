var h_=Object.defineProperty;var c_=(t,s,r)=>s in t?h_(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var E=(t,s,r)=>(c_(t,typeof s!="symbol"?s+"":s,r),r);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();function um(t,s){const r=Object.create(null),l=t.split(",");for(let c=0;c<l.length;c++)r[l[c]]=!0;return s?c=>!!r[c.toLowerCase()]:c=>!!r[c]}const u_="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",d_=um(u_);function Tc(t){if(ki(t)){const s={};for(let r=0;r<t.length;r++){const l=t[r],c=$n(l)?p_(l):Tc(l);if(c)for(const f in c)s[f]=c[f]}return s}else{if($n(t))return t;if(On(t))return t}}const f_=/;(?![^(]*\))/g,g_=/:([^]+)/,m_=/\/\*.*?\*\//gs;function p_(t){const s={};return t.replace(m_,"").split(f_).forEach(r=>{if(r){const l=r.split(g_);l.length>1&&(s[l[0].trim()]=l[1].trim())}}),s}function Rn(t){let s="";if($n(t))s=t;else if(ki(t))for(let r=0;r<t.length;r++){const l=Rn(t[r]);l&&(s+=l+" ")}else if(On(t))for(const r in t)t[r]&&(s+=r+" ");return s.trim()}function v_(t){if(!t)return null;let{class:s,style:r}=t;return s&&!$n(s)&&(t.class=Rn(s)),r&&(t.style=Tc(r)),t}const x_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",y_=um(x_);function cS(t){return!!t||t===""}function b_(t,s){if(t.length!==s.length)return!1;let r=!0;for(let l=0;r&&l<t.length;l++)r=hh(t[l],s[l]);return r}function hh(t,s){if(t===s)return!0;let r=Xb(t),l=Xb(s);if(r||l)return r&&l?t.getTime()===s.getTime():!1;if(r=bf(t),l=bf(s),r||l)return t===s;if(r=ki(t),l=ki(s),r||l)return r&&l?b_(t,s):!1;if(r=On(t),l=On(s),r||l){if(!r||!l)return!1;const c=Object.keys(t).length,f=Object.keys(s).length;if(c!==f)return!1;for(const p in t){const x=t.hasOwnProperty(p),w=s.hasOwnProperty(p);if(x&&!w||!x&&w||!hh(t[p],s[p]))return!1}}return String(t)===String(s)}function dm(t,s){return t.findIndex(r=>hh(r,s))}const sn=t=>$n(t)?t:t==null?"":ki(t)||On(t)&&(t.toString===dS||!zi(t.toString))?JSON.stringify(t,uS,2):String(t),uS=(t,s)=>s&&s.__v_isRef?uS(t,s.value):Cu(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((r,[l,c])=>(r[`${l} =>`]=c,r),{})}:Pc(s)?{[`Set(${s.size})`]:[...s.values()]}:On(s)&&!ki(s)&&!fS(s)?String(s):s,Mn={},Su=[],mo=()=>{},w_=()=>!1,k_=/^on[^a-z]/,i0=t=>k_.test(t),o1=t=>t.startsWith("onUpdate:"),us=Object.assign,l1=(t,s)=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)},S_=Object.prototype.hasOwnProperty,rn=(t,s)=>S_.call(t,s),ki=Array.isArray,Cu=t=>ad(t)==="[object Map]",Pc=t=>ad(t)==="[object Set]",Xb=t=>ad(t)==="[object Date]",C_=t=>ad(t)==="[object RegExp]",zi=t=>typeof t=="function",$n=t=>typeof t=="string",bf=t=>typeof t=="symbol",On=t=>t!==null&&typeof t=="object",h1=t=>On(t)&&zi(t.then)&&zi(t.catch),dS=Object.prototype.toString,ad=t=>dS.call(t),A_=t=>ad(t).slice(8,-1),fS=t=>ad(t)==="[object Object]",c1=t=>$n(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kd=um(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fm=t=>{const s=Object.create(null);return r=>s[r]||(s[r]=t(r))},T_=/-(\w)/g,ur=fm(t=>t.replace(T_,(s,r)=>r?r.toUpperCase():"")),P_=/\B([A-Z])/g,Va=fm(t=>t.replace(P_,"-$1").toLowerCase()),Go=fm(t=>t.charAt(0).toUpperCase()+t.slice(1)),qd=fm(t=>t?`on${Go(t)}`:""),Bu=(t,s)=>!Object.is(t,s),Au=(t,s)=>{for(let r=0;r<t.length;r++)t[r](s)},Cg=(t,s,r)=>{Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value:r})},Ag=t=>{const s=parseFloat(t);return isNaN(s)?t:s},Tg=t=>{const s=$n(t)?Number(t):NaN;return isNaN(s)?t:s};let Hb;const D_=()=>Hb||(Hb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let sa;class u1{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=sa,!s&&sa&&(this.index=(sa.scopes||(sa.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const r=sa;try{return sa=this,s()}finally{sa=r}}}on(){sa=this}off(){sa=this.parent}stop(s){if(this._active){let r,l;for(r=0,l=this.effects.length;r<l;r++)this.effects[r].stop();for(r=0,l=this.cleanups.length;r<l;r++)this.cleanups[r]();if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!s){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this._active=!1}}}function gm(t){return new u1(t)}function gS(t,s=sa){s&&s.active&&s.effects.push(t)}function mS(){return sa}function $r(t){sa&&sa.cleanups.push(t)}const d1=t=>{const s=new Set(t);return s.w=0,s.n=0,s},pS=t=>(t.w&ch)>0,vS=t=>(t.n&ch)>0,M_=({deps:t})=>{if(t.length)for(let s=0;s<t.length;s++)t[s].w|=ch},E_=t=>{const{deps:s}=t;if(s.length){let r=0;for(let l=0;l<s.length;l++){const c=s[l];pS(c)&&!vS(c)?c.delete(t):s[r++]=c,c.w&=~ch,c.n&=~ch}s.length=r}},Pg=new WeakMap;let zd=0,ch=1;const _v=30;let ho;const ic=Symbol(""),Fv=Symbol("");class n0{constructor(s,r=null,l){this.fn=s,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,gS(this,l)}run(){if(!this.active)return this.fn();let s=ho,r=sh;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=ho,ho=this,sh=!0,ch=1<<++zd,zd<=_v?M_(this):Yb(this),this.fn()}finally{zd<=_v&&E_(this),ch=1<<--zd,ho=this.parent,sh=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ho===this?this.deferStop=!0:this.active&&(Yb(this),this.onStop&&this.onStop(),this.active=!1)}}function Yb(t){const{deps:s}=t;if(s.length){for(let r=0;r<s.length;r++)s[r].delete(t);s.length=0}}function __(t,s){t.effect&&(t=t.effect.fn);const r=new n0(t);s&&(us(r,s),s.scope&&gS(r,s.scope)),(!s||!s.lazy)&&r.run();const l=r.run.bind(r);return l.effect=r,l}function F_(t){t.effect.stop()}let sh=!0;const xS=[];function od(){xS.push(sh),sh=!1}function ld(){const t=xS.pop();sh=t===void 0?!0:t}function Kr(t,s,r){if(sh&&ho){let l=Pg.get(t);l||Pg.set(t,l=new Map);let c=l.get(r);c||l.set(r,c=d1()),yS(c)}}function yS(t,s){let r=!1;zd<=_v?vS(t)||(t.n|=ch,r=!pS(t)):r=!t.has(ho),r&&(t.add(ho),ho.deps.push(t))}function ml(t,s,r,l,c,f){const p=Pg.get(t);if(!p)return;let x=[];if(s==="clear")x=[...p.values()];else if(r==="length"&&ki(t)){const w=Number(l);p.forEach((P,C)=>{(C==="length"||C>=w)&&x.push(P)})}else switch(r!==void 0&&x.push(p.get(r)),s){case"add":ki(t)?c1(r)&&x.push(p.get("length")):(x.push(p.get(ic)),Cu(t)&&x.push(p.get(Fv)));break;case"delete":ki(t)||(x.push(p.get(ic)),Cu(t)&&x.push(p.get(Fv)));break;case"set":Cu(t)&&x.push(p.get(ic));break}if(x.length===1)x[0]&&Nv(x[0]);else{const w=[];for(const P of x)P&&w.push(...P);Nv(d1(w))}}function Nv(t,s){const r=ki(t)?t:[...t];for(const l of r)l.computed&&Ub(l);for(const l of r)l.computed||Ub(l)}function Ub(t,s){(t!==ho||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function N_(t,s){var r;return(r=Pg.get(t))===null||r===void 0?void 0:r.get(s)}const L_=um("__proto__,__v_isRef,__isVue"),bS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bf)),I_=mm(),O_=mm(!1,!0),R_=mm(!0),B_=mm(!0,!0),Wb=V_();function V_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(s=>{t[s]=function(...r){const l=Di(this);for(let f=0,p=this.length;f<p;f++)Kr(l,"get",f+"");const c=l[s](...r);return c===-1||c===!1?l[s](...r.map(Di)):c}}),["push","pop","shift","unshift","splice"].forEach(s=>{t[s]=function(...r){od();const l=Di(this)[s].apply(this,r);return ld(),l}}),t}function z_(t){const s=Di(this);return Kr(s,"has",t),s.hasOwnProperty(t)}function mm(t=!1,s=!1){return function(l,c,f){if(c==="__v_isReactive")return!t;if(c==="__v_isReadonly")return t;if(c==="__v_isShallow")return s;if(c==="__v_raw"&&f===(t?s?PS:TS:s?AS:CS).get(l))return l;const p=ki(l);if(!t){if(p&&rn(Wb,c))return Reflect.get(Wb,c,f);if(c==="hasOwnProperty")return z_}const x=Reflect.get(l,c,f);return(bf(c)?bS.has(c):L_(c))||(t||Kr(l,"get",c),s)?x:jn(x)?p&&c1(c)?x:x.value:On(x)?t?hd(x):ji(x):x}}const X_=wS(),H_=wS(!0);function wS(t=!1){return function(r,l,c,f){let p=r[l];if(gc(p)&&jn(p)&&!jn(c))return!1;if(!t&&(!wf(c)&&!gc(c)&&(p=Di(p),c=Di(c)),!ki(r)&&jn(p)&&!jn(c)))return p.value=c,!0;const x=ki(r)&&c1(l)?Number(l)<r.length:rn(r,l),w=Reflect.set(r,l,c,f);return r===Di(f)&&(x?Bu(c,p)&&ml(r,"set",l,c):ml(r,"add",l,c)),w}}function Y_(t,s){const r=rn(t,s);t[s];const l=Reflect.deleteProperty(t,s);return l&&r&&ml(t,"delete",s,void 0),l}function U_(t,s){const r=Reflect.has(t,s);return(!bf(s)||!bS.has(s))&&Kr(t,"has",s),r}function W_(t){return Kr(t,"iterate",ki(t)?"length":ic),Reflect.ownKeys(t)}const kS={get:I_,set:X_,deleteProperty:Y_,has:U_,ownKeys:W_},SS={get:R_,set(t,s){return!0},deleteProperty(t,s){return!0}},G_=us({},kS,{get:O_,set:H_}),j_=us({},SS,{get:B_}),f1=t=>t,pm=t=>Reflect.getPrototypeOf(t);function N0(t,s,r=!1,l=!1){t=t.__v_raw;const c=Di(t),f=Di(s);r||(s!==f&&Kr(c,"get",s),Kr(c,"get",f));const{has:p}=pm(c),x=l?f1:r?p1:kf;if(p.call(c,s))return x(t.get(s));if(p.call(c,f))return x(t.get(f));t!==c&&t.get(s)}function L0(t,s=!1){const r=this.__v_raw,l=Di(r),c=Di(t);return s||(t!==c&&Kr(l,"has",t),Kr(l,"has",c)),t===c?r.has(t):r.has(t)||r.has(c)}function I0(t,s=!1){return t=t.__v_raw,!s&&Kr(Di(t),"iterate",ic),Reflect.get(t,"size",t)}function Gb(t){t=Di(t);const s=Di(this);return pm(s).has.call(s,t)||(s.add(t),ml(s,"add",t,t)),this}function jb(t,s){s=Di(s);const r=Di(this),{has:l,get:c}=pm(r);let f=l.call(r,t);f||(t=Di(t),f=l.call(r,t));const p=c.call(r,t);return r.set(t,s),f?Bu(s,p)&&ml(r,"set",t,s):ml(r,"add",t,s),this}function $b(t){const s=Di(this),{has:r,get:l}=pm(s);let c=r.call(s,t);c||(t=Di(t),c=r.call(s,t)),l&&l.call(s,t);const f=s.delete(t);return c&&ml(s,"delete",t,void 0),f}function Kb(){const t=Di(this),s=t.size!==0,r=t.clear();return s&&ml(t,"clear",void 0,void 0),r}function O0(t,s){return function(l,c){const f=this,p=f.__v_raw,x=Di(p),w=s?f1:t?p1:kf;return!t&&Kr(x,"iterate",ic),p.forEach((P,C)=>l.call(c,w(P),w(C),f))}}function R0(t,s,r){return function(...l){const c=this.__v_raw,f=Di(c),p=Cu(f),x=t==="entries"||t===Symbol.iterator&&p,w=t==="keys"&&p,P=c[t](...l),C=r?f1:s?p1:kf;return!s&&Kr(f,"iterate",w?Fv:ic),{next(){const{value:F,done:L}=P.next();return L?{value:F,done:L}:{value:x?[C(F[0]),C(F[1])]:C(F),done:L}},[Symbol.iterator](){return this}}}}function Ul(t){return function(...s){return t==="delete"?!1:this}}function $_(){const t={get(f){return N0(this,f)},get size(){return I0(this)},has:L0,add:Gb,set:jb,delete:$b,clear:Kb,forEach:O0(!1,!1)},s={get(f){return N0(this,f,!1,!0)},get size(){return I0(this)},has:L0,add:Gb,set:jb,delete:$b,clear:Kb,forEach:O0(!1,!0)},r={get(f){return N0(this,f,!0)},get size(){return I0(this,!0)},has(f){return L0.call(this,f,!0)},add:Ul("add"),set:Ul("set"),delete:Ul("delete"),clear:Ul("clear"),forEach:O0(!0,!1)},l={get(f){return N0(this,f,!0,!0)},get size(){return I0(this,!0)},has(f){return L0.call(this,f,!0)},add:Ul("add"),set:Ul("set"),delete:Ul("delete"),clear:Ul("clear"),forEach:O0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{t[f]=R0(f,!1,!1),r[f]=R0(f,!0,!1),s[f]=R0(f,!1,!0),l[f]=R0(f,!0,!0)}),[t,r,s,l]}const[K_,q_,Z_,J_]=$_();function vm(t,s){const r=s?t?J_:Z_:t?q_:K_;return(l,c,f)=>c==="__v_isReactive"?!t:c==="__v_isReadonly"?t:c==="__v_raw"?l:Reflect.get(rn(r,c)&&c in l?r:l,c,f)}const Q_={get:vm(!1,!1)},eF={get:vm(!1,!0)},tF={get:vm(!0,!1)},iF={get:vm(!0,!0)},CS=new WeakMap,AS=new WeakMap,TS=new WeakMap,PS=new WeakMap;function nF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sF(t){return t.__v_skip||!Object.isExtensible(t)?0:nF(A_(t))}function ji(t){return gc(t)?t:xm(t,!1,kS,Q_,CS)}function DS(t){return xm(t,!1,G_,eF,AS)}function hd(t){return xm(t,!0,SS,tF,TS)}function rF(t){return xm(t,!0,j_,iF,PS)}function xm(t,s,r,l,c){if(!On(t)||t.__v_raw&&!(s&&t.__v_isReactive))return t;const f=c.get(t);if(f)return f;const p=sF(t);if(p===0)return t;const x=new Proxy(t,p===2?l:r);return c.set(t,x),x}function nc(t){return gc(t)?nc(t.__v_raw):!!(t&&t.__v_isReactive)}function gc(t){return!!(t&&t.__v_isReadonly)}function wf(t){return!!(t&&t.__v_isShallow)}function g1(t){return nc(t)||gc(t)}function Di(t){const s=t&&t.__v_raw;return s?Di(s):t}function m1(t){return Cg(t,"__v_skip",!0),t}const kf=t=>On(t)?ji(t):t,p1=t=>On(t)?hd(t):t;function v1(t){sh&&ho&&(t=Di(t),yS(t.dep||(t.dep=d1())))}function ym(t,s){t=Di(t);const r=t.dep;r&&Nv(r)}function jn(t){return!!(t&&t.__v_isRef===!0)}function it(t){return MS(t,!1)}function bm(t){return MS(t,!0)}function MS(t,s){return jn(t)?t:new aF(t,s)}class aF{constructor(s,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?s:Di(s),this._value=r?s:kf(s)}get value(){return v1(this),this._value}set value(s){const r=this.__v_isShallow||wf(s)||gc(s);s=r?s:Di(s),Bu(s,this._rawValue)&&(this._rawValue=s,this._value=r?s:kf(s),ym(this))}}function oF(t){ym(t)}function Ln(t){return jn(t)?t.value:t}const lF={get:(t,s,r)=>Ln(Reflect.get(t,s,r)),set:(t,s,r,l)=>{const c=t[s];return jn(c)&&!jn(r)?(c.value=r,!0):Reflect.set(t,s,r,l)}};function x1(t){return nc(t)?t:new Proxy(t,lF)}class hF{constructor(s){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:l}=s(()=>v1(this),()=>ym(this));this._get=r,this._set=l}get value(){return this._get()}set value(s){this._set(s)}}function cF(t){return new hF(t)}function wm(t){const s=ki(t)?new Array(t.length):{};for(const r in t)s[r]=Nt(t,r);return s}class uF{constructor(s,r,l){this._object=s,this._key=r,this._defaultValue=l,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return N_(Di(this._object),this._key)}}function Nt(t,s,r){const l=t[s];return jn(l)?l:new uF(t,s,r)}var ES;class dF{constructor(s,r,l,c){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[ES]=!1,this._dirty=!0,this.effect=new n0(s,()=>{this._dirty||(this._dirty=!0,ym(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=l}get value(){const s=Di(this);return v1(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}ES="__v_isReadonly";function fF(t,s,r=!1){let l,c;const f=zi(t);return f?(l=t,c=mo):(l=t.get,c=t.set),new dF(l,c,f||!c,r)}function gF(t,...s){}function mF(t,s){}function cl(t,s,r,l){let c;try{c=l?t(...l):t()}catch(f){Dc(f,s,r)}return c}function pa(t,s,r,l){if(zi(t)){const f=cl(t,s,r,l);return f&&h1(f)&&f.catch(p=>{Dc(p,s,r)}),f}const c=[];for(let f=0;f<t.length;f++)c.push(pa(t[f],s,r,l));return c}function Dc(t,s,r,l=!0){const c=s?s.vnode:null;if(s){let f=s.parent;const p=s.proxy,x=r;for(;f;){const P=f.ec;if(P){for(let C=0;C<P.length;C++)if(P[C](t,p,x)===!1)return}f=f.parent}const w=s.appContext.config.errorHandler;if(w){cl(w,null,10,[t,p,x]);return}}pF(t,r,c,l)}function pF(t,s,r,l=!0){console.error(t)}let Sf=!1,Lv=!1;const lr=[];let Oo=0;const Tu=[];let nl=null,Wh=0;const _S=Promise.resolve();let y1=null;function on(t){const s=y1||_S;return t?s.then(this?t.bind(this):t):s}function vF(t){let s=Oo+1,r=lr.length;for(;s<r;){const l=s+r>>>1;Cf(lr[l])<t?s=l+1:r=l}return s}function km(t){(!lr.length||!lr.includes(t,Sf&&t.allowRecurse?Oo+1:Oo))&&(t.id==null?lr.push(t):lr.splice(vF(t.id),0,t),FS())}function FS(){!Sf&&!Lv&&(Lv=!0,y1=_S.then(NS))}function xF(t){const s=lr.indexOf(t);s>Oo&&lr.splice(s,1)}function b1(t){ki(t)?Tu.push(...t):(!nl||!nl.includes(t,t.allowRecurse?Wh+1:Wh))&&Tu.push(t),FS()}function qb(t,s=Sf?Oo+1:0){for(;s<lr.length;s++){const r=lr[s];r&&r.pre&&(lr.splice(s,1),s--,r())}}function Dg(t){if(Tu.length){const s=[...new Set(Tu)];if(Tu.length=0,nl){nl.push(...s);return}for(nl=s,nl.sort((r,l)=>Cf(r)-Cf(l)),Wh=0;Wh<nl.length;Wh++)nl[Wh]();nl=null,Wh=0}}const Cf=t=>t.id==null?1/0:t.id,yF=(t,s)=>{const r=Cf(t)-Cf(s);if(r===0){if(t.pre&&!s.pre)return-1;if(s.pre&&!t.pre)return 1}return r};function NS(t){Lv=!1,Sf=!0,lr.sort(yF);const s=mo;try{for(Oo=0;Oo<lr.length;Oo++){const r=lr[Oo];r&&r.active!==!1&&cl(r,null,14)}}finally{Oo=0,lr.length=0,Dg(),Sf=!1,y1=null,(lr.length||Tu.length)&&NS()}}let gu,B0=[];function LS(t,s){var r,l;gu=t,gu?(gu.enabled=!0,B0.forEach(({event:c,args:f})=>gu.emit(c,...f)),B0=[]):typeof window<"u"&&window.HTMLElement&&!(!((l=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||l===void 0)&&l.includes("jsdom"))?((s.__VUE_DEVTOOLS_HOOK_REPLAY__=s.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(f=>{LS(f,s)}),setTimeout(()=>{gu||(s.__VUE_DEVTOOLS_HOOK_REPLAY__=null,B0=[])},3e3)):B0=[]}function bF(t,s,...r){if(t.isUnmounted)return;const l=t.vnode.props||Mn;let c=r;const f=s.startsWith("update:"),p=f&&s.slice(7);if(p&&p in l){const C=`${p==="modelValue"?"model":p}Modifiers`,{number:F,trim:L}=l[C]||Mn;L&&(c=r.map(B=>$n(B)?B.trim():B)),F&&(c=r.map(Ag))}let x,w=l[x=qd(s)]||l[x=qd(ur(s))];!w&&f&&(w=l[x=qd(Va(s))]),w&&pa(w,t,6,c);const P=l[x+"Once"];if(P){if(!t.emitted)t.emitted={};else if(t.emitted[x])return;t.emitted[x]=!0,pa(P,t,6,c)}}function IS(t,s,r=!1){const l=s.emitsCache,c=l.get(t);if(c!==void 0)return c;const f=t.emits;let p={},x=!1;if(!zi(t)){const w=P=>{const C=IS(P,s,!0);C&&(x=!0,us(p,C))};!r&&s.mixins.length&&s.mixins.forEach(w),t.extends&&w(t.extends),t.mixins&&t.mixins.forEach(w)}return!f&&!x?(On(t)&&l.set(t,null),null):(ki(f)?f.forEach(w=>p[w]=null):us(p,f),On(t)&&l.set(t,p),p)}function Sm(t,s){return!t||!i0(s)?!1:(s=s.slice(2).replace(/Once$/,""),rn(t,s[0].toLowerCase()+s.slice(1))||rn(t,Va(s))||rn(t,s))}let Js=null,Cm=null;function Af(t){const s=Js;return Js=t,Cm=t&&t.type.__scopeId||null,s}function Nr(t){Cm=t}function Lr(){Cm=null}const wF=t=>Ut;function Ut(t,s=Js,r){if(!s||t._n)return t;const l=(...c)=>{l._d&&Xv(-1);const f=Af(s);let p;try{p=t(...c)}finally{Af(f),l._d&&Xv(1)}return p};return l._n=!0,l._c=!0,l._d=!0,l}function ug(t){const{type:s,vnode:r,proxy:l,withProxy:c,props:f,propsOptions:[p],slots:x,attrs:w,emit:P,render:C,renderCache:F,data:L,setupState:B,ctx:U,inheritAttrs:Y}=t;let Q,N;const X=Af(t);try{if(r.shapeFlag&4){const he=c||l;Q=aa(C.call(he,he,F,f,B,L,U)),N=w}else{const he=s;Q=aa(he.length>1?he(f,{attrs:w,slots:x,emit:P}):he(f,null)),N=s.props?w:SF(w)}}catch(he){Qd.length=0,Dc(he,t,1),Q=ae(dr)}let W=Q;if(N&&Y!==!1){const he=Object.keys(N),{shapeFlag:K}=W;he.length&&K&7&&(p&&he.some(o1)&&(N=CF(N,p)),W=Wa(W,N))}return r.dirs&&(W=Wa(W),W.dirs=W.dirs?W.dirs.concat(r.dirs):r.dirs),r.transition&&(W.transition=r.transition),Q=W,Af(X),Q}function kF(t){let s;for(let r=0;r<t.length;r++){const l=t[r];if(Yo(l)){if(l.type!==dr||l.children==="v-if"){if(s)return;s=l}}else return}return s}const SF=t=>{let s;for(const r in t)(r==="class"||r==="style"||i0(r))&&((s||(s={}))[r]=t[r]);return s},CF=(t,s)=>{const r={};for(const l in t)(!o1(l)||!(l.slice(9)in s))&&(r[l]=t[l]);return r};function AF(t,s,r){const{props:l,children:c,component:f}=t,{props:p,children:x,patchFlag:w}=s,P=f.emitsOptions;if(s.dirs||s.transition)return!0;if(r&&w>=0){if(w&1024)return!0;if(w&16)return l?Zb(l,p,P):!!p;if(w&8){const C=s.dynamicProps;for(let F=0;F<C.length;F++){const L=C[F];if(p[L]!==l[L]&&!Sm(P,L))return!0}}}else return(c||x)&&(!x||!x.$stable)?!0:l===p?!1:l?p?Zb(l,p,P):!0:!!p;return!1}function Zb(t,s,r){const l=Object.keys(s);if(l.length!==Object.keys(t).length)return!0;for(let c=0;c<l.length;c++){const f=l[c];if(s[f]!==t[f]&&!Sm(r,f))return!0}return!1}function w1({vnode:t,parent:s},r){for(;s&&s.subTree===t;)(t=s.vnode).el=r,s=s.parent}const OS=t=>t.__isSuspense,TF={name:"Suspense",__isSuspense:!0,process(t,s,r,l,c,f,p,x,w,P){t==null?DF(s,r,l,c,f,p,x,w,P):MF(t,s,r,l,c,p,x,w,P)},hydrate:EF,create:k1,normalize:_F},PF=TF;function Tf(t,s){const r=t.props&&t.props[s];zi(r)&&r()}function DF(t,s,r,l,c,f,p,x,w){const{p:P,o:{createElement:C}}=w,F=C("div"),L=t.suspense=k1(t,c,l,s,F,r,f,p,x,w);P(null,L.pendingBranch=t.ssContent,F,null,l,L,f,p),L.deps>0?(Tf(t,"onPending"),Tf(t,"onFallback"),P(null,t.ssFallback,s,r,l,null,f,p),Pu(L,t.ssFallback)):L.resolve()}function MF(t,s,r,l,c,f,p,x,{p:w,um:P,o:{createElement:C}}){const F=s.suspense=t.suspense;F.vnode=s,s.el=t.el;const L=s.ssContent,B=s.ssFallback,{activeBranch:U,pendingBranch:Y,isInFallback:Q,isHydrating:N}=F;if(Y)F.pendingBranch=L,co(L,Y)?(w(Y,L,F.hiddenContainer,null,c,F,f,p,x),F.deps<=0?F.resolve():Q&&(w(U,B,r,l,c,null,f,p,x),Pu(F,B))):(F.pendingId++,N?(F.isHydrating=!1,F.activeBranch=Y):P(Y,c,F),F.deps=0,F.effects.length=0,F.hiddenContainer=C("div"),Q?(w(null,L,F.hiddenContainer,null,c,F,f,p,x),F.deps<=0?F.resolve():(w(U,B,r,l,c,null,f,p,x),Pu(F,B))):U&&co(L,U)?(w(U,L,r,l,c,F,f,p,x),F.resolve(!0)):(w(null,L,F.hiddenContainer,null,c,F,f,p,x),F.deps<=0&&F.resolve()));else if(U&&co(L,U))w(U,L,r,l,c,F,f,p,x),Pu(F,L);else if(Tf(s,"onPending"),F.pendingBranch=L,F.pendingId++,w(null,L,F.hiddenContainer,null,c,F,f,p,x),F.deps<=0)F.resolve();else{const{timeout:X,pendingId:W}=F;X>0?setTimeout(()=>{F.pendingId===W&&F.fallback(B)},X):X===0&&F.fallback(B)}}function k1(t,s,r,l,c,f,p,x,w,P,C=!1){const{p:F,m:L,um:B,n:U,o:{parentNode:Y,remove:Q}}=P,N=t.props?Tg(t.props.timeout):void 0,X={vnode:t,parent:s,parentComponent:r,isSVG:p,container:l,hiddenContainer:c,anchor:f,deps:0,pendingId:0,timeout:typeof N=="number"?N:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:C,isUnmounted:!1,effects:[],resolve(W=!1){const{vnode:he,activeBranch:K,pendingBranch:le,pendingId:G,effects:oe,parentComponent:fe,container:pe}=X;if(X.isHydrating)X.isHydrating=!1;else if(!W){const Me=K&&le.transition&&le.transition.mode==="out-in";Me&&(K.transition.afterLeave=()=>{G===X.pendingId&&L(le,pe,He,0)});let{anchor:He}=X;K&&(He=U(K),B(K,fe,X,!0)),Me||L(le,pe,He,0)}Pu(X,le),X.pendingBranch=null,X.isInFallback=!1;let Te=X.parent,De=!1;for(;Te;){if(Te.pendingBranch){Te.effects.push(...oe),De=!0;break}Te=Te.parent}De||b1(oe),X.effects=[],Tf(he,"onResolve")},fallback(W){if(!X.pendingBranch)return;const{vnode:he,activeBranch:K,parentComponent:le,container:G,isSVG:oe}=X;Tf(he,"onFallback");const fe=U(K),pe=()=>{X.isInFallback&&(F(null,W,G,fe,le,null,oe,x,w),Pu(X,W))},Te=W.transition&&W.transition.mode==="out-in";Te&&(K.transition.afterLeave=pe),X.isInFallback=!0,B(K,le,null,!0),Te||pe()},move(W,he,K){X.activeBranch&&L(X.activeBranch,W,he,K),X.container=W},next(){return X.activeBranch&&U(X.activeBranch)},registerDep(W,he){const K=!!X.pendingBranch;K&&X.deps++;const le=W.vnode.el;W.asyncDep.catch(G=>{Dc(G,W,0)}).then(G=>{if(W.isUnmounted||X.isUnmounted||X.pendingId!==W.suspenseId)return;W.asyncResolved=!0;const{vnode:oe}=W;Hv(W,G,!1),le&&(oe.el=le);const fe=!le&&W.subTree.el;he(W,oe,Y(le||W.subTree.el),le?null:U(W.subTree),X,p,w),fe&&Q(fe),w1(W,oe.el),K&&--X.deps===0&&X.resolve()})},unmount(W,he){X.isUnmounted=!0,X.activeBranch&&B(X.activeBranch,r,W,he),X.pendingBranch&&B(X.pendingBranch,r,W,he)}};return X}function EF(t,s,r,l,c,f,p,x,w){const P=s.suspense=k1(s,l,r,t.parentNode,document.createElement("div"),null,c,f,p,x,!0),C=w(t,P.pendingBranch=s.ssContent,r,P,f,p);return P.deps===0&&P.resolve(),C}function _F(t){const{shapeFlag:s,children:r}=t,l=s&32;t.ssContent=Jb(l?r.default:r),t.ssFallback=l?Jb(r.fallback):ae(dr)}function Jb(t){let s;if(zi(t)){const r=pc&&t._c;r&&(t._d=!1,fi()),t=t(),r&&(t._d=!0,s=Yr,aC())}return ki(t)&&(t=kF(t)),t=aa(t),s&&!t.dynamicChildren&&(t.dynamicChildren=s.filter(r=>r!==t)),t}function RS(t,s){s&&s.pendingBranch?ki(t)?s.effects.push(...t):s.effects.push(t):b1(t)}function Pu(t,s){t.activeBranch=s;const{vnode:r,parentComponent:l}=t,c=r.el=s.el;l&&l.subTree===r&&(l.vnode.el=c,w1(l,c))}function Tn(t,s){if(os){let r=os.provides;const l=os.parent&&os.parent.provides;l===r&&(r=os.provides=Object.create(l)),r[t]=s}}function Hi(t,s,r=!1){const l=os||Js;if(l){const c=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(c&&t in c)return c[t];if(arguments.length>1)return r&&zi(s)?s.call(l.proxy):s}}function Pr(t,s){return s0(t,null,s)}function BS(t,s){return s0(t,null,{flush:"post"})}function FF(t,s){return s0(t,null,{flush:"sync"})}const V0={};function ui(t,s,r){return s0(t,s,r)}function s0(t,s,{immediate:r,deep:l,flush:c,onTrack:f,onTrigger:p}=Mn){const x=mS()===(os==null?void 0:os.scope)?os:null;let w,P=!1,C=!1;if(jn(t)?(w=()=>t.value,P=wf(t)):nc(t)?(w=()=>t,l=!0):ki(t)?(C=!0,P=t.some(W=>nc(W)||wf(W)),w=()=>t.map(W=>{if(jn(W))return W.value;if(nc(W))return $h(W);if(zi(W))return cl(W,x,2)})):zi(t)?s?w=()=>cl(t,x,2):w=()=>{if(!(x&&x.isUnmounted))return F&&F(),pa(t,x,3,[L])}:w=mo,s&&l){const W=w;w=()=>$h(W())}let F,L=W=>{F=N.onStop=()=>{cl(W,x,4)}},B;if(zu)if(L=mo,s?r&&pa(s,x,3,[w(),C?[]:void 0,L]):w(),c==="sync"){const W=vC();B=W.__watcherHandles||(W.__watcherHandles=[])}else return mo;let U=C?new Array(t.length).fill(V0):V0;const Y=()=>{if(N.active)if(s){const W=N.run();(l||P||(C?W.some((he,K)=>Bu(he,U[K])):Bu(W,U)))&&(F&&F(),pa(s,x,3,[W,U===V0?void 0:C&&U[0]===V0?[]:U,L]),U=W)}else N.run()};Y.allowRecurse=!!s;let Q;c==="sync"?Q=Y:c==="post"?Q=()=>js(Y,x&&x.suspense):(Y.pre=!0,x&&(Y.id=x.uid),Q=()=>km(Y));const N=new n0(w,Q);s?r?Y():U=N.run():c==="post"?js(N.run.bind(N),x&&x.suspense):N.run();const X=()=>{N.stop(),x&&x.scope&&l1(x.scope.effects,N)};return B&&B.push(X),X}function NF(t,s,r){const l=this.proxy,c=$n(t)?t.includes(".")?VS(l,t):()=>l[t]:t.bind(l,l);let f;zi(s)?f=s:(f=s.handler,r=s);const p=os;dh(this);const x=s0(c,f.bind(l),r);return p?dh(p):rh(),x}function VS(t,s){const r=s.split(".");return()=>{let l=t;for(let c=0;c<r.length&&l;c++)l=l[r[c]];return l}}function $h(t,s){if(!On(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),jn(t))$h(t.value,s);else if(ki(t))for(let r=0;r<t.length;r++)$h(t[r],s);else if(Pc(t)||Cu(t))t.forEach(r=>{$h(r,s)});else if(fS(t))for(const r in t)$h(t[r],s);return t}function S1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nn(()=>{t.isMounted=!0}),vr(()=>{t.isUnmounting=!0}),t}const Ea=[Function,Array],LF={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ea,onEnter:Ea,onAfterEnter:Ea,onEnterCancelled:Ea,onBeforeLeave:Ea,onLeave:Ea,onAfterLeave:Ea,onLeaveCancelled:Ea,onBeforeAppear:Ea,onAppear:Ea,onAfterAppear:Ea,onAppearCancelled:Ea},setup(t,{slots:s}){const r=jo(),l=S1();let c;return()=>{const f=s.default&&Am(s.default(),!0);if(!f||!f.length)return;let p=f[0];if(f.length>1){for(const Y of f)if(Y.type!==dr){p=Y;break}}const x=Di(t),{mode:w}=x;if(l.isLeaving)return zp(p);const P=Qb(p);if(!P)return zp(p);const C=Vu(P,x,l,r);mc(P,C);const F=r.subTree,L=F&&Qb(F);let B=!1;const{getTransitionKey:U}=P.type;if(U){const Y=U();c===void 0?c=Y:Y!==c&&(c=Y,B=!0)}if(L&&L.type!==dr&&(!co(P,L)||B)){const Y=Vu(L,x,l,r);if(mc(L,Y),w==="out-in")return l.isLeaving=!0,Y.afterLeave=()=>{l.isLeaving=!1,r.update.active!==!1&&r.update()},zp(p);w==="in-out"&&P.type!==dr&&(Y.delayLeave=(Q,N,X)=>{const W=zS(l,L);W[String(L.key)]=L,Q._leaveCb=()=>{N(),Q._leaveCb=void 0,delete C.delayedLeave},C.delayedLeave=X})}return p}}},C1=LF;function zS(t,s){const{leavingVNodes:r}=t;let l=r.get(s.type);return l||(l=Object.create(null),r.set(s.type,l)),l}function Vu(t,s,r,l){const{appear:c,mode:f,persisted:p=!1,onBeforeEnter:x,onEnter:w,onAfterEnter:P,onEnterCancelled:C,onBeforeLeave:F,onLeave:L,onAfterLeave:B,onLeaveCancelled:U,onBeforeAppear:Y,onAppear:Q,onAfterAppear:N,onAppearCancelled:X}=s,W=String(t.key),he=zS(r,t),K=(oe,fe)=>{oe&&pa(oe,l,9,fe)},le=(oe,fe)=>{const pe=fe[1];K(oe,fe),ki(oe)?oe.every(Te=>Te.length<=1)&&pe():oe.length<=1&&pe()},G={mode:f,persisted:p,beforeEnter(oe){let fe=x;if(!r.isMounted)if(c)fe=Y||x;else return;oe._leaveCb&&oe._leaveCb(!0);const pe=he[W];pe&&co(t,pe)&&pe.el._leaveCb&&pe.el._leaveCb(),K(fe,[oe])},enter(oe){let fe=w,pe=P,Te=C;if(!r.isMounted)if(c)fe=Q||w,pe=N||P,Te=X||C;else return;let De=!1;const Me=oe._enterCb=He=>{De||(De=!0,He?K(Te,[oe]):K(pe,[oe]),G.delayedLeave&&G.delayedLeave(),oe._enterCb=void 0)};fe?le(fe,[oe,Me]):Me()},leave(oe,fe){const pe=String(t.key);if(oe._enterCb&&oe._enterCb(!0),r.isUnmounting)return fe();K(F,[oe]);let Te=!1;const De=oe._leaveCb=Me=>{Te||(Te=!0,fe(),Me?K(U,[oe]):K(B,[oe]),oe._leaveCb=void 0,he[pe]===t&&delete he[pe])};he[pe]=t,L?le(L,[oe,De]):De()},clone(oe){return Vu(oe,s,r,l)}};return G}function zp(t){if(r0(t))return t=Wa(t),t.children=null,t}function Qb(t){return r0(t)?t.children?t.children[0]:void 0:t}function mc(t,s){t.shapeFlag&6&&t.component?mc(t.component.subTree,s):t.shapeFlag&128?(t.ssContent.transition=s.clone(t.ssContent),t.ssFallback.transition=s.clone(t.ssFallback)):t.transition=s}function Am(t,s=!1,r){let l=[],c=0;for(let f=0;f<t.length;f++){let p=t[f];const x=r==null?p.key:String(r)+String(p.key!=null?p.key:f);p.type===bi?(p.patchFlag&128&&c++,l=l.concat(Am(p.children,s,x))):(s||p.type!==dr)&&l.push(x!=null?Wa(p,{key:x}):p)}if(c>1)for(let f=0;f<l.length;f++)l[f].patchFlag=-2;return l}function yn(t){return zi(t)?{setup:t,name:t.name}:t}const sc=t=>!!t.type.__asyncLoader;function IF(t){zi(t)&&(t={loader:t});const{loader:s,loadingComponent:r,errorComponent:l,delay:c=200,timeout:f,suspensible:p=!0,onError:x}=t;let w=null,P,C=0;const F=()=>(C++,w=null,L()),L=()=>{let B;return w||(B=w=s().catch(U=>{if(U=U instanceof Error?U:new Error(String(U)),x)return new Promise((Y,Q)=>{x(U,()=>Y(F()),()=>Q(U),C+1)});throw U}).then(U=>B!==w&&w?w:(U&&(U.__esModule||U[Symbol.toStringTag]==="Module")&&(U=U.default),P=U,U)))};return yn({name:"AsyncComponentWrapper",__asyncLoader:L,get __asyncResolved(){return P},setup(){const B=os;if(P)return()=>Xp(P,B);const U=X=>{w=null,Dc(X,B,13,!l)};if(p&&B.suspense||zu)return L().then(X=>()=>Xp(X,B)).catch(X=>(U(X),()=>l?ae(l,{error:X}):null));const Y=it(!1),Q=it(),N=it(!!c);return c&&setTimeout(()=>{N.value=!1},c),f!=null&&setTimeout(()=>{if(!Y.value&&!Q.value){const X=new Error(`Async component timed out after ${f}ms.`);U(X),Q.value=X}},f),L().then(()=>{Y.value=!0,B.parent&&r0(B.parent.vnode)&&km(B.parent.update)}).catch(X=>{U(X),Q.value=X}),()=>{if(Y.value&&P)return Xp(P,B);if(Q.value&&l)return ae(l,{error:Q.value});if(r&&!N.value)return ae(r)}}})}function Xp(t,s){const{ref:r,props:l,children:c,ce:f}=s.vnode,p=ae(t,l,c);return p.ref=r,p.ce=f,delete s.vnode.ce,p}const r0=t=>t.type.__isKeepAlive,OF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:s}){const r=jo(),l=r.ctx;if(!l.renderer)return()=>{const X=s.default&&s.default();return X&&X.length===1?X[0]:X};const c=new Map,f=new Set;let p=null;const x=r.suspense,{renderer:{p:w,m:P,um:C,o:{createElement:F}}}=l,L=F("div");l.activate=(X,W,he,K,le)=>{const G=X.component;P(X,W,he,0,x),w(G.vnode,X,W,he,G,x,K,X.slotScopeIds,le),js(()=>{G.isDeactivated=!1,G.a&&Au(G.a);const oe=X.props&&X.props.onVnodeMounted;oe&&zr(oe,G.parent,X)},x)},l.deactivate=X=>{const W=X.component;P(X,L,null,1,x),js(()=>{W.da&&Au(W.da);const he=X.props&&X.props.onVnodeUnmounted;he&&zr(he,W.parent,X),W.isDeactivated=!0},x)};function B(X){Hp(X),C(X,r,x,!0)}function U(X){c.forEach((W,he)=>{const K=Uv(W.type);K&&(!X||!X(K))&&Y(he)})}function Y(X){const W=c.get(X);!p||!co(W,p)?B(W):p&&Hp(p),c.delete(X),f.delete(X)}ui(()=>[t.include,t.exclude],([X,W])=>{X&&U(he=>Xd(X,he)),W&&U(he=>!Xd(W,he))},{flush:"post",deep:!0});let Q=null;const N=()=>{Q!=null&&c.set(Q,Yp(r.subTree))};return nn(N),Pm(N),vr(()=>{c.forEach(X=>{const{subTree:W,suspense:he}=r,K=Yp(W);if(X.type===K.type&&X.key===K.key){Hp(K);const le=K.component.da;le&&js(le,he);return}B(X)})}),()=>{if(Q=null,!s.default)return null;const X=s.default(),W=X[0];if(X.length>1)return p=null,X;if(!Yo(W)||!(W.shapeFlag&4)&&!(W.shapeFlag&128))return p=null,W;let he=Yp(W);const K=he.type,le=Uv(sc(he)?he.type.__asyncResolved||{}:K),{include:G,exclude:oe,max:fe}=t;if(G&&(!le||!Xd(G,le))||oe&&le&&Xd(oe,le))return p=he,W;const pe=he.key==null?K:he.key,Te=c.get(pe);return he.el&&(he=Wa(he),W.shapeFlag&128&&(W.ssContent=he)),Q=pe,Te?(he.el=Te.el,he.component=Te.component,he.transition&&mc(he,he.transition),he.shapeFlag|=512,f.delete(pe),f.add(pe)):(f.add(pe),fe&&f.size>parseInt(fe,10)&&Y(f.values().next().value)),he.shapeFlag|=256,p=he,OS(W.type)?W:he}}},RF=OF;function Xd(t,s){return ki(t)?t.some(r=>Xd(r,s)):$n(t)?t.split(",").includes(s):C_(t)?t.test(s):!1}function A1(t,s){XS(t,"a",s)}function T1(t,s){XS(t,"da",s)}function XS(t,s,r=os){const l=t.__wdc||(t.__wdc=()=>{let c=r;for(;c;){if(c.isDeactivated)return;c=c.parent}return t()});if(Tm(s,l,r),r){let c=r.parent;for(;c&&c.parent;)r0(c.parent.vnode)&&BF(l,s,r,c),c=c.parent}}function BF(t,s,r,l){const c=Tm(s,t,l,!0);Mc(()=>{l1(l[s],c)},r)}function Hp(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Yp(t){return t.shapeFlag&128?t.ssContent:t}function Tm(t,s,r=os,l=!1){if(r){const c=r[t]||(r[t]=[]),f=s.__weh||(s.__weh=(...p)=>{if(r.isUnmounted)return;od(),dh(r);const x=pa(s,r,t,p);return rh(),ld(),x});return l?c.unshift(f):c.push(f),f}}const kl=t=>(s,r=os)=>(!zu||t==="sp")&&Tm(t,(...l)=>s(...l),r),a0=kl("bm"),nn=kl("m"),P1=kl("bu"),Pm=kl("u"),vr=kl("bum"),Mc=kl("um"),HS=kl("sp"),YS=kl("rtg"),US=kl("rtc");function WS(t,s=os){Tm("ec",t,s)}function ln(t,s){const r=Js;if(r===null)return t;const l=Mm(r)||r.proxy,c=t.dirs||(t.dirs=[]);for(let f=0;f<s.length;f++){let[p,x,w,P=Mn]=s[f];p&&(zi(p)&&(p={mounted:p,updated:p}),p.deep&&$h(x),c.push({dir:p,instance:l,value:x,oldValue:void 0,arg:w,modifiers:P}))}return t}function No(t,s,r,l){const c=t.dirs,f=s&&s.dirs;for(let p=0;p<c.length;p++){const x=c[p];f&&(x.oldValue=f[p].value);let w=x.dir[l];w&&(od(),pa(w,r,8,[t.el,x,t,s]),ld())}}const D1="components",VF="directives";function Ec(t,s){return E1(D1,t,!0,s)||t}const GS=Symbol();function M1(t){return $n(t)?E1(D1,t,!1)||t:t||GS}function Mr(t){return E1(VF,t)}function E1(t,s,r=!0,l=!1){const c=Js||os;if(c){const f=c.type;if(t===D1){const x=Uv(f,!1);if(x&&(x===s||x===ur(s)||x===Go(ur(s))))return f}const p=ew(c[t]||f[t],s)||ew(c.appContext[t],s);return!p&&l?f:p}}function ew(t,s){return t&&(t[s]||t[ur(s)]||t[Go(ur(s))])}function cd(t,s,r,l){let c;const f=r&&r[l];if(ki(t)||$n(t)){c=new Array(t.length);for(let p=0,x=t.length;p<x;p++)c[p]=s(t[p],p,void 0,f&&f[p])}else if(typeof t=="number"){c=new Array(t);for(let p=0;p<t;p++)c[p]=s(p+1,p,void 0,f&&f[p])}else if(On(t))if(t[Symbol.iterator])c=Array.from(t,(p,x)=>s(p,x,void 0,f&&f[x]));else{const p=Object.keys(t);c=new Array(p.length);for(let x=0,w=p.length;x<w;x++){const P=p[x];c[x]=s(t[P],P,x,f&&f[x])}}else c=[];return r&&(r[l]=c),c}function zF(t,s){for(let r=0;r<s.length;r++){const l=s[r];if(ki(l))for(let c=0;c<l.length;c++)t[l[c].name]=l[c].fn;else l&&(t[l.name]=l.key?(...c)=>{const f=l.fn(...c);return f&&(f.key=l.key),f}:l.fn)}return t}function XF(t,s,r={},l,c){if(Js.isCE||Js.parent&&sc(Js.parent)&&Js.parent.isCE)return s!=="default"&&(r.name=s),ae("slot",r,l&&l());let f=t[s];f&&f._c&&(f._d=!1),fi();const p=f&&jS(f(r)),x=In(bi,{key:r.key||p&&p.key||`_${s}`},p||(l?l():[]),p&&t._===1?64:-2);return!c&&x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),f&&f._c&&(f._d=!0),x}function jS(t){return t.some(s=>Yo(s)?!(s.type===dr||s.type===bi&&!jS(s.children)):!0)?t:null}function dg(t,s){const r={};for(const l in t)r[s&&/[A-Z]/.test(l)?`on:${l}`:qd(l)]=t[l];return r}const Iv=t=>t?uC(t)?Mm(t)||t.proxy:Iv(t.parent):null,Zd=us(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Iv(t.parent),$root:t=>Iv(t.root),$emit:t=>t.emit,$options:t=>_1(t),$forceUpdate:t=>t.f||(t.f=()=>km(t.update)),$nextTick:t=>t.n||(t.n=on.bind(t.proxy)),$watch:t=>NF.bind(t)}),Up=(t,s)=>t!==Mn&&!t.__isScriptSetup&&rn(t,s),Ov={get({_:t},s){const{ctx:r,setupState:l,data:c,props:f,accessCache:p,type:x,appContext:w}=t;let P;if(s[0]!=="$"){const B=p[s];if(B!==void 0)switch(B){case 1:return l[s];case 2:return c[s];case 4:return r[s];case 3:return f[s]}else{if(Up(l,s))return p[s]=1,l[s];if(c!==Mn&&rn(c,s))return p[s]=2,c[s];if((P=t.propsOptions[0])&&rn(P,s))return p[s]=3,f[s];if(r!==Mn&&rn(r,s))return p[s]=4,r[s];Rv&&(p[s]=0)}}const C=Zd[s];let F,L;if(C)return s==="$attrs"&&Kr(t,"get",s),C(t);if((F=x.__cssModules)&&(F=F[s]))return F;if(r!==Mn&&rn(r,s))return p[s]=4,r[s];if(L=w.config.globalProperties,rn(L,s))return L[s]},set({_:t},s,r){const{data:l,setupState:c,ctx:f}=t;return Up(c,s)?(c[s]=r,!0):l!==Mn&&rn(l,s)?(l[s]=r,!0):rn(t.props,s)||s[0]==="$"&&s.slice(1)in t?!1:(f[s]=r,!0)},has({_:{data:t,setupState:s,accessCache:r,ctx:l,appContext:c,propsOptions:f}},p){let x;return!!r[p]||t!==Mn&&rn(t,p)||Up(s,p)||(x=f[0])&&rn(x,p)||rn(l,p)||rn(Zd,p)||rn(c.config.globalProperties,p)},defineProperty(t,s,r){return r.get!=null?t._.accessCache[s]=0:rn(r,"value")&&this.set(t,s,r.value,null),Reflect.defineProperty(t,s,r)}},HF=us({},Ov,{get(t,s){if(s!==Symbol.unscopables)return Ov.get(t,s,t)},has(t,s){return s[0]!=="_"&&!d_(s)}});let Rv=!0;function YF(t){const s=_1(t),r=t.proxy,l=t.ctx;Rv=!1,s.beforeCreate&&tw(s.beforeCreate,t,"bc");const{data:c,computed:f,methods:p,watch:x,provide:w,inject:P,created:C,beforeMount:F,mounted:L,beforeUpdate:B,updated:U,activated:Y,deactivated:Q,beforeDestroy:N,beforeUnmount:X,destroyed:W,unmounted:he,render:K,renderTracked:le,renderTriggered:G,errorCaptured:oe,serverPrefetch:fe,expose:pe,inheritAttrs:Te,components:De,directives:Me,filters:He}=s;if(P&&UF(P,l,null,t.appContext.config.unwrapInjectedRef),p)for(const Ze in p){const ft=p[Ze];zi(ft)&&(l[Ze]=ft.bind(r))}if(c){const Ze=c.call(r,r);On(Ze)&&(t.data=ji(Ze))}if(Rv=!0,f)for(const Ze in f){const ft=f[Ze],Je=zi(ft)?ft.bind(r,r):zi(ft.get)?ft.get.bind(r,r):mo,dt=!zi(ft)&&zi(ft.set)?ft.set.bind(r):mo,at=_e({get:Je,set:dt});Object.defineProperty(l,Ze,{enumerable:!0,configurable:!0,get:()=>at.value,set:Ie=>at.value=Ie})}if(x)for(const Ze in x)$S(x[Ze],l,r,Ze);if(w){const Ze=zi(w)?w.call(r):w;Reflect.ownKeys(Ze).forEach(ft=>{Tn(ft,Ze[ft])})}C&&tw(C,t,"c");function tt(Ze,ft){ki(ft)?ft.forEach(Je=>Ze(Je.bind(r))):ft&&Ze(ft.bind(r))}if(tt(a0,F),tt(nn,L),tt(P1,B),tt(Pm,U),tt(A1,Y),tt(T1,Q),tt(WS,oe),tt(US,le),tt(YS,G),tt(vr,X),tt(Mc,he),tt(HS,fe),ki(pe))if(pe.length){const Ze=t.exposed||(t.exposed={});pe.forEach(ft=>{Object.defineProperty(Ze,ft,{get:()=>r[ft],set:Je=>r[ft]=Je})})}else t.exposed||(t.exposed={});K&&t.render===mo&&(t.render=K),Te!=null&&(t.inheritAttrs=Te),De&&(t.components=De),Me&&(t.directives=Me)}function UF(t,s,r=mo,l=!1){ki(t)&&(t=Bv(t));for(const c in t){const f=t[c];let p;On(f)?"default"in f?p=Hi(f.from||c,f.default,!0):p=Hi(f.from||c):p=Hi(f),jn(p)&&l?Object.defineProperty(s,c,{enumerable:!0,configurable:!0,get:()=>p.value,set:x=>p.value=x}):s[c]=p}}function tw(t,s,r){pa(ki(t)?t.map(l=>l.bind(s.proxy)):t.bind(s.proxy),s,r)}function $S(t,s,r,l){const c=l.includes(".")?VS(r,l):()=>r[l];if($n(t)){const f=s[t];zi(f)&&ui(c,f)}else if(zi(t))ui(c,t.bind(r));else if(On(t))if(ki(t))t.forEach(f=>$S(f,s,r,l));else{const f=zi(t.handler)?t.handler.bind(r):s[t.handler];zi(f)&&ui(c,f,t)}}function _1(t){const s=t.type,{mixins:r,extends:l}=s,{mixins:c,optionsCache:f,config:{optionMergeStrategies:p}}=t.appContext,x=f.get(s);let w;return x?w=x:!c.length&&!r&&!l?w=s:(w={},c.length&&c.forEach(P=>Mg(w,P,p,!0)),Mg(w,s,p)),On(s)&&f.set(s,w),w}function Mg(t,s,r,l=!1){const{mixins:c,extends:f}=s;f&&Mg(t,f,r,!0),c&&c.forEach(p=>Mg(t,p,r,!0));for(const p in s)if(!(l&&p==="expose")){const x=WF[p]||r&&r[p];t[p]=x?x(t[p],s[p]):s[p]}return t}const WF={data:iw,props:Yh,emits:Yh,methods:Yh,computed:Yh,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:Yh,directives:Yh,watch:jF,provide:iw,inject:GF};function iw(t,s){return s?t?function(){return us(zi(t)?t.call(this,this):t,zi(s)?s.call(this,this):s)}:s:t}function GF(t,s){return Yh(Bv(t),Bv(s))}function Bv(t){if(ki(t)){const s={};for(let r=0;r<t.length;r++)s[t[r]]=t[r];return s}return t}function Sr(t,s){return t?[...new Set([].concat(t,s))]:s}function Yh(t,s){return t?us(us(Object.create(null),t),s):s}function jF(t,s){if(!t)return s;if(!s)return t;const r=us(Object.create(null),t);for(const l in s)r[l]=Sr(t[l],s[l]);return r}function $F(t,s,r,l=!1){const c={},f={};Cg(f,Dm,1),t.propsDefaults=Object.create(null),KS(t,s,c,f);for(const p in t.propsOptions[0])p in c||(c[p]=void 0);r?t.props=l?c:DS(c):t.type.props?t.props=c:t.props=f,t.attrs=f}function KF(t,s,r,l){const{props:c,attrs:f,vnode:{patchFlag:p}}=t,x=Di(c),[w]=t.propsOptions;let P=!1;if((l||p>0)&&!(p&16)){if(p&8){const C=t.vnode.dynamicProps;for(let F=0;F<C.length;F++){let L=C[F];if(Sm(t.emitsOptions,L))continue;const B=s[L];if(w)if(rn(f,L))B!==f[L]&&(f[L]=B,P=!0);else{const U=ur(L);c[U]=Vv(w,x,U,B,t,!1)}else B!==f[L]&&(f[L]=B,P=!0)}}}else{KS(t,s,c,f)&&(P=!0);let C;for(const F in x)(!s||!rn(s,F)&&((C=Va(F))===F||!rn(s,C)))&&(w?r&&(r[F]!==void 0||r[C]!==void 0)&&(c[F]=Vv(w,x,F,void 0,t,!0)):delete c[F]);if(f!==x)for(const F in f)(!s||!rn(s,F))&&(delete f[F],P=!0)}P&&ml(t,"set","$attrs")}function KS(t,s,r,l){const[c,f]=t.propsOptions;let p=!1,x;if(s)for(let w in s){if(Kd(w))continue;const P=s[w];let C;c&&rn(c,C=ur(w))?!f||!f.includes(C)?r[C]=P:(x||(x={}))[C]=P:Sm(t.emitsOptions,w)||(!(w in l)||P!==l[w])&&(l[w]=P,p=!0)}if(f){const w=Di(r),P=x||Mn;for(let C=0;C<f.length;C++){const F=f[C];r[F]=Vv(c,w,F,P[F],t,!rn(P,F))}}return p}function Vv(t,s,r,l,c,f){const p=t[r];if(p!=null){const x=rn(p,"default");if(x&&l===void 0){const w=p.default;if(p.type!==Function&&zi(w)){const{propsDefaults:P}=c;r in P?l=P[r]:(dh(c),l=P[r]=w.call(null,s),rh())}else l=w}p[0]&&(f&&!x?l=!1:p[1]&&(l===""||l===Va(r))&&(l=!0))}return l}function qS(t,s,r=!1){const l=s.propsCache,c=l.get(t);if(c)return c;const f=t.props,p={},x=[];let w=!1;if(!zi(t)){const C=F=>{w=!0;const[L,B]=qS(F,s,!0);us(p,L),B&&x.push(...B)};!r&&s.mixins.length&&s.mixins.forEach(C),t.extends&&C(t.extends),t.mixins&&t.mixins.forEach(C)}if(!f&&!w)return On(t)&&l.set(t,Su),Su;if(ki(f))for(let C=0;C<f.length;C++){const F=ur(f[C]);nw(F)&&(p[F]=Mn)}else if(f)for(const C in f){const F=ur(C);if(nw(F)){const L=f[C],B=p[F]=ki(L)||zi(L)?{type:L}:Object.assign({},L);if(B){const U=aw(Boolean,B.type),Y=aw(String,B.type);B[0]=U>-1,B[1]=Y<0||U<Y,(U>-1||rn(B,"default"))&&x.push(F)}}}const P=[p,x];return On(t)&&l.set(t,P),P}function nw(t){return t[0]!=="$"}function sw(t){const s=t&&t.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:t===null?"null":""}function rw(t,s){return sw(t)===sw(s)}function aw(t,s){return ki(s)?s.findIndex(r=>rw(r,t)):zi(s)&&rw(s,t)?0:-1}const ZS=t=>t[0]==="_"||t==="$stable",F1=t=>ki(t)?t.map(aa):[aa(t)],qF=(t,s,r)=>{if(s._n)return s;const l=Ut((...c)=>F1(s(...c)),r);return l._c=!1,l},JS=(t,s,r)=>{const l=t._ctx;for(const c in t){if(ZS(c))continue;const f=t[c];if(zi(f))s[c]=qF(c,f,l);else if(f!=null){const p=F1(f);s[c]=()=>p}}},QS=(t,s)=>{const r=F1(s);t.slots.default=()=>r},ZF=(t,s)=>{if(t.vnode.shapeFlag&32){const r=s._;r?(t.slots=Di(s),Cg(s,"_",r)):JS(s,t.slots={})}else t.slots={},s&&QS(t,s);Cg(t.slots,Dm,1)},JF=(t,s,r)=>{const{vnode:l,slots:c}=t;let f=!0,p=Mn;if(l.shapeFlag&32){const x=s._;x?r&&x===1?f=!1:(us(c,s),!r&&x===1&&delete c._):(f=!s.$stable,JS(s,c)),p=s}else s&&(QS(t,s),p={default:1});if(f)for(const x in c)!ZS(x)&&!(x in p)&&delete c[x]};function eC(){return{app:null,config:{isNativeTag:w_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QF=0;function eN(t,s){return function(l,c=null){zi(l)||(l=Object.assign({},l)),c!=null&&!On(c)&&(c=null);const f=eC(),p=new Set;let x=!1;const w=f.app={_uid:QF++,_component:l,_props:c,_container:null,_context:f,_instance:null,version:yC,get config(){return f.config},set config(P){},use(P,...C){return p.has(P)||(P&&zi(P.install)?(p.add(P),P.install(w,...C)):zi(P)&&(p.add(P),P(w,...C))),w},mixin(P){return f.mixins.includes(P)||f.mixins.push(P),w},component(P,C){return C?(f.components[P]=C,w):f.components[P]},directive(P,C){return C?(f.directives[P]=C,w):f.directives[P]},mount(P,C,F){if(!x){const L=ae(l,c);return L.appContext=f,C&&s?s(L,P):t(L,P,F),x=!0,w._container=P,P.__vue_app__=w,Mm(L.component)||L.component.proxy}},unmount(){x&&(t(null,w._container),delete w._container.__vue_app__)},provide(P,C){return f.provides[P]=C,w}};return w}}function Eg(t,s,r,l,c=!1){if(ki(t)){t.forEach((L,B)=>Eg(L,s&&(ki(s)?s[B]:s),r,l,c));return}if(sc(l)&&!c)return;const f=l.shapeFlag&4?Mm(l.component)||l.component.proxy:l.el,p=c?null:f,{i:x,r:w}=t,P=s&&s.r,C=x.refs===Mn?x.refs={}:x.refs,F=x.setupState;if(P!=null&&P!==w&&($n(P)?(C[P]=null,rn(F,P)&&(F[P]=null)):jn(P)&&(P.value=null)),zi(w))cl(w,x,12,[p,C]);else{const L=$n(w),B=jn(w);if(L||B){const U=()=>{if(t.f){const Y=L?rn(F,w)?F[w]:C[w]:w.value;c?ki(Y)&&l1(Y,f):ki(Y)?Y.includes(f)||Y.push(f):L?(C[w]=[f],rn(F,w)&&(F[w]=C[w])):(w.value=[f],t.k&&(C[t.k]=w.value))}else L?(C[w]=p,rn(F,w)&&(F[w]=p)):B&&(w.value=p,t.k&&(C[t.k]=p))};p?(U.id=-1,js(U,r)):U()}}}let Wl=!1;const z0=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",X0=t=>t.nodeType===8;function tN(t){const{mt:s,p:r,o:{patchProp:l,createText:c,nextSibling:f,parentNode:p,remove:x,insert:w,createComment:P}}=t,C=(N,X)=>{if(!X.hasChildNodes()){r(null,N,X),Dg(),X._vnode=N;return}Wl=!1,F(X.firstChild,N,null,null,null),Dg(),X._vnode=N,Wl&&console.error("Hydration completed but contains mismatches.")},F=(N,X,W,he,K,le=!1)=>{const G=X0(N)&&N.data==="[",oe=()=>Y(N,X,W,he,K,G),{type:fe,ref:pe,shapeFlag:Te,patchFlag:De}=X;let Me=N.nodeType;X.el=N,De===-2&&(le=!1,X.dynamicChildren=null);let He=null;switch(fe){case uh:Me!==3?X.children===""?(w(X.el=c(""),p(N),N),He=N):He=oe():(N.data!==X.children&&(Wl=!0,N.data=X.children),He=f(N));break;case dr:Me!==8||G?He=oe():He=f(N);break;case rc:if(G&&(N=f(N),Me=N.nodeType),Me===1||Me===3){He=N;const je=!X.children.length;for(let tt=0;tt<X.staticCount;tt++)je&&(X.children+=He.nodeType===1?He.outerHTML:He.data),tt===X.staticCount-1&&(X.anchor=He),He=f(He);return G?f(He):He}else oe();break;case bi:G?He=U(N,X,W,he,K,le):He=oe();break;default:if(Te&1)Me!==1||X.type.toLowerCase()!==N.tagName.toLowerCase()?He=oe():He=L(N,X,W,he,K,le);else if(Te&6){X.slotScopeIds=K;const je=p(N);if(s(X,je,null,W,he,z0(je),le),He=G?Q(N):f(N),He&&X0(He)&&He.data==="teleport end"&&(He=f(He)),sc(X)){let tt;G?(tt=ae(bi),tt.anchor=He?He.previousSibling:je.lastChild):tt=N.nodeType===3?pi(""):ae("div"),tt.el=N,X.component.subTree=tt}}else Te&64?Me!==8?He=oe():He=X.type.hydrate(N,X,W,he,K,le,t,B):Te&128&&(He=X.type.hydrate(N,X,W,he,z0(p(N)),K,le,t,F))}return pe!=null&&Eg(pe,null,he,X),He},L=(N,X,W,he,K,le)=>{le=le||!!X.dynamicChildren;const{type:G,props:oe,patchFlag:fe,shapeFlag:pe,dirs:Te}=X,De=G==="input"&&Te||G==="option";if(De||fe!==-1){if(Te&&No(X,null,W,"created"),oe)if(De||!le||fe&48)for(const He in oe)(De&&He.endsWith("value")||i0(He)&&!Kd(He))&&l(N,He,null,oe[He],!1,void 0,W);else oe.onClick&&l(N,"onClick",null,oe.onClick,!1,void 0,W);let Me;if((Me=oe&&oe.onVnodeBeforeMount)&&zr(Me,W,X),Te&&No(X,null,W,"beforeMount"),((Me=oe&&oe.onVnodeMounted)||Te)&&RS(()=>{Me&&zr(Me,W,X),Te&&No(X,null,W,"mounted")},he),pe&16&&!(oe&&(oe.innerHTML||oe.textContent))){let He=B(N.firstChild,X,N,W,he,K,le);for(;He;){Wl=!0;const je=He;He=He.nextSibling,x(je)}}else pe&8&&N.textContent!==X.children&&(Wl=!0,N.textContent=X.children)}return N.nextSibling},B=(N,X,W,he,K,le,G)=>{G=G||!!X.dynamicChildren;const oe=X.children,fe=oe.length;for(let pe=0;pe<fe;pe++){const Te=G?oe[pe]:oe[pe]=aa(oe[pe]);if(N)N=F(N,Te,he,K,le,G);else{if(Te.type===uh&&!Te.children)continue;Wl=!0,r(null,Te,W,null,he,K,z0(W),le)}}return N},U=(N,X,W,he,K,le)=>{const{slotScopeIds:G}=X;G&&(K=K?K.concat(G):G);const oe=p(N),fe=B(f(N),X,oe,W,he,K,le);return fe&&X0(fe)&&fe.data==="]"?f(X.anchor=fe):(Wl=!0,w(X.anchor=P("]"),oe,fe),fe)},Y=(N,X,W,he,K,le)=>{if(Wl=!0,X.el=null,le){const fe=Q(N);for(;;){const pe=f(N);if(pe&&pe!==fe)x(pe);else break}}const G=f(N),oe=p(N);return x(N),r(null,X,oe,G,W,he,z0(oe),K),G},Q=N=>{let X=0;for(;N;)if(N=f(N),N&&X0(N)&&(N.data==="["&&X++,N.data==="]")){if(X===0)return f(N);X--}return N};return[C,F]}const js=RS;function tC(t){return nC(t)}function iC(t){return nC(t,tN)}function nC(t,s){const r=D_();r.__VUE__=!0;const{insert:l,remove:c,patchProp:f,createElement:p,createText:x,createComment:w,setText:P,setElementText:C,parentNode:F,nextSibling:L,setScopeId:B=mo,insertStaticContent:U}=t,Y=(ve,et,ut,xt=null,wt=null,gt=null,Ht=!1,_t=null,Wt=!!et.dynamicChildren)=>{if(ve===et)return;ve&&!co(ve,et)&&(xt=st(ve),Ie(ve,wt,gt,!0),ve=null),et.patchFlag===-2&&(Wt=!1,et.dynamicChildren=null);const{type:Rt,ref:vi,shapeFlag:di}=et;switch(Rt){case uh:Q(ve,et,ut,xt);break;case dr:N(ve,et,ut,xt);break;case rc:ve==null&&X(et,ut,xt,Ht);break;case bi:De(ve,et,ut,xt,wt,gt,Ht,_t,Wt);break;default:di&1?K(ve,et,ut,xt,wt,gt,Ht,_t,Wt):di&6?Me(ve,et,ut,xt,wt,gt,Ht,_t,Wt):(di&64||di&128)&&Rt.process(ve,et,ut,xt,wt,gt,Ht,_t,Wt,vt)}vi!=null&&wt&&Eg(vi,ve&&ve.ref,gt,et||ve,!et)},Q=(ve,et,ut,xt)=>{if(ve==null)l(et.el=x(et.children),ut,xt);else{const wt=et.el=ve.el;et.children!==ve.children&&P(wt,et.children)}},N=(ve,et,ut,xt)=>{ve==null?l(et.el=w(et.children||""),ut,xt):et.el=ve.el},X=(ve,et,ut,xt)=>{[ve.el,ve.anchor]=U(ve.children,et,ut,xt,ve.el,ve.anchor)},W=({el:ve,anchor:et},ut,xt)=>{let wt;for(;ve&&ve!==et;)wt=L(ve),l(ve,ut,xt),ve=wt;l(et,ut,xt)},he=({el:ve,anchor:et})=>{let ut;for(;ve&&ve!==et;)ut=L(ve),c(ve),ve=ut;c(et)},K=(ve,et,ut,xt,wt,gt,Ht,_t,Wt)=>{Ht=Ht||et.type==="svg",ve==null?le(et,ut,xt,wt,gt,Ht,_t,Wt):fe(ve,et,wt,gt,Ht,_t,Wt)},le=(ve,et,ut,xt,wt,gt,Ht,_t)=>{let Wt,Rt;const{type:vi,props:di,shapeFlag:ei,transition:Si,dirs:mi}=ve;if(Wt=ve.el=p(ve.type,gt,di&&di.is,di),ei&8?C(Wt,ve.children):ei&16&&oe(ve.children,Wt,null,xt,wt,gt&&vi!=="foreignObject",Ht,_t),mi&&No(ve,null,xt,"created"),G(Wt,ve,ve.scopeId,Ht,xt),di){for(const _i in di)_i!=="value"&&!Kd(_i)&&f(Wt,_i,null,di[_i],gt,ve.children,xt,wt,Ye);"value"in di&&f(Wt,"value",null,di.value),(Rt=di.onVnodeBeforeMount)&&zr(Rt,xt,ve)}mi&&No(ve,null,xt,"beforeMount");const Oi=(!wt||wt&&!wt.pendingBranch)&&Si&&!Si.persisted;Oi&&Si.beforeEnter(Wt),l(Wt,et,ut),((Rt=di&&di.onVnodeMounted)||Oi||mi)&&js(()=>{Rt&&zr(Rt,xt,ve),Oi&&Si.enter(Wt),mi&&No(ve,null,xt,"mounted")},wt)},G=(ve,et,ut,xt,wt)=>{if(ut&&B(ve,ut),xt)for(let gt=0;gt<xt.length;gt++)B(ve,xt[gt]);if(wt){let gt=wt.subTree;if(et===gt){const Ht=wt.vnode;G(ve,Ht,Ht.scopeId,Ht.slotScopeIds,wt.parent)}}},oe=(ve,et,ut,xt,wt,gt,Ht,_t,Wt=0)=>{for(let Rt=Wt;Rt<ve.length;Rt++){const vi=ve[Rt]=_t?ql(ve[Rt]):aa(ve[Rt]);Y(null,vi,et,ut,xt,wt,gt,Ht,_t)}},fe=(ve,et,ut,xt,wt,gt,Ht)=>{const _t=et.el=ve.el;let{patchFlag:Wt,dynamicChildren:Rt,dirs:vi}=et;Wt|=ve.patchFlag&16;const di=ve.props||Mn,ei=et.props||Mn;let Si;ut&&Oh(ut,!1),(Si=ei.onVnodeBeforeUpdate)&&zr(Si,ut,et,ve),vi&&No(et,ve,ut,"beforeUpdate"),ut&&Oh(ut,!0);const mi=wt&&et.type!=="foreignObject";if(Rt?pe(ve.dynamicChildren,Rt,_t,ut,xt,mi,gt):Ht||ft(ve,et,_t,null,ut,xt,mi,gt,!1),Wt>0){if(Wt&16)Te(_t,et,di,ei,ut,xt,wt);else if(Wt&2&&di.class!==ei.class&&f(_t,"class",null,ei.class,wt),Wt&4&&f(_t,"style",di.style,ei.style,wt),Wt&8){const Oi=et.dynamicProps;for(let _i=0;_i<Oi.length;_i++){const Ji=Oi[_i],wi=di[Ji],Ri=ei[Ji];(Ri!==wi||Ji==="value")&&f(_t,Ji,wi,Ri,wt,ve.children,ut,xt,Ye)}}Wt&1&&ve.children!==et.children&&C(_t,et.children)}else!Ht&&Rt==null&&Te(_t,et,di,ei,ut,xt,wt);((Si=ei.onVnodeUpdated)||vi)&&js(()=>{Si&&zr(Si,ut,et,ve),vi&&No(et,ve,ut,"updated")},xt)},pe=(ve,et,ut,xt,wt,gt,Ht)=>{for(let _t=0;_t<et.length;_t++){const Wt=ve[_t],Rt=et[_t],vi=Wt.el&&(Wt.type===bi||!co(Wt,Rt)||Wt.shapeFlag&70)?F(Wt.el):ut;Y(Wt,Rt,vi,null,xt,wt,gt,Ht,!0)}},Te=(ve,et,ut,xt,wt,gt,Ht)=>{if(ut!==xt){if(ut!==Mn)for(const _t in ut)!Kd(_t)&&!(_t in xt)&&f(ve,_t,ut[_t],null,Ht,et.children,wt,gt,Ye);for(const _t in xt){if(Kd(_t))continue;const Wt=xt[_t],Rt=ut[_t];Wt!==Rt&&_t!=="value"&&f(ve,_t,Rt,Wt,Ht,et.children,wt,gt,Ye)}"value"in xt&&f(ve,"value",ut.value,xt.value)}},De=(ve,et,ut,xt,wt,gt,Ht,_t,Wt)=>{const Rt=et.el=ve?ve.el:x(""),vi=et.anchor=ve?ve.anchor:x("");let{patchFlag:di,dynamicChildren:ei,slotScopeIds:Si}=et;Si&&(_t=_t?_t.concat(Si):Si),ve==null?(l(Rt,ut,xt),l(vi,ut,xt),oe(et.children,ut,vi,wt,gt,Ht,_t,Wt)):di>0&&di&64&&ei&&ve.dynamicChildren?(pe(ve.dynamicChildren,ei,ut,wt,gt,Ht,_t),(et.key!=null||wt&&et===wt.subTree)&&N1(ve,et,!0)):ft(ve,et,ut,vi,wt,gt,Ht,_t,Wt)},Me=(ve,et,ut,xt,wt,gt,Ht,_t,Wt)=>{et.slotScopeIds=_t,ve==null?et.shapeFlag&512?wt.ctx.activate(et,ut,xt,Ht,Wt):He(et,ut,xt,wt,gt,Ht,Wt):je(ve,et,Wt)},He=(ve,et,ut,xt,wt,gt,Ht)=>{const _t=ve.component=cC(ve,xt,wt);if(r0(ve)&&(_t.ctx.renderer=vt),dC(_t),_t.asyncDep){if(wt&&wt.registerDep(_t,tt),!ve.el){const Wt=_t.subTree=ae(dr);N(null,Wt,et,ut)}return}tt(_t,ve,et,ut,wt,gt,Ht)},je=(ve,et,ut)=>{const xt=et.component=ve.component;if(AF(ve,et,ut))if(xt.asyncDep&&!xt.asyncResolved){Ze(xt,et,ut);return}else xt.next=et,xF(xt.update),xt.update();else et.el=ve.el,xt.vnode=et},tt=(ve,et,ut,xt,wt,gt,Ht)=>{const _t=()=>{if(ve.isMounted){let{next:vi,bu:di,u:ei,parent:Si,vnode:mi}=ve,Oi=vi,_i;Oh(ve,!1),vi?(vi.el=mi.el,Ze(ve,vi,Ht)):vi=mi,di&&Au(di),(_i=vi.props&&vi.props.onVnodeBeforeUpdate)&&zr(_i,Si,vi,mi),Oh(ve,!0);const Ji=ug(ve),wi=ve.subTree;ve.subTree=Ji,Y(wi,Ji,F(wi.el),st(wi),ve,wt,gt),vi.el=Ji.el,Oi===null&&w1(ve,Ji.el),ei&&js(ei,wt),(_i=vi.props&&vi.props.onVnodeUpdated)&&js(()=>zr(_i,Si,vi,mi),wt)}else{let vi;const{el:di,props:ei}=et,{bm:Si,m:mi,parent:Oi}=ve,_i=sc(et);if(Oh(ve,!1),Si&&Au(Si),!_i&&(vi=ei&&ei.onVnodeBeforeMount)&&zr(vi,Oi,et),Oh(ve,!0),di&&Kt){const Ji=()=>{ve.subTree=ug(ve),Kt(di,ve.subTree,ve,wt,null)};_i?et.type.__asyncLoader().then(()=>!ve.isUnmounted&&Ji()):Ji()}else{const Ji=ve.subTree=ug(ve);Y(null,Ji,ut,xt,ve,wt,gt),et.el=Ji.el}if(mi&&js(mi,wt),!_i&&(vi=ei&&ei.onVnodeMounted)){const Ji=et;js(()=>zr(vi,Oi,Ji),wt)}(et.shapeFlag&256||Oi&&sc(Oi.vnode)&&Oi.vnode.shapeFlag&256)&&ve.a&&js(ve.a,wt),ve.isMounted=!0,et=ut=xt=null}},Wt=ve.effect=new n0(_t,()=>km(Rt),ve.scope),Rt=ve.update=()=>Wt.run();Rt.id=ve.uid,Oh(ve,!0),Rt()},Ze=(ve,et,ut)=>{et.component=ve;const xt=ve.vnode.props;ve.vnode=et,ve.next=null,KF(ve,et.props,xt,ut),JF(ve,et.children,ut),od(),qb(),ld()},ft=(ve,et,ut,xt,wt,gt,Ht,_t,Wt=!1)=>{const Rt=ve&&ve.children,vi=ve?ve.shapeFlag:0,di=et.children,{patchFlag:ei,shapeFlag:Si}=et;if(ei>0){if(ei&128){dt(Rt,di,ut,xt,wt,gt,Ht,_t,Wt);return}else if(ei&256){Je(Rt,di,ut,xt,wt,gt,Ht,_t,Wt);return}}Si&8?(vi&16&&Ye(Rt,wt,gt),di!==Rt&&C(ut,di)):vi&16?Si&16?dt(Rt,di,ut,xt,wt,gt,Ht,_t,Wt):Ye(Rt,wt,gt,!0):(vi&8&&C(ut,""),Si&16&&oe(di,ut,xt,wt,gt,Ht,_t,Wt))},Je=(ve,et,ut,xt,wt,gt,Ht,_t,Wt)=>{ve=ve||Su,et=et||Su;const Rt=ve.length,vi=et.length,di=Math.min(Rt,vi);let ei;for(ei=0;ei<di;ei++){const Si=et[ei]=Wt?ql(et[ei]):aa(et[ei]);Y(ve[ei],Si,ut,null,wt,gt,Ht,_t,Wt)}Rt>vi?Ye(ve,wt,gt,!0,!1,di):oe(et,ut,xt,wt,gt,Ht,_t,Wt,di)},dt=(ve,et,ut,xt,wt,gt,Ht,_t,Wt)=>{let Rt=0;const vi=et.length;let di=ve.length-1,ei=vi-1;for(;Rt<=di&&Rt<=ei;){const Si=ve[Rt],mi=et[Rt]=Wt?ql(et[Rt]):aa(et[Rt]);if(co(Si,mi))Y(Si,mi,ut,null,wt,gt,Ht,_t,Wt);else break;Rt++}for(;Rt<=di&&Rt<=ei;){const Si=ve[di],mi=et[ei]=Wt?ql(et[ei]):aa(et[ei]);if(co(Si,mi))Y(Si,mi,ut,null,wt,gt,Ht,_t,Wt);else break;di--,ei--}if(Rt>di){if(Rt<=ei){const Si=ei+1,mi=Si<vi?et[Si].el:xt;for(;Rt<=ei;)Y(null,et[Rt]=Wt?ql(et[Rt]):aa(et[Rt]),ut,mi,wt,gt,Ht,_t,Wt),Rt++}}else if(Rt>ei)for(;Rt<=di;)Ie(ve[Rt],wt,gt,!0),Rt++;else{const Si=Rt,mi=Rt,Oi=new Map;for(Rt=mi;Rt<=ei;Rt++){const ps=et[Rt]=Wt?ql(et[Rt]):aa(et[Rt]);ps.key!=null&&Oi.set(ps.key,Rt)}let _i,Ji=0;const wi=ei-mi+1;let Ri=!1,ms=0;const fn=new Array(wi);for(Rt=0;Rt<wi;Rt++)fn[Rt]=0;for(Rt=Si;Rt<=di;Rt++){const ps=ve[Rt];if(Ji>=wi){Ie(ps,wt,gt,!0);continue}let Ft;if(ps.key!=null)Ft=Oi.get(ps.key);else for(_i=mi;_i<=ei;_i++)if(fn[_i-mi]===0&&co(ps,et[_i])){Ft=_i;break}Ft===void 0?Ie(ps,wt,gt,!0):(fn[Ft-mi]=Rt+1,Ft>=ms?ms=Ft:Ri=!0,Y(ps,et[Ft],ut,null,wt,gt,Ht,_t,Wt),Ji++)}const kr=Ri?iN(fn):Su;for(_i=kr.length-1,Rt=wi-1;Rt>=0;Rt--){const ps=mi+Rt,Ft=et[ps],Zo=ps+1<vi?et[ps+1].el:xt;fn[Rt]===0?Y(null,Ft,ut,Zo,wt,gt,Ht,_t,Wt):Ri&&(_i<0||Rt!==kr[_i]?at(Ft,ut,Zo,2):_i--)}}},at=(ve,et,ut,xt,wt=null)=>{const{el:gt,type:Ht,transition:_t,children:Wt,shapeFlag:Rt}=ve;if(Rt&6){at(ve.component.subTree,et,ut,xt);return}if(Rt&128){ve.suspense.move(et,ut,xt);return}if(Rt&64){Ht.move(ve,et,ut,vt);return}if(Ht===bi){l(gt,et,ut);for(let di=0;di<Wt.length;di++)at(Wt[di],et,ut,xt);l(ve.anchor,et,ut);return}if(Ht===rc){W(ve,et,ut);return}if(xt!==2&&Rt&1&&_t)if(xt===0)_t.beforeEnter(gt),l(gt,et,ut),js(()=>_t.enter(gt),wt);else{const{leave:di,delayLeave:ei,afterLeave:Si}=_t,mi=()=>l(gt,et,ut),Oi=()=>{di(gt,()=>{mi(),Si&&Si()})};ei?ei(gt,mi,Oi):Oi()}else l(gt,et,ut)},Ie=(ve,et,ut,xt=!1,wt=!1)=>{const{type:gt,props:Ht,ref:_t,children:Wt,dynamicChildren:Rt,shapeFlag:vi,patchFlag:di,dirs:ei}=ve;if(_t!=null&&Eg(_t,null,ut,ve,!0),vi&256){et.ctx.deactivate(ve);return}const Si=vi&1&&ei,mi=!sc(ve);let Oi;if(mi&&(Oi=Ht&&Ht.onVnodeBeforeUnmount)&&zr(Oi,et,ve),vi&6)Ae(ve.component,ut,xt);else{if(vi&128){ve.suspense.unmount(ut,xt);return}Si&&No(ve,null,et,"beforeUnmount"),vi&64?ve.type.remove(ve,et,ut,wt,vt,xt):Rt&&(gt!==bi||di>0&&di&64)?Ye(Rt,et,ut,!1,!0):(gt===bi&&di&384||!wt&&vi&16)&&Ye(Wt,et,ut),xt&&qe(ve)}(mi&&(Oi=Ht&&Ht.onVnodeUnmounted)||Si)&&js(()=>{Oi&&zr(Oi,et,ve),Si&&No(ve,null,et,"unmounted")},ut)},qe=ve=>{const{type:et,el:ut,anchor:xt,transition:wt}=ve;if(et===bi){Ue(ut,xt);return}if(et===rc){he(ve);return}const gt=()=>{c(ut),wt&&!wt.persisted&&wt.afterLeave&&wt.afterLeave()};if(ve.shapeFlag&1&&wt&&!wt.persisted){const{leave:Ht,delayLeave:_t}=wt,Wt=()=>Ht(ut,gt);_t?_t(ve.el,gt,Wt):Wt()}else gt()},Ue=(ve,et)=>{let ut;for(;ve!==et;)ut=L(ve),c(ve),ve=ut;c(et)},Ae=(ve,et,ut)=>{const{bum:xt,scope:wt,update:gt,subTree:Ht,um:_t}=ve;xt&&Au(xt),wt.stop(),gt&&(gt.active=!1,Ie(Ht,ve,et,ut)),_t&&js(_t,et),js(()=>{ve.isUnmounted=!0},et),et&&et.pendingBranch&&!et.isUnmounted&&ve.asyncDep&&!ve.asyncResolved&&ve.suspenseId===et.pendingId&&(et.deps--,et.deps===0&&et.resolve())},Ye=(ve,et,ut,xt=!1,wt=!1,gt=0)=>{for(let Ht=gt;Ht<ve.length;Ht++)Ie(ve[Ht],et,ut,xt,wt)},st=ve=>ve.shapeFlag&6?st(ve.component.subTree):ve.shapeFlag&128?ve.suspense.next():L(ve.anchor||ve.el),ht=(ve,et,ut)=>{ve==null?et._vnode&&Ie(et._vnode,null,null,!0):Y(et._vnode||null,ve,et,null,null,null,ut),qb(),Dg(),et._vnode=ve},vt={p:Y,um:Ie,m:at,r:qe,mt:He,mc:oe,pc:ft,pbc:pe,n:st,o:t};let kt,Kt;return s&&([kt,Kt]=s(vt)),{render:ht,hydrate:kt,createApp:eN(ht,kt)}}function Oh({effect:t,update:s},r){t.allowRecurse=s.allowRecurse=r}function N1(t,s,r=!1){const l=t.children,c=s.children;if(ki(l)&&ki(c))for(let f=0;f<l.length;f++){const p=l[f];let x=c[f];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=c[f]=ql(c[f]),x.el=p.el),r||N1(p,x)),x.type===uh&&(x.el=p.el)}}function iN(t){const s=t.slice(),r=[0];let l,c,f,p,x;const w=t.length;for(l=0;l<w;l++){const P=t[l];if(P!==0){if(c=r[r.length-1],t[c]<P){s[l]=c,r.push(l);continue}for(f=0,p=r.length-1;f<p;)x=f+p>>1,t[r[x]]<P?f=x+1:p=x;P<t[r[f]]&&(f>0&&(s[l]=r[f-1]),r[f]=l)}}for(f=r.length,p=r[f-1];f-- >0;)r[f]=p,p=s[p];return r}const nN=t=>t.__isTeleport,Jd=t=>t&&(t.disabled||t.disabled===""),ow=t=>typeof SVGElement<"u"&&t instanceof SVGElement,zv=(t,s)=>{const r=t&&t.to;return $n(r)?s?s(r):null:r},sN={__isTeleport:!0,process(t,s,r,l,c,f,p,x,w,P){const{mc:C,pc:F,pbc:L,o:{insert:B,querySelector:U,createText:Y,createComment:Q}}=P,N=Jd(s.props);let{shapeFlag:X,children:W,dynamicChildren:he}=s;if(t==null){const K=s.el=Y(""),le=s.anchor=Y("");B(K,r,l),B(le,r,l);const G=s.target=zv(s.props,U),oe=s.targetAnchor=Y("");G&&(B(oe,G),p=p||ow(G));const fe=(pe,Te)=>{X&16&&C(W,pe,Te,c,f,p,x,w)};N?fe(r,le):G&&fe(G,oe)}else{s.el=t.el;const K=s.anchor=t.anchor,le=s.target=t.target,G=s.targetAnchor=t.targetAnchor,oe=Jd(t.props),fe=oe?r:le,pe=oe?K:G;if(p=p||ow(le),he?(L(t.dynamicChildren,he,fe,c,f,p,x),N1(t,s,!0)):w||F(t,s,fe,pe,c,f,p,x,!1),N)oe||H0(s,r,K,P,1);else if((s.props&&s.props.to)!==(t.props&&t.props.to)){const Te=s.target=zv(s.props,U);Te&&H0(s,Te,null,P,0)}else oe&&H0(s,le,G,P,1)}rC(s)},remove(t,s,r,l,{um:c,o:{remove:f}},p){const{shapeFlag:x,children:w,anchor:P,targetAnchor:C,target:F,props:L}=t;if(F&&f(C),(p||!Jd(L))&&(f(P),x&16))for(let B=0;B<w.length;B++){const U=w[B];c(U,s,r,!0,!!U.dynamicChildren)}},move:H0,hydrate:rN};function H0(t,s,r,{o:{insert:l},m:c},f=2){f===0&&l(t.targetAnchor,s,r);const{el:p,anchor:x,shapeFlag:w,children:P,props:C}=t,F=f===2;if(F&&l(p,s,r),(!F||Jd(C))&&w&16)for(let L=0;L<P.length;L++)c(P[L],s,r,2);F&&l(x,s,r)}function rN(t,s,r,l,c,f,{o:{nextSibling:p,parentNode:x,querySelector:w}},P){const C=s.target=zv(s.props,w);if(C){const F=C._lpa||C.firstChild;if(s.shapeFlag&16)if(Jd(s.props))s.anchor=P(p(t),s,x(t),r,l,c,f),s.targetAnchor=F;else{s.anchor=p(t);let L=F;for(;L;)if(L=p(L),L&&L.nodeType===8&&L.data==="teleport anchor"){s.targetAnchor=L,C._lpa=s.targetAnchor&&p(s.targetAnchor);break}P(F,s,C,r,l,c,f)}rC(s)}return s.anchor&&p(s.anchor)}const sC=sN;function rC(t){const s=t.ctx;if(s&&s.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}const bi=Symbol(void 0),uh=Symbol(void 0),dr=Symbol(void 0),rc=Symbol(void 0),Qd=[];let Yr=null;function fi(t=!1){Qd.push(Yr=t?null:[])}function aC(){Qd.pop(),Yr=Qd[Qd.length-1]||null}let pc=1;function Xv(t){pc+=t}function oC(t){return t.dynamicChildren=pc>0?Yr||Su:null,aC(),pc>0&&Yr&&Yr.push(t),t}function Gi(t,s,r,l,c,f){return oC(pt(t,s,r,l,c,f,!0))}function In(t,s,r,l,c){return oC(ae(t,s,r,l,c,!0))}function Yo(t){return t?t.__v_isVNode===!0:!1}function co(t,s){return t.type===s.type&&t.key===s.key}function aN(t){}const Dm="__vInternal",lC=({key:t})=>t??null,fg=({ref:t,ref_key:s,ref_for:r})=>t!=null?$n(t)||jn(t)||zi(t)?{i:Js,r:t,k:s,f:!!r}:t:null;function pt(t,s=null,r=null,l=0,c=null,f=t===bi?0:1,p=!1,x=!1){const w={__v_isVNode:!0,__v_skip:!0,type:t,props:s,key:s&&lC(s),ref:s&&fg(s),scopeId:Cm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:l,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Js};return x?(L1(w,r),f&128&&t.normalize(w)):r&&(w.shapeFlag|=$n(r)?8:16),pc>0&&!p&&Yr&&(w.patchFlag>0||f&6)&&w.patchFlag!==32&&Yr.push(w),w}const ae=oN;function oN(t,s=null,r=null,l=0,c=null,f=!1){if((!t||t===GS)&&(t=dr),Yo(t)){const x=Wa(t,s,!0);return r&&L1(x,r),pc>0&&!f&&Yr&&(x.shapeFlag&6?Yr[Yr.indexOf(t)]=x:Yr.push(x)),x.patchFlag|=-2,x}if(gN(t)&&(t=t.__vccOpts),s){s=hC(s);let{class:x,style:w}=s;x&&!$n(x)&&(s.class=Rn(x)),On(w)&&(g1(w)&&!ki(w)&&(w=us({},w)),s.style=Tc(w))}const p=$n(t)?1:OS(t)?128:nN(t)?64:On(t)?4:zi(t)?2:0;return pt(t,s,r,l,c,p,f,!0)}function hC(t){return t?g1(t)||Dm in t?us({},t):t:null}function Wa(t,s,r=!1){const{props:l,ref:c,patchFlag:f,children:p}=t,x=s?ai(l||{},s):l;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&lC(x),ref:s&&s.ref?r&&c?ki(c)?c.concat(fg(s)):[c,fg(s)]:fg(s):c,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:p,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:s&&t.type!==bi?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wa(t.ssContent),ssFallback:t.ssFallback&&Wa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function pi(t=" ",s=0){return ae(uh,null,t,s)}function _c(t,s){const r=ae(rc,null,t);return r.staticCount=s,r}function zn(t="",s=!1){return s?(fi(),In(dr,null,t)):ae(dr,null,t)}function aa(t){return t==null||typeof t=="boolean"?ae(dr):ki(t)?ae(bi,null,t.slice()):typeof t=="object"?ql(t):ae(uh,null,String(t))}function ql(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wa(t)}function L1(t,s){let r=0;const{shapeFlag:l}=t;if(s==null)s=null;else if(ki(s))r=16;else if(typeof s=="object")if(l&65){const c=s.default;c&&(c._c&&(c._d=!1),L1(t,c()),c._c&&(c._d=!0));return}else{r=32;const c=s._;!c&&!(Dm in s)?s._ctx=Js:c===3&&Js&&(Js.slots._===1?s._=1:(s._=2,t.patchFlag|=1024))}else zi(s)?(s={default:s,_ctx:Js},r=32):(s=String(s),l&64?(r=16,s=[pi(s)]):r=8);t.children=s,t.shapeFlag|=r}function ai(...t){const s={};for(let r=0;r<t.length;r++){const l=t[r];for(const c in l)if(c==="class")s.class!==l.class&&(s.class=Rn([s.class,l.class]));else if(c==="style")s.style=Tc([s.style,l.style]);else if(i0(c)){const f=s[c],p=l[c];p&&f!==p&&!(ki(f)&&f.includes(p))&&(s[c]=f?[].concat(f,p):p)}else c!==""&&(s[c]=l[c])}return s}function zr(t,s,r,l=null){pa(t,s,7,[r,l])}const lN=eC();let hN=0;function cC(t,s,r){const l=t.type,c=(s?s.appContext:t.appContext)||lN,f={uid:hN++,vnode:t,type:l,parent:s,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new u1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qS(l,c),emitsOptions:IS(l,c),emit:null,emitted:null,propsDefaults:Mn,inheritAttrs:l.inheritAttrs,ctx:Mn,data:Mn,props:Mn,attrs:Mn,slots:Mn,refs:Mn,setupState:Mn,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=s?s.root:f,f.emit=bF.bind(null,f),t.ce&&t.ce(f),f}let os=null;const jo=()=>os||Js,dh=t=>{os=t,t.scope.on()},rh=()=>{os&&os.scope.off(),os=null};function uC(t){return t.vnode.shapeFlag&4}let zu=!1;function dC(t,s=!1){zu=s;const{props:r,children:l}=t.vnode,c=uC(t);$F(t,r,c,s),ZF(t,l);const f=c?cN(t,s):void 0;return zu=!1,f}function cN(t,s){const r=t.type;t.accessCache=Object.create(null),t.proxy=m1(new Proxy(t.ctx,Ov));const{setup:l}=r;if(l){const c=t.setupContext=l.length>1?gC(t):null;dh(t),od();const f=cl(l,t,0,[t.props,c]);if(ld(),rh(),h1(f)){if(f.then(rh,rh),s)return f.then(p=>{Hv(t,p,s)}).catch(p=>{Dc(p,t,0)});t.asyncDep=f}else Hv(t,f,s)}else fC(t,s)}function Hv(t,s,r){zi(s)?t.type.__ssrInlineRender?t.ssrRender=s:t.render=s:On(s)&&(t.setupState=x1(s)),fC(t,r)}let _g,Yv;function uN(t){_g=t,Yv=s=>{s.render._rc&&(s.withProxy=new Proxy(s.ctx,HF))}}const dN=()=>!_g;function fC(t,s,r){const l=t.type;if(!t.render){if(!s&&_g&&!l.render){const c=l.template||_1(t).template;if(c){const{isCustomElement:f,compilerOptions:p}=t.appContext.config,{delimiters:x,compilerOptions:w}=l,P=us(us({isCustomElement:f,delimiters:x},p),w);l.render=_g(c,P)}}t.render=l.render||mo,Yv&&Yv(t)}dh(t),od(),YF(t),ld(),rh()}function fN(t){return new Proxy(t.attrs,{get(s,r){return Kr(t,"get","$attrs"),s[r]}})}function gC(t){const s=l=>{t.exposed=l||{}};let r;return{get attrs(){return r||(r=fN(t))},slots:t.slots,emit:t.emit,expose:s}}function Mm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(x1(m1(t.exposed)),{get(s,r){if(r in s)return s[r];if(r in Zd)return Zd[r](t)},has(s,r){return r in s||r in Zd}}))}function Uv(t,s=!0){return zi(t)?t.displayName||t.name:t.name||s&&t.__name}function gN(t){return zi(t)&&"__vccOpts"in t}const _e=(t,s)=>fF(t,s,zu);function mN(){return null}function pN(){return null}function vN(t){}function xN(t,s){return null}function yN(){return mC().slots}function bN(){return mC().attrs}function mC(){const t=jo();return t.setupContext||(t.setupContext=gC(t))}function wN(t,s){const r=ki(t)?t.reduce((l,c)=>(l[c]={},l),{}):t;for(const l in s){const c=r[l];c?ki(c)||zi(c)?r[l]={type:c,default:s[l]}:c.default=s[l]:c===null&&(r[l]={default:s[l]})}return r}function kN(t,s){const r={};for(const l in t)s.includes(l)||Object.defineProperty(r,l,{enumerable:!0,get:()=>t[l]});return r}function SN(t){const s=jo();let r=t();return rh(),h1(r)&&(r=r.catch(l=>{throw dh(s),l})),[r,()=>dh(s)]}function Tr(t,s,r){const l=arguments.length;return l===2?On(s)&&!ki(s)?Yo(s)?ae(t,null,[s]):ae(t,s):ae(t,null,s):(l>3?r=Array.prototype.slice.call(arguments,2):l===3&&Yo(r)&&(r=[r]),ae(t,s,r))}const pC=Symbol(""),vC=()=>Hi(pC);function CN(){}function AN(t,s,r,l){const c=r[l];if(c&&xC(c,t))return c;const f=s();return f.memo=t.slice(),r[l]=f}function xC(t,s){const r=t.memo;if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++)if(Bu(r[l],s[l]))return!1;return pc>0&&Yr&&Yr.push(t),!0}const yC="3.2.47",TN={createComponentInstance:cC,setupComponent:dC,renderComponentRoot:ug,setCurrentRenderingInstance:Af,isVNode:Yo,normalizeVNode:aa},PN=TN,DN=null,MN=null,EN="http://www.w3.org/2000/svg",Gh=typeof document<"u"?document:null,lw=Gh&&Gh.createElement("template"),_N={insert:(t,s,r)=>{s.insertBefore(t,r||null)},remove:t=>{const s=t.parentNode;s&&s.removeChild(t)},createElement:(t,s,r,l)=>{const c=s?Gh.createElementNS(EN,t):Gh.createElement(t,r?{is:r}:void 0);return t==="select"&&l&&l.multiple!=null&&c.setAttribute("multiple",l.multiple),c},createText:t=>Gh.createTextNode(t),createComment:t=>Gh.createComment(t),setText:(t,s)=>{t.nodeValue=s},setElementText:(t,s)=>{t.textContent=s},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gh.querySelector(t),setScopeId(t,s){t.setAttribute(s,"")},insertStaticContent(t,s,r,l,c,f){const p=r?r.previousSibling:s.lastChild;if(c&&(c===f||c.nextSibling))for(;s.insertBefore(c.cloneNode(!0),r),!(c===f||!(c=c.nextSibling)););else{lw.innerHTML=l?`<svg>${t}</svg>`:t;const x=lw.content;if(l){const w=x.firstChild;for(;w.firstChild;)x.appendChild(w.firstChild);x.removeChild(w)}s.insertBefore(x,r)}return[p?p.nextSibling:s.firstChild,r?r.previousSibling:s.lastChild]}};function FN(t,s,r){const l=t._vtc;l&&(s=(s?[s,...l]:[...l]).join(" ")),s==null?t.removeAttribute("class"):r?t.setAttribute("class",s):t.className=s}function NN(t,s,r){const l=t.style,c=$n(r);if(r&&!c){if(s&&!$n(s))for(const f in s)r[f]==null&&Wv(l,f,"");for(const f in r)Wv(l,f,r[f])}else{const f=l.display;c?s!==r&&(l.cssText=r):s&&t.removeAttribute("style"),"_vod"in t&&(l.display=f)}}const hw=/\s*!important$/;function Wv(t,s,r){if(ki(r))r.forEach(l=>Wv(t,s,l));else if(r==null&&(r=""),s.startsWith("--"))t.setProperty(s,r);else{const l=LN(t,s);hw.test(r)?t.setProperty(Va(l),r.replace(hw,""),"important"):t[l]=r}}const cw=["Webkit","Moz","ms"],Wp={};function LN(t,s){const r=Wp[s];if(r)return r;let l=ur(s);if(l!=="filter"&&l in t)return Wp[s]=l;l=Go(l);for(let c=0;c<cw.length;c++){const f=cw[c]+l;if(f in t)return Wp[s]=f}return s}const uw="http://www.w3.org/1999/xlink";function IN(t,s,r,l,c){if(l&&s.startsWith("xlink:"))r==null?t.removeAttributeNS(uw,s.slice(6,s.length)):t.setAttributeNS(uw,s,r);else{const f=y_(s);r==null||f&&!cS(r)?t.removeAttribute(s):t.setAttribute(s,f?"":r)}}function ON(t,s,r,l,c,f,p){if(s==="innerHTML"||s==="textContent"){l&&p(l,c,f),t[s]=r??"";return}if(s==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const w=r??"";(t.value!==w||t.tagName==="OPTION")&&(t.value=w),r==null&&t.removeAttribute(s);return}let x=!1;if(r===""||r==null){const w=typeof t[s];w==="boolean"?r=cS(r):r==null&&w==="string"?(r="",x=!0):w==="number"&&(r=0,x=!0)}try{t[s]=r}catch{}x&&t.removeAttribute(s)}function al(t,s,r,l){t.addEventListener(s,r,l)}function RN(t,s,r,l){t.removeEventListener(s,r,l)}function BN(t,s,r,l,c=null){const f=t._vei||(t._vei={}),p=f[s];if(l&&p)p.value=l;else{const[x,w]=VN(s);if(l){const P=f[s]=HN(l,c);al(t,x,P,w)}else p&&(RN(t,x,p,w),f[s]=void 0)}}const dw=/(?:Once|Passive|Capture)$/;function VN(t){let s;if(dw.test(t)){s={};let l;for(;l=t.match(dw);)t=t.slice(0,t.length-l[0].length),s[l[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Va(t.slice(2)),s]}let Gp=0;const zN=Promise.resolve(),XN=()=>Gp||(zN.then(()=>Gp=0),Gp=Date.now());function HN(t,s){const r=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=r.attached)return;pa(YN(l,r.value),s,5,[l])};return r.value=t,r.attached=XN(),r}function YN(t,s){if(ki(s)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},s.map(l=>c=>!c._stopped&&l&&l(c))}else return s}const fw=/^on[a-z]/,UN=(t,s,r,l,c=!1,f,p,x,w)=>{s==="class"?FN(t,l,c):s==="style"?NN(t,r,l):i0(s)?o1(s)||BN(t,s,r,l,p):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):WN(t,s,l,c))?ON(t,s,l,f,p,x,w):(s==="true-value"?t._trueValue=l:s==="false-value"&&(t._falseValue=l),IN(t,s,l,c))};function WN(t,s,r,l){return l?!!(s==="innerHTML"||s==="textContent"||s in t&&fw.test(s)&&zi(r)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&t.tagName==="INPUT"||s==="type"&&t.tagName==="TEXTAREA"||fw.test(s)&&$n(r)?!1:s in t}function bC(t,s){const r=yn(t);class l extends Em{constructor(f){super(r,f,s)}}return l.def=r,l}const GN=t=>bC(t,OC),jN=typeof HTMLElement<"u"?HTMLElement:class{};class Em extends jN{constructor(s,r={},l){super(),this._def=s,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&l?l(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,on(()=>{this._connected||($v(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let l=0;l<this.attributes.length;l++)this._setAttr(this.attributes[l].name);new MutationObserver(l=>{for(const c of l)this._setAttr(c.attributeName)}).observe(this,{attributes:!0});const s=(l,c=!1)=>{const{props:f,styles:p}=l;let x;if(f&&!ki(f))for(const w in f){const P=f[w];(P===Number||P&&P.type===Number)&&(w in this._props&&(this._props[w]=Tg(this._props[w])),(x||(x=Object.create(null)))[ur(w)]=!0)}this._numberProps=x,c&&this._resolveProps(l),this._applyStyles(p),this._update()},r=this._def.__asyncLoader;r?r().then(l=>s(l,!0)):s(this._def)}_resolveProps(s){const{props:r}=s,l=ki(r)?r:Object.keys(r||{});for(const c of Object.keys(this))c[0]!=="_"&&l.includes(c)&&this._setProp(c,this[c],!0,!1);for(const c of l.map(ur))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(f){this._setProp(c,f)}})}_setAttr(s){let r=this.getAttribute(s);const l=ur(s);this._numberProps&&this._numberProps[l]&&(r=Tg(r)),this._setProp(l,r,!1)}_getProp(s){return this._props[s]}_setProp(s,r,l=!0,c=!0){r!==this._props[s]&&(this._props[s]=r,c&&this._instance&&this._update(),l&&(r===!0?this.setAttribute(Va(s),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Va(s),r+""):r||this.removeAttribute(Va(s))))}_update(){$v(this._createVNode(),this.shadowRoot)}_createVNode(){const s=ae(this._def,us({},this._props));return this._instance||(s.ce=r=>{this._instance=r,r.isCE=!0;const l=(f,p)=>{this.dispatchEvent(new CustomEvent(f,{detail:p}))};r.emit=(f,...p)=>{l(f,p),Va(f)!==f&&l(Va(f),p)};let c=this;for(;c=c&&(c.parentNode||c.host);)if(c instanceof Em){r.parent=c._instance,r.provides=c._instance.provides;break}}),s}_applyStyles(s){s&&s.forEach(r=>{const l=document.createElement("style");l.textContent=r,this.shadowRoot.appendChild(l)})}}function $N(t="$style"){{const s=jo();if(!s)return Mn;const r=s.type.__cssModules;if(!r)return Mn;const l=r[t];return l||Mn}}function KN(t){const s=jo();if(!s)return;const r=s.ut=(c=t(s.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${s.uid}"]`)).forEach(f=>jv(f,c))},l=()=>{const c=t(s.proxy);Gv(s.subTree,c),r(c)};BS(l),nn(()=>{const c=new MutationObserver(l);c.observe(s.subTree.el.parentNode,{childList:!0}),Mc(()=>c.disconnect())})}function Gv(t,s){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Gv(r.activeBranch,s)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)jv(t.el,s);else if(t.type===bi)t.children.forEach(r=>Gv(r,s));else if(t.type===rc){let{el:r,anchor:l}=t;for(;r&&(jv(r,s),r!==l);)r=r.nextSibling}}function jv(t,s){if(t.nodeType===1){const r=t.style;for(const l in s)r.setProperty(`--${l}`,s[l])}}const Gl="transition",Fd="animation",Ga=(t,{slots:s})=>Tr(C1,kC(t),s);Ga.displayName="Transition";const wC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qN=Ga.props=us({},C1.props,wC),Rh=(t,s=[])=>{ki(t)?t.forEach(r=>r(...s)):t&&t(...s)},gw=t=>t?ki(t)?t.some(s=>s.length>1):t.length>1:!1;function kC(t){const s={};for(const De in t)De in wC||(s[De]=t[De]);if(t.css===!1)return s;const{name:r="v",type:l,duration:c,enterFromClass:f=`${r}-enter-from`,enterActiveClass:p=`${r}-enter-active`,enterToClass:x=`${r}-enter-to`,appearFromClass:w=f,appearActiveClass:P=p,appearToClass:C=x,leaveFromClass:F=`${r}-leave-from`,leaveActiveClass:L=`${r}-leave-active`,leaveToClass:B=`${r}-leave-to`}=t,U=ZN(c),Y=U&&U[0],Q=U&&U[1],{onBeforeEnter:N,onEnter:X,onEnterCancelled:W,onLeave:he,onLeaveCancelled:K,onBeforeAppear:le=N,onAppear:G=X,onAppearCancelled:oe=W}=s,fe=(De,Me,He)=>{Kl(De,Me?C:x),Kl(De,Me?P:p),He&&He()},pe=(De,Me)=>{De._isLeaving=!1,Kl(De,F),Kl(De,B),Kl(De,L),Me&&Me()},Te=De=>(Me,He)=>{const je=De?G:X,tt=()=>fe(Me,De,He);Rh(je,[Me,tt]),mw(()=>{Kl(Me,De?w:f),il(Me,De?C:x),gw(je)||pw(Me,l,Y,tt)})};return us(s,{onBeforeEnter(De){Rh(N,[De]),il(De,f),il(De,p)},onBeforeAppear(De){Rh(le,[De]),il(De,w),il(De,P)},onEnter:Te(!1),onAppear:Te(!0),onLeave(De,Me){De._isLeaving=!0;const He=()=>pe(De,Me);il(De,F),CC(),il(De,L),mw(()=>{De._isLeaving&&(Kl(De,F),il(De,B),gw(he)||pw(De,l,Q,He))}),Rh(he,[De,He])},onEnterCancelled(De){fe(De,!1),Rh(W,[De])},onAppearCancelled(De){fe(De,!0),Rh(oe,[De])},onLeaveCancelled(De){pe(De),Rh(K,[De])}})}function ZN(t){if(t==null)return null;if(On(t))return[jp(t.enter),jp(t.leave)];{const s=jp(t);return[s,s]}}function jp(t){return Tg(t)}function il(t,s){s.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(s)}function Kl(t,s){s.split(/\s+/).forEach(l=>l&&t.classList.remove(l));const{_vtc:r}=t;r&&(r.delete(s),r.size||(t._vtc=void 0))}function mw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let JN=0;function pw(t,s,r,l){const c=t._endId=++JN,f=()=>{c===t._endId&&l()};if(r)return setTimeout(f,r);const{type:p,timeout:x,propCount:w}=SC(t,s);if(!p)return l();const P=p+"end";let C=0;const F=()=>{t.removeEventListener(P,L),f()},L=B=>{B.target===t&&++C>=w&&F()};setTimeout(()=>{C<w&&F()},x+1),t.addEventListener(P,L)}function SC(t,s){const r=window.getComputedStyle(t),l=U=>(r[U]||"").split(", "),c=l(`${Gl}Delay`),f=l(`${Gl}Duration`),p=vw(c,f),x=l(`${Fd}Delay`),w=l(`${Fd}Duration`),P=vw(x,w);let C=null,F=0,L=0;s===Gl?p>0&&(C=Gl,F=p,L=f.length):s===Fd?P>0&&(C=Fd,F=P,L=w.length):(F=Math.max(p,P),C=F>0?p>P?Gl:Fd:null,L=C?C===Gl?f.length:w.length:0);const B=C===Gl&&/\b(transform|all)(,|$)/.test(l(`${Gl}Property`).toString());return{type:C,timeout:F,propCount:L,hasTransform:B}}function vw(t,s){for(;t.length<s.length;)t=t.concat(t);return Math.max(...s.map((r,l)=>xw(r)+xw(t[l])))}function xw(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function CC(){return document.body.offsetHeight}const AC=new WeakMap,TC=new WeakMap,PC={name:"TransitionGroup",props:us({},qN,{tag:String,moveClass:String}),setup(t,{slots:s}){const r=jo(),l=S1();let c,f;return Pm(()=>{if(!c.length)return;const p=t.moveClass||`${t.name||"v"}-move`;if(!nL(c[0].el,r.vnode.el,p))return;c.forEach(eL),c.forEach(tL);const x=c.filter(iL);CC(),x.forEach(w=>{const P=w.el,C=P.style;il(P,p),C.transform=C.webkitTransform=C.transitionDuration="";const F=P._moveCb=L=>{L&&L.target!==P||(!L||/transform$/.test(L.propertyName))&&(P.removeEventListener("transitionend",F),P._moveCb=null,Kl(P,p))};P.addEventListener("transitionend",F)})}),()=>{const p=Di(t),x=kC(p);let w=p.tag||bi;c=f,f=s.default?Am(s.default()):[];for(let P=0;P<f.length;P++){const C=f[P];C.key!=null&&mc(C,Vu(C,x,l,r))}if(c)for(let P=0;P<c.length;P++){const C=c[P];mc(C,Vu(C,x,l,r)),AC.set(C,C.el.getBoundingClientRect())}return ae(w,null,f)}}},QN=t=>delete t.mode;PC.props;const DC=PC;function eL(t){const s=t.el;s._moveCb&&s._moveCb(),s._enterCb&&s._enterCb()}function tL(t){TC.set(t,t.el.getBoundingClientRect())}function iL(t){const s=AC.get(t),r=TC.get(t),l=s.left-r.left,c=s.top-r.top;if(l||c){const f=t.el.style;return f.transform=f.webkitTransform=`translate(${l}px,${c}px)`,f.transitionDuration="0s",t}}function nL(t,s,r){const l=t.cloneNode();t._vtc&&t._vtc.forEach(p=>{p.split(/\s+/).forEach(x=>x&&l.classList.remove(x))}),r.split(/\s+/).forEach(p=>p&&l.classList.add(p)),l.style.display="none";const c=s.nodeType===1?s:s.parentNode;c.appendChild(l);const{hasTransform:f}=SC(l);return c.removeChild(l),f}const fh=t=>{const s=t.props["onUpdate:modelValue"]||!1;return ki(s)?r=>Au(s,r):s};function sL(t){t.target.composing=!0}function yw(t){const s=t.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const Pf={created(t,{modifiers:{lazy:s,trim:r,number:l}},c){t._assign=fh(c);const f=l||c.props&&c.props.type==="number";al(t,s?"change":"input",p=>{if(p.target.composing)return;let x=t.value;r&&(x=x.trim()),f&&(x=Ag(x)),t._assign(x)}),r&&al(t,"change",()=>{t.value=t.value.trim()}),s||(al(t,"compositionstart",sL),al(t,"compositionend",yw),al(t,"change",yw))},mounted(t,{value:s}){t.value=s??""},beforeUpdate(t,{value:s,modifiers:{lazy:r,trim:l,number:c}},f){if(t._assign=fh(f),t.composing||document.activeElement===t&&t.type!=="range"&&(r||l&&t.value.trim()===s||(c||t.type==="number")&&Ag(t.value)===s))return;const p=s??"";t.value!==p&&(t.value=p)}},I1={deep:!0,created(t,s,r){t._assign=fh(r),al(t,"change",()=>{const l=t._modelValue,c=Xu(t),f=t.checked,p=t._assign;if(ki(l)){const x=dm(l,c),w=x!==-1;if(f&&!w)p(l.concat(c));else if(!f&&w){const P=[...l];P.splice(x,1),p(P)}}else if(Pc(l)){const x=new Set(l);f?x.add(c):x.delete(c),p(x)}else p(EC(t,f))})},mounted:bw,beforeUpdate(t,s,r){t._assign=fh(r),bw(t,s,r)}};function bw(t,{value:s,oldValue:r},l){t._modelValue=s,ki(s)?t.checked=dm(s,l.props.value)>-1:Pc(s)?t.checked=s.has(l.props.value):s!==r&&(t.checked=hh(s,EC(t,!0)))}const O1={created(t,{value:s},r){t.checked=hh(s,r.props.value),t._assign=fh(r),al(t,"change",()=>{t._assign(Xu(t))})},beforeUpdate(t,{value:s,oldValue:r},l){t._assign=fh(l),s!==r&&(t.checked=hh(s,l.props.value))}},MC={deep:!0,created(t,{value:s,modifiers:{number:r}},l){const c=Pc(s);al(t,"change",()=>{const f=Array.prototype.filter.call(t.options,p=>p.selected).map(p=>r?Ag(Xu(p)):Xu(p));t._assign(t.multiple?c?new Set(f):f:f[0])}),t._assign=fh(l)},mounted(t,{value:s}){ww(t,s)},beforeUpdate(t,s,r){t._assign=fh(r)},updated(t,{value:s}){ww(t,s)}};function ww(t,s){const r=t.multiple;if(!(r&&!ki(s)&&!Pc(s))){for(let l=0,c=t.options.length;l<c;l++){const f=t.options[l],p=Xu(f);if(r)ki(s)?f.selected=dm(s,p)>-1:f.selected=s.has(p);else if(hh(Xu(f),s)){t.selectedIndex!==l&&(t.selectedIndex=l);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Xu(t){return"_value"in t?t._value:t.value}function EC(t,s){const r=s?"_trueValue":"_falseValue";return r in t?t[r]:s}const _C={created(t,s,r){Y0(t,s,r,null,"created")},mounted(t,s,r){Y0(t,s,r,null,"mounted")},beforeUpdate(t,s,r,l){Y0(t,s,r,l,"beforeUpdate")},updated(t,s,r,l){Y0(t,s,r,l,"updated")}};function FC(t,s){switch(t){case"SELECT":return MC;case"TEXTAREA":return Pf;default:switch(s){case"checkbox":return I1;case"radio":return O1;default:return Pf}}}function Y0(t,s,r,l,c){const p=FC(t.tagName,r.props&&r.props.type)[c];p&&p(t,s,r,l)}function rL(){Pf.getSSRProps=({value:t})=>({value:t}),O1.getSSRProps=({value:t},s)=>{if(s.props&&hh(s.props.value,t))return{checked:!0}},I1.getSSRProps=({value:t},s)=>{if(ki(t)){if(s.props&&dm(t,s.props.value)>-1)return{checked:!0}}else if(Pc(t)){if(s.props&&t.has(s.props.value))return{checked:!0}}else if(t)return{checked:!0}},_C.getSSRProps=(t,s)=>{if(typeof s.type!="string")return;const r=FC(s.type.toUpperCase(),s.props&&s.props.type);if(r.getSSRProps)return r.getSSRProps(t,s)}}const aL=["ctrl","shift","alt","meta"],oL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,s)=>aL.some(r=>t[`${r}Key`]&&!s.includes(r))},lL=(t,s)=>(r,...l)=>{for(let c=0;c<s.length;c++){const f=oL[s[c]];if(f&&f(r,s))return}return t(r,...l)},hL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cL=(t,s)=>r=>{if(!("key"in r))return;const l=Va(r.key);if(s.some(c=>c===l||hL[c]===l))return t(r)},Ka={beforeMount(t,{value:s},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&s?r.beforeEnter(t):Nd(t,s)},mounted(t,{value:s},{transition:r}){r&&s&&r.enter(t)},updated(t,{value:s,oldValue:r},{transition:l}){!s!=!r&&(l?s?(l.beforeEnter(t),Nd(t,!0),l.enter(t)):l.leave(t,()=>{Nd(t,!1)}):Nd(t,s))},beforeUnmount(t,{value:s}){Nd(t,s)}};function Nd(t,s){t.style.display=s?t._vod:"none"}function uL(){Ka.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const NC=us({patchProp:UN},_N);let ef,kw=!1;function LC(){return ef||(ef=tC(NC))}function IC(){return ef=kw?ef:iC(NC),kw=!0,ef}const $v=(...t)=>{LC().render(...t)},OC=(...t)=>{IC().hydrate(...t)},R1=(...t)=>{const s=LC().createApp(...t),{mount:r}=s;return s.mount=l=>{const c=RC(l);if(!c)return;const f=s._component;!zi(f)&&!f.render&&!f.template&&(f.template=c.innerHTML),c.innerHTML="";const p=r(c,!1,c instanceof SVGElement);return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),p},s},dL=(...t)=>{const s=IC().createApp(...t),{mount:r}=s;return s.mount=l=>{const c=RC(l);if(c)return r(c,!0,c instanceof SVGElement)},s};function RC(t){return $n(t)?document.querySelector(t):t}let Sw=!1;const fL=()=>{Sw||(Sw=!0,rL(),uL())},gL=()=>{},mL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:C1,Comment:dr,EffectScope:u1,Fragment:bi,KeepAlive:RF,ReactiveEffect:n0,Static:rc,Suspense:PF,Teleport:sC,Text:uh,Transition:Ga,TransitionGroup:DC,VueElement:Em,assertNumber:mF,callWithAsyncErrorHandling:pa,callWithErrorHandling:cl,camelize:ur,capitalize:Go,cloneVNode:Wa,compatUtils:MN,compile:gL,computed:_e,createApp:R1,createBlock:In,createCommentVNode:zn,createElementBlock:Gi,createElementVNode:pt,createHydrationRenderer:iC,createPropsRestProxy:kN,createRenderer:tC,createSSRApp:dL,createSlots:zF,createStaticVNode:_c,createTextVNode:pi,createVNode:ae,customRef:cF,defineAsyncComponent:IF,defineComponent:yn,defineCustomElement:bC,defineEmits:pN,defineExpose:vN,defineProps:mN,defineSSRCustomElement:GN,get devtools(){return gu},effect:__,effectScope:gm,getCurrentInstance:jo,getCurrentScope:mS,getTransitionRawChildren:Am,guardReactiveProps:hC,h:Tr,handleError:Dc,hydrate:OC,initCustomFormatter:CN,initDirectivesForSSR:fL,inject:Hi,isMemoSame:xC,isProxy:g1,isReactive:nc,isReadonly:gc,isRef:jn,isRuntimeOnly:dN,isShallow:wf,isVNode:Yo,markRaw:m1,mergeDefaults:wN,mergeProps:ai,nextTick:on,normalizeClass:Rn,normalizeProps:v_,normalizeStyle:Tc,onActivated:A1,onBeforeMount:a0,onBeforeUnmount:vr,onBeforeUpdate:P1,onDeactivated:T1,onErrorCaptured:WS,onMounted:nn,onRenderTracked:US,onRenderTriggered:YS,onScopeDispose:$r,onServerPrefetch:HS,onUnmounted:Mc,onUpdated:Pm,openBlock:fi,popScopeId:Lr,provide:Tn,proxyRefs:x1,pushScopeId:Nr,queuePostFlushCb:b1,reactive:ji,readonly:hd,ref:it,registerRuntimeCompiler:uN,render:$v,renderList:cd,renderSlot:XF,resolveComponent:Ec,resolveDirective:Mr,resolveDynamicComponent:M1,resolveFilter:DN,resolveTransitionHooks:Vu,setBlockTracking:Xv,setDevtoolsHook:LS,setTransitionHooks:mc,shallowReactive:DS,shallowReadonly:rF,shallowRef:bm,ssrContextKey:pC,ssrUtils:PN,stop:F_,toDisplayString:sn,toHandlerKey:qd,toHandlers:dg,toRaw:Di,toRef:Nt,toRefs:wm,transformVNodeArgs:aN,triggerRef:oF,unref:Ln,useAttrs:bN,useCssModule:$N,useCssVars:KN,useSSRContext:vC,useSlots:yN,useTransitionState:S1,vModelCheckbox:I1,vModelDynamic:_C,vModelRadio:O1,vModelSelect:MC,vModelText:Pf,vShow:Ka,version:yC,warn:gF,watch:ui,watchEffect:Pr,watchPostEffect:BS,watchSyncEffect:FF,withAsyncContext:SN,withCtx:Ut,withDefaults:xN,withDirectives:ln,withKeys:cL,withMemo:AN,withModifiers:lL,withScopeId:wF},Symbol.toStringTag,{value:"Module"})),pL=t=>(Nr("data-v-0f66a3a3"),t=t(),Lr(),t),vL=pL(()=>pt("div",{id:"drawing_line"},[pt("svg",{class:"drawing_line_svg"},[pt("circle",{class:"drawing_line_circle",cx:"0",cy:"0",r:"4"}),pt("polyline",{class:"drawing_line_polyline",points:""})])],-1)),xL=yn({__name:"App",setup(t){var s=12,r=30,l,c=0,f,p,x,w,P,C,F=[],L={x:window.innerWidth/2,y:window.innerHeight/2,tx:0,ty:0,dist:0,scale:1,speed:2,circRadius:4,updateCrds:function(){this.x!=0&&(this.dist=Math.abs(this.x-this.tx+(this.y-this.ty)),this.scale=Math.max(this.scale+((100-this.dist*8)*.01-this.scale)*.1,.25),this.tx+=(this.x-this.tx)/this.speed,this.ty+=(this.y-this.ty)/this.speed)}};nn(()=>{f=document.querySelector(".drawing_line_polyline"),p=f.getAttribute("points"),x=document.querySelector(".drawing_line_circle"),w=x.getAttribute("cx"),P=x.getAttribute("cy"),C=x.getAttribute("r"),window.addEventListener("mousemove",U),window.addEventListener("mousedown",Y),window.addEventListener("mouseup",Q)});function B(){for(L.updateCrds(),F.push({x:L.tx,y:L.ty});F.length>s;)if(F.shift(),F.length>r)for(var N=0;N<5;N++)F.shift();var X=F.map(W=>`${W.x},${W.y}`);p=X.join(" "),f.setAttribute("points",p),w=L.x,P=L.y,C=L.scale*L.circRadius,x.setAttribute("cx",w),x.setAttribute("cy",P),x.setAttribute("r",C),c>0&&(c--,requestAnimationFrame(B))}function U(N){L.x=N.clientX,L.y=N.clientY,c=0,B(),clearTimeout(l),l=setTimeout(()=>{c=12,B()},80)}function Y(){L.circRadius=2,B()}function Q(){L.circRadius=4,B()}return(N,X)=>{const W=Ec("RouterView");return fi(),Gi(bi,null,[vL,ae(W,null,{default:Ut(({Component:he,route:K})=>[ae(Ga,{"enter-active-class":K.meta.enterClass,"leave-active-class":K.meta.leaveClass,mode:"out-in"},{default:Ut(()=>[(fi(),Gi("div",{class:"component-div",key:K.name},[(fi(),In(M1(he)))]))]),_:2},1032,["enter-active-class","leave-active-class"])]),_:1})],64)}}});const xr=(t,s)=>{const r=t.__vccOpts||t;for(const[l,c]of s)r[l]=c;return r},yL=xr(xL,[["__scopeId","data-v-0f66a3a3"]]),bL="modulepreload",wL=function(t){return"/"+t},Cw={},kL=function(s,r,l){if(!r||r.length===0)return s();const c=document.getElementsByTagName("link");return Promise.all(r.map(f=>{if(f=wL(f),f in Cw)return;Cw[f]=!0;const p=f.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(!!l)for(let C=c.length-1;C>=0;C--){const F=c[C];if(F.href===f&&(!p||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${x}`))return;const P=document.createElement("link");if(P.rel=p?"stylesheet":bL,p||(P.as="script",P.crossOrigin=""),P.href=f,document.head.appendChild(P),p)return new Promise((C,F)=>{P.addEventListener("load",C),P.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>s())};async function SL(){(await kL(()=>import("./webfontloader-2a4655c2.js").then(s=>s.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}function CL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AL(t){if(t.__esModule)return t;var s=t.default;if(typeof s=="function"){var r=function l(){if(this instanceof l){var c=[null];c.push.apply(c,arguments);var f=Function.bind.apply(s,c);return new f}return s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var c=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(r,l,c.get?c:{enumerable:!0,get:function(){return t[l]}})}),r}var Kv={},TL={get exports(){return Kv},set exports(t){Kv=t}};const PL=AL(mL);var tf={},DL={get exports(){return tf},set exports(t){tf=t}};/*!
 * ApexCharts v3.37.2
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */var Aw;function ML(){return Aw||(Aw=1,function(t,s){function r(me,d){var g=Object.keys(me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(me);d&&(y=y.filter(function(k){return Object.getOwnPropertyDescriptor(me,k).enumerable})),g.push.apply(g,y)}return g}function l(me){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{};d%2?r(Object(g),!0).forEach(function(y){w(me,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(y){Object.defineProperty(me,y,Object.getOwnPropertyDescriptor(g,y))})}return me}function c(me){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},c(me)}function f(me,d){if(!(me instanceof d))throw new TypeError("Cannot call a class as a function")}function p(me,d){for(var g=0;g<d.length;g++){var y=d[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(me,y.key,y)}}function x(me,d,g){return d&&p(me.prototype,d),g&&p(me,g),me}function w(me,d,g){return d in me?Object.defineProperty(me,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):me[d]=g,me}function P(me,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(d&&d.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),d&&F(me,d)}function C(me){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},C(me)}function F(me,d){return F=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g},F(me,d)}function L(me,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(me)}function B(me){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=C(me);if(d){var k=C(this).constructor;g=Reflect.construct(y,arguments,k)}else g=y.apply(this,arguments);return L(this,g)}}function U(me,d){return function(g){if(Array.isArray(g))return g}(me)||function(g,y){var k=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(k!=null){var T,D,_=[],I=!0,H=!1;try{for(k=k.call(g);!(I=(T=k.next()).done)&&(_.push(T.value),!y||_.length!==y);I=!0);}catch(Z){H=!0,D=Z}finally{try{I||k.return==null||k.return()}finally{if(H)throw D}}return _}}(me,d)||Q(me,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Y(me){return function(d){if(Array.isArray(d))return N(d)}(me)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(me)||Q(me)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q(me,d){if(me){if(typeof me=="string")return N(me,d);var g=Object.prototype.toString.call(me).slice(8,-1);return g==="Object"&&me.constructor&&(g=me.constructor.name),g==="Map"||g==="Set"?Array.from(me):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?N(me,d):void 0}}function N(me,d){(d==null||d>me.length)&&(d=me.length);for(var g=0,y=new Array(d);g<d;g++)y[g]=me[g];return y}var X=function(){function me(){f(this,me)}return x(me,[{key:"shadeRGBColor",value:function(d,g){var y=g.split(","),k=d<0?0:255,T=d<0?-1*d:d,D=parseInt(y[0].slice(4),10),_=parseInt(y[1],10),I=parseInt(y[2],10);return"rgb("+(Math.round((k-D)*T)+D)+","+(Math.round((k-_)*T)+_)+","+(Math.round((k-I)*T)+I)+")"}},{key:"shadeHexColor",value:function(d,g){var y=parseInt(g.slice(1),16),k=d<0?0:255,T=d<0?-1*d:d,D=y>>16,_=y>>8&255,I=255&y;return"#"+(16777216+65536*(Math.round((k-D)*T)+D)+256*(Math.round((k-_)*T)+_)+(Math.round((k-I)*T)+I)).toString(16).slice(1)}},{key:"shadeColor",value:function(d,g){return me.isColorHex(g)?this.shadeHexColor(d,g):this.shadeRGBColor(d,g)}}],[{key:"bind",value:function(d,g){return function(){return d.apply(g,arguments)}}},{key:"isObject",value:function(d){return d&&c(d)==="object"&&!Array.isArray(d)&&d!=null}},{key:"is",value:function(d,g){return Object.prototype.toString.call(g)==="[object "+d+"]"}},{key:"listToArray",value:function(d){var g,y=[];for(g=0;g<d.length;g++)y[g]=d[g];return y}},{key:"extend",value:function(d,g){var y=this;typeof Object.assign!="function"&&(Object.assign=function(T){if(T==null)throw new TypeError("Cannot convert undefined or null to object");for(var D=Object(T),_=1;_<arguments.length;_++){var I=arguments[_];if(I!=null)for(var H in I)I.hasOwnProperty(H)&&(D[H]=I[H])}return D});var k=Object.assign({},d);return this.isObject(d)&&this.isObject(g)&&Object.keys(g).forEach(function(T){y.isObject(g[T])&&T in d?k[T]=y.extend(d[T],g[T]):Object.assign(k,w({},T,g[T]))}),k}},{key:"extendArray",value:function(d,g){var y=[];return d.map(function(k){y.push(me.extend(g,k))}),d=y}},{key:"monthMod",value:function(d){return d%12}},{key:"clone",value:function(d){if(me.is("Array",d)){for(var g=[],y=0;y<d.length;y++)g[y]=this.clone(d[y]);return g}if(me.is("Null",d))return null;if(me.is("Date",d))return d;if(c(d)==="object"){var k={};for(var T in d)d.hasOwnProperty(T)&&(k[T]=this.clone(d[T]));return k}return d}},{key:"log10",value:function(d){return Math.log(d)/Math.LN10}},{key:"roundToBase10",value:function(d){return Math.pow(10,Math.floor(Math.log10(d)))}},{key:"roundToBase",value:function(d,g){return Math.pow(g,Math.floor(Math.log(d)/Math.log(g)))}},{key:"parseNumber",value:function(d){return d===null?d:parseFloat(d)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(d){var g=String(d).split(/[eE]/);if(g.length===1)return g[0];var y="",k=d<0?"-":"",T=g[0].replace(".",""),D=Number(g[1])+1;if(D<0){for(y=k+"0.";D++;)y+="0";return y+T.replace(/^-/,"")}for(D-=T.length;D--;)y+="0";return T+y}},{key:"getDimensions",value:function(d){var g=getComputedStyle(d,null),y=d.clientHeight,k=d.clientWidth;return y-=parseFloat(g.paddingTop)+parseFloat(g.paddingBottom),[k-=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight),y]}},{key:"getBoundingClientRect",value:function(d){var g=d.getBoundingClientRect();return{top:g.top,right:g.right,bottom:g.bottom,left:g.left,width:d.clientWidth,height:d.clientHeight,x:g.left,y:g.top}}},{key:"getLargestStringFromArr",value:function(d){return d.reduce(function(g,y){return Array.isArray(y)&&(y=y.reduce(function(k,T){return k.length>T.length?k:T})),g.length>y.length?g:y},0)}},{key:"hexToRgba",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;d.substring(0,1)!=="#"&&(d="#999999");var y=d.replace("#","");y=y.match(new RegExp("(.{"+y.length/3+"})","g"));for(var k=0;k<y.length;k++)y[k]=parseInt(y[k].length===1?y[k]+y[k]:y[k],16);return g!==void 0&&y.push(g),"rgba("+y.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(d){return parseFloat(d.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(d){return(d=d.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&d.length===4?"#"+("0"+parseInt(d[1],10).toString(16)).slice(-2)+("0"+parseInt(d[2],10).toString(16)).slice(-2)+("0"+parseInt(d[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(d){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(d)}},{key:"getPolygonPos",value:function(d,g){for(var y=[],k=2*Math.PI/g,T=0;T<g;T++){var D={};D.x=d*Math.sin(T*k),D.y=-d*Math.cos(T*k),y.push(D)}return y}},{key:"polarToCartesian",value:function(d,g,y,k){var T=(k-90)*Math.PI/180;return{x:d+y*Math.cos(T),y:g+y*Math.sin(T)}}},{key:"escapeString",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",y=d.toString().slice();return y=y.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,g)}},{key:"negToZero",value:function(d){return d<0?0:d}},{key:"moveIndexInArray",value:function(d,g,y){if(y>=d.length)for(var k=y-d.length+1;k--;)d.push(void 0);return d.splice(y,0,d.splice(g,1)[0]),d}},{key:"extractNumber",value:function(d){return parseFloat(d.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(d,g){for(;(d=d.parentElement)&&!d.classList.contains(g););return d}},{key:"setELstyles",value:function(d,g){for(var y in g)g.hasOwnProperty(y)&&(d.style.key=g[y])}},{key:"isNumber",value:function(d){return!isNaN(d)&&parseFloat(Number(d))===d&&!isNaN(parseInt(d,10))}},{key:"isFloat",value:function(d){return Number(d)===d&&d%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var d=window.navigator.userAgent,g=d.indexOf("MSIE ");if(g>0)return parseInt(d.substring(g+5,d.indexOf(".",g)),10);if(d.indexOf("Trident/")>0){var y=d.indexOf("rv:");return parseInt(d.substring(y+3,d.indexOf(".",y)),10)}var k=d.indexOf("Edge/");return k>0&&parseInt(d.substring(k+5,d.indexOf(".",k)),10)}}]),me}(),W=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.setEasingFunctions()}return x(me,[{key:"setEasingFunctions",value:function(){var d;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":d="-";break;case"easein":d="<";break;case"easeout":d=">";break;case"easeinout":default:d="<>";break;case"swing":d=function(g){var y=1.70158;return(g-=1)*g*((y+1)*g+y)+1};break;case"bounce":d=function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375};break;case"elastic":d=function(g){return g===!!g?g:Math.pow(2,-10*g)*Math.sin((g-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=d}}},{key:"animateLine",value:function(d,g,y,k){d.attr(g).animate(k).attr(y)}},{key:"animateMarker",value:function(d,g,y,k,T,D){g||(g=0),d.attr({r:g,width:g,height:g}).animate(k,T).attr({r:y,width:y.width,height:y.height}).afterAll(function(){D()})}},{key:"animateCircle",value:function(d,g,y,k,T){d.attr({r:g.r,cx:g.cx,cy:g.cy}).animate(k,T).attr({r:y.r,cx:y.cx,cy:y.cy})}},{key:"animateRect",value:function(d,g,y,k,T){d.attr(g).animate(k).attr(y).afterAll(function(){return T()})}},{key:"animatePathsGradually",value:function(d){var g=d.el,y=d.realIndex,k=d.j,T=d.fill,D=d.pathFrom,_=d.pathTo,I=d.speed,H=d.delay,Z=this.w,j=0;Z.config.chart.animations.animateGradually.enabled&&(j=Z.config.chart.animations.animateGradually.delay),Z.config.chart.animations.dynamicAnimation.enabled&&Z.globals.dataChanged&&Z.config.chart.type!=="bar"&&(j=0),this.morphSVG(g,y,k,Z.config.chart.type!=="line"||Z.globals.comboCharts?T:"stroke",D,_,I,H*j)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(d){d.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(d){var g=this.w;g.globals.animationEnded||(g.globals.animationEnded=!0,this.showDelayedElements(),typeof g.config.chart.events.animationEnd=="function"&&g.config.chart.events.animationEnd(this.ctx,{el:d,w:g}))}},{key:"morphSVG",value:function(d,g,y,k,T,D,_,I){var H=this,Z=this.w;T||(T=d.attr("pathFrom")),D||(D=d.attr("pathTo"));var j=function(te){return Z.config.chart.type==="radar"&&(_=1),"M 0 ".concat(Z.globals.gridHeight)};(!T||T.indexOf("undefined")>-1||T.indexOf("NaN")>-1)&&(T=j()),(!D||D.indexOf("undefined")>-1||D.indexOf("NaN")>-1)&&(D=j()),Z.globals.shouldAnimate||(_=1),d.plot(T).animate(1,Z.globals.easing,I).plot(T).animate(_,Z.globals.easing,I).plot(D).afterAll(function(){X.isNumber(y)?y===Z.globals.series[Z.globals.maxValsInArrayIndex].length-2&&Z.globals.shouldAnimate&&H.animationCompleted(d):k!=="none"&&Z.globals.shouldAnimate&&(!Z.globals.comboCharts&&g===Z.globals.series.length-1||Z.globals.comboCharts)&&H.animationCompleted(d),H.showDelayedElements()})}}]),me}(),he=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"getDefaultFilter",value:function(d,g){var y=this.w;d.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),y.config.states.normal.filter!=="none"?this.applyFilter(d,g,y.config.states.normal.filter.type,y.config.states.normal.filter.value):y.config.chart.dropShadow.enabled&&this.dropShadow(d,y.config.chart.dropShadow,g)}},{key:"addNormalFilter",value:function(d,g){var y=this.w;y.config.chart.dropShadow.enabled&&!d.node.classList.contains("apexcharts-marker")&&this.dropShadow(d,y.config.chart.dropShadow,g)}},{key:"addLightenFilter",value:function(d,g,y){var k=this,T=this.w,D=y.intensity;d.unfilter(!0),new window.SVG.Filter,d.filter(function(_){var I=T.config.chart.dropShadow;(I.enabled?k.addShadow(_,g,I):_).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:D}})}),d.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(d.filterer.node)}},{key:"addDarkenFilter",value:function(d,g,y){var k=this,T=this.w,D=y.intensity;d.unfilter(!0),new window.SVG.Filter,d.filter(function(_){var I=T.config.chart.dropShadow;(I.enabled?k.addShadow(_,g,I):_).componentTransfer({rgb:{type:"linear",slope:D}})}),d.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(d.filterer.node)}},{key:"applyFilter",value:function(d,g,y){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(y){case"none":this.addNormalFilter(d,g);break;case"lighten":this.addLightenFilter(d,g,{intensity:k});break;case"darken":this.addDarkenFilter(d,g,{intensity:k})}}},{key:"addShadow",value:function(d,g,y){var k=y.blur,T=y.top,D=y.left,_=y.color,I=y.opacity,H=d.flood(Array.isArray(_)?_[g]:_,I).composite(d.sourceAlpha,"in").offset(D,T).gaussianBlur(k).merge(d.source);return d.blend(d.source,H)}},{key:"dropShadow",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=g.top,T=g.left,D=g.blur,_=g.color,I=g.opacity,H=g.noUserSpaceOnUse,Z=this.w;return d.unfilter(!0),X.isIE()&&Z.config.chart.type==="radialBar"||(_=Array.isArray(_)?_[y]:_,d.filter(function(j){var te=null;te=X.isSafari()||X.isFirefox()||X.isIE()?j.flood(_,I).composite(j.sourceAlpha,"in").offset(T,k).gaussianBlur(D):j.flood(_,I).composite(j.sourceAlpha,"in").offset(T,k).gaussianBlur(D).merge(j.source),j.blend(j.source,te)}),H||d.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(d.filterer.node)),d}},{key:"setSelectionFilter",value:function(d,g,y){var k=this.w;if(k.globals.selectedDataPoints[g]!==void 0&&k.globals.selectedDataPoints[g].indexOf(y)>-1){d.node.setAttribute("selected",!0);var T=k.config.states.active.filter;T!=="none"&&this.applyFilter(d,g,T.type,T.value)}}},{key:"_scaleFilterSize",value:function(d){(function(g){for(var y in g)g.hasOwnProperty(y)&&d.setAttribute(y,g[y])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),me}(),K=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"roundPathCorners",value:function(d,g){function y(Oe,ot,nt){var Dt=ot.x-Oe.x,It=ot.y-Oe.y,qt=Math.sqrt(Dt*Dt+It*It);return k(Oe,ot,Math.min(1,nt/qt))}function k(Oe,ot,nt){return{x:Oe.x+(ot.x-Oe.x)*nt,y:Oe.y+(ot.y-Oe.y)*nt}}function T(Oe,ot){Oe.length>2&&(Oe[Oe.length-2]=ot.x,Oe[Oe.length-1]=ot.y)}function D(Oe){return{x:parseFloat(Oe[Oe.length-2]),y:parseFloat(Oe[Oe.length-1])}}var _=d.split(/[,\s]/).reduce(function(Oe,ot){var nt=ot.match("([a-zA-Z])(.+)");return nt?(Oe.push(nt[1]),Oe.push(nt[2])):Oe.push(ot),Oe},[]).reduce(function(Oe,ot){return parseFloat(ot)==ot&&Oe.length?Oe[Oe.length-1].push(ot):Oe.push([ot]),Oe},[]),I=[];if(_.length>1){var H=D(_[0]),Z=null;_[_.length-1][0]=="Z"&&_[0].length>2&&(Z=["L",H.x,H.y],_[_.length-1]=Z),I.push(_[0]);for(var j=1;j<_.length;j++){var te=I[I.length-1],ce=_[j],ue=ce==Z?_[1]:_[j+1];if(ue&&te&&te.length>2&&ce[0]=="L"&&ue.length>2&&ue[0]=="L"){var ge,be,ke=D(te),Be=D(ce),z=D(ue);ge=y(Be,ke,g),be=y(Be,z,g),T(ce,ge),ce.origPoint=Be,I.push(ce);var ie=k(ge,Be,.5),de=k(Be,be,.5),Se=["C",ie.x,ie.y,de.x,de.y,be.x,be.y];Se.origPoint=Be,I.push(Se)}else I.push(ce)}if(Z){var Ne=D(I[I.length-1]);I.push(["Z"]),T(I[0],Ne)}}else I=_;return I.reduce(function(Oe,ot){return Oe+ot.join(" ")+" "},"")}},{key:"drawLine",value:function(d,g,y,k){var T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,_=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,I=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:d,y1:g,x2:y,y2:k,stroke:T,"stroke-dasharray":D,"stroke-width":_,"stroke-linecap":I})}},{key:"drawRect",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",_=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,I=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,H=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,Z=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,j=this.w.globals.dom.Paper.rect();return j.attr({x:d,y:g,width:y>0?y:0,height:k>0?k:0,rx:T,ry:T,opacity:_,"stroke-width":I!==null?I:0,stroke:H!==null?H:"none","stroke-dasharray":Z}),j.node.setAttribute("fill",D),j}},{key:"drawPolygon",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(d).attr({fill:k,stroke:g,"stroke-width":y})}},{key:"drawCircle",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;d<0&&(d=0);var y=this.w.globals.dom.Paper.circle(2*d);return g!==null&&y.attr(g),y}},{key:"drawPath",value:function(d){var g=d.d,y=g===void 0?"":g,k=d.stroke,T=k===void 0?"#a8a8a8":k,D=d.strokeWidth,_=D===void 0?1:D,I=d.fill,H=d.fillOpacity,Z=H===void 0?1:H,j=d.strokeOpacity,te=j===void 0?1:j,ce=d.classes,ue=d.strokeLinecap,ge=ue===void 0?null:ue,be=d.strokeDashArray,ke=be===void 0?0:be,Be=this.w;return ge===null&&(ge=Be.config.stroke.lineCap),(y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y="M 0 ".concat(Be.globals.gridHeight)),Be.globals.dom.Paper.path(y).attr({fill:I,"fill-opacity":Z,stroke:T,"stroke-opacity":te,"stroke-linecap":ge,"stroke-width":_,"stroke-dasharray":ke,class:ce})}},{key:"group",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this.w.globals.dom.Paper.group();return d!==null&&g.attr(d),g}},{key:"move",value:function(d,g){var y=["M",d,g].join(" ");return y}},{key:"line",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,k=null;return y===null?k=[" L",d,g].join(" "):y==="H"?k=[" H",d].join(" "):y==="V"&&(k=[" V",g].join(" ")),k}},{key:"curve",value:function(d,g,y,k,T,D){var _=["C",d,g,y,k,T,D].join(" ");return _}},{key:"quadraticCurve",value:function(d,g,y,k){return["Q",d,g,y,k].join(" ")}},{key:"arc",value:function(d,g,y,k,T,D,_){var I="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(I="a");var H=[I,d,g,y,k,T,D,_].join(" ");return H}},{key:"renderPaths",value:function(d){var g,y=d.j,k=d.realIndex,T=d.pathFrom,D=d.pathTo,_=d.stroke,I=d.strokeWidth,H=d.strokeLinecap,Z=d.fill,j=d.animationDelay,te=d.initialSpeed,ce=d.dataChangeSpeed,ue=d.className,ge=d.shouldClipToGrid,be=ge===void 0||ge,ke=d.bindEventsOnPaths,Be=ke===void 0||ke,z=d.drawShadow,ie=z===void 0||z,de=this.w,Se=new he(this.ctx),Ne=new W(this.ctx),Oe=this.w.config.chart.animations.enabled,ot=Oe&&this.w.config.chart.animations.dynamicAnimation.enabled,nt=!!(Oe&&!de.globals.resized||ot&&de.globals.dataChanged&&de.globals.shouldAnimate);nt?g=T:(g=D,de.globals.animationEnded=!0);var Dt=de.config.stroke.dashArray,It=0;It=Array.isArray(Dt)?Dt[k]:de.config.stroke.dashArray;var qt=this.drawPath({d:g,stroke:_,strokeWidth:I,fill:Z,fillOpacity:1,classes:ue,strokeLinecap:H,strokeDashArray:It});if(qt.attr("index",k),be&&qt.attr({"clip-path":"url(#gridRectMask".concat(de.globals.cuid,")")}),de.config.states.normal.filter.type!=="none")Se.getDefaultFilter(qt,k);else if(de.config.chart.dropShadow.enabled&&ie&&(!de.config.chart.dropShadow.enabledOnSeries||de.config.chart.dropShadow.enabledOnSeries&&de.config.chart.dropShadow.enabledOnSeries.indexOf(k)!==-1)){var ti=de.config.chart.dropShadow;Se.dropShadow(qt,ti,k)}Be&&(qt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,qt)),qt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,qt)),qt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,qt))),qt.attr({pathTo:D,pathFrom:T});var Et={el:qt,j:y,realIndex:k,pathFrom:T,pathTo:D,fill:Z,strokeWidth:I,delay:j};return!Oe||de.globals.resized||de.globals.dataChanged?!de.globals.resized&&de.globals.dataChanged||Ne.showDelayedElements():Ne.animatePathsGradually(l(l({},Et),{},{speed:te})),de.globals.dataChanged&&ot&&nt&&Ne.animatePathsGradually(l(l({},Et),{},{speed:ce})),qt}},{key:"drawPattern",value:function(d,g,y){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(g,y,function(D){d==="horizontalLines"?D.line(0,0,y,0).stroke({color:k,width:T+1}):d==="verticalLines"?D.line(0,0,0,g).stroke({color:k,width:T+1}):d==="slantedLines"?D.line(0,0,g,y).stroke({color:k,width:T}):d==="squares"?D.rect(g,y).fill("none").stroke({color:k,width:T}):d==="circles"&&D.circle(g).fill("none").stroke({color:k,width:T})})}},{key:"drawGradient",value:function(d,g,y,k,T){var D,_=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,I=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,H=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,Z=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,j=this.w;g.length<9&&g.indexOf("#")===0&&(g=X.hexToRgba(g,k)),y.length<9&&y.indexOf("#")===0&&(y=X.hexToRgba(y,T));var te=0,ce=1,ue=1,ge=null;I!==null&&(te=I[0]!==void 0?I[0]/100:0,ce=I[1]!==void 0?I[1]/100:1,ue=I[2]!==void 0?I[2]/100:1,ge=I[3]!==void 0?I[3]/100:null);var be=!(j.config.chart.type!=="donut"&&j.config.chart.type!=="pie"&&j.config.chart.type!=="polarArea"&&j.config.chart.type!=="bubble");if(D=H===null||H.length===0?j.globals.dom.Paper.gradient(be?"radial":"linear",function(z){z.at(te,g,k),z.at(ce,y,T),z.at(ue,y,T),ge!==null&&z.at(ge,g,k)}):j.globals.dom.Paper.gradient(be?"radial":"linear",function(z){(Array.isArray(H[Z])?H[Z]:H).forEach(function(ie){z.at(ie.offset/100,ie.color,ie.opacity)})}),be){var ke=j.globals.gridWidth/2,Be=j.globals.gridHeight/2;j.config.chart.type!=="bubble"?D.attr({gradientUnits:"userSpaceOnUse",cx:ke,cy:Be,r:_}):D.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else d==="vertical"?D.from(0,0).to(0,1):d==="diagonal"?D.from(0,0).to(1,1):d==="horizontal"?D.from(0,1).to(1,1):d==="diagonal2"&&D.from(1,0).to(0,1);return D}},{key:"getTextBasedOnMaxWidth",value:function(d){var g=d.text,y=d.maxWidth,k=d.fontSize,T=d.fontFamily,D=this.getTextRects(g,k,T),_=D.width/g.length,I=Math.floor(y/_);return y<D.width?g.slice(0,I-3)+"...":g}},{key:"drawText",value:function(d){var g=this,y=d.x,k=d.y,T=d.text,D=d.textAnchor,_=d.fontSize,I=d.fontFamily,H=d.fontWeight,Z=d.foreColor,j=d.opacity,te=d.maxWidth,ce=d.cssClass,ue=ce===void 0?"":ce,ge=d.isPlainText,be=ge===void 0||ge,ke=this.w;T===void 0&&(T="");var Be=T;D||(D="start"),Z&&Z.length||(Z=ke.config.chart.foreColor),I=I||ke.config.chart.fontFamily,H=H||"regular";var z,ie={maxWidth:te,fontSize:_=_||"11px",fontFamily:I};return Array.isArray(T)?z=ke.globals.dom.Paper.text(function(de){for(var Se=0;Se<T.length;Se++)Be=T[Se],te&&(Be=g.getTextBasedOnMaxWidth(l({text:T[Se]},ie))),Se===0?de.tspan(Be):de.tspan(Be).newLine()}):(te&&(Be=this.getTextBasedOnMaxWidth(l({text:T},ie))),z=be?ke.globals.dom.Paper.plain(T):ke.globals.dom.Paper.text(function(de){return de.tspan(Be)})),z.attr({x:y,y:k,"text-anchor":D,"dominant-baseline":"auto","font-size":_,"font-family":I,"font-weight":H,fill:Z,class:"apexcharts-text "+ue}),z.node.style.fontFamily=I,z.node.style.opacity=j,z}},{key:"drawMarker",value:function(d,g,y){d=d||0;var k=y.pSize||0,T=null;if(y.shape==="square"||y.shape==="rect"){var D=y.pRadius===void 0?k/2:y.pRadius;g!==null&&k||(k=0,D=0);var _=1.2*k+D,I=this.drawRect(_,_,_,_,D);I.attr({x:d-_/2,y:g-_/2,cx:d,cy:g,class:y.class?y.class:"",fill:y.pointFillColor,"fill-opacity":y.pointFillOpacity?y.pointFillOpacity:1,stroke:y.pointStrokeColor,"stroke-width":y.pointStrokeWidth?y.pointStrokeWidth:0,"stroke-opacity":y.pointStrokeOpacity?y.pointStrokeOpacity:1}),T=I}else y.shape!=="circle"&&y.shape||(X.isNumber(g)||(k=0,g=0),T=this.drawCircle(k,{cx:d,cy:g,class:y.class?y.class:"",stroke:y.pointStrokeColor,fill:y.pointFillColor,"fill-opacity":y.pointFillOpacity?y.pointFillOpacity:1,"stroke-width":y.pointStrokeWidth?y.pointStrokeWidth:0,"stroke-opacity":y.pointStrokeOpacity?y.pointStrokeOpacity:1}));return T}},{key:"pathMouseEnter",value:function(d,g){var y=this.w,k=new he(this.ctx),T=parseInt(d.node.getAttribute("index"),10),D=parseInt(d.node.getAttribute("j"),10);if(typeof y.config.chart.events.dataPointMouseEnter=="function"&&y.config.chart.events.dataPointMouseEnter(g,this.ctx,{seriesIndex:T,dataPointIndex:D,w:y}),this.ctx.events.fireEvent("dataPointMouseEnter",[g,this.ctx,{seriesIndex:T,dataPointIndex:D,w:y}]),(y.config.states.active.filter.type==="none"||d.node.getAttribute("selected")!=="true")&&y.config.states.hover.filter.type!=="none"&&!y.globals.isTouchDevice){var _=y.config.states.hover.filter;k.applyFilter(d,T,_.type,_.value)}}},{key:"pathMouseLeave",value:function(d,g){var y=this.w,k=new he(this.ctx),T=parseInt(d.node.getAttribute("index"),10),D=parseInt(d.node.getAttribute("j"),10);typeof y.config.chart.events.dataPointMouseLeave=="function"&&y.config.chart.events.dataPointMouseLeave(g,this.ctx,{seriesIndex:T,dataPointIndex:D,w:y}),this.ctx.events.fireEvent("dataPointMouseLeave",[g,this.ctx,{seriesIndex:T,dataPointIndex:D,w:y}]),y.config.states.active.filter.type!=="none"&&d.node.getAttribute("selected")==="true"||y.config.states.hover.filter.type!=="none"&&k.getDefaultFilter(d,T)}},{key:"pathMouseDown",value:function(d,g){var y=this.w,k=new he(this.ctx),T=parseInt(d.node.getAttribute("index"),10),D=parseInt(d.node.getAttribute("j"),10),_="false";if(d.node.getAttribute("selected")==="true"){if(d.node.setAttribute("selected","false"),y.globals.selectedDataPoints[T].indexOf(D)>-1){var I=y.globals.selectedDataPoints[T].indexOf(D);y.globals.selectedDataPoints[T].splice(I,1)}}else{if(!y.config.states.active.allowMultipleDataPointsSelection&&y.globals.selectedDataPoints.length>0){y.globals.selectedDataPoints=[];var H=y.globals.dom.Paper.select(".apexcharts-series path").members,Z=y.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,j=function(ue){Array.prototype.forEach.call(ue,function(ge){ge.node.setAttribute("selected","false"),k.getDefaultFilter(ge,T)})};j(H),j(Z)}d.node.setAttribute("selected","true"),_="true",y.globals.selectedDataPoints[T]===void 0&&(y.globals.selectedDataPoints[T]=[]),y.globals.selectedDataPoints[T].push(D)}if(_==="true"){var te=y.config.states.active.filter;if(te!=="none")k.applyFilter(d,T,te.type,te.value);else if(y.config.states.hover.filter!=="none"&&!y.globals.isTouchDevice){var ce=y.config.states.hover.filter;k.applyFilter(d,T,ce.type,ce.value)}}else y.config.states.active.filter.type!=="none"&&(y.config.states.hover.filter.type==="none"||y.globals.isTouchDevice?k.getDefaultFilter(d,T):(ce=y.config.states.hover.filter,k.applyFilter(d,T,ce.type,ce.value)));typeof y.config.chart.events.dataPointSelection=="function"&&y.config.chart.events.dataPointSelection(g,this.ctx,{selectedDataPoints:y.globals.selectedDataPoints,seriesIndex:T,dataPointIndex:D,w:y}),g&&this.ctx.events.fireEvent("dataPointSelection",[g,this.ctx,{selectedDataPoints:y.globals.selectedDataPoints,seriesIndex:T,dataPointIndex:D,w:y}])}},{key:"rotateAroundCenter",value:function(d){var g={};return d&&typeof d.getBBox=="function"&&(g=d.getBBox()),{x:g.x+g.width/2,y:g.y+g.height/2}}},{key:"getTextRects",value:function(d,g,y,k){var T=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],D=this.w,_=this.drawText({x:-200,y:-200,text:d,textAnchor:"start",fontSize:g,fontFamily:y,foreColor:"#fff",opacity:0});k&&_.attr("transform",k),D.globals.dom.Paper.add(_);var I=_.bbox();return T||(I=_.node.getBoundingClientRect()),_.remove(),{width:I.width,height:I.height}}},{key:"placeTextWithEllipsis",value:function(d,g,y){if(typeof d.getComputedTextLength=="function"&&(d.textContent=g,g.length>0&&d.getComputedTextLength()>=y/1.1)){for(var k=g.length-3;k>0;k-=3)if(d.getSubStringLength(0,k)<=y/1.1)return void(d.textContent=g.substring(0,k)+"...");d.textContent="."}}}],[{key:"setAttrs",value:function(d,g){for(var y in g)g.hasOwnProperty(y)&&d.setAttribute(y,g[y])}}]),me}(),le=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"getStackedSeriesTotals",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=this.w,y=[];if(g.globals.series.length===0)return y;for(var k=0;k<g.globals.series[g.globals.maxValsInArrayIndex].length;k++){for(var T=0,D=0;D<g.globals.series.length;D++)g.globals.series[D][k]!==void 0&&d.indexOf(D)===-1&&(T+=g.globals.series[D][k]);y.push(T)}return y}},{key:"getSeriesTotalByIndex",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return d===null?this.w.config.series.reduce(function(g,y){return g+y},0):this.w.globals.series[d].reduce(function(g,y){return g+y},0)}},{key:"isSeriesNull",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(d===null?this.w.config.series.filter(function(g){return g!==null}):this.w.config.series[d].data.filter(function(g){return g!==null})).length===0}},{key:"seriesHaveSameValues",value:function(d){return this.w.globals.series[d].every(function(g,y,k){return g===k[0]})}},{key:"getCategoryLabels",value:function(d){var g=this.w,y=d.slice();return g.config.xaxis.convertedCatToNumeric&&(y=d.map(function(k,T){return g.config.xaxis.labels.formatter(k-g.globals.minX+1)})),y}},{key:"getLargestSeries",value:function(){var d=this.w;d.globals.maxValsInArrayIndex=d.globals.series.map(function(g){return g.length}).indexOf(Math.max.apply(Math,d.globals.series.map(function(g){return g.length})))}},{key:"getLargestMarkerSize",value:function(){var d=this.w,g=0;return d.globals.markers.size.forEach(function(y){g=Math.max(g,y)}),d.config.markers.discrete&&d.config.markers.discrete.length&&d.config.markers.discrete.forEach(function(y){g=Math.max(g,y.size)}),g>0&&(g+=d.config.markers.hover.sizeOffset+1),d.globals.markers.largestSize=g,g}},{key:"getSeriesTotals",value:function(){var d=this.w;d.globals.seriesTotals=d.globals.series.map(function(g,y){var k=0;if(Array.isArray(g))for(var T=0;T<g.length;T++)k+=g[T];else k+=g;return k})}},{key:"getSeriesTotalsXRange",value:function(d,g){var y=this.w;return y.globals.series.map(function(k,T){for(var D=0,_=0;_<k.length;_++)y.globals.seriesX[T][_]>d&&y.globals.seriesX[T][_]<g&&(D+=k[_]);return D})}},{key:"getPercentSeries",value:function(){var d=this.w;d.globals.seriesPercent=d.globals.series.map(function(g,y){var k=[];if(Array.isArray(g))for(var T=0;T<g.length;T++){var D=d.globals.stackedSeriesTotals[T],_=0;D&&(_=100*g[T]/D),k.push(_)}else{var I=100*g/d.globals.seriesTotals.reduce(function(H,Z){return H+Z},0);k.push(I)}return k})}},{key:"getCalculatedRatios",value:function(){var d,g,y,k,T=this.w.globals,D=[],_=0,I=[],H=.1,Z=0;if(T.yRange=[],T.isMultipleYAxis)for(var j=0;j<T.minYArr.length;j++)T.yRange.push(Math.abs(T.minYArr[j]-T.maxYArr[j])),I.push(0);else T.yRange.push(Math.abs(T.minY-T.maxY));T.xRange=Math.abs(T.maxX-T.minX),T.zRange=Math.abs(T.maxZ-T.minZ);for(var te=0;te<T.yRange.length;te++)D.push(T.yRange[te]/T.gridHeight);if(g=T.xRange/T.gridWidth,y=Math.abs(T.initialMaxX-T.initialMinX)/T.gridWidth,d=T.yRange/T.gridWidth,k=T.xRange/T.gridHeight,(_=T.zRange/T.gridHeight*16)||(_=1),T.minY!==Number.MIN_VALUE&&Math.abs(T.minY)!==0&&(T.hasNegs=!0),T.isMultipleYAxis){I=[];for(var ce=0;ce<D.length;ce++)I.push(-T.minYArr[ce]/D[ce])}else I.push(-T.minY/D[0]),T.minY!==Number.MIN_VALUE&&Math.abs(T.minY)!==0&&(H=-T.minY/d,Z=T.minX/g);return{yRatio:D,invertedYRatio:d,zRatio:_,xRatio:g,initialXRatio:y,invertedXRatio:k,baseLineInvertedY:H,baseLineY:I,baseLineX:Z}}},{key:"getLogSeries",value:function(d){var g=this,y=this.w;return y.globals.seriesLog=d.map(function(k,T){return y.config.yaxis[T]&&y.config.yaxis[T].logarithmic?k.map(function(D){return D===null?null:g.getLogVal(y.config.yaxis[T].logBase,D,T)}):k}),y.globals.invalidLogScale?d:y.globals.seriesLog}},{key:"getBaseLog",value:function(d,g){return Math.log(g)/Math.log(d)}},{key:"getLogVal",value:function(d,g,y){if(g===0)return 0;var k=this.w,T=k.globals.minYArr[y]===0?-1:this.getBaseLog(d,k.globals.minYArr[y]),D=(k.globals.maxYArr[y]===0?0:this.getBaseLog(d,k.globals.maxYArr[y]))-T;return g<1?g/D:(this.getBaseLog(d,g)-T)/D}},{key:"getLogYRatios",value:function(d){var g=this,y=this.w,k=this.w.globals;return k.yLogRatio=d.slice(),k.logYRange=k.yRange.map(function(T,D){if(y.config.yaxis[D]&&g.w.config.yaxis[D].logarithmic){var _,I=-Number.MAX_VALUE,H=Number.MIN_VALUE;return k.seriesLog.forEach(function(Z,j){Z.forEach(function(te){y.config.yaxis[j]&&y.config.yaxis[j].logarithmic&&(I=Math.max(te,I),H=Math.min(te,H))})}),_=Math.pow(k.yRange[D],Math.abs(H-I)/k.yRange[D]),k.yLogRatio[D]=_/k.gridHeight,_}}),k.invalidLogScale?d.slice():k.yLogRatio}}],[{key:"checkComboSeries",value:function(d){var g=!1,y=0,k=0;return d.length&&d[0].type!==void 0&&d.forEach(function(T){T.type!=="bar"&&T.type!=="column"&&T.type!=="candlestick"&&T.type!=="boxPlot"||y++,T.type!==void 0&&k++}),k>0&&(g=!0),{comboBarCount:y,comboCharts:g}}},{key:"extendArrayProps",value:function(d,g,y){return g.yaxis&&(g=d.extendYAxis(g,y)),g.annotations&&(g.annotations.yaxis&&(g=d.extendYAxisAnnotations(g)),g.annotations.xaxis&&(g=d.extendXAxisAnnotations(g)),g.annotations.points&&(g=d.extendPointAnnotations(g))),g}}]),me}(),G=function(){function me(d){f(this,me),this.w=d.w,this.annoCtx=d}return x(me,[{key:"setOrientations",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.w;if(d.label.orientation==="vertical"){var k=g!==null?g:0,T=y.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(k,"']"));if(T!==null){var D=T.getBoundingClientRect();T.setAttribute("x",parseFloat(T.getAttribute("x"))-D.height+4),d.label.position==="top"?T.setAttribute("y",parseFloat(T.getAttribute("y"))+D.width):T.setAttribute("y",parseFloat(T.getAttribute("y"))-D.width);var _=this.annoCtx.graphics.rotateAroundCenter(T),I=_.x,H=_.y;T.setAttribute("transform","rotate(-90 ".concat(I," ").concat(H,")"))}}}},{key:"addBackgroundToAnno",value:function(d,g){var y=this.w;if(!d||g.label.text===void 0||g.label.text!==void 0&&!String(g.label.text).trim())return null;var k=y.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),T=d.getBoundingClientRect(),D=g.label.style.padding.left,_=g.label.style.padding.right,I=g.label.style.padding.top,H=g.label.style.padding.bottom;g.label.orientation==="vertical"&&(I=g.label.style.padding.left,H=g.label.style.padding.right,D=g.label.style.padding.top,_=g.label.style.padding.bottom);var Z=T.left-k.left-D,j=T.top-k.top-I,te=this.annoCtx.graphics.drawRect(Z-y.globals.barPadForNumericAxis,j,T.width+D+_,T.height+I+H,g.label.borderRadius,g.label.style.background,1,g.label.borderWidth,g.label.borderColor,0);return g.id&&te.node.classList.add(g.id),te}},{key:"annotationsBackground",value:function(){var d=this,g=this.w,y=function(k,T,D){var _=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(D,"-annotations .apexcharts-").concat(D,"-annotation-label[rel='").concat(T,"']"));if(_){var I=_.parentNode,H=d.addBackgroundToAnno(_,k);H&&(I.insertBefore(H.node,_),k.label.mouseEnter&&H.node.addEventListener("mouseenter",k.label.mouseEnter.bind(d,k)),k.label.mouseLeave&&H.node.addEventListener("mouseleave",k.label.mouseLeave.bind(d,k)),k.label.click&&H.node.addEventListener("click",k.label.click.bind(d,k)))}};g.config.annotations.xaxis.map(function(k,T){y(k,T,"xaxis")}),g.config.annotations.yaxis.map(function(k,T){y(k,T,"yaxis")}),g.config.annotations.points.map(function(k,T){y(k,T,"point")})}},{key:"getY1Y2",value:function(d,g){var y,k=d==="y1"?g.y:g.y2,T=this.w;if(this.annoCtx.invertAxis){var D=T.globals.labels.indexOf(k);T.config.xaxis.convertedCatToNumeric&&(D=T.globals.categoryLabels.indexOf(k));var _=T.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(D+1)+")");_&&(y=parseFloat(_.getAttribute("y")))}else{var I;T.config.yaxis[g.yAxisIndex].logarithmic?I=(k=new le(this.annoCtx.ctx).getLogVal(k,g.yAxisIndex))/T.globals.yLogRatio[g.yAxisIndex]:I=(k-T.globals.minYArr[g.yAxisIndex])/(T.globals.yRange[g.yAxisIndex]/T.globals.gridHeight),y=T.globals.gridHeight-I,!g.marker||g.y!==void 0&&g.y!==null||(y=0),T.config.yaxis[g.yAxisIndex]&&T.config.yaxis[g.yAxisIndex].reversed&&(y=I)}return typeof k=="string"&&k.indexOf("px")>-1&&(y=parseFloat(k)),y}},{key:"getX1X2",value:function(d,g){var y=this.w,k=this.annoCtx.invertAxis?y.globals.minY:y.globals.minX,T=this.annoCtx.invertAxis?y.globals.maxY:y.globals.maxX,D=this.annoCtx.invertAxis?y.globals.yRange[0]:y.globals.xRange,_=(g.x-k)/(D/y.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(_=(T-g.x)/(D/y.globals.gridWidth)),y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||y.globals.dataFormatXNumeric||(_=this.getStringX(g.x));var I=(g.x2-k)/(D/y.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(I=(T-g.x2)/(D/y.globals.gridWidth)),y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||y.globals.dataFormatXNumeric||(I=this.getStringX(g.x2)),g.x!==void 0&&g.x!==null||!g.marker||(_=y.globals.gridWidth),d==="x1"&&typeof g.x=="string"&&g.x.indexOf("px")>-1&&(_=parseFloat(g.x)),d==="x2"&&typeof g.x2=="string"&&g.x2.indexOf("px")>-1&&(I=parseFloat(g.x2)),d==="x1"?_:I}},{key:"getStringX",value:function(d){var g=this.w,y=d;g.config.xaxis.convertedCatToNumeric&&g.globals.categoryLabels.length&&(d=g.globals.categoryLabels.indexOf(d)+1);var k=g.globals.labels.indexOf(d),T=g.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(k+1)+")");return T&&(y=parseFloat(T.getAttribute("x"))),y}}]),me}(),oe=function(){function me(d){f(this,me),this.w=d.w,this.annoCtx=d,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new G(this.annoCtx)}return x(me,[{key:"addXaxisAnnotation",value:function(d,g,y){var k,T=this.w,D=this.helpers.getX1X2("x1",d),_=d.label.text,I=d.strokeDashArray;if(X.isNumber(D)){if(d.x2===null||d.x2===void 0){var H=this.annoCtx.graphics.drawLine(D+d.offsetX,0+d.offsetY,D+d.offsetX,T.globals.gridHeight+d.offsetY,d.borderColor,I,d.borderWidth);g.appendChild(H.node),d.id&&H.node.classList.add(d.id)}else{if((k=this.helpers.getX1X2("x2",d))<D){var Z=D;D=k,k=Z}var j=this.annoCtx.graphics.drawRect(D+d.offsetX,0+d.offsetY,k-D,T.globals.gridHeight+d.offsetY,0,d.fillColor,d.opacity,1,d.borderColor,I);j.node.classList.add("apexcharts-annotation-rect"),j.attr("clip-path","url(#gridRectMask".concat(T.globals.cuid,")")),g.appendChild(j.node),d.id&&j.node.classList.add(d.id)}var te=this.annoCtx.graphics.getTextRects(_,parseFloat(d.label.style.fontSize)),ce=d.label.position==="top"?4:d.label.position==="center"?T.globals.gridHeight/2+(d.label.orientation==="vertical"?te.width/2:0):T.globals.gridHeight,ue=this.annoCtx.graphics.drawText({x:D+d.label.offsetX,y:ce+d.label.offsetY-(d.label.orientation==="vertical"?d.label.position==="top"?te.width/2-12:-te.width/2:0),text:_,textAnchor:d.label.textAnchor,fontSize:d.label.style.fontSize,fontFamily:d.label.style.fontFamily,fontWeight:d.label.style.fontWeight,foreColor:d.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(d.label.style.cssClass," ").concat(d.id?d.id:"")});ue.attr({rel:y}),g.appendChild(ue.node),this.annoCtx.helpers.setOrientations(d,y)}}},{key:"drawXAxisAnnotations",value:function(){var d=this,g=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return g.config.annotations.xaxis.map(function(k,T){d.addXaxisAnnotation(k,y.node,T)}),y}}]),me}(),fe=function(){function me(d){f(this,me),this.w=d.w,this.annoCtx=d,this.helpers=new G(this.annoCtx)}return x(me,[{key:"addYaxisAnnotation",value:function(d,g,y){var k,T=this.w,D=d.strokeDashArray,_=this.helpers.getY1Y2("y1",d),I=d.label.text;if(d.y2===null||d.y2===void 0){var H=this.annoCtx.graphics.drawLine(0+d.offsetX,_+d.offsetY,this._getYAxisAnnotationWidth(d),_+d.offsetY,d.borderColor,D,d.borderWidth);g.appendChild(H.node),d.id&&H.node.classList.add(d.id)}else{if((k=this.helpers.getY1Y2("y2",d))>_){var Z=_;_=k,k=Z}var j=this.annoCtx.graphics.drawRect(0+d.offsetX,k+d.offsetY,this._getYAxisAnnotationWidth(d),_-k,0,d.fillColor,d.opacity,1,d.borderColor,D);j.node.classList.add("apexcharts-annotation-rect"),j.attr("clip-path","url(#gridRectMask".concat(T.globals.cuid,")")),g.appendChild(j.node),d.id&&j.node.classList.add(d.id)}var te=d.label.position==="right"?T.globals.gridWidth:d.label.position==="center"?T.globals.gridWidth/2:0,ce=this.annoCtx.graphics.drawText({x:te+d.label.offsetX,y:(k??_)+d.label.offsetY-3,text:I,textAnchor:d.label.textAnchor,fontSize:d.label.style.fontSize,fontFamily:d.label.style.fontFamily,fontWeight:d.label.style.fontWeight,foreColor:d.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(d.label.style.cssClass," ").concat(d.id?d.id:"")});ce.attr({rel:y}),g.appendChild(ce.node)}},{key:"_getYAxisAnnotationWidth",value:function(d){var g=this.w;return g.globals.gridWidth,(d.width.indexOf("%")>-1?g.globals.gridWidth*parseInt(d.width,10)/100:parseInt(d.width,10))+d.offsetX}},{key:"drawYAxisAnnotations",value:function(){var d=this,g=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return g.config.annotations.yaxis.map(function(k,T){d.addYaxisAnnotation(k,y.node,T)}),y}}]),me}(),pe=function(){function me(d){f(this,me),this.w=d.w,this.annoCtx=d,this.helpers=new G(this.annoCtx)}return x(me,[{key:"addPointAnnotation",value:function(d,g,y){this.w;var k=this.helpers.getX1X2("x1",d),T=this.helpers.getY1Y2("y1",d);if(X.isNumber(k)){var D={pSize:d.marker.size,pointStrokeWidth:d.marker.strokeWidth,pointFillColor:d.marker.fillColor,pointStrokeColor:d.marker.strokeColor,shape:d.marker.shape,pRadius:d.marker.radius,class:"apexcharts-point-annotation-marker ".concat(d.marker.cssClass," ").concat(d.id?d.id:"")},_=this.annoCtx.graphics.drawMarker(k+d.marker.offsetX,T+d.marker.offsetY,D);g.appendChild(_.node);var I=d.label.text?d.label.text:"",H=this.annoCtx.graphics.drawText({x:k+d.label.offsetX,y:T+d.label.offsetY-d.marker.size-parseFloat(d.label.style.fontSize)/1.6,text:I,textAnchor:d.label.textAnchor,fontSize:d.label.style.fontSize,fontFamily:d.label.style.fontFamily,fontWeight:d.label.style.fontWeight,foreColor:d.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(d.label.style.cssClass," ").concat(d.id?d.id:"")});if(H.attr({rel:y}),g.appendChild(H.node),d.customSVG.SVG){var Z=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+d.customSVG.cssClass});Z.attr({transform:"translate(".concat(k+d.customSVG.offsetX,", ").concat(T+d.customSVG.offsetY,")")}),Z.node.innerHTML=d.customSVG.SVG,g.appendChild(Z.node)}if(d.image.path){var j=d.image.width?d.image.width:20,te=d.image.height?d.image.height:20;_=this.annoCtx.addImage({x:k+d.image.offsetX-j/2,y:T+d.image.offsetY-te/2,width:j,height:te,path:d.image.path,appendTo:".apexcharts-point-annotations"})}d.mouseEnter&&_.node.addEventListener("mouseenter",d.mouseEnter.bind(this,d)),d.mouseLeave&&_.node.addEventListener("mouseleave",d.mouseLeave.bind(this,d)),d.click&&_.node.addEventListener("click",d.click.bind(this,d))}}},{key:"drawPointAnnotations",value:function(){var d=this,g=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return g.config.annotations.points.map(function(k,T){d.addPointAnnotation(k,y.node,T)}),y}}]),me}(),Te={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},De=function(){function me(){f(this,me),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return x(me,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Te],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(d){return new Date(d).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(d){return d}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(d){return d+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(d){return d.globals.seriesTotals.reduce(function(g,y){return g+y},0)/d.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(d){return d}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(d){return d}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(d){return d.globals.seriesTotals.reduce(function(g,y){return g+y},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(d){return d!==null?d:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(d){return d?d+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),me}(),Me=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.graphics=new K(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new G(this),this.xAxisAnnotations=new oe(this),this.yAxisAnnotations=new fe(this),this.pointsAnnotations=new pe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return x(me,[{key:"drawAxesAnnotations",value:function(){var d=this.w;if(d.globals.axisCharts){for(var g=this.yAxisAnnotations.drawYAxisAnnotations(),y=this.xAxisAnnotations.drawXAxisAnnotations(),k=this.pointsAnnotations.drawPointAnnotations(),T=d.config.chart.animations.enabled,D=[g,y,k],_=[y.node,g.node,k.node],I=0;I<3;I++)d.globals.dom.elGraphical.add(D[I]),!T||d.globals.resized||d.globals.dataChanged||d.config.chart.type!=="scatter"&&d.config.chart.type!=="bubble"&&d.globals.dataPoints>1&&_[I].classList.add("apexcharts-element-hidden"),d.globals.delayedElements.push({el:_[I],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var d=this;this.w.config.annotations.images.map(function(g,y){d.addImage(g,y)})}},{key:"drawTextAnnos",value:function(){var d=this;this.w.config.annotations.texts.map(function(g,y){d.addText(g,y)})}},{key:"addXaxisAnnotation",value:function(d,g,y){this.xAxisAnnotations.addXaxisAnnotation(d,g,y)}},{key:"addYaxisAnnotation",value:function(d,g,y){this.yAxisAnnotations.addYaxisAnnotation(d,g,y)}},{key:"addPointAnnotation",value:function(d,g,y){this.pointsAnnotations.addPointAnnotation(d,g,y)}},{key:"addText",value:function(d,g){var y=d.x,k=d.y,T=d.text,D=d.textAnchor,_=d.foreColor,I=d.fontSize,H=d.fontFamily,Z=d.fontWeight,j=d.cssClass,te=d.backgroundColor,ce=d.borderWidth,ue=d.strokeDashArray,ge=d.borderRadius,be=d.borderColor,ke=d.appendTo,Be=ke===void 0?".apexcharts-annotations":ke,z=d.paddingLeft,ie=z===void 0?4:z,de=d.paddingRight,Se=de===void 0?4:de,Ne=d.paddingBottom,Oe=Ne===void 0?2:Ne,ot=d.paddingTop,nt=ot===void 0?2:ot,Dt=this.w,It=this.graphics.drawText({x:y,y:k,text:T,textAnchor:D||"start",fontSize:I||"12px",fontWeight:Z||"regular",fontFamily:H||Dt.config.chart.fontFamily,foreColor:_||Dt.config.chart.foreColor,cssClass:j}),qt=Dt.globals.dom.baseEl.querySelector(Be);qt&&qt.appendChild(It.node);var ti=It.bbox();if(T){var Et=this.graphics.drawRect(ti.x-ie,ti.y-nt,ti.width+ie+Se,ti.height+Oe+nt,ge,te||"transparent",1,ce,be,ue);qt.insertBefore(Et.node,It.node)}}},{key:"addImage",value:function(d,g){var y=this.w,k=d.path,T=d.x,D=T===void 0?0:T,_=d.y,I=_===void 0?0:_,H=d.width,Z=H===void 0?20:H,j=d.height,te=j===void 0?20:j,ce=d.appendTo,ue=ce===void 0?".apexcharts-annotations":ce,ge=y.globals.dom.Paper.image(k);ge.size(Z,te).move(D,I);var be=y.globals.dom.baseEl.querySelector(ue);return be&&be.appendChild(ge.node),ge}},{key:"addXaxisAnnotationExternal",value:function(d,g,y){return this.addAnnotationExternal({params:d,pushToMemory:g,context:y,type:"xaxis",contextMethod:y.addXaxisAnnotation}),y}},{key:"addYaxisAnnotationExternal",value:function(d,g,y){return this.addAnnotationExternal({params:d,pushToMemory:g,context:y,type:"yaxis",contextMethod:y.addYaxisAnnotation}),y}},{key:"addPointAnnotationExternal",value:function(d,g,y){return this.invertAxis===void 0&&(this.invertAxis=y.w.globals.isBarHorizontal),this.addAnnotationExternal({params:d,pushToMemory:g,context:y,type:"point",contextMethod:y.addPointAnnotation}),y}},{key:"addAnnotationExternal",value:function(d){var g=d.params,y=d.pushToMemory,k=d.context,T=d.type,D=d.contextMethod,_=k,I=_.w,H=I.globals.dom.baseEl.querySelector(".apexcharts-".concat(T,"-annotations")),Z=H.childNodes.length+1,j=new De,te=Object.assign({},T==="xaxis"?j.xAxisAnnotation:T==="yaxis"?j.yAxisAnnotation:j.pointAnnotation),ce=X.extend(te,g);switch(T){case"xaxis":this.addXaxisAnnotation(ce,H,Z);break;case"yaxis":this.addYaxisAnnotation(ce,H,Z);break;case"point":this.addPointAnnotation(ce,H,Z)}var ue=I.globals.dom.baseEl.querySelector(".apexcharts-".concat(T,"-annotations .apexcharts-").concat(T,"-annotation-label[rel='").concat(Z,"']")),ge=this.helpers.addBackgroundToAnno(ue,ce);return ge&&H.insertBefore(ge.node,ue),y&&I.globals.memory.methodsToExec.push({context:_,id:ce.id?ce.id:X.randomId(),method:D,label:"addAnnotation",params:g}),k}},{key:"clearAnnotations",value:function(d){var g=d.w,y=g.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");g.globals.memory.methodsToExec.map(function(k,T){k.label!=="addText"&&k.label!=="addAnnotation"||g.globals.memory.methodsToExec.splice(T,1)}),y=X.listToArray(y),Array.prototype.forEach.call(y,function(k){for(;k.firstChild;)k.removeChild(k.firstChild)})}},{key:"removeAnnotation",value:function(d,g){var y=d.w,k=y.globals.dom.baseEl.querySelectorAll(".".concat(g));k&&(y.globals.memory.methodsToExec.map(function(T,D){T.id===g&&y.globals.memory.methodsToExec.splice(D,1)}),Array.prototype.forEach.call(k,function(T){T.parentElement.removeChild(T)}))}}]),me}(),He=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return x(me,[{key:"isValidDate",value:function(d){return!isNaN(this.parseDate(d))}},{key:"getTimeStamp",value:function(d){return Date.parse(d)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(d).toISOString().substr(0,25)).getTime():new Date(d).getTime():d}},{key:"getDate",value:function(d){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(d).toUTCString()):new Date(d)}},{key:"parseDate",value:function(d){var g=Date.parse(d);if(!isNaN(g))return this.getTimeStamp(d);var y=Date.parse(d.replace(/-/g,"/").replace(/[a-z]+/gi," "));return y=this.getTimeStamp(y)}},{key:"parseDateWithTimezone",value:function(d){return Date.parse(d.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(d,g){var y=this.w.globals.locale,k=this.w.config.xaxis.labels.datetimeUTC,T=["\0"].concat(Y(y.months)),D=[""].concat(Y(y.shortMonths)),_=[""].concat(Y(y.days)),I=[""].concat(Y(y.shortDays));function H(Oe,ot){var nt=Oe+"";for(ot=ot||2;nt.length<ot;)nt="0"+nt;return nt}var Z=k?d.getUTCFullYear():d.getFullYear();g=(g=(g=g.replace(/(^|[^\\])yyyy+/g,"$1"+Z)).replace(/(^|[^\\])yy/g,"$1"+Z.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+Z);var j=(k?d.getUTCMonth():d.getMonth())+1;g=(g=(g=(g=g.replace(/(^|[^\\])MMMM+/g,"$1"+T[0])).replace(/(^|[^\\])MMM/g,"$1"+D[0])).replace(/(^|[^\\])MM/g,"$1"+H(j))).replace(/(^|[^\\])M/g,"$1"+j);var te=k?d.getUTCDate():d.getDate();g=(g=(g=(g=g.replace(/(^|[^\\])dddd+/g,"$1"+_[0])).replace(/(^|[^\\])ddd/g,"$1"+I[0])).replace(/(^|[^\\])dd/g,"$1"+H(te))).replace(/(^|[^\\])d/g,"$1"+te);var ce=k?d.getUTCHours():d.getHours(),ue=ce>12?ce-12:ce===0?12:ce;g=(g=(g=(g=g.replace(/(^|[^\\])HH+/g,"$1"+H(ce))).replace(/(^|[^\\])H/g,"$1"+ce)).replace(/(^|[^\\])hh+/g,"$1"+H(ue))).replace(/(^|[^\\])h/g,"$1"+ue);var ge=k?d.getUTCMinutes():d.getMinutes();g=(g=g.replace(/(^|[^\\])mm+/g,"$1"+H(ge))).replace(/(^|[^\\])m/g,"$1"+ge);var be=k?d.getUTCSeconds():d.getSeconds();g=(g=g.replace(/(^|[^\\])ss+/g,"$1"+H(be))).replace(/(^|[^\\])s/g,"$1"+be);var ke=k?d.getUTCMilliseconds():d.getMilliseconds();g=g.replace(/(^|[^\\])fff+/g,"$1"+H(ke,3)),ke=Math.round(ke/10),g=g.replace(/(^|[^\\])ff/g,"$1"+H(ke)),ke=Math.round(ke/10);var Be=ce<12?"AM":"PM";g=(g=(g=g.replace(/(^|[^\\])f/g,"$1"+ke)).replace(/(^|[^\\])TT+/g,"$1"+Be)).replace(/(^|[^\\])T/g,"$1"+Be.charAt(0));var z=Be.toLowerCase();g=(g=g.replace(/(^|[^\\])tt+/g,"$1"+z)).replace(/(^|[^\\])t/g,"$1"+z.charAt(0));var ie=-d.getTimezoneOffset(),de=k||!ie?"Z":ie>0?"+":"-";if(!k){var Se=(ie=Math.abs(ie))%60;de+=H(Math.floor(ie/60))+":"+H(Se)}g=g.replace(/(^|[^\\])K/g,"$1"+de);var Ne=(k?d.getUTCDay():d.getDay())+1;return g=(g=(g=(g=(g=g.replace(new RegExp(_[0],"g"),_[Ne])).replace(new RegExp(I[0],"g"),I[Ne])).replace(new RegExp(T[0],"g"),T[j])).replace(new RegExp(D[0],"g"),D[j])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(d,g,y){var k=this.w;k.config.xaxis.min!==void 0&&(d=k.config.xaxis.min),k.config.xaxis.max!==void 0&&(g=k.config.xaxis.max);var T=this.getDate(d),D=this.getDate(g),_=this.formatDate(T,"yyyy MM dd HH mm ss fff").split(" "),I=this.formatDate(D,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(_[6],10),maxMillisecond:parseInt(I[6],10),minSecond:parseInt(_[5],10),maxSecond:parseInt(I[5],10),minMinute:parseInt(_[4],10),maxMinute:parseInt(I[4],10),minHour:parseInt(_[3],10),maxHour:parseInt(I[3],10),minDate:parseInt(_[2],10),maxDate:parseInt(I[2],10),minMonth:parseInt(_[1],10)-1,maxMonth:parseInt(I[1],10)-1,minYear:parseInt(_[0],10),maxYear:parseInt(I[0],10)}}},{key:"isLeapYear",value:function(d){return d%4==0&&d%100!=0||d%400==0}},{key:"calculcateLastDaysOfMonth",value:function(d,g,y){return this.determineDaysOfMonths(d,g)-y}},{key:"determineDaysOfYear",value:function(d){var g=365;return this.isLeapYear(d)&&(g=366),g}},{key:"determineRemainingDaysOfYear",value:function(d,g,y){var k=this.daysCntOfYear[g]+y;return g>1&&this.isLeapYear()&&k++,k}},{key:"determineDaysOfMonths",value:function(d,g){var y=30;switch(d=X.monthMod(d),!0){case this.months30.indexOf(d)>-1:d===2&&(y=this.isLeapYear(g)?29:28);break;case this.months31.indexOf(d)>-1:default:y=31}return y}}]),me}(),je=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.tooltipKeyFormat="dd MMM"}return x(me,[{key:"xLabelFormat",value:function(d,g,y,k){var T=this.w;if(T.config.xaxis.type==="datetime"&&T.config.xaxis.labels.formatter===void 0&&T.config.tooltip.x.formatter===void 0){var D=new He(this.ctx);return D.formatDate(D.getDate(g),T.config.tooltip.x.format)}return d(g,y,k)}},{key:"defaultGeneralFormatter",value:function(d){return Array.isArray(d)?d.map(function(g){return g}):d}},{key:"defaultYFormatter",value:function(d,g,y){var k=this.w;return X.isNumber(d)&&(d=k.globals.yValueDecimal!==0?d.toFixed(g.decimalsInFloat!==void 0?g.decimalsInFloat:k.globals.yValueDecimal):k.globals.maxYArr[y]-k.globals.minYArr[y]<5?d.toFixed(1):d.toFixed(0)),d}},{key:"setLabelFormatters",value:function(){var d=this,g=this.w;return g.globals.xaxisTooltipFormatter=function(y){return d.defaultGeneralFormatter(y)},g.globals.ttKeyFormatter=function(y){return d.defaultGeneralFormatter(y)},g.globals.ttZFormatter=function(y){return y},g.globals.legendFormatter=function(y){return d.defaultGeneralFormatter(y)},g.config.xaxis.labels.formatter!==void 0?g.globals.xLabelFormatter=g.config.xaxis.labels.formatter:g.globals.xLabelFormatter=function(y){if(X.isNumber(y)){if(!g.config.xaxis.convertedCatToNumeric&&g.config.xaxis.type==="numeric"){if(X.isNumber(g.config.xaxis.decimalsInFloat))return y.toFixed(g.config.xaxis.decimalsInFloat);var k=g.globals.maxX-g.globals.minX;return k>0&&k<100?y.toFixed(1):y.toFixed(0)}return g.globals.isBarHorizontal&&g.globals.maxY-g.globals.minYArr<4?y.toFixed(1):y.toFixed(0)}return y},typeof g.config.tooltip.x.formatter=="function"?g.globals.ttKeyFormatter=g.config.tooltip.x.formatter:g.globals.ttKeyFormatter=g.globals.xLabelFormatter,typeof g.config.xaxis.tooltip.formatter=="function"&&(g.globals.xaxisTooltipFormatter=g.config.xaxis.tooltip.formatter),(Array.isArray(g.config.tooltip.y)||g.config.tooltip.y.formatter!==void 0)&&(g.globals.ttVal=g.config.tooltip.y),g.config.tooltip.z.formatter!==void 0&&(g.globals.ttZFormatter=g.config.tooltip.z.formatter),g.config.legend.formatter!==void 0&&(g.globals.legendFormatter=g.config.legend.formatter),g.config.yaxis.forEach(function(y,k){y.labels.formatter!==void 0?g.globals.yLabelFormatters[k]=y.labels.formatter:g.globals.yLabelFormatters[k]=function(T){return g.globals.xyCharts?Array.isArray(T)?T.map(function(D){return d.defaultYFormatter(D,y,k)}):d.defaultYFormatter(T,y,k):T}}),g.globals}},{key:"heatmapLabelFormatters",value:function(){var d=this.w;if(d.config.chart.type==="heatmap"){d.globals.yAxisScale[0].result=d.globals.seriesNames.slice();var g=d.globals.seriesNames.reduce(function(y,k){return y.length>k.length?y:k},0);d.globals.yAxisScale[0].niceMax=g,d.globals.yAxisScale[0].niceMin=g}}}]),me}(),tt=function(me){var d,g=me.isTimeline,y=me.ctx,k=me.seriesIndex,T=me.dataPointIndex,D=me.y1,_=me.y2,I=me.w,H=I.globals.seriesRangeStart[k][T],Z=I.globals.seriesRangeEnd[k][T],j=I.globals.labels[T],te=I.config.series[k].name?I.config.series[k].name:"",ce=I.globals.ttKeyFormatter,ue=I.config.tooltip.y.title.formatter,ge={w:I,seriesIndex:k,dataPointIndex:T,start:H,end:Z};typeof ue=="function"&&(te=ue(te,ge)),(d=I.config.series[k].data[T])!==null&&d!==void 0&&d.x&&(j=I.config.series[k].data[T].x),g||I.config.xaxis.type==="datetime"&&(j=new je(y).xLabelFormat(I.globals.ttKeyFormatter,j,j,{i:void 0,dateFormatter:new He(y).formatDate,w:I})),typeof ce=="function"&&(j=ce(j,ge)),Number.isFinite(D)&&Number.isFinite(_)&&(H=D,Z=_);var be="",ke="",Be=I.globals.colors[k];if(I.config.tooltip.x.formatter===void 0)if(I.config.xaxis.type==="datetime"){var z=new He(y);be=z.formatDate(z.getDate(H),I.config.tooltip.x.format),ke=z.formatDate(z.getDate(Z),I.config.tooltip.x.format)}else be=H,ke=Z;else be=I.config.tooltip.x.formatter(H),ke=I.config.tooltip.x.formatter(Z);return{start:H,end:Z,startVal:be,endVal:ke,ylabel:j,color:Be,seriesName:te}},Ze=function(me){var d=me.color,g=me.seriesName,y=me.ylabel,k=me.start,T=me.end,D=me.seriesIndex,_=me.dataPointIndex,I=me.ctx.tooltip.tooltipLabels.getFormatters(D);k=I.yLbFormatter(k),T=I.yLbFormatter(T);var H=I.yLbFormatter(me.w.globals.series[D][_]),Z=`<span class="value start-value">
  `.concat(k,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(T,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+d+'">'+(g||"")+'</span></div><div> <span class="category">'+y+": </span> "+(me.w.globals.comboCharts?me.w.config.series[D].type==="rangeArea"||me.w.config.series[D].type==="rangeBar"?Z:"<span>".concat(H,"</span>"):Z)+" </div></div>"},ft=function(){function me(d){f(this,me),this.opts=d}return x(me,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(d){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,X.extend(d,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var d=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(g){var y=g.seriesIndex,k=g.dataPointIndex,T=g.w;return d._getBoxTooltip(T,y,k,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var d=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(g){var y=g.seriesIndex,k=g.dataPointIndex,T=g.w;return d._getBoxTooltip(T,y,k,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(d,g){g.ctx;var y=g.seriesIndex,k=g.dataPointIndex,T=g.w,D=function(){var _=T.globals.seriesRangeStart[y][k];return T.globals.seriesRangeEnd[y][k]-_};return T.globals.comboCharts?T.config.series[y].type==="rangeBar"||T.config.series[y].type==="rangeArea"?D():d:D()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(d){return d.w.config.plotOptions&&d.w.config.plotOptions.bar&&d.w.config.plotOptions.bar.horizontal?function(g){var y=tt(l(l({},g),{},{isTimeline:!0})),k=y.color,T=y.seriesName,D=y.ylabel,_=y.startVal,I=y.endVal;return Ze(l(l({},g),{},{color:k,seriesName:T,ylabel:D,start:_,end:I}))}(d):function(g){var y=tt(g),k=y.color,T=y.seriesName,D=y.ylabel,_=y.start,I=y.end;return Ze(l(l({},g),{},{color:k,seriesName:T,ylabel:D,start:_,end:I}))}(d)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(d){return function(g){var y=tt(g),k=y.color,T=y.seriesName,D=y.ylabel,_=y.start,I=y.end;return Ze(l(l({},g),{},{color:k,seriesName:T,ylabel:D,start:_,end:I}))}(d)}}}}},{key:"brush",value:function(d){return X.extend(d,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(d){d.dataLabels=d.dataLabels||{},d.dataLabels.formatter=d.dataLabels.formatter||void 0;var g=d.dataLabels.formatter;return d.yaxis.forEach(function(y,k){d.yaxis[k].min=0,d.yaxis[k].max=100}),d.chart.type==="bar"&&(d.dataLabels.formatter=g||function(y){return typeof y=="number"&&y?y.toFixed(0)+"%":y}),d}},{key:"stackedBars",value:function(){var d=this.bar();return l(l({},d),{},{plotOptions:l(l({},d.plotOptions),{},{bar:l(l({},d.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(d){return d.xaxis.convertedCatToNumeric=!0,d}},{key:"convertCatToNumericXaxis",value:function(d,g,y){d.xaxis.type="numeric",d.xaxis.labels=d.xaxis.labels||{},d.xaxis.labels.formatter=d.xaxis.labels.formatter||function(D){return X.isNumber(D)?Math.floor(D):D};var k=d.xaxis.labels.formatter,T=d.xaxis.categories&&d.xaxis.categories.length?d.xaxis.categories:d.labels;return y&&y.length&&(T=y.map(function(D){return Array.isArray(D)?D:String(D)})),T&&T.length&&(d.xaxis.labels.formatter=function(D){return X.isNumber(D)?k(T[Math.floor(D)-1]):k(D)}),d.xaxis.categories=[],d.labels=[],d.xaxis.tickAmount=d.xaxis.tickAmount||"dataPoints",d}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(d){return d.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(d){return d.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(d){return d.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(d){return d},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(d,g,y,k,T){var D=d.globals.seriesCandleO[g][y],_=d.globals.seriesCandleH[g][y],I=d.globals.seriesCandleM[g][y],H=d.globals.seriesCandleL[g][y],Z=d.globals.seriesCandleC[g][y];return d.config.series[g].type&&d.config.series[g].type!==T?`<div class="apexcharts-custom-tooltip">
          `.concat(d.config.series[g].name?d.config.series[g].name:"series-"+(g+1),": <strong>").concat(d.globals.series[g][y],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(d.config.chart.type,'">')+"<div>".concat(k[0],': <span class="value">')+D+"</span></div>"+"<div>".concat(k[1],': <span class="value">')+_+"</span></div>"+(I?"<div>".concat(k[2],': <span class="value">')+I+"</span></div>":"")+"<div>".concat(k[3],': <span class="value">')+H+"</span></div>"+"<div>".concat(k[4],': <span class="value">')+Z+"</span></div></div>"}}]),me}(),Je=function(){function me(d){f(this,me),this.opts=d}return x(me,[{key:"init",value:function(d){var g=d.responsiveOverride,y=this.opts,k=new De,T=new ft(y);this.chartType=y.chart.type,y=this.extendYAxis(y),y=this.extendAnnotations(y);var D=k.init(),_={};if(y&&c(y)==="object"){var I={};I=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(y.chart.type)!==-1?T[y.chart.type]():T.line(),y.chart.stacked&&y.chart.type==="bar"&&(I=T.stackedBars()),y.chart.brush&&y.chart.brush.enabled&&(I=T.brush(I)),y.chart.stacked&&y.chart.stackType==="100%"&&(y=T.stacked100(y)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(y),y.xaxis=y.xaxis||window.Apex.xaxis||{},g||(y.xaxis.convertedCatToNumeric=!1),((y=this.checkForCatToNumericXAxis(this.chartType,I,y)).chart.sparkline&&y.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(I=T.sparkline(I)),_=X.extend(D,I)}var H=X.extend(_,window.Apex);return D=X.extend(H,y),D=this.handleUserInputErrors(D)}},{key:"checkForCatToNumericXAxis",value:function(d,g,y){var k=new ft(y),T=(d==="bar"||d==="boxPlot")&&y.plotOptions&&y.plotOptions.bar&&y.plotOptions.bar.horizontal,D=d==="pie"||d==="polarArea"||d==="donut"||d==="radar"||d==="radialBar"||d==="heatmap",_=y.xaxis.type!=="datetime"&&y.xaxis.type!=="numeric",I=y.xaxis.tickPlacement?y.xaxis.tickPlacement:g.xaxis&&g.xaxis.tickPlacement;return T||D||!_||I==="between"||(y=k.convertCatToNumeric(y)),y}},{key:"extendYAxis",value:function(d,g){var y=new De;(d.yaxis===void 0||!d.yaxis||Array.isArray(d.yaxis)&&d.yaxis.length===0)&&(d.yaxis={}),d.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(d.yaxis=X.extend(d.yaxis,window.Apex.yaxis)),d.yaxis.constructor!==Array?d.yaxis=[X.extend(y.yAxis,d.yaxis)]:d.yaxis=X.extendArray(d.yaxis,y.yAxis);var k=!1;d.yaxis.forEach(function(D){D.logarithmic&&(k=!0)});var T=d.series;return g&&!T&&(T=g.config.series),k&&T.length!==d.yaxis.length&&T.length&&(d.yaxis=T.map(function(D,_){if(D.name||(T[_].name="series-".concat(_+1)),d.yaxis[_])return d.yaxis[_].seriesName=T[_].name,d.yaxis[_];var I=X.extend(y.yAxis,d.yaxis[0]);return I.show=!1,I})),k&&T.length>1&&T.length!==d.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),d}},{key:"extendAnnotations",value:function(d){return d.annotations===void 0&&(d.annotations={},d.annotations.yaxis=[],d.annotations.xaxis=[],d.annotations.points=[]),d=this.extendYAxisAnnotations(d),d=this.extendXAxisAnnotations(d),d=this.extendPointAnnotations(d)}},{key:"extendYAxisAnnotations",value:function(d){var g=new De;return d.annotations.yaxis=X.extendArray(d.annotations.yaxis!==void 0?d.annotations.yaxis:[],g.yAxisAnnotation),d}},{key:"extendXAxisAnnotations",value:function(d){var g=new De;return d.annotations.xaxis=X.extendArray(d.annotations.xaxis!==void 0?d.annotations.xaxis:[],g.xAxisAnnotation),d}},{key:"extendPointAnnotations",value:function(d){var g=new De;return d.annotations.points=X.extendArray(d.annotations.points!==void 0?d.annotations.points:[],g.pointAnnotation),d}},{key:"checkForDarkTheme",value:function(d){d.theme&&d.theme.mode==="dark"&&(d.tooltip||(d.tooltip={}),d.tooltip.theme!=="light"&&(d.tooltip.theme="dark"),d.chart.foreColor||(d.chart.foreColor="#f6f7f8"),d.chart.background||(d.chart.background="#424242"),d.theme.palette||(d.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(d){var g=d;if(g.tooltip.shared&&g.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(g.chart.type==="bar"&&g.plotOptions.bar.horizontal){if(g.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");g.yaxis[0].reversed&&(g.yaxis[0].opposite=!0),g.xaxis.tooltip.enabled=!1,g.yaxis[0].tooltip.enabled=!1,g.chart.zoom.enabled=!1}return g.chart.type!=="bar"&&g.chart.type!=="rangeBar"||g.tooltip.shared&&g.xaxis.crosshairs.width==="barWidth"&&g.series.length>1&&(g.xaxis.crosshairs.width="tickWidth"),g.chart.type!=="candlestick"&&g.chart.type!=="boxPlot"||g.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(g.chart.type," chart is not supported.")),g.yaxis[0].reversed=!1),g}}]),me}(),dt=function(){function me(){f(this,me)}return x(me,[{key:"initGlobalVars",value:function(d){d.series=[],d.seriesCandleO=[],d.seriesCandleH=[],d.seriesCandleM=[],d.seriesCandleL=[],d.seriesCandleC=[],d.seriesRangeStart=[],d.seriesRangeEnd=[],d.seriesRange=[],d.seriesPercent=[],d.seriesGoals=[],d.seriesX=[],d.seriesZ=[],d.seriesNames=[],d.seriesTotals=[],d.seriesLog=[],d.seriesColors=[],d.stackedSeriesTotals=[],d.seriesXvalues=[],d.seriesYvalues=[],d.labels=[],d.hasGroups=!1,d.groups=[],d.categoryLabels=[],d.timescaleLabels=[],d.noLabelsProvided=!1,d.resizeTimer=null,d.selectionResizeTimer=null,d.delayedElements=[],d.pointsArray=[],d.dataLabelsRects=[],d.isXNumeric=!1,d.skipLastTimelinelabel=!1,d.skipFirstTimelinelabel=!1,d.isDataXYZ=!1,d.isMultiLineX=!1,d.isMultipleYAxis=!1,d.maxY=-Number.MAX_VALUE,d.minY=Number.MIN_VALUE,d.minYArr=[],d.maxYArr=[],d.maxX=-Number.MAX_VALUE,d.minX=Number.MAX_VALUE,d.initialMaxX=-Number.MAX_VALUE,d.initialMinX=Number.MAX_VALUE,d.maxDate=0,d.minDate=Number.MAX_VALUE,d.minZ=Number.MAX_VALUE,d.maxZ=-Number.MAX_VALUE,d.minXDiff=Number.MAX_VALUE,d.yAxisScale=[],d.xAxisScale=null,d.xAxisTicksPositions=[],d.yLabelsCoords=[],d.yTitleCoords=[],d.barPadForNumericAxis=0,d.padHorizontal=0,d.xRange=0,d.yRange=[],d.zRange=0,d.dataPoints=0,d.xTickAmount=0}},{key:"globalVars",value:function(d){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:d.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:d.chart.toolbar.autoSelected==="zoom"&&d.chart.toolbar.tools.zoom&&d.chart.zoom.enabled,panEnabled:d.chart.toolbar.autoSelected==="pan"&&d.chart.toolbar.tools.pan,selectionEnabled:d.chart.toolbar.autoSelected==="selection"&&d.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(d){var g=this.globalVars(d);return this.initGlobalVars(g),g.initialConfig=X.extend({},d),g.initialSeries=X.clone(d.series),g.lastXAxis=X.clone(g.initialConfig.xaxis),g.lastYAxis=X.clone(g.initialConfig.yaxis),g}}]),me}(),at=function(){function me(d){f(this,me),this.opts=d}return x(me,[{key:"init",value:function(){var d=new Je(this.opts).init({responsiveOverride:!1});return{config:d,globals:new dt().init(d)}}}]),me}(),Ie=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.opts=null,this.seriesIndex=0}return x(me,[{key:"clippedImgArea",value:function(d){var g=this.w,y=g.config,k=parseInt(g.globals.gridWidth,10),T=parseInt(g.globals.gridHeight,10),D=k>T?k:T,_=d.image,I=0,H=0;d.width===void 0&&d.height===void 0?y.fill.image.width!==void 0&&y.fill.image.height!==void 0?(I=y.fill.image.width+1,H=y.fill.image.height):(I=D+1,H=D):(I=d.width,H=d.height);var Z=document.createElementNS(g.globals.SVGNS,"pattern");K.setAttrs(Z,{id:d.patternID,patternUnits:d.patternUnits?d.patternUnits:"userSpaceOnUse",width:I+"px",height:H+"px"});var j=document.createElementNS(g.globals.SVGNS,"image");Z.appendChild(j),j.setAttributeNS(window.SVG.xlink,"href",_),K.setAttrs(j,{x:0,y:0,preserveAspectRatio:"none",width:I+"px",height:H+"px"}),j.style.opacity=d.opacity,g.globals.dom.elDefs.node.appendChild(Z)}},{key:"getSeriesIndex",value:function(d){var g=this.w;return(g.config.chart.type==="bar"||g.config.chart.type==="rangeBar")&&g.config.plotOptions.bar.distributed||g.config.chart.type==="heatmap"||g.config.chart.type==="treemap"?this.seriesIndex=d.seriesNumber:this.seriesIndex=d.seriesNumber%g.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(d){var g=this.w;this.opts=d;var y,k,T,D=this.w.config;this.seriesIndex=this.getSeriesIndex(d);var _=this.getFillColors()[this.seriesIndex];g.globals.seriesColors[this.seriesIndex]!==void 0&&(_=g.globals.seriesColors[this.seriesIndex]),typeof _=="function"&&(_=_({seriesIndex:this.seriesIndex,dataPointIndex:d.dataPointIndex,value:d.value,w:g}));var I=d.fillType?d.fillType:this.getFillType(this.seriesIndex),H=Array.isArray(D.fill.opacity)?D.fill.opacity[this.seriesIndex]:D.fill.opacity;d.color&&(_=d.color);var Z=_;if(_.indexOf("rgb")===-1?_.length<9&&(Z=X.hexToRgba(_,H)):_.indexOf("rgba")>-1&&(H=X.getOpacityFromRGBA(_)),d.opacity&&(H=d.opacity),I==="pattern"&&(k=this.handlePatternFill({fillConfig:d.fillConfig,patternFill:k,fillColor:_,fillOpacity:H,defaultColor:Z})),I==="gradient"&&(T=this.handleGradientFill({fillConfig:d.fillConfig,fillColor:_,fillOpacity:H,i:this.seriesIndex})),I==="image"){var j=D.fill.image.src,te=d.patternID?d.patternID:"";this.clippedImgArea({opacity:H,image:Array.isArray(j)?d.seriesNumber<j.length?j[d.seriesNumber]:j[0]:j,width:d.width?d.width:void 0,height:d.height?d.height:void 0,patternUnits:d.patternUnits,patternID:"pattern".concat(g.globals.cuid).concat(d.seriesNumber+1).concat(te)}),y="url(#pattern".concat(g.globals.cuid).concat(d.seriesNumber+1).concat(te,")")}else y=I==="gradient"?T:I==="pattern"?k:Z;return d.solid&&(y=Z),y}},{key:"getFillType",value:function(d){var g=this.w;return Array.isArray(g.config.fill.type)?g.config.fill.type[d]:g.config.fill.type}},{key:"getFillColors",value:function(){var d=this.w,g=d.config,y=this.opts,k=[];return d.globals.comboCharts?d.config.series[this.seriesIndex].type==="line"?Array.isArray(d.globals.stroke.colors)?k=d.globals.stroke.colors:k.push(d.globals.stroke.colors):Array.isArray(d.globals.fill.colors)?k=d.globals.fill.colors:k.push(d.globals.fill.colors):g.chart.type==="line"?Array.isArray(d.globals.stroke.colors)?k=d.globals.stroke.colors:k.push(d.globals.stroke.colors):Array.isArray(d.globals.fill.colors)?k=d.globals.fill.colors:k.push(d.globals.fill.colors),y.fillColors!==void 0&&(k=[],Array.isArray(y.fillColors)?k=y.fillColors.slice():k.push(y.fillColors)),k}},{key:"handlePatternFill",value:function(d){var g=d.fillConfig,y=d.patternFill,k=d.fillColor,T=d.fillOpacity,D=d.defaultColor,_=this.w.config.fill;g&&(_=g);var I=this.opts,H=new K(this.ctx),Z=Array.isArray(_.pattern.strokeWidth)?_.pattern.strokeWidth[this.seriesIndex]:_.pattern.strokeWidth,j=k;return Array.isArray(_.pattern.style)?y=_.pattern.style[I.seriesNumber]!==void 0?H.drawPattern(_.pattern.style[I.seriesNumber],_.pattern.width,_.pattern.height,j,Z,T):D:y=H.drawPattern(_.pattern.style,_.pattern.width,_.pattern.height,j,Z,T),y}},{key:"handleGradientFill",value:function(d){var g=d.fillColor,y=d.fillOpacity,k=d.fillConfig,T=d.i,D=this.w.config.fill;k&&(D=l(l({},D),k));var _,I=this.opts,H=new K(this.ctx),Z=new X,j=D.gradient.type,te=g,ce=D.gradient.opacityFrom===void 0?y:Array.isArray(D.gradient.opacityFrom)?D.gradient.opacityFrom[T]:D.gradient.opacityFrom;te.indexOf("rgba")>-1&&(ce=X.getOpacityFromRGBA(te));var ue=D.gradient.opacityTo===void 0?y:Array.isArray(D.gradient.opacityTo)?D.gradient.opacityTo[T]:D.gradient.opacityTo;if(D.gradient.gradientToColors===void 0||D.gradient.gradientToColors.length===0)_=D.gradient.shade==="dark"?Z.shadeColor(-1*parseFloat(D.gradient.shadeIntensity),g.indexOf("rgb")>-1?X.rgb2hex(g):g):Z.shadeColor(parseFloat(D.gradient.shadeIntensity),g.indexOf("rgb")>-1?X.rgb2hex(g):g);else if(D.gradient.gradientToColors[I.seriesNumber]){var ge=D.gradient.gradientToColors[I.seriesNumber];_=ge,ge.indexOf("rgba")>-1&&(ue=X.getOpacityFromRGBA(ge))}else _=g;if(D.gradient.gradientFrom&&(te=D.gradient.gradientFrom),D.gradient.gradientTo&&(_=D.gradient.gradientTo),D.gradient.inverseColors){var be=te;te=_,_=be}return te.indexOf("rgb")>-1&&(te=X.rgb2hex(te)),_.indexOf("rgb")>-1&&(_=X.rgb2hex(_)),H.drawGradient(j,te,_,ce,ue,I.size,D.gradient.stops,D.gradient.colorStops,T)}}]),me}(),qe=function(){function me(d,g){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"setGlobalMarkerSize",value:function(){var d=this.w;if(d.globals.markers.size=Array.isArray(d.config.markers.size)?d.config.markers.size:[d.config.markers.size],d.globals.markers.size.length>0){if(d.globals.markers.size.length<d.globals.series.length+1)for(var g=0;g<=d.globals.series.length;g++)d.globals.markers.size[g]===void 0&&d.globals.markers.size.push(d.globals.markers.size[0])}else d.globals.markers.size=d.config.series.map(function(y){return d.config.markers.size})}},{key:"plotChartMarkers",value:function(d,g,y,k){var T,D=arguments.length>4&&arguments[4]!==void 0&&arguments[4],_=this.w,I=g,H=d,Z=null,j=new K(this.ctx),te=_.config.markers.discrete&&_.config.markers.discrete.length;if((_.globals.markers.size[g]>0||D||te)&&(Z=j.group({class:D||te?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(_.globals.cuid,")")),Array.isArray(H.x)){for(var ce=0;ce<H.x.length;ce++)if(!(H.x[ce]<0||H.x[ce]>_.globals.gridWidth||H.y[ce]<0||H.y[ce]>_.globals.gridHeight)){var ue=y;y===1&&ce===0&&(ue=0),y===1&&ce===1&&(ue=1);var ge="apexcharts-marker";if(_.config.chart.type!=="line"&&_.config.chart.type!=="area"||_.globals.comboCharts||_.config.tooltip.intersect||(ge+=" no-pointer-events"),(Array.isArray(_.config.markers.size)?_.globals.markers.size[g]>0:_.config.markers.size>0)||D||te){X.isNumber(H.y[ce])?ge+=" w".concat(X.randomId()):ge="apexcharts-nullpoint";var be=this.getMarkerConfig({cssClass:ge,seriesIndex:g,dataPointIndex:ue});_.config.series[I].data[ue]&&(_.config.series[I].data[ue].fillColor&&(be.pointFillColor=_.config.series[I].data[ue].fillColor),_.config.series[I].data[ue].strokeColor&&(be.pointStrokeColor=_.config.series[I].data[ue].strokeColor)),k&&(be.pSize=k),(T=j.drawMarker(H.x[ce],H.y[ce],be)).attr("rel",ue),T.attr("j",ue),T.attr("index",g),T.node.setAttribute("default-marker-size",be.pSize),new he(this.ctx).setSelectionFilter(T,g,ue),this.addEvents(T),Z&&Z.add(T)}else _.globals.pointsArray[g]===void 0&&(_.globals.pointsArray[g]=[]),_.globals.pointsArray[g].push([H.x[ce],H.y[ce]])}}return Z}},{key:"getMarkerConfig",value:function(d){var g=d.cssClass,y=d.seriesIndex,k=d.dataPointIndex,T=k===void 0?null:k,D=d.finishRadius,_=D===void 0?null:D,I=this.w,H=this.getMarkerStyle(y),Z=I.globals.markers.size[y],j=I.config.markers;return T!==null&&j.discrete.length&&j.discrete.map(function(te){te.seriesIndex===y&&te.dataPointIndex===T&&(H.pointStrokeColor=te.strokeColor,H.pointFillColor=te.fillColor,Z=te.size,H.pointShape=te.shape)}),{pSize:_===null?Z:_,pRadius:j.radius,width:Array.isArray(j.width)?j.width[y]:j.width,height:Array.isArray(j.height)?j.height[y]:j.height,pointStrokeWidth:Array.isArray(j.strokeWidth)?j.strokeWidth[y]:j.strokeWidth,pointStrokeColor:H.pointStrokeColor,pointFillColor:H.pointFillColor,shape:H.pointShape||(Array.isArray(j.shape)?j.shape[y]:j.shape),class:g,pointStrokeOpacity:Array.isArray(j.strokeOpacity)?j.strokeOpacity[y]:j.strokeOpacity,pointStrokeDashArray:Array.isArray(j.strokeDashArray)?j.strokeDashArray[y]:j.strokeDashArray,pointFillOpacity:Array.isArray(j.fillOpacity)?j.fillOpacity[y]:j.fillOpacity,seriesIndex:y}}},{key:"addEvents",value:function(d){var g=this.w,y=new K(this.ctx);d.node.addEventListener("mouseenter",y.pathMouseEnter.bind(this.ctx,d)),d.node.addEventListener("mouseleave",y.pathMouseLeave.bind(this.ctx,d)),d.node.addEventListener("mousedown",y.pathMouseDown.bind(this.ctx,d)),d.node.addEventListener("click",g.config.markers.onClick),d.node.addEventListener("dblclick",g.config.markers.onDblClick),d.node.addEventListener("touchstart",y.pathMouseDown.bind(this.ctx,d),{passive:!0})}},{key:"getMarkerStyle",value:function(d){var g=this.w,y=g.globals.markers.colors,k=g.config.markers.strokeColor||g.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(k)?k[d]:k,pointFillColor:Array.isArray(y)?y[d]:y}}}]),me}(),Ue=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return x(me,[{key:"draw",value:function(d,g,y){var k=this.w,T=new K(this.ctx),D=y.realIndex,_=y.pointsPos,I=y.zRatio,H=y.elParent,Z=T.group({class:"apexcharts-series-markers apexcharts-series-".concat(k.config.chart.type)});if(Z.attr("clip-path","url(#gridRectMarkerMask".concat(k.globals.cuid,")")),Array.isArray(_.x))for(var j=0;j<_.x.length;j++){var te=g+1,ce=!0;g===0&&j===0&&(te=0),g===0&&j===1&&(te=1);var ue=0,ge=k.globals.markers.size[D];if(I!==1/0){var be=k.config.plotOptions.bubble;ge=k.globals.seriesZ[D][te],be.zScaling&&(ge/=I),be.minBubbleRadius&&ge<be.minBubbleRadius&&(ge=be.minBubbleRadius),be.maxBubbleRadius&&ge>be.maxBubbleRadius&&(ge=be.maxBubbleRadius)}k.config.chart.animations.enabled||(ue=ge);var ke=_.x[j],Be=_.y[j];if(ue=ue||0,Be!==null&&k.globals.series[D][te]!==void 0||(ce=!1),ce){var z=this.drawPoint(ke,Be,ue,ge,D,te,g);Z.add(z)}H.add(Z)}}},{key:"drawPoint",value:function(d,g,y,k,T,D,_){var I=this.w,H=T,Z=new W(this.ctx),j=new he(this.ctx),te=new Ie(this.ctx),ce=new qe(this.ctx),ue=new K(this.ctx),ge=ce.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:H,dataPointIndex:D,finishRadius:I.config.chart.type==="bubble"||I.globals.comboCharts&&I.config.series[T]&&I.config.series[T].type==="bubble"?k:null});k=ge.pSize;var be,ke=te.fillPath({seriesNumber:T,dataPointIndex:D,color:ge.pointFillColor,patternUnits:"objectBoundingBox",value:I.globals.series[T][_]});if(ge.shape==="circle"?be=ue.drawCircle(y):ge.shape!=="square"&&ge.shape!=="rect"||(be=ue.drawRect(0,0,ge.width-ge.pointStrokeWidth/2,ge.height-ge.pointStrokeWidth/2,ge.pRadius)),I.config.series[H].data[D]&&I.config.series[H].data[D].fillColor&&(ke=I.config.series[H].data[D].fillColor),be.attr({x:d-ge.width/2-ge.pointStrokeWidth/2,y:g-ge.height/2-ge.pointStrokeWidth/2,cx:d,cy:g,fill:ke,"fill-opacity":ge.pointFillOpacity,stroke:ge.pointStrokeColor,r:k,"stroke-width":ge.pointStrokeWidth,"stroke-dasharray":ge.pointStrokeDashArray,"stroke-opacity":ge.pointStrokeOpacity}),I.config.chart.dropShadow.enabled){var Be=I.config.chart.dropShadow;j.dropShadow(be,Be,T)}if(!this.initialAnim||I.globals.dataChanged||I.globals.resized)I.globals.animationEnded=!0;else{var z=I.config.chart.animations.speed;Z.animateMarker(be,0,ge.shape==="circle"?k:{width:ge.width,height:ge.height},z,I.globals.easing,function(){window.setTimeout(function(){Z.animationCompleted(be)},100)})}if(I.globals.dataChanged&&ge.shape==="circle")if(this.dynamicAnim){var ie,de,Se,Ne,Oe=I.config.chart.animations.dynamicAnimation.speed;(Ne=I.globals.previousPaths[T]&&I.globals.previousPaths[T][_])!=null&&(ie=Ne.x,de=Ne.y,Se=Ne.r!==void 0?Ne.r:k);for(var ot=0;ot<I.globals.collapsedSeries.length;ot++)I.globals.collapsedSeries[ot].index===T&&(Oe=1,k=0);d===0&&g===0&&(k=0),Z.animateCircle(be,{cx:ie,cy:de,r:Se},{cx:d,cy:g,r:k},Oe,I.globals.easing)}else be.attr({r:k});return be.attr({rel:D,j:D,index:T,"default-marker-size":k}),j.setSelectionFilter(be,T,D),ce.addEvents(be),be.node.classList.add("apexcharts-marker"),be}},{key:"centerTextInBubble",value:function(d){var g=this.w;return{y:d+=parseInt(g.config.dataLabels.style.fontSize,10)/4}}}]),me}(),Ae=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"dataLabelsCorrection",value:function(d,g,y,k,T,D,_){var I=this.w,H=!1,Z=new K(this.ctx).getTextRects(y,_),j=Z.width,te=Z.height;g<0&&(g=0),g>I.globals.gridHeight+te&&(g=I.globals.gridHeight+te/2),I.globals.dataLabelsRects[k]===void 0&&(I.globals.dataLabelsRects[k]=[]),I.globals.dataLabelsRects[k].push({x:d,y:g,width:j,height:te});var ce=I.globals.dataLabelsRects[k].length-2,ue=I.globals.lastDrawnDataLabelsIndexes[k]!==void 0?I.globals.lastDrawnDataLabelsIndexes[k][I.globals.lastDrawnDataLabelsIndexes[k].length-1]:0;if(I.globals.dataLabelsRects[k][ce]!==void 0){var ge=I.globals.dataLabelsRects[k][ue];(d>ge.x+ge.width+2||g>ge.y+ge.height+2||d+j<ge.x)&&(H=!0)}return(T===0||D)&&(H=!0),{x:d,y:g,textRects:Z,drawnextLabel:H}}},{key:"drawDataLabel",value:function(d){var g=this,y=d.type,k=d.pos,T=d.i,D=d.j,_=d.isRangeStart,I=d.strokeWidth,H=I===void 0?2:I,Z=this.w,j=new K(this.ctx),te=Z.config.dataLabels,ce=0,ue=0,ge=D,be=null;if(!te.enabled||!Array.isArray(k.x))return be;be=j.group({class:"apexcharts-data-labels"});for(var ke=0;ke<k.x.length;ke++)if(ce=k.x[ke]+te.offsetX,ue=k.y[ke]+te.offsetY+H,!isNaN(ce)){D===1&&ke===0&&(ge=0),D===1&&ke===1&&(ge=1);var Be=Z.globals.series[T][ge];y==="rangeArea"&&(Be=_?Z.globals.seriesRangeStart[T][ge]:Z.globals.seriesRangeEnd[T][ge]);var z="",ie=function(de){return Z.config.dataLabels.formatter(de,{ctx:g.ctx,seriesIndex:T,dataPointIndex:ge,w:Z})};Z.config.chart.type==="bubble"?(z=ie(Be=Z.globals.seriesZ[T][ge]),ue=k.y[ke],ue=new Ue(this.ctx).centerTextInBubble(ue,T,ge).y):Be!==void 0&&(z=ie(Be)),this.plotDataLabelsText({x:ce,y:ue,text:z,i:T,j:ge,parent:be,offsetCorrection:!0,dataLabelsConfig:Z.config.dataLabels})}return be}},{key:"plotDataLabelsText",value:function(d){var g=this.w,y=new K(this.ctx),k=d.x,T=d.y,D=d.i,_=d.j,I=d.text,H=d.textAnchor,Z=d.fontSize,j=d.parent,te=d.dataLabelsConfig,ce=d.color,ue=d.alwaysDrawDataLabel,ge=d.offsetCorrection;if(!(Array.isArray(g.config.dataLabels.enabledOnSeries)&&g.config.dataLabels.enabledOnSeries.indexOf(D)<0)){var be={x:k,y:T,drawnextLabel:!0,textRects:null};ge&&(be=this.dataLabelsCorrection(k,T,I,D,_,ue,parseInt(te.style.fontSize,10))),g.globals.zoomed||(k=be.x,T=be.y),be.textRects&&(k<-10-be.textRects.width||k>g.globals.gridWidth+be.textRects.width+10)&&(I="");var ke=g.globals.dataLabels.style.colors[D];((g.config.chart.type==="bar"||g.config.chart.type==="rangeBar")&&g.config.plotOptions.bar.distributed||g.config.dataLabels.distributed)&&(ke=g.globals.dataLabels.style.colors[_]),typeof ke=="function"&&(ke=ke({series:g.globals.series,seriesIndex:D,dataPointIndex:_,w:g})),ce&&(ke=ce);var Be=te.offsetX,z=te.offsetY;if(g.config.chart.type!=="bar"&&g.config.chart.type!=="rangeBar"||(Be=0,z=0),be.drawnextLabel){var ie=y.drawText({width:100,height:parseInt(te.style.fontSize,10),x:k+Be,y:T+z,foreColor:ke,textAnchor:H||te.textAnchor,text:I,fontSize:Z||te.style.fontSize,fontFamily:te.style.fontFamily,fontWeight:te.style.fontWeight||"normal"});if(ie.attr({class:"apexcharts-datalabel",cx:k,cy:T}),te.dropShadow.enabled){var de=te.dropShadow;new he(this.ctx).dropShadow(ie,de)}j.add(ie),g.globals.lastDrawnDataLabelsIndexes[D]===void 0&&(g.globals.lastDrawnDataLabelsIndexes[D]=[]),g.globals.lastDrawnDataLabelsIndexes[D].push(_)}}}},{key:"addBackgroundToDataLabel",value:function(d,g){var y=this.w,k=y.config.dataLabels.background,T=k.padding,D=k.padding/2,_=g.width,I=g.height,H=new K(this.ctx).drawRect(g.x-T,g.y-D/2,_+2*T,I+D,k.borderRadius,y.config.chart.background==="transparent"?"#fff":y.config.chart.background,k.opacity,k.borderWidth,k.borderColor);return k.dropShadow.enabled&&new he(this.ctx).dropShadow(H,k.dropShadow),H}},{key:"dataLabelsBackground",value:function(){var d=this.w;if(d.config.chart.type!=="bubble")for(var g=d.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),y=0;y<g.length;y++){var k=g[y],T=k.getBBox(),D=null;if(T.width&&T.height&&(D=this.addBackgroundToDataLabel(k,T)),D){k.parentNode.insertBefore(D.node,k);var _=k.getAttribute("fill");d.config.chart.animations.enabled&&!d.globals.resized&&!d.globals.dataChanged?D.animate().attr({fill:_}):D.attr({fill:_}),k.setAttribute("fill",d.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var d=this.w,g=d.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),y=d.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),k=0;k<g.length;k++)y&&y.insertBefore(g[k],y.nextSibling)}}]),me}(),Ye=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.legendInactiveClass="legend-mouseover-inactive"}return x(me,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(d){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(X.escapeString(d),"']"))}},{key:"isSeriesHidden",value:function(d){var g=this.getSeriesByName(d),y=parseInt(g.getAttribute("data:realIndex"),10);return{isHidden:g.classList.contains("apexcharts-series-collapsed"),realIndex:y}}},{key:"addCollapsedClassToSeries",value:function(d,g){var y=this.w;function k(T){for(var D=0;D<T.length;D++)T[D].index===g&&d.node.classList.add("apexcharts-series-collapsed")}k(y.globals.collapsedSeries),k(y.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(d){var g=this.isSeriesHidden(d);return this.ctx.legend.legendHelpers.toggleDataSeries(g.realIndex,g.isHidden),g.isHidden}},{key:"showSeries",value:function(d){var g=this.isSeriesHidden(d);g.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(g.realIndex,!0)}},{key:"hideSeries",value:function(d){var g=this.isSeriesHidden(d);g.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(g.realIndex,!1)}},{key:"resetSeries",value:function(){var d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],k=this.w,T=X.clone(k.globals.initialSeries);k.globals.previousPaths=[],y?(k.globals.collapsedSeries=[],k.globals.ancillaryCollapsedSeries=[],k.globals.collapsedSeriesIndices=[],k.globals.ancillaryCollapsedSeriesIndices=[]):T=this.emptyCollapsedSeries(T),k.config.series=T,d&&(g&&(k.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(T,k.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(d){for(var g=this.w,y=0;y<d.length;y++)g.globals.collapsedSeriesIndices.indexOf(y)>-1&&(d[y].data=[]);return d}},{key:"toggleSeriesOnHover",value:function(d,g){var y=this.w;g||(g=d.target);var k=y.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(d.type==="mousemove"){var T=parseInt(g.getAttribute("rel"),10)-1,D=null,_=null;y.globals.axisCharts||y.config.chart.type==="radialBar"?y.globals.axisCharts?(D=y.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(T,"']")),_=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(T,"']"))):D=y.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(T+1,"']")):D=y.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(T+1,"'] path"));for(var I=0;I<k.length;I++)k[I].classList.add(this.legendInactiveClass);D!==null&&(y.globals.axisCharts||D.parentNode.classList.remove(this.legendInactiveClass),D.classList.remove(this.legendInactiveClass),_!==null&&_.classList.remove(this.legendInactiveClass))}else if(d.type==="mouseout")for(var H=0;H<k.length;H++)k[H].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(d,g){var y=this,k=this.w,T=k.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),D=function(I){for(var H=0;H<T.length;H++)T[H].classList[I](y.legendInactiveClass)};if(d.type==="mousemove"){var _=parseInt(g.getAttribute("rel"),10)-1;D("add"),function(I){for(var H=0;H<T.length;H++){var Z=parseInt(T[H].getAttribute("val"),10);Z>=I.from&&Z<=I.to&&T[H].classList.remove(y.legendInactiveClass)}}(k.config.plotOptions.heatmap.colorScale.ranges[_])}else d.type==="mouseout"&&D("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=this.w,k=0;if(y.config.series.length>1){for(var T=y.config.series.map(function(_,I){return _.data&&_.data.length>0&&y.globals.collapsedSeriesIndices.indexOf(I)===-1&&(!y.globals.comboCharts||g.length===0||g.length&&g.indexOf(y.config.series[I].type)>-1)?I:-1}),D=d==="asc"?0:T.length-1;d==="asc"?D<T.length:D>=0;d==="asc"?D++:D--)if(T[D]!==-1){k=T[D];break}}return k}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(d,g){return d.type==="bar"||d.type==="column"?g:-1}).filter(function(d){return d!==-1}):this.w.config.series.map(function(d,g){return g})}},{key:"getPreviousPaths",value:function(){var d=this.w;function g(D,_,I){for(var H=D[_].childNodes,Z={type:I,paths:[],realIndex:D[_].getAttribute("data:realIndex")},j=0;j<H.length;j++)if(H[j].hasAttribute("pathTo")){var te=H[j].getAttribute("pathTo");Z.paths.push({d:te})}d.globals.previousPaths.push(Z)}d.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(D){for(var _,I=(_=D,d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(_,"-series .apexcharts-series"))),H=0;H<I.length;H++)g(I,H,D)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var y=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d.config.chart.type," .apexcharts-series"));if(y.length>0)for(var k=function(D){for(var _=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(D,"'] rect")),I=[],H=function(j){var te=function(ue){return _[j].getAttribute(ue)},ce={x:parseFloat(te("x")),y:parseFloat(te("y")),width:parseFloat(te("width")),height:parseFloat(te("height"))};I.push({rect:ce,color:_[j].getAttribute("color")})},Z=0;Z<_.length;Z++)H(Z);d.globals.previousPaths.push(I)},T=0;T<y.length;T++)k(T);d.globals.axisCharts||(d.globals.previousPaths=d.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(d){var g=this.w,y=g.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d,"-series .apexcharts-series"));if(y.length>0)for(var k=0;k<y.length;k++){for(var T=g.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d,"-series .apexcharts-series[data\\:realIndex='").concat(k,"'] circle")),D=[],_=0;_<T.length;_++)D.push({x:T[_].getAttribute("cx"),y:T[_].getAttribute("cy"),r:T[_].getAttribute("r")});g.globals.previousPaths.push(D)}}},{key:"clearPreviousPaths",value:function(){var d=this.w;d.globals.previousPaths=[],d.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var d=this.w,g=d.config.noData,y=new K(this.ctx),k=d.globals.svgWidth/2,T=d.globals.svgHeight/2,D="middle";if(d.globals.noData=!0,d.globals.animationEnded=!0,g.align==="left"?(k=10,D="start"):g.align==="right"&&(k=d.globals.svgWidth-10,D="end"),g.verticalAlign==="top"?T=50:g.verticalAlign==="bottom"&&(T=d.globals.svgHeight-50),k+=g.offsetX,T=T+parseInt(g.style.fontSize,10)+2+g.offsetY,g.text!==void 0&&g.text!==""){var _=y.drawText({x:k,y:T,text:g.text,textAnchor:D,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,foreColor:g.style.color,opacity:1,class:"apexcharts-text-nodata"});d.globals.dom.Paper.add(_)}}},{key:"setNullSeriesToZeroValues",value:function(d){for(var g=this.w,y=0;y<d.length;y++)if(d[y].length===0)for(var k=0;k<d[g.globals.maxValsInArrayIndex].length;k++)d[y].push(0);return d}},{key:"hasAllSeriesEqualX",value:function(){for(var d=!0,g=this.w,y=this.filteredSeriesX(),k=0;k<y.length-1;k++)if(y[k][0]!==y[k+1][0]){d=!1;break}return g.globals.allSeriesHasEqualX=d,d}},{key:"filteredSeriesX",value:function(){var d=this.w.globals.seriesX.map(function(g){return g.length>0?g:[]});return d}}]),me}(),st=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new le(this.ctx)}return x(me,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var d=this.w.config.series.slice(),g=new Ye(this.ctx);if(this.activeSeriesIndex=g.getActiveConfigSeriesIndex(),d[this.activeSeriesIndex].data!==void 0&&d[this.activeSeriesIndex].data.length>0&&d[this.activeSeriesIndex].data[0]!==null&&d[this.activeSeriesIndex].data[0].x!==void 0&&d[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var d=this.w.config.series.slice(),g=new Ye(this.ctx);if(this.activeSeriesIndex=g.getActiveConfigSeriesIndex(),d[this.activeSeriesIndex].data!==void 0&&d[this.activeSeriesIndex].data.length>0&&d[this.activeSeriesIndex].data[0]!==void 0&&d[this.activeSeriesIndex].data[0]!==null&&d[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(d,g){for(var y=this.w.config,k=this.w.globals,T=y.chart.type==="boxPlot"||y.series[g].type==="boxPlot",D=0;D<d[g].data.length;D++)if(d[g].data[D][1]!==void 0&&(Array.isArray(d[g].data[D][1])&&d[g].data[D][1].length===4&&!T?this.twoDSeries.push(X.parseNumber(d[g].data[D][1][3])):d[g].data[D].length>=5?this.twoDSeries.push(X.parseNumber(d[g].data[D][4])):this.twoDSeries.push(X.parseNumber(d[g].data[D][1])),k.dataFormatXNumeric=!0),y.xaxis.type==="datetime"){var _=new Date(d[g].data[D][0]);_=new Date(_).getTime(),this.twoDSeriesX.push(_)}else this.twoDSeriesX.push(d[g].data[D][0]);for(var I=0;I<d[g].data.length;I++)d[g].data[I][2]!==void 0&&(this.threeDSeries.push(d[g].data[I][2]),k.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(d,g){var y=this.w.config,k=this.w.globals,T=new He(this.ctx),D=g;k.collapsedSeriesIndices.indexOf(g)>-1&&(D=this.activeSeriesIndex);for(var _=0;_<d[g].data.length;_++)d[g].data[_].y!==void 0&&(Array.isArray(d[g].data[_].y)?this.twoDSeries.push(X.parseNumber(d[g].data[_].y[d[g].data[_].y.length-1])):this.twoDSeries.push(X.parseNumber(d[g].data[_].y))),d[g].data[_].goals!==void 0&&Array.isArray(d[g].data[_].goals)?(this.seriesGoals[g]===void 0&&(this.seriesGoals[g]=[]),this.seriesGoals[g].push(d[g].data[_].goals)):(this.seriesGoals[g]===void 0&&(this.seriesGoals[g]=[]),this.seriesGoals[g].push(null));for(var I=0;I<d[D].data.length;I++){var H=typeof d[D].data[I].x=="string",Z=Array.isArray(d[D].data[I].x),j=!Z&&!!T.isValidDate(d[D].data[I].x.toString());if(H||j)if(H||y.xaxis.convertedCatToNumeric){var te=k.isBarHorizontal&&k.isRangeData;y.xaxis.type!=="datetime"||te?(this.fallbackToCategory=!0,this.twoDSeriesX.push(d[D].data[I].x)):this.twoDSeriesX.push(T.parseDate(d[D].data[I].x))}else y.xaxis.type==="datetime"?this.twoDSeriesX.push(T.parseDate(d[D].data[I].x.toString())):(k.dataFormatXNumeric=!0,k.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(d[D].data[I].x)));else Z?(this.fallbackToCategory=!0,this.twoDSeriesX.push(d[D].data[I].x)):(k.isXNumeric=!0,k.dataFormatXNumeric=!0,this.twoDSeriesX.push(d[D].data[I].x))}if(d[g].data[0]&&d[g].data[0].z!==void 0){for(var ce=0;ce<d[g].data.length;ce++)this.threeDSeries.push(d[g].data[ce].z);k.isDataXYZ=!0}}},{key:"handleRangeData",value:function(d,g){var y=this.w.globals,k={};return this.isFormat2DArray()?k=this.handleRangeDataFormat("array",d,g):this.isFormatXY()&&(k=this.handleRangeDataFormat("xy",d,g)),y.seriesRangeStart.push(k.start),y.seriesRangeEnd.push(k.end),y.seriesRange.push(k.rangeUniques),y.seriesRange.forEach(function(T,D){T&&T.forEach(function(_,I){_.y.forEach(function(H,Z){for(var j=0;j<_.y.length;j++)if(Z!==j){var te=H.y1,ce=H.y2,ue=_.y[j].y1;te<=_.y[j].y2&&ue<=ce&&(_.overlaps.indexOf(H.rangeName)<0&&_.overlaps.push(H.rangeName),_.overlaps.indexOf(_.y[j].rangeName)<0&&_.overlaps.push(_.y[j].rangeName))}})})}),k}},{key:"handleCandleStickBoxData",value:function(d,g){var y=this.w.globals,k={};return this.isFormat2DArray()?k=this.handleCandleStickBoxDataFormat("array",d,g):this.isFormatXY()&&(k=this.handleCandleStickBoxDataFormat("xy",d,g)),y.seriesCandleO[g]=k.o,y.seriesCandleH[g]=k.h,y.seriesCandleM[g]=k.m,y.seriesCandleL[g]=k.l,y.seriesCandleC[g]=k.c,k}},{key:"handleRangeDataFormat",value:function(d,g,y){var k=[],T=[],D=g[y].data.filter(function(Z,j,te){return j===te.findIndex(function(ce){return ce.x===Z.x})}).map(function(Z,j){return{x:Z.x,overlaps:[],y:[]}});if(d==="array")for(var _=0;_<g[y].data.length;_++)Array.isArray(g[y].data[_])?(k.push(g[y].data[_][1][0]),T.push(g[y].data[_][1][1])):(k.push(g[y].data[_]),T.push(g[y].data[_]));else if(d==="xy")for(var I=function(Z){var j=Array.isArray(g[y].data[Z].y),te=X.randomId(),ce=g[y].data[Z].x,ue={y1:j?g[y].data[Z].y[0]:g[y].data[Z].y,y2:j?g[y].data[Z].y[1]:g[y].data[Z].y,rangeName:te};g[y].data[Z].rangeName=te;var ge=D.findIndex(function(be){return be.x===ce});D[ge].y.push(ue),k.push(ue.y1),T.push(ue.y2)},H=0;H<g[y].data.length;H++)I(H);return{start:k,end:T,rangeUniques:D}}},{key:"handleCandleStickBoxDataFormat",value:function(d,g,y){var k=this.w,T=k.config.chart.type==="boxPlot"||k.config.series[y].type==="boxPlot",D=[],_=[],I=[],H=[],Z=[];if(d==="array")if(T&&g[y].data[0].length===6||!T&&g[y].data[0].length===5)for(var j=0;j<g[y].data.length;j++)D.push(g[y].data[j][1]),_.push(g[y].data[j][2]),T?(I.push(g[y].data[j][3]),H.push(g[y].data[j][4]),Z.push(g[y].data[j][5])):(H.push(g[y].data[j][3]),Z.push(g[y].data[j][4]));else for(var te=0;te<g[y].data.length;te++)Array.isArray(g[y].data[te][1])&&(D.push(g[y].data[te][1][0]),_.push(g[y].data[te][1][1]),T?(I.push(g[y].data[te][1][2]),H.push(g[y].data[te][1][3]),Z.push(g[y].data[te][1][4])):(H.push(g[y].data[te][1][2]),Z.push(g[y].data[te][1][3])));else if(d==="xy")for(var ce=0;ce<g[y].data.length;ce++)Array.isArray(g[y].data[ce].y)&&(D.push(g[y].data[ce].y[0]),_.push(g[y].data[ce].y[1]),T?(I.push(g[y].data[ce].y[2]),H.push(g[y].data[ce].y[3]),Z.push(g[y].data[ce].y[4])):(H.push(g[y].data[ce].y[2]),Z.push(g[y].data[ce].y[3])));return{o:D,h:_,m:I,l:H,c:Z}}},{key:"parseDataAxisCharts",value:function(d){var g=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,k=this.w.config,T=this.w.globals,D=new He(y),_=k.labels.length>0?k.labels.slice():k.xaxis.categories.slice();T.isRangeBar=k.chart.type==="rangeBar"&&T.isBarHorizontal,T.hasGroups=k.xaxis.type==="category"&&k.xaxis.group.groups.length>0,T.hasGroups&&(T.groups=k.xaxis.group.groups);for(var I=function(){for(var j=0;j<_.length;j++)if(typeof _[j]=="string"){if(!D.isValidDate(_[j]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");g.twoDSeriesX.push(D.parseDate(_[j]))}else g.twoDSeriesX.push(_[j])},H=0;H<d.length;H++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],d[H].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(k.chart.type!=="rangeBar"&&k.chart.type!=="rangeArea"&&d[H].type!=="rangeBar"&&d[H].type!=="rangeArea"||(T.isRangeData=!0,T.isComboCharts?d[H].type!=="rangeBar"&&d[H].type!=="rangeArea"||this.handleRangeData(d,H):k.chart.type!=="rangeBar"&&k.chart.type!=="rangeArea"||this.handleRangeData(d,H)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(d,H):this.isFormatXY()&&this.handleFormatXY(d,H),k.chart.type!=="candlestick"&&d[H].type!=="candlestick"&&k.chart.type!=="boxPlot"&&d[H].type!=="boxPlot"||this.handleCandleStickBoxData(d,H),T.series.push(this.twoDSeries),T.labels.push(this.twoDSeriesX),T.seriesX.push(this.twoDSeriesX),T.seriesGoals=this.seriesGoals,H!==this.activeSeriesIndex||this.fallbackToCategory||(T.isXNumeric=!0);else{k.xaxis.type==="datetime"?(T.isXNumeric=!0,I(),T.seriesX.push(this.twoDSeriesX)):k.xaxis.type==="numeric"&&(T.isXNumeric=!0,_.length>0&&(this.twoDSeriesX=_,T.seriesX.push(this.twoDSeriesX))),T.labels.push(this.twoDSeriesX);var Z=d[H].data.map(function(j){return X.parseNumber(j)});T.series.push(Z)}T.seriesZ.push(this.threeDSeries),d[H].name!==void 0?T.seriesNames.push(d[H].name):T.seriesNames.push("series-"+parseInt(H+1,10)),d[H].color!==void 0?T.seriesColors.push(d[H].color):T.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(d){var g=this.w.globals,y=this.w.config;g.series=d.slice(),g.seriesNames=y.labels.slice();for(var k=0;k<g.series.length;k++)g.seriesNames[k]===void 0&&g.seriesNames.push("series-"+(k+1));return this.w}},{key:"handleExternalLabelsData",value:function(d){var g=this.w.config,y=this.w.globals;g.xaxis.categories.length>0?y.labels=g.xaxis.categories:g.labels.length>0?y.labels=g.labels.slice():this.fallbackToCategory?(y.labels=y.labels[0],y.seriesRange.length&&(y.seriesRange.map(function(k){k.forEach(function(T){y.labels.indexOf(T.x)<0&&T.x&&y.labels.push(T.x)})}),y.labels=y.labels.filter(function(k,T,D){return D.indexOf(k)===T})),g.xaxis.convertedCatToNumeric&&(new ft(g).convertCatToNumericXaxis(g,this.ctx,y.seriesX[0]),this._generateExternalLabels(d))):this._generateExternalLabels(d)}},{key:"_generateExternalLabels",value:function(d){var g=this.w.globals,y=this.w.config,k=[];if(g.axisCharts){if(g.series.length>0)if(this.isFormatXY())for(var T=y.series.map(function(j,te){return j.data.filter(function(ce,ue,ge){return ge.findIndex(function(be){return be.x===ce.x})===ue})}),D=T.reduce(function(j,te,ce,ue){return ue[j].length>te.length?j:ce},0),_=0;_<T[D].length;_++)k.push(_+1);else for(var I=0;I<g.series[g.maxValsInArrayIndex].length;I++)k.push(I+1);g.seriesX=[];for(var H=0;H<d.length;H++)g.seriesX.push(k);g.isXNumeric=!0}if(k.length===0){k=g.axisCharts?[]:g.series.map(function(j,te){return te+1});for(var Z=0;Z<d.length;Z++)g.seriesX.push(k)}g.labels=k,y.xaxis.convertedCatToNumeric&&(g.categoryLabels=k.map(function(j){return y.xaxis.labels.formatter(j)})),g.noLabelsProvided=!0}},{key:"parseData",value:function(d){var g=this.w,y=g.config,k=g.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),k.axisCharts?(this.parseDataAxisCharts(d),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(d),y.chart.type==="bar"&&y.chart.stacked){var T=new Ye(this.ctx);k.series=T.setNullSeriesToZeroValues(k.series)}this.coreUtils.getSeriesTotals(),k.axisCharts&&(k.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),k.dataFormatXNumeric||k.isXNumeric&&(y.xaxis.type!=="numeric"||y.labels.length!==0||y.xaxis.categories.length!==0)||this.handleExternalLabelsData(d);for(var D=this.coreUtils.getCategoryLabels(k.labels),_=0;_<D.length;_++)if(Array.isArray(D[_])){k.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var d=this,g=this.w;g.globals.ignoreYAxisIndexes=g.globals.collapsedSeries.map(function(y,k){if(d.w.globals.isMultipleYAxis&&!g.config.chart.stacked)return y.index})}}]),me}(),ht=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"getLabel",value:function(d,g,y,k){var T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",_=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],I=this.w,H=d[k]===void 0?"":d[k],Z=H,j=I.globals.xLabelFormatter,te=I.config.xaxis.labels.formatter,ce=!1,ue=new je(this.ctx),ge=H;_&&(Z=ue.xLabelFormat(j,H,ge,{i:k,dateFormatter:new He(this.ctx).formatDate,w:I}),te!==void 0&&(Z=te(H,d[k],{i:k,dateFormatter:new He(this.ctx).formatDate,w:I})));var be,ke;g.length>0?(be=g[k].unit,ke=null,g.forEach(function(de){de.unit==="month"?ke="year":de.unit==="day"?ke="month":de.unit==="hour"?ke="day":de.unit==="minute"&&(ke="hour")}),ce=ke===be,y=g[k].position,Z=g[k].value):I.config.xaxis.type==="datetime"&&te===void 0&&(Z=""),Z===void 0&&(Z=""),Z=Array.isArray(Z)?Z:Z.toString();var Be=new K(this.ctx),z={};z=I.globals.rotateXLabels&&_?Be.getTextRects(Z,parseInt(D,10),null,"rotate(".concat(I.config.xaxis.labels.rotate," 0 0)"),!1):Be.getTextRects(Z,parseInt(D,10));var ie=!I.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(Z)&&(Z.indexOf("NaN")===0||Z.toLowerCase().indexOf("invalid")===0||Z.toLowerCase().indexOf("infinity")>=0||T.indexOf(Z)>=0&&ie)&&(Z=""),{x:y,text:Z,textRect:z,isBold:ce}}},{key:"checkLabelBasedOnTickamount",value:function(d,g,y){var k=this.w,T=k.config.xaxis.tickAmount;return T==="dataPoints"&&(T=Math.round(k.globals.gridWidth/120)),T>y||d%Math.round(y/(T+1))==0||(g.text=""),g}},{key:"checkForOverflowingLabels",value:function(d,g,y,k,T){var D=this.w;if(d===0&&D.globals.skipFirstTimelinelabel&&(g.text=""),d===y-1&&D.globals.skipLastTimelinelabel&&(g.text=""),D.config.xaxis.labels.hideOverlappingLabels&&k.length>0){var _=T[T.length-1];g.x<_.textRect.width/(D.globals.rotateXLabels?Math.abs(D.config.xaxis.labels.rotate)/12:1.01)+_.x&&(g.text="")}return g}},{key:"checkForReversedLabels",value:function(d,g){var y=this.w;return y.config.yaxis[d]&&y.config.yaxis[d].reversed&&g.reverse(),g}},{key:"isYAxisHidden",value:function(d){var g=this.w,y=new le(this.ctx);return!g.config.yaxis[d].show||!g.config.yaxis[d].showForNullSeries&&y.isSeriesNull(d)&&g.globals.collapsedSeriesIndices.indexOf(d)===-1}},{key:"getYAxisForeColor",value:function(d,g){var y=this.w;return Array.isArray(d)&&y.globals.yAxisScale[g]&&this.ctx.theme.pushExtraColors(d,y.globals.yAxisScale[g].result.length,!1),d}},{key:"drawYAxisTicks",value:function(d,g,y,k,T,D,_){var I=this.w,H=new K(this.ctx),Z=I.globals.translateY;if(k.show&&g>0){I.config.yaxis[T].opposite===!0&&(d+=k.width);for(var j=g;j>=0;j--){var te=Z+g/10+I.config.yaxis[T].labels.offsetY-1;I.globals.isBarHorizontal&&(te=D*j),I.config.chart.type==="heatmap"&&(te+=D/2);var ce=H.drawLine(d+y.offsetX-k.width+k.offsetX,te+k.offsetY,d+y.offsetX+k.offsetX,te+k.offsetY,k.color);_.add(ce),Z+=D}}}}]),me}(),vt=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"scaleSvgNode",value:function(d,g){var y=parseFloat(d.getAttributeNS(null,"width")),k=parseFloat(d.getAttributeNS(null,"height"));d.setAttributeNS(null,"width",y*g),d.setAttributeNS(null,"height",k*g),d.setAttributeNS(null,"viewBox","0 0 "+y+" "+k)}},{key:"fixSvgStringForIe11",value:function(d){if(!X.isIE11())return d.replace(/&nbsp;/g,"&#160;");var g=0,y=d.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(k){return++g===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':k});return y=(y=y.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(d){d==null&&(d=1);var g=this.w.globals.dom.Paper.svg();if(d!==1){var y=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(y,d),g=new XMLSerializer().serializeToString(y)}return this.fixSvgStringForIe11(g)}},{key:"cleanup",value:function(){var d=this.w,g=d.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),y=d.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),k=d.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(k,function(T){T.setAttribute("width",0)}),g&&g[0]&&(g[0].setAttribute("x",-500),g[0].setAttribute("x1",-500),g[0].setAttribute("x2",-500)),y&&y[0]&&(y[0].setAttribute("y",-100),y[0].setAttribute("y1",-100),y[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var d=this.getSvgString(),g=new Blob([d],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(g)}},{key:"dataURI",value:function(d){var g=this;return new Promise(function(y){var k=g.w,T=d?d.scale||d.width/k.globals.svgWidth:1;g.cleanup();var D=document.createElement("canvas");D.width=k.globals.svgWidth*T,D.height=parseInt(k.globals.dom.elWrap.style.height,10)*T;var _=k.config.chart.background==="transparent"?"#fff":k.config.chart.background,I=D.getContext("2d");I.fillStyle=_,I.fillRect(0,0,D.width*T,D.height*T);var H=g.getSvgString(T);if(window.canvg&&X.isIE11()){var Z=window.canvg.Canvg.fromString(I,H,{ignoreClear:!0,ignoreDimensions:!0});Z.start();var j=D.msToBlob();Z.stop(),y({blob:j})}else{var te="data:image/svg+xml,"+encodeURIComponent(H),ce=new Image;ce.crossOrigin="anonymous",ce.onload=function(){if(I.drawImage(ce,0,0),D.msToBlob){var ue=D.msToBlob();y({blob:ue})}else{var ge=D.toDataURL("image/png");y({imgURI:ge})}},ce.src=te}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var d=this;this.dataURI().then(function(g){var y=g.imgURI,k=g.blob;k?navigator.msSaveOrOpenBlob(k,d.w.globals.chartID+".png"):d.triggerDownload(y,d.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(d){var g=this,y=d.series,k=d.fileName,T=d.columnDelimiter,D=T===void 0?",":T,_=d.lineDelimiter,I=_===void 0?`
`:_,H=this.w;y||(y=H.config.series);var Z=[],j=[],te="",ce=H.globals.series.map(function(z,ie){return H.globals.collapsedSeriesIndices.indexOf(ie)===-1?z:[]}),ue=Math.max.apply(Math,Y(y.map(function(z){return z.data?z.data.length:0}))),ge=new st(this.ctx),be=new ht(this.ctx),ke=function(z){var ie="";if(H.globals.axisCharts){if(H.config.xaxis.type==="category"||H.config.xaxis.convertedCatToNumeric)if(H.globals.isBarHorizontal){var de=H.globals.yLabelFormatters[0],Se=new Ye(g.ctx).getActiveConfigSeriesIndex();ie=de(H.globals.labels[z],{seriesIndex:Se,dataPointIndex:z,w:H})}else ie=be.getLabel(H.globals.labels,H.globals.timescaleLabels,0,z).text;H.config.xaxis.type==="datetime"&&(H.config.xaxis.categories.length?ie=H.config.xaxis.categories[z]:H.config.labels.length&&(ie=H.config.labels[z]))}else ie=H.config.labels[z];return Array.isArray(ie)&&(ie=ie.join(" ")),X.isNumber(ie)?ie:ie.split(D).join("")},Be=function(z,ie){if(Z.length&&ie===0&&j.push(Z.join(D)),z.data){z.data=z.data.length&&z.data||Y(Array(ue)).map(function(){return""});for(var de=0;de<z.data.length;de++){Z=[];var Se=ke(de);if(Se||(ge.isFormatXY()?Se=y[ie].data[de].x:ge.isFormat2DArray()&&(Se=y[ie].data[de]?y[ie].data[de][0]:"")),ie===0){Z.push((Oe=Se,H.config.xaxis.type==="datetime"&&String(Oe).length>=10?H.config.chart.toolbar.export.csv.dateFormatter(Se):X.isNumber(Se)?Se:Se.split(D).join("")));for(var Ne=0;Ne<H.globals.series.length;Ne++)ge.isFormatXY()?Z.push(y[Ne].data[de].y):Z.push(ce[Ne][de])}(H.config.chart.type==="candlestick"||z.type&&z.type==="candlestick")&&(Z.pop(),Z.push(H.globals.seriesCandleO[ie][de]),Z.push(H.globals.seriesCandleH[ie][de]),Z.push(H.globals.seriesCandleL[ie][de]),Z.push(H.globals.seriesCandleC[ie][de])),(H.config.chart.type==="boxPlot"||z.type&&z.type==="boxPlot")&&(Z.pop(),Z.push(H.globals.seriesCandleO[ie][de]),Z.push(H.globals.seriesCandleH[ie][de]),Z.push(H.globals.seriesCandleM[ie][de]),Z.push(H.globals.seriesCandleL[ie][de]),Z.push(H.globals.seriesCandleC[ie][de])),H.config.chart.type==="rangeBar"&&(Z.pop(),Z.push(H.globals.seriesRangeStart[ie][de]),Z.push(H.globals.seriesRangeEnd[ie][de])),Z.length&&j.push(Z.join(D))}}var Oe};Z.push(H.config.chart.toolbar.export.csv.headerCategory),H.config.chart.type==="boxPlot"?(Z.push("minimum"),Z.push("q1"),Z.push("median"),Z.push("q3"),Z.push("maximum")):H.config.chart.type==="candlestick"?(Z.push("open"),Z.push("high"),Z.push("low"),Z.push("close")):H.config.chart.type==="rangeBar"?(Z.push("minimum"),Z.push("maximum")):y.map(function(z,ie){var de=z.name?z.name:"series-".concat(ie);H.globals.axisCharts&&Z.push(de.split(D).join("")?de.split(D).join(""):"series-".concat(ie))}),H.globals.axisCharts||(Z.push(H.config.chart.toolbar.export.csv.headerValue),j.push(Z.join(D))),y.map(function(z,ie){H.globals.axisCharts?Be(z,ie):((Z=[]).push(H.globals.labels[ie].split(D).join("")),Z.push(ce[ie]),j.push(Z.join(D)))}),te+=j.join(I),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+te),k||H.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(d,g,y){var k=document.createElement("a");k.href=d,k.download=(g||this.w.globals.chartID)+y,document.body.appendChild(k),k.click(),document.body.removeChild(k)}}]),me}(),kt=function(){function me(d,g){f(this,me),this.ctx=d,this.elgrid=g,this.w=d.w;var y=this.w;this.axesUtils=new ht(d),this.xaxisLabels=y.globals.labels.slice(),y.globals.timescaleLabels.length>0&&!y.globals.isBarHorizontal&&(this.xaxisLabels=y.globals.timescaleLabels.slice()),y.config.xaxis.overwriteCategories&&(this.xaxisLabels=y.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],y.config.xaxis.position==="top"?this.offY=0:this.offY=y.globals.gridHeight+1,this.offY=this.offY+y.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=y.config.chart.type==="bar"&&y.config.plotOptions.bar.horizontal,this.xaxisFontSize=y.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=y.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=y.config.xaxis.labels.style.colors,this.xaxisBorderWidth=y.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=y.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=y.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=y.config.xaxis.axisBorder.height,this.yaxis=y.config.yaxis[0]}return x(me,[{key:"drawXaxis",value:function(){var d=this.w,g=new K(this.ctx),y=g.group({class:"apexcharts-xaxis",transform:"translate(".concat(d.config.xaxis.offsetX,", ").concat(d.config.xaxis.offsetY,")")}),k=g.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(d.globals.translateXAxisX,", ").concat(d.globals.translateXAxisY,")")});y.add(k);for(var T=[],D=0;D<this.xaxisLabels.length;D++)T.push(this.xaxisLabels[D]);if(this.drawXAxisLabelAndGroup(!0,g,k,T,d.globals.isXNumeric,function(ue,ge){return ge}),d.globals.hasGroups){var _=d.globals.groups;T=[];for(var I=0;I<_.length;I++)T.push(_[I].title);var H={};d.config.xaxis.group.style&&(H.xaxisFontSize=d.config.xaxis.group.style.fontSize,H.xaxisFontFamily=d.config.xaxis.group.style.fontFamily,H.xaxisForeColors=d.config.xaxis.group.style.colors,H.fontWeight=d.config.xaxis.group.style.fontWeight,H.cssClass=d.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,g,k,T,!1,function(ue,ge){return _[ue].cols*ge},H)}if(d.config.xaxis.title.text!==void 0){var Z=g.group({class:"apexcharts-xaxis-title"}),j=g.drawText({x:d.globals.gridWidth/2+d.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(d.config.xaxis.position==="bottom"?d.globals.xAxisLabelsHeight:-d.globals.xAxisLabelsHeight-10)+d.config.xaxis.title.offsetY,text:d.config.xaxis.title.text,textAnchor:"middle",fontSize:d.config.xaxis.title.style.fontSize,fontFamily:d.config.xaxis.title.style.fontFamily,fontWeight:d.config.xaxis.title.style.fontWeight,foreColor:d.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+d.config.xaxis.title.style.cssClass});Z.add(j),y.add(Z)}if(d.config.xaxis.axisBorder.show){var te=d.globals.barPadForNumericAxis,ce=g.drawLine(d.globals.padHorizontal+d.config.xaxis.axisBorder.offsetX-te,this.offY,this.xaxisBorderWidth+te,this.offY,d.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(ce):y.add(ce)}return y}},{key:"drawXAxisLabelAndGroup",value:function(d,g,y,k,T,D){var _,I=this,H=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},Z=[],j=[],te=this.w,ce=H.xaxisFontSize||this.xaxisFontSize,ue=H.xaxisFontFamily||this.xaxisFontFamily,ge=H.xaxisForeColors||this.xaxisForeColors,be=H.fontWeight||te.config.xaxis.labels.style.fontWeight,ke=H.cssClass||te.config.xaxis.labels.style.cssClass,Be=te.globals.padHorizontal,z=k.length,ie=te.config.xaxis.type==="category"?te.globals.dataPoints:z;if(ie===0&&z>ie&&(ie=z),T){var de=ie>1?ie-1:ie;_=te.globals.gridWidth/de,Be=Be+D(0,_)/2+te.config.xaxis.labels.offsetX}else _=te.globals.gridWidth/ie,Be=Be+D(0,_)+te.config.xaxis.labels.offsetX;for(var Se=function(Oe){var ot=Be-D(Oe,_)/2+te.config.xaxis.labels.offsetX;Oe===0&&z===1&&_/2===Be&&ie===1&&(ot=te.globals.gridWidth/2);var nt=I.axesUtils.getLabel(k,te.globals.timescaleLabels,ot,Oe,Z,ce,d),Dt=28;if(te.globals.rotateXLabels&&d&&(Dt=22),te.config.xaxis.title.text&&te.config.xaxis.position==="top"&&(Dt+=parseFloat(te.config.xaxis.title.style.fontSize)+2),d||(Dt=Dt+parseFloat(ce)+(te.globals.xAxisLabelsHeight-te.globals.xAxisGroupLabelsHeight)+(te.globals.rotateXLabels?10:0)),nt=te.config.xaxis.tickAmount!==void 0&&te.config.xaxis.tickAmount!=="dataPoints"&&te.config.xaxis.type!=="datetime"?I.axesUtils.checkLabelBasedOnTickamount(Oe,nt,z):I.axesUtils.checkForOverflowingLabels(Oe,nt,z,Z,j),te.config.xaxis.labels.show){var It=g.drawText({x:nt.x,y:I.offY+te.config.xaxis.labels.offsetY+Dt-(te.config.xaxis.position==="top"?te.globals.xAxisHeight+te.config.xaxis.axisTicks.height-2:0),text:nt.text,textAnchor:"middle",fontWeight:nt.isBold?600:be,fontSize:ce,fontFamily:ue,foreColor:Array.isArray(ge)?d&&te.config.xaxis.convertedCatToNumeric?ge[te.globals.minX+Oe-1]:ge[Oe]:ge,isPlainText:!1,cssClass:(d?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+ke});if(y.add(It),It.on("click",function(ti){if(typeof te.config.chart.events.xAxisLabelClick=="function"){var Et=Object.assign({},te,{labelIndex:Oe});te.config.chart.events.xAxisLabelClick(ti,I.ctx,Et)}}),d){var qt=document.createElementNS(te.globals.SVGNS,"title");qt.textContent=Array.isArray(nt.text)?nt.text.join(" "):nt.text,It.node.appendChild(qt),nt.text!==""&&(Z.push(nt.text),j.push(nt))}}Oe<z-1&&(Be+=D(Oe+1,_))},Ne=0;Ne<=z-1;Ne++)Se(Ne)}},{key:"drawXaxisInversed",value:function(d){var g,y,k=this,T=this.w,D=new K(this.ctx),_=T.config.yaxis[0].opposite?T.globals.translateYAxisX[d]:0,I=D.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:d}),H=D.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+_+", 0)"});I.add(H);var Z=[];if(T.config.yaxis[d].show)for(var j=0;j<this.xaxisLabels.length;j++)Z.push(this.xaxisLabels[j]);g=T.globals.gridHeight/Z.length,y=-g/2.2;var te=T.globals.yLabelFormatters[0],ce=T.config.yaxis[0].labels;if(ce.show)for(var ue=function(de){var Se=Z[de]===void 0?"":Z[de];Se=te(Se,{seriesIndex:d,dataPointIndex:de,w:T});var Ne=k.axesUtils.getYAxisForeColor(ce.style.colors,d),Oe=0;Array.isArray(Se)&&(Oe=Se.length/2*parseInt(ce.style.fontSize,10));var ot=ce.offsetX-15,nt="end";k.yaxis.opposite&&(nt="start"),T.config.yaxis[0].labels.align==="left"?(ot=ce.offsetX,nt="start"):T.config.yaxis[0].labels.align==="center"?(ot=ce.offsetX,nt="middle"):T.config.yaxis[0].labels.align==="right"&&(nt="end");var Dt=D.drawText({x:ot,y:y+g+ce.offsetY-Oe,text:Se,textAnchor:nt,foreColor:Array.isArray(Ne)?Ne[de]:Ne,fontSize:ce.style.fontSize,fontFamily:ce.style.fontFamily,fontWeight:ce.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+ce.style.cssClass,maxWidth:ce.maxWidth});H.add(Dt),Dt.on("click",function(ti){if(typeof T.config.chart.events.xAxisLabelClick=="function"){var Et=Object.assign({},T,{labelIndex:de});T.config.chart.events.xAxisLabelClick(ti,k.ctx,Et)}});var It=document.createElementNS(T.globals.SVGNS,"title");if(It.textContent=Array.isArray(Se)?Se.join(" "):Se,Dt.node.appendChild(It),T.config.yaxis[d].labels.rotate!==0){var qt=D.rotateAroundCenter(Dt.node);Dt.node.setAttribute("transform","rotate(".concat(T.config.yaxis[d].labels.rotate," 0 ").concat(qt.y,")"))}y+=g},ge=0;ge<=Z.length-1;ge++)ue(ge);if(T.config.yaxis[0].title.text!==void 0){var be=D.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+_+", 0)"}),ke=D.drawText({x:T.config.yaxis[0].title.offsetX,y:T.globals.gridHeight/2+T.config.yaxis[0].title.offsetY,text:T.config.yaxis[0].title.text,textAnchor:"middle",foreColor:T.config.yaxis[0].title.style.color,fontSize:T.config.yaxis[0].title.style.fontSize,fontWeight:T.config.yaxis[0].title.style.fontWeight,fontFamily:T.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+T.config.yaxis[0].title.style.cssClass});be.add(ke),I.add(be)}var Be=0;this.isCategoryBarHorizontal&&T.config.yaxis[0].opposite&&(Be=T.globals.gridWidth);var z=T.config.xaxis.axisBorder;if(z.show){var ie=D.drawLine(T.globals.padHorizontal+z.offsetX+Be,1+z.offsetY,T.globals.padHorizontal+z.offsetX+Be,T.globals.gridHeight+z.offsetY,z.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(ie):I.add(ie)}return T.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Be,Z.length,T.config.yaxis[0].axisBorder,T.config.yaxis[0].axisTicks,0,g,I),I}},{key:"drawXaxisTicks",value:function(d,g,y){var k=this.w,T=d;if(!(d<0||d-2>k.globals.gridWidth)){var D=this.offY+k.config.xaxis.axisTicks.offsetY;if(g=g+D+k.config.xaxis.axisTicks.height,k.config.xaxis.position==="top"&&(g=D-k.config.xaxis.axisTicks.height),k.config.xaxis.axisTicks.show){var _=new K(this.ctx).drawLine(d+k.config.xaxis.axisTicks.offsetX,D+k.config.xaxis.offsetY,T+k.config.xaxis.axisTicks.offsetX,g+k.config.xaxis.offsetY,k.config.xaxis.axisTicks.color);y.add(_),_.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var d=this.w,g=[],y=this.xaxisLabels.length,k=d.globals.padHorizontal;if(d.globals.timescaleLabels.length>0)for(var T=0;T<y;T++)k=this.xaxisLabels[T].position,g.push(k);else for(var D=y,_=0;_<D;_++){var I=D;d.globals.isXNumeric&&d.config.chart.type!=="bar"&&(I-=1),k+=d.globals.gridWidth/I,g.push(k)}return g}},{key:"xAxisLabelCorrections",value:function(){var d=this.w,g=new K(this.ctx),y=d.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),k=d.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),T=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),D=d.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(d.globals.rotateXLabels||d.config.xaxis.labels.rotateAlways)for(var _=0;_<k.length;_++){var I=g.rotateAroundCenter(k[_]);I.y=I.y-1,I.x=I.x+1,k[_].setAttribute("transform","rotate(".concat(d.config.xaxis.labels.rotate," ").concat(I.x," ").concat(I.y,")")),k[_].setAttribute("text-anchor","end"),y.setAttribute("transform","translate(0, ".concat(-10,")"));var H=k[_].childNodes;d.config.xaxis.labels.trim&&Array.prototype.forEach.call(H,function(ce){g.placeTextWithEllipsis(ce,ce.textContent,d.globals.xAxisLabelsHeight-(d.config.legend.position==="bottom"?20:10))})}else(function(){for(var ce=d.globals.gridWidth/(d.globals.labels.length+1),ue=0;ue<k.length;ue++){var ge=k[ue].childNodes;d.config.xaxis.labels.trim&&d.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(ge,function(be){g.placeTextWithEllipsis(be,be.textContent,ce)})}})();if(T.length>0){var Z=T[T.length-1].getBBox(),j=T[0].getBBox();Z.x<-20&&T[T.length-1].parentNode.removeChild(T[T.length-1]),j.x+j.width>d.globals.gridWidth&&!d.globals.isBarHorizontal&&T[0].parentNode.removeChild(T[0]);for(var te=0;te<D.length;te++)g.placeTextWithEllipsis(D[te],D[te].textContent,d.config.yaxis[0].labels.maxWidth-(d.config.yaxis[0].title.text?2*parseFloat(d.config.yaxis[0].title.style.fontSize):0)-15)}}}]),me}(),Kt=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w;var g=this.w;this.xaxisLabels=g.globals.labels.slice(),this.axesUtils=new ht(d),this.isRangeBar=g.globals.seriesRange.length,g.globals.timescaleLabels.length>0&&(this.xaxisLabels=g.globals.timescaleLabels.slice())}return x(me,[{key:"drawGridArea",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this.w,y=new K(this.ctx);d===null&&(d=y.group({class:"apexcharts-grid"}));var k=y.drawLine(g.globals.padHorizontal,1,g.globals.padHorizontal,g.globals.gridHeight,"transparent"),T=y.drawLine(g.globals.padHorizontal,g.globals.gridHeight,g.globals.gridWidth,g.globals.gridHeight,"transparent");return d.add(T),d.add(k),d}},{key:"drawGrid",value:function(){var d=null;return this.w.globals.axisCharts&&(d=this.renderGrid(),this.drawGridArea(d.el)),d}},{key:"createGridMask",value:function(){var d=this.w,g=d.globals,y=new K(this.ctx),k=Array.isArray(d.config.stroke.width)?0:d.config.stroke.width;if(Array.isArray(d.config.stroke.width)){var T=0;d.config.stroke.width.forEach(function(j){T=Math.max(T,j)}),k=T}g.dom.elGridRectMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(g.cuid)),g.dom.elGridRectMarkerMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(g.cuid)),g.dom.elForecastMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elForecastMask.setAttribute("id","forecastMask".concat(g.cuid)),g.dom.elNonForecastMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(g.cuid));var D=d.config.chart.type,_=0,I=0;(D==="bar"||D==="rangeBar"||D==="candlestick"||D==="boxPlot"||d.globals.comboBarCount>0)&&d.globals.isXNumeric&&!d.globals.isBarHorizontal&&(_=d.config.grid.padding.left,I=d.config.grid.padding.right,g.barPadForNumericAxis>_&&(_=g.barPadForNumericAxis,I=g.barPadForNumericAxis)),g.dom.elGridRect=y.drawRect(-k/2-_-2,-k/2,g.gridWidth+k+I+_+4,g.gridHeight+k,0,"#fff");var H=d.globals.markers.largestSize+1;g.dom.elGridRectMarker=y.drawRect(2*-H,2*-H,g.gridWidth+4*H,g.gridHeight+4*H,0,"#fff"),g.dom.elGridRectMask.appendChild(g.dom.elGridRect.node),g.dom.elGridRectMarkerMask.appendChild(g.dom.elGridRectMarker.node);var Z=g.dom.baseEl.querySelector("defs");Z.appendChild(g.dom.elGridRectMask),Z.appendChild(g.dom.elForecastMask),Z.appendChild(g.dom.elNonForecastMask),Z.appendChild(g.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(d){var g=d.i,y=d.x1,k=d.y1,T=d.x2,D=d.y2,_=d.xCount,I=d.parent,H=this.w;if(!(g===0&&H.globals.skipFirstTimelinelabel||g===_-1&&H.globals.skipLastTimelinelabel&&!H.config.xaxis.labels.formatter||H.config.chart.type==="radar")){H.config.grid.xaxis.lines.show&&this._drawGridLine({i:g,x1:y,y1:k,x2:T,y2:D,xCount:_,parent:I});var Z=0;if(H.globals.hasGroups&&H.config.xaxis.tickPlacement==="between"){var j=H.globals.groups;if(j){for(var te=0,ce=0;te<g&&ce<j.length;ce++)te+=j[ce].cols;te===g&&(Z=.6*H.globals.xAxisLabelsHeight)}}new kt(this.ctx).drawXaxisTicks(y,Z,H.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(d){var g=d.i,y=d.x1,k=d.y1,T=d.x2,D=d.y2,_=d.xCount,I=d.parent,H=this.w,Z=!1,j=I.node.classList.contains("apexcharts-gridlines-horizontal"),te=H.config.grid.strokeDashArray,ce=H.globals.barPadForNumericAxis;(k===0&&D===0||y===0&&T===0)&&(Z=!0),k===H.globals.gridHeight&&D===H.globals.gridHeight&&(Z=!0),!H.globals.isBarHorizontal||g!==0&&g!==_-1||(Z=!0);var ue=new K(this).drawLine(y-(j?ce:0),k,T+(j?ce:0),D,H.config.grid.borderColor,te);ue.node.classList.add("apexcharts-gridline"),Z?this.elGridBorders.add(ue):I.add(ue)}},{key:"_drawGridBandRect",value:function(d){var g=d.c,y=d.x1,k=d.y1,T=d.x2,D=d.y2,_=d.type,I=this.w,H=new K(this.ctx),Z=I.globals.barPadForNumericAxis;if(_!=="column"||I.config.xaxis.type!=="datetime"){var j=I.config.grid[_].colors[g],te=H.drawRect(y-(_==="row"?Z:0),k,T+(_==="row"?2*Z:0),D,0,j,I.config.grid[_].opacity);this.elg.add(te),te.attr("clip-path","url(#gridRectMask".concat(I.globals.cuid,")")),te.node.classList.add("apexcharts-grid-".concat(_))}}},{key:"_drawXYLines",value:function(d){var g=this,y=d.xCount,k=d.tickAmount,T=this.w;if(T.config.grid.xaxis.lines.show||T.config.xaxis.axisTicks.show){var D,_=T.globals.padHorizontal,I=T.globals.gridHeight;T.globals.timescaleLabels.length?function(ue){for(var ge=ue.xC,be=ue.x1,ke=ue.y1,Be=ue.x2,z=ue.y2,ie=0;ie<ge;ie++)be=g.xaxisLabels[ie].position,Be=g.xaxisLabels[ie].position,g._drawGridLines({i:ie,x1:be,y1:ke,x2:Be,y2:z,xCount:y,parent:g.elgridLinesV})}({xC:y,x1:_,y1:0,x2:D,y2:I}):(T.globals.isXNumeric&&(y=T.globals.xAxisScale.result.length),function(ue){for(var ge=ue.xC,be=ue.x1,ke=ue.y1,Be=ue.x2,z=ue.y2,ie=0;ie<ge+(T.globals.isXNumeric?0:1);ie++)ie===0&&ge===1&&T.globals.dataPoints===1&&(Be=be=T.globals.gridWidth/2),g._drawGridLines({i:ie,x1:be,y1:ke,x2:Be,y2:z,xCount:y,parent:g.elgridLinesV}),Be=be+=T.globals.gridWidth/(T.globals.isXNumeric?ge-1:ge)}({xC:y,x1:_,y1:0,x2:D,y2:I}))}if(T.config.grid.yaxis.lines.show){var H=0,Z=0,j=T.globals.gridWidth,te=k+1;this.isRangeBar&&(te=T.globals.labels.length);for(var ce=0;ce<te+(this.isRangeBar?1:0);ce++)this._drawGridLine({i:ce,xCount:te+(this.isRangeBar?1:0),x1:0,y1:H,x2:j,y2:Z,parent:this.elgridLinesH}),Z=H+=T.globals.gridHeight/(this.isRangeBar?te:k)}}},{key:"_drawInvertedXYLines",value:function(d){var g=d.xCount,y=this.w;if(y.config.grid.xaxis.lines.show||y.config.xaxis.axisTicks.show)for(var k,T=y.globals.padHorizontal,D=y.globals.gridHeight,_=0;_<g+1;_++)y.config.grid.xaxis.lines.show&&this._drawGridLine({i:_,xCount:g+1,x1:T,y1:0,x2:k,y2:D,parent:this.elgridLinesV}),new kt(this.ctx).drawXaxisTicks(T,0,y.globals.dom.elGraphical),k=T=T+y.globals.gridWidth/g+.3;if(y.config.grid.yaxis.lines.show)for(var I=0,H=0,Z=y.globals.gridWidth,j=0;j<y.globals.dataPoints+1;j++)this._drawGridLine({i:j,xCount:y.globals.dataPoints+1,x1:0,y1:I,x2:Z,y2:H,parent:this.elgridLinesH}),H=I+=y.globals.gridHeight/y.globals.dataPoints}},{key:"renderGrid",value:function(){var d=this.w,g=new K(this.ctx);this.elg=g.group({class:"apexcharts-grid"}),this.elgridLinesH=g.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=g.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=g.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),d.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var y,k=d.globals.yAxisScale.length?d.globals.yAxisScale[0].result.length-1:5,T=0;T<d.globals.series.length&&(d.globals.yAxisScale[T]!==void 0&&(k=d.globals.yAxisScale[T].result.length-1),!(k>2));T++);return!d.globals.isBarHorizontal||this.isRangeBar?(y=this.xaxisLabels.length,this.isRangeBar&&(k=d.globals.labels.length,d.config.xaxis.tickAmount&&d.config.xaxis.labels.formatter&&(y=d.config.xaxis.tickAmount)),this._drawXYLines({xCount:y,tickAmount:k})):(y=k,k=d.globals.xTickAmount,this._drawInvertedXYLines({xCount:y,tickAmount:k})),this.drawGridBands(y,k),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:d.globals.gridWidth/y}}},{key:"drawGridBands",value:function(d,g){var y=this.w;if(y.config.grid.row.colors!==void 0&&y.config.grid.row.colors.length>0)for(var k=0,T=y.globals.gridHeight/g,D=y.globals.gridWidth,_=0,I=0;_<g;_++,I++)I>=y.config.grid.row.colors.length&&(I=0),this._drawGridBandRect({c:I,x1:0,y1:k,x2:D,y2:T,type:"row"}),k+=y.globals.gridHeight/g;if(y.config.grid.column.colors!==void 0&&y.config.grid.column.colors.length>0)for(var H=y.globals.isBarHorizontal||y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric?d:d-1,Z=y.globals.padHorizontal,j=y.globals.padHorizontal+y.globals.gridWidth/H,te=y.globals.gridHeight,ce=0,ue=0;ce<d;ce++,ue++)ue>=y.config.grid.column.colors.length&&(ue=0),this._drawGridBandRect({c:ue,x1:Z,y1:0,x2:j,y2:te,type:"column"}),Z+=y.globals.gridWidth/H}}]),me}(),ve=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"niceScale",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,T=arguments.length>4?arguments[4]:void 0,D=this.w,_=Math.abs(g-d);if((y=this._adjustTicksForSmallRange(y,k,_))==="dataPoints"&&(y=D.globals.dataPoints-1),d===Number.MIN_VALUE&&g===0||!X.isNumber(d)&&!X.isNumber(g)||d===Number.MIN_VALUE&&g===-Number.MAX_VALUE)return d=0,g=y,this.linearScale(d,g,y);d>g?(console.warn("axis.min cannot be greater than axis.max"),g=d+.1):d===g&&(d=d===0?0:d-.5,g=g===0?2:g+.5);var I=[];_<1&&T&&(D.config.chart.type==="candlestick"||D.config.series[k].type==="candlestick"||D.config.chart.type==="boxPlot"||D.config.series[k].type==="boxPlot"||D.globals.isRangeData)&&(g*=1.01);var H=y+1;H<2?H=2:H>2&&(H-=2);var Z=_/H,j=Math.floor(X.log10(Z)),te=Math.pow(10,j),ce=Math.round(Z/te);ce<1&&(ce=1);var ue=ce*te,ge=ue*Math.floor(d/ue),be=ue*Math.ceil(g/ue),ke=ge;if(T&&_>2){for(;I.push(ke),!((ke+=ue)>be););return{result:I,niceMin:I[0],niceMax:I[I.length-1]}}var Be=d;(I=[]).push(Be);for(var z=Math.abs(g-d)/y,ie=0;ie<=y;ie++)Be+=z,I.push(Be);return I[I.length-2]>=g&&I.pop(),{result:I,niceMin:I[0],niceMax:I[I.length-1]}}},{key:"linearScale",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,k=arguments.length>3?arguments[3]:void 0,T=Math.abs(g-d);(y=this._adjustTicksForSmallRange(y,k,T))==="dataPoints"&&(y=this.w.globals.dataPoints-1);var D=T/y;y===Number.MAX_VALUE&&(y=10,D=1);for(var _=[],I=d;y>=0;)_.push(I),I+=D,y-=1;return{result:_,niceMin:_[0],niceMax:_[_.length-1]}}},{key:"logarithmicScaleNice",value:function(d,g,y){g<=0&&(g=Math.max(d,y)),d<=0&&(d=Math.min(g,y));for(var k=[],T=Math.ceil(Math.log(g)/Math.log(y)+1),D=Math.floor(Math.log(d)/Math.log(y));D<T;D++)k.push(Math.pow(y,D));return{result:k,niceMin:k[0],niceMax:k[k.length-1]}}},{key:"logarithmicScale",value:function(d,g,y){g<=0&&(g=Math.max(d,y)),d<=0&&(d=Math.min(g,y));for(var k=[],T=Math.log(g)/Math.log(y),D=Math.log(d)/Math.log(y),_=T-D,I=Math.round(_),H=_/I,Z=0,j=D;Z<I;Z++,j+=H)k.push(Math.pow(y,j));return k.push(Math.pow(y,T)),{result:k,niceMin:d,niceMax:g}}},{key:"_adjustTicksForSmallRange",value:function(d,g,y){var k=d;if(g!==void 0&&this.w.config.yaxis[g].labels.formatter&&this.w.config.yaxis[g].tickAmount===void 0){var T=Number(this.w.config.yaxis[g].labels.formatter(1));X.isNumber(T)&&this.w.globals.yValueDecimal===0&&(k=Math.ceil(y))}return k<d?k:d}},{key:"setYScaleForIndex",value:function(d,g,y){var k=this.w.globals,T=this.w.config,D=k.isBarHorizontal?T.xaxis:T.yaxis[d];k.yAxisScale[d]===void 0&&(k.yAxisScale[d]=[]);var _=Math.abs(y-g);if(D.logarithmic&&_<=5&&(k.invalidLogScale=!0),D.logarithmic&&_>5)k.allSeriesCollapsed=!1,k.yAxisScale[d]=this.logarithmicScale(g,y,D.logBase),k.yAxisScale[d]=D.forceNiceScale?this.logarithmicScaleNice(g,y,D.logBase):this.logarithmicScale(g,y,D.logBase);else if(y!==-Number.MAX_VALUE&&X.isNumber(y))if(k.allSeriesCollapsed=!1,D.min===void 0&&D.max===void 0||D.forceNiceScale){var I=T.yaxis[d].max===void 0&&T.yaxis[d].min===void 0||T.yaxis[d].forceNiceScale;k.yAxisScale[d]=this.niceScale(g,y,D.tickAmount?D.tickAmount:_<5&&_>1?_+1:5,d,I)}else k.yAxisScale[d]=this.linearScale(g,y,D.tickAmount,d);else k.yAxisScale[d]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(d,g){var y=this.w,k=y.globals,T=y.config.xaxis,D=Math.abs(g-d);return g!==-Number.MAX_VALUE&&X.isNumber(g)?k.xAxisScale=this.linearScale(d,g,T.tickAmount?T.tickAmount:D<5&&D>1?D+1:5,0):k.xAxisScale=this.linearScale(0,5,5),k.xAxisScale}},{key:"setMultipleYScales",value:function(){var d=this,g=this.w.globals,y=this.w.config,k=g.minYArr.concat([]),T=g.maxYArr.concat([]),D=[];y.yaxis.forEach(function(_,I){var H=I;y.series.forEach(function(te,ce){te.name===_.seriesName&&(H=ce,I!==ce?D.push({index:ce,similarIndex:I,alreadyExists:!0}):D.push({index:ce}))});var Z=k[H],j=T[H];d.setYScaleForIndex(I,Z,j)}),this.sameScaleInMultipleAxes(k,T,D)}},{key:"sameScaleInMultipleAxes",value:function(d,g,y){var k=this,T=this.w.config,D=this.w.globals,_=[];y.forEach(function(ge){ge.alreadyExists&&(_[ge.index]===void 0&&(_[ge.index]=[]),_[ge.index].push(ge.index),_[ge.index].push(ge.similarIndex))}),D.yAxisSameScaleIndices=_,_.forEach(function(ge,be){_.forEach(function(ke,Be){var z,ie;be!==Be&&(z=ge,ie=ke,z.filter(function(de){return ie.indexOf(de)!==-1})).length>0&&(_[be]=_[be].concat(_[Be]))})});var I=_.map(function(ge){return ge.filter(function(be,ke){return ge.indexOf(be)===ke})}).map(function(ge){return ge.sort()});_=_.filter(function(ge){return!!ge});var H=I.slice(),Z=H.map(function(ge){return JSON.stringify(ge)});H=H.filter(function(ge,be){return Z.indexOf(JSON.stringify(ge))===be});var j=[],te=[];d.forEach(function(ge,be){H.forEach(function(ke,Be){ke.indexOf(be)>-1&&(j[Be]===void 0&&(j[Be]=[],te[Be]=[]),j[Be].push({key:be,value:ge}),te[Be].push({key:be,value:g[be]}))})});var ce=Array.apply(null,Array(H.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),ue=Array.apply(null,Array(H.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);j.forEach(function(ge,be){ge.forEach(function(ke,Be){ce[be]=Math.min(ke.value,ce[be])})}),te.forEach(function(ge,be){ge.forEach(function(ke,Be){ue[be]=Math.max(ke.value,ue[be])})}),d.forEach(function(ge,be){te.forEach(function(ke,Be){var z=ce[Be],ie=ue[Be];T.chart.stacked&&(ie=0,ke.forEach(function(de,Se){de.value!==-Number.MAX_VALUE&&(ie+=de.value),z!==Number.MIN_VALUE&&(z+=j[Be][Se].value)})),ke.forEach(function(de,Se){ke[Se].key===be&&(T.yaxis[be].min!==void 0&&(z=typeof T.yaxis[be].min=="function"?T.yaxis[be].min(D.minY):T.yaxis[be].min),T.yaxis[be].max!==void 0&&(ie=typeof T.yaxis[be].max=="function"?T.yaxis[be].max(D.maxY):T.yaxis[be].max),k.setYScaleForIndex(be,z,ie))})})})}},{key:"autoScaleY",value:function(d,g,y){d||(d=this);var k=d.w;if(k.globals.isMultipleYAxis||k.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),g;var T=k.globals.seriesX[0],D=k.config.chart.stacked;return g.forEach(function(_,I){for(var H=0,Z=0;Z<T.length;Z++)if(T[Z]>=y.xaxis.min){H=Z;break}var j,te,ce=k.globals.minYArr[I],ue=k.globals.maxYArr[I],ge=k.globals.stackedSeriesTotals;k.globals.series.forEach(function(be,ke){var Be=be[H];D?(Be=ge[H],j=te=Be,ge.forEach(function(z,ie){T[ie]<=y.xaxis.max&&T[ie]>=y.xaxis.min&&(z>te&&z!==null&&(te=z),be[ie]<j&&be[ie]!==null&&(j=be[ie]))})):(j=te=Be,be.forEach(function(z,ie){if(T[ie]<=y.xaxis.max&&T[ie]>=y.xaxis.min){var de=z,Se=z;k.globals.series.forEach(function(Ne,Oe){z!==null&&(de=Math.min(Ne[ie],de),Se=Math.max(Ne[ie],Se))}),Se>te&&Se!==null&&(te=Se),de<j&&de!==null&&(j=de)}})),j===void 0&&te===void 0&&(j=ce,te=ue),te*=te<0?.9:1.1,(j*=j<0?1.1:.9)===0&&te===0&&(j=-1,te=1),te<0&&te<ue&&(te=ue),j<0&&j>ce&&(j=ce),g.length>1?(g[ke].min=_.min===void 0?j:_.min,g[ke].max=_.max===void 0?te:_.max):(g[0].min=_.min===void 0?j:_.min,g[0].max=_.max===void 0?te:_.max)})}),g}}]),me}(),et=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.scales=new ve(d)}return x(me,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,T=this.w.config,D=this.w.globals,_=-Number.MAX_VALUE,I=Number.MIN_VALUE;k===null&&(k=d+1);var H=D.series,Z=H,j=H;T.chart.type==="candlestick"?(Z=D.seriesCandleL,j=D.seriesCandleH):T.chart.type==="boxPlot"?(Z=D.seriesCandleO,j=D.seriesCandleC):D.isRangeData&&(Z=D.seriesRangeStart,j=D.seriesRangeEnd);for(var te=d;te<k;te++){D.dataPoints=Math.max(D.dataPoints,H[te].length),D.categoryLabels.length&&(D.dataPoints=D.categoryLabels.filter(function(ge){return ge!==void 0}).length);for(var ce=0;ce<D.series[te].length;ce++){var ue=H[te][ce];ue!==null&&X.isNumber(ue)?(j[te][ce]!==void 0&&(_=Math.max(_,j[te][ce]),g=Math.min(g,j[te][ce])),Z[te][ce]!==void 0&&(g=Math.min(g,Z[te][ce]),y=Math.max(y,Z[te][ce])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||D.seriesCandleC[te][ce]!==void 0&&(_=Math.max(_,D.seriesCandleO[te][ce]),_=Math.max(_,D.seriesCandleH[te][ce]),_=Math.max(_,D.seriesCandleL[te][ce]),_=Math.max(_,D.seriesCandleC[te][ce]),this.w.config.chart.type==="boxPlot"&&(_=Math.max(_,D.seriesCandleM[te][ce]))),!T.series[te].type||T.series[te].type==="candlestick"&&T.series[te].type==="boxPlot"&&T.series[te].type==="rangeArea"&&T.series[te].type==="rangeBar"||(_=Math.max(_,D.series[te][ce]),g=Math.min(g,D.series[te][ce])),y=_),D.seriesGoals[te]&&D.seriesGoals[te][ce]&&Array.isArray(D.seriesGoals[te][ce])&&D.seriesGoals[te][ce].forEach(function(ge){I!==Number.MIN_VALUE&&(I=Math.min(I,ge.value),g=I),_=Math.max(_,ge.value),y=_}),X.isFloat(ue)&&(ue=X.noExponents(ue),D.yValueDecimal=Math.max(D.yValueDecimal,ue.toString().split(".")[1].length)),I>Z[te][ce]&&Z[te][ce]<0&&(I=Z[te][ce])):D.hasNullValues=!0}}return T.chart.type==="rangeBar"&&D.seriesRangeStart.length&&D.isBarHorizontal&&(I=g),T.chart.type==="bar"&&(I<0&&_<0&&(_=0),I===Number.MIN_VALUE&&(I=0)),{minY:I,maxY:_,lowestY:g,highestY:y}}},{key:"setYRange",value:function(){var d=this.w.globals,g=this.w.config;d.maxY=-Number.MAX_VALUE,d.minY=Number.MIN_VALUE;var y=Number.MAX_VALUE;if(d.isMultipleYAxis)for(var k=0;k<d.series.length;k++){var T=this.getMinYMaxY(k,y,null,k+1);d.minYArr.push(T.minY),d.maxYArr.push(T.maxY),y=T.lowestY}var D=this.getMinYMaxY(0,y,null,d.series.length);if(d.minY=D.minY,d.maxY=D.maxY,y=D.lowestY,g.chart.stacked&&this._setStackedMinMax(),(g.chart.type==="line"||g.chart.type==="area"||g.chart.type==="candlestick"||g.chart.type==="boxPlot"||g.chart.type==="rangeBar"&&!d.isBarHorizontal)&&d.minY===Number.MIN_VALUE&&y!==-Number.MAX_VALUE&&y!==d.maxY){var _=d.maxY-y;(y>=0&&y<=10||g.yaxis[0].min!==void 0||g.yaxis[0].max!==void 0)&&(_=0),d.minY=y-5*_/100,y>0&&d.minY<0&&(d.minY=0),d.maxY=d.maxY+5*_/100}return g.yaxis.forEach(function(I,H){I.max!==void 0&&(typeof I.max=="number"?d.maxYArr[H]=I.max:typeof I.max=="function"&&(d.maxYArr[H]=I.max(d.isMultipleYAxis?d.maxYArr[H]:d.maxY)),d.maxY=d.maxYArr[H]),I.min!==void 0&&(typeof I.min=="number"?d.minYArr[H]=I.min:typeof I.min=="function"&&(d.minYArr[H]=I.min(d.isMultipleYAxis?d.minYArr[H]===Number.MIN_VALUE?0:d.minYArr[H]:d.minY)),d.minY=d.minYArr[H])}),d.isBarHorizontal&&["min","max"].forEach(function(I){g.xaxis[I]!==void 0&&typeof g.xaxis[I]=="number"&&(I==="min"?d.minY=g.xaxis[I]:d.maxY=g.xaxis[I])}),d.isMultipleYAxis?(this.scales.setMultipleYScales(),d.minY=y,d.yAxisScale.forEach(function(I,H){d.minYArr[H]=I.niceMin,d.maxYArr[H]=I.niceMax})):(this.scales.setYScaleForIndex(0,d.minY,d.maxY),d.minY=d.yAxisScale[0].niceMin,d.maxY=d.yAxisScale[0].niceMax,d.minYArr[0]=d.yAxisScale[0].niceMin,d.maxYArr[0]=d.yAxisScale[0].niceMax),{minY:d.minY,maxY:d.maxY,minYArr:d.minYArr,maxYArr:d.maxYArr,yAxisScale:d.yAxisScale}}},{key:"setXRange",value:function(){var d=this.w.globals,g=this.w.config,y=g.xaxis.type==="numeric"||g.xaxis.type==="datetime"||g.xaxis.type==="category"&&!d.noLabelsProvided||d.noLabelsProvided||d.isXNumeric;if(d.isXNumeric&&function(){for(var _=0;_<d.series.length;_++)if(d.labels[_])for(var I=0;I<d.labels[_].length;I++)d.labels[_][I]!==null&&X.isNumber(d.labels[_][I])&&(d.maxX=Math.max(d.maxX,d.labels[_][I]),d.initialMaxX=Math.max(d.maxX,d.labels[_][I]),d.minX=Math.min(d.minX,d.labels[_][I]),d.initialMinX=Math.min(d.minX,d.labels[_][I]))}(),d.noLabelsProvided&&g.xaxis.categories.length===0&&(d.maxX=d.labels[d.labels.length-1],d.initialMaxX=d.labels[d.labels.length-1],d.minX=1,d.initialMinX=1),d.isXNumeric||d.noLabelsProvided||d.dataFormatXNumeric){var k;if(g.xaxis.tickAmount===void 0?(k=Math.round(d.svgWidth/150),g.xaxis.type==="numeric"&&d.dataPoints<30&&(k=d.dataPoints-1),k>d.dataPoints&&d.dataPoints!==0&&(k=d.dataPoints-1)):g.xaxis.tickAmount==="dataPoints"?(d.series.length>1&&(k=d.series[d.maxValsInArrayIndex].length-1),d.isXNumeric&&(k=d.maxX-d.minX-1)):k=g.xaxis.tickAmount,d.xTickAmount=k,g.xaxis.max!==void 0&&typeof g.xaxis.max=="number"&&(d.maxX=g.xaxis.max),g.xaxis.min!==void 0&&typeof g.xaxis.min=="number"&&(d.minX=g.xaxis.min),g.xaxis.range!==void 0&&(d.minX=d.maxX-g.xaxis.range),d.minX!==Number.MAX_VALUE&&d.maxX!==-Number.MAX_VALUE)if(g.xaxis.convertedCatToNumeric&&!d.dataFormatXNumeric){for(var T=[],D=d.minX-1;D<d.maxX;D++)T.push(D+1);d.xAxisScale={result:T,niceMin:T[0],niceMax:T[T.length-1]}}else d.xAxisScale=this.scales.setXScale(d.minX,d.maxX);else d.xAxisScale=this.scales.linearScale(1,k,k),d.noLabelsProvided&&d.labels.length>0&&(d.xAxisScale=this.scales.linearScale(1,d.labels.length,k-1),d.seriesX=d.labels.slice());y&&(d.labels=d.xAxisScale.result.slice())}return d.isBarHorizontal&&d.labels.length&&(d.xTickAmount=d.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:d.minX,maxX:d.maxX}}},{key:"setZRange",value:function(){var d=this.w.globals;if(d.isDataXYZ){for(var g=0;g<d.series.length;g++)if(d.seriesZ[g]!==void 0)for(var y=0;y<d.seriesZ[g].length;y++)d.seriesZ[g][y]!==null&&X.isNumber(d.seriesZ[g][y])&&(d.maxZ=Math.max(d.maxZ,d.seriesZ[g][y]),d.minZ=Math.min(d.minZ,d.seriesZ[g][y]))}}},{key:"_handleSingleDataPoint",value:function(){var d=this.w.globals,g=this.w.config;if(d.minX===d.maxX){var y=new He(this.ctx);if(g.xaxis.type==="datetime"){var k=y.getDate(d.minX);g.xaxis.labels.datetimeUTC?k.setUTCDate(k.getUTCDate()-2):k.setDate(k.getDate()-2),d.minX=new Date(k).getTime();var T=y.getDate(d.maxX);g.xaxis.labels.datetimeUTC?T.setUTCDate(T.getUTCDate()+2):T.setDate(T.getDate()+2),d.maxX=new Date(T).getTime()}else(g.xaxis.type==="numeric"||g.xaxis.type==="category"&&!d.noLabelsProvided)&&(d.minX=d.minX-2,d.initialMinX=d.minX,d.maxX=d.maxX+2,d.initialMaxX=d.maxX)}}},{key:"_getMinXDiff",value:function(){var d=this.w.globals;d.isXNumeric&&d.seriesX.forEach(function(g,y){g.length===1&&g.push(d.seriesX[d.maxValsInArrayIndex][d.seriesX[d.maxValsInArrayIndex].length-1]);var k=g.slice();k.sort(function(T,D){return T-D}),k.forEach(function(T,D){if(D>0){var _=T-k[D-1];_>0&&(d.minXDiff=Math.min(_,d.minXDiff))}}),d.dataPoints!==1&&d.minXDiff!==Number.MAX_VALUE||(d.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var d=this.w.globals,g=[],y=[];if(d.series.length)for(var k=0;k<d.series[d.maxValsInArrayIndex].length;k++)for(var T=0,D=0,_=0;_<d.series.length;_++)d.series[_][k]!==null&&X.isNumber(d.series[_][k])&&(d.series[_][k]>0?T=T+parseFloat(d.series[_][k])+1e-4:D+=parseFloat(d.series[_][k])),_===d.series.length-1&&(g.push(T),y.push(D));for(var I=0;I<g.length;I++)d.maxY=Math.max(d.maxY,g[I]),d.minY=Math.min(d.minY,y[I])}}]),me}(),ut=function(){function me(d,g){f(this,me),this.ctx=d,this.elgrid=g,this.w=d.w;var y=this.w;this.xaxisFontSize=y.config.xaxis.labels.style.fontSize,this.axisFontFamily=y.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=y.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=y.config.chart.type==="bar"&&y.config.plotOptions.bar.horizontal,this.xAxisoffX=0,y.config.xaxis.position==="bottom"&&(this.xAxisoffX=y.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new ht(d)}return x(me,[{key:"drawYaxis",value:function(d){var g=this,y=this.w,k=new K(this.ctx),T=y.config.yaxis[d].labels.style,D=T.fontSize,_=T.fontFamily,I=T.fontWeight,H=k.group({class:"apexcharts-yaxis",rel:d,transform:"translate("+y.globals.translateYAxisX[d]+", 0)"});if(this.axesUtils.isYAxisHidden(d))return H;var Z=k.group({class:"apexcharts-yaxis-texts-g"});H.add(Z);var j=y.globals.yAxisScale[d].result.length-1,te=y.globals.gridHeight/j,ce=y.globals.translateY,ue=y.globals.yLabelFormatters[d],ge=y.globals.yAxisScale[d].result.slice();ge=this.axesUtils.checkForReversedLabels(d,ge);var be="";if(y.config.yaxis[d].labels.show)for(var ke=function(ot){var nt=ge[ot];nt=ue(nt,ot,y);var Dt=y.config.yaxis[d].labels.padding;y.config.yaxis[d].opposite&&y.config.yaxis.length!==0&&(Dt*=-1);var It="end";y.config.yaxis[d].opposite&&(It="start"),y.config.yaxis[d].labels.align==="left"?It="start":y.config.yaxis[d].labels.align==="center"?It="middle":y.config.yaxis[d].labels.align==="right"&&(It="end");var qt=g.axesUtils.getYAxisForeColor(T.colors,d),ti=k.drawText({x:Dt,y:ce+j/10+y.config.yaxis[d].labels.offsetY+1,text:nt,textAnchor:It,fontSize:D,fontFamily:_,fontWeight:I,maxWidth:y.config.yaxis[d].labels.maxWidth,foreColor:Array.isArray(qt)?qt[ot]:qt,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+T.cssClass});ot===j&&(be=ti),Z.add(ti);var Et=document.createElementNS(y.globals.SVGNS,"title");if(Et.textContent=Array.isArray(nt)?nt.join(" "):nt,ti.node.appendChild(Et),y.config.yaxis[d].labels.rotate!==0){var Qi=k.rotateAroundCenter(be.node),Zt=k.rotateAroundCenter(ti.node);ti.node.setAttribute("transform","rotate(".concat(y.config.yaxis[d].labels.rotate," ").concat(Qi.x," ").concat(Zt.y,")"))}ce+=te},Be=j;Be>=0;Be--)ke(Be);if(y.config.yaxis[d].title.text!==void 0){var z=k.group({class:"apexcharts-yaxis-title"}),ie=0;y.config.yaxis[d].opposite&&(ie=y.globals.translateYAxisX[d]);var de=k.drawText({x:ie,y:y.globals.gridHeight/2+y.globals.translateY+y.config.yaxis[d].title.offsetY,text:y.config.yaxis[d].title.text,textAnchor:"end",foreColor:y.config.yaxis[d].title.style.color,fontSize:y.config.yaxis[d].title.style.fontSize,fontWeight:y.config.yaxis[d].title.style.fontWeight,fontFamily:y.config.yaxis[d].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+y.config.yaxis[d].title.style.cssClass});z.add(de),H.add(z)}var Se=y.config.yaxis[d].axisBorder,Ne=31+Se.offsetX;if(y.config.yaxis[d].opposite&&(Ne=-31-Se.offsetX),Se.show){var Oe=k.drawLine(Ne,y.globals.translateY+Se.offsetY-2,Ne,y.globals.gridHeight+y.globals.translateY+Se.offsetY+2,Se.color,0,Se.width);H.add(Oe)}return y.config.yaxis[d].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ne,j,Se,y.config.yaxis[d].axisTicks,d,te,H),H}},{key:"drawYaxisInversed",value:function(d){var g=this.w,y=new K(this.ctx),k=y.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),T=y.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(g.globals.translateXAxisX,", ").concat(g.globals.translateXAxisY,")")});k.add(T);var D=g.globals.yAxisScale[d].result.length-1,_=g.globals.gridWidth/D+.1,I=_+g.config.xaxis.labels.offsetX,H=g.globals.xLabelFormatter,Z=g.globals.yAxisScale[d].result.slice(),j=g.globals.timescaleLabels;j.length>0&&(this.xaxisLabels=j.slice(),D=(Z=j.slice()).length),Z=this.axesUtils.checkForReversedLabels(d,Z);var te=j.length;if(g.config.xaxis.labels.show)for(var ce=te?0:D;te?ce<te:ce>=0;te?ce++:ce--){var ue=Z[ce];ue=H(ue,ce,g);var ge=g.globals.gridWidth+g.globals.padHorizontal-(I-_+g.config.xaxis.labels.offsetX);if(j.length){var be=this.axesUtils.getLabel(Z,j,ge,ce,this.drawnLabels,this.xaxisFontSize);ge=be.x,ue=be.text,this.drawnLabels.push(be.text),ce===0&&g.globals.skipFirstTimelinelabel&&(ue=""),ce===Z.length-1&&g.globals.skipLastTimelinelabel&&(ue="")}var ke=y.drawText({x:ge,y:this.xAxisoffX+g.config.xaxis.labels.offsetY+30-(g.config.xaxis.position==="top"?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:ue,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[d]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:g.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+g.config.xaxis.labels.style.cssClass});T.add(ke),ke.tspan(ue);var Be=document.createElementNS(g.globals.SVGNS,"title");Be.textContent=ue,ke.node.appendChild(Be),I+=_}return this.inversedYAxisTitleText(k),this.inversedYAxisBorder(k),k}},{key:"inversedYAxisBorder",value:function(d){var g=this.w,y=new K(this.ctx),k=g.config.xaxis.axisBorder;if(k.show){var T=0;g.config.chart.type==="bar"&&g.globals.isXNumeric&&(T-=15);var D=y.drawLine(g.globals.padHorizontal+T+k.offsetX,this.xAxisoffX,g.globals.gridWidth,this.xAxisoffX,k.color,0,k.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(D):d.add(D)}}},{key:"inversedYAxisTitleText",value:function(d){var g=this.w,y=new K(this.ctx);if(g.config.xaxis.title.text!==void 0){var k=y.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),T=y.drawText({x:g.globals.gridWidth/2+g.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(g.config.xaxis.title.style.fontSize)+g.config.xaxis.title.offsetY+20,text:g.config.xaxis.title.text,textAnchor:"middle",fontSize:g.config.xaxis.title.style.fontSize,fontFamily:g.config.xaxis.title.style.fontFamily,fontWeight:g.config.xaxis.title.style.fontWeight,foreColor:g.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+g.config.xaxis.title.style.cssClass});k.add(T),d.add(k)}}},{key:"yAxisTitleRotate",value:function(d,g){var y=this.w,k=new K(this.ctx),T={width:0,height:0},D={width:0,height:0},_=y.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(d,"'] .apexcharts-yaxis-texts-g"));_!==null&&(T=_.getBoundingClientRect());var I=y.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"'] .apexcharts-yaxis-title text"));if(I!==null&&(D=I.getBoundingClientRect()),I!==null){var H=this.xPaddingForYAxisTitle(d,T,D,g);I.setAttribute("x",H.xPos-(g?10:0))}if(I!==null){var Z=k.rotateAroundCenter(I);I.setAttribute("transform","rotate(".concat(g?-1*y.config.yaxis[d].title.rotate:y.config.yaxis[d].title.rotate," ").concat(Z.x," ").concat(Z.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(d,g,y,k){var T=this.w,D=0,_=0,I=10;return T.config.yaxis[d].title.text===void 0||d<0?{xPos:_,padd:0}:(k?(_=g.width+T.config.yaxis[d].title.offsetX+y.width/2+I/2,(D+=1)===0&&(_-=I/2)):(_=-1*g.width+T.config.yaxis[d].title.offsetX+I/2+y.width/2,T.globals.isBarHorizontal&&(I=25,_=-1*g.width-T.config.yaxis[d].title.offsetX-I)),{xPos:_,padd:I})}},{key:"setYAxisXPosition",value:function(d,g){var y=this.w,k=0,T=0,D=18,_=1;y.config.yaxis.length>1&&(this.multipleYs=!0),y.config.yaxis.map(function(I,H){var Z=y.globals.ignoreYAxisIndexes.indexOf(H)>-1||!I.show||I.floating||d[H].width===0,j=d[H].width+g[H].width;I.opposite?y.globals.isBarHorizontal?(T=y.globals.gridWidth+y.globals.translateX-1,y.globals.translateYAxisX[H]=T-I.labels.offsetX):(T=y.globals.gridWidth+y.globals.translateX+_,Z||(_=_+j+20),y.globals.translateYAxisX[H]=T-I.labels.offsetX+20):(k=y.globals.translateX-D,Z||(D=D+j+20),y.globals.translateYAxisX[H]=k+I.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var d=this.w,g=d.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(g=X.listToArray(g)).forEach(function(y,k){var T=d.config.yaxis[k];if(T&&!T.floating&&T.labels.align!==void 0){var D=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(k,"'] .apexcharts-yaxis-texts-g")),_=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(k,"'] .apexcharts-yaxis-label"));_=X.listToArray(_);var I=D.getBoundingClientRect();T.labels.align==="left"?(_.forEach(function(H,Z){H.setAttribute("text-anchor","start")}),T.opposite||D.setAttribute("transform","translate(-".concat(I.width,", 0)"))):T.labels.align==="center"?(_.forEach(function(H,Z){H.setAttribute("text-anchor","middle")}),D.setAttribute("transform","translate(".concat(I.width/2*(T.opposite?1:-1),", 0)"))):T.labels.align==="right"&&(_.forEach(function(H,Z){H.setAttribute("text-anchor","end")}),T.opposite&&D.setAttribute("transform","translate(".concat(I.width,", 0)")))}})}}]),me}(),xt=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.documentEvent=X.bind(this.documentEvent,this)}return x(me,[{key:"addEventListener",value:function(d,g){var y=this.w;y.globals.events.hasOwnProperty(d)?y.globals.events[d].push(g):y.globals.events[d]=[g]}},{key:"removeEventListener",value:function(d,g){var y=this.w;if(y.globals.events.hasOwnProperty(d)){var k=y.globals.events[d].indexOf(g);k!==-1&&y.globals.events[d].splice(k,1)}}},{key:"fireEvent",value:function(d,g){var y=this.w;if(y.globals.events.hasOwnProperty(d)){g&&g.length||(g=[]);for(var k=y.globals.events[d],T=k.length,D=0;D<T;D++)k[D].apply(null,g)}}},{key:"setupEventHandlers",value:function(){var d=this,g=this.w,y=this.ctx,k=g.globals.dom.baseEl.querySelector(g.globals.chartClass);this.ctx.eventList.forEach(function(T){k.addEventListener(T,function(D){var _=Object.assign({},g,{seriesIndex:g.globals.capturedSeriesIndex,dataPointIndex:g.globals.capturedDataPointIndex});D.type==="mousemove"||D.type==="touchmove"?typeof g.config.chart.events.mouseMove=="function"&&g.config.chart.events.mouseMove(D,y,_):D.type==="mouseleave"||D.type==="touchleave"?typeof g.config.chart.events.mouseLeave=="function"&&g.config.chart.events.mouseLeave(D,y,_):(D.type==="mouseup"&&D.which===1||D.type==="touchend")&&(typeof g.config.chart.events.click=="function"&&g.config.chart.events.click(D,y,_),y.ctx.events.fireEvent("click",[D,y,_]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(T){g.globals.dom.baseEl.addEventListener(T,d.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(d){var g=this.w,y=d.target.className;if(d.type==="click"){var k=g.globals.dom.baseEl.querySelector(".apexcharts-menu");k&&k.classList.contains("apexcharts-menu-open")&&y!=="apexcharts-menu-icon"&&k.classList.remove("apexcharts-menu-open")}g.globals.clientX=d.type==="touchmove"?d.touches[0].clientX:d.clientX,g.globals.clientY=d.type==="touchmove"?d.touches[0].clientY:d.clientY}}]),me}(),wt=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"setCurrentLocaleValues",value:function(d){var g=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(g=this.w.config.chart.locales.concat(window.Apex.chart.locales));var y=g.filter(function(T){return T.name===d})[0];if(!y)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var k=X.extend(Te,y);this.w.globals.locale=k.options}}]),me}(),gt=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"drawAxis",value:function(d,g){var y,k,T=this,D=this.w.globals,_=this.w.config,I=new kt(this.ctx,g),H=new ut(this.ctx,g);D.axisCharts&&d!=="radar"&&(D.isBarHorizontal?(k=H.drawYaxisInversed(0),y=I.drawXaxisInversed(0),D.dom.elGraphical.add(y),D.dom.elGraphical.add(k)):(y=I.drawXaxis(),D.dom.elGraphical.add(y),_.yaxis.map(function(Z,j){if(D.ignoreYAxisIndexes.indexOf(j)===-1&&(k=H.drawYaxis(j),D.dom.Paper.add(k),T.w.config.grid.position==="back")){var te=D.dom.Paper.children()[1];te.remove(),D.dom.Paper.add(te)}})))}}]),me}(),Ht=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"drawXCrosshairs",value:function(){var d=this.w,g=new K(this.ctx),y=new he(this.ctx),k=d.config.xaxis.crosshairs.fill.gradient,T=d.config.xaxis.crosshairs.dropShadow,D=d.config.xaxis.crosshairs.fill.type,_=k.colorFrom,I=k.colorTo,H=k.opacityFrom,Z=k.opacityTo,j=k.stops,te=T.enabled,ce=T.left,ue=T.top,ge=T.blur,be=T.color,ke=T.opacity,Be=d.config.xaxis.crosshairs.fill.color;if(d.config.xaxis.crosshairs.show){D==="gradient"&&(Be=g.drawGradient("vertical",_,I,H,Z,null,j,null));var z=g.drawRect();d.config.xaxis.crosshairs.width===1&&(z=g.drawLine());var ie=d.globals.gridHeight;(!X.isNumber(ie)||ie<0)&&(ie=0);var de=d.config.xaxis.crosshairs.width;(!X.isNumber(de)||de<0)&&(de=0),z.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:ie,width:de,height:ie,fill:Be,filter:"none","fill-opacity":d.config.xaxis.crosshairs.opacity,stroke:d.config.xaxis.crosshairs.stroke.color,"stroke-width":d.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":d.config.xaxis.crosshairs.stroke.dashArray}),te&&(z=y.dropShadow(z,{left:ce,top:ue,blur:ge,color:be,opacity:ke})),d.globals.dom.elGraphical.add(z)}}},{key:"drawYCrosshairs",value:function(){var d=this.w,g=new K(this.ctx),y=d.config.yaxis[0].crosshairs,k=d.globals.barPadForNumericAxis;if(d.config.yaxis[0].crosshairs.show){var T=g.drawLine(-k,0,d.globals.gridWidth+k,0,y.stroke.color,y.stroke.dashArray,y.stroke.width);T.attr({class:"apexcharts-ycrosshairs"}),d.globals.dom.elGraphical.add(T)}var D=g.drawLine(-k,0,d.globals.gridWidth+k,0,y.stroke.color,0,0);D.attr({class:"apexcharts-ycrosshairs-hidden"}),d.globals.dom.elGraphical.add(D)}}]),me}(),_t=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"checkResponsiveConfig",value:function(d){var g=this,y=this.w,k=y.config;if(k.responsive.length!==0){var T=k.responsive.slice();T.sort(function(H,Z){return H.breakpoint>Z.breakpoint?1:Z.breakpoint>H.breakpoint?-1:0}).reverse();var D=new Je({}),_=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=T[0].breakpoint,j=window.innerWidth>0?window.innerWidth:screen.width;if(j>Z){var te=le.extendArrayProps(D,y.globals.initialConfig,y);H=X.extend(te,H),H=X.extend(y.config,H),g.overrideResponsiveOptions(H)}else for(var ce=0;ce<T.length;ce++)j<T[ce].breakpoint&&(H=le.extendArrayProps(D,T[ce].options,y),H=X.extend(y.config,H),g.overrideResponsiveOptions(H))};if(d){var I=le.extendArrayProps(D,d,y);I=X.extend(y.config,I),_(I=X.extend(I,d))}else _({})}}},{key:"overrideResponsiveOptions",value:function(d){var g=new Je(d).init({responsiveOverride:!0});this.w.config=g}}]),me}(),Wt=function(){function me(d){f(this,me),this.ctx=d,this.colors=[],this.w=d.w;var g=this.w;this.isColorFn=!1,this.isHeatmapDistributed=g.config.chart.type==="treemap"&&g.config.plotOptions.treemap.distributed||g.config.chart.type==="heatmap"&&g.config.plotOptions.heatmap.distributed,this.isBarDistributed=g.config.plotOptions.bar.distributed&&(g.config.chart.type==="bar"||g.config.chart.type==="rangeBar")}return x(me,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var d=this,g=this.w,y=new X;if(g.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(g.config.theme.mode)),g.config.colors===void 0?g.globals.colors=this.predefined():(g.globals.colors=g.config.colors,Array.isArray(g.config.colors)&&g.config.colors.length>0&&typeof g.config.colors[0]=="function"&&(g.globals.colors=g.config.series.map(function(ce,ue){var ge=g.config.colors[ue];return ge||(ge=g.config.colors[0]),typeof ge=="function"?(d.isColorFn=!0,ge({value:g.globals.axisCharts?g.globals.series[ue][0]?g.globals.series[ue][0]:0:g.globals.series[ue],seriesIndex:ue,dataPointIndex:ue,w:g})):ge}))),g.globals.seriesColors.map(function(ce,ue){ce&&(g.globals.colors[ue]=ce)}),g.config.theme.monochrome.enabled){var k=[],T=g.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(T=g.globals.series[0].length*g.globals.series.length);for(var D=g.config.theme.monochrome.color,_=1/(T/g.config.theme.monochrome.shadeIntensity),I=g.config.theme.monochrome.shadeTo,H=0,Z=0;Z<T;Z++){var j=void 0;I==="dark"?(j=y.shadeColor(-1*H,D),H+=_):(j=y.shadeColor(H,D),H+=_),k.push(j)}g.globals.colors=k.slice()}var te=g.globals.colors.slice();this.pushExtraColors(g.globals.colors),["fill","stroke"].forEach(function(ce){g.config[ce].colors===void 0?g.globals[ce].colors=d.isColorFn?g.config.colors:te:g.globals[ce].colors=g.config[ce].colors.slice(),d.pushExtraColors(g.globals[ce].colors)}),g.config.dataLabels.style.colors===void 0?g.globals.dataLabels.style.colors=te:g.globals.dataLabels.style.colors=g.config.dataLabels.style.colors.slice(),this.pushExtraColors(g.globals.dataLabels.style.colors,50),g.config.plotOptions.radar.polygons.fill.colors===void 0?g.globals.radarPolygons.fill.colors=[g.config.theme.mode==="dark"?"#424242":"none"]:g.globals.radarPolygons.fill.colors=g.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(g.globals.radarPolygons.fill.colors,20),g.config.markers.colors===void 0?g.globals.markers.colors=te:g.globals.markers.colors=g.config.markers.colors.slice(),this.pushExtraColors(g.globals.markers.colors)}},{key:"pushExtraColors",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,k=this.w,T=g||k.globals.series.length;if(y===null&&(y=this.isBarDistributed||this.isHeatmapDistributed||k.config.chart.type==="heatmap"&&k.config.plotOptions.heatmap.colorScale.inverse),y&&k.globals.series.length&&(T=k.globals.series[k.globals.maxValsInArrayIndex].length*k.globals.series.length),d.length<T)for(var D=T-d.length,_=0;_<D;_++)d.push(d[_])}},{key:"updateThemeOptions",value:function(d){d.chart=d.chart||{},d.tooltip=d.tooltip||{};var g=d.theme.mode||"light",y=d.theme.palette?d.theme.palette:g==="dark"?"palette4":"palette1",k=d.chart.foreColor?d.chart.foreColor:g==="dark"?"#f6f7f8":"#373d3f";return d.tooltip.theme=g,d.chart.foreColor=k,d.theme.palette=y,d}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),me}(),Rt=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(d){var g=this.w,y=d==="title"?g.config.title:g.config.subtitle,k=g.globals.svgWidth/2,T=y.offsetY,D="middle";if(y.align==="left"?(k=10,D="start"):y.align==="right"&&(k=g.globals.svgWidth-10,D="end"),k+=y.offsetX,T=T+parseInt(y.style.fontSize,10)+y.margin/2,y.text!==void 0){var _=new K(this.ctx).drawText({x:k,y:T,text:y.text,textAnchor:D,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,foreColor:y.style.color,opacity:1});_.node.setAttribute("class","apexcharts-".concat(d,"-text")),g.globals.dom.Paper.add(_)}}}]),me}(),vi=function(){function me(d){f(this,me),this.w=d.w,this.dCtx=d}return x(me,[{key:"getTitleSubtitleCoords",value:function(d){var g=this.w,y=0,k=0,T=d==="title"?g.config.title.floating:g.config.subtitle.floating,D=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-text"));if(D!==null&&!T){var _=D.getBoundingClientRect();y=_.width,k=g.globals.axisCharts?_.height+5:_.height}return{width:y,height:k}}},{key:"getLegendsRect",value:function(){var d=this.w,g=d.globals.dom.baseEl.querySelector(".apexcharts-legend");d.config.legend.height||d.config.legend.position!=="top"&&d.config.legend.position!=="bottom"||(g.style.maxHeight=d.globals.svgHeight/2+"px");var y=Object.assign({},X.getBoundingClientRect(g));return g!==null&&!d.config.legend.floating&&d.config.legend.show?this.dCtx.lgRect={x:y.x,y:y.y,height:y.height,width:y.height===0?0:y.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},d.config.legend.position!=="left"&&d.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>d.globals.svgWidth&&(this.dCtx.lgRect.width=d.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(d,g){var y=d;if(this.w.globals.isMultiLineX){var k=g.map(function(D,_){return Array.isArray(D)?D.length:1}),T=Math.max.apply(Math,Y(k));y=g[k.indexOf(T)]}return y}}]),me}(),di=function(){function me(d){f(this,me),this.w=d.w,this.dCtx=d}return x(me,[{key:"getxAxisLabelsCoords",value:function(){var d,g=this.w,y=g.globals.labels.slice();if(g.config.xaxis.convertedCatToNumeric&&y.length===0&&(y=g.globals.categoryLabels),g.globals.timescaleLabels.length>0){var k=this.getxAxisTimeScaleLabelsCoords();d={width:k.width,height:k.height},g.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=g.config.legend.position!=="left"&&g.config.legend.position!=="right"||g.config.legend.floating?0:this.dCtx.lgRect.width;var T=g.globals.xLabelFormatter,D=X.getLargestStringFromArr(y),_=this.dCtx.dimHelpers.getLargestStringFromMultiArr(D,y);g.globals.isBarHorizontal&&(_=D=g.globals.yAxisScale[0].result.reduce(function(ue,ge){return ue.length>ge.length?ue:ge},0));var I=new je(this.dCtx.ctx),H=D;D=I.xLabelFormat(T,D,H,{i:void 0,dateFormatter:new He(this.dCtx.ctx).formatDate,w:g}),_=I.xLabelFormat(T,_,H,{i:void 0,dateFormatter:new He(this.dCtx.ctx).formatDate,w:g}),(g.config.xaxis.convertedCatToNumeric&&D===void 0||String(D).trim()==="")&&(_=D="1");var Z=new K(this.dCtx.ctx),j=Z.getTextRects(D,g.config.xaxis.labels.style.fontSize),te=j;if(D!==_&&(te=Z.getTextRects(_,g.config.xaxis.labels.style.fontSize)),(d={width:j.width>=te.width?j.width:te.width,height:j.height>=te.height?j.height:te.height}).width*y.length>g.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&g.config.xaxis.labels.rotate!==0||g.config.xaxis.labels.rotateAlways){if(!g.globals.isBarHorizontal){g.globals.rotateXLabels=!0;var ce=function(ue){return Z.getTextRects(ue,g.config.xaxis.labels.style.fontSize,g.config.xaxis.labels.style.fontFamily,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1)};j=ce(D),D!==_&&(te=ce(_)),d.height=(j.height>te.height?j.height:te.height)/1.5,d.width=j.width>te.width?j.width:te.width}}else g.globals.rotateXLabels=!1}return g.config.xaxis.labels.show||(d={width:0,height:0}),{width:d.width,height:d.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var d,g=this.w;if(!g.globals.hasGroups)return{width:0,height:0};var y,k=((d=g.config.xaxis.group.style)===null||d===void 0?void 0:d.fontSize)||g.config.xaxis.labels.style.fontSize,T=g.globals.groups.map(function(j){return j.title}),D=X.getLargestStringFromArr(T),_=this.dCtx.dimHelpers.getLargestStringFromMultiArr(D,T),I=new K(this.dCtx.ctx),H=I.getTextRects(D,k),Z=H;return D!==_&&(Z=I.getTextRects(_,k)),y={width:H.width>=Z.width?H.width:Z.width,height:H.height>=Z.height?H.height:Z.height},g.config.xaxis.labels.show||(y={width:0,height:0}),{width:y.width,height:y.height}}},{key:"getxAxisTitleCoords",value:function(){var d=this.w,g=0,y=0;if(d.config.xaxis.title.text!==void 0){var k=new K(this.dCtx.ctx).getTextRects(d.config.xaxis.title.text,d.config.xaxis.title.style.fontSize);g=k.width,y=k.height}return{width:g,height:y}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var d,g=this.w;this.dCtx.timescaleLabels=g.globals.timescaleLabels.slice();var y=this.dCtx.timescaleLabels.map(function(T){return T.value}),k=y.reduce(function(T,D){return T===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):T.length>D.length?T:D},0);return 1.05*(d=new K(this.dCtx.ctx).getTextRects(k,g.config.xaxis.labels.style.fontSize)).width*y.length>g.globals.gridWidth&&g.config.xaxis.labels.rotate!==0&&(g.globals.overlappingXLabels=!0),d}},{key:"additionalPaddingXLabels",value:function(d){var g=this,y=this.w,k=y.globals,T=y.config,D=T.xaxis.type,_=d.width;k.skipLastTimelinelabel=!1,k.skipFirstTimelinelabel=!1;var I=y.config.yaxis[0].opposite&&y.globals.isBarHorizontal,H=function(Z,j){(function(te){return k.collapsedSeriesIndices.indexOf(te)!==-1})(j)||function(te){if(g.dCtx.timescaleLabels&&g.dCtx.timescaleLabels.length){var ce=g.dCtx.timescaleLabels[0],ue=g.dCtx.timescaleLabels[g.dCtx.timescaleLabels.length-1].position+_/1.75-g.dCtx.yAxisWidthRight,ge=ce.position-_/1.75+g.dCtx.yAxisWidthLeft,be=y.config.legend.position==="right"&&g.dCtx.lgRect.width>0?g.dCtx.lgRect.width:0;ue>k.svgWidth-k.translateX-be&&(k.skipLastTimelinelabel=!0),ge<-(te.show&&!te.floating||T.chart.type!=="bar"&&T.chart.type!=="candlestick"&&T.chart.type!=="rangeBar"&&T.chart.type!=="boxPlot"?10:_/1.75)&&(k.skipFirstTimelinelabel=!0)}else D==="datetime"?g.dCtx.gridPad.right<_&&!k.rotateXLabels&&(k.skipLastTimelinelabel=!0):D!=="datetime"&&g.dCtx.gridPad.right<_/2-g.dCtx.yAxisWidthRight&&!k.rotateXLabels&&!y.config.xaxis.labels.trim&&(y.config.xaxis.tickPlacement!=="between"||y.globals.isBarHorizontal)&&(g.dCtx.xPadRight=_/2+1)}(Z)};T.yaxis.forEach(function(Z,j){I?(g.dCtx.gridPad.left<_&&(g.dCtx.xPadLeft=_/2+1),g.dCtx.xPadRight=_/2+1):H(Z,j)})}}]),me}(),ei=function(){function me(d){f(this,me),this.w=d.w,this.dCtx=d}return x(me,[{key:"getyAxisLabelsCoords",value:function(){var d=this,g=this.w,y=[],k=10,T=new ht(this.dCtx.ctx);return g.config.yaxis.map(function(D,_){var I=g.globals.yAxisScale[_],H=0;if(!T.isYAxisHidden(_)&&D.labels.show&&D.labels.minWidth!==void 0&&(H=D.labels.minWidth),!T.isYAxisHidden(_)&&D.labels.show&&I.result.length){var Z=g.globals.yLabelFormatters[_],j=I.niceMin===Number.MIN_VALUE?0:I.niceMin,te=String(j).length>String(I.niceMax).length?j:I.niceMax,ce=Z(te,{seriesIndex:_,dataPointIndex:-1,w:g}),ue=ce;if(ce!==void 0&&ce.length!==0||(ce=te),g.globals.isBarHorizontal){k=0;var ge=g.globals.labels.slice();ce=Z(ce=X.getLargestStringFromArr(ge),{seriesIndex:_,dataPointIndex:-1,w:g}),ue=d.dCtx.dimHelpers.getLargestStringFromMultiArr(ce,ge)}var be=new K(d.dCtx.ctx),ke="rotate(".concat(D.labels.rotate," 0 0)"),Be=be.getTextRects(ce,D.labels.style.fontSize,D.labels.style.fontFamily,ke,!1),z=Be;ce!==ue&&(z=be.getTextRects(ue,D.labels.style.fontSize,D.labels.style.fontFamily,ke,!1)),y.push({width:(H>z.width||H>Be.width?H:z.width>Be.width?z.width:Be.width)+k,height:z.height>Be.height?z.height:Be.height})}else y.push({width:0,height:0})}),y}},{key:"getyAxisTitleCoords",value:function(){var d=this,g=this.w,y=[];return g.config.yaxis.map(function(k,T){if(k.show&&k.title.text!==void 0){var D=new K(d.dCtx.ctx),_="rotate(".concat(k.title.rotate," 0 0)"),I=D.getTextRects(k.title.text,k.title.style.fontSize,k.title.style.fontFamily,_,!1);y.push({width:I.width,height:I.height})}else y.push({width:0,height:0})}),y}},{key:"getTotalYAxisWidth",value:function(){var d=this.w,g=0,y=0,k=0,T=d.globals.yAxisScale.length>1?10:0,D=new ht(this.dCtx.ctx),_=function(I,H){var Z=d.config.yaxis[H].floating,j=0;I.width>0&&!Z?(j=I.width+T,function(te){return d.globals.ignoreYAxisIndexes.indexOf(te)>-1}(H)&&(j=j-I.width-T)):j=Z||D.isYAxisHidden(H)?0:5,d.config.yaxis[H].opposite?k+=j:y+=j,g+=j};return d.globals.yLabelsCoords.map(function(I,H){_(I,H)}),d.globals.yTitleCoords.map(function(I,H){_(I,H)}),d.globals.isBarHorizontal&&!d.config.yaxis[0].floating&&(g=d.globals.yLabelsCoords[0].width+d.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=y,this.dCtx.yAxisWidthRight=k,g}}]),me}(),Si=function(){function me(d){f(this,me),this.w=d.w,this.dCtx=d}return x(me,[{key:"gridPadForColumnsInNumericAxis",value:function(d){var g=this.w;if(g.globals.noData||g.globals.allSeriesCollapsed)return 0;var y=function(Z){return Z==="bar"||Z==="rangeBar"||Z==="candlestick"||Z==="boxPlot"},k=g.config.chart.type,T=0,D=y(k)?g.config.series.length:1;if(g.globals.comboBarCount>0&&(D=g.globals.comboBarCount),g.globals.collapsedSeries.forEach(function(Z){y(Z.type)&&(D-=1)}),g.config.chart.stacked&&(D=1),(y(k)||g.globals.comboBarCount>0)&&g.globals.isXNumeric&&!g.globals.isBarHorizontal&&D>0){var _,I,H=Math.abs(g.globals.initialMaxX-g.globals.initialMinX);H<=3&&(H=g.globals.dataPoints),_=H/d,g.globals.minXDiff&&g.globals.minXDiff/_>0&&(I=g.globals.minXDiff/_),I>d/2&&(I/=2),(T=I/D*parseInt(g.config.plotOptions.bar.columnWidth,10)/100)<1&&(T=1),T=T/(D>1?1:1.5)+5,g.globals.barPadForNumericAxis=T}return T}},{key:"gridPadFortitleSubtitle",value:function(){var d=this,g=this.w,y=g.globals,k=this.dCtx.isSparkline||!g.globals.axisCharts?0:10;["title","subtitle"].forEach(function(_){g.config[_].text!==void 0?k+=g.config[_].margin:k+=d.dCtx.isSparkline||!g.globals.axisCharts?0:5}),!g.config.legend.show||g.config.legend.position!=="bottom"||g.config.legend.floating||g.globals.axisCharts||(k+=10);var T=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),D=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");y.gridHeight=y.gridHeight-T.height-D.height-k,y.translateY=y.translateY+T.height+D.height+k}},{key:"setGridXPosForDualYAxis",value:function(d,g){var y=this.w,k=new ht(this.dCtx.ctx);y.config.yaxis.map(function(T,D){y.globals.ignoreYAxisIndexes.indexOf(D)!==-1||T.floating||k.isYAxisHidden(D)||(T.opposite&&(y.globals.translateX=y.globals.translateX-(g[D].width+d[D].width)-parseInt(y.config.yaxis[D].labels.style.fontSize,10)/1.2-12),y.globals.translateX<2&&(y.globals.translateX=2))})}}]),me}(),mi=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new vi(this),this.dimYAxis=new ei(this),this.dimXAxis=new di(this),this.dimGrid=new Si(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return x(me,[{key:"plotCoords",value:function(){var d=this,g=this.w,y=g.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(g.config.markers.discrete.length>0||g.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(T){var D=U(T,2),_=D[0],I=D[1];d.gridPad[_]=Math.max(I,d.w.globals.markers.largestSize/1.5)}),y.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),y.gridHeight=y.gridHeight-this.gridPad.top-this.gridPad.bottom,y.gridWidth=y.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var k=this.dimGrid.gridPadForColumnsInNumericAxis(y.gridWidth);y.gridWidth=y.gridWidth-2*k,y.translateX=y.translateX+this.gridPad.left+this.xPadLeft+(k>0?k+4:0),y.translateY=y.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var d=this,g=this.w,y=g.globals,k=this.dimYAxis.getyAxisLabelsCoords(),T=this.dimYAxis.getyAxisTitleCoords();g.globals.yLabelsCoords=[],g.globals.yTitleCoords=[],g.config.yaxis.map(function(ce,ue){g.globals.yLabelsCoords.push({width:k[ue].width,index:ue}),g.globals.yTitleCoords.push({width:T[ue].width,index:ue})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var D=this.dimXAxis.getxAxisLabelsCoords(),_=this.dimXAxis.getxAxisGroupLabelsCoords(),I=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(D,I,_),y.translateXAxisY=g.globals.rotateXLabels?this.xAxisHeight/8:-4,y.translateXAxisX=g.globals.rotateXLabels&&g.globals.isXNumeric&&g.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,g.globals.isBarHorizontal&&(y.rotateXLabels=!1,y.translateXAxisY=parseInt(g.config.xaxis.labels.style.fontSize,10)/1.5*-1),y.translateXAxisY=y.translateXAxisY+g.config.xaxis.labels.offsetY,y.translateXAxisX=y.translateXAxisX+g.config.xaxis.labels.offsetX;var H=this.yAxisWidth,Z=this.xAxisHeight;y.xAxisLabelsHeight=this.xAxisHeight-I.height,y.xAxisGroupLabelsHeight=y.xAxisLabelsHeight-D.height,y.xAxisLabelsWidth=this.xAxisWidth,y.xAxisHeight=this.xAxisHeight;var j=10;(g.config.chart.type==="radar"||this.isSparkline)&&(H=0,Z=y.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||g.config.chart.type==="treemap")&&(H=0,Z=0,j=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(D);var te=function(){y.translateX=H,y.gridHeight=y.svgHeight-d.lgRect.height-Z-(d.isSparkline||g.config.chart.type==="treemap"?0:g.globals.rotateXLabels?10:15),y.gridWidth=y.svgWidth-H};switch(g.config.xaxis.position==="top"&&(j=y.xAxisHeight-g.config.xaxis.axisTicks.height-5),g.config.legend.position){case"bottom":y.translateY=j,te();break;case"top":y.translateY=this.lgRect.height+j,te();break;case"left":y.translateY=j,y.translateX=this.lgRect.width+H,y.gridHeight=y.svgHeight-Z-12,y.gridWidth=y.svgWidth-this.lgRect.width-H;break;case"right":y.translateY=j,y.translateX=H,y.gridHeight=y.svgHeight-Z-12,y.gridWidth=y.svgWidth-this.lgRect.width-H-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(T,k),new ut(this.ctx).setYAxisXPosition(k,T)}},{key:"setDimensionsForNonAxisCharts",value:function(){var d=this.w,g=d.globals,y=d.config,k=0;d.config.legend.show&&!d.config.legend.floating&&(k=20);var T=y.chart.type==="pie"||y.chart.type==="polarArea"||y.chart.type==="donut"?"pie":"radialBar",D=y.plotOptions[T].offsetY,_=y.plotOptions[T].offsetX;if(!y.legend.show||y.legend.floating)return g.gridHeight=g.svgHeight-y.grid.padding.left+y.grid.padding.right,g.gridWidth=g.gridHeight,g.translateY=D,void(g.translateX=_+(g.svgWidth-g.gridWidth)/2);switch(y.legend.position){case"bottom":g.gridHeight=g.svgHeight-this.lgRect.height-g.goldenPadding,g.gridWidth=g.svgWidth,g.translateY=D-10,g.translateX=_+(g.svgWidth-g.gridWidth)/2;break;case"top":g.gridHeight=g.svgHeight-this.lgRect.height-g.goldenPadding,g.gridWidth=g.svgWidth,g.translateY=this.lgRect.height+D+10,g.translateX=_+(g.svgWidth-g.gridWidth)/2;break;case"left":g.gridWidth=g.svgWidth-this.lgRect.width-k,g.gridHeight=y.chart.height!=="auto"?g.svgHeight:g.gridWidth,g.translateY=D,g.translateX=_+this.lgRect.width+k;break;case"right":g.gridWidth=g.svgWidth-this.lgRect.width-k-5,g.gridHeight=y.chart.height!=="auto"?g.svgHeight:g.gridWidth,g.translateY=D,g.translateX=_+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(d,g,y){var k=this.w,T=k.globals.hasGroups?2:1,D=y.height+d.height+g.height,_=k.globals.isMultiLineX?1.2:k.globals.LINE_HEIGHT_RATIO,I=k.globals.rotateXLabels?22:10,H=k.globals.rotateXLabels&&k.config.legend.position==="bottom"?10:0;this.xAxisHeight=D*_+T*I+H,this.xAxisWidth=d.width,this.xAxisHeight-g.height>k.config.xaxis.labels.maxHeight&&(this.xAxisHeight=k.config.xaxis.labels.maxHeight),k.config.xaxis.labels.minHeight&&this.xAxisHeight<k.config.xaxis.labels.minHeight&&(this.xAxisHeight=k.config.xaxis.labels.minHeight),k.config.xaxis.floating&&(this.xAxisHeight=0);var Z=0,j=0;k.config.yaxis.forEach(function(te){Z+=te.labels.minWidth,j+=te.labels.maxWidth}),this.yAxisWidth<Z&&(this.yAxisWidth=Z),this.yAxisWidth>j&&(this.yAxisWidth=j)}}]),me}(),Oi=function(){function me(d){f(this,me),this.w=d.w,this.lgCtx=d}return x(me,[{key:"getLegendBBox",value:function(){var d=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),g=d.width;return{clwh:d.height,clww:g}}},{key:"toggleDataSeries",value:function(d,g){var y=this,k=this.w;if(k.globals.axisCharts||k.config.chart.type==="radialBar"){k.globals.resized=!0;var T=null,D=null;k.globals.risingSeries=[],k.globals.axisCharts?(T=k.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"']")),D=parseInt(T.getAttribute("data:realIndex"),10)):(T=k.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(d+1,"']")),D=parseInt(T.getAttribute("rel"),10)-1),g?[{cs:k.globals.collapsedSeries,csi:k.globals.collapsedSeriesIndices},{cs:k.globals.ancillaryCollapsedSeries,csi:k.globals.ancillaryCollapsedSeriesIndices}].forEach(function(Z){y.riseCollapsedSeries(Z.cs,Z.csi,D)}):this.hideSeries({seriesEl:T,realIndex:D})}else{var _=k.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(d+1,"'] path")),I=k.config.chart.type;if(I==="pie"||I==="polarArea"||I==="donut"){var H=k.config.plotOptions.pie.donut.labels;new K(this.lgCtx.ctx).pathMouseDown(_.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(_.members[0].node,H)}_.fire("click")}}},{key:"hideSeries",value:function(d){var g=d.seriesEl,y=d.realIndex,k=this.w,T=X.clone(k.config.series);if(k.globals.axisCharts){var D=!1;if(k.config.yaxis[y]&&k.config.yaxis[y].show&&k.config.yaxis[y].showAlways&&(D=!0,k.globals.ancillaryCollapsedSeriesIndices.indexOf(y)<0&&(k.globals.ancillaryCollapsedSeries.push({index:y,data:T[y].data.slice(),type:g.parentNode.className.baseVal.split("-")[1]}),k.globals.ancillaryCollapsedSeriesIndices.push(y))),!D){k.globals.collapsedSeries.push({index:y,data:T[y].data.slice(),type:g.parentNode.className.baseVal.split("-")[1]}),k.globals.collapsedSeriesIndices.push(y);var _=k.globals.risingSeries.indexOf(y);k.globals.risingSeries.splice(_,1)}}else k.globals.collapsedSeries.push({index:y,data:T[y]}),k.globals.collapsedSeriesIndices.push(y);for(var I=g.childNodes,H=0;H<I.length;H++)I[H].classList.contains("apexcharts-series-markers-wrap")&&(I[H].classList.contains("apexcharts-hide")?I[H].classList.remove("apexcharts-hide"):I[H].classList.add("apexcharts-hide"));k.globals.allSeriesCollapsed=k.globals.collapsedSeries.length===k.config.series.length,T=this._getSeriesBasedOnCollapsedState(T),this.lgCtx.ctx.updateHelpers._updateSeries(T,k.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(d,g,y){var k=this.w,T=X.clone(k.config.series);if(d.length>0){for(var D=0;D<d.length;D++)d[D].index===y&&(k.globals.axisCharts?(T[y].data=d[D].data.slice(),d.splice(D,1),g.splice(D,1),k.globals.risingSeries.push(y)):(T[y]=d[D].data,d.splice(D,1),g.splice(D,1),k.globals.risingSeries.push(y)));T=this._getSeriesBasedOnCollapsedState(T),this.lgCtx.ctx.updateHelpers._updateSeries(T,k.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(d){var g=this.w;return g.globals.axisCharts?d.forEach(function(y,k){g.globals.collapsedSeriesIndices.indexOf(k)>-1&&(d[k].data=[])}):d.forEach(function(y,k){g.globals.collapsedSeriesIndices.indexOf(k)>-1&&(d[k]=0)}),d}}]),me}(),_i=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Oi(this)}return x(me,[{key:"init",value:function(){var d=this.w,g=d.globals,y=d.config;if((y.legend.showForSingleSeries&&g.series.length===1||this.isBarsDistributed||g.series.length>1||!g.axisCharts)&&y.legend.show){for(;g.dom.elLegendWrap.firstChild;)g.dom.elLegendWrap.removeChild(g.dom.elLegendWrap.firstChild);this.drawLegends(),y.legend.position==="bottom"||y.legend.position==="top"?this.legendAlignHorizontal():y.legend.position!=="right"&&y.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var d=this,g=this.w,y=g.config.legend.fontFamily,k=g.globals.seriesNames,T=g.globals.colors.slice();if(g.config.chart.type==="heatmap"){var D=g.config.plotOptions.heatmap.colorScale.ranges;k=D.map(function(It){return It.name?It.name:It.from+" - "+It.to}),T=D.map(function(It){return It.color})}else this.isBarsDistributed&&(k=g.globals.labels.slice());g.config.legend.customLegendItems.length&&(k=g.config.legend.customLegendItems);for(var _=g.globals.legendFormatter,I=g.config.legend.inverseOrder,H=I?k.length-1:0;I?H>=0:H<=k.length-1;I?H--:H++){var Z=_(k[H],{seriesIndex:H,w:g}),j=!1,te=!1;if(g.globals.collapsedSeries.length>0)for(var ce=0;ce<g.globals.collapsedSeries.length;ce++)g.globals.collapsedSeries[ce].index===H&&(j=!0);if(g.globals.ancillaryCollapsedSeriesIndices.length>0)for(var ue=0;ue<g.globals.ancillaryCollapsedSeriesIndices.length;ue++)g.globals.ancillaryCollapsedSeriesIndices[ue]===H&&(te=!0);var ge=document.createElement("span");ge.classList.add("apexcharts-legend-marker");var be=g.config.legend.markers.offsetX,ke=g.config.legend.markers.offsetY,Be=g.config.legend.markers.height,z=g.config.legend.markers.width,ie=g.config.legend.markers.strokeWidth,de=g.config.legend.markers.strokeColor,Se=g.config.legend.markers.radius,Ne=ge.style;Ne.background=T[H],Ne.color=T[H],Ne.setProperty("background",T[H],"important"),g.config.legend.markers.fillColors&&g.config.legend.markers.fillColors[H]&&(Ne.background=g.config.legend.markers.fillColors[H]),g.globals.seriesColors[H]!==void 0&&(Ne.background=g.globals.seriesColors[H],Ne.color=g.globals.seriesColors[H]),Ne.height=Array.isArray(Be)?parseFloat(Be[H])+"px":parseFloat(Be)+"px",Ne.width=Array.isArray(z)?parseFloat(z[H])+"px":parseFloat(z)+"px",Ne.left=(Array.isArray(be)?parseFloat(be[H]):parseFloat(be))+"px",Ne.top=(Array.isArray(ke)?parseFloat(ke[H]):parseFloat(ke))+"px",Ne.borderWidth=Array.isArray(ie)?ie[H]:ie,Ne.borderColor=Array.isArray(de)?de[H]:de,Ne.borderRadius=Array.isArray(Se)?parseFloat(Se[H])+"px":parseFloat(Se)+"px",g.config.legend.markers.customHTML&&(Array.isArray(g.config.legend.markers.customHTML)?g.config.legend.markers.customHTML[H]&&(ge.innerHTML=g.config.legend.markers.customHTML[H]()):ge.innerHTML=g.config.legend.markers.customHTML()),K.setAttrs(ge,{rel:H+1,"data:collapsed":j||te}),(j||te)&&ge.classList.add("apexcharts-inactive-legend");var Oe=document.createElement("div"),ot=document.createElement("span");ot.classList.add("apexcharts-legend-text"),ot.innerHTML=Array.isArray(Z)?Z.join(" "):Z;var nt=g.config.legend.labels.useSeriesColors?g.globals.colors[H]:g.config.legend.labels.colors;nt||(nt=g.config.chart.foreColor),ot.style.color=nt,ot.style.fontSize=parseFloat(g.config.legend.fontSize)+"px",ot.style.fontWeight=g.config.legend.fontWeight,ot.style.fontFamily=y||g.config.chart.fontFamily,K.setAttrs(ot,{rel:H+1,i:H,"data:default-text":encodeURIComponent(Z),"data:collapsed":j||te}),Oe.appendChild(ge),Oe.appendChild(ot);var Dt=new le(this.ctx);g.config.legend.showForZeroSeries||Dt.getSeriesTotalByIndex(H)===0&&Dt.seriesHaveSameValues(H)&&!Dt.isSeriesNull(H)&&g.globals.collapsedSeriesIndices.indexOf(H)===-1&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(H)===-1&&Oe.classList.add("apexcharts-hidden-zero-series"),g.config.legend.showForNullSeries||Dt.isSeriesNull(H)&&g.globals.collapsedSeriesIndices.indexOf(H)===-1&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(H)===-1&&Oe.classList.add("apexcharts-hidden-null-series"),g.globals.dom.elLegendWrap.appendChild(Oe),g.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(g.config.legend.horizontalAlign)),g.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+g.config.legend.position),Oe.classList.add("apexcharts-legend-series"),Oe.style.margin="".concat(g.config.legend.itemMargin.vertical,"px ").concat(g.config.legend.itemMargin.horizontal,"px"),g.globals.dom.elLegendWrap.style.width=g.config.legend.width?g.config.legend.width+"px":"",g.globals.dom.elLegendWrap.style.height=g.config.legend.height?g.config.legend.height+"px":"",K.setAttrs(Oe,{rel:H+1,seriesName:X.escapeString(k[H]),"data:collapsed":j||te}),(j||te)&&Oe.classList.add("apexcharts-inactive-legend"),g.config.legend.onItemClick.toggleDataSeries||Oe.classList.add("apexcharts-no-click")}g.globals.dom.elWrap.addEventListener("click",d.onLegendClick,!0),g.globals.dom.elWrap.appendChild(g.globals.dom.elLegendWrap),g.config.legend.onItemHover.highlightDataSeries&&g.config.legend.customLegendItems.length===0&&(g.globals.dom.elWrap.addEventListener("mousemove",d.onLegendHovered,!0),g.globals.dom.elWrap.addEventListener("mouseout",d.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(d,g){var y=this.w,k=y.globals.dom.elLegendWrap,T=k.getBoundingClientRect(),D=0,_=0;if(y.config.legend.position==="bottom")_+=y.globals.svgHeight-T.height/2;else if(y.config.legend.position==="top"){var I=new mi(this.ctx),H=I.dimHelpers.getTitleSubtitleCoords("title").height,Z=I.dimHelpers.getTitleSubtitleCoords("subtitle").height;_=_+(H>0?H-10:0)+(Z>0?Z-10:0)}k.style.position="absolute",D=D+d+y.config.legend.offsetX,_=_+g+y.config.legend.offsetY,k.style.left=D+"px",k.style.top=_+"px",y.config.legend.position==="bottom"?(k.style.top="auto",k.style.bottom=5-y.config.legend.offsetY+"px"):y.config.legend.position==="right"&&(k.style.left="auto",k.style.right=25+y.config.legend.offsetX+"px"),["width","height"].forEach(function(j){k.style[j]&&(k.style[j]=parseInt(y.config.legend[j],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var d=this.w;d.globals.dom.elLegendWrap.style.right=0;var g=this.legendHelpers.getLegendBBox(),y=new mi(this.ctx),k=y.dimHelpers.getTitleSubtitleCoords("title"),T=y.dimHelpers.getTitleSubtitleCoords("subtitle"),D=0;d.config.legend.position==="bottom"?D=-g.clwh/1.8:d.config.legend.position==="top"&&(D=k.height+T.height+d.config.title.margin+d.config.subtitle.margin-10),this.setLegendWrapXY(20,D)}},{key:"legendAlignVertical",value:function(){var d=this.w,g=this.legendHelpers.getLegendBBox(),y=0;d.config.legend.position==="left"&&(y=20),d.config.legend.position==="right"&&(y=d.globals.svgWidth-g.clww-10),this.setLegendWrapXY(y,20)}},{key:"onLegendHovered",value:function(d){var g=this.w,y=d.target.classList.contains("apexcharts-legend-text")||d.target.classList.contains("apexcharts-legend-marker");if(g.config.chart.type==="heatmap"||this.isBarsDistributed){if(y){var k=parseInt(d.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,k,this.w]),new Ye(this.ctx).highlightRangeInSeries(d,d.target)}}else!d.target.classList.contains("apexcharts-inactive-legend")&&y&&new Ye(this.ctx).toggleSeriesOnHover(d,d.target)}},{key:"onLegendClick",value:function(d){var g=this.w;if(!g.config.legend.customLegendItems.length&&(d.target.classList.contains("apexcharts-legend-text")||d.target.classList.contains("apexcharts-legend-marker"))){var y=parseInt(d.target.getAttribute("rel"),10)-1,k=d.target.getAttribute("data:collapsed")==="true",T=this.w.config.chart.events.legendClick;typeof T=="function"&&T(this.ctx,y,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,y,this.w]);var D=this.w.config.legend.markers.onClick;typeof D=="function"&&d.target.classList.contains("apexcharts-legend-marker")&&(D(this.ctx,y,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,y,this.w])),g.config.chart.type!=="treemap"&&g.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&g.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(y,k)}}}]),me}(),Ji=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w;var g=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=g.globals.minX,this.maxX=g.globals.maxX}return x(me,[{key:"createToolbar",value:function(){var d=this,g=this.w,y=function(){return document.createElement("div")},k=y();if(k.setAttribute("class","apexcharts-toolbar"),k.style.top=g.config.chart.toolbar.offsetY+"px",k.style.right=3-g.config.chart.toolbar.offsetX+"px",g.globals.dom.elWrap.appendChild(k),this.elZoom=y(),this.elZoomIn=y(),this.elZoomOut=y(),this.elPan=y(),this.elSelection=y(),this.elZoomReset=y(),this.elMenuIcon=y(),this.elMenu=y(),this.elCustomIcons=[],this.t=g.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var T=0;T<this.t.customIcons.length;T++)this.elCustomIcons.push(y());var D=[],_=function(j,te,ce){var ue=j.toLowerCase();d.t[ue]&&g.config.chart.zoom.enabled&&D.push({el:te,icon:typeof d.t[ue]=="string"?d.t[ue]:ce,title:d.localeValues[j],class:"apexcharts-".concat(ue,"-icon")})};_("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),_("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var I=function(j){d.t[j]&&g.config.chart[j].enabled&&D.push({el:j==="zoom"?d.elZoom:d.elSelection,icon:typeof d.t[j]=="string"?d.t[j]:j==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:d.localeValues[j==="zoom"?"selectionZoom":"selection"],class:g.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(j,"-icon")})};I("zoom"),I("selection"),this.t.pan&&g.config.chart.zoom.enabled&&D.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:g.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),_("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&D.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var H=0;H<this.elCustomIcons.length;H++)D.push({el:this.elCustomIcons[H],icon:this.t.customIcons[H].icon,title:this.t.customIcons[H].title,index:this.t.customIcons[H].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[H].class});D.forEach(function(j,te){j.index&&X.moveIndexInArray(D,te,j.index)});for(var Z=0;Z<D.length;Z++)K.setAttrs(D[Z].el,{class:D[Z].class,title:D[Z].title}),D[Z].el.innerHTML=D[Z].icon,k.appendChild(D[Z].el);this._createHamburgerMenu(k),g.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):g.globals.panEnabled?this.elPan.classList.add(this.selectedClass):g.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(d){this.elMenuItems=[],d.appendChild(this.elMenu),K.setAttrs(this.elMenu,{class:"apexcharts-menu"});var g=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||g.splice(2,1);for(var y=0;y<g.length;y++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[y].innerHTML=g[y].title,K.setAttrs(this.elMenuItems[y],{class:"apexcharts-menu-item ".concat(g[y].name),title:g[y].title}),this.elMenu.appendChild(this.elMenuItems[y])}},{key:"addToolbarEventListeners",value:function(){var d=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(y){y.classList.contains("exportSVG")?y.addEventListener("click",d.handleDownload.bind(d,"svg")):y.classList.contains("exportPNG")?y.addEventListener("click",d.handleDownload.bind(d,"png")):y.classList.contains("exportCSV")&&y.addEventListener("click",d.handleDownload.bind(d,"csv"))});for(var g=0;g<this.t.customIcons.length;g++)this.elCustomIcons[g].addEventListener("click",this.t.customIcons[g].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(d){this.ctx.getSyncedCharts().forEach(function(g){g.ctx.toolbar.toggleOtherControls();var y=d==="selection"?g.ctx.toolbar.elSelection:g.ctx.toolbar.elZoom,k=d==="selection"?"selectionEnabled":"zoomEnabled";g.w.globals[k]=!g.w.globals[k],y.classList.contains(g.ctx.toolbar.selectedClass)?y.classList.remove(g.ctx.toolbar.selectedClass):y.classList.add(g.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var d=this.w;this.elZoom||(this.elZoom=d.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=d.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=d.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(d){this.toggleOtherControls(),d==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var g=d==="pan"?this.elPan:this.elZoom,y=d==="pan"?this.elZoom:this.elPan;g&&g.classList.add(this.selectedClass),y&&y.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(d){d.ctx.toolbar.toggleOtherControls(),d.w.globals.panEnabled=!d.w.globals.panEnabled,d.ctx.toolbar.elPan.classList.contains(d.ctx.toolbar.selectedClass)?d.ctx.toolbar.elPan.classList.remove(d.ctx.toolbar.selectedClass):d.ctx.toolbar.elPan.classList.add(d.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var d=this,g=this.w;g.globals.panEnabled=!1,g.globals.zoomEnabled=!1,g.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(y){y&&y.classList.remove(d.selectedClass)})}},{key:"handleZoomIn",value:function(){var d=this.w;d.globals.isRangeBar&&(this.minX=d.globals.minY,this.maxX=d.globals.maxY);var g=(this.minX+this.maxX)/2,y=(this.minX+g)/2,k=(this.maxX+g)/2,T=this._getNewMinXMaxX(y,k);d.globals.disableZoomIn||this.zoomUpdateOptions(T.minX,T.maxX)}},{key:"handleZoomOut",value:function(){var d=this.w;if(d.globals.isRangeBar&&(this.minX=d.globals.minY,this.maxX=d.globals.maxY),!(d.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var g=(this.minX+this.maxX)/2,y=this.minX-(g-this.minX),k=this.maxX-(g-this.maxX),T=this._getNewMinXMaxX(y,k);d.globals.disableZoomOut||this.zoomUpdateOptions(T.minX,T.maxX)}}},{key:"_getNewMinXMaxX",value:function(d,g){var y=this.w.config.xaxis.convertedCatToNumeric;return{minX:y?Math.floor(d):d,maxX:y?Math.floor(g):g}}},{key:"zoomUpdateOptions",value:function(d,g){var y=this.w;if(d!==void 0||g!==void 0){if(!(y.config.xaxis.convertedCatToNumeric&&(d<1&&(d=1,g=y.globals.dataPoints),g-d<2))){var k={min:d,max:g},T=this.getBeforeZoomRange(k);T&&(k=T.xaxis);var D={xaxis:k},_=X.clone(y.globals.initialConfig.yaxis);y.config.chart.zoom.autoScaleYaxis&&(_=new ve(this.ctx).autoScaleY(this.ctx,_,{xaxis:k})),y.config.chart.group||(D.yaxis=_),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(D,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(k,_)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(d,g){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:d,yaxis:g})}},{key:"getBeforeZoomRange",value:function(d,g){var y=null;return typeof this.ev.beforeZoom=="function"&&(y=this.ev.beforeZoom(this,{xaxis:d,yaxis:g})),y}},{key:"toggleMenu",value:function(){var d=this;window.setTimeout(function(){d.elMenu.classList.contains("apexcharts-menu-open")?d.elMenu.classList.remove("apexcharts-menu-open"):d.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(d){var g=this.w,y=new vt(this.ctx);switch(d){case"svg":y.exportToSVG(this.ctx);break;case"png":y.exportToPng(this.ctx);break;case"csv":y.exportToCSV({series:g.config.series,columnDelimiter:g.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(d){this.ctx.getSyncedCharts().forEach(function(g){var y=g.w;if(y.globals.lastXAxis.min=void 0,y.globals.lastXAxis.max=void 0,g.updateHelpers.revertDefaultAxisMinMax(),typeof y.config.chart.events.beforeResetZoom=="function"){var k=y.config.chart.events.beforeResetZoom(g,y);k&&g.updateHelpers.revertDefaultAxisMinMax(k)}typeof y.config.chart.events.zoomed=="function"&&g.ctx.toolbar.zoomCallback({min:y.config.xaxis.min,max:y.config.xaxis.max}),y.globals.zoomed=!1;var T=g.ctx.series.emptyCollapsedSeries(X.clone(y.globals.initialSeries));g.updateHelpers._updateSeries(T,y.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),me}(),wi=function(me){P(g,Ji);var d=B(g);function g(y){var k;return f(this,g),(k=d.call(this,y)).ctx=y,k.w=y.w,k.dragged=!1,k.graphics=new K(k.ctx),k.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],k.clientX=0,k.clientY=0,k.startX=0,k.endX=0,k.dragX=0,k.startY=0,k.endY=0,k.dragY=0,k.moveDirection="none",k}return x(g,[{key:"init",value:function(y){var k=this,T=y.xyRatios,D=this.w,_=this;this.xyRatios=T,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=D.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),D.globals.dom.elGraphical.add(this.zoomRect),D.globals.dom.elGraphical.add(this.selectionRect),D.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:D.globals.gridWidth,maxY:D.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):D.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:D.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=D.globals.dom.baseEl.querySelector("".concat(D.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(I){k.hoverArea.addEventListener(I,_.svgMouseEvents.bind(_,T),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(y,k){var T=this.w,D=this,_=this.ctx.toolbar,I=T.globals.zoomEnabled?T.config.chart.zoom.type:T.config.chart.selection.type,H=T.config.chart.toolbar.autoSelected;if(k.shiftKey?(this.shiftWasPressed=!0,_.enableZoomPanFromToolbar(H==="pan"?"zoom":"pan")):this.shiftWasPressed&&(_.enableZoomPanFromToolbar(H),this.shiftWasPressed=!1),k.target){var Z,j=k.target.classList;if(k.target.parentNode&&k.target.parentNode!==null&&(Z=k.target.parentNode.classList),!(j.contains("apexcharts-selection-rect")||j.contains("apexcharts-legend-marker")||j.contains("apexcharts-legend-text")||Z&&Z.contains("apexcharts-toolbar"))){if(D.clientX=k.type==="touchmove"||k.type==="touchstart"?k.touches[0].clientX:k.type==="touchend"?k.changedTouches[0].clientX:k.clientX,D.clientY=k.type==="touchmove"||k.type==="touchstart"?k.touches[0].clientY:k.type==="touchend"?k.changedTouches[0].clientY:k.clientY,k.type==="mousedown"&&k.which===1){var te=D.gridRect.getBoundingClientRect();D.startX=D.clientX-te.left,D.startY=D.clientY-te.top,D.dragged=!1,D.w.globals.mousedown=!0}if((k.type==="mousemove"&&k.which===1||k.type==="touchmove")&&(D.dragged=!0,T.globals.panEnabled?(T.globals.selection=null,D.w.globals.mousedown&&D.panDragging({context:D,zoomtype:I,xyRatios:y})):(D.w.globals.mousedown&&T.globals.zoomEnabled||D.w.globals.mousedown&&T.globals.selectionEnabled)&&(D.selection=D.selectionDrawing({context:D,zoomtype:I}))),k.type==="mouseup"||k.type==="touchend"||k.type==="mouseleave"){var ce=D.gridRect.getBoundingClientRect();D.w.globals.mousedown&&(D.endX=D.clientX-ce.left,D.endY=D.clientY-ce.top,D.dragX=Math.abs(D.endX-D.startX),D.dragY=Math.abs(D.endY-D.startY),(T.globals.zoomEnabled||T.globals.selectionEnabled)&&D.selectionDrawn({context:D,zoomtype:I}),T.globals.panEnabled&&T.config.xaxis.convertedCatToNumeric&&D.delayedPanScrolled()),T.globals.zoomEnabled&&D.hideSelectionRect(this.selectionRect),D.dragged=!1,D.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var y=this.w;if(this.selectionRect){var k=this.selectionRect.node.getBoundingClientRect();k.width>0&&k.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:y.globals.gridWidth,maxY:y.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var y=this.w,k=this.xyRatios;if(!y.globals.zoomEnabled){if(y.globals.selection!==void 0&&y.globals.selection!==null)this.drawSelectionRect(y.globals.selection);else if(y.config.chart.selection.xaxis.min!==void 0&&y.config.chart.selection.xaxis.max!==void 0){var T=(y.config.chart.selection.xaxis.min-y.globals.minX)/k.xRatio,D={x:T,y:0,width:y.globals.gridWidth-(y.globals.maxX-y.config.chart.selection.xaxis.max)/k.xRatio-T,height:y.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(D),this.makeSelectionRectDraggable(),typeof y.config.chart.events.selection=="function"&&y.config.chart.events.selection(this.ctx,{xaxis:{min:y.config.chart.selection.xaxis.min,max:y.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(y){var k=y.x,T=y.y,D=y.width,_=y.height,I=y.translateX,H=I===void 0?0:I,Z=y.translateY,j=Z===void 0?0:Z,te=this.w,ce=this.zoomRect,ue=this.selectionRect;if(this.dragged||te.globals.selection!==null){var ge={transform:"translate("+H+", "+j+")"};te.globals.zoomEnabled&&this.dragged&&(D<0&&(D=1),ce.attr({x:k,y:T,width:D,height:_,fill:te.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":te.config.chart.zoom.zoomedArea.fill.opacity,stroke:te.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":te.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":te.config.chart.zoom.zoomedArea.stroke.opacity}),K.setAttrs(ce.node,ge)),te.globals.selectionEnabled&&(ue.attr({x:k,y:T,width:D>0?D:0,height:_>0?_:0,fill:te.config.chart.selection.fill.color,"fill-opacity":te.config.chart.selection.fill.opacity,stroke:te.config.chart.selection.stroke.color,"stroke-width":te.config.chart.selection.stroke.width,"stroke-dasharray":te.config.chart.selection.stroke.dashArray,"stroke-opacity":te.config.chart.selection.stroke.opacity}),K.setAttrs(ue.node,ge))}}},{key:"hideSelectionRect",value:function(y){y&&y.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(y){var k=y.context,T=y.zoomtype,D=this.w,_=k,I=this.gridRect.getBoundingClientRect(),H=_.startX-1,Z=_.startY,j=!1,te=!1,ce=_.clientX-I.left-H,ue=_.clientY-I.top-Z,ge={};return Math.abs(ce+H)>D.globals.gridWidth?ce=D.globals.gridWidth-H:_.clientX-I.left<0&&(ce=H),H>_.clientX-I.left&&(j=!0,ce=Math.abs(ce)),Z>_.clientY-I.top&&(te=!0,ue=Math.abs(ue)),ge=T==="x"?{x:j?H-ce:H,y:0,width:ce,height:D.globals.gridHeight}:T==="y"?{x:0,y:te?Z-ue:Z,width:D.globals.gridWidth,height:ue}:{x:j?H-ce:H,y:te?Z-ue:Z,width:ce,height:ue},_.drawSelectionRect(ge),_.selectionDragging("resizing"),ge}},{key:"selectionDragging",value:function(y,k){var T=this,D=this.w,_=this.xyRatios,I=this.selectionRect,H=0;y==="resizing"&&(H=30);var Z=function(te){return parseFloat(I.node.getAttribute(te))},j={x:Z("x"),y:Z("y"),width:Z("width"),height:Z("height")};D.globals.selection=j,typeof D.config.chart.events.selection=="function"&&D.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var te=T.gridRect.getBoundingClientRect(),ce=I.node.getBoundingClientRect(),ue={xaxis:{min:D.globals.xAxisScale.niceMin+(ce.left-te.left)*_.xRatio,max:D.globals.xAxisScale.niceMin+(ce.right-te.left)*_.xRatio},yaxis:{min:D.globals.yAxisScale[0].niceMin+(te.bottom-ce.bottom)*_.yRatio[0],max:D.globals.yAxisScale[0].niceMax-(ce.top-te.top)*_.yRatio[0]}};D.config.chart.events.selection(T.ctx,ue),D.config.chart.brush.enabled&&D.config.chart.events.brushScrolled!==void 0&&D.config.chart.events.brushScrolled(T.ctx,ue)},H))}},{key:"selectionDrawn",value:function(y){var k=y.context,T=y.zoomtype,D=this.w,_=k,I=this.xyRatios,H=this.ctx.toolbar;if(_.startX>_.endX){var Z=_.startX;_.startX=_.endX,_.endX=Z}if(_.startY>_.endY){var j=_.startY;_.startY=_.endY,_.endY=j}var te=void 0,ce=void 0;D.globals.isRangeBar?(te=D.globals.yAxisScale[0].niceMin+_.startX*I.invertedYRatio,ce=D.globals.yAxisScale[0].niceMin+_.endX*I.invertedYRatio):(te=D.globals.xAxisScale.niceMin+_.startX*I.xRatio,ce=D.globals.xAxisScale.niceMin+_.endX*I.xRatio);var ue=[],ge=[];if(D.config.yaxis.forEach(function(Ne,Oe){ue.push(D.globals.yAxisScale[Oe].niceMax-I.yRatio[Oe]*_.startY),ge.push(D.globals.yAxisScale[Oe].niceMax-I.yRatio[Oe]*_.endY)}),_.dragged&&(_.dragX>10||_.dragY>10)&&te!==ce){if(D.globals.zoomEnabled){var be=X.clone(D.globals.initialConfig.yaxis),ke=X.clone(D.globals.initialConfig.xaxis);if(D.globals.zoomed=!0,D.config.xaxis.convertedCatToNumeric&&(te=Math.floor(te),ce=Math.floor(ce),te<1&&(te=1,ce=D.globals.dataPoints),ce-te<2&&(ce=te+1)),T!=="xy"&&T!=="x"||(ke={min:te,max:ce}),T!=="xy"&&T!=="y"||be.forEach(function(Ne,Oe){be[Oe].min=ge[Oe],be[Oe].max=ue[Oe]}),D.config.chart.zoom.autoScaleYaxis){var Be=new ve(_.ctx);be=Be.autoScaleY(_.ctx,be,{xaxis:ke})}if(H){var z=H.getBeforeZoomRange(ke,be);z&&(ke=z.xaxis?z.xaxis:ke,be=z.yaxis?z.yaxis:be)}var ie={xaxis:ke};D.config.chart.group||(ie.yaxis=be),_.ctx.updateHelpers._updateOptions(ie,!1,_.w.config.chart.animations.dynamicAnimation.enabled),typeof D.config.chart.events.zoomed=="function"&&H.zoomCallback(ke,be)}else if(D.globals.selectionEnabled){var de,Se=null;de={min:te,max:ce},T!=="xy"&&T!=="y"||(Se=X.clone(D.config.yaxis)).forEach(function(Ne,Oe){Se[Oe].min=ge[Oe],Se[Oe].max=ue[Oe]}),D.globals.selection=_.selection,typeof D.config.chart.events.selection=="function"&&D.config.chart.events.selection(_.ctx,{xaxis:de,yaxis:Se})}}}},{key:"panDragging",value:function(y){var k=y.context,T=this.w,D=k;if(T.globals.lastClientPosition.x!==void 0){var _=T.globals.lastClientPosition.x-D.clientX,I=T.globals.lastClientPosition.y-D.clientY;Math.abs(_)>Math.abs(I)&&_>0?this.moveDirection="left":Math.abs(_)>Math.abs(I)&&_<0?this.moveDirection="right":Math.abs(I)>Math.abs(_)&&I>0?this.moveDirection="up":Math.abs(I)>Math.abs(_)&&I<0&&(this.moveDirection="down")}T.globals.lastClientPosition={x:D.clientX,y:D.clientY};var H=T.globals.isRangeBar?T.globals.minY:T.globals.minX,Z=T.globals.isRangeBar?T.globals.maxY:T.globals.maxX;T.config.xaxis.convertedCatToNumeric||D.panScrolled(H,Z)}},{key:"delayedPanScrolled",value:function(){var y=this.w,k=y.globals.minX,T=y.globals.maxX,D=(y.globals.maxX-y.globals.minX)/2;this.moveDirection==="left"?(k=y.globals.minX+D,T=y.globals.maxX+D):this.moveDirection==="right"&&(k=y.globals.minX-D,T=y.globals.maxX-D),k=Math.floor(k),T=Math.floor(T),this.updateScrolledChart({xaxis:{min:k,max:T}},k,T)}},{key:"panScrolled",value:function(y,k){var T=this.w,D=this.xyRatios,_=X.clone(T.globals.initialConfig.yaxis),I=D.xRatio,H=T.globals.minX,Z=T.globals.maxX;T.globals.isRangeBar&&(I=D.invertedYRatio,H=T.globals.minY,Z=T.globals.maxY),this.moveDirection==="left"?(y=H+T.globals.gridWidth/15*I,k=Z+T.globals.gridWidth/15*I):this.moveDirection==="right"&&(y=H-T.globals.gridWidth/15*I,k=Z-T.globals.gridWidth/15*I),T.globals.isRangeBar||(y<T.globals.initialMinX||k>T.globals.initialMaxX)&&(y=H,k=Z);var j={min:y,max:k};T.config.chart.zoom.autoScaleYaxis&&(_=new ve(this.ctx).autoScaleY(this.ctx,_,{xaxis:j}));var te={xaxis:{min:y,max:k}};T.config.chart.group||(te.yaxis=_),this.updateScrolledChart(te,y,k)}},{key:"updateScrolledChart",value:function(y,k,T){var D=this.w;this.ctx.updateHelpers._updateOptions(y,!1,!1),typeof D.config.chart.events.scrolled=="function"&&D.config.chart.events.scrolled(this.ctx,{xaxis:{min:k,max:T}})}}]),g}(),Ri=function(){function me(d){f(this,me),this.w=d.w,this.ttCtx=d,this.ctx=d.ctx}return x(me,[{key:"getNearestValues",value:function(d){var g=d.hoverArea,y=d.elGrid,k=d.clientX,T=d.clientY,D=this.w,_=y.getBoundingClientRect(),I=_.width,H=_.height,Z=I/(D.globals.dataPoints-1),j=H/D.globals.dataPoints,te=this.hasBars();!D.globals.comboCharts&&!te||D.config.xaxis.convertedCatToNumeric||(Z=I/D.globals.dataPoints);var ce=k-_.left-D.globals.barPadForNumericAxis,ue=T-_.top;ce<0||ue<0||ce>I||ue>H?(g.classList.remove("hovering-zoom"),g.classList.remove("hovering-pan")):D.globals.zoomEnabled?(g.classList.remove("hovering-pan"),g.classList.add("hovering-zoom")):D.globals.panEnabled&&(g.classList.remove("hovering-zoom"),g.classList.add("hovering-pan"));var ge=Math.round(ce/Z),be=Math.floor(ue/j);te&&!D.config.xaxis.convertedCatToNumeric&&(ge=Math.ceil(ce/Z),ge-=1);var ke=null,Be=null,z=[],ie=[];if(D.globals.seriesXvalues.forEach(function(Oe){z.push([Oe[0]+1e-6].concat(Oe))}),D.globals.seriesYvalues.forEach(function(Oe){ie.push([Oe[0]+1e-6].concat(Oe))}),z=z.map(function(Oe){return Oe.filter(function(ot){return X.isNumber(ot)})}),ie=ie.map(function(Oe){return Oe.filter(function(ot){return X.isNumber(ot)})}),D.globals.isXNumeric){var de=this.ttCtx.getElGrid().getBoundingClientRect(),Se=ce*(de.width/I),Ne=ue*(de.height/H);ke=(Be=this.closestInMultiArray(Se,Ne,z,ie)).index,ge=Be.j,ke!==null&&(z=D.globals.seriesXvalues[ke],ge=(Be=this.closestInArray(Se,z)).index)}return D.globals.capturedSeriesIndex=ke===null?-1:ke,(!ge||ge<1)&&(ge=0),D.globals.isBarHorizontal?D.globals.capturedDataPointIndex=be:D.globals.capturedDataPointIndex=ge,{capturedSeries:ke,j:D.globals.isBarHorizontal?be:ge,hoverX:ce,hoverY:ue}}},{key:"closestInMultiArray",value:function(d,g,y,k){var T=this.w,D=0,_=null,I=-1;T.globals.series.length>1?D=this.getFirstActiveXArray(y):_=0;var H=y[D][0],Z=Math.abs(d-H);if(y.forEach(function(ce){ce.forEach(function(ue,ge){var be=Math.abs(d-ue);be<Z&&(Z=be,I=ge)})}),I!==-1){var j=k[D][I],te=Math.abs(g-j);_=D,k.forEach(function(ce,ue){var ge=Math.abs(g-ce[I]);ge<te&&(te=ge,_=ue)})}return{index:_,j:I}}},{key:"getFirstActiveXArray",value:function(d){for(var g=this.w,y=0,k=d.map(function(D,_){return D.length>0?_:-1}),T=0;T<k.length;T++)if(k[T]!==-1&&g.globals.collapsedSeriesIndices.indexOf(T)===-1&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(T)===-1){y=k[T];break}return y}},{key:"closestInArray",value:function(d,g){for(var y=g[0],k=null,T=Math.abs(d-y),D=0;D<g.length;D++){var _=Math.abs(d-g[D]);_<T&&(T=_,k=D)}return{index:k}}},{key:"isXoverlap",value:function(d){var g=[],y=this.w.globals.seriesX.filter(function(T){return T[0]!==void 0});if(y.length>0)for(var k=0;k<y.length-1;k++)y[k][d]!==void 0&&y[k+1][d]!==void 0&&y[k][d]!==y[k+1][d]&&g.push("unEqual");return g.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var d=!0,g=this.w.globals.initialSeries,y=0;y<g.length-1;y++)if(g[y].data.length!==g[y+1].data.length){d=!1;break}return d}},{key:"getBarsHeight",value:function(d){return Y(d).reduce(function(g,y){return g+y.getBBox().height},0)}},{key:"getElMarkers",value:function(d){return typeof d=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(d=Y(d)).sort(function(y,k){var T=Number(y.getAttribute("data:realIndex")),D=Number(k.getAttribute("data:realIndex"));return D<T?1:D>T?-1:0});var g=[];return d.forEach(function(y){g.push(y.querySelector(".apexcharts-marker"))}),g}},{key:"hasMarkers",value:function(d){return this.getElMarkers(d).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(d){var g=this.w,y=g.config.markers.hover.size;return y===void 0&&(y=g.globals.markers.size[d]+g.config.markers.hover.sizeOffset),y}},{key:"toggleAllTooltipSeriesGroups",value:function(d){var g=this.w,y=this.ttCtx;y.allTooltipSeriesGroups.length===0&&(y.allTooltipSeriesGroups=g.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var k=y.allTooltipSeriesGroups,T=0;T<k.length;T++)d==="enable"?(k[T].classList.add("apexcharts-active"),k[T].style.display=g.config.tooltip.items.display):(k[T].classList.remove("apexcharts-active"),k[T].style.display="none")}}]),me}(),ms=function(){function me(d){f(this,me),this.w=d.w,this.ctx=d.ctx,this.ttCtx=d,this.tooltipUtil=new Ri(d)}return x(me,[{key:"drawSeriesTexts",value:function(d){var g=d.shared,y=g===void 0||g,k=d.ttItems,T=d.i,D=T===void 0?0:T,_=d.j,I=_===void 0?null:_,H=d.y1,Z=d.y2,j=d.e,te=this.w;te.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:D,j:I,y1:H,y2:Z,w:te}):this.toggleActiveInactiveSeries(y);var ce=this.getValuesToPrint({i:D,j:I});this.printLabels({i:D,j:I,values:ce,ttItems:k,shared:y,e:j});var ue=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=ue.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=ue.getBoundingClientRect().height}},{key:"printLabels",value:function(d){var g,y=this,k=d.i,T=d.j,D=d.values,_=d.ttItems,I=d.shared,H=d.e,Z=this.w,j=[],te=function(de){return Z.globals.seriesGoals[de]&&Z.globals.seriesGoals[de][T]&&Array.isArray(Z.globals.seriesGoals[de][T])},ce=D.xVal,ue=D.zVal,ge=D.xAxisTTVal,be="",ke=Z.globals.colors[k];T!==null&&Z.config.plotOptions.bar.distributed&&(ke=Z.globals.colors[T]);for(var Be=function(de,Se){var Ne=y.getFormatters(k);be=y.getSeriesName({fn:Ne.yLbTitleFormatter,index:k,seriesIndex:k,j:T}),Z.config.chart.type==="treemap"&&(be=Ne.yLbTitleFormatter(String(Z.config.series[k].data[T].x),{series:Z.globals.series,seriesIndex:k,dataPointIndex:T,w:Z}));var Oe=Z.config.tooltip.inverseOrder?Se:de;if(Z.globals.axisCharts){var ot=function(It){var qt,ti,Et="";return Z.globals.isRangeData&&(Et+=Ne.yLbFormatter((qt=Z.globals.seriesRangeStart)===null||qt===void 0||(ti=qt[It])===null||ti===void 0?void 0:ti[T],{series:Z.globals.seriesRangeStart,seriesIndex:It,dataPointIndex:T,w:Z})+" - "),Et+=Ne.yLbFormatter(Z.globals.series[It][T],{series:Z.globals.series,seriesIndex:It,dataPointIndex:T,w:Z})};if(I)Ne=y.getFormatters(Oe),be=y.getSeriesName({fn:Ne.yLbTitleFormatter,index:Oe,seriesIndex:k,j:T}),ke=Z.globals.colors[Oe],g=ot(Oe),te(Oe)&&(j=Z.globals.seriesGoals[Oe][T].map(function(It){return{attrs:It,val:Ne.yLbFormatter(It.value,{seriesIndex:Oe,dataPointIndex:T,w:Z})}}));else{var nt,Dt=H==null||(nt=H.target)===null||nt===void 0?void 0:nt.getAttribute("fill");Dt&&(ke=Dt.indexOf("url")!==-1?document.querySelector(Dt.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Dt),g=ot(k),te(k)&&Array.isArray(Z.globals.seriesGoals[k][T])&&(j=Z.globals.seriesGoals[k][T].map(function(It){return{attrs:It,val:Ne.yLbFormatter(It.value,{seriesIndex:k,dataPointIndex:T,w:Z})}}))}}T===null&&(g=Ne.yLbFormatter(Z.globals.series[k],l(l({},Z),{},{seriesIndex:k,dataPointIndex:k}))),y.DOMHandling({i:k,t:Oe,j:T,ttItems:_,values:{val:g,goalVals:j,xVal:ce,xAxisTTVal:ge,zVal:ue},seriesName:be,shared:I,pColor:ke})},z=0,ie=Z.globals.series.length-1;z<Z.globals.series.length;z++,ie--)Be(z,ie)}},{key:"getFormatters",value:function(d){var g,y=this.w,k=y.globals.yLabelFormatters[d];return y.globals.ttVal!==void 0?Array.isArray(y.globals.ttVal)?(k=y.globals.ttVal[d]&&y.globals.ttVal[d].formatter,g=y.globals.ttVal[d]&&y.globals.ttVal[d].title&&y.globals.ttVal[d].title.formatter):(k=y.globals.ttVal.formatter,typeof y.globals.ttVal.title.formatter=="function"&&(g=y.globals.ttVal.title.formatter)):g=y.config.tooltip.y.title.formatter,typeof k!="function"&&(k=y.globals.yLabelFormatters[0]?y.globals.yLabelFormatters[0]:function(T){return T}),typeof g!="function"&&(g=function(T){return T}),{yLbFormatter:k,yLbTitleFormatter:g}}},{key:"getSeriesName",value:function(d){var g=d.fn,y=d.index,k=d.seriesIndex,T=d.j,D=this.w;return g(String(D.globals.seriesNames[y]),{series:D.globals.series,seriesIndex:k,dataPointIndex:T,w:D})}},{key:"DOMHandling",value:function(d){d.i;var g=d.t,y=d.j,k=d.ttItems,T=d.values,D=d.seriesName,_=d.shared,I=d.pColor,H=this.w,Z=this.ttCtx,j=T.val,te=T.goalVals,ce=T.xVal,ue=T.xAxisTTVal,ge=T.zVal,be=null;be=k[g].children,H.config.tooltip.fillSeriesColor&&(k[g].style.backgroundColor=I,be[0].style.display="none"),Z.showTooltipTitle&&(Z.tooltipTitle===null&&(Z.tooltipTitle=H.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),Z.tooltipTitle.innerHTML=ce),Z.isXAxisTooltipEnabled&&(Z.xaxisTooltipText.innerHTML=ue!==""?ue:ce);var ke=k[g].querySelector(".apexcharts-tooltip-text-y-label");ke&&(ke.innerHTML=D||"");var Be=k[g].querySelector(".apexcharts-tooltip-text-y-value");Be&&(Be.innerHTML=j!==void 0?j:""),be[0]&&be[0].classList.contains("apexcharts-tooltip-marker")&&(H.config.tooltip.marker.fillColors&&Array.isArray(H.config.tooltip.marker.fillColors)&&(I=H.config.tooltip.marker.fillColors[g]),be[0].style.backgroundColor=I),H.config.tooltip.marker.show||(be[0].style.display="none");var z=k[g].querySelector(".apexcharts-tooltip-text-goals-label"),ie=k[g].querySelector(".apexcharts-tooltip-text-goals-value");if(te.length&&H.globals.seriesGoals[g]){var de=function(){var Se="<div >",Ne="<div>";te.forEach(function(Oe,ot){Se+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Oe.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Oe.attrs.name,"</div>"),Ne+="<div>".concat(Oe.val,"</div>")}),z.innerHTML=Se+"</div>",ie.innerHTML=Ne+"</div>"};_?H.globals.seriesGoals[g][y]&&Array.isArray(H.globals.seriesGoals[g][y])?de():(z.innerHTML="",ie.innerHTML=""):de()}else z.innerHTML="",ie.innerHTML="";ge!==null&&(k[g].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=H.config.tooltip.z.title,k[g].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=ge!==void 0?ge:""),_&&be[0]&&(j==null||H.globals.ancillaryCollapsedSeriesIndices.indexOf(g)>-1||H.globals.collapsedSeriesIndices.indexOf(g)>-1?be[0].parentNode.style.display="none":be[0].parentNode.style.display=H.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(d){var g=this.w;if(d)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var y=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");y&&(y.classList.add("apexcharts-active"),y.style.display=g.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(d){var g=d.i,y=d.j,k=this.w,T=this.ctx.series.filteredSeriesX(),D="",_="",I=null,H=null,Z={series:k.globals.series,seriesIndex:g,dataPointIndex:y,w:k},j=k.globals.ttZFormatter;y===null?H=k.globals.series[g]:k.globals.isXNumeric&&k.config.chart.type!=="treemap"?(D=T[g][y],T[g].length===0&&(D=T[this.tooltipUtil.getFirstActiveXArray(T)][y])):D=k.globals.labels[y]!==void 0?k.globals.labels[y]:"";var te=D;return k.globals.isXNumeric&&k.config.xaxis.type==="datetime"?D=new je(this.ctx).xLabelFormat(k.globals.ttKeyFormatter,te,te,{i:void 0,dateFormatter:new He(this.ctx).formatDate,w:this.w}):D=k.globals.isBarHorizontal?k.globals.yLabelFormatters[0](te,Z):k.globals.xLabelFormatter(te,Z),k.config.tooltip.x.formatter!==void 0&&(D=k.globals.ttKeyFormatter(te,Z)),k.globals.seriesZ.length>0&&k.globals.seriesZ[g].length>0&&(I=j(k.globals.seriesZ[g][y],k)),_=typeof k.config.xaxis.tooltip.formatter=="function"?k.globals.xaxisTooltipFormatter(te,Z):D,{val:Array.isArray(H)?H.join(" "):H,xVal:Array.isArray(D)?D.join(" "):D,xAxisTTVal:Array.isArray(_)?_.join(" "):_,zVal:I}}},{key:"handleCustomTooltip",value:function(d){var g=d.i,y=d.j,k=d.y1,T=d.y2,D=d.w,_=this.ttCtx.getElTooltip(),I=D.config.tooltip.custom;Array.isArray(I)&&I[g]&&(I=I[g]),_.innerHTML=I({ctx:this.ctx,series:D.globals.series,seriesIndex:g,dataPointIndex:y,y1:k,y2:T,w:D})}}]),me}(),fn=function(){function me(d){f(this,me),this.ttCtx=d,this.ctx=d.ctx,this.w=d.w}return x(me,[{key:"moveXCrosshairs",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.ttCtx,k=this.w,T=y.getElXCrosshairs(),D=d-y.xcrosshairsWidth/2,_=k.globals.labels.slice().length;if(g!==null&&(D=k.globals.gridWidth/_*g),T===null||k.globals.isBarHorizontal||(T.setAttribute("x",D),T.setAttribute("x1",D),T.setAttribute("x2",D),T.setAttribute("y2",k.globals.gridHeight),T.classList.add("apexcharts-active")),D<0&&(D=0),D>k.globals.gridWidth&&(D=k.globals.gridWidth),y.isXAxisTooltipEnabled){var I=D;k.config.xaxis.crosshairs.width!=="tickWidth"&&k.config.xaxis.crosshairs.width!=="barWidth"||(I=D+y.xcrosshairsWidth/2),this.moveXAxisTooltip(I)}}},{key:"moveYCrosshairs",value:function(d){var g=this.ttCtx;g.ycrosshairs!==null&&K.setAttrs(g.ycrosshairs,{y1:d,y2:d}),g.ycrosshairsHidden!==null&&K.setAttrs(g.ycrosshairsHidden,{y1:d,y2:d})}},{key:"moveXAxisTooltip",value:function(d){var g=this.w,y=this.ttCtx;if(y.xaxisTooltip!==null&&y.xcrosshairsWidth!==0){y.xaxisTooltip.classList.add("apexcharts-active");var k=y.xaxisOffY+g.config.xaxis.tooltip.offsetY+g.globals.translateY+1+g.config.xaxis.offsetY;if(d-=y.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(d)){d+=g.globals.translateX;var T;T=new K(this.ctx).getTextRects(y.xaxisTooltipText.innerHTML),y.xaxisTooltipText.style.minWidth=T.width+"px",y.xaxisTooltip.style.left=d+"px",y.xaxisTooltip.style.top=k+"px"}}}},{key:"moveYAxisTooltip",value:function(d){var g=this.w,y=this.ttCtx;y.yaxisTTEls===null&&(y.yaxisTTEls=g.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var k=parseInt(y.ycrosshairsHidden.getAttribute("y1"),10),T=g.globals.translateY+k,D=y.yaxisTTEls[d].getBoundingClientRect().height,_=g.globals.translateYAxisX[d]-2;g.config.yaxis[d].opposite&&(_-=26),T-=D/2,g.globals.ignoreYAxisIndexes.indexOf(d)===-1?(y.yaxisTTEls[d].classList.add("apexcharts-active"),y.yaxisTTEls[d].style.top=T+"px",y.yaxisTTEls[d].style.left=_+g.config.yaxis[d].tooltip.offsetX+"px"):y.yaxisTTEls[d].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,k=this.w,T=this.ttCtx,D=T.getElTooltip(),_=T.tooltipRect,I=y!==null?parseFloat(y):1,H=parseFloat(d)+I+5,Z=parseFloat(g)+I/2;if(H>k.globals.gridWidth/2&&(H=H-_.ttWidth-I-10),H>k.globals.gridWidth-_.ttWidth-10&&(H=k.globals.gridWidth-_.ttWidth),H<-20&&(H=-20),k.config.tooltip.followCursor){var j=T.getElGrid().getBoundingClientRect();Z=T.e.clientY+k.globals.translateY-j.top-_.ttHeight/2}else k.globals.isBarHorizontal||_.ttHeight/2+Z>k.globals.gridHeight&&(Z=k.globals.gridHeight-_.ttHeight+k.globals.translateY);isNaN(H)||(H+=k.globals.translateX,D.style.left=H+"px",D.style.top=Z+"px")}},{key:"moveMarkers",value:function(d,g){var y=this.w,k=this.ttCtx;if(y.globals.markers.size[d]>0)for(var T=y.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-marker")),D=0;D<T.length;D++)parseInt(T[D].getAttribute("rel"),10)===g&&(k.marker.resetPointsSize(),k.marker.enlargeCurrentPoint(g,T[D]));else k.marker.resetPointsSize(),this.moveDynamicPointOnHover(g,d)}},{key:"moveDynamicPointOnHover",value:function(d,g){var y,k,T=this.w,D=this.ttCtx,_=T.globals.pointsArray,I=D.tooltipUtil.getHoverMarkerSize(g),H=T.config.series[g].type;if(!H||H!=="column"&&H!=="candlestick"&&H!=="boxPlot"){y=_[g][d][0],k=_[g][d][1]?_[g][d][1]:0;var Z=T.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(g,"'] .apexcharts-series-markers circle"));Z&&k<T.globals.gridHeight&&k>0&&(Z.setAttribute("r",I),Z.setAttribute("cx",y),Z.setAttribute("cy",k)),this.moveXCrosshairs(y),D.fixedTooltip||this.moveTooltip(y,k,I)}}},{key:"moveDynamicPointsOnHover",value:function(d){var g,y=this.ttCtx,k=y.w,T=0,D=0,_=k.globals.pointsArray;g=new Ye(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var I=y.tooltipUtil.getHoverMarkerSize(g);_[g]&&(T=_[g][d][0],D=_[g][d][1]);var H=y.tooltipUtil.getAllMarkers();if(H!==null)for(var Z=0;Z<k.globals.series.length;Z++){var j=_[Z];if(k.globals.comboCharts&&j===void 0&&H.splice(Z,0,null),j&&j.length){var te=_[Z][d][1],ce=void 0;if(H[Z].setAttribute("cx",T),k.config.chart.type==="rangeArea"&&!k.globals.comboCharts){var ue=d+k.globals.series[Z].length;ce=_[Z][ue][1],te-=Math.abs(te-ce)/2}te!==null&&!isNaN(te)&&te<k.globals.gridHeight+I&&te+I>0?(H[Z]&&H[Z].setAttribute("r",I),H[Z]&&H[Z].setAttribute("cy",te)):H[Z]&&H[Z].setAttribute("r",0)}}if(this.moveXCrosshairs(T),!y.fixedTooltip){var ge=D||k.globals.gridHeight;this.moveTooltip(T,ge,I)}}},{key:"moveStickyTooltipOverBars",value:function(d,g){var y=this.w,k=this.ttCtx,T=y.globals.columnSeries?y.globals.columnSeries.length:y.globals.series.length,D=T>=2&&T%2==0?Math.floor(T/2):Math.floor(T/2)+1;y.globals.isBarHorizontal&&(D=new Ye(this.ctx).getActiveConfigSeriesIndex("desc")+1);var _=y.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(D,"'] path[j='").concat(d,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(d,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(d,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(d,"']"));_||typeof g!="number"||(_=y.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(g,"'] path[j='").concat(d,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(g,"'] path[j='").concat(d,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(g,"'] path[j='").concat(d,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(g,"'] path[j='").concat(d,"']")));var I=_?parseFloat(_.getAttribute("cx")):0,H=_?parseFloat(_.getAttribute("cy")):0,Z=_?parseFloat(_.getAttribute("barWidth")):0,j=k.getElGrid().getBoundingClientRect(),te=_&&(_.classList.contains("apexcharts-candlestick-area")||_.classList.contains("apexcharts-boxPlot-area"));if(y.globals.isXNumeric?(_&&!te&&(I-=T%2!=0?Z/2:0),_&&te&&y.globals.comboCharts&&(I-=Z/2)):y.globals.isBarHorizontal||(I=k.xAxisTicksPositions[d-1]+k.dataPointsDividedWidth/2,isNaN(I)&&(I=k.xAxisTicksPositions[d]-k.dataPointsDividedWidth/2)),y.globals.isBarHorizontal?H-=k.tooltipRect.ttHeight:y.config.tooltip.followCursor?H=k.e.clientY-j.top-k.tooltipRect.ttHeight/2:H+k.tooltipRect.ttHeight+15>y.globals.gridHeight&&(H=y.globals.gridHeight),y.globals.isBarHorizontal||this.moveXCrosshairs(I),!k.fixedTooltip){var ce=H||y.globals.gridHeight;this.moveTooltip(I,ce)}}}]),me}(),kr=function(){function me(d){f(this,me),this.w=d.w,this.ttCtx=d,this.ctx=d.ctx,this.tooltipPosition=new fn(d)}return x(me,[{key:"drawDynamicPoints",value:function(){var d=this.w,g=new K(this.ctx),y=new qe(this.ctx),k=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series");k=Y(k),d.config.chart.stacked&&k.sort(function(j,te){return parseFloat(j.getAttribute("data:realIndex"))-parseFloat(te.getAttribute("data:realIndex"))});for(var T=0;T<k.length;T++){var D=k[T].querySelector(".apexcharts-series-markers-wrap");if(D!==null){var _=void 0,I="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));d.config.chart.type!=="line"&&d.config.chart.type!=="area"||d.globals.comboCharts||d.config.tooltip.intersect||(I+=" no-pointer-events");var H=y.getMarkerConfig({cssClass:I,seriesIndex:Number(D.getAttribute("data:realIndex"))});(_=g.drawMarker(0,0,H)).node.setAttribute("default-marker-size",0);var Z=document.createElementNS(d.globals.SVGNS,"g");Z.classList.add("apexcharts-series-markers"),Z.appendChild(_.node),D.appendChild(Z)}}}},{key:"enlargeCurrentPoint",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,T=this.w;T.config.chart.type!=="bubble"&&this.newPointSize(d,g);var D=g.getAttribute("cx"),_=g.getAttribute("cy");if(y!==null&&k!==null&&(D=y,_=k),this.tooltipPosition.moveXCrosshairs(D),!this.fixedTooltip){if(T.config.chart.type==="radar"){var I=this.ttCtx.getElGrid().getBoundingClientRect();D=this.ttCtx.e.clientX-I.left}this.tooltipPosition.moveTooltip(D,_,T.config.markers.hover.size)}}},{key:"enlargePoints",value:function(d){for(var g=this.w,y=this,k=this.ttCtx,T=d,D=g.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),_=g.config.markers.hover.size,I=0;I<D.length;I++){var H=D[I].getAttribute("rel"),Z=D[I].getAttribute("index");if(_===void 0&&(_=g.globals.markers.size[Z]+g.config.markers.hover.sizeOffset),T===parseInt(H,10)){y.newPointSize(T,D[I]);var j=D[I].getAttribute("cx"),te=D[I].getAttribute("cy");y.tooltipPosition.moveXCrosshairs(j),k.fixedTooltip||y.tooltipPosition.moveTooltip(j,te,_)}else y.oldPointSize(D[I])}}},{key:"newPointSize",value:function(d,g){var y=this.w,k=y.config.markers.hover.size,T=d===0?g.parentNode.firstChild:g.parentNode.lastChild;if(T.getAttribute("default-marker-size")!=="0"){var D=parseInt(T.getAttribute("index"),10);k===void 0&&(k=y.globals.markers.size[D]+y.config.markers.hover.sizeOffset),k<0&&(k=0),T.setAttribute("r",k)}}},{key:"oldPointSize",value:function(d){var g=parseFloat(d.getAttribute("default-marker-size"));d.setAttribute("r",g)}},{key:"resetPointsSize",value:function(){for(var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),g=0;g<d.length;g++){var y=parseFloat(d[g].getAttribute("default-marker-size"));X.isNumber(y)&&y>=0?d[g].setAttribute("r",y):d[g].setAttribute("r",0)}}}]),me}(),ps=function(){function me(d){f(this,me),this.w=d.w,this.ttCtx=d}return x(me,[{key:"getAttr",value:function(d,g){return parseFloat(d.target.getAttribute(g))}},{key:"handleHeatTreeTooltip",value:function(d){var g=d.e,y=d.opt,k=d.x,T=d.y,D=d.type,_=this.ttCtx,I=this.w;if(g.target.classList.contains("apexcharts-".concat(D,"-rect"))){var H=this.getAttr(g,"i"),Z=this.getAttr(g,"j"),j=this.getAttr(g,"cx"),te=this.getAttr(g,"cy"),ce=this.getAttr(g,"width"),ue=this.getAttr(g,"height");if(_.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:H,j:Z,shared:!1,e:g}),I.globals.capturedSeriesIndex=H,I.globals.capturedDataPointIndex=Z,k=j+_.tooltipRect.ttWidth/2+ce,T=te+_.tooltipRect.ttHeight/2-ue/2,_.tooltipPosition.moveXCrosshairs(j+ce/2),k>I.globals.gridWidth/2&&(k=j-_.tooltipRect.ttWidth/2+ce),_.w.config.tooltip.followCursor){var ge=I.globals.dom.elWrap.getBoundingClientRect();k=I.globals.clientX-ge.left-(k>I.globals.gridWidth/2?_.tooltipRect.ttWidth:0),T=I.globals.clientY-ge.top-(T>I.globals.gridHeight/2?_.tooltipRect.ttHeight:0)}}return{x:k,y:T}}},{key:"handleMarkerTooltip",value:function(d){var g,y,k=d.e,T=d.opt,D=d.x,_=d.y,I=this.w,H=this.ttCtx;if(k.target.classList.contains("apexcharts-marker")){var Z=parseInt(T.paths.getAttribute("cx"),10),j=parseInt(T.paths.getAttribute("cy"),10),te=parseFloat(T.paths.getAttribute("val"));if(y=parseInt(T.paths.getAttribute("rel"),10),g=parseInt(T.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,H.intersect){var ce=X.findAncestor(T.paths,"apexcharts-series");ce&&(g=parseInt(ce.getAttribute("data:realIndex"),10))}if(H.tooltipLabels.drawSeriesTexts({ttItems:T.ttItems,i:g,j:y,shared:!H.showOnIntersect&&I.config.tooltip.shared,e:k}),k.type==="mouseup"&&H.markerClick(k,g,y),I.globals.capturedSeriesIndex=g,I.globals.capturedDataPointIndex=y,D=Z,_=j+I.globals.translateY-1.4*H.tooltipRect.ttHeight,H.w.config.tooltip.followCursor){var ue=H.getElGrid().getBoundingClientRect();_=H.e.clientY+I.globals.translateY-ue.top}te<0&&(_=j),H.marker.enlargeCurrentPoint(y,T.paths,D,_)}return{x:D,y:_}}},{key:"handleBarTooltip",value:function(d){var g,y,k=d.e,T=d.opt,D=this.w,_=this.ttCtx,I=_.getElTooltip(),H=0,Z=0,j=0,te=this.getBarTooltipXY({e:k,opt:T});g=te.i;var ce=te.barHeight,ue=te.j;D.globals.capturedSeriesIndex=g,D.globals.capturedDataPointIndex=ue,D.globals.isBarHorizontal&&_.tooltipUtil.hasBars()||!D.config.tooltip.shared?(Z=te.x,j=te.y,y=Array.isArray(D.config.stroke.width)?D.config.stroke.width[g]:D.config.stroke.width,H=Z):D.globals.comboCharts||D.config.tooltip.shared||(H/=2),isNaN(j)&&(j=D.globals.svgHeight-_.tooltipRect.ttHeight);var ge=parseInt(T.paths.parentNode.getAttribute("data:realIndex"),10),be=D.globals.isMultipleYAxis?D.config.yaxis[ge]&&D.config.yaxis[ge].reversed:D.config.yaxis[0].reversed;if(Z+_.tooltipRect.ttWidth>D.globals.gridWidth&&!be?Z-=_.tooltipRect.ttWidth:Z<0&&(Z=0),_.w.config.tooltip.followCursor){var ke=_.getElGrid().getBoundingClientRect();j=_.e.clientY-ke.top}_.tooltip===null&&(_.tooltip=D.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),D.config.tooltip.shared||(D.globals.comboBarCount>0?_.tooltipPosition.moveXCrosshairs(H+y/2):_.tooltipPosition.moveXCrosshairs(H)),!_.fixedTooltip&&(!D.config.tooltip.shared||D.globals.isBarHorizontal&&_.tooltipUtil.hasBars())&&(be&&(Z-=_.tooltipRect.ttWidth)<0&&(Z=0),!be||D.globals.isBarHorizontal&&_.tooltipUtil.hasBars()||(j=j+ce-2*(D.globals.series[g][ue]<0?ce:0)),j=j+D.globals.translateY-_.tooltipRect.ttHeight/2,I.style.left=Z+D.globals.translateX+"px",I.style.top=j+"px")}},{key:"getBarTooltipXY",value:function(d){var g=d.e,y=d.opt,k=this.w,T=null,D=this.ttCtx,_=0,I=0,H=0,Z=0,j=0,te=g.target.classList;if(te.contains("apexcharts-bar-area")||te.contains("apexcharts-candlestick-area")||te.contains("apexcharts-boxPlot-area")||te.contains("apexcharts-rangebar-area")){var ce=g.target,ue=ce.getBoundingClientRect(),ge=y.elGrid.getBoundingClientRect(),be=ue.height;j=ue.height;var ke=ue.width,Be=parseInt(ce.getAttribute("cx"),10),z=parseInt(ce.getAttribute("cy"),10);Z=parseFloat(ce.getAttribute("barWidth"));var ie=g.type==="touchmove"?g.touches[0].clientX:g.clientX;T=parseInt(ce.getAttribute("j"),10),_=parseInt(ce.parentNode.getAttribute("rel"),10)-1;var de=ce.getAttribute("data-range-y1"),Se=ce.getAttribute("data-range-y2");k.globals.comboCharts&&(_=parseInt(ce.parentNode.getAttribute("data:realIndex"),10)),D.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:_,j:T,y1:de?parseInt(de,10):null,y2:Se?parseInt(Se,10):null,shared:!D.showOnIntersect&&k.config.tooltip.shared,e:g}),k.config.tooltip.followCursor?k.globals.isBarHorizontal?(I=ie-ge.left+15,H=z-D.dataPointsDividedHeight+be/2-D.tooltipRect.ttHeight/2):(I=k.globals.isXNumeric?Be-ke/2:Be-D.dataPointsDividedWidth+ke/2,H=g.clientY-ge.top-D.tooltipRect.ttHeight/2-15):k.globals.isBarHorizontal?((I=Be)<D.xyRatios.baseLineInvertedY&&(I=Be-D.tooltipRect.ttWidth),H=z-D.dataPointsDividedHeight+be/2-D.tooltipRect.ttHeight/2):(I=k.globals.isXNumeric?Be-ke/2:Be-D.dataPointsDividedWidth+ke/2,H=z)}return{x:I,y:H,barHeight:j,barWidth:Z,i:_,j:T}}}]),me}(),Ft=function(){function me(d){f(this,me),this.w=d.w,this.ttCtx=d}return x(me,[{key:"drawXaxisTooltip",value:function(){var d=this.w,g=this.ttCtx,y=d.config.xaxis.position==="bottom";g.xaxisOffY=y?d.globals.gridHeight+1:-d.globals.xAxisHeight-d.config.xaxis.axisTicks.height+3;var k=y?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",T=d.globals.dom.elWrap;g.isXAxisTooltipEnabled&&d.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(g.xaxisTooltip=document.createElement("div"),g.xaxisTooltip.setAttribute("class",k+" apexcharts-theme-"+d.config.tooltip.theme),T.appendChild(g.xaxisTooltip),g.xaxisTooltipText=document.createElement("div"),g.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),g.xaxisTooltipText.style.fontFamily=d.config.xaxis.tooltip.style.fontFamily||d.config.chart.fontFamily,g.xaxisTooltipText.style.fontSize=d.config.xaxis.tooltip.style.fontSize,g.xaxisTooltip.appendChild(g.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var d=this.w,g=this.ttCtx,y=function(T){var D=d.config.yaxis[T].opposite||d.config.yaxis[T].crosshairs.opposite;g.yaxisOffX=D?d.globals.gridWidth+1:1;var _="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(T,D?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");d.globals.yAxisSameScaleIndices.map(function(H,Z){H.map(function(j,te){te===T&&(_+=d.config.yaxis[te].show?" ":" apexcharts-yaxistooltip-hidden")})});var I=d.globals.dom.elWrap;d.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(T))===null&&(g.yaxisTooltip=document.createElement("div"),g.yaxisTooltip.setAttribute("class",_+" apexcharts-theme-"+d.config.tooltip.theme),I.appendChild(g.yaxisTooltip),T===0&&(g.yaxisTooltipText=[]),g.yaxisTooltipText[T]=document.createElement("div"),g.yaxisTooltipText[T].classList.add("apexcharts-yaxistooltip-text"),g.yaxisTooltip.appendChild(g.yaxisTooltipText[T]))},k=0;k<d.config.yaxis.length;k++)y(k)}},{key:"setXCrosshairWidth",value:function(){var d=this.w,g=this.ttCtx,y=g.getElXCrosshairs();if(g.xcrosshairsWidth=parseInt(d.config.xaxis.crosshairs.width,10),d.globals.comboCharts){var k=d.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(k!==null&&d.config.xaxis.crosshairs.width==="barWidth"){var T=parseFloat(k.getAttribute("barWidth"));g.xcrosshairsWidth=T}else if(d.config.xaxis.crosshairs.width==="tickWidth"){var D=d.globals.labels.length;g.xcrosshairsWidth=d.globals.gridWidth/D}}else if(d.config.xaxis.crosshairs.width==="tickWidth"){var _=d.globals.labels.length;g.xcrosshairsWidth=d.globals.gridWidth/_}else if(d.config.xaxis.crosshairs.width==="barWidth"){var I=d.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(I!==null){var H=parseFloat(I.getAttribute("barWidth"));g.xcrosshairsWidth=H}else g.xcrosshairsWidth=1}d.globals.isBarHorizontal&&(g.xcrosshairsWidth=0),y!==null&&g.xcrosshairsWidth>0&&y.setAttribute("width",g.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var d=this.w,g=this.ttCtx;g.ycrosshairs=d.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),g.ycrosshairsHidden=d.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(d,g,y){var k=this.ttCtx,T=this.w,D=T.globals.yLabelFormatters[d];if(k.yaxisTooltips[d]){var _=k.getElGrid().getBoundingClientRect(),I=(g-_.top)*y.yRatio[d],H=T.globals.maxYArr[d]-T.globals.minYArr[d],Z=T.globals.minYArr[d]+(H-I);k.tooltipPosition.moveYCrosshairs(g-_.top),k.yaxisTooltipText[d].innerHTML=D(Z),k.tooltipPosition.moveYAxisTooltip(d)}}}]),me}(),Zo=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w;var g=this.w;this.tConfig=g.config.tooltip,this.tooltipUtil=new Ri(this),this.tooltipLabels=new ms(this),this.tooltipPosition=new fn(this),this.marker=new kr(this),this.intersect=new ps(this),this.axesTooltip=new Ft(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!g.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return x(me,[{key:"getElTooltip",value:function(d){return d||(d=this),d.w.globals.dom.baseEl?d.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(d){var g=this.w;this.xyRatios=d,this.isXAxisTooltipEnabled=g.config.xaxis.tooltip.enabled&&g.globals.axisCharts,this.yaxisTooltips=g.config.yaxis.map(function(D,_){return!!(D.show&&D.tooltip.enabled&&g.globals.axisCharts)}),this.allTooltipSeriesGroups=[],g.globals.axisCharts||(this.showTooltipTitle=!1);var y=document.createElement("div");if(y.classList.add("apexcharts-tooltip"),g.config.tooltip.cssClass&&y.classList.add(g.config.tooltip.cssClass),y.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),g.globals.dom.elWrap.appendChild(y),g.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var k=new kt(this.ctx);this.xAxisTicksPositions=k.getXAxisTicksPositions()}if(!g.globals.comboCharts&&!this.tConfig.intersect&&g.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),g.config.markers.size!==0&&g.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),g.globals.collapsedSeries.length!==g.globals.series.length){this.dataPointsDividedHeight=g.globals.gridHeight/g.globals.dataPoints,this.dataPointsDividedWidth=g.globals.gridWidth/g.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||g.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,y.appendChild(this.tooltipTitle));var T=g.globals.series.length;(g.globals.xyCharts||g.globals.comboCharts)&&this.tConfig.shared&&(T=this.showOnIntersect?1:g.globals.series.length),this.legendLabels=g.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(T),this.addSVGEvents()}}},{key:"createTTElements",value:function(d){for(var g=this,y=this.w,k=[],T=this.getElTooltip(),D=function(I){var H=document.createElement("div");H.classList.add("apexcharts-tooltip-series-group"),H.style.order=y.config.tooltip.inverseOrder?d-I:I+1,g.tConfig.shared&&g.tConfig.enabledOnSeries&&Array.isArray(g.tConfig.enabledOnSeries)&&g.tConfig.enabledOnSeries.indexOf(I)<0&&H.classList.add("apexcharts-tooltip-series-group-hidden");var Z=document.createElement("span");Z.classList.add("apexcharts-tooltip-marker"),Z.style.backgroundColor=y.globals.colors[I],H.appendChild(Z);var j=document.createElement("div");j.classList.add("apexcharts-tooltip-text"),j.style.fontFamily=g.tConfig.style.fontFamily||y.config.chart.fontFamily,j.style.fontSize=g.tConfig.style.fontSize,["y","goals","z"].forEach(function(te){var ce=document.createElement("div");ce.classList.add("apexcharts-tooltip-".concat(te,"-group"));var ue=document.createElement("span");ue.classList.add("apexcharts-tooltip-text-".concat(te,"-label")),ce.appendChild(ue);var ge=document.createElement("span");ge.classList.add("apexcharts-tooltip-text-".concat(te,"-value")),ce.appendChild(ge),j.appendChild(ce)}),H.appendChild(j),T.appendChild(H),k.push(H)},_=0;_<d;_++)D(_);return k}},{key:"addSVGEvents",value:function(){var d=this.w,g=d.config.chart.type,y=this.getElTooltip(),k=!(g!=="bar"&&g!=="candlestick"&&g!=="boxPlot"&&g!=="rangeBar"),T=g==="area"||g==="line"||g==="scatter"||g==="bubble"||g==="radar",D=d.globals.dom.Paper.node,_=this.getElGrid();_&&(this.seriesBound=_.getBoundingClientRect());var I,H=[],Z=[],j={hoverArea:D,elGrid:_,tooltipEl:y,tooltipY:H,tooltipX:Z,ttItems:this.ttItems};if(d.globals.axisCharts&&(T?I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):k?I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):g!=="heatmap"&&g!=="treemap"||(I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),I&&I.length))for(var te=0;te<I.length;te++)H.push(I[te].getAttribute("cy")),Z.push(I[te].getAttribute("cx"));if(d.globals.xyCharts&&!this.showOnIntersect||d.globals.comboCharts&&!this.showOnIntersect||k&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([D],j);else if(k&&!d.globals.comboCharts||T&&this.showOnIntersect)this.addDatapointEventsListeners(j);else if(!d.globals.axisCharts||g==="heatmap"||g==="treemap"){var ce=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(ce,j)}if(this.showOnIntersect){var ue=d.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");ue.length>0&&this.addPathsEventListeners(ue,j),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(j)}}},{key:"drawFixedTooltipRect",value:function(){var d=this.w,g=this.getElTooltip(),y=g.getBoundingClientRect(),k=y.width+10,T=y.height+10,D=this.tConfig.fixed.offsetX,_=this.tConfig.fixed.offsetY,I=this.tConfig.fixed.position.toLowerCase();return I.indexOf("right")>-1&&(D=D+d.globals.svgWidth-k+10),I.indexOf("bottom")>-1&&(_=_+d.globals.svgHeight-T-10),g.style.left=D+"px",g.style.top=_+"px",{x:D,y:_,ttWidth:k,ttHeight:T}}},{key:"addDatapointEventsListeners",value:function(d){var g=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(g,d)}},{key:"addPathsEventListeners",value:function(d,g){for(var y=this,k=function(D){var _={paths:d[D],tooltipEl:g.tooltipEl,tooltipY:g.tooltipY,tooltipX:g.tooltipX,elGrid:g.elGrid,hoverArea:g.hoverArea,ttItems:g.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(I){return d[D].addEventListener(I,y.onSeriesHover.bind(y,_),{capture:!1,passive:!0})})},T=0;T<d.length;T++)k(T)}},{key:"onSeriesHover",value:function(d,g){var y=this,k=Date.now()-this.lastHoverTime;k>=100?this.seriesHover(d,g):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){y.seriesHover(d,g)},100-k))}},{key:"seriesHover",value:function(d,g){var y=this;this.lastHoverTime=Date.now();var k=[],T=this.w;T.config.chart.group&&(k=this.ctx.getGroupedCharts()),T.globals.axisCharts&&(T.globals.minX===-1/0&&T.globals.maxX===1/0||T.globals.dataPoints===0)||(k.length?k.forEach(function(D){var _=y.getElTooltip(D),I={paths:d.paths,tooltipEl:_,tooltipY:d.tooltipY,tooltipX:d.tooltipX,elGrid:d.elGrid,hoverArea:d.hoverArea,ttItems:D.w.globals.tooltip.ttItems};D.w.globals.minX===y.w.globals.minX&&D.w.globals.maxX===y.w.globals.maxX&&D.w.globals.tooltip.seriesHoverByContext({chartCtx:D,ttCtx:D.w.globals.tooltip,opt:I,e:g})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:d,e:g}))}},{key:"seriesHoverByContext",value:function(d){var g=d.chartCtx,y=d.ttCtx,k=d.opt,T=d.e,D=g.w,_=this.getElTooltip();_&&(y.tooltipRect={x:0,y:0,ttWidth:_.getBoundingClientRect().width,ttHeight:_.getBoundingClientRect().height},y.e=T,y.tooltipUtil.hasBars()&&!D.globals.comboCharts&&!y.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ye(g).toggleSeriesOnHover(T,T.target.parentNode),y.fixedTooltip&&y.drawFixedTooltipRect(),D.globals.axisCharts?y.axisChartsTooltips({e:T,opt:k,tooltipRect:y.tooltipRect}):y.nonAxisChartsTooltips({e:T,opt:k,tooltipRect:y.tooltipRect}))}},{key:"axisChartsTooltips",value:function(d){var g,y,k=d.e,T=d.opt,D=this.w,_=T.elGrid.getBoundingClientRect(),I=k.type==="touchmove"?k.touches[0].clientX:k.clientX,H=k.type==="touchmove"?k.touches[0].clientY:k.clientY;if(this.clientY=H,this.clientX=I,D.globals.capturedSeriesIndex=-1,D.globals.capturedDataPointIndex=-1,H<_.top||H>_.top+_.height)this.handleMouseOut(T);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!D.config.tooltip.shared){var Z=parseInt(T.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(Z)<0)return void this.handleMouseOut(T)}var j=this.getElTooltip(),te=this.getElXCrosshairs(),ce=D.globals.xyCharts||D.config.chart.type==="bar"&&!D.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||D.globals.comboCharts&&this.tooltipUtil.hasBars();if(k.type==="mousemove"||k.type==="touchmove"||k.type==="mouseup"){if(D.globals.collapsedSeries.length+D.globals.ancillaryCollapsedSeries.length===D.globals.series.length)return;te!==null&&te.classList.add("apexcharts-active");var ue=this.yaxisTooltips.filter(function(ke){return ke===!0});if(this.ycrosshairs!==null&&ue.length&&this.ycrosshairs.classList.add("apexcharts-active"),ce&&!this.showOnIntersect)this.handleStickyTooltip(k,I,H,T);else if(D.config.chart.type==="heatmap"||D.config.chart.type==="treemap"){var ge=this.intersect.handleHeatTreeTooltip({e:k,opt:T,x:g,y,type:D.config.chart.type});g=ge.x,y=ge.y,j.style.left=g+"px",j.style.top=y+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:k,opt:T}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:k,opt:T,x:g,y});if(this.yaxisTooltips.length)for(var be=0;be<D.config.yaxis.length;be++)this.axesTooltip.drawYaxisTooltipText(be,H,this.xyRatios);T.tooltipEl.classList.add("apexcharts-active")}else k.type!=="mouseout"&&k.type!=="touchend"||this.handleMouseOut(T)}}},{key:"nonAxisChartsTooltips",value:function(d){var g=d.e,y=d.opt,k=d.tooltipRect,T=this.w,D=y.paths.getAttribute("rel"),_=this.getElTooltip(),I=T.globals.dom.elWrap.getBoundingClientRect();if(g.type==="mousemove"||g.type==="touchmove"){_.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:parseInt(D,10)-1,shared:!1});var H=T.globals.clientX-I.left-k.ttWidth/2,Z=T.globals.clientY-I.top-k.ttHeight-10;if(_.style.left=H+"px",_.style.top=Z+"px",T.config.legend.tooltipHoverFormatter){var j=D-1,te=(0,T.config.legend.tooltipHoverFormatter)(this.legendLabels[j].getAttribute("data:default-text"),{seriesIndex:j,dataPointIndex:j,w:T});this.legendLabels[j].innerHTML=te}}else g.type!=="mouseout"&&g.type!=="touchend"||(_.classList.remove("apexcharts-active"),T.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(ce){var ue=ce.getAttribute("data:default-text");ce.innerHTML=decodeURIComponent(ue)}))}},{key:"handleStickyTooltip",value:function(d,g,y,k){var T=this.w,D=this.tooltipUtil.getNearestValues({context:this,hoverArea:k.hoverArea,elGrid:k.elGrid,clientX:g,clientY:y}),_=D.j,I=D.capturedSeries;T.globals.collapsedSeriesIndices.includes(I)&&(I=null);var H=k.elGrid.getBoundingClientRect();if(D.hoverX<0||D.hoverX>H.width)this.handleMouseOut(k);else if(I!==null)this.handleStickyCapturedSeries(d,I,k,_);else if(this.tooltipUtil.isXoverlap(_)||T.globals.isBarHorizontal){var Z=T.globals.series.findIndex(function(j,te){return!T.globals.collapsedSeriesIndices.includes(te)});this.create(d,this,Z,_,k.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(d,g,y,k){var T=this.w;if(!this.tConfig.shared&&T.globals.series[g][k]===null)return void this.handleMouseOut(y);if(T.globals.series[g][k]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(k)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(d,this,g,k,y.ttItems):this.create(d,this,g,k,y.ttItems,!1);else if(this.tooltipUtil.isXoverlap(k)){var D=T.globals.series.findIndex(function(_,I){return!T.globals.collapsedSeriesIndices.includes(I)});this.create(d,this,D,k,y.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var d=this.w,g=new K(this.ctx),y=d.globals.dom.Paper.select(".apexcharts-bar-area"),k=0;k<y.length;k++)g.pathMouseLeave(y[k])}},{key:"handleMouseOut",value:function(d){var g=this.w,y=this.getElXCrosshairs();if(d.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),g.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),y!==null&&y.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=g.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var k=0;k<this.yaxisTTEls.length;k++)this.yaxisTTEls[k].classList.remove("apexcharts-active")}g.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(T){var D=T.getAttribute("data:default-text");T.innerHTML=decodeURIComponent(D)})}},{key:"markerClick",value:function(d,g,y){var k=this.w;typeof k.config.chart.events.markerClick=="function"&&k.config.chart.events.markerClick(d,this.ctx,{seriesIndex:g,dataPointIndex:y,w:k}),this.ctx.events.fireEvent("markerClick",[d,this.ctx,{seriesIndex:g,dataPointIndex:y,w:k}])}},{key:"create",value:function(d,g,y,k,T){var D,_,I,H,Z,j,te,ce,ue,ge,be,ke,Be,z,ie,de,Se=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Ne=this.w,Oe=g;d.type==="mouseup"&&this.markerClick(d,y,k),Se===null&&(Se=this.tConfig.shared);var ot=this.tooltipUtil.hasMarkers(y),nt=this.tooltipUtil.getElBars();if(Ne.config.legend.tooltipHoverFormatter){var Dt=Ne.config.legend.tooltipHoverFormatter,It=Array.from(this.legendLabels);It.forEach(function(To){var no=To.getAttribute("data:default-text");To.innerHTML=decodeURIComponent(no)});for(var qt=0;qt<It.length;qt++){var ti=It[qt],Et=parseInt(ti.getAttribute("i"),10),Qi=decodeURIComponent(ti.getAttribute("data:default-text")),Zt=Dt(Qi,{seriesIndex:Se?Et:y,dataPointIndex:k,w:Ne});if(Se)ti.innerHTML=Ne.globals.collapsedSeriesIndices.indexOf(Et)<0?Zt:Qi;else if(ti.innerHTML=Et===y?Zt:Qi,y===Et)break}}var cn=l(l({ttItems:T,i:y,j:k},((D=Ne.globals.seriesRange)===null||D===void 0||(_=D[y])===null||_===void 0||(I=_[k])===null||I===void 0||(H=I.y[0])===null||H===void 0?void 0:H.y1)!==void 0&&{y1:(Z=Ne.globals.seriesRange)===null||Z===void 0||(j=Z[y])===null||j===void 0||(te=j[k])===null||te===void 0||(ce=te.y[0])===null||ce===void 0?void 0:ce.y1}),((ue=Ne.globals.seriesRange)===null||ue===void 0||(ge=ue[y])===null||ge===void 0||(be=ge[k])===null||be===void 0||(ke=be.y[0])===null||ke===void 0?void 0:ke.y2)!==void 0&&{y2:(Be=Ne.globals.seriesRange)===null||Be===void 0||(z=Be[y])===null||z===void 0||(ie=z[k])===null||ie===void 0||(de=ie.y[0])===null||de===void 0?void 0:de.y2});if(Se){if(Oe.tooltipLabels.drawSeriesTexts(l(l({},cn),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ot)Ne.globals.markers.largestSize>0?Oe.marker.enlargePoints(k):Oe.tooltipPosition.moveDynamicPointsOnHover(k);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(nt),this.barSeriesHeight>0)){var Ct=new K(this.ctx),Kn=Ne.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(k,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(k,y);for(var _s=0;_s<Kn.length;_s++)Ct.pathMouseEnter(Kn[_s])}}else Oe.tooltipLabels.drawSeriesTexts(l({shared:!1},cn)),this.tooltipUtil.hasBars()&&Oe.tooltipPosition.moveStickyTooltipOverBars(k,y),ot&&Oe.tooltipPosition.moveMarkers(y,k)}}]),me}(),ka=function(){function me(d){f(this,me),this.w=d.w,this.barCtx=d,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return x(me,[{key:"handleBarDataLabels",value:function(d){var g=d.x,y=d.y,k=d.y1,T=d.y2,D=d.i,_=d.j,I=d.realIndex,H=d.series,Z=d.barHeight,j=d.barWidth,te=d.barYPosition,ce=d.visibleSeries,ue=d.renderedPath,ge=this.w,be=new K(this.barCtx.ctx),ke=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[I]:this.barCtx.strokeWidth,Be=g+parseFloat(j*ce),z=y+parseFloat(Z*ce);ge.globals.isXNumeric&&!ge.globals.isBarHorizontal&&(Be=g+parseFloat(j*(ce+1)),z=y+parseFloat(Z*(ce+1))-ke);var ie,de=null,Se=g,Ne=y,Oe={},ot=ge.config.dataLabels,nt=this.barCtx.barOptions.dataLabels,Dt=this.barCtx.barOptions.dataLabels.total;te!==void 0&&this.barCtx.isRangeBar&&(z=te,Ne=te);var It=ot.offsetX,qt=ot.offsetY,ti={width:0,height:0};if(ge.config.dataLabels.enabled){var Et=this.barCtx.series[D][_];ti=be.getTextRects(ge.globals.yLabelFormatters[0](Et),parseFloat(ot.style.fontSize))}var Qi={x:g,y,i:D,j:_,realIndex:I,renderedPath:ue,bcx:Be,bcy:z,barHeight:Z,barWidth:j,textRects:ti,strokeWidth:ke,dataLabelsX:Se,dataLabelsY:Ne,dataLabelsConfig:ot,barDataLabelsConfig:nt,barTotalDataLabelsConfig:Dt,offX:It,offY:qt};return Oe=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Qi):this.calculateColumnsDataLabelsPosition(Qi),ue.attr({cy:Oe.bcy,cx:Oe.bcx,j:_,val:H[D][_],barHeight:Z,barWidth:j}),ie=this.drawCalculatedDataLabels({x:Oe.dataLabelsX,y:Oe.dataLabelsY,val:this.barCtx.isRangeBar?[k,T]:H[D][_],i:I,j:_,barWidth:j,barHeight:Z,textRects:ti,dataLabelsConfig:ot}),ge.config.chart.stacked&&Dt.enabled&&(de=this.drawTotalDataLabels({x:Oe.totalDataLabelsX,y:Oe.totalDataLabelsY,realIndex:I,textAnchor:Oe.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:I,j:_}),dataLabelsConfig:ot,barTotalDataLabelsConfig:Dt})),{dataLabels:ie,totalDataLabels:de}}},{key:"getStackedTotalDataLabel",value:function(d){var g=d.realIndex,y=d.j,k=this.w,T=this.barCtx.stackedSeriesTotals[y];return this.totalFormatter&&(T=this.totalFormatter(T,l(l({},k),{},{seriesIndex:g,dataPointIndex:y,w:k}))),T}},{key:"calculateColumnsDataLabelsPosition",value:function(d){var g,y,k,T=this.w,D=d.i,_=d.j,I=d.realIndex,H=d.y,Z=d.bcx,j=d.barWidth,te=d.barHeight,ce=d.textRects,ue=d.dataLabelsY,ge=d.dataLabelsConfig,be=d.barDataLabelsConfig,ke=d.barTotalDataLabelsConfig,Be=d.strokeWidth,z=d.offX,ie=d.offY;te=Math.abs(te);var de=T.config.plotOptions.bar.dataLabels.orientation==="vertical";Z-=Be/2;var Se=T.globals.gridWidth/T.globals.dataPoints;g=T.globals.isXNumeric?Z-j/2+z:Z-Se+j/2+z,de&&(g=g+ce.height/2-Be/2-2);var Ne=this.barCtx.series[D][_]<0,Oe=H;switch(this.barCtx.isReversed&&(Oe=H-te+(Ne?2*te:0),H-=te),be.position){case"center":ue=de?Ne?Oe+te/2+ie:Oe+te/2-ie:Ne?Oe-te/2+ce.height/2+ie:Oe+te/2+ce.height/2-ie;break;case"bottom":ue=de?Ne?Oe+te+ie:Oe+te-ie:Ne?Oe-te+ce.height+Be+ie:Oe+te-ce.height/2+Be-ie;break;case"top":ue=de?Ne?Oe+ie:Oe-ie:Ne?Oe-ce.height/2-ie:Oe+ce.height+ie}if(this.barCtx.lastActiveBarSerieIndex===I&&ke.enabled){var ot=new K(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:I,j:_}),ge.fontSize);y=Ne?Oe-ot.height/2-ie-ke.offsetY+18:Oe+ot.height+ie+ke.offsetY-18,k=g+ke.offsetX}return T.config.chart.stacked||(ue<0?ue=0+Be:ue+ce.height/3>T.globals.gridHeight&&(ue=T.globals.gridHeight-Be)),{bcx:Z,bcy:H,dataLabelsX:g,dataLabelsY:ue,totalDataLabelsX:k,totalDataLabelsY:y,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(d){var g=this.w,y=d.x,k=d.i,T=d.j,D=d.realIndex,_=d.bcy,I=d.barHeight,H=d.barWidth,Z=d.textRects,j=d.dataLabelsX,te=d.strokeWidth,ce=d.dataLabelsConfig,ue=d.barDataLabelsConfig,ge=d.barTotalDataLabelsConfig,be=d.offX,ke=d.offY,Be=g.globals.gridHeight/g.globals.dataPoints;H=Math.abs(H);var z,ie,de=_-(this.barCtx.isRangeBar?0:Be)+I/2+Z.height/2+ke-3,Se="start",Ne=this.barCtx.series[k][T]<0,Oe=y;switch(this.barCtx.isReversed&&(Oe=y+H-(Ne?2*H:0),y=g.globals.gridWidth-H),ue.position){case"center":j=Ne?Oe+H/2-be:Math.max(Z.width/2,Oe-H/2)+be;break;case"bottom":j=Ne?Oe+H-te-Math.round(Z.width/2)-be:Oe-H+te+Math.round(Z.width/2)+be;break;case"top":j=Ne?Oe-te+Math.round(Z.width/2)-be:Oe-te-Math.round(Z.width/2)+be}if(this.barCtx.lastActiveBarSerieIndex===D&&ge.enabled){var ot=new K(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:D,j:T}),ce.fontSize);Ne?(z=Oe-te+Math.round(ot.width/2)-be-ge.offsetX-15,Se="end"):z=Oe-te-Math.round(ot.width/2)+be+ge.offsetX+15,ie=de+ge.offsetY}return g.config.chart.stacked||(j<0?j=j+Z.width+te:j+Z.width/2>g.globals.gridWidth&&(j=g.globals.gridWidth-Z.width-te)),{bcx:y,bcy:_,dataLabelsX:j,dataLabelsY:de,totalDataLabelsX:z,totalDataLabelsY:ie,totalDataLabelsAnchor:Se}}},{key:"drawCalculatedDataLabels",value:function(d){var g=d.x,y=d.y,k=d.val,T=d.i,D=d.j,_=d.textRects,I=d.barHeight,H=d.barWidth,Z=d.dataLabelsConfig,j=this.w,te="rotate(0)";j.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(te="rotate(-90, ".concat(g,", ").concat(y,")"));var ce=new Ae(this.barCtx.ctx),ue=new K(this.barCtx.ctx),ge=Z.formatter,be=null,ke=j.globals.collapsedSeriesIndices.indexOf(T)>-1;if(Z.enabled&&!ke){be=ue.group({class:"apexcharts-data-labels",transform:te});var Be="";k!==void 0&&(Be=ge(k,l(l({},j),{},{seriesIndex:T,dataPointIndex:D,w:j}))),!k&&j.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Be="");var z=j.globals.series[T][D]<0,ie=j.config.plotOptions.bar.dataLabels.position;j.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(ie==="top"&&(Z.textAnchor=z?"end":"start"),ie==="center"&&(Z.textAnchor="middle"),ie==="bottom"&&(Z.textAnchor=z?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&H<ue.getTextRects(Be,parseFloat(Z.style.fontSize)).width&&(Be=""),j.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?_.width/1.6>Math.abs(H)&&(Be=""):_.height/1.6>Math.abs(I)&&(Be=""));var de=l({},Z);this.barCtx.isHorizontal&&k<0&&(Z.textAnchor==="start"?de.textAnchor="end":Z.textAnchor==="end"&&(de.textAnchor="start")),ce.plotDataLabelsText({x:g,y,text:Be,i:T,j:D,parent:be,dataLabelsConfig:de,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return be}},{key:"drawTotalDataLabels",value:function(d){var g,y=d.x,k=d.y,T=d.val,D=d.realIndex,_=d.textAnchor,I=d.barTotalDataLabelsConfig,H=new K(this.barCtx.ctx);return I.enabled&&y!==void 0&&k!==void 0&&this.barCtx.lastActiveBarSerieIndex===D&&(g=H.drawText({x:y,y:k,foreColor:I.style.color,text:T,textAnchor:_,fontFamily:I.style.fontFamily,fontSize:I.style.fontSize,fontWeight:I.style.fontWeight})),g}}]),me}(),$c=function(){function me(d){f(this,me),this.w=d.w,this.barCtx=d}return x(me,[{key:"initVariables",value:function(d){var g=this.w;this.barCtx.series=d,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var y=0;y<d.length;y++)if(d[y].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=d[y].length),g.globals.isXNumeric)for(var k=0;k<d[y].length;k++)g.globals.seriesX[y][k]>g.globals.minX&&g.globals.seriesX[y][k]<g.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=g.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=d.length-1,g.globals.comboCharts||this.checkZeroSeries({series:d})}},{key:"initialPositions",value:function(){var d,g,y,k,T,D,_,I,H=this.w,Z=H.globals.dataPoints;this.barCtx.isRangeBar&&(Z=H.globals.labels.length);var j=this.barCtx.seriesLen;if(H.config.plotOptions.bar.rangeBarGroupRows&&(j=1),this.barCtx.isHorizontal)T=(y=H.globals.gridHeight/Z)/j,H.globals.isXNumeric&&(T=(y=H.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),T=T*parseInt(this.barCtx.barOptions.barHeight,10)/100,I=this.barCtx.baseLineInvertedY+H.globals.padHorizontal+(this.barCtx.isReversed?H.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),g=(y-T*this.barCtx.seriesLen)/2;else{if(k=H.globals.gridWidth/this.barCtx.visibleItems,H.config.xaxis.convertedCatToNumeric&&(k=H.globals.gridWidth/H.globals.dataPoints),D=k/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,H.globals.isXNumeric){var te=this.barCtx.xRatio;H.config.xaxis.convertedCatToNumeric&&(te=this.barCtx.initialXRatio),H.globals.minXDiff&&H.globals.minXDiff!==.5&&H.globals.minXDiff/te>0&&(k=H.globals.minXDiff/te),(D=k/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(D=1)}_=H.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?H.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),d=H.globals.padHorizontal+(k-D*this.barCtx.seriesLen)/2}return{x:d,y:g,yDivision:y,xDivision:k,barHeight:T,barWidth:D,zeroH:_,zeroW:I}}},{key:"getPathFillColor",value:function(d,g,y,k){var T,D,_,I,H=this.w,Z=new Ie(this.barCtx.ctx),j=null,te=this.barCtx.barOptions.distributed?y:g;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(ce){d[g][y]>=ce.from&&d[g][y]<=ce.to&&(j=ce.color)}),H.config.series[g].data[y]&&H.config.series[g].data[y].fillColor&&(j=H.config.series[g].data[y].fillColor),Z.fillPath({seriesNumber:this.barCtx.barOptions.distributed?te:k,dataPointIndex:y,color:j,value:d[g][y],fillConfig:(T=H.config.series[g].data[y])===null||T===void 0?void 0:T.fill,fillType:(D=H.config.series[g].data[y])!==null&&D!==void 0&&(_=D.fill)!==null&&_!==void 0&&_.type?(I=H.config.series[g].data[y])===null||I===void 0?void 0:I.fill.type:H.config.fill.type})}},{key:"getStrokeWidth",value:function(d,g,y){var k=0,T=this.w;return this.barCtx.series[d][g]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,T.config.stroke.show&&(this.barCtx.isNullValue||(k=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[y]:this.barCtx.strokeWidth)),k}},{key:"shouldApplyRadius",value:function(d){var g=this.w,y=!1;return g.config.plotOptions.bar.borderRadius>0&&(g.config.chart.stacked&&g.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===d&&(y=!0):y=!0),y}},{key:"barBackground",value:function(d){var g=d.j,y=d.i,k=d.x1,T=d.x2,D=d.y1,_=d.y2,I=d.elSeries,H=this.w,Z=new K(this.barCtx.ctx),j=new Ye(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&j===y){g>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(g%=this.barCtx.barOptions.colors.backgroundBarColors.length);var te=this.barCtx.barOptions.colors.backgroundBarColors[g],ce=Z.drawRect(k!==void 0?k:0,D!==void 0?D:0,T!==void 0?T:H.globals.gridWidth,_!==void 0?_:H.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,te,this.barCtx.barOptions.colors.backgroundBarOpacity);I.add(ce),ce.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(d){var g,y=d.barWidth,k=d.barXPosition,T=d.y1,D=d.y2,_=d.strokeWidth,I=d.realIndex,H=d.i,Z=d.j,j=d.w,te=new K(this.barCtx.ctx);(_=Array.isArray(_)?_[I]:_)||(_=0);var ce=y,ue=k;(g=j.config.series[I].data[Z])!==null&&g!==void 0&&g.columnWidthOffset&&(ue=k-j.config.series[I].data[Z].columnWidthOffset/2,ce=y+j.config.series[I].data[Z].columnWidthOffset);var ge=ue,be=ue+ce;T+=.001,D+=.001;var ke=te.move(ge,T),Be=te.move(ge,T),z=te.line(be-_,T);return j.globals.previousPaths.length>0&&(Be=this.barCtx.getPreviousPath(I,Z,!1)),ke=ke+te.line(ge,D)+te.line(be-_,D)+te.line(be-_,T)+(j.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),Be=Be+te.line(ge,T)+z+z+z+z+z+te.line(ge,T)+(j.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(I)&&(ke=te.roundPathCorners(ke,j.config.plotOptions.bar.borderRadius)),j.config.chart.stacked&&(this.barCtx.yArrj.push(D),this.barCtx.yArrjF.push(Math.abs(T-D)),this.barCtx.yArrjVal.push(this.barCtx.series[H][Z])),{pathTo:ke,pathFrom:Be}}},{key:"getBarpaths",value:function(d){var g,y=d.barYPosition,k=d.barHeight,T=d.x1,D=d.x2,_=d.strokeWidth,I=d.realIndex,H=d.i,Z=d.j,j=d.w,te=new K(this.barCtx.ctx);(_=Array.isArray(_)?_[I]:_)||(_=0);var ce=y,ue=k;(g=j.config.series[I].data[Z])!==null&&g!==void 0&&g.barHeightOffset&&(ce=y-j.config.series[I].data[Z].barHeightOffset/2,ue=k+j.config.series[I].data[Z].barHeightOffset);var ge=ce,be=ce+ue;T+=.001,D+=.001;var ke=te.move(T,ge),Be=te.move(T,ge);j.globals.previousPaths.length>0&&(Be=this.barCtx.getPreviousPath(I,Z,!1));var z=te.line(T,be-_);return ke=ke+te.line(D,ge)+te.line(D,be-_)+z+(j.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),Be=Be+te.line(T,ge)+z+z+z+z+z+te.line(T,ge)+(j.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(I)&&(ke=te.roundPathCorners(ke,j.config.plotOptions.bar.borderRadius)),j.config.chart.stacked&&(this.barCtx.xArrj.push(D),this.barCtx.xArrjF.push(Math.abs(T-D)),this.barCtx.xArrjVal.push(this.barCtx.series[H][Z])),{pathTo:ke,pathFrom:Be}}},{key:"checkZeroSeries",value:function(d){for(var g=d.series,y=this.w,k=0;k<g.length;k++){for(var T=0,D=0;D<g[y.globals.maxValsInArrayIndex].length;D++)T+=g[k][D];T===0&&this.barCtx.zeroSerieses.push(k)}for(var _=g.length-1;_>=0;_--)this.barCtx.zeroSerieses.indexOf(_)>-1&&_===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var I=g.length-1;I>=0;I--)y.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(d,g){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?g:null;return d!=null&&(y=g+d/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?d/this.barCtx.invertedYRatio:0)),y}},{key:"getYForValue",value:function(d,g){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?g:null;return d!=null&&(y=g-d/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?d/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),y}},{key:"getGoalValues",value:function(d,g,y,k,T){var D=this,_=this.w,I=[];return _.globals.seriesGoals[k]&&_.globals.seriesGoals[k][T]&&Array.isArray(_.globals.seriesGoals[k][T])&&_.globals.seriesGoals[k][T].forEach(function(H){var Z;I.push((w(Z={},d,d==="x"?D.getXForValue(H.value,g,!1):D.getYForValue(H.value,y,!1)),w(Z,"attrs",H),Z))}),I}},{key:"drawGoalLine",value:function(d){var g=d.barXPosition,y=d.barYPosition,k=d.goalX,T=d.goalY,D=d.barWidth,_=d.barHeight,I=new K(this.barCtx.ctx),H=I.group({className:"apexcharts-bar-goals-groups"}),Z=null;return this.barCtx.isHorizontal?Array.isArray(k)&&k.forEach(function(j){var te=j.attrs.strokeHeight!==void 0?j.attrs.strokeHeight:_/2,ce=y+te+_/2;Z=I.drawLine(j.x,ce-2*te,j.x,ce,j.attrs.strokeColor?j.attrs.strokeColor:void 0,j.attrs.strokeDashArray,j.attrs.strokeWidth?j.attrs.strokeWidth:2,j.attrs.strokeLineCap),H.add(Z)}):Array.isArray(T)&&T.forEach(function(j){var te=j.attrs.strokeWidth!==void 0?j.attrs.strokeWidth:D/2,ce=g+te+D/2;Z=I.drawLine(ce-2*te,j.y,ce,j.y,j.attrs.strokeColor?j.attrs.strokeColor:void 0,j.attrs.strokeDashArray,j.attrs.strokeHeight?j.attrs.strokeHeight:2,j.attrs.strokeLineCap),H.add(Z)}),H}}]),me}(),Ir=function(){function me(d,g){f(this,me),this.ctx=d,this.w=d.w;var y=this.w;this.barOptions=y.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=y.config.stroke.width,this.isNullValue=!1,this.isRangeBar=y.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=g,this.xyRatios!==null&&(this.xRatio=g.xRatio,this.initialXRatio=g.initialXRatio,this.yRatio=g.yRatio,this.invertedXRatio=g.invertedXRatio,this.invertedYRatio=g.invertedYRatio,this.baseLineY=g.baseLineY,this.baseLineInvertedY=g.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var k=new Ye(this.ctx);this.lastActiveBarSerieIndex=k.getActiveConfigSeriesIndex("desc",["bar","column"]);var T=k.getBarSeriesIndices(),D=new le(this.ctx);this.stackedSeriesTotals=D.getStackedSeriesTotals(this.w.config.series.map(function(_,I){return T.indexOf(I)===-1?I:-1}).filter(function(_){return _!==-1})),this.barHelpers=new $c(this)}return x(me,[{key:"draw",value:function(d,g){var y=this.w,k=new K(this.ctx),T=new le(this.ctx,y);d=T.getLogSeries(d),this.series=d,this.yRatio=T.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d);var D=k.group({class:"apexcharts-bar-series apexcharts-plot-series"});y.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var _=0,I=0;_<d.length;_++,I++){var H,Z,j,te,ce=void 0,ue=void 0,ge=[],be=[],ke=y.globals.comboCharts?g[_]:_,Be=k.group({class:"apexcharts-series",rel:_+1,seriesName:X.escapeString(y.globals.seriesNames[ke]),"data:realIndex":ke});this.ctx.series.addCollapsedClassToSeries(Be,ke),d[_].length>0&&(this.visibleI=this.visibleI+1);var z=0,ie=0;this.yRatio.length>1&&(this.yaxisIndex=ke),this.isReversed=y.config.yaxis[this.yaxisIndex]&&y.config.yaxis[this.yaxisIndex].reversed;var de=this.barHelpers.initialPositions();ue=de.y,z=de.barHeight,Z=de.yDivision,te=de.zeroW,ce=de.x,ie=de.barWidth,H=de.xDivision,j=de.zeroH,this.horizontal||be.push(ce+ie/2);for(var Se=k.group({class:"apexcharts-datalabels","data:realIndex":ke}),Ne=k.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Oe=0;Oe<y.globals.dataPoints;Oe++){var ot=this.barHelpers.getStrokeWidth(_,Oe,ke),nt=null,Dt={indexes:{i:_,j:Oe,realIndex:ke,bc:I},x:ce,y:ue,strokeWidth:ot,elSeries:Be};this.isHorizontal?(nt=this.drawBarPaths(l(l({},Dt),{},{barHeight:z,zeroW:te,yDivision:Z})),ie=this.series[_][Oe]/this.invertedYRatio):(nt=this.drawColumnPaths(l(l({},Dt),{},{xDivision:H,barWidth:ie,zeroH:j})),z=this.series[_][Oe]/this.yRatio[this.yaxisIndex]);var It=this.barHelpers.drawGoalLine({barXPosition:nt.barXPosition,barYPosition:nt.barYPosition,goalX:nt.goalX,goalY:nt.goalY,barHeight:z,barWidth:ie});It&&Ne.add(It),ue=nt.y,ce=nt.x,Oe>0&&be.push(ce+ie/2),ge.push(ue);var qt=this.barHelpers.getPathFillColor(d,_,Oe,ke);this.renderSeries({realIndex:ke,pathFill:qt,j:Oe,i:_,pathFrom:nt.pathFrom,pathTo:nt.pathTo,strokeWidth:ot,elSeries:Be,x:ce,y:ue,series:d,barHeight:nt.barHeight?nt.barHeight:z,barWidth:nt.barWidth?nt.barWidth:ie,elDataLabelsWrap:Se,elGoalsMarkers:Ne,visibleSeries:this.visibleI,type:"bar"})}y.globals.seriesXvalues[ke]=be,y.globals.seriesYvalues[ke]=ge,D.add(Be)}return D}},{key:"renderSeries",value:function(d){var g=d.realIndex,y=d.pathFill,k=d.lineFill,T=d.j,D=d.i,_=d.pathFrom,I=d.pathTo,H=d.strokeWidth,Z=d.elSeries,j=d.x,te=d.y,ce=d.y1,ue=d.y2,ge=d.series,be=d.barHeight,ke=d.barWidth,Be=d.barYPosition,z=d.elDataLabelsWrap,ie=d.elGoalsMarkers,de=d.visibleSeries,Se=d.type,Ne=this.w,Oe=new K(this.ctx);k||(k=this.barOptions.distributed?Ne.globals.stroke.colors[T]:Ne.globals.stroke.colors[g]),Ne.config.series[D].data[T]&&Ne.config.series[D].data[T].strokeColor&&(k=Ne.config.series[D].data[T].strokeColor),this.isNullValue&&(y="none");var ot=T/Ne.config.chart.animations.animateGradually.delay*(Ne.config.chart.animations.speed/Ne.globals.dataPoints)/2.4,nt=Oe.renderPaths({i:D,j:T,realIndex:g,pathFrom:_,pathTo:I,stroke:k,strokeWidth:H,strokeLineCap:Ne.config.stroke.lineCap,fill:y,animationDelay:ot,initialSpeed:Ne.config.chart.animations.speed,dataChangeSpeed:Ne.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Se,"-area")});nt.attr("clip-path","url(#gridRectMask".concat(Ne.globals.cuid,")"));var Dt=Ne.config.forecastDataPoints;Dt.count>0&&T>=Ne.globals.dataPoints-Dt.count&&(nt.node.setAttribute("stroke-dasharray",Dt.dashArray),nt.node.setAttribute("stroke-width",Dt.strokeWidth),nt.node.setAttribute("fill-opacity",Dt.fillOpacity)),ce!==void 0&&ue!==void 0&&(nt.attr("data-range-y1",ce),nt.attr("data-range-y2",ue)),new he(this.ctx).setSelectionFilter(nt,g,T),Z.add(nt);var It=new ka(this).handleBarDataLabels({x:j,y:te,y1:ce,y2:ue,i:D,j:T,series:ge,realIndex:g,barHeight:be,barWidth:ke,barYPosition:Be,renderedPath:nt,visibleSeries:de});return It.dataLabels!==null&&z.add(It.dataLabels),It.totalDataLabels&&z.add(It.totalDataLabels),Z.add(z),ie&&Z.add(ie),Z}},{key:"drawBarPaths",value:function(d){var g,y=d.indexes,k=d.barHeight,T=d.strokeWidth,D=d.zeroW,_=d.x,I=d.y,H=d.yDivision,Z=d.elSeries,j=this.w,te=y.i,ce=y.j;if(j.globals.isXNumeric)g=(I=(j.globals.seriesX[te][ce]-j.globals.minX)/this.invertedXRatio-k)+k*this.visibleI;else if(j.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ue=0,ge=0;j.globals.seriesPercent.forEach(function(ke,Be){ke[ce]&&ue++,Be<te&&ke[ce]===0&&ge++}),ue>0&&(k=this.seriesLen*k/ue),g=I+k*this.visibleI,g-=k*ge}else g=I+k*this.visibleI;_=this.barHelpers.getXForValue(this.series[te][ce],D);var be=this.barHelpers.getBarpaths({barYPosition:g,barHeight:k,x1:D,x2:_,strokeWidth:T,series:this.series,realIndex:y.realIndex,i:te,j:ce,w:j});return j.globals.isXNumeric||(I+=H),this.barHelpers.barBackground({j:ce,i:te,y1:g-k*this.visibleI,y2:k*this.seriesLen,elSeries:Z}),{pathTo:be.pathTo,pathFrom:be.pathFrom,x:_,y:I,goalX:this.barHelpers.getGoalValues("x",D,null,te,ce),barYPosition:g,barHeight:k}}},{key:"drawColumnPaths",value:function(d){var g,y=d.indexes,k=d.x,T=d.y,D=d.xDivision,_=d.barWidth,I=d.zeroH,H=d.strokeWidth,Z=d.elSeries,j=this.w,te=y.realIndex,ce=y.i,ue=y.j,ge=y.bc;if(j.globals.isXNumeric){var be=te;j.globals.seriesX[te].length||(be=j.globals.maxValsInArrayIndex),j.globals.seriesX[be][ue]&&(k=(j.globals.seriesX[be][ue]-j.globals.minX)/this.xRatio-_*this.seriesLen/2),g=k+_*this.visibleI}else if(j.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ke=0,Be=0;j.globals.seriesPercent.forEach(function(ie,de){ie[ue]&&ke++,de<ce&&ie[ue]===0&&Be++}),ke>0&&(_=this.seriesLen*_/ke),g=k+_*this.visibleI,g-=_*Be}else g=k+_*this.visibleI;T=this.barHelpers.getYForValue(this.series[ce][ue],I);var z=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:_,y1:I,y2:T,strokeWidth:H,series:this.series,realIndex:y.realIndex,i:ce,j:ue,w:j});return j.globals.isXNumeric||(k+=D),this.barHelpers.barBackground({bc:ge,j:ue,i:ce,x1:g-H/2-_*this.visibleI,x2:_*this.seriesLen+H/2,elSeries:Z}),{pathTo:z.pathTo,pathFrom:z.pathFrom,x:k,y:T,goalY:this.barHelpers.getGoalValues("y",null,I,ce,ue),barXPosition:g,barWidth:_}}},{key:"getPreviousPath",value:function(d,g){for(var y,k=this.w,T=0;T<k.globals.previousPaths.length;T++){var D=k.globals.previousPaths[T];D.paths&&D.paths.length>0&&parseInt(D.realIndex,10)===parseInt(d,10)&&k.globals.previousPaths[T].paths[g]!==void 0&&(y=k.globals.previousPaths[T].paths[g].d)}return y}}]),me}(),Kc=function(me){P(g,Ir);var d=B(g);function g(){return f(this,g),d.apply(this,arguments)}return x(g,[{key:"draw",value:function(y,k){var T=this,D=this.w;this.graphics=new K(this.ctx),this.bar=new Ir(this.ctx,this.xyRatios);var _=new le(this.ctx,D);y=_.getLogSeries(y),this.yRatio=_.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y),D.config.chart.stackType==="100%"&&(y=D.globals.seriesPercent.slice()),this.series=y,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var I=0;I<y.length;I++)y[I].length>0&&(this.totalItems+=y[I].length);for(var H=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),Z=0,j=0,te=function(ge,be){var ke=void 0,Be=void 0,z=void 0,ie=void 0,de=[],Se=[],Ne=D.globals.comboCharts?k[ge]:ge;T.yRatio.length>1&&(T.yaxisIndex=Ne),T.isReversed=D.config.yaxis[T.yaxisIndex]&&D.config.yaxis[T.yaxisIndex].reversed;var Oe=T.graphics.group({class:"apexcharts-series",seriesName:X.escapeString(D.globals.seriesNames[Ne]),rel:ge+1,"data:realIndex":Ne});T.ctx.series.addCollapsedClassToSeries(Oe,Ne);var ot=T.graphics.group({class:"apexcharts-datalabels","data:realIndex":Ne}),nt=T.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Dt=0,It=0,qt=T.initialPositions(Z,j,ke,Be,z,ie);j=qt.y,Dt=qt.barHeight,Be=qt.yDivision,ie=qt.zeroW,Z=qt.x,It=qt.barWidth,ke=qt.xDivision,z=qt.zeroH,T.yArrj=[],T.yArrjF=[],T.yArrjVal=[],T.xArrj=[],T.xArrjF=[],T.xArrjVal=[],T.prevY.length===1&&T.prevY[0].every(function(Kn){return isNaN(Kn)})&&(T.prevY[0]=T.prevY[0].map(function(Kn){return z}),T.prevYF[0]=T.prevYF[0].map(function(Kn){return 0}));for(var ti=0;ti<D.globals.dataPoints;ti++){var Et=T.barHelpers.getStrokeWidth(ge,ti,Ne),Qi={indexes:{i:ge,j:ti,realIndex:Ne,bc:be},strokeWidth:Et,x:Z,y:j,elSeries:Oe},Zt=null;T.isHorizontal?(Zt=T.drawStackedBarPaths(l(l({},Qi),{},{zeroW:ie,barHeight:Dt,yDivision:Be})),It=T.series[ge][ti]/T.invertedYRatio):(Zt=T.drawStackedColumnPaths(l(l({},Qi),{},{xDivision:ke,barWidth:It,zeroH:z})),Dt=T.series[ge][ti]/T.yRatio[T.yaxisIndex]);var cn=T.barHelpers.drawGoalLine({barXPosition:Zt.barXPosition,barYPosition:Zt.barYPosition,goalX:Zt.goalX,goalY:Zt.goalY,barHeight:Dt,barWidth:It});cn&&nt.add(cn),j=Zt.y,Z=Zt.x,de.push(Z),Se.push(j);var Ct=T.barHelpers.getPathFillColor(y,ge,ti,Ne);Oe=T.renderSeries({realIndex:Ne,pathFill:Ct,j:ti,i:ge,pathFrom:Zt.pathFrom,pathTo:Zt.pathTo,strokeWidth:Et,elSeries:Oe,x:Z,y:j,series:y,barHeight:Dt,barWidth:It,elDataLabelsWrap:ot,elGoalsMarkers:nt,type:"bar",visibleSeries:0})}D.globals.seriesXvalues[Ne]=de,D.globals.seriesYvalues[Ne]=Se,T.prevY.push(T.yArrj),T.prevYF.push(T.yArrjF),T.prevYVal.push(T.yArrjVal),T.prevX.push(T.xArrj),T.prevXF.push(T.xArrjF),T.prevXVal.push(T.xArrjVal),H.add(Oe)},ce=0,ue=0;ce<y.length;ce++,ue++)te(ce,ue);return H}},{key:"initialPositions",value:function(y,k,T,D,_,I){var H,Z,j=this.w;return this.isHorizontal?(H=(H=D=j.globals.gridHeight/j.globals.dataPoints)*parseInt(j.config.plotOptions.bar.barHeight,10)/100,I=this.baseLineInvertedY+j.globals.padHorizontal+(this.isReversed?j.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),k=(D-H)/2):(Z=T=j.globals.gridWidth/j.globals.dataPoints,Z=j.globals.isXNumeric&&j.globals.dataPoints>1?(T=j.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:Z*parseInt(j.config.plotOptions.bar.columnWidth,10)/100,_=j.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?j.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),y=j.globals.padHorizontal+(T-Z)/2),{x:y,y:k,yDivision:D,xDivision:T,barHeight:H,barWidth:Z,zeroH:_,zeroW:I}}},{key:"drawStackedBarPaths",value:function(y){for(var k,T=y.indexes,D=y.barHeight,_=y.strokeWidth,I=y.zeroW,H=y.x,Z=y.y,j=y.yDivision,te=y.elSeries,ce=this.w,ue=Z,ge=T.i,be=T.j,ke=0,Be=0;Be<this.prevXF.length;Be++)ke+=this.prevXF[Be][be];if(ge>0){var z=I;this.prevXVal[ge-1][be]<0?z=this.series[ge][be]>=0?this.prevX[ge-1][be]+ke-2*(this.isReversed?ke:0):this.prevX[ge-1][be]:this.prevXVal[ge-1][be]>=0&&(z=this.series[ge][be]>=0?this.prevX[ge-1][be]:this.prevX[ge-1][be]-ke+2*(this.isReversed?ke:0)),k=z}else k=I;H=this.series[ge][be]===null?k:k+this.series[ge][be]/this.invertedYRatio-2*(this.isReversed?this.series[ge][be]/this.invertedYRatio:0);var ie=this.barHelpers.getBarpaths({barYPosition:ue,barHeight:D,x1:k,x2:H,strokeWidth:_,series:this.series,realIndex:T.realIndex,i:ge,j:be,w:ce});return this.barHelpers.barBackground({j:be,i:ge,y1:ue,y2:D,elSeries:te}),Z+=j,{pathTo:ie.pathTo,pathFrom:ie.pathFrom,goalX:this.barHelpers.getGoalValues("x",I,null,ge,be),barYPosition:ue,x:H,y:Z}}},{key:"drawStackedColumnPaths",value:function(y){var k=y.indexes,T=y.x,D=y.y,_=y.xDivision,I=y.barWidth,H=y.zeroH;y.strokeWidth;var Z=y.elSeries,j=this.w,te=k.i,ce=k.j,ue=k.bc;if(j.globals.isXNumeric){var ge=j.globals.seriesX[te][ce];ge||(ge=0),T=(ge-j.globals.minX)/this.xRatio-I/2}for(var be,ke=T,Be=0,z=0;z<this.prevYF.length;z++)Be+=isNaN(this.prevYF[z][ce])?0:this.prevYF[z][ce];if(te>0&&!j.globals.isXNumeric||te>0&&j.globals.isXNumeric&&j.globals.seriesX[te-1][ce]===j.globals.seriesX[te][ce]){var ie,de,Se=Math.min(this.yRatio.length+1,te+1);if(this.prevY[te-1]!==void 0){for(var Ne=1;Ne<Se;Ne++)if(!isNaN(this.prevY[te-Ne][ce])){de=this.prevY[te-Ne][ce];break}}for(var Oe=1;Oe<Se;Oe++){if(this.prevYVal[te-Oe][ce]<0){ie=this.series[te][ce]>=0?de-Be+2*(this.isReversed?Be:0):de;break}if(this.prevYVal[te-Oe][ce]>=0){ie=this.series[te][ce]>=0?de:de+Be-2*(this.isReversed?Be:0);break}}ie===void 0&&(ie=j.globals.gridHeight),be=this.prevYF[0].every(function(nt){return nt===0})&&this.prevYF.slice(1,te).every(function(nt){return nt.every(function(Dt){return isNaN(Dt)})})?H:ie}else be=H;D=this.series[te][ce]?be-this.series[te][ce]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[te][ce]/this.yRatio[this.yaxisIndex]:0):be;var ot=this.barHelpers.getColumnPaths({barXPosition:ke,barWidth:I,y1:be,y2:D,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:k.realIndex,i:te,j:ce,w:j});return this.barHelpers.barBackground({bc:ue,j:ce,i:te,x1:ke,x2:I,elSeries:Z}),T+=_,{pathTo:ot.pathTo,pathFrom:ot.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,H,te,ce),barXPosition:ke,x:j.globals.isXNumeric?T-_:T,y:D}}}]),g}(),eo=function(me){P(g,Ir);var d=B(g);function g(){return f(this,g),d.apply(this,arguments)}return x(g,[{key:"draw",value:function(y,k,T){var D=this,_=this.w,I=new K(this.ctx),H=_.globals.comboCharts?k:_.config.chart.type,Z=new Ie(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=_.config.plotOptions.bar.horizontal;var j=new le(this.ctx,_);y=j.getLogSeries(y),this.series=y,this.yRatio=j.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y);for(var te=I.group({class:"apexcharts-".concat(H,"-series apexcharts-plot-series")}),ce=function(ge){D.isBoxPlot=_.config.chart.type==="boxPlot"||_.config.series[ge].type==="boxPlot";var be,ke,Be,z,ie=void 0,de=void 0,Se=[],Ne=[],Oe=_.globals.comboCharts?T[ge]:ge,ot=I.group({class:"apexcharts-series",seriesName:X.escapeString(_.globals.seriesNames[Oe]),rel:ge+1,"data:realIndex":Oe});D.ctx.series.addCollapsedClassToSeries(ot,Oe),y[ge].length>0&&(D.visibleI=D.visibleI+1);var nt,Dt;D.yRatio.length>1&&(D.yaxisIndex=Oe);var It=D.barHelpers.initialPositions();de=It.y,nt=It.barHeight,ke=It.yDivision,z=It.zeroW,ie=It.x,Dt=It.barWidth,be=It.xDivision,Be=It.zeroH,Ne.push(ie+Dt/2);for(var qt=I.group({class:"apexcharts-datalabels","data:realIndex":Oe}),ti=function(Qi){var Zt=D.barHelpers.getStrokeWidth(ge,Qi,Oe),cn=null,Ct={indexes:{i:ge,j:Qi,realIndex:Oe},x:ie,y:de,strokeWidth:Zt,elSeries:ot};cn=D.isHorizontal?D.drawHorizontalBoxPaths(l(l({},Ct),{},{yDivision:ke,barHeight:nt,zeroW:z})):D.drawVerticalBoxPaths(l(l({},Ct),{},{xDivision:be,barWidth:Dt,zeroH:Be})),de=cn.y,ie=cn.x,Qi>0&&Ne.push(ie+Dt/2),Se.push(de),cn.pathTo.forEach(function(Kn,_s){var To=!D.isBoxPlot&&D.candlestickOptions.wick.useFillColor?cn.color[_s]:_.globals.stroke.colors[ge],no=Z.fillPath({seriesNumber:Oe,dataPointIndex:Qi,color:cn.color[_s],value:y[ge][Qi]});D.renderSeries({realIndex:Oe,pathFill:no,lineFill:To,j:Qi,i:ge,pathFrom:cn.pathFrom,pathTo:Kn,strokeWidth:Zt,elSeries:ot,x:ie,y:de,series:y,barHeight:nt,barWidth:Dt,elDataLabelsWrap:qt,visibleSeries:D.visibleI,type:_.config.chart.type})})},Et=0;Et<_.globals.dataPoints;Et++)ti(Et);_.globals.seriesXvalues[Oe]=Ne,_.globals.seriesYvalues[Oe]=Se,te.add(ot)},ue=0;ue<y.length;ue++)ce(ue);return te}},{key:"drawVerticalBoxPaths",value:function(y){var k=y.indexes,T=y.x;y.y;var D=y.xDivision,_=y.barWidth,I=y.zeroH,H=y.strokeWidth,Z=this.w,j=new K(this.ctx),te=k.i,ce=k.j,ue=!0,ge=Z.config.plotOptions.candlestick.colors.upward,be=Z.config.plotOptions.candlestick.colors.downward,ke="";this.isBoxPlot&&(ke=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Be=this.yRatio[this.yaxisIndex],z=k.realIndex,ie=this.getOHLCValue(z,ce),de=I,Se=I;ie.o>ie.c&&(ue=!1);var Ne=Math.min(ie.o,ie.c),Oe=Math.max(ie.o,ie.c),ot=ie.m;Z.globals.isXNumeric&&(T=(Z.globals.seriesX[z][ce]-Z.globals.minX)/this.xRatio-_/2);var nt=T+_*this.visibleI;this.series[te][ce]===void 0||this.series[te][ce]===null?(Ne=I,Oe=I):(Ne=I-Ne/Be,Oe=I-Oe/Be,de=I-ie.h/Be,Se=I-ie.l/Be,ot=I-ie.m/Be);var Dt=j.move(nt,I),It=j.move(nt+_/2,Ne);return Z.globals.previousPaths.length>0&&(It=this.getPreviousPath(z,ce,!0)),Dt=this.isBoxPlot?[j.move(nt,Ne)+j.line(nt+_/2,Ne)+j.line(nt+_/2,de)+j.line(nt+_/4,de)+j.line(nt+_-_/4,de)+j.line(nt+_/2,de)+j.line(nt+_/2,Ne)+j.line(nt+_,Ne)+j.line(nt+_,ot)+j.line(nt,ot)+j.line(nt,Ne+H/2),j.move(nt,ot)+j.line(nt+_,ot)+j.line(nt+_,Oe)+j.line(nt+_/2,Oe)+j.line(nt+_/2,Se)+j.line(nt+_-_/4,Se)+j.line(nt+_/4,Se)+j.line(nt+_/2,Se)+j.line(nt+_/2,Oe)+j.line(nt,Oe)+j.line(nt,ot)+"z"]:[j.move(nt,Oe)+j.line(nt+_/2,Oe)+j.line(nt+_/2,de)+j.line(nt+_/2,Oe)+j.line(nt+_,Oe)+j.line(nt+_,Ne)+j.line(nt+_/2,Ne)+j.line(nt+_/2,Se)+j.line(nt+_/2,Ne)+j.line(nt,Ne)+j.line(nt,Oe-H/2)],It+=j.move(nt,Ne),Z.globals.isXNumeric||(T+=D),{pathTo:Dt,pathFrom:It,x:T,y:Oe,barXPosition:nt,color:this.isBoxPlot?ke:ue?[ge]:[be]}}},{key:"drawHorizontalBoxPaths",value:function(y){var k=y.indexes;y.x;var T=y.y,D=y.yDivision,_=y.barHeight,I=y.zeroW,H=y.strokeWidth,Z=this.w,j=new K(this.ctx),te=k.i,ce=k.j,ue=this.boxOptions.colors.lower;this.isBoxPlot&&(ue=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ge=this.invertedYRatio,be=k.realIndex,ke=this.getOHLCValue(be,ce),Be=I,z=I,ie=Math.min(ke.o,ke.c),de=Math.max(ke.o,ke.c),Se=ke.m;Z.globals.isXNumeric&&(T=(Z.globals.seriesX[be][ce]-Z.globals.minX)/this.invertedXRatio-_/2);var Ne=T+_*this.visibleI;this.series[te][ce]===void 0||this.series[te][ce]===null?(ie=I,de=I):(ie=I+ie/ge,de=I+de/ge,Be=I+ke.h/ge,z=I+ke.l/ge,Se=I+ke.m/ge);var Oe=j.move(I,Ne),ot=j.move(ie,Ne+_/2);return Z.globals.previousPaths.length>0&&(ot=this.getPreviousPath(be,ce,!0)),Oe=[j.move(ie,Ne)+j.line(ie,Ne+_/2)+j.line(Be,Ne+_/2)+j.line(Be,Ne+_/2-_/4)+j.line(Be,Ne+_/2+_/4)+j.line(Be,Ne+_/2)+j.line(ie,Ne+_/2)+j.line(ie,Ne+_)+j.line(Se,Ne+_)+j.line(Se,Ne)+j.line(ie+H/2,Ne),j.move(Se,Ne)+j.line(Se,Ne+_)+j.line(de,Ne+_)+j.line(de,Ne+_/2)+j.line(z,Ne+_/2)+j.line(z,Ne+_-_/4)+j.line(z,Ne+_/4)+j.line(z,Ne+_/2)+j.line(de,Ne+_/2)+j.line(de,Ne)+j.line(Se,Ne)+"z"],ot+=j.move(ie,Ne),Z.globals.isXNumeric||(T+=D),{pathTo:Oe,pathFrom:ot,x:de,y:T,barYPosition:Ne,color:ue}}},{key:"getOHLCValue",value:function(y,k){var T=this.w;return{o:this.isBoxPlot?T.globals.seriesCandleH[y][k]:T.globals.seriesCandleO[y][k],h:this.isBoxPlot?T.globals.seriesCandleO[y][k]:T.globals.seriesCandleH[y][k],m:T.globals.seriesCandleM[y][k],l:this.isBoxPlot?T.globals.seriesCandleC[y][k]:T.globals.seriesCandleL[y][k],c:this.isBoxPlot?T.globals.seriesCandleL[y][k]:T.globals.seriesCandleC[y][k]}}}]),g}(),Jo=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"checkColorRange",value:function(){var d=this.w,g=!1,y=d.config.plotOptions[d.config.chart.type];return y.colorScale.ranges.length>0&&y.colorScale.ranges.map(function(k,T){k.from<=0&&(g=!0)}),g}},{key:"getShadeColor",value:function(d,g,y,k){var T=this.w,D=1,_=T.config.plotOptions[d].shadeIntensity,I=this.determineColor(d,g,y);T.globals.hasNegs||k?D=T.config.plotOptions[d].reverseNegativeShade?I.percent<0?I.percent/100*(1.25*_):(1-I.percent/100)*(1.25*_):I.percent<=0?1-(1+I.percent/100)*_:(1-I.percent/100)*_:(D=1-I.percent/100,d==="treemap"&&(D=(1-I.percent/100)*(1.25*_)));var H=I.color,Z=new X;return T.config.plotOptions[d].enableShades&&(H=this.w.config.theme.mode==="dark"?X.hexToRgba(Z.shadeColor(-1*D,I.color),T.config.fill.opacity):X.hexToRgba(Z.shadeColor(D,I.color),T.config.fill.opacity)),{color:H,colorProps:I}}},{key:"determineColor",value:function(d,g,y){var k=this.w,T=k.globals.series[g][y],D=k.config.plotOptions[d],_=D.colorScale.inverse?y:g;D.distributed&&k.config.chart.type==="treemap"&&(_=y);var I=k.globals.colors[_],H=null,Z=Math.min.apply(Math,Y(k.globals.series[g])),j=Math.max.apply(Math,Y(k.globals.series[g]));D.distributed||d!=="heatmap"||(Z=k.globals.minY,j=k.globals.maxY),D.colorScale.min!==void 0&&(Z=D.colorScale.min<k.globals.minY?D.colorScale.min:k.globals.minY,j=D.colorScale.max>k.globals.maxY?D.colorScale.max:k.globals.maxY);var te=Math.abs(j)+Math.abs(Z),ce=100*T/(te===0?te-1e-6:te);return D.colorScale.ranges.length>0&&D.colorScale.ranges.map(function(ue,ge){if(T>=ue.from&&T<=ue.to){I=ue.color,H=ue.foreColor?ue.foreColor:null,Z=ue.from,j=ue.to;var be=Math.abs(j)+Math.abs(Z);ce=100*T/(be===0?be-1e-6:be)}}),{color:I,foreColor:H,percent:ce}}},{key:"calculateDataLabels",value:function(d){var g=d.text,y=d.x,k=d.y,T=d.i,D=d.j,_=d.colorProps,I=d.fontSize,H=this.w.config.dataLabels,Z=new K(this.ctx),j=new Ae(this.ctx),te=null;if(H.enabled){te=Z.group({class:"apexcharts-data-labels"});var ce=H.offsetX,ue=H.offsetY,ge=y+ce,be=k+parseFloat(H.style.fontSize)/3+ue;j.plotDataLabelsText({x:ge,y:be,text:g,i:T,j:D,color:_.foreColor,parent:te,fontSize:I,dataLabelsConfig:H})}return te}},{key:"addListeners",value:function(d){var g=new K(this.ctx);d.node.addEventListener("mouseenter",g.pathMouseEnter.bind(this,d)),d.node.addEventListener("mouseleave",g.pathMouseLeave.bind(this,d)),d.node.addEventListener("mousedown",g.pathMouseDown.bind(this,d))}}]),me}(),Sa=function(){function me(d,g){f(this,me),this.ctx=d,this.w=d.w,this.xRatio=g.xRatio,this.yRatio=g.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Jo(d),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return x(me,[{key:"draw",value:function(d){var g=this.w,y=new K(this.ctx),k=y.group({class:"apexcharts-heatmap"});k.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")"));var T=g.globals.gridWidth/g.globals.dataPoints,D=g.globals.gridHeight/g.globals.series.length,_=0,I=!1;this.negRange=this.helpers.checkColorRange();var H=d.slice();g.config.yaxis[0].reversed&&(I=!0,H.reverse());for(var Z=I?0:H.length-1;I?Z<H.length:Z>=0;I?Z++:Z--){var j=y.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:X.escapeString(g.globals.seriesNames[Z]),rel:Z+1,"data:realIndex":Z});if(this.ctx.series.addCollapsedClassToSeries(j,Z),g.config.chart.dropShadow.enabled){var te=g.config.chart.dropShadow;new he(this.ctx).dropShadow(j,te,Z)}for(var ce=0,ue=g.config.plotOptions.heatmap.shadeIntensity,ge=0;ge<H[Z].length;ge++){var be=this.helpers.getShadeColor(g.config.chart.type,Z,ge,this.negRange),ke=be.color,Be=be.colorProps;g.config.fill.type==="image"&&(ke=new Ie(this.ctx).fillPath({seriesNumber:Z,dataPointIndex:ge,opacity:g.globals.hasNegs?Be.percent<0?1-(1+Be.percent/100):ue+Be.percent/100:Be.percent/100,patternID:X.randomId(),width:g.config.fill.image.width?g.config.fill.image.width:T,height:g.config.fill.image.height?g.config.fill.image.height:D}));var z=this.rectRadius,ie=y.drawRect(ce,_,T,D,z);if(ie.attr({cx:ce,cy:_}),ie.node.classList.add("apexcharts-heatmap-rect"),j.add(ie),ie.attr({fill:ke,i:Z,index:Z,j:ge,val:H[Z][ge],"stroke-width":this.strokeWidth,stroke:g.config.plotOptions.heatmap.useFillColorAsStroke?ke:g.globals.stroke.colors[0],color:ke}),this.helpers.addListeners(ie),g.config.chart.animations.enabled&&!g.globals.dataChanged){var de=1;g.globals.resized||(de=g.config.chart.animations.speed),this.animateHeatMap(ie,ce,_,T,D,de)}if(g.globals.dataChanged){var Se=1;if(this.dynamicAnim.enabled&&g.globals.shouldAnimate){Se=this.dynamicAnim.speed;var Ne=g.globals.previousPaths[Z]&&g.globals.previousPaths[Z][ge]&&g.globals.previousPaths[Z][ge].color;Ne||(Ne="rgba(255, 255, 255, 0)"),this.animateHeatColor(ie,X.isColorHex(Ne)?Ne:X.rgb2hex(Ne),X.isColorHex(ke)?ke:X.rgb2hex(ke),Se)}}var Oe=(0,g.config.dataLabels.formatter)(g.globals.series[Z][ge],{value:g.globals.series[Z][ge],seriesIndex:Z,dataPointIndex:ge,w:g}),ot=this.helpers.calculateDataLabels({text:Oe,x:ce+T/2,y:_+D/2,i:Z,j:ge,colorProps:Be,series:H});ot!==null&&j.add(ot),ce+=T}_+=D,k.add(j)}var nt=g.globals.yAxisScale[0].result.slice();g.config.yaxis[0].reversed?nt.unshift(""):nt.push(""),g.globals.yAxisScale[0].result=nt;var Dt=g.globals.gridHeight/g.globals.series.length;return g.config.yaxis[0].labels.offsetY=-Dt/2,k}},{key:"animateHeatMap",value:function(d,g,y,k,T,D){var _=new W(this.ctx);_.animateRect(d,{x:g+k/2,y:y+T/2,width:0,height:0},{x:g,y,width:k,height:T},D,function(){_.animationCompleted(d)})}},{key:"animateHeatColor",value:function(d,g,y,k){d.attr({fill:g}).animate(k).attr({fill:y})}}]),me}(),Ll=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"drawYAxisTexts",value:function(d,g,y,k){var T=this.w,D=T.config.yaxis[0],_=T.globals.yLabelFormatters[0];return new K(this.ctx).drawText({x:d+D.labels.offsetX,y:g+D.labels.offsetY,text:_(k,y),textAnchor:"middle",fontSize:D.labels.style.fontSize,fontFamily:D.labels.style.fontFamily,foreColor:Array.isArray(D.labels.style.colors)?D.labels.style.colors[y]:D.labels.style.colors})}}]),me}(),Il=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w;var g=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=g.globals.stroke.colors!==void 0?g.globals.stroke.colors:g.globals.colors,this.defaultSize=Math.min(g.globals.gridWidth,g.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=g.globals.gridWidth/2,g.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(g.config.plotOptions.pie.endAngle-g.config.plotOptions.pie.startAngle),this.initialAngle=g.config.plotOptions.pie.startAngle%this.fullAngle,g.globals.radialSize=this.defaultSize/2.05-g.config.stroke.width-(g.config.chart.sparkline.enabled?0:g.config.chart.dropShadow.blur),this.donutSize=g.globals.radialSize*parseInt(g.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return x(me,[{key:"draw",value:function(d){var g=this,y=this.w,k=new K(this.ctx);if(this.ret=k.group({class:"apexcharts-pie"}),y.globals.noData)return this.ret;for(var T=0,D=0;D<d.length;D++)T+=X.negToZero(d[D]);var _=[],I=k.group();T===0&&(T=1e-5),d.forEach(function(Ne){g.maxY=Math.max(g.maxY,Ne)}),y.config.yaxis[0].max&&(this.maxY=y.config.yaxis[0].max),y.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var H=0;H<d.length;H++){var Z=this.fullAngle*X.negToZero(d[H])/T;_.push(Z),this.chartType==="polarArea"?(_[H]=this.fullAngle/d.length,this.sliceSizes.push(y.globals.radialSize*d[H]/this.maxY)):this.sliceSizes.push(y.globals.radialSize)}if(y.globals.dataChanged){for(var j,te=0,ce=0;ce<y.globals.previousPaths.length;ce++)te+=X.negToZero(y.globals.previousPaths[ce]);for(var ue=0;ue<y.globals.previousPaths.length;ue++)j=this.fullAngle*X.negToZero(y.globals.previousPaths[ue])/te,this.prevSectorAngleArr.push(j)}this.donutSize<0&&(this.donutSize=0);var ge=y.config.plotOptions.pie.customScale,be=y.globals.gridWidth/2,ke=y.globals.gridHeight/2,Be=be-y.globals.gridWidth/2*ge,z=ke-y.globals.gridHeight/2*ge;if(this.chartType==="donut"){var ie=k.drawCircle(this.donutSize);ie.attr({cx:this.centerX,cy:this.centerY,fill:y.config.plotOptions.pie.donut.background?y.config.plotOptions.pie.donut.background:"transparent"}),I.add(ie)}var de=this.drawArcs(_,d);if(this.sliceLabels.forEach(function(Ne){de.add(Ne)}),I.attr({transform:"translate(".concat(Be,", ").concat(z,") scale(").concat(ge,")")}),I.add(de),this.ret.add(I),this.donutDataLabels.show){var Se=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Be,translateY:z});this.ret.add(Se)}return y.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(d,g){var y=this.w,k=new he(this.ctx),T=new K(this.ctx),D=new Ie(this.ctx),_=T.group({class:"apexcharts-slices"}),I=this.initialAngle,H=this.initialAngle,Z=this.initialAngle,j=this.initialAngle;this.strokeWidth=y.config.stroke.show?y.config.stroke.width:0;for(var te=0;te<d.length;te++){var ce=T.group({class:"apexcharts-series apexcharts-pie-series",seriesName:X.escapeString(y.globals.seriesNames[te]),rel:te+1,"data:realIndex":te});_.add(ce),H=j,Z=(I=Z)+d[te],j=H+this.prevSectorAngleArr[te];var ue=Z<I?this.fullAngle+Z-I:Z-I,ge=D.fillPath({seriesNumber:te,size:this.sliceSizes[te],value:g[te]}),be=this.getChangedPath(H,j),ke=T.drawPath({d:be,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[te]:this.lineColorArr,strokeWidth:0,fill:ge,fillOpacity:y.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(te)});if(ke.attr({index:0,j:te}),k.setSelectionFilter(ke,0,te),y.config.chart.dropShadow.enabled){var Be=y.config.chart.dropShadow;k.dropShadow(ke,Be,te)}this.addListeners(ke,this.donutDataLabels),K.setAttrs(ke.node,{"data:angle":ue,"data:startAngle":I,"data:strokeWidth":this.strokeWidth,"data:value":g[te]});var z={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?z=X.polarToCartesian(this.centerX,this.centerY,y.globals.radialSize/1.25+y.config.plotOptions.pie.dataLabels.offset,(I+ue/2)%this.fullAngle):this.chartType==="donut"&&(z=X.polarToCartesian(this.centerX,this.centerY,(y.globals.radialSize+this.donutSize)/2+y.config.plotOptions.pie.dataLabels.offset,(I+ue/2)%this.fullAngle)),ce.add(ke);var ie=0;if(!this.initialAnim||y.globals.resized||y.globals.dataChanged?this.animBeginArr.push(0):((ie=ue/this.fullAngle*y.config.chart.animations.speed)===0&&(ie=1),this.animDur=ie+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&y.globals.dataChanged?this.animatePaths(ke,{size:this.sliceSizes[te],endAngle:Z,startAngle:I,prevStartAngle:H,prevEndAngle:j,animateStartingPos:!0,i:te,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:y.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(ke,{size:this.sliceSizes[te],endAngle:Z,startAngle:I,i:te,totalItems:d.length-1,animBeginArr:this.animBeginArr,dur:ie}),y.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&ke.click(this.pieClicked.bind(this,te)),y.globals.selectedDataPoints[0]!==void 0&&y.globals.selectedDataPoints[0].indexOf(te)>-1&&this.pieClicked(te),y.config.dataLabels.enabled){var de=z.x,Se=z.y,Ne=100*ue/this.fullAngle+"%";if(ue!==0&&y.config.plotOptions.pie.dataLabels.minAngleToShowLabel<d[te]){var Oe=y.config.dataLabels.formatter;Oe!==void 0&&(Ne=Oe(y.globals.seriesPercent[te][0],{seriesIndex:te,w:y}));var ot=y.globals.dataLabels.style.colors[te],nt=T.group({class:"apexcharts-datalabels"}),Dt=T.drawText({x:de,y:Se,text:Ne,textAnchor:"middle",fontSize:y.config.dataLabels.style.fontSize,fontFamily:y.config.dataLabels.style.fontFamily,fontWeight:y.config.dataLabels.style.fontWeight,foreColor:ot});if(nt.add(Dt),y.config.dataLabels.dropShadow.enabled){var It=y.config.dataLabels.dropShadow;k.dropShadow(Dt,It)}Dt.node.classList.add("apexcharts-pie-label"),y.config.chart.animations.animate&&y.globals.resized===!1&&(Dt.node.classList.add("apexcharts-pie-label-delay"),Dt.node.style.animationDelay=y.config.chart.animations.speed/940+"s"),this.sliceLabels.push(nt)}}}return _}},{key:"addListeners",value:function(d,g){var y=new K(this.ctx);d.node.addEventListener("mouseenter",y.pathMouseEnter.bind(this,d)),d.node.addEventListener("mouseleave",y.pathMouseLeave.bind(this,d)),d.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,d.node,g)),d.node.addEventListener("mousedown",y.pathMouseDown.bind(this,d)),this.donutDataLabels.total.showAlways||(d.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,d.node,g)),d.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,d.node,g)))}},{key:"animatePaths",value:function(d,g){var y=this.w,k=g.endAngle<g.startAngle?this.fullAngle+g.endAngle-g.startAngle:g.endAngle-g.startAngle,T=k,D=g.startAngle,_=g.startAngle;g.prevStartAngle!==void 0&&g.prevEndAngle!==void 0&&(D=g.prevEndAngle,T=g.prevEndAngle<g.prevStartAngle?this.fullAngle+g.prevEndAngle-g.prevStartAngle:g.prevEndAngle-g.prevStartAngle),g.i===y.config.series.length-1&&(k+_>this.fullAngle?g.endAngle=g.endAngle-(k+_):k+_<this.fullAngle&&(g.endAngle=g.endAngle+(this.fullAngle-(k+_)))),k===this.fullAngle&&(k=this.fullAngle-.01),this.animateArc(d,D,_,k,T,g)}},{key:"animateArc",value:function(d,g,y,k,T,D){var _,I=this,H=this.w,Z=new W(this.ctx),j=D.size;(isNaN(g)||isNaN(T))&&(g=y,T=k,D.dur=0);var te=k,ce=y,ue=g<y?this.fullAngle+g-y:g-y;H.globals.dataChanged&&D.shouldSetPrevPaths&&D.prevEndAngle&&(_=I.getPiePath({me:I,startAngle:D.prevStartAngle,angle:D.prevEndAngle<D.prevStartAngle?this.fullAngle+D.prevEndAngle-D.prevStartAngle:D.prevEndAngle-D.prevStartAngle,size:j}),d.attr({d:_})),D.dur!==0?d.animate(D.dur,H.globals.easing,D.animBeginArr[D.i]).afterAll(function(){I.chartType!=="pie"&&I.chartType!=="donut"&&I.chartType!=="polarArea"||this.animate(H.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":I.strokeWidth}),D.i===H.config.series.length-1&&Z.animationCompleted(d)}).during(function(ge){te=ue+(k-ue)*ge,D.animateStartingPos&&(te=T+(k-T)*ge,ce=g-T+(y-(g-T))*ge),_=I.getPiePath({me:I,startAngle:ce,angle:te,size:j}),d.node.setAttribute("data:pathOrig",_),d.attr({d:_})}):(_=I.getPiePath({me:I,startAngle:ce,angle:k,size:j}),D.isTrack||(H.globals.animationEnded=!0),d.node.setAttribute("data:pathOrig",_),d.attr({d:_,"stroke-width":I.strokeWidth}))}},{key:"pieClicked",value:function(d){var g,y=this.w,k=this,T=k.sliceSizes[d]+(y.config.plotOptions.pie.expandOnClick?4:0),D=y.globals.dom.Paper.select(".apexcharts-".concat(k.chartType.toLowerCase(),"-slice-").concat(d)).members[0];if(D.attr("data:pieClicked")!=="true"){var _=y.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(_,function(j){j.setAttribute("data:pieClicked","false");var te=j.getAttribute("data:pathOrig");te&&j.setAttribute("d",te)}),D.attr("data:pieClicked","true");var I=parseInt(D.attr("data:startAngle"),10),H=parseInt(D.attr("data:angle"),10);g=k.getPiePath({me:k,startAngle:I,angle:H,size:T}),H!==360&&D.plot(g)}else{D.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(D.node,this.donutDataLabels);var Z=D.attr("data:pathOrig");D.attr({d:Z})}}},{key:"getChangedPath",value:function(d,g){var y="";return this.dynamicAnim&&this.w.globals.dataChanged&&(y=this.getPiePath({me:this,startAngle:d,angle:g-d,size:this.size})),y}},{key:"getPiePath",value:function(d){var g=d.me,y=d.startAngle,k=d.angle,T=d.size,D=y,_=Math.PI*(D-90)/180,I=k+y;Math.ceil(I)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(I=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(I)>this.fullAngle&&(I-=this.fullAngle);var H=Math.PI*(I-90)/180,Z=g.centerX+T*Math.cos(_),j=g.centerY+T*Math.sin(_),te=g.centerX+T*Math.cos(H),ce=g.centerY+T*Math.sin(H),ue=X.polarToCartesian(g.centerX,g.centerY,g.donutSize,I),ge=X.polarToCartesian(g.centerX,g.centerY,g.donutSize,D),be=k>180?1:0,ke=["M",Z,j,"A",T,T,0,be,1,te,ce];return g.chartType==="donut"?[].concat(ke,["L",ue.x,ue.y,"A",g.donutSize,g.donutSize,0,be,0,ge.x,ge.y,"L",Z,j,"z"]).join(" "):g.chartType==="pie"||g.chartType==="polarArea"?[].concat(ke,["L",g.centerX,g.centerY,"L",Z,j]).join(" "):[].concat(ke).join(" ")}},{key:"drawPolarElements",value:function(d){var g=this.w,y=new ve(this.ctx),k=new K(this.ctx),T=new Ll(this.ctx),D=k.group(),_=k.group(),I=y.niceScale(0,Math.ceil(this.maxY),g.config.yaxis[0].tickAmount,0,!0),H=I.result.reverse(),Z=I.result.length;this.maxY=I.niceMax;for(var j=g.globals.radialSize,te=j/(Z-1),ce=0;ce<Z-1;ce++){var ue=k.drawCircle(j);if(ue.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":g.config.plotOptions.polarArea.rings.strokeWidth,stroke:g.config.plotOptions.polarArea.rings.strokeColor}),g.config.yaxis[0].show){var ge=T.drawYAxisTexts(this.centerX,this.centerY-j+parseInt(g.config.yaxis[0].labels.style.fontSize,10)/2,ce,H[ce]);_.add(ge)}D.add(ue),j-=te}this.drawSpokes(d),d.add(D),d.add(_)}},{key:"renderInnerDataLabels",value:function(d,g){var y=this.w,k=new K(this.ctx),T=k.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(g.translateX?g.translateX:0,", ").concat(g.translateY?g.translateY:0,") scale(").concat(y.config.plotOptions.pie.customScale,")")}),D=d.total.show;T.node.style.opacity=g.opacity;var _,I,H=g.centerX,Z=g.centerY;_=d.name.color===void 0?y.globals.colors[0]:d.name.color;var j=d.name.fontSize,te=d.name.fontFamily,ce=d.name.fontWeight;I=d.value.color===void 0?y.config.chart.foreColor:d.value.color;var ue=d.value.formatter,ge="",be="";if(D?(_=d.total.color,j=d.total.fontSize,te=d.total.fontFamily,ce=d.total.fontWeight,be=d.total.label,ge=d.total.formatter(y)):y.globals.series.length===1&&(ge=ue(y.globals.series[0],y),be=y.globals.seriesNames[0]),be&&(be=d.name.formatter(be,d.total.show,y)),d.name.show){var ke=k.drawText({x:H,y:Z+parseFloat(d.name.offsetY),text:be,textAnchor:"middle",foreColor:_,fontSize:j,fontWeight:ce,fontFamily:te});ke.node.classList.add("apexcharts-datalabel-label"),T.add(ke)}if(d.value.show){var Be=d.name.show?parseFloat(d.value.offsetY)+16:d.value.offsetY,z=k.drawText({x:H,y:Z+Be,text:ge,textAnchor:"middle",foreColor:I,fontWeight:d.value.fontWeight,fontSize:d.value.fontSize,fontFamily:d.value.fontFamily});z.node.classList.add("apexcharts-datalabel-value"),T.add(z)}return T}},{key:"printInnerLabels",value:function(d,g,y,k){var T,D=this.w;k?T=d.name.color===void 0?D.globals.colors[parseInt(k.parentNode.getAttribute("rel"),10)-1]:d.name.color:D.globals.series.length>1&&d.total.show&&(T=d.total.color);var _=D.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),I=D.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");y=(0,d.value.formatter)(y,D),k||typeof d.total.formatter!="function"||(y=d.total.formatter(D));var H=g===d.total.label;g=d.name.formatter(g,H,D),_!==null&&(_.textContent=g),I!==null&&(I.textContent=y),_!==null&&(_.style.fill=T)}},{key:"printDataLabelsInner",value:function(d,g){var y=this.w,k=d.getAttribute("data:value"),T=y.globals.seriesNames[parseInt(d.parentNode.getAttribute("rel"),10)-1];y.globals.series.length>1&&this.printInnerLabels(g,T,k,d);var D=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");D!==null&&(D.style.opacity=1)}},{key:"drawSpokes",value:function(d){var g=this,y=this.w,k=new K(this.ctx),T=y.config.plotOptions.polarArea.spokes;if(T.strokeWidth!==0){for(var D=[],_=360/y.globals.series.length,I=0;I<y.globals.series.length;I++)D.push(X.polarToCartesian(this.centerX,this.centerY,y.globals.radialSize,y.config.plotOptions.pie.startAngle+_*I));D.forEach(function(H,Z){var j=k.drawLine(H.x,H.y,g.centerX,g.centerY,Array.isArray(T.connectorColors)?T.connectorColors[Z]:T.connectorColors);d.add(j)})}}},{key:"revertDataLabelsInner",value:function(d,g,y){var k=this,T=this.w,D=T.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),_=!1,I=T.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),H=function(te){var ce=te.makeSliceOut,ue=te.printLabel;Array.prototype.forEach.call(I,function(ge){ge.getAttribute("data:pieClicked")==="true"&&(ce&&(_=!0),ue&&k.printDataLabelsInner(ge,g))})};if(H({makeSliceOut:!0,printLabel:!1}),g.total.show&&T.globals.series.length>1)_&&!g.total.showAlways?H({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(g,g.total.label,g.total.formatter(T));else if(H({makeSliceOut:!1,printLabel:!0}),!_)if(T.globals.selectedDataPoints.length&&T.globals.series.length>1)if(T.globals.selectedDataPoints[0].length>0){var Z=T.globals.selectedDataPoints[0],j=T.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(Z));this.printDataLabelsInner(j,g)}else D&&T.globals.selectedDataPoints.length&&T.globals.selectedDataPoints[0].length===0&&(D.style.opacity=0);else D&&T.globals.series.length>1&&(D.style.opacity=0)}}]),me}(),qc=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var g=this.w;this.graphics=new K(this.ctx),this.lineColorArr=g.globals.stroke.colors!==void 0?g.globals.stroke.colors:g.globals.colors,this.defaultSize=g.globals.svgHeight<g.globals.svgWidth?g.globals.gridHeight+1.5*g.globals.goldenPadding:g.globals.gridWidth,this.isLog=g.config.yaxis[0].logarithmic,this.coreUtils=new le(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(g.globals.maxY,0):g.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):g.globals.minY,this.polygons=g.config.plotOptions.radar.polygons,this.strokeWidth=g.config.stroke.show?g.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-g.config.chart.dropShadow.blur,g.config.xaxis.labels.show&&(this.size=this.size-g.globals.xAxisLabelsWidth/1.75),g.config.plotOptions.radar.size!==void 0&&(this.size=g.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return x(me,[{key:"draw",value:function(d){var g=this,y=this.w,k=new Ie(this.ctx),T=[],D=new Ae(this.ctx);d.length&&(this.dataPointsLen=d[y.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var _=y.globals.gridWidth/2,I=y.globals.gridHeight/2,H=_+y.config.plotOptions.radar.offsetX,Z=I+y.config.plotOptions.radar.offsetY,j=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(H||0,", ").concat(Z||0,")")}),te=[],ce=null,ue=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),d.forEach(function(be,ke){var Be=be.length===y.globals.dataPoints,z=g.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Be,seriesName:X.escapeString(y.globals.seriesNames[ke]),rel:ke+1,"data:realIndex":ke});g.dataRadiusOfPercent[ke]=[],g.dataRadius[ke]=[],g.angleArr[ke]=[],be.forEach(function(qt,ti){var Et=Math.abs(g.maxValue-g.minValue);qt+=Math.abs(g.minValue),g.isLog&&(qt=g.coreUtils.getLogVal(qt,0)),g.dataRadiusOfPercent[ke][ti]=qt/Et,g.dataRadius[ke][ti]=g.dataRadiusOfPercent[ke][ti]*g.size,g.angleArr[ke][ti]=ti*g.disAngle}),te=g.getDataPointsPos(g.dataRadius[ke],g.angleArr[ke]);var ie=g.createPaths(te,{x:0,y:0});ce=g.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),ue=g.graphics.group({class:"apexcharts-datalabels","data:realIndex":ke}),y.globals.delayedElements.push({el:ce.node,index:ke});var de={i:ke,realIndex:ke,animationDelay:ke,initialSpeed:y.config.chart.animations.speed,dataChangeSpeed:y.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:y.globals.stroke.colors[ke],strokeLineCap:y.config.stroke.lineCap},Se=null;y.globals.previousPaths.length>0&&(Se=g.getPreviousPath(ke));for(var Ne=0;Ne<ie.linePathsTo.length;Ne++){var Oe=g.graphics.renderPaths(l(l({},de),{},{pathFrom:Se===null?ie.linePathsFrom[Ne]:Se,pathTo:ie.linePathsTo[Ne],strokeWidth:Array.isArray(g.strokeWidth)?g.strokeWidth[ke]:g.strokeWidth,fill:"none",drawShadow:!1}));z.add(Oe);var ot=k.fillPath({seriesNumber:ke}),nt=g.graphics.renderPaths(l(l({},de),{},{pathFrom:Se===null?ie.areaPathsFrom[Ne]:Se,pathTo:ie.areaPathsTo[Ne],strokeWidth:0,fill:ot,drawShadow:!1}));if(y.config.chart.dropShadow.enabled){var Dt=new he(g.ctx),It=y.config.chart.dropShadow;Dt.dropShadow(nt,Object.assign({},It,{noUserSpaceOnUse:!0}),ke)}z.add(nt)}be.forEach(function(qt,ti){var Et=new qe(g.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:ke,dataPointIndex:ti}),Qi=g.graphics.drawMarker(te[ti].x,te[ti].y,Et);Qi.attr("rel",ti),Qi.attr("j",ti),Qi.attr("index",ke),Qi.node.setAttribute("default-marker-size",Et.pSize);var Zt=g.graphics.group({class:"apexcharts-series-markers"});Zt&&Zt.add(Qi),ce.add(Zt),z.add(ce);var cn=y.config.dataLabels;if(cn.enabled){var Ct=cn.formatter(y.globals.series[ke][ti],{seriesIndex:ke,dataPointIndex:ti,w:y});D.plotDataLabelsText({x:te[ti].x,y:te[ti].y,text:Ct,textAnchor:"middle",i:ke,j:ke,parent:ue,offsetCorrection:!1,dataLabelsConfig:l({},cn)})}z.add(ue)}),T.push(z)}),this.drawPolygons({parent:j}),y.config.xaxis.labels.show){var ge=this.drawXAxisTexts();j.add(ge)}return T.forEach(function(be){j.add(be)}),j.add(this.yaxisLabels),j}},{key:"drawPolygons",value:function(d){for(var g=this,y=this.w,k=d.parent,T=new Ll(this.ctx),D=y.globals.yAxisScale[0].result.reverse(),_=D.length,I=[],H=this.size/(_-1),Z=0;Z<_;Z++)I[Z]=H*Z;I.reverse();var j=[],te=[];I.forEach(function(ce,ue){var ge=X.getPolygonPos(ce,g.dataPointsLen),be="";ge.forEach(function(ke,Be){if(ue===0){var z=g.graphics.drawLine(ke.x,ke.y,0,0,Array.isArray(g.polygons.connectorColors)?g.polygons.connectorColors[Be]:g.polygons.connectorColors);te.push(z)}Be===0&&g.yaxisLabelsTextsPos.push({x:ke.x,y:ke.y}),be+=ke.x+","+ke.y+" "}),j.push(be)}),j.forEach(function(ce,ue){var ge=g.polygons.strokeColors,be=g.polygons.strokeWidth,ke=g.graphics.drawPolygon(ce,Array.isArray(ge)?ge[ue]:ge,Array.isArray(be)?be[ue]:be,y.globals.radarPolygons.fill.colors[ue]);k.add(ke)}),te.forEach(function(ce){k.add(ce)}),y.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(ce,ue){var ge=T.drawYAxisTexts(ce.x,ce.y,ue,D[ue]);g.yaxisLabels.add(ge)})}},{key:"drawXAxisTexts",value:function(){var d=this,g=this.w,y=g.config.xaxis.labels,k=this.graphics.group({class:"apexcharts-xaxis"}),T=X.getPolygonPos(this.size,this.dataPointsLen);return g.globals.labels.forEach(function(D,_){var I=g.config.xaxis.labels.formatter,H=new Ae(d.ctx);if(T[_]){var Z=d.getTextPos(T[_],d.size),j=I(D,{seriesIndex:-1,dataPointIndex:_,w:g});H.plotDataLabelsText({x:Z.newX,y:Z.newY,text:j,textAnchor:Z.textAnchor,i:_,j:_,parent:k,color:Array.isArray(y.style.colors)&&y.style.colors[_]?y.style.colors[_]:"#a8a8a8",dataLabelsConfig:l({textAnchor:Z.textAnchor,dropShadow:{enabled:!1}},y),offsetCorrection:!1})}}),k}},{key:"createPaths",value:function(d,g){var y=this,k=[],T=[],D=[],_=[];if(d.length){T=[this.graphics.move(g.x,g.y)],_=[this.graphics.move(g.x,g.y)];var I=this.graphics.move(d[0].x,d[0].y),H=this.graphics.move(d[0].x,d[0].y);d.forEach(function(Z,j){I+=y.graphics.line(Z.x,Z.y),H+=y.graphics.line(Z.x,Z.y),j===d.length-1&&(I+="Z",H+="Z")}),k.push(I),D.push(H)}return{linePathsFrom:T,linePathsTo:k,areaPathsFrom:_,areaPathsTo:D}}},{key:"getTextPos",value:function(d,g){var y="middle",k=d.x,T=d.y;return Math.abs(d.x)>=10?d.x>0?(y="start",k+=10):d.x<0&&(y="end",k-=10):y="middle",Math.abs(d.y)>=g-10&&(d.y<0?T-=10:d.y>0&&(T+=10)),{textAnchor:y,newX:k,newY:T}}},{key:"getPreviousPath",value:function(d){for(var g=this.w,y=null,k=0;k<g.globals.previousPaths.length;k++){var T=g.globals.previousPaths[k];T.paths.length>0&&parseInt(T.realIndex,10)===parseInt(d,10)&&g.globals.previousPaths[k].paths[0]!==void 0&&(y=g.globals.previousPaths[k].paths[0].d)}return y}},{key:"getDataPointsPos",value:function(d,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;d=d||[],g=g||[];for(var k=[],T=0;T<y;T++){var D={};D.x=d[T]*Math.sin(g[T]),D.y=-d[T]*Math.cos(g[T]),k.push(D)}return k}}]),me}(),oi=function(me){P(g,Il);var d=B(g);function g(y){var k;f(this,g),(k=d.call(this,y)).ctx=y,k.w=y.w,k.animBeginArr=[0],k.animDur=0;var T=k.w;return k.startAngle=T.config.plotOptions.radialBar.startAngle,k.endAngle=T.config.plotOptions.radialBar.endAngle,k.totalAngle=Math.abs(T.config.plotOptions.radialBar.endAngle-T.config.plotOptions.radialBar.startAngle),k.trackStartAngle=T.config.plotOptions.radialBar.track.startAngle,k.trackEndAngle=T.config.plotOptions.radialBar.track.endAngle,k.donutDataLabels=k.w.config.plotOptions.radialBar.dataLabels,k.radialDataLabels=k.donutDataLabels,k.trackStartAngle||(k.trackStartAngle=k.startAngle),k.trackEndAngle||(k.trackEndAngle=k.endAngle),k.endAngle===360&&(k.endAngle=359.99),k.margin=parseInt(T.config.plotOptions.radialBar.track.margin,10),k}return x(g,[{key:"draw",value:function(y){var k=this.w,T=new K(this.ctx),D=T.group({class:"apexcharts-radialbar"});if(k.globals.noData)return D;var _=T.group(),I=this.defaultSize/2,H=k.globals.gridWidth/2,Z=this.defaultSize/2.05;k.config.chart.sparkline.enabled||(Z=Z-k.config.stroke.width-k.config.chart.dropShadow.blur);var j=k.globals.fill.colors;if(k.config.plotOptions.radialBar.track.show){var te=this.drawTracks({size:Z,centerX:H,centerY:I,colorArr:j,series:y});_.add(te)}var ce=this.drawArcs({size:Z,centerX:H,centerY:I,colorArr:j,series:y}),ue=360;k.config.plotOptions.radialBar.startAngle<0&&(ue=this.totalAngle);var ge=(360-ue)/360;if(k.globals.radialSize=Z-Z*ge,this.radialDataLabels.value.show){var be=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);k.globals.radialSize+=be*ge}return _.add(ce.g),k.config.plotOptions.radialBar.hollow.position==="front"&&(ce.g.add(ce.elHollow),ce.dataLabels&&ce.g.add(ce.dataLabels)),D.add(_),D}},{key:"drawTracks",value:function(y){var k=this.w,T=new K(this.ctx),D=T.group({class:"apexcharts-tracks"}),_=new he(this.ctx),I=new Ie(this.ctx),H=this.getStrokeWidth(y);y.size=y.size-H/2;for(var Z=0;Z<y.series.length;Z++){var j=T.group({class:"apexcharts-radialbar-track apexcharts-track"});D.add(j),j.attr({rel:Z+1}),y.size=y.size-H-this.margin;var te=k.config.plotOptions.radialBar.track,ce=I.fillPath({seriesNumber:0,size:y.size,fillColors:Array.isArray(te.background)?te.background[Z]:te.background,solid:!0}),ue=this.trackStartAngle,ge=this.trackEndAngle;Math.abs(ge)+Math.abs(ue)>=360&&(ge=360-Math.abs(this.startAngle)-.1);var be=T.drawPath({d:"",stroke:ce,strokeWidth:H*parseInt(te.strokeWidth,10)/100,fill:"none",strokeOpacity:te.opacity,classes:"apexcharts-radialbar-area"});if(te.dropShadow.enabled){var ke=te.dropShadow;_.dropShadow(be,ke)}j.add(be),be.attr("id","apexcharts-radialbarTrack-"+Z),this.animatePaths(be,{centerX:y.centerX,centerY:y.centerY,endAngle:ge,startAngle:ue,size:y.size,i:Z,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:k.globals.easing})}return D}},{key:"drawArcs",value:function(y){var k=this.w,T=new K(this.ctx),D=new Ie(this.ctx),_=new he(this.ctx),I=T.group(),H=this.getStrokeWidth(y);y.size=y.size-H/2;var Z=k.config.plotOptions.radialBar.hollow.background,j=y.size-H*y.series.length-this.margin*y.series.length-H*parseInt(k.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,te=j-k.config.plotOptions.radialBar.hollow.margin;k.config.plotOptions.radialBar.hollow.image!==void 0&&(Z=this.drawHollowImage(y,I,j,Z));var ce=this.drawHollow({size:te,centerX:y.centerX,centerY:y.centerY,fill:Z||"transparent"});if(k.config.plotOptions.radialBar.hollow.dropShadow.enabled){var ue=k.config.plotOptions.radialBar.hollow.dropShadow;_.dropShadow(ce,ue)}var ge=1;!this.radialDataLabels.total.show&&k.globals.series.length>1&&(ge=0);var be=null;this.radialDataLabels.show&&(be=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:j,centerX:y.centerX,centerY:y.centerY,opacity:ge})),k.config.plotOptions.radialBar.hollow.position==="back"&&(I.add(ce),be&&I.add(be));var ke=!1;k.config.plotOptions.radialBar.inverseOrder&&(ke=!0);for(var Be=ke?y.series.length-1:0;ke?Be>=0:Be<y.series.length;ke?Be--:Be++){var z=T.group({class:"apexcharts-series apexcharts-radial-series",seriesName:X.escapeString(k.globals.seriesNames[Be])});I.add(z),z.attr({rel:Be+1,"data:realIndex":Be}),this.ctx.series.addCollapsedClassToSeries(z,Be),y.size=y.size-H-this.margin;var ie=D.fillPath({seriesNumber:Be,size:y.size,value:y.series[Be]}),de=this.startAngle,Se=void 0,Ne=X.negToZero(y.series[Be]>100?100:y.series[Be])/100,Oe=Math.round(this.totalAngle*Ne)+this.startAngle,ot=void 0;k.globals.dataChanged&&(Se=this.startAngle,ot=Math.round(this.totalAngle*X.negToZero(k.globals.previousPaths[Be])/100)+Se),Math.abs(Oe)+Math.abs(de)>=360&&(Oe-=.01),Math.abs(ot)+Math.abs(Se)>=360&&(ot-=.01);var nt=Oe-de,Dt=Array.isArray(k.config.stroke.dashArray)?k.config.stroke.dashArray[Be]:k.config.stroke.dashArray,It=T.drawPath({d:"",stroke:ie,strokeWidth:H,fill:"none",fillOpacity:k.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Be,strokeDashArray:Dt});if(K.setAttrs(It.node,{"data:angle":nt,"data:value":y.series[Be]}),k.config.chart.dropShadow.enabled){var qt=k.config.chart.dropShadow;_.dropShadow(It,qt,Be)}_.setSelectionFilter(It,0,Be),this.addListeners(It,this.radialDataLabels),z.add(It),It.attr({index:0,j:Be});var ti=0;!this.initialAnim||k.globals.resized||k.globals.dataChanged||(ti=k.config.chart.animations.speed),k.globals.dataChanged&&(ti=k.config.chart.animations.dynamicAnimation.speed),this.animDur=ti/(1.2*y.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(It,{centerX:y.centerX,centerY:y.centerY,endAngle:Oe,startAngle:de,prevEndAngle:ot,prevStartAngle:Se,size:y.size,i:Be,totalItems:2,animBeginArr:this.animBeginArr,dur:ti,shouldSetPrevPaths:!0,easing:k.globals.easing})}return{g:I,elHollow:ce,dataLabels:be}}},{key:"drawHollow",value:function(y){var k=new K(this.ctx).drawCircle(2*y.size);return k.attr({class:"apexcharts-radialbar-hollow",cx:y.centerX,cy:y.centerY,r:y.size,fill:y.fill}),k}},{key:"drawHollowImage",value:function(y,k,T,D){var _=this.w,I=new Ie(this.ctx),H=X.randomId(),Z=_.config.plotOptions.radialBar.hollow.image;if(_.config.plotOptions.radialBar.hollow.imageClipped)I.clippedImgArea({width:T,height:T,image:Z,patternID:"pattern".concat(_.globals.cuid).concat(H)}),D="url(#pattern".concat(_.globals.cuid).concat(H,")");else{var j=_.config.plotOptions.radialBar.hollow.imageWidth,te=_.config.plotOptions.radialBar.hollow.imageHeight;if(j===void 0&&te===void 0){var ce=_.globals.dom.Paper.image(Z).loaded(function(ge){this.move(y.centerX-ge.width/2+_.config.plotOptions.radialBar.hollow.imageOffsetX,y.centerY-ge.height/2+_.config.plotOptions.radialBar.hollow.imageOffsetY)});k.add(ce)}else{var ue=_.globals.dom.Paper.image(Z).loaded(function(ge){this.move(y.centerX-j/2+_.config.plotOptions.radialBar.hollow.imageOffsetX,y.centerY-te/2+_.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(j,te)});k.add(ue)}}return D}},{key:"getStrokeWidth",value:function(y){var k=this.w;return y.size*(100-parseInt(k.config.plotOptions.radialBar.hollow.size,10))/100/(y.series.length+1)-this.margin}}]),g}(),to=function(me){P(g,Ir);var d=B(g);function g(){return f(this,g),d.apply(this,arguments)}return x(g,[{key:"draw",value:function(y,k){var T=this.w,D=new K(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=y,this.seriesRangeStart=T.globals.seriesRangeStart,this.seriesRangeEnd=T.globals.seriesRangeEnd,this.barHelpers.initVariables(y);for(var _=D.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),I=0;I<y.length;I++){var H,Z,j,te=void 0,ce=void 0,ue=void 0,ge=T.globals.comboCharts?k[I]:I,be=D.group({class:"apexcharts-series",seriesName:X.escapeString(T.globals.seriesNames[ge]),rel:I+1,"data:realIndex":ge});this.ctx.series.addCollapsedClassToSeries(be,ge),y[I].length>0&&(this.visibleI=this.visibleI+1);var ke=0,Be=0;this.yRatio.length>1&&(this.yaxisIndex=ge);var z=this.barHelpers.initialPositions();ce=z.y,j=z.zeroW,te=z.x,Be=z.barWidth,H=z.xDivision,Z=z.zeroH;for(var ie=D.group({class:"apexcharts-datalabels","data:realIndex":ge}),de=D.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),Se=0;Se<T.globals.dataPoints;Se++){var Ne=this.barHelpers.getStrokeWidth(I,Se,ge),Oe=this.seriesRangeStart[I][Se],ot=this.seriesRangeEnd[I][Se],nt=null,Dt=null,It={x:te,y:ce,strokeWidth:Ne,elSeries:be};if(ue=z.yDivision,ke=z.barHeight,this.isHorizontal){Dt=ce+ke*this.visibleI;var qt=this.seriesLen;T.config.plotOptions.bar.rangeBarGroupRows&&(qt=1);var ti=(ue-ke*qt)/2;if(T.config.series[I].data[Se]===void 0)break;if(T.config.series[I].data[Se].x){var Et=this.detectOverlappingBars({i:I,j:Se,barYPosition:Dt,srty:ti,barHeight:ke,yDivision:ue,initPositions:z});ke=Et.barHeight,Dt=Et.barYPosition}Be=(nt=this.drawRangeBarPaths(l({indexes:{i:I,j:Se,realIndex:ge},barHeight:ke,barYPosition:Dt,zeroW:j,yDivision:ue,y1:Oe,y2:ot},It))).barWidth}else ke=(nt=this.drawRangeColumnPaths(l({indexes:{i:I,j:Se,realIndex:ge},zeroH:Z,barWidth:Be,xDivision:H},It))).barHeight;var Qi=this.barHelpers.drawGoalLine({barXPosition:nt.barXPosition,barYPosition:Dt,goalX:nt.goalX,goalY:nt.goalY,barHeight:ke,barWidth:Be});Qi&&de.add(Qi),ce=nt.y,te=nt.x;var Zt=this.barHelpers.getPathFillColor(y,I,Se,ge),cn=T.globals.stroke.colors[ge];this.renderSeries({realIndex:ge,pathFill:Zt,lineFill:cn,j:Se,i:I,x:te,y:ce,y1:Oe,y2:ot,pathFrom:nt.pathFrom,pathTo:nt.pathTo,strokeWidth:Ne,elSeries:be,series:y,barHeight:ke,barYPosition:Dt,barWidth:Be,elDataLabelsWrap:ie,elGoalsMarkers:de,visibleSeries:this.visibleI,type:"rangebar"})}_.add(be)}return _}},{key:"detectOverlappingBars",value:function(y){var k=y.i,T=y.j,D=y.barYPosition,_=y.srty,I=y.barHeight,H=y.yDivision,Z=y.initPositions,j=this.w,te=[],ce=j.config.series[k].data[T].rangeName,ue=j.config.series[k].data[T].x,ge=j.globals.labels.indexOf(ue),be=j.globals.seriesRange[k].findIndex(function(ke){return ke.x===ue&&ke.overlaps.length>0});return D=j.config.plotOptions.bar.rangeBarGroupRows?_+H*ge:_+I*this.visibleI+H*ge,be>-1&&!j.config.plotOptions.bar.rangeBarOverlap&&(te=j.globals.seriesRange[k][be].overlaps).indexOf(ce)>-1&&(D=(I=Z.barHeight/te.length)*this.visibleI+H*(100-parseInt(this.barOptions.barHeight,10))/100/2+I*(this.visibleI+te.indexOf(ce))+H*ge),{barYPosition:D,barHeight:I}}},{key:"drawRangeColumnPaths",value:function(y){var k=y.indexes,T=y.x;y.strokeWidth;var D=y.xDivision,_=y.barWidth,I=y.zeroH,H=this.w,Z=k.i,j=k.j,te=this.yRatio[this.yaxisIndex],ce=k.realIndex,ue=this.getRangeValue(ce,j),ge=Math.min(ue.start,ue.end),be=Math.max(ue.start,ue.end);H.globals.isXNumeric&&(T=(H.globals.seriesX[Z][j]-H.globals.minX)/this.xRatio-_/2);var ke=T+_*this.visibleI;this.series[Z][j]===void 0||this.series[Z][j]===null?ge=I:(ge=I-ge/te,be=I-be/te);var Be=Math.abs(be-ge),z=this.barHelpers.getColumnPaths({barXPosition:ke,barWidth:_,y1:ge,y2:be,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:k.realIndex,i:ce,j,w:H});return H.globals.isXNumeric||(T+=D),{pathTo:z.pathTo,pathFrom:z.pathFrom,barHeight:Be,x:T,y:be,goalY:this.barHelpers.getGoalValues("y",null,I,Z,j),barXPosition:ke}}},{key:"drawRangeBarPaths",value:function(y){var k=y.indexes,T=y.y,D=y.y1,_=y.y2,I=y.yDivision,H=y.barHeight,Z=y.barYPosition,j=y.zeroW,te=this.w,ce=j+D/this.invertedYRatio,ue=j+_/this.invertedYRatio,ge=Math.abs(ue-ce),be=this.barHelpers.getBarpaths({barYPosition:Z,barHeight:H,x1:ce,x2:ue,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:k.realIndex,realIndex:k.realIndex,j:k.j,w:te});return te.globals.isXNumeric||(T+=I),{pathTo:be.pathTo,pathFrom:be.pathFrom,barWidth:ge,x:ue,goalX:this.barHelpers.getGoalValues("x",j,null,k.realIndex,k.j),y:T}}},{key:"getRangeValue",value:function(y,k){var T=this.w;return{start:T.globals.seriesRangeStart[y][k],end:T.globals.seriesRangeEnd[y][k]}}}]),g}(),Ol=function(){function me(d){f(this,me),this.w=d.w,this.lineCtx=d}return x(me,[{key:"sameValueSeriesFix",value:function(d,g){var y=this.w;if((y.config.fill.type==="gradient"||y.config.fill.type[d]==="gradient")&&new le(this.lineCtx.ctx,y).seriesHaveSameValues(d)){var k=g[d].slice();k[k.length-1]=k[k.length-1]+1e-6,g[d]=k}return g}},{key:"calculatePoints",value:function(d){var g=d.series,y=d.realIndex,k=d.x,T=d.y,D=d.i,_=d.j,I=d.prevY,H=this.w,Z=[],j=[];if(_===0){var te=this.lineCtx.categoryAxisCorrection+H.config.markers.offsetX;H.globals.isXNumeric&&(te=(H.globals.seriesX[y][0]-H.globals.minX)/this.lineCtx.xRatio+H.config.markers.offsetX),Z.push(te),j.push(X.isNumber(g[D][0])?I+H.config.markers.offsetY:null),Z.push(k+H.config.markers.offsetX),j.push(X.isNumber(g[D][_+1])?T+H.config.markers.offsetY:null)}else Z.push(k+H.config.markers.offsetX),j.push(X.isNumber(g[D][_+1])?T+H.config.markers.offsetY:null);return{x:Z,y:j}}},{key:"checkPreviousPaths",value:function(d){for(var g=d.pathFromLine,y=d.pathFromArea,k=d.realIndex,T=this.w,D=0;D<T.globals.previousPaths.length;D++){var _=T.globals.previousPaths[D];(_.type==="line"||_.type==="area")&&_.paths.length>0&&parseInt(_.realIndex,10)===parseInt(k,10)&&(_.type==="line"?(this.lineCtx.appendPathFrom=!1,g=T.globals.previousPaths[D].paths[0].d):_.type==="area"&&(this.lineCtx.appendPathFrom=!1,y=T.globals.previousPaths[D].paths[0].d,T.config.stroke.show&&T.globals.previousPaths[D].paths[1]&&(g=T.globals.previousPaths[D].paths[1].d)))}return{pathFromLine:g,pathFromArea:y}}},{key:"determineFirstPrevY",value:function(d){var g,y=d.i,k=d.series,T=d.prevY,D=d.lineYPosition,_=this.w;if(((g=k[y])===null||g===void 0?void 0:g[0])!==void 0)T=(D=_.config.chart.stacked&&y>0?this.lineCtx.prevSeriesY[y-1][0]:this.lineCtx.zeroY)-k[y][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?k[y][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(_.config.chart.stacked&&y>0&&k[y][0]===void 0){for(var I=y-1;I>=0;I--)if(k[I][0]!==null&&k[I][0]!==void 0){T=D=this.lineCtx.prevSeriesY[I][0];break}}return{prevY:T,lineYPosition:D}}}]),me}(),io=function(){function me(d,g,y){f(this,me),this.ctx=d,this.w=d.w,this.xyRatios=g,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||y,this.scatter=new Ue(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ol(this),this.markers=new qe(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return x(me,[{key:"draw",value:function(d,g,y,k){var T=this.w,D=new K(this.ctx),_=T.globals.comboCharts?g:T.config.chart.type,I=D.group({class:"apexcharts-".concat(_,"-series apexcharts-plot-series")}),H=new le(this.ctx,T);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,d=H.getLogSeries(d),this.yRatio=H.getLogYRatios(this.yRatio);for(var Z=[],j=0;j<d.length;j++){d=this.lineHelpers.sameValueSeriesFix(j,d);var te=T.globals.comboCharts?y[j]:j;this._initSerieVariables(d,j,te);var ce=[],ue=[],ge=T.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,te),T.globals.isXNumeric&&T.globals.seriesX.length>0&&(ge=(T.globals.seriesX[te][0]-T.globals.minX)/this.xRatio),ue.push(ge);var be,ke=ge,Be=void 0,z=ke,ie=this.zeroY,de=this.zeroY;ie=this.lineHelpers.determineFirstPrevY({i:j,series:d,prevY:ie,lineYPosition:0}).prevY,ce.push(ie),be=ie,_==="rangeArea"&&(Be=de=this.lineHelpers.determineFirstPrevY({i:j,series:k,prevY:de,lineYPosition:0}).prevY);var Se={type:_,series:d,realIndex:te,i:j,x:ge,y:1,pX:ke,pY:be,pathsFrom:this._calculatePathsFrom({type:_,series:d,i:j,realIndex:te,prevX:z,prevY:ie,prevY2:de}),linePaths:[],areaPaths:[],seriesIndex:y,lineYPosition:0,xArrj:ue,yArrj:ce,seriesRangeEnd:k},Ne=this._iterateOverDataPoints(l(l({},Se),{},{iterations:_==="rangeArea"?d[j].length-1:void 0,isRangeStart:!0}));if(_==="rangeArea"){var Oe=this._calculatePathsFrom({series:k,i:j,realIndex:te,prevX:z,prevY:de}),ot=this._iterateOverDataPoints(l(l({},Se),{},{series:k,pY:Be,pathsFrom:Oe,iterations:k[j].length-1,isRangeStart:!1}));Ne.linePaths[0]=ot.linePath+Ne.linePath,Ne.pathFromLine=ot.pathFromLine+Ne.pathFromLine}this._handlePaths({type:_,realIndex:te,i:j,paths:Ne}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),Z.push(this.elSeries)}if(T.config.chart.stacked)for(var nt=Z.length;nt>0;nt--)I.add(Z[nt-1]);else for(var Dt=0;Dt<Z.length;Dt++)I.add(Z[Dt]);return I}},{key:"_initSerieVariables",value:function(d,g,y){var k=this.w,T=new K(this.ctx);this.xDivision=k.globals.gridWidth/(k.globals.dataPoints-(k.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(k.config.stroke.width)?k.config.stroke.width[y]:k.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=y),this.isReversed=k.config.yaxis[this.yaxisIndex]&&k.config.yaxis[this.yaxisIndex].reversed,this.zeroY=k.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?k.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>k.globals.gridHeight||k.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=k.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=T.group({class:"apexcharts-series",seriesName:X.escapeString(k.globals.seriesNames[y])}),this.elPointsMain=T.group({class:"apexcharts-series-markers-wrap","data:realIndex":y}),this.elDataLabelsWrap=T.group({class:"apexcharts-datalabels","data:realIndex":y});var D=d[g].length===k.globals.dataPoints;this.elSeries.attr({"data:longestSeries":D,rel:g+1,"data:realIndex":y}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(d){var g,y,k,T,D=d.type,_=d.series,I=d.i,H=d.realIndex,Z=d.prevX,j=d.prevY,te=d.prevY2,ce=this.w,ue=new K(this.ctx);if(_[I][0]===null){for(var ge=0;ge<_[I].length;ge++)if(_[I][ge]!==null){Z=this.xDivision*ge,j=this.zeroY-_[I][ge]/this.yRatio[this.yaxisIndex],g=ue.move(Z,j),y=ue.move(Z,this.areaBottomY);break}}else g=ue.move(Z,j),D==="rangeArea"&&(g=ue.move(Z,te)+ue.line(Z,j)),y=ue.move(Z,this.areaBottomY)+ue.line(Z,j);if(k=ue.move(-1,this.zeroY)+ue.line(-1,this.zeroY),T=ue.move(-1,this.zeroY)+ue.line(-1,this.zeroY),ce.globals.previousPaths.length>0){var be=this.lineHelpers.checkPreviousPaths({pathFromLine:k,pathFromArea:T,realIndex:H});k=be.pathFromLine,T=be.pathFromArea}return{prevX:Z,prevY:j,linePath:g,areaPath:y,pathFromLine:k,pathFromArea:T}}},{key:"_handlePaths",value:function(d){var g=d.type,y=d.realIndex,k=d.i,T=d.paths,D=this.w,_=new K(this.ctx),I=new Ie(this.ctx);this.prevSeriesY.push(T.yArrj),D.globals.seriesXvalues[y]=T.xArrj,D.globals.seriesYvalues[y]=T.yArrj;var H=D.config.forecastDataPoints;if(H.count>0&&g!=="rangeArea"){var Z=D.globals.seriesXvalues[y][D.globals.seriesXvalues[y].length-H.count-1],j=_.drawRect(Z,0,D.globals.gridWidth,D.globals.gridHeight,0);D.globals.dom.elForecastMask.appendChild(j.node);var te=_.drawRect(0,0,Z,D.globals.gridHeight,0);D.globals.dom.elNonForecastMask.appendChild(te.node)}this.pointsChart||D.globals.delayedElements.push({el:this.elPointsMain.node,index:y});var ce={i:k,realIndex:y,animationDelay:k,initialSpeed:D.config.chart.animations.speed,dataChangeSpeed:D.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(g)};if(g==="area")for(var ue=I.fillPath({seriesNumber:y}),ge=0;ge<T.areaPaths.length;ge++){var be=_.renderPaths(l(l({},ce),{},{pathFrom:T.pathFromArea,pathTo:T.areaPaths[ge],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:ue}));this.elSeries.add(be)}if(D.config.stroke.show&&!this.pointsChart){var ke=null;if(g==="line")ke=I.fillPath({seriesNumber:y,i:k});else if(D.config.stroke.fill.type==="solid")ke=D.globals.stroke.colors[y];else{var Be=D.config.fill;D.config.fill=D.config.stroke.fill,ke=I.fillPath({seriesNumber:y,i:k}),D.config.fill=Be}for(var z=0;z<T.linePaths.length;z++){var ie=ke;g==="rangeArea"&&(ie=I.fillPath({seriesNumber:y}));var de=l(l({},ce),{},{pathFrom:T.pathFromLine,pathTo:T.linePaths[z],stroke:ke,strokeWidth:this.strokeWidth,strokeLineCap:D.config.stroke.lineCap,fill:g==="rangeArea"?ie:"none"}),Se=_.renderPaths(de);if(this.elSeries.add(Se),Se.attr("fill-rule","evenodd"),H.count>0&&g!=="rangeArea"){var Ne=_.renderPaths(de);Ne.node.setAttribute("stroke-dasharray",H.dashArray),H.strokeWidth&&Ne.node.setAttribute("stroke-width",H.strokeWidth),this.elSeries.add(Ne),Ne.attr("clip-path","url(#forecastMask".concat(D.globals.cuid,")")),Se.attr("clip-path","url(#nonForecastMask".concat(D.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(d){var g=d.type,y=d.series,k=d.iterations,T=d.realIndex,D=d.i,_=d.x,I=d.y,H=d.pX,Z=d.pY,j=d.pathsFrom,te=d.linePaths,ce=d.areaPaths,ue=d.seriesIndex,ge=d.lineYPosition,be=d.xArrj,ke=d.yArrj,Be=d.isRangeStart,z=d.seriesRangeEnd,ie=this.w,de=new K(this.ctx),Se=this.yRatio,Ne=j.prevY,Oe=j.linePath,ot=j.areaPath,nt=j.pathFromLine,Dt=j.pathFromArea,It=X.isNumber(ie.globals.minYArr[T])?ie.globals.minYArr[T]:ie.globals.minY;k||(k=ie.globals.dataPoints>1?ie.globals.dataPoints-1:ie.globals.dataPoints);for(var qt=I,ti=0;ti<k;ti++){var Et=y[D][ti+1]===void 0||y[D][ti+1]===null;if(ie.globals.isXNumeric){var Qi=ie.globals.seriesX[T][ti+1];ie.globals.seriesX[T][ti+1]===void 0&&(Qi=ie.globals.seriesX[T][k-1]),_=(Qi-ie.globals.minX)/this.xRatio}else _+=this.xDivision;ie.config.chart.stacked?D>0&&ie.globals.collapsedSeries.length<ie.config.series.length-1?ge=this.prevSeriesY[function(Ct){for(var Kn=Ct,_s=0;_s<ie.globals.series.length;_s++)if(ie.globals.collapsedSeriesIndices.indexOf(Ct)>-1){Kn--;break}return Kn>=0?Kn:0}(D-1)][ti+1]:ge=this.zeroY:ge=this.zeroY,Et?I=ge-It/Se[this.yaxisIndex]+2*(this.isReversed?It/Se[this.yaxisIndex]:0):(I=ge-y[D][ti+1]/Se[this.yaxisIndex]+2*(this.isReversed?y[D][ti+1]/Se[this.yaxisIndex]:0),g==="rangeArea"&&(qt=ge-z[D][ti+1]/Se[this.yaxisIndex]+2*(this.isReversed?z[D][ti+1]/Se[this.yaxisIndex]:0))),be.push(_),ke.push(I);var Zt=this.lineHelpers.calculatePoints({series:y,x:_,y:I,realIndex:T,i:D,j:ti,prevY:Ne}),cn=this._createPaths({type:g,series:y,i:D,realIndex:T,j:ti,x:_,y:I,y2:qt,pX:H,pY:Z,linePath:Oe,areaPath:ot,linePaths:te,areaPaths:ce,seriesIndex:ue,isRangeStart:Be});ce=cn.areaPaths,te=cn.linePaths,H=cn.pX,Z=cn.pY,ot=cn.areaPath,Oe=cn.linePath,this.appendPathFrom&&(nt+=de.line(_,this.zeroY),Dt+=de.line(_,this.zeroY)),this.handleNullDataPoints(y,Zt,D,ti,T),this._handleMarkersAndLabels({type:g,pointsPos:Zt,i:D,j:ti,realIndex:T,isRangeStart:Be})}return{yArrj:ke,xArrj:be,pathFromArea:Dt,areaPaths:ce,pathFromLine:nt,linePaths:te,linePath:Oe,areaPath:ot}}},{key:"_handleMarkersAndLabels",value:function(d){var g=d.type,y=d.pointsPos,k=d.isRangeStart,T=d.i,D=d.j,_=d.realIndex,I=this.w,H=new Ae(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,D,{realIndex:_,pointsPos:y,zRatio:this.zRatio,elParent:this.elPointsMain});else{I.globals.series[T].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var Z=this.markers.plotChartMarkers(y,_,D+1);Z!==null&&this.elPointsMain.add(Z)}var j=H.drawDataLabel({type:g,isRangeStart:k,pos:y,i:_,j:D+1});j!==null&&this.elDataLabelsWrap.add(j)}},{key:"_createPaths",value:function(d){var g=d.type,y=d.series,k=d.i,T=d.realIndex,D=d.j,_=d.x,I=d.y,H=d.y2,Z=d.pX,j=d.pY,te=d.linePath,ce=d.areaPath,ue=d.linePaths,ge=d.areaPaths,be=d.seriesIndex,ke=d.isRangeStart,Be=this.w,z=new K(this.ctx),ie=Be.config.stroke.curve,de=this.areaBottomY;if(Array.isArray(Be.config.stroke.curve)&&(ie=Array.isArray(be)?Be.config.stroke.curve[be[k]]:Be.config.stroke.curve[k]),ie==="smooth"){var Se=.35*(_-Z);Be.globals.hasNullValues?(y[k][D]!==null&&(y[k][D+1]!==null?(te=z.move(Z,j)+z.curve(Z+Se,j,_-Se,I,_+1,I),ce=z.move(Z+1,j)+z.curve(Z+Se,j,_-Se,I,_+1,I)+z.line(_,de)+z.line(Z,de)+"z"):(te=z.move(Z,j),ce=z.move(Z,j)+"z")),ue.push(te),ge.push(ce)):(te+=z.curve(Z+Se,j,_-Se,I,_,I),ce+=z.curve(Z+Se,j,_-Se,I,_,I)),Z=_,j=I,D===y[k].length-2&&(ce=ce+z.curve(Z,j,_,I,_,de)+z.move(_,I)+"z",g==="rangeArea"&&ke?te=te+z.curve(Z,j,_,I,_,H)+z.move(_,H)+"z":Be.globals.hasNullValues||(ue.push(te),ge.push(ce)))}else{if(y[k][D+1]===null){te+=z.move(_,I);var Ne=Be.globals.isXNumeric?(Be.globals.seriesX[T][D]-Be.globals.minX)/this.xRatio:_-this.xDivision;ce=ce+z.line(Ne,de)+z.move(_,I)+"z"}y[k][D]===null&&(te+=z.move(_,I),ce+=z.move(_,de)),ie==="stepline"?(te=te+z.line(_,null,"H")+z.line(null,I,"V"),ce=ce+z.line(_,null,"H")+z.line(null,I,"V")):ie==="straight"&&(te+=z.line(_,I),ce+=z.line(_,I)),D===y[k].length-2&&(ce=ce+z.line(_,de)+z.move(_,I)+"z",g==="rangeArea"&&ke?te=te+z.line(_,H)+z.move(_,H)+"z":(ue.push(te),ge.push(ce)))}return{linePaths:ue,areaPaths:ge,pX:Z,pY:j,linePath:te,areaPath:ce}}},{key:"handleNullDataPoints",value:function(d,g,y,k,T){var D=this.w;if(d[y][k]===null&&D.config.markers.showNullDataPoints||d[y].length===1){var _=this.markers.plotChartMarkers(g,T,k+1,this.strokeWidth-D.config.markers.strokeWidth/2,!0);_!==null&&this.elPointsMain.add(_)}}}]),me}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function me(_,I,H,Z){this.xoffset=_,this.yoffset=I,this.height=Z,this.width=H,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(j){var te,ce=[],ue=this.xoffset,ge=this.yoffset,be=T(j)/this.height,ke=T(j)/this.width;if(this.width>=this.height)for(te=0;te<j.length;te++)ce.push([ue,ge,ue+be,ge+j[te]/be]),ge+=j[te]/be;else for(te=0;te<j.length;te++)ce.push([ue,ge,ue+j[te]/ke,ge+ke]),ue+=j[te]/ke;return ce},this.cutArea=function(j){var te;if(this.width>=this.height){var ce=j/this.height,ue=this.width-ce;te=new me(this.xoffset+ce,this.yoffset,ue,this.height)}else{var ge=j/this.width,be=this.height-ge;te=new me(this.xoffset,this.yoffset+ge,this.width,be)}return te}}function d(_,I,H,Z,j){Z=Z===void 0?0:Z,j=j===void 0?0:j;var te=g(function(ce,ue){var ge,be=[],ke=ue/T(ce);for(ge=0;ge<ce.length;ge++)be[ge]=ce[ge]*ke;return be}(_,I*H),[],new me(Z,j,I,H),[]);return function(ce){var ue,ge,be=[];for(ue=0;ue<ce.length;ue++)for(ge=0;ge<ce[ue].length;ge++)be.push(ce[ue][ge]);return be}(te)}function g(_,I,H,Z){var j,te,ce;if(_.length!==0)return j=H.shortestEdge(),function(ue,ge,be){var ke;if(ue.length===0)return!0;(ke=ue.slice()).push(ge);var Be=y(ue,be),z=y(ke,be);return Be>=z}(I,te=_[0],j)?(I.push(te),g(_.slice(1),I,H,Z)):(ce=H.cutArea(T(I),Z),Z.push(H.getCoordinates(I)),g(_,[],ce,Z)),Z;Z.push(H.getCoordinates(I))}function y(_,I){var H=Math.min.apply(Math,_),Z=Math.max.apply(Math,_),j=T(_);return Math.max(Math.pow(I,2)*Z/Math.pow(j,2),Math.pow(j,2)/(Math.pow(I,2)*H))}function k(_){return _&&_.constructor===Array}function T(_){var I,H=0;for(I=0;I<_.length;I++)H+=_[I];return H}function D(_){var I,H=0;if(k(_[0]))for(I=0;I<_.length;I++)H+=D(_[I]);else H=T(_);return H}return function _(I,H,Z,j,te){j=j===void 0?0:j,te=te===void 0?0:te;var ce,ue,ge=[],be=[];if(k(I[0])){for(ue=0;ue<I.length;ue++)ge[ue]=D(I[ue]);for(ce=d(ge,H,Z,j,te),ue=0;ue<I.length;ue++)be.push(_(I[ue],ce[ue][2]-ce[ue][0],ce[ue][3]-ce[ue][1],ce[ue][0],ce[ue][1]))}else be=d(I,H,Z,j,te);return be}}();var Us,ns,Ca=function(){function me(d,g){f(this,me),this.ctx=d,this.w=d.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Jo(d),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return x(me,[{key:"draw",value:function(d){var g=this,y=this.w,k=new K(this.ctx),T=new Ie(this.ctx),D=k.group({class:"apexcharts-treemap"});if(y.globals.noData)return D;var _=[];return d.forEach(function(I){var H=I.map(function(Z){return Math.abs(Z)});_.push(H)}),this.negRange=this.helpers.checkColorRange(),y.config.series.forEach(function(I,H){I.data.forEach(function(Z){Array.isArray(g.labels[H])||(g.labels[H]=[]),g.labels[H].push(Z.x)})}),window.TreemapSquared.generate(_,y.globals.gridWidth,y.globals.gridHeight).forEach(function(I,H){var Z=k.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:X.escapeString(y.globals.seriesNames[H]),rel:H+1,"data:realIndex":H});if(y.config.chart.dropShadow.enabled){var j=y.config.chart.dropShadow;new he(g.ctx).dropShadow(D,j,H)}var te=k.group({class:"apexcharts-data-labels"});I.forEach(function(ce,ue){var ge=ce[0],be=ce[1],ke=ce[2],Be=ce[3],z=k.drawRect(ge,be,ke-ge,Be-be,0,"#fff",1,g.strokeWidth,y.config.plotOptions.treemap.useFillColorAsStroke?de:y.globals.stroke.colors[H]);z.attr({cx:ge,cy:be,index:H,i:H,j:ue,width:ke-ge,height:Be-be});var ie=g.helpers.getShadeColor(y.config.chart.type,H,ue,g.negRange),de=ie.color;y.config.series[H].data[ue]!==void 0&&y.config.series[H].data[ue].fillColor&&(de=y.config.series[H].data[ue].fillColor);var Se=T.fillPath({color:de,seriesNumber:H,dataPointIndex:ue});z.node.classList.add("apexcharts-treemap-rect"),z.attr({fill:Se}),g.helpers.addListeners(z);var Ne={x:ge+(ke-ge)/2,y:be+(Be-be)/2,width:0,height:0},Oe={x:ge,y:be,width:ke-ge,height:Be-be};if(y.config.chart.animations.enabled&&!y.globals.dataChanged){var ot=1;y.globals.resized||(ot=y.config.chart.animations.speed),g.animateTreemap(z,Ne,Oe,ot)}if(y.globals.dataChanged){var nt=1;g.dynamicAnim.enabled&&y.globals.shouldAnimate&&(nt=g.dynamicAnim.speed,y.globals.previousPaths[H]&&y.globals.previousPaths[H][ue]&&y.globals.previousPaths[H][ue].rect&&(Ne=y.globals.previousPaths[H][ue].rect),g.animateTreemap(z,Ne,Oe,nt))}var Dt=g.getFontSize(ce),It=y.config.dataLabels.formatter(g.labels[H][ue],{value:y.globals.series[H][ue],seriesIndex:H,dataPointIndex:ue,w:y}),qt=g.helpers.calculateDataLabels({text:It,x:(ge+ke)/2,y:(be+Be)/2+g.strokeWidth/2+Dt/3,i:H,j:ue,colorProps:ie,fontSize:Dt,series:d});y.config.dataLabels.enabled&&qt&&g.rotateToFitLabel(qt,Dt,It,ge,be,ke,Be),Z.add(z),qt!==null&&Z.add(qt)}),Z.add(te),D.add(Z)}),D}},{key:"getFontSize",value:function(d){var g=this.w,y,k,T,D,_=function I(H){var Z,j=0;if(Array.isArray(H[0]))for(Z=0;Z<H.length;Z++)j+=I(H[Z]);else for(Z=0;Z<H.length;Z++)j+=H[Z].length;return j}(this.labels)/function I(H){var Z,j=0;if(Array.isArray(H[0]))for(Z=0;Z<H.length;Z++)j+=I(H[Z]);else for(Z=0;Z<H.length;Z++)j+=1;return j}(this.labels);return y=d[2]-d[0],k=d[3]-d[1],T=y*k,D=Math.pow(T,.5),Math.min(D/_,parseInt(g.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(d,g,y,k,T,D,_){var I=new K(this.ctx),H=I.getTextRects(y,g);if(H.width+this.w.config.stroke.width+5>D-k&&H.width<=_-T){var Z=I.rotateAroundCenter(d.node);d.node.setAttribute("transform","rotate(-90 ".concat(Z.x," ").concat(Z.y,")"))}}},{key:"animateTreemap",value:function(d,g,y,k){var T=new W(this.ctx);T.animateRect(d,{x:g.x,y:g.y,width:g.width,height:g.height},{x:y.x,y:y.y,width:y.width,height:y.height},k,function(){T.animationCompleted(d)})}}]),me}(),Ao=86400,Ee=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return x(me,[{key:"calculateTimeScaleTicks",value:function(d,g){var y=this,k=this.w;if(k.globals.allSeriesCollapsed)return k.globals.labels=[],k.globals.timescaleLabels=[],[];var T=new He(this.ctx),D=(g-d)/864e5;this.determineInterval(D),k.globals.disableZoomIn=!1,k.globals.disableZoomOut=!1,D<.00011574074074074075?k.globals.disableZoomIn=!0:D>5e4&&(k.globals.disableZoomOut=!0);var _=T.getTimeUnitsfromTimestamp(d,g,this.utc),I=k.globals.gridWidth/D,H=I/24,Z=H/60,j=Z/60,te=Math.floor(24*D),ce=Math.floor(1440*D),ue=Math.floor(D*Ao),ge=Math.floor(D),be=Math.floor(D/30),ke=Math.floor(D/365),Be={minMillisecond:_.minMillisecond,minSecond:_.minSecond,minMinute:_.minMinute,minHour:_.minHour,minDate:_.minDate,minMonth:_.minMonth,minYear:_.minYear},z={firstVal:Be,currentMillisecond:Be.minMillisecond,currentSecond:Be.minSecond,currentMinute:Be.minMinute,currentHour:Be.minHour,currentMonthDate:Be.minDate,currentDate:Be.minDate,currentMonth:Be.minMonth,currentYear:Be.minYear,daysWidthOnXAxis:I,hoursWidthOnXAxis:H,minutesWidthOnXAxis:Z,secondsWidthOnXAxis:j,numberOfSeconds:ue,numberOfMinutes:ce,numberOfHours:te,numberOfDays:ge,numberOfMonths:be,numberOfYears:ke};switch(this.tickInterval){case"years":this.generateYearScale(z);break;case"months":case"half_year":this.generateMonthScale(z);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(z);break;case"hours":this.generateHourScale(z);break;case"minutes_fives":case"minutes":this.generateMinuteScale(z);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(z)}var ie=this.timeScaleArray.map(function(de){var Se={position:de.position,unit:de.unit,year:de.year,day:de.day?de.day:1,hour:de.hour?de.hour:0,month:de.month+1};return de.unit==="month"?l(l({},Se),{},{day:1,value:de.value+1}):de.unit==="day"||de.unit==="hour"?l(l({},Se),{},{value:de.value}):de.unit==="minute"?l(l({},Se),{},{value:de.value,minute:de.value}):de.unit==="second"?l(l({},Se),{},{value:de.value,minute:de.minute,second:de.second}):de});return ie.filter(function(de){var Se=1,Ne=Math.ceil(k.globals.gridWidth/120),Oe=de.value;k.config.xaxis.tickAmount!==void 0&&(Ne=k.config.xaxis.tickAmount),ie.length>Ne&&(Se=Math.floor(ie.length/Ne));var ot=!1,nt=!1;switch(y.tickInterval){case"years":de.unit==="year"&&(ot=!0);break;case"half_year":Se=7,de.unit==="year"&&(ot=!0);break;case"months":Se=1,de.unit==="year"&&(ot=!0);break;case"months_fortnight":Se=15,de.unit!=="year"&&de.unit!=="month"||(ot=!0),Oe===30&&(nt=!0);break;case"months_days":Se=10,de.unit==="month"&&(ot=!0),Oe===30&&(nt=!0);break;case"week_days":Se=8,de.unit==="month"&&(ot=!0);break;case"days":Se=1,de.unit==="month"&&(ot=!0);break;case"hours":de.unit==="day"&&(ot=!0);break;case"minutes_fives":case"seconds_fives":Oe%5!=0&&(nt=!0);break;case"seconds_tens":Oe%10!=0&&(nt=!0)}if(y.tickInterval==="hours"||y.tickInterval==="minutes_fives"||y.tickInterval==="seconds_tens"||y.tickInterval==="seconds_fives"){if(!nt)return!0}else if((Oe%Se==0||ot)&&!nt)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(d,g){var y=this.w,k=this.formatDates(d),T=this.removeOverlappingTS(k);y.globals.timescaleLabels=T.slice(),new mi(this.ctx).plotCoords()}},{key:"determineInterval",value:function(d){var g=24*d,y=60*g;switch(!0){case d/365>5:this.tickInterval="years";break;case d>800:this.tickInterval="half_year";break;case d>180:this.tickInterval="months";break;case d>90:this.tickInterval="months_fortnight";break;case d>60:this.tickInterval="months_days";break;case d>30:this.tickInterval="week_days";break;case d>2:this.tickInterval="days";break;case g>2.4:this.tickInterval="hours";break;case y>15:this.tickInterval="minutes_fives";break;case y>5:this.tickInterval="minutes";break;case y>1:this.tickInterval="seconds_tens";break;case 60*y>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(d){var g=d.firstVal,y=d.currentMonth,k=d.currentYear,T=d.daysWidthOnXAxis,D=d.numberOfYears,_=g.minYear,I=0,H=new He(this.ctx),Z="year";if(g.minDate>1||g.minMonth>0){var j=H.determineRemainingDaysOfYear(g.minYear,g.minMonth,g.minDate);I=(H.determineDaysOfYear(g.minYear)-j+1)*T,_=g.minYear+1,this.timeScaleArray.push({position:I,value:_,unit:Z,year:_,month:X.monthMod(y+1)})}else g.minDate===1&&g.minMonth===0&&this.timeScaleArray.push({position:I,value:_,unit:Z,year:k,month:X.monthMod(y+1)});for(var te=_,ce=I,ue=0;ue<D;ue++)te++,ce=H.determineDaysOfYear(te-1)*T+ce,this.timeScaleArray.push({position:ce,value:te,unit:Z,year:te,month:1})}},{key:"generateMonthScale",value:function(d){var g=d.firstVal,y=d.currentMonthDate,k=d.currentMonth,T=d.currentYear,D=d.daysWidthOnXAxis,_=d.numberOfMonths,I=k,H=0,Z=new He(this.ctx),j="month",te=0;if(g.minDate>1){H=(Z.determineDaysOfMonths(k+1,g.minYear)-y+1)*D,I=X.monthMod(k+1);var ce=T+te,ue=X.monthMod(I),ge=I;I===0&&(j="year",ge=ce,ue=1,ce+=te+=1),this.timeScaleArray.push({position:H,value:ge,unit:j,year:ce,month:ue})}else this.timeScaleArray.push({position:H,value:I,unit:j,year:T,month:X.monthMod(k)});for(var be=I+1,ke=H,Be=0,z=1;Be<_;Be++,z++){(be=X.monthMod(be))===0?(j="year",te+=1):j="month";var ie=this._getYear(T,be,te);ke=Z.determineDaysOfMonths(be,ie)*D+ke;var de=be===0?ie:be;this.timeScaleArray.push({position:ke,value:de,unit:j,year:ie,month:be===0?1:be}),be++}}},{key:"generateDayScale",value:function(d){var g=d.firstVal,y=d.currentMonth,k=d.currentYear,T=d.hoursWidthOnXAxis,D=d.numberOfDays,_=new He(this.ctx),I="day",H=g.minDate+1,Z=H,j=function(z,ie,de){return z>_.determineDaysOfMonths(ie+1,de)&&(Z=1,I="month",ce=ie+=1),ie},te=(24-g.minHour)*T,ce=H,ue=j(Z,y,k);g.minHour===0&&g.minDate===1?(te=0,ce=X.monthMod(g.minMonth),I="month",Z=g.minDate,D++):g.minDate!==1&&g.minHour===0&&g.minMinute===0&&(te=0,H=g.minDate,ce=H,ue=j(Z=H,y,k)),this.timeScaleArray.push({position:te,value:ce,unit:I,year:this._getYear(k,ue,0),month:X.monthMod(ue),day:Z});for(var ge=te,be=0;be<D;be++){I="day",ue=j(Z+=1,ue,this._getYear(k,ue,0));var ke=this._getYear(k,ue,0);ge=24*T+ge;var Be=Z===1?X.monthMod(ue):Z;this.timeScaleArray.push({position:ge,value:Be,unit:I,year:ke,month:X.monthMod(ue),day:Be})}}},{key:"generateHourScale",value:function(d){var g=d.firstVal,y=d.currentDate,k=d.currentMonth,T=d.currentYear,D=d.minutesWidthOnXAxis,_=d.numberOfHours,I=new He(this.ctx),H="hour",Z=function(Se,Ne){return Se>I.determineDaysOfMonths(Ne+1,T)&&(be=1,Ne+=1),{month:Ne,date:be}},j=function(Se,Ne){return Se>I.determineDaysOfMonths(Ne+1,T)?Ne+=1:Ne},te=60-(g.minMinute+g.minSecond/60),ce=te*D,ue=g.minHour+1,ge=ue+1;te===60&&(ce=0,ge=(ue=g.minHour)+1);var be=y,ke=j(be,k);this.timeScaleArray.push({position:ce,value:ue,unit:H,day:be,hour:ge,year:T,month:X.monthMod(ke)});for(var Be=ce,z=0;z<_;z++){H="hour",ge>=24&&(ge=0,H="day",ke=Z(be+=1,ke).month,ke=j(be,ke));var ie=this._getYear(T,ke,0);Be=60*D+Be;var de=ge===0?be:ge;this.timeScaleArray.push({position:Be,value:de,unit:H,hour:ge,day:be,year:ie,month:X.monthMod(ke)}),ge++}}},{key:"generateMinuteScale",value:function(d){for(var g=d.currentMillisecond,y=d.currentSecond,k=d.currentMinute,T=d.currentHour,D=d.currentDate,_=d.currentMonth,I=d.currentYear,H=d.minutesWidthOnXAxis,Z=d.secondsWidthOnXAxis,j=d.numberOfMinutes,te=k+1,ce=D,ue=_,ge=I,be=T,ke=(60-y-g/1e3)*Z,Be=0;Be<j;Be++)te>=60&&(te=0,(be+=1)===24&&(be=0)),this.timeScaleArray.push({position:ke,value:te,unit:"minute",hour:be,minute:te,day:ce,year:this._getYear(ge,ue,0),month:X.monthMod(ue)}),ke+=H,te++}},{key:"generateSecondScale",value:function(d){for(var g=d.currentMillisecond,y=d.currentSecond,k=d.currentMinute,T=d.currentHour,D=d.currentDate,_=d.currentMonth,I=d.currentYear,H=d.secondsWidthOnXAxis,Z=d.numberOfSeconds,j=y+1,te=k,ce=D,ue=_,ge=I,be=T,ke=(1e3-g)/1e3*H,Be=0;Be<Z;Be++)j>=60&&(j=0,++te>=60&&(te=0,++be===24&&(be=0))),this.timeScaleArray.push({position:ke,value:j,unit:"second",hour:be,minute:te,second:j,day:ce,year:this._getYear(ge,ue,0),month:X.monthMod(ue)}),ke+=H,j++}},{key:"createRawDateString",value:function(d,g){var y=d.year;return d.month===0&&(d.month=1),y+="-"+("0"+d.month.toString()).slice(-2),d.unit==="day"?y+=d.unit==="day"?"-"+("0"+g).slice(-2):"-01":y+="-"+("0"+(d.day?d.day:"1")).slice(-2),d.unit==="hour"?y+=d.unit==="hour"?"T"+("0"+g).slice(-2):"T00":y+="T"+("0"+(d.hour?d.hour:"0")).slice(-2),d.unit==="minute"?y+=":"+("0"+g).slice(-2):y+=":"+(d.minute?("0"+d.minute).slice(-2):"00"),d.unit==="second"?y+=":"+("0"+g).slice(-2):y+=":00",this.utc&&(y+=".000Z"),y}},{key:"formatDates",value:function(d){var g=this,y=this.w;return d.map(function(k){var T=k.value.toString(),D=new He(g.ctx),_=g.createRawDateString(k,T),I=D.getDate(D.parseDate(_));if(g.utc||(I=D.getDate(D.parseDateWithTimezone(_))),y.config.xaxis.labels.format===void 0){var H="dd MMM",Z=y.config.xaxis.labels.datetimeFormatter;k.unit==="year"&&(H=Z.year),k.unit==="month"&&(H=Z.month),k.unit==="day"&&(H=Z.day),k.unit==="hour"&&(H=Z.hour),k.unit==="minute"&&(H=Z.minute),k.unit==="second"&&(H=Z.second),T=D.formatDate(I,H)}else T=D.formatDate(I,y.config.xaxis.labels.format);return{dateString:_,position:k.position,value:T,unit:k.unit,year:k.year,month:k.month}})}},{key:"removeOverlappingTS",value:function(d){var g,y=this,k=new K(this.ctx),T=!1;d.length>0&&d[0].value&&d.every(function(I){return I.value.length===d[0].value.length})&&(T=!0,g=k.getTextRects(d[0].value).width);var D=0,_=d.map(function(I,H){if(H>0&&y.w.config.xaxis.labels.hideOverlappingLabels){var Z=T?g:k.getTextRects(d[D].value).width,j=d[D].position;return I.position>j+Z+10?(D=H,I):null}return I});return _=_.filter(function(I){return I!==null})}},{key:"_getYear",value:function(d,g,y){return d+Math.floor(g/12)+y}}]),me}(),Ge=function(){function me(d,g){f(this,me),this.ctx=g,this.w=g.w,this.el=d}return x(me,[{key:"setupElements",value:function(){var d=this.w.globals,g=this.w.config,y=g.chart.type;d.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(y)>-1,d.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(y)>-1,d.isBarHorizontal=(g.chart.type==="bar"||g.chart.type==="rangeBar"||g.chart.type==="boxPlot")&&g.plotOptions.bar.horizontal,d.chartClass=".apexcharts"+d.chartID,d.dom.baseEl=this.el,d.dom.elWrap=document.createElement("div"),K.setAttrs(d.dom.elWrap,{id:d.chartClass.substring(1),class:"apexcharts-canvas "+d.chartClass.substring(1)}),this.el.appendChild(d.dom.elWrap),d.dom.Paper=new window.SVG.Doc(d.dom.elWrap),d.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(g.chart.offsetX,", ").concat(g.chart.offsetY,")")}),d.dom.Paper.node.style.background=g.chart.background,this.setSVGDimensions(),d.dom.elGraphical=d.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),d.dom.elAnnotations=d.dom.Paper.group().attr({class:"apexcharts-annotations"}),d.dom.elDefs=d.dom.Paper.defs(),d.dom.elLegendWrap=document.createElement("div"),d.dom.elLegendWrap.classList.add("apexcharts-legend"),d.dom.elWrap.appendChild(d.dom.elLegendWrap),d.dom.Paper.add(d.dom.elGraphical),d.dom.elGraphical.add(d.dom.elDefs)}},{key:"plotChartType",value:function(d,g){var y=this.w,k=y.config,T=y.globals,D={series:[],i:[]},_={series:[],i:[]},I={series:[],i:[]},H={series:[],i:[]},Z={series:[],i:[]},j={series:[],i:[]},te={series:[],i:[]},ce={series:[],i:[]},ue={series:[],seriesRangeEnd:[],i:[]};T.series.map(function(Ne,Oe){var ot=0;d[Oe].type!==void 0?(d[Oe].type==="column"||d[Oe].type==="bar"?(T.series.length>1&&k.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),Z.series.push(Ne),Z.i.push(Oe),ot++,y.globals.columnSeries=Z.series):d[Oe].type==="area"?(_.series.push(Ne),_.i.push(Oe),ot++):d[Oe].type==="line"?(D.series.push(Ne),D.i.push(Oe),ot++):d[Oe].type==="scatter"?(I.series.push(Ne),I.i.push(Oe)):d[Oe].type==="bubble"?(H.series.push(Ne),H.i.push(Oe),ot++):d[Oe].type==="candlestick"?(j.series.push(Ne),j.i.push(Oe),ot++):d[Oe].type==="boxPlot"?(te.series.push(Ne),te.i.push(Oe),ot++):d[Oe].type==="rangeBar"?(ce.series.push(Ne),ce.i.push(Oe),ot++):d[Oe].type==="rangeArea"?(ue.series.push(T.seriesRangeStart[Oe]),ue.seriesRangeEnd.push(T.seriesRangeEnd[Oe]),ue.i.push(Oe),ot++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),ot>1&&(T.comboCharts=!0)):(D.series.push(Ne),D.i.push(Oe))});var ge=new io(this.ctx,g),be=new eo(this.ctx,g);this.ctx.pie=new Il(this.ctx);var ke=new oi(this.ctx);this.ctx.rangeBar=new to(this.ctx,g);var Be=new qc(this.ctx),z=[];if(T.comboCharts){if(_.series.length>0&&z.push(ge.draw(_.series,"area",_.i)),Z.series.length>0)if(y.config.chart.stacked){var ie=new Kc(this.ctx,g);z.push(ie.draw(Z.series,Z.i))}else this.ctx.bar=new Ir(this.ctx,g),z.push(this.ctx.bar.draw(Z.series,Z.i));if(ue.series.length>0&&z.push(ge.draw(ue.series,"rangeArea",ue.i,ue.seriesRangeEnd)),D.series.length>0&&z.push(ge.draw(D.series,"line",D.i)),j.series.length>0&&z.push(be.draw(j.series,"candlestick",j.i)),te.series.length>0&&z.push(be.draw(te.series,"boxPlot",te.i)),ce.series.length>0&&z.push(this.ctx.rangeBar.draw(ce.series,ce.i)),I.series.length>0){var de=new io(this.ctx,g,!0);z.push(de.draw(I.series,"scatter",I.i))}if(H.series.length>0){var Se=new io(this.ctx,g,!0);z.push(Se.draw(H.series,"bubble",H.i))}}else switch(k.chart.type){case"line":z=ge.draw(T.series,"line");break;case"area":z=ge.draw(T.series,"area");break;case"bar":k.chart.stacked?z=new Kc(this.ctx,g).draw(T.series):(this.ctx.bar=new Ir(this.ctx,g),z=this.ctx.bar.draw(T.series));break;case"candlestick":z=new eo(this.ctx,g).draw(T.series,"candlestick");break;case"boxPlot":z=new eo(this.ctx,g).draw(T.series,"boxPlot");break;case"rangeBar":z=this.ctx.rangeBar.draw(T.series);break;case"rangeArea":z=ge.draw(T.seriesRangeStart,"rangeArea",void 0,T.seriesRangeEnd);break;case"heatmap":z=new Sa(this.ctx,g).draw(T.series);break;case"treemap":z=new Ca(this.ctx,g).draw(T.series);break;case"pie":case"donut":case"polarArea":z=this.ctx.pie.draw(T.series);break;case"radialBar":z=ke.draw(T.series);break;case"radar":z=Be.draw(T.series);break;default:z=ge.draw(T.series)}return z}},{key:"setSVGDimensions",value:function(){var d=this.w.globals,g=this.w.config;d.svgWidth=g.chart.width,d.svgHeight=g.chart.height;var y=X.getDimensions(this.el),k=g.chart.width.toString().split(/[0-9]+/g).pop();k==="%"?X.isNumber(y[0])&&(y[0].width===0&&(y=X.getDimensions(this.el.parentNode)),d.svgWidth=y[0]*parseInt(g.chart.width,10)/100):k!=="px"&&k!==""||(d.svgWidth=parseInt(g.chart.width,10));var T=g.chart.height.toString().split(/[0-9]+/g).pop();if(d.svgHeight!=="auto"&&d.svgHeight!=="")if(T==="%"){var D=X.getDimensions(this.el.parentNode);d.svgHeight=D[1]*parseInt(g.chart.height,10)/100}else d.svgHeight=parseInt(g.chart.height,10);else d.axisCharts?d.svgHeight=d.svgWidth/1.61:d.svgHeight=d.svgWidth/1.2;if(d.svgWidth<0&&(d.svgWidth=0),d.svgHeight<0&&(d.svgHeight=0),K.setAttrs(d.dom.Paper.node,{width:d.svgWidth,height:d.svgHeight}),T!=="%"){var _=g.chart.sparkline.enabled?0:d.axisCharts?g.chart.parentHeightOffset:0;d.dom.Paper.node.parentNode.parentNode.style.minHeight=d.svgHeight+_+"px"}d.dom.elWrap.style.width=d.svgWidth+"px",d.dom.elWrap.style.height=d.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var d=this.w.globals,g=d.translateY,y={transform:"translate("+d.translateX+", "+g+")"};K.setAttrs(d.dom.elGraphical.node,y)}},{key:"resizeNonAxisCharts",value:function(){var d=this.w,g=d.globals,y=0,k=d.config.chart.sparkline.enabled?1:15;k+=d.config.grid.padding.bottom,d.config.legend.position!=="top"&&d.config.legend.position!=="bottom"||!d.config.legend.show||d.config.legend.floating||(y=new _i(this.ctx).legendHelpers.getLegendBBox().clwh+10);var T=d.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),D=2.05*d.globals.radialSize;if(T&&!d.config.chart.sparkline.enabled&&d.config.plotOptions.radialBar.startAngle!==0){var _=X.getBoundingClientRect(T);D=_.bottom;var I=_.bottom-_.top;D=Math.max(2.05*d.globals.radialSize,I)}var H=D+g.translateY+y+k;g.dom.elLegendForeign&&g.dom.elLegendForeign.setAttribute("height",H),d.config.chart.height&&String(d.config.chart.height).indexOf("%")>0||(g.dom.elWrap.style.height=H+"px",K.setAttrs(g.dom.Paper.node,{height:H}),g.dom.Paper.node.parentNode.parentNode.style.minHeight=H+"px")}},{key:"coreCalculations",value:function(){new et(this.ctx).init()}},{key:"resetGlobals",value:function(){var d=this,g=function(){return d.w.config.series.map(function(T){return[]})},y=new dt,k=this.w.globals;y.initGlobalVars(k),k.seriesXvalues=g(),k.seriesYvalues=g()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var d=null,g=this.w;if(g.globals.axisCharts){if(g.config.xaxis.crosshairs.position==="back"&&new Ht(this.ctx).drawXCrosshairs(),g.config.yaxis[0].crosshairs.position==="back"&&new Ht(this.ctx).drawYCrosshairs(),g.config.xaxis.type==="datetime"&&g.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Ee(this.ctx);var y=[];isFinite(g.globals.minX)&&isFinite(g.globals.maxX)&&!g.globals.isBarHorizontal?y=this.ctx.timeScale.calculateTimeScaleTicks(g.globals.minX,g.globals.maxX):g.globals.isBarHorizontal&&(y=this.ctx.timeScale.calculateTimeScaleTicks(g.globals.minY,g.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(y)}d=new le(this.ctx).getCalculatedRatios()}return d}},{key:"updateSourceChart",value:function(d){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:d.w.globals.minX,max:d.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var d=this,g=this.w;if(g.config.chart.brush.enabled&&typeof g.config.chart.events.selection!="function"){var y=g.config.chart.brush.targets||[g.config.chart.brush.target];y.forEach(function(k){var T=ApexCharts.getChartByID(k);T.w.globals.brushSource=d.ctx,typeof T.w.config.chart.events.zoomed!="function"&&(T.w.config.chart.events.zoomed=function(){d.updateSourceChart(T)}),typeof T.w.config.chart.events.scrolled!="function"&&(T.w.config.chart.events.scrolled=function(){d.updateSourceChart(T)})}),g.config.chart.events.selection=function(k,T){y.forEach(function(D){var _=ApexCharts.getChartByID(D),I=X.clone(g.config.yaxis);if(g.config.chart.brush.autoScaleYaxis&&_.w.globals.series.length===1){var H=new ve(_);I=H.autoScaleY(_,I,T)}var Z=_.w.config.yaxis.reduce(function(j,te,ce){return[].concat(Y(j),[l(l({},_.w.config.yaxis[ce]),{},{min:I[0].min,max:I[0].max})])},[]);_.ctx.updateHelpers._updateOptions({xaxis:{min:T.xaxis.min,max:T.xaxis.max},yaxis:Z},!1,!1,!1,!1)})}}}}]),me}(),Xe=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"_updateOptions",value:function(d){var g=this,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],k=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],T=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],D=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(_){var I=[g.ctx];T&&(I=g.ctx.getSyncedCharts()),g.ctx.w.globals.isExecCalled&&(I=[g.ctx],g.ctx.w.globals.isExecCalled=!1),I.forEach(function(H,Z){var j=H.w;if(j.globals.shouldAnimate=k,y||(j.globals.resized=!0,j.globals.dataChanged=!0,k&&H.series.getPreviousPaths()),d&&c(d)==="object"&&(H.config=new Je(d),d=le.extendArrayProps(H.config,d,j),H.w.globals.chartID!==g.ctx.w.globals.chartID&&delete d.series,j.config=X.extend(j.config,d),D&&(j.globals.lastXAxis=d.xaxis?X.clone(d.xaxis):[],j.globals.lastYAxis=d.yaxis?X.clone(d.yaxis):[],j.globals.initialConfig=X.extend({},j.config),j.globals.initialSeries=X.clone(j.config.series),d.series))){for(var te=0;te<j.globals.collapsedSeriesIndices.length;te++){var ce=j.config.series[j.globals.collapsedSeriesIndices[te]];j.globals.collapsedSeries[te].data=j.globals.axisCharts?ce.data.slice():ce}for(var ue=0;ue<j.globals.ancillaryCollapsedSeriesIndices.length;ue++){var ge=j.config.series[j.globals.ancillaryCollapsedSeriesIndices[ue]];j.globals.ancillaryCollapsedSeries[ue].data=j.globals.axisCharts?ge.data.slice():ge}H.series.emptyCollapsedSeries(j.config.series)}return H.update(d).then(function(){Z===I.length-1&&_(H)})})})}},{key:"_updateSeries",value:function(d,g){var y=this,k=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(T){var D,_=y.w;return _.globals.shouldAnimate=g,_.globals.dataChanged=!0,g&&y.ctx.series.getPreviousPaths(),_.globals.axisCharts?((D=d.map(function(I,H){return y._extendSeries(I,H)})).length===0&&(D=[{data:[]}]),_.config.series=D):_.config.series=d.slice(),k&&(_.globals.initialConfig.series=X.clone(_.config.series),_.globals.initialSeries=X.clone(_.config.series)),y.ctx.update().then(function(){T(y.ctx)})})}},{key:"_extendSeries",value:function(d,g){var y=this.w,k=y.config.series[g];return l(l({},y.config.series[g]),{},{name:d.name?d.name:k&&k.name,color:d.color?d.color:k&&k.color,type:d.type?d.type:k&&k.type,data:d.data?d.data:k&&k.data})}},{key:"toggleDataPointSelection",value:function(d,g){var y=this.w,k=null,T=".apexcharts-series[data\\:realIndex='".concat(d,"']");return y.globals.axisCharts?k=y.globals.dom.Paper.select("".concat(T," path[j='").concat(g,"'], ").concat(T," circle[j='").concat(g,"'], ").concat(T," rect[j='").concat(g,"']")).members[0]:g===void 0&&(k=y.globals.dom.Paper.select("".concat(T," path[j='").concat(d,"']")).members[0],y.config.chart.type!=="pie"&&y.config.chart.type!=="polarArea"&&y.config.chart.type!=="donut"||this.ctx.pie.pieClicked(d)),k?(new K(this.ctx).pathMouseDown(k,null),k.node?k.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(d){var g=this.w;if(["min","max"].forEach(function(k){d.xaxis[k]!==void 0&&(g.config.xaxis[k]=d.xaxis[k],g.globals.lastXAxis[k]=d.xaxis[k])}),d.xaxis.categories&&d.xaxis.categories.length&&(g.config.xaxis.categories=d.xaxis.categories),g.config.xaxis.convertedCatToNumeric){var y=new ft(d);d=y.convertCatToNumericXaxis(d,this.ctx)}return d}},{key:"forceYAxisUpdate",value:function(d){return d.chart&&d.chart.stacked&&d.chart.stackType==="100%"&&(Array.isArray(d.yaxis)?d.yaxis.forEach(function(g,y){d.yaxis[y].min=0,d.yaxis[y].max=100}):(d.yaxis.min=0,d.yaxis.max=100)),d}},{key:"revertDefaultAxisMinMax",value:function(d){var g=this,y=this.w,k=y.globals.lastXAxis,T=y.globals.lastYAxis;d&&d.xaxis&&(k=d.xaxis),d&&d.yaxis&&(T=d.yaxis),y.config.xaxis.min=k.min,y.config.xaxis.max=k.max;var D=function(_){T[_]!==void 0&&(y.config.yaxis[_].min=T[_].min,y.config.yaxis[_].max=T[_].max)};y.config.yaxis.map(function(_,I){y.globals.zoomed||T[I]!==void 0?D(I):g.ctx.opts.yaxis[I]!==void 0&&(_.min=g.ctx.opts.yaxis[I].min,_.max=g.ctx.opts.yaxis[I].max)})}}]),me}();Us=typeof window<"u"?window:void 0,ns=function(me,d){var g=(this!==void 0?this:me).SVG=function(z){if(g.supported)return z=new g.Doc(z),g.parser.draw||g.prepare(),z};if(g.ns="http://www.w3.org/2000/svg",g.xmlns="http://www.w3.org/2000/xmlns/",g.xlink="http://www.w3.org/1999/xlink",g.svgjs="http://svgjs.dev",g.supported=!0,!g.supported)return!1;g.did=1e3,g.eid=function(z){return"Svgjs"+Z(z)+g.did++},g.create=function(z){var ie=d.createElementNS(this.ns,z);return ie.setAttribute("id",this.eid(z)),ie},g.extend=function(){var z,ie;ie=(z=[].slice.call(arguments)).pop();for(var de=z.length-1;de>=0;de--)if(z[de])for(var Se in ie)z[de].prototype[Se]=ie[Se];g.Set&&g.Set.inherit&&g.Set.inherit()},g.invent=function(z){var ie=typeof z.create=="function"?z.create:function(){this.constructor.call(this,g.create(z.create))};return z.inherit&&(ie.prototype=new z.inherit),z.extend&&g.extend(ie,z.extend),z.construct&&g.extend(z.parent||g.Container,z.construct),ie},g.adopt=function(z){return z?z.instance?z.instance:((ie=z.nodeName=="svg"?z.parentNode instanceof me.SVGElement?new g.Nested:new g.Doc:z.nodeName=="linearGradient"?new g.Gradient("linear"):z.nodeName=="radialGradient"?new g.Gradient("radial"):g[Z(z.nodeName)]?new g[Z(z.nodeName)]:new g.Element(z)).type=z.nodeName,ie.node=z,z.instance=ie,ie instanceof g.Doc&&ie.namespace().defs(),ie.setData(JSON.parse(z.getAttribute("svgjs:data"))||{}),ie):null;var ie},g.prepare=function(){var z=d.getElementsByTagName("body")[0],ie=(z?new g.Doc(z):g.adopt(d.documentElement).nested()).size(2,0);g.parser={body:z||d.documentElement,draw:ie.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:ie.polyline().node,path:ie.path().node,native:g.create("svg")}},g.parser={native:g.create("svg")},d.addEventListener("DOMContentLoaded",function(){g.parser.draw||g.prepare()},!1),g.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},g.utils={map:function(z,ie){for(var de=z.length,Se=[],Ne=0;Ne<de;Ne++)Se.push(ie(z[Ne]));return Se},filter:function(z,ie){for(var de=z.length,Se=[],Ne=0;Ne<de;Ne++)ie(z[Ne])&&Se.push(z[Ne]);return Se},filterSVGElements:function(z){return this.filter(z,function(ie){return ie instanceof me.SVGElement})}},g.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},g.Color=function(z){var ie,de;this.r=0,this.g=0,this.b=0,z&&(typeof z=="string"?g.regex.isRgb.test(z)?(ie=g.regex.rgb.exec(z.replace(g.regex.whitespace,"")),this.r=parseInt(ie[1]),this.g=parseInt(ie[2]),this.b=parseInt(ie[3])):g.regex.isHex.test(z)&&(ie=g.regex.hex.exec((de=z).length==4?["#",de.substring(1,2),de.substring(1,2),de.substring(2,3),de.substring(2,3),de.substring(3,4),de.substring(3,4)].join(""):de),this.r=parseInt(ie[1],16),this.g=parseInt(ie[2],16),this.b=parseInt(ie[3],16)):c(z)==="object"&&(this.r=z.r,this.g=z.g,this.b=z.b))},g.extend(g.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+j(this.r)+j(this.g)+j(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(z){return this.destination=new g.Color(z),this},at:function(z){return this.destination?(z=z<0?0:z>1?1:z,new g.Color({r:~~(this.r+(this.destination.r-this.r)*z),g:~~(this.g+(this.destination.g-this.g)*z),b:~~(this.b+(this.destination.b-this.b)*z)})):this}}),g.Color.test=function(z){return z+="",g.regex.isHex.test(z)||g.regex.isRgb.test(z)},g.Color.isRgb=function(z){return z&&typeof z.r=="number"&&typeof z.g=="number"&&typeof z.b=="number"},g.Color.isColor=function(z){return g.Color.isRgb(z)||g.Color.test(z)},g.Array=function(z,ie){(z=(z||[]).valueOf()).length==0&&ie&&(z=ie.valueOf()),this.value=this.parse(z)},g.extend(g.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(z){return z=z.valueOf(),Array.isArray(z)?z:this.split(z)}}),g.PointArray=function(z,ie){g.Array.call(this,z,ie||[[0,0]])},g.PointArray.prototype=new g.Array,g.PointArray.prototype.constructor=g.PointArray;for(var y={M:function(z,ie,de){return ie.x=de.x=z[0],ie.y=de.y=z[1],["M",ie.x,ie.y]},L:function(z,ie){return ie.x=z[0],ie.y=z[1],["L",z[0],z[1]]},H:function(z,ie){return ie.x=z[0],["H",z[0]]},V:function(z,ie){return ie.y=z[0],["V",z[0]]},C:function(z,ie){return ie.x=z[4],ie.y=z[5],["C",z[0],z[1],z[2],z[3],z[4],z[5]]},Q:function(z,ie){return ie.x=z[2],ie.y=z[3],["Q",z[0],z[1],z[2],z[3]]},Z:function(z,ie,de){return ie.x=de.x,ie.y=de.y,["Z"]}},k="mlhvqtcsaz".split(""),T=0,D=k.length;T<D;++T)y[k[T]]=function(z){return function(ie,de,Se){if(z=="H")ie[0]=ie[0]+de.x;else if(z=="V")ie[0]=ie[0]+de.y;else if(z=="A")ie[5]=ie[5]+de.x,ie[6]=ie[6]+de.y;else for(var Ne=0,Oe=ie.length;Ne<Oe;++Ne)ie[Ne]=ie[Ne]+(Ne%2?de.y:de.x);if(y&&typeof y[z]=="function")return y[z](ie,de,Se)}}(k[T].toUpperCase());g.PathArray=function(z,ie){g.Array.call(this,z,ie||[["M",0,0]])},g.PathArray.prototype=new g.Array,g.PathArray.prototype.constructor=g.PathArray,g.extend(g.PathArray,{toString:function(){return function(z){for(var ie=0,de=z.length,Se="";ie<de;ie++)Se+=z[ie][0],z[ie][1]!=null&&(Se+=z[ie][1],z[ie][2]!=null&&(Se+=" ",Se+=z[ie][2],z[ie][3]!=null&&(Se+=" ",Se+=z[ie][3],Se+=" ",Se+=z[ie][4],z[ie][5]!=null&&(Se+=" ",Se+=z[ie][5],Se+=" ",Se+=z[ie][6],z[ie][7]!=null&&(Se+=" ",Se+=z[ie][7])))));return Se+" "}(this.value)},move:function(z,ie){var de=this.bbox();return de.x,de.y,this},at:function(z){if(!this.destination)return this;for(var ie=this.value,de=this.destination.value,Se=[],Ne=new g.PathArray,Oe=0,ot=ie.length;Oe<ot;Oe++){Se[Oe]=[ie[Oe][0]];for(var nt=1,Dt=ie[Oe].length;nt<Dt;nt++)Se[Oe][nt]=ie[Oe][nt]+(de[Oe][nt]-ie[Oe][nt])*z;Se[Oe][0]==="A"&&(Se[Oe][4]=+(Se[Oe][4]!=0),Se[Oe][5]=+(Se[Oe][5]!=0))}return Ne.value=Se,Ne},parse:function(z){if(z instanceof g.PathArray)return z.valueOf();var ie,de={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};z=typeof z=="string"?z.replace(g.regex.numbersWithDots,I).replace(g.regex.pathLetters," $& ").replace(g.regex.hyphen,"$1 -").trim().split(g.regex.delimiter):z.reduce(function(Dt,It){return[].concat.call(Dt,It)},[]);var Se=[],Ne=new g.Point,Oe=new g.Point,ot=0,nt=z.length;do g.regex.isPathLetter.test(z[ot])?(ie=z[ot],++ot):ie=="M"?ie="L":ie=="m"&&(ie="l"),Se.push(y[ie].call(null,z.slice(ot,ot+=de[ie.toUpperCase()]).map(parseFloat),Ne,Oe));while(nt>ot);return Se},bbox:function(){return g.parser.draw||g.prepare(),g.parser.path.setAttribute("d",this.toString()),g.parser.path.getBBox()}}),g.Number=g.invent({create:function(z,ie){this.value=0,this.unit=ie||"",typeof z=="number"?this.value=isNaN(z)?0:isFinite(z)?z:z<0?-34e37:34e37:typeof z=="string"?(ie=z.match(g.regex.numberAndUnit))&&(this.value=parseFloat(ie[1]),ie[5]=="%"?this.value/=100:ie[5]=="s"&&(this.value*=1e3),this.unit=ie[5]):z instanceof g.Number&&(this.value=z.valueOf(),this.unit=z.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(z){return z=new g.Number(z),new g.Number(this+z,this.unit||z.unit)},minus:function(z){return z=new g.Number(z),new g.Number(this-z,this.unit||z.unit)},times:function(z){return z=new g.Number(z),new g.Number(this*z,this.unit||z.unit)},divide:function(z){return z=new g.Number(z),new g.Number(this/z,this.unit||z.unit)},to:function(z){var ie=new g.Number(this);return typeof z=="string"&&(ie.unit=z),ie},morph:function(z){return this.destination=new g.Number(z),z.relative&&(this.destination.value+=this.value),this},at:function(z){return this.destination?new g.Number(this.destination).minus(this).times(z).plus(this):this}}}),g.Element=g.invent({create:function(z){this._stroke=g.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=z)&&(this.type=z.nodeName,this.node.instance=this,this._stroke=z.getAttribute("stroke")||this._stroke)},extend:{x:function(z){return this.attr("x",z)},y:function(z){return this.attr("y",z)},cx:function(z){return z==null?this.x()+this.width()/2:this.x(z-this.width()/2)},cy:function(z){return z==null?this.y()+this.height()/2:this.y(z-this.height()/2)},move:function(z,ie){return this.x(z).y(ie)},center:function(z,ie){return this.cx(z).cy(ie)},width:function(z){return this.attr("width",z)},height:function(z){return this.attr("height",z)},size:function(z,ie){var de=te(this,z,ie);return this.width(new g.Number(de.width)).height(new g.Number(de.height))},clone:function(z){this.writeDataToDom();var ie=ge(this.node.cloneNode(!0));return z?z.add(ie):this.after(ie),ie},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(z){return this.after(z).remove(),z},addTo:function(z){return z.put(this)},putIn:function(z){return z.add(this)},id:function(z){return this.attr("id",z)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var z=this.attr("class");return z==null?[]:z.trim().split(g.regex.delimiter)},hasClass:function(z){return this.classes().indexOf(z)!=-1},addClass:function(z){if(!this.hasClass(z)){var ie=this.classes();ie.push(z),this.attr("class",ie.join(" "))}return this},removeClass:function(z){return this.hasClass(z)&&this.attr("class",this.classes().filter(function(ie){return ie!=z}).join(" ")),this},toggleClass:function(z){return this.hasClass(z)?this.removeClass(z):this.addClass(z)},reference:function(z){return g.get(this.attr(z))},parent:function(z){var ie=this;if(!ie.node.parentNode)return null;if(ie=g.adopt(ie.node.parentNode),!z)return ie;for(;ie&&ie.node instanceof me.SVGElement;){if(typeof z=="string"?ie.matches(z):ie instanceof z)return ie;if(!ie.node.parentNode||ie.node.parentNode.nodeName=="#document")return null;ie=g.adopt(ie.node.parentNode)}},doc:function(){return this instanceof g.Doc?this:this.parent(g.Doc)},parents:function(z){var ie=[],de=this;do{if(!(de=de.parent(z))||!de.node)break;ie.push(de)}while(de.parent);return ie},matches:function(z){return function(ie,de){return(ie.matches||ie.matchesSelector||ie.msMatchesSelector||ie.mozMatchesSelector||ie.webkitMatchesSelector||ie.oMatchesSelector).call(ie,de)}(this.node,z)},native:function(){return this.node},svg:function(z){var ie=d.createElement("svg");if(!(z&&this instanceof g.Parent))return ie.appendChild(z=d.createElement("svg")),this.writeDataToDom(),z.appendChild(this.node.cloneNode(!0)),ie.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");ie.innerHTML="<svg>"+z.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var de=0,Se=ie.firstChild.childNodes.length;de<Se;de++)this.node.appendChild(ie.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(z){return this.dom=z,this},is:function(z){return function(ie,de){return ie instanceof de}(this,z)}}}),g.easing={"-":function(z){return z},"<>":function(z){return-Math.cos(z*Math.PI)/2+.5},">":function(z){return Math.sin(z*Math.PI/2)},"<":function(z){return 1-Math.cos(z*Math.PI/2)}},g.morph=function(z){return function(ie,de){return new g.MorphObj(ie,de).at(z)}},g.Situation=g.invent({create:function(z){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new g.Number(z.duration).valueOf(),this.delay=new g.Number(z.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=z.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),g.FX=g.invent({create:function(z){this._target=z,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(z,ie,de){c(z)==="object"&&(ie=z.ease,de=z.delay,z=z.duration);var Se=new g.Situation({duration:z||1e3,delay:de||0,ease:g.easing[ie||"-"]||ie});return this.queue(Se),this},target:function(z){return z&&z instanceof g.Element?(this._target=z,this):this._target},timeToAbsPos:function(z){return(z-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(z){return this.situation.duration/this._speed*z+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=me.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){me.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(z){return(typeof z=="function"||z instanceof g.Situation)&&this.situations.push(z),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof g.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var z,ie=this.situation;if(ie.init)return this;for(var de in ie.animations){z=this.target()[de](),Array.isArray(z)||(z=[z]),Array.isArray(ie.animations[de])||(ie.animations[de]=[ie.animations[de]]);for(var Se=z.length;Se--;)ie.animations[de][Se]instanceof g.Number&&(z[Se]=new g.Number(z[Se])),ie.animations[de][Se]=z[Se].morph(ie.animations[de][Se])}for(var de in ie.attrs)ie.attrs[de]=new g.MorphObj(this.target().attr(de),ie.attrs[de]);for(var de in ie.styles)ie.styles[de]=new g.MorphObj(this.target().style(de),ie.styles[de]);return ie.initialTransformation=this.target().matrixify(),ie.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(z,ie){var de=this.active;return this.active=!1,ie&&this.clearQueue(),z&&this.situation&&(!de&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(z){var ie=this.last();return this.target().on("finished.fx",function de(Se){Se.detail.situation==ie&&(z.call(this,ie),this.off("finished.fx",de))}),this._callStart()},during:function(z){var ie=this.last(),de=function(Se){Se.detail.situation==ie&&z.call(this,Se.detail.pos,g.morph(Se.detail.pos),Se.detail.eased,ie)};return this.target().off("during.fx",de).on("during.fx",de),this.after(function(){this.off("during.fx",de)}),this._callStart()},afterAll:function(z){var ie=function de(Se){z.call(this),this.off("allfinished.fx",de)};return this.target().off("allfinished.fx",ie).on("allfinished.fx",ie),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(z,ie,de){return this.last()[de||"animations"][z]=ie,this._callStart()},step:function(z){var ie,de,Se;z||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(ie=Math.max(this.absPos,0),de=Math.floor(ie),this.situation.loops===!0||de<this.situation.loops?(this.pos=ie-de,Se=this.situation.loop,this.situation.loop=de):(this.absPos=this.situation.loops,this.pos=1,Se=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-Se)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Ne=this.situation.ease(this.pos);for(var Oe in this.situation.once)Oe>this.lastPos&&Oe<=Ne&&(this.situation.once[Oe].call(this.target(),this.pos,Ne),delete this.situation.once[Oe]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Ne,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Ne,this):this},eachAt:function(){var z,ie=this,de=this.target(),Se=this.situation;for(var Ne in Se.animations)z=[].concat(Se.animations[Ne]).map(function(nt){return typeof nt!="string"&&nt.at?nt.at(Se.ease(ie.pos),ie.pos):nt}),de[Ne].apply(de,z);for(var Ne in Se.attrs)z=[Ne].concat(Se.attrs[Ne]).map(function(Dt){return typeof Dt!="string"&&Dt.at?Dt.at(Se.ease(ie.pos),ie.pos):Dt}),de.attr.apply(de,z);for(var Ne in Se.styles)z=[Ne].concat(Se.styles[Ne]).map(function(Dt){return typeof Dt!="string"&&Dt.at?Dt.at(Se.ease(ie.pos),ie.pos):Dt}),de.style.apply(de,z);if(Se.transforms.length){z=Se.initialTransformation,Ne=0;for(var Oe=Se.transforms.length;Ne<Oe;Ne++){var ot=Se.transforms[Ne];ot instanceof g.Matrix?z=ot.relative?z.multiply(new g.Matrix().morph(ot).at(Se.ease(this.pos))):z.morph(ot).at(Se.ease(this.pos)):(ot.relative||ot.undo(z.extract()),z=z.multiply(ot.at(Se.ease(this.pos))))}de.matrix(z)}return this},once:function(z,ie,de){var Se=this.last();return de||(z=Se.ease(z)),Se.once[z]=ie,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:g.Element,construct:{animate:function(z,ie,de){return(this.fx||(this.fx=new g.FX(this))).animate(z,ie,de)},delay:function(z){return(this.fx||(this.fx=new g.FX(this))).delay(z)},stop:function(z,ie){return this.fx&&this.fx.stop(z,ie),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),g.MorphObj=g.invent({create:function(z,ie){return g.Color.isColor(ie)?new g.Color(z).morph(ie):g.regex.delimiter.test(z)?g.regex.pathLetters.test(z)?new g.PathArray(z).morph(ie):new g.Array(z).morph(ie):g.regex.numberAndUnit.test(ie)?new g.Number(z).morph(ie):(this.value=z,void(this.destination=ie))},extend:{at:function(z,ie){return ie<1?this.value:this.destination},valueOf:function(){return this.value}}}),g.extend(g.FX,{attr:function(z,ie,de){if(c(z)==="object")for(var Se in z)this.attr(Se,z[Se]);else this.add(z,ie,"attrs");return this},plot:function(z,ie,de,Se){return arguments.length==4?this.plot([z,ie,de,Se]):this.add("plot",new(this.target()).morphArray(z))}}),g.Box=g.invent({create:function(z,ie,de,Se){if(!(c(z)!=="object"||z instanceof g.Element))return g.Box.call(this,z.left!=null?z.left:z.x,z.top!=null?z.top:z.y,z.width,z.height);var Ne;arguments.length==4&&(this.x=z,this.y=ie,this.width=de,this.height=Se),(Ne=this).x==null&&(Ne.x=0,Ne.y=0,Ne.width=0,Ne.height=0),Ne.w=Ne.width,Ne.h=Ne.height,Ne.x2=Ne.x+Ne.width,Ne.y2=Ne.y+Ne.height,Ne.cx=Ne.x+Ne.width/2,Ne.cy=Ne.y+Ne.height/2}}),g.BBox=g.invent({create:function(z){if(g.Box.apply(this,[].slice.call(arguments)),z instanceof g.Element){var ie;try{if(!d.documentElement.contains){for(var de=z.node;de.parentNode;)de=de.parentNode;if(de!=d)throw new Error("Element not in the dom")}ie=z.node.getBBox()}catch{if(z instanceof g.Shape){g.parser.draw||g.prepare();var Se=z.clone(g.parser.draw.instance).show();Se&&Se.node&&typeof Se.node.getBBox=="function"&&(ie=Se.node.getBBox()),Se&&typeof Se.remove=="function"&&Se.remove()}else ie={x:z.node.clientLeft,y:z.node.clientTop,width:z.node.clientWidth,height:z.node.clientHeight}}g.Box.call(this,ie)}},inherit:g.Box,parent:g.Element,construct:{bbox:function(){return new g.BBox(this)}}}),g.BBox.prototype.constructor=g.BBox,g.Matrix=g.invent({create:function(z){var ie=ue([1,0,0,1,0,0]);z=z===null?ie:z instanceof g.Element?z.matrixify():typeof z=="string"?ue(z.split(g.regex.delimiter).map(parseFloat)):arguments.length==6?ue([].slice.call(arguments)):Array.isArray(z)?ue(z):z&&c(z)==="object"?z:ie;for(var de=ke.length-1;de>=0;--de)this[ke[de]]=z[ke[de]]!=null?z[ke[de]]:ie[ke[de]]},extend:{extract:function(){var z=ce(this,0,1);ce(this,1,0);var ie=180/Math.PI*Math.atan2(z.y,z.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(ie*Math.PI/180)+this.f*Math.sin(ie*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(ie*Math.PI/180)+this.e*Math.sin(-ie*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:ie,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new g.Matrix(this)}},clone:function(){return new g.Matrix(this)},morph:function(z){return this.destination=new g.Matrix(z),this},multiply:function(z){return new g.Matrix(this.native().multiply(function(ie){return ie instanceof g.Matrix||(ie=new g.Matrix(ie)),ie}(z).native()))},inverse:function(){return new g.Matrix(this.native().inverse())},translate:function(z,ie){return new g.Matrix(this.native().translate(z||0,ie||0))},native:function(){for(var z=g.parser.native.createSVGMatrix(),ie=ke.length-1;ie>=0;ie--)z[ke[ie]]=this[ke[ie]];return z},toString:function(){return"matrix("+be(this.a)+","+be(this.b)+","+be(this.c)+","+be(this.d)+","+be(this.e)+","+be(this.f)+")"}},parent:g.Element,construct:{ctm:function(){return new g.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof g.Nested){var z=this.rect(1,1),ie=z.node.getScreenCTM();return z.remove(),new g.Matrix(ie)}return new g.Matrix(this.node.getScreenCTM())}}}),g.Point=g.invent({create:function(z,ie){var de;de=Array.isArray(z)?{x:z[0],y:z[1]}:c(z)==="object"?{x:z.x,y:z.y}:z!=null?{x:z,y:ie??z}:{x:0,y:0},this.x=de.x,this.y=de.y},extend:{clone:function(){return new g.Point(this)},morph:function(z,ie){return this.destination=new g.Point(z,ie),this}}}),g.extend(g.Element,{point:function(z,ie){return new g.Point(z,ie).transform(this.screenCTM().inverse())}}),g.extend(g.Element,{attr:function(z,ie,de){if(z==null){for(z={},de=(ie=this.node.attributes).length-1;de>=0;de--)z[ie[de].nodeName]=g.regex.isNumber.test(ie[de].nodeValue)?parseFloat(ie[de].nodeValue):ie[de].nodeValue;return z}if(c(z)==="object")for(var Se in z)this.attr(Se,z[Se]);else if(ie===null)this.node.removeAttribute(z);else{if(ie==null)return(ie=this.node.getAttribute(z))==null?g.defaults.attrs[z]:g.regex.isNumber.test(ie)?parseFloat(ie):ie;z=="stroke-width"?this.attr("stroke",parseFloat(ie)>0?this._stroke:null):z=="stroke"&&(this._stroke=ie),z!="fill"&&z!="stroke"||(g.regex.isImage.test(ie)&&(ie=this.doc().defs().image(ie,0,0)),ie instanceof g.Image&&(ie=this.doc().defs().pattern(0,0,function(){this.add(ie)}))),typeof ie=="number"?ie=new g.Number(ie):g.Color.isColor(ie)?ie=new g.Color(ie):Array.isArray(ie)&&(ie=new g.Array(ie)),z=="leading"?this.leading&&this.leading(ie):typeof de=="string"?this.node.setAttributeNS(de,z,ie.toString()):this.node.setAttribute(z,ie.toString()),!this.rebuild||z!="font-size"&&z!="x"||this.rebuild(z,ie)}return this}}),g.extend(g.Element,{transform:function(z,ie){var de;return c(z)!=="object"?(de=new g.Matrix(this).extract(),typeof z=="string"?de[z]:de):(de=new g.Matrix(this),ie=!!ie||!!z.relative,z.a!=null&&(de=ie?de.multiply(new g.Matrix(z)):new g.Matrix(z)),this.attr("transform",de))}}),g.extend(g.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(g.regex.transforms).slice(0,-1).map(function(z){var ie=z.trim().split("(");return[ie[0],ie[1].split(g.regex.delimiter).map(function(de){return parseFloat(de)})]}).reduce(function(z,ie){return ie[0]=="matrix"?z.multiply(ue(ie[1])):z[ie[0]].apply(z,ie[1])},new g.Matrix)},toParent:function(z){if(this==z)return this;var ie=this.screenCTM(),de=z.screenCTM().inverse();return this.addTo(z).untransform().transform(de.multiply(ie)),this},toDoc:function(){return this.toParent(this.doc())}}),g.Transformation=g.invent({create:function(z,ie){if(arguments.length>1&&typeof ie!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(z))for(var de=0,Se=this.arguments.length;de<Se;++de)this[this.arguments[de]]=z[de];else if(z&&c(z)==="object")for(de=0,Se=this.arguments.length;de<Se;++de)this[this.arguments[de]]=z[this.arguments[de]];this.inversed=!1,ie===!0&&(this.inversed=!0)}}),g.Translate=g.invent({parent:g.Matrix,inherit:g.Transformation,create:function(z,ie){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),g.extend(g.Element,{style:function(z,ie){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(c(z)==="object")for(var de in z)this.style(de,z[de]);else{if(!g.regex.isCss.test(z))return this.node.style[H(z)];for(z=z.split(/\s*;\s*/).filter(function(Se){return!!Se}).map(function(Se){return Se.split(/\s*:\s*/)});ie=z.pop();)this.style(ie[0],ie[1])}else this.node.style[H(z)]=ie===null||g.regex.isBlank.test(ie)?"":ie;return this}}),g.Parent=g.invent({create:function(z){this.constructor.call(this,z)},inherit:g.Element,extend:{children:function(){return g.utils.map(g.utils.filterSVGElements(this.node.childNodes),function(z){return g.adopt(z)})},add:function(z,ie){return ie==null?this.node.appendChild(z.node):z.node!=this.node.childNodes[ie]&&this.node.insertBefore(z.node,this.node.childNodes[ie]),this},put:function(z,ie){return this.add(z,ie),z},has:function(z){return this.index(z)>=0},index:function(z){return[].slice.call(this.node.childNodes).indexOf(z.node)},get:function(z){return g.adopt(this.node.childNodes[z])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(z,ie){for(var de=this.children(),Se=0,Ne=de.length;Se<Ne;Se++)de[Se]instanceof g.Element&&z.apply(de[Se],[Se,de]),ie&&de[Se]instanceof g.Container&&de[Se].each(z,ie);return this},removeElement:function(z){return this.node.removeChild(z.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),g.extend(g.Parent,{ungroup:function(z,ie){return ie===0||this instanceof g.Defs||this.node==g.parser.draw||(z=z||(this instanceof g.Doc?this:this.parent(g.Parent)),ie=ie||1/0,this.each(function(){return this instanceof g.Defs?this:this instanceof g.Parent?this.ungroup(z,ie-1):this.toParent(z)}),this.node.firstChild||this.remove()),this},flatten:function(z,ie){return this.ungroup(z,ie)}}),g.Container=g.invent({create:function(z){this.constructor.call(this,z)},inherit:g.Parent}),g.ViewBox=g.invent({parent:g.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(z){g.Element.prototype[z]=function(ie){return g.on(this.node,z,ie),this}}),g.listeners=[],g.handlerMap=[],g.listenerId=0,g.on=function(z,ie,de,Se,Ne){var Oe=de.bind(Se||z.instance||z),ot=(g.handlerMap.indexOf(z)+1||g.handlerMap.push(z))-1,nt=ie.split(".")[0],Dt=ie.split(".")[1]||"*";g.listeners[ot]=g.listeners[ot]||{},g.listeners[ot][nt]=g.listeners[ot][nt]||{},g.listeners[ot][nt][Dt]=g.listeners[ot][nt][Dt]||{},de._svgjsListenerId||(de._svgjsListenerId=++g.listenerId),g.listeners[ot][nt][Dt][de._svgjsListenerId]=Oe,z.addEventListener(nt,Oe,Ne||{passive:!0})},g.off=function(z,ie,de){var Se=g.handlerMap.indexOf(z),Ne=ie&&ie.split(".")[0],Oe=ie&&ie.split(".")[1],ot="";if(Se!=-1)if(de){if(typeof de=="function"&&(de=de._svgjsListenerId),!de)return;g.listeners[Se][Ne]&&g.listeners[Se][Ne][Oe||"*"]&&(z.removeEventListener(Ne,g.listeners[Se][Ne][Oe||"*"][de],!1),delete g.listeners[Se][Ne][Oe||"*"][de])}else if(Oe&&Ne){if(g.listeners[Se][Ne]&&g.listeners[Se][Ne][Oe]){for(var nt in g.listeners[Se][Ne][Oe])g.off(z,[Ne,Oe].join("."),nt);delete g.listeners[Se][Ne][Oe]}}else if(Oe)for(var Dt in g.listeners[Se])for(var ot in g.listeners[Se][Dt])Oe===ot&&g.off(z,[Dt,Oe].join("."));else if(Ne){if(g.listeners[Se][Ne]){for(var ot in g.listeners[Se][Ne])g.off(z,[Ne,ot].join("."));delete g.listeners[Se][Ne]}}else{for(var Dt in g.listeners[Se])g.off(z,Dt);delete g.listeners[Se],delete g.handlerMap[Se]}},g.extend(g.Element,{on:function(z,ie,de,Se){return g.on(this.node,z,ie,de,Se),this},off:function(z,ie){return g.off(this.node,z,ie),this},fire:function(z,ie){return z instanceof me.Event?this.node.dispatchEvent(z):this.node.dispatchEvent(z=new g.CustomEvent(z,{detail:ie,cancelable:!0})),this._event=z,this},event:function(){return this._event}}),g.Defs=g.invent({create:"defs",inherit:g.Container}),g.G=g.invent({create:"g",inherit:g.Container,extend:{x:function(z){return z==null?this.transform("x"):this.transform({x:z-this.x()},!0)}},construct:{group:function(){return this.put(new g.G)}}}),g.Doc=g.invent({create:function(z){z&&((z=typeof z=="string"?d.getElementById(z):z).nodeName=="svg"?this.constructor.call(this,z):(this.constructor.call(this,g.create("svg")),z.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:g.Container,extend:{namespace:function(){return this.attr({xmlns:g.ns,version:"1.1"}).attr("xmlns:xlink",g.xlink,g.xmlns).attr("xmlns:svgjs",g.svgjs,g.xmlns)},defs:function(){var z;return this._defs||((z=this.node.getElementsByTagName("defs")[0])?this._defs=g.adopt(z):this._defs=new g.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,g.parser.draw&&!g.parser.draw.parentNode&&this.node.appendChild(g.parser.draw),this},clone:function(z){this.writeDataToDom();var ie=this.node,de=ge(ie.cloneNode(!0));return z?(z.node||z).appendChild(de.node):ie.parentNode.insertBefore(de.node,ie.nextSibling),de}}}),g.extend(g.Element,{}),g.Gradient=g.invent({create:function(z){this.constructor.call(this,g.create(z+"Gradient")),this.type=z},inherit:g.Container,extend:{at:function(z,ie,de){return this.put(new g.Stop).update(z,ie,de)},update:function(z){return this.clear(),typeof z=="function"&&z.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(z,ie,de){return z=="transform"&&(z="gradientTransform"),g.Container.prototype.attr.call(this,z,ie,de)}},construct:{gradient:function(z,ie){return this.defs().gradient(z,ie)}}}),g.extend(g.Gradient,g.FX,{from:function(z,ie){return(this._target||this).type=="radial"?this.attr({fx:new g.Number(z),fy:new g.Number(ie)}):this.attr({x1:new g.Number(z),y1:new g.Number(ie)})},to:function(z,ie){return(this._target||this).type=="radial"?this.attr({cx:new g.Number(z),cy:new g.Number(ie)}):this.attr({x2:new g.Number(z),y2:new g.Number(ie)})}}),g.extend(g.Defs,{gradient:function(z,ie){return this.put(new g.Gradient(z)).update(ie)}}),g.Stop=g.invent({create:"stop",inherit:g.Element,extend:{update:function(z){return(typeof z=="number"||z instanceof g.Number)&&(z={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),z.opacity!=null&&this.attr("stop-opacity",z.opacity),z.color!=null&&this.attr("stop-color",z.color),z.offset!=null&&this.attr("offset",new g.Number(z.offset)),this}}}),g.Pattern=g.invent({create:"pattern",inherit:g.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(z){return this.clear(),typeof z=="function"&&z.call(this,this),this},toString:function(){return this.fill()},attr:function(z,ie,de){return z=="transform"&&(z="patternTransform"),g.Container.prototype.attr.call(this,z,ie,de)}},construct:{pattern:function(z,ie,de){return this.defs().pattern(z,ie,de)}}}),g.extend(g.Defs,{pattern:function(z,ie,de){return this.put(new g.Pattern).update(de).attr({x:0,y:0,width:z,height:ie,patternUnits:"userSpaceOnUse"})}}),g.Shape=g.invent({create:function(z){this.constructor.call(this,z)},inherit:g.Element}),g.Symbol=g.invent({create:"symbol",inherit:g.Container,construct:{symbol:function(){return this.put(new g.Symbol)}}}),g.Use=g.invent({create:"use",inherit:g.Shape,extend:{element:function(z,ie){return this.attr("href",(ie||"")+"#"+z,g.xlink)}},construct:{use:function(z,ie){return this.put(new g.Use).element(z,ie)}}}),g.Rect=g.invent({create:"rect",inherit:g.Shape,construct:{rect:function(z,ie){return this.put(new g.Rect).size(z,ie)}}}),g.Circle=g.invent({create:"circle",inherit:g.Shape,construct:{circle:function(z){return this.put(new g.Circle).rx(new g.Number(z).divide(2)).move(0,0)}}}),g.extend(g.Circle,g.FX,{rx:function(z){return this.attr("r",z)},ry:function(z){return this.rx(z)}}),g.Ellipse=g.invent({create:"ellipse",inherit:g.Shape,construct:{ellipse:function(z,ie){return this.put(new g.Ellipse).size(z,ie).move(0,0)}}}),g.extend(g.Ellipse,g.Rect,g.FX,{rx:function(z){return this.attr("rx",z)},ry:function(z){return this.attr("ry",z)}}),g.extend(g.Circle,g.Ellipse,{x:function(z){return z==null?this.cx()-this.rx():this.cx(z+this.rx())},y:function(z){return z==null?this.cy()-this.ry():this.cy(z+this.ry())},cx:function(z){return z==null?this.attr("cx"):this.attr("cx",z)},cy:function(z){return z==null?this.attr("cy"):this.attr("cy",z)},width:function(z){return z==null?2*this.rx():this.rx(new g.Number(z).divide(2))},height:function(z){return z==null?2*this.ry():this.ry(new g.Number(z).divide(2))},size:function(z,ie){var de=te(this,z,ie);return this.rx(new g.Number(de.width).divide(2)).ry(new g.Number(de.height).divide(2))}}),g.Line=g.invent({create:"line",inherit:g.Shape,extend:{array:function(){return new g.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(z,ie,de,Se){return z==null?this.array():(z=ie!==void 0?{x1:z,y1:ie,x2:de,y2:Se}:new g.PointArray(z).toLine(),this.attr(z))},move:function(z,ie){return this.attr(this.array().move(z,ie).toLine())},size:function(z,ie){var de=te(this,z,ie);return this.attr(this.array().size(de.width,de.height).toLine())}},construct:{line:function(z,ie,de,Se){return g.Line.prototype.plot.apply(this.put(new g.Line),z!=null?[z,ie,de,Se]:[0,0,0,0])}}}),g.Polyline=g.invent({create:"polyline",inherit:g.Shape,construct:{polyline:function(z){return this.put(new g.Polyline).plot(z||new g.PointArray)}}}),g.Polygon=g.invent({create:"polygon",inherit:g.Shape,construct:{polygon:function(z){return this.put(new g.Polygon).plot(z||new g.PointArray)}}}),g.extend(g.Polyline,g.Polygon,{array:function(){return this._array||(this._array=new g.PointArray(this.attr("points")))},plot:function(z){return z==null?this.array():this.clear().attr("points",typeof z=="string"?z:this._array=new g.PointArray(z))},clear:function(){return delete this._array,this},move:function(z,ie){return this.attr("points",this.array().move(z,ie))},size:function(z,ie){var de=te(this,z,ie);return this.attr("points",this.array().size(de.width,de.height))}}),g.extend(g.Line,g.Polyline,g.Polygon,{morphArray:g.PointArray,x:function(z){return z==null?this.bbox().x:this.move(z,this.bbox().y)},y:function(z){return z==null?this.bbox().y:this.move(this.bbox().x,z)},width:function(z){var ie=this.bbox();return z==null?ie.width:this.size(z,ie.height)},height:function(z){var ie=this.bbox();return z==null?ie.height:this.size(ie.width,z)}}),g.Path=g.invent({create:"path",inherit:g.Shape,extend:{morphArray:g.PathArray,array:function(){return this._array||(this._array=new g.PathArray(this.attr("d")))},plot:function(z){return z==null?this.array():this.clear().attr("d",typeof z=="string"?z:this._array=new g.PathArray(z))},clear:function(){return delete this._array,this}},construct:{path:function(z){return this.put(new g.Path).plot(z||new g.PathArray)}}}),g.Image=g.invent({create:"image",inherit:g.Shape,extend:{load:function(z){if(!z)return this;var ie=this,de=new me.Image;return g.on(de,"load",function(){g.off(de);var Se=ie.parent(g.Pattern);Se!==null&&(ie.width()==0&&ie.height()==0&&ie.size(de.width,de.height),Se&&Se.width()==0&&Se.height()==0&&Se.size(ie.width(),ie.height()),typeof ie._loaded=="function"&&ie._loaded.call(ie,{width:de.width,height:de.height,ratio:de.width/de.height,url:z}))}),g.on(de,"error",function(Se){g.off(de),typeof ie._error=="function"&&ie._error.call(ie,Se)}),this.attr("href",de.src=this.src=z,g.xlink)},loaded:function(z){return this._loaded=z,this},error:function(z){return this._error=z,this}},construct:{image:function(z,ie,de){return this.put(new g.Image).load(z).size(ie||0,de||ie||0)}}}),g.Text=g.invent({create:function(){this.constructor.call(this,g.create("text")),this.dom.leading=new g.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",g.defaults.attrs["font-family"])},inherit:g.Shape,extend:{x:function(z){return z==null?this.attr("x"):this.attr("x",z)},text:function(z){if(z===void 0){z="";for(var ie=this.node.childNodes,de=0,Se=ie.length;de<Se;++de)de!=0&&ie[de].nodeType!=3&&g.adopt(ie[de]).dom.newLined==1&&(z+=`
`),z+=ie[de].textContent;return z}if(this.clear().build(!0),typeof z=="function")z.call(this,this);else{de=0;for(var Ne=(z=z.split(`
`)).length;de<Ne;de++)this.tspan(z[de]).newLine()}return this.build(!1).rebuild()},size:function(z){return this.attr("font-size",z).rebuild()},leading:function(z){return z==null?this.dom.leading:(this.dom.leading=new g.Number(z),this.rebuild())},lines:function(){var z=(this.textPath&&this.textPath()||this).node,ie=g.utils.map(g.utils.filterSVGElements(z.childNodes),function(de){return g.adopt(de)});return new g.Set(ie)},rebuild:function(z){if(typeof z=="boolean"&&(this._rebuild=z),this._rebuild){var ie=this,de=0,Se=this.dom.leading*new g.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(ie.textPath()||this.attr("x",ie.attr("x")),this.text()==`
`?de+=Se:(this.attr("dy",Se+de),de=0))}),this.fire("rebuild")}return this},build:function(z){return this._build=!!z,this},setData:function(z){return this.dom=z,this.dom.leading=new g.Number(z.leading||1.3),this}},construct:{text:function(z){return this.put(new g.Text).text(z)},plain:function(z){return this.put(new g.Text).plain(z)}}}),g.Tspan=g.invent({create:"tspan",inherit:g.Shape,extend:{text:function(z){return z==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof z=="function"?z.call(this,this):this.plain(z),this)},dx:function(z){return this.attr("dx",z)},dy:function(z){return this.attr("dy",z)},newLine:function(){var z=this.parent(g.Text);return this.dom.newLined=!0,this.dy(z.dom.leading*z.attr("font-size")).attr("x",z.x())}}}),g.extend(g.Text,g.Tspan,{plain:function(z){return this._build===!1&&this.clear(),this.node.appendChild(d.createTextNode(z)),this},tspan:function(z){var ie=(this.textPath&&this.textPath()||this).node,de=new g.Tspan;return this._build===!1&&this.clear(),ie.appendChild(de.node),de.text(z)},clear:function(){for(var z=(this.textPath&&this.textPath()||this).node;z.hasChildNodes();)z.removeChild(z.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),g.TextPath=g.invent({create:"textPath",inherit:g.Parent,parent:g.Text,construct:{morphArray:g.PathArray,array:function(){var z=this.track();return z?z.array():null},plot:function(z){var ie=this.track(),de=null;return ie&&(de=ie.plot(z)),z==null?de:this},track:function(){var z=this.textPath();if(z)return z.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return g.adopt(this.node.firstChild)}}}),g.Nested=g.invent({create:function(){this.constructor.call(this,g.create("svg")),this.style("overflow","visible")},inherit:g.Container,construct:{nested:function(){return this.put(new g.Nested)}}});var _={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(z,ie){return ie=="color"?z:z+"-"+ie}};function I(z,ie,de,Se){return de+Se.replace(g.regex.dots," .")}function H(z){return z.toLowerCase().replace(/-(.)/g,function(ie,de){return de.toUpperCase()})}function Z(z){return z.charAt(0).toUpperCase()+z.slice(1)}function j(z){var ie=z.toString(16);return ie.length==1?"0"+ie:ie}function te(z,ie,de){if(ie==null||de==null){var Se=z.bbox();ie==null?ie=Se.width/Se.height*de:de==null&&(de=Se.height/Se.width*ie)}return{width:ie,height:de}}function ce(z,ie,de){return{x:ie*z.a+de*z.c+0,y:ie*z.b+de*z.d+0}}function ue(z){return{a:z[0],b:z[1],c:z[2],d:z[3],e:z[4],f:z[5]}}function ge(z){for(var ie=z.childNodes.length-1;ie>=0;ie--)z.childNodes[ie]instanceof me.SVGElement&&ge(z.childNodes[ie]);return g.adopt(z).id(g.eid(z.nodeName))}function be(z){return Math.abs(z)>1e-37?z:0}["fill","stroke"].forEach(function(z){var ie={};ie[z]=function(de){if(de===void 0)return this;if(typeof de=="string"||g.Color.isRgb(de)||de&&typeof de.fill=="function")this.attr(z,de);else for(var Se=_[z].length-1;Se>=0;Se--)de[_[z][Se]]!=null&&this.attr(_.prefix(z,_[z][Se]),de[_[z][Se]]);return this},g.extend(g.Element,g.FX,ie)}),g.extend(g.Element,g.FX,{translate:function(z,ie){return this.transform({x:z,y:ie})},matrix:function(z){return this.attr("transform",new g.Matrix(arguments.length==6?[].slice.call(arguments):z))},opacity:function(z){return this.attr("opacity",z)},dx:function(z){return this.x(new g.Number(z).plus(this instanceof g.FX?0:this.x()),!0)},dy:function(z){return this.y(new g.Number(z).plus(this instanceof g.FX?0:this.y()),!0)}}),g.extend(g.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(z){return this.node.getPointAtLength(z)}}),g.Set=g.invent({create:function(z){Array.isArray(z)?this.members=z:this.clear()},extend:{add:function(){for(var z=[].slice.call(arguments),ie=0,de=z.length;ie<de;ie++)this.members.push(z[ie]);return this},remove:function(z){var ie=this.index(z);return ie>-1&&this.members.splice(ie,1),this},each:function(z){for(var ie=0,de=this.members.length;ie<de;ie++)z.apply(this.members[ie],[ie,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(z){return this.index(z)>=0},index:function(z){return this.members.indexOf(z)},get:function(z){return this.members[z]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(z){return new g.Set(z)}}}),g.FX.Set=g.invent({create:function(z){this.set=z}}),g.Set.inherit=function(){var z=[];for(var ie in g.Shape.prototype)typeof g.Shape.prototype[ie]=="function"&&typeof g.Set.prototype[ie]!="function"&&z.push(ie);for(var ie in z.forEach(function(Se){g.Set.prototype[Se]=function(){for(var Ne=0,Oe=this.members.length;Ne<Oe;Ne++)this.members[Ne]&&typeof this.members[Ne][Se]=="function"&&this.members[Ne][Se].apply(this.members[Ne],arguments);return Se=="animate"?this.fx||(this.fx=new g.FX.Set(this)):this}}),z=[],g.FX.prototype)typeof g.FX.prototype[ie]=="function"&&typeof g.FX.Set.prototype[ie]!="function"&&z.push(ie);z.forEach(function(de){g.FX.Set.prototype[de]=function(){for(var Se=0,Ne=this.set.members.length;Se<Ne;Se++)this.set.members[Se].fx[de].apply(this.set.members[Se].fx,arguments);return this}})},g.extend(g.Element,{}),g.extend(g.Element,{remember:function(z,ie){if(c(arguments[0])==="object")for(var de in z)this.remember(de,z[de]);else{if(arguments.length==1)return this.memory()[z];this.memory()[z]=ie}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var z=arguments.length-1;z>=0;z--)delete this.memory()[arguments[z]];return this},memory:function(){return this._memory||(this._memory={})}}),g.get=function(z){var ie=d.getElementById(function(de){var Se=(de||"").toString().match(g.regex.reference);if(Se)return Se[1]}(z)||z);return g.adopt(ie)},g.select=function(z,ie){return new g.Set(g.utils.map((ie||d).querySelectorAll(z),function(de){return g.adopt(de)}))},g.extend(g.Parent,{select:function(z){return g.select(z,this.node)}});var ke="abcdef".split("");if(typeof me.CustomEvent!="function"){var Be=function(z,ie){ie=ie||{bubbles:!1,cancelable:!1,detail:void 0};var de=d.createEvent("CustomEvent");return de.initCustomEvent(z,ie.bubbles,ie.cancelable,ie.detail),de};Be.prototype=me.Event.prototype,g.CustomEvent=Be}else g.CustomEvent=me.CustomEvent;return g},c(s)==="object"?t.exports=Us.document?ns(Us,Us.document):function(me){return ns(me,me.document)}:Us.SVG=ns(Us,Us.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(D,_){return this.add(D,_),!D.attr("in")&&this.autoSetIn&&D.attr("in",this.source),D.attr("result")||D.attr("result",D),D},blend:function(D,_,I){return this.put(new SVG.BlendEffect(D,_,I))},colorMatrix:function(D,_){return this.put(new SVG.ColorMatrixEffect(D,_))},convolveMatrix:function(D){return this.put(new SVG.ConvolveMatrixEffect(D))},componentTransfer:function(D){return this.put(new SVG.ComponentTransferEffect(D))},composite:function(D,_,I){return this.put(new SVG.CompositeEffect(D,_,I))},flood:function(D,_){return this.put(new SVG.FloodEffect(D,_))},offset:function(D,_){return this.put(new SVG.OffsetEffect(D,_))},image:function(D){return this.put(new SVG.ImageEffect(D))},merge:function(){var D=[void 0];for(var _ in arguments)D.push(arguments[_]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,D)))},gaussianBlur:function(D,_){return this.put(new SVG.GaussianBlurEffect(D,_))},morphology:function(D,_){return this.put(new SVG.MorphologyEffect(D,_))},diffuseLighting:function(D,_,I){return this.put(new SVG.DiffuseLightingEffect(D,_,I))},displacementMap:function(D,_,I,H,Z){return this.put(new SVG.DisplacementMapEffect(D,_,I,H,Z))},specularLighting:function(D,_,I,H){return this.put(new SVG.SpecularLightingEffect(D,_,I,H))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(D,_,I,H,Z){return this.put(new SVG.TurbulenceEffect(D,_,I,H,Z))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(D){var _=this.put(new SVG.Filter);return typeof D=="function"&&D.call(_,_),_}}),SVG.extend(SVG.Container,{filter:function(D){return this.defs().filter(D)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(D){return this.filterer=D instanceof SVG.Element?D:this.doc().filter(D),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(D){return this.filterer&&D===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(D){return D==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",D)},result:function(D){return D==null?this.attr("result"):this.attr("result",D)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(D){return D==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",D)},result:function(D){return D==null?this.attr("result"):this.attr("result",D)},toString:function(){return this.result()}}});var me={blend:function(D,_){return this.parent()&&this.parent().blend(this,D,_)},colorMatrix:function(D,_){return this.parent()&&this.parent().colorMatrix(D,_).in(this)},convolveMatrix:function(D){return this.parent()&&this.parent().convolveMatrix(D).in(this)},componentTransfer:function(D){return this.parent()&&this.parent().componentTransfer(D).in(this)},composite:function(D,_){return this.parent()&&this.parent().composite(this,D,_)},flood:function(D,_){return this.parent()&&this.parent().flood(D,_)},offset:function(D,_){return this.parent()&&this.parent().offset(D,_).in(this)},image:function(D){return this.parent()&&this.parent().image(D)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(D,_){return this.parent()&&this.parent().gaussianBlur(D,_).in(this)},morphology:function(D,_){return this.parent()&&this.parent().morphology(D,_).in(this)},diffuseLighting:function(D,_,I){return this.parent()&&this.parent().diffuseLighting(D,_,I).in(this)},displacementMap:function(D,_,I,H){return this.parent()&&this.parent().displacementMap(this,D,_,I,H)},specularLighting:function(D,_,I,H){return this.parent()&&this.parent().specularLighting(D,_,I,H).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(D,_,I,H,Z){return this.parent()&&this.parent().turbulence(D,_,I,H,Z).in(this)}};SVG.extend(SVG.Effect,me),SVG.extend(SVG.ParentEffect,me),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(D){this.attr("in",D)}}});var d={blend:function(D,_,I){this.attr({in:D,in2:_,mode:I||"normal"})},colorMatrix:function(D,_){D=="matrix"&&(_=k(_)),this.attr({type:D,values:_===void 0?null:_})},convolveMatrix:function(D){D=k(D),this.attr({order:Math.sqrt(D.split(" ").length),kernelMatrix:D})},composite:function(D,_,I){this.attr({in:D,in2:_,operator:I})},flood:function(D,_){this.attr("flood-color",D),_!=null&&this.attr("flood-opacity",_)},offset:function(D,_){this.attr({dx:D,dy:_})},image:function(D){this.attr("href",D,SVG.xlink)},displacementMap:function(D,_,I,H,Z){this.attr({in:D,in2:_,scale:I,xChannelSelector:H,yChannelSelector:Z})},gaussianBlur:function(D,_){D!=null||_!=null?this.attr("stdDeviation",function(I){if(!Array.isArray(I))return I;for(var H=0,Z=I.length,j=[];H<Z;H++)j.push(I[H]);return j.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(D,_){this.attr({operator:D,radius:_})},tile:function(){},turbulence:function(D,_,I,H,Z){this.attr({numOctaves:_,seed:I,stitchTiles:H,baseFrequency:D,type:Z})}},g={merge:function(){var D;if(arguments[0]instanceof SVG.Set){var _=this;arguments[0].each(function(H){this instanceof SVG.MergeNode?_.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&_.put(new SVG.MergeNode(this))})}else{D=Array.isArray(arguments[0])?arguments[0]:arguments;for(var I=0;I<D.length;I++)D[I]instanceof SVG.MergeNode?this.put(D[I]):this.put(new SVG.MergeNode(D[I]))}},componentTransfer:function(D){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(I){this[I]=new SVG["Func"+I.toUpperCase()]("identity"),this.rgb.add(this[I]),this.node.appendChild(this[I].node)}.bind(this)),D)for(var _ in D.rgb&&(["r","g","b"].forEach(function(I){this[I].attr(D.rgb)}.bind(this)),delete D.rgb),D)this[_].attr(D[_])},diffuseLighting:function(D,_,I){this.attr({surfaceScale:D,diffuseConstant:_,kernelUnitLength:I})},specularLighting:function(D,_,I,H){this.attr({surfaceScale:D,diffuseConstant:_,specularExponent:I,kernelUnitLength:H})}},y={distantLight:function(D,_){this.attr({azimuth:D,elevation:_})},pointLight:function(D,_,I){this.attr({x:D,y:_,z:I})},spotLight:function(D,_,I,H,Z,j){this.attr({x:D,y:_,z:I,pointsAtX:H,pointsAtY:Z,pointsAtZ:j})},mergeNode:function(D){this.attr("in",D)}};function k(D){return Array.isArray(D)&&(D=new SVG.Array(D)),D.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function T(){var D=function(){};for(var _ in typeof arguments[arguments.length-1]=="function"&&(D=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var I in arguments[_])D(arguments[_][I],I,arguments[_])}["r","g","b","a"].forEach(function(D){y["Func"+D.toUpperCase()]=function(_){switch(this.attr("type",_),_){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),T(d,function(D,_){var I=_.charAt(0).toUpperCase()+_.slice(1);SVG[I+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+I)),D.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),T(g,function(D,_){var I=_.charAt(0).toUpperCase()+_.slice(1);SVG[I+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+I)),D.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),T(y,function(D,_){var I=_.charAt(0).toUpperCase()+_.slice(1);SVG[I]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+I)),D.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(D){return D instanceof SVG.MergeNode?this.add(D,0):this.add(new SVG.MergeNode(D),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(D){return D==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",D)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function me(T,D,_,I,H,Z,j){for(var te=T.slice(D,_||j),ce=I.slice(H,Z||j),ue=0,ge={pos:[0,0],start:[0,0]},be={pos:[0,0],start:[0,0]};te[ue]=d.call(ge,te[ue]),ce[ue]=d.call(be,ce[ue]),te[ue][0]!=ce[ue][0]||te[ue][0]=="M"||te[ue][0]=="A"&&(te[ue][4]!=ce[ue][4]||te[ue][5]!=ce[ue][5])?(Array.prototype.splice.apply(te,[ue,1].concat(y.call(ge,te[ue]))),Array.prototype.splice.apply(ce,[ue,1].concat(y.call(be,ce[ue])))):(te[ue]=g.call(ge,te[ue]),ce[ue]=g.call(be,ce[ue])),!(++ue==te.length&&ue==ce.length);)ue==te.length&&te.push(["C",ge.pos[0],ge.pos[1],ge.pos[0],ge.pos[1],ge.pos[0],ge.pos[1]]),ue==ce.length&&ce.push(["C",be.pos[0],be.pos[1],be.pos[0],be.pos[1],be.pos[0],be.pos[1]]);return{start:te,dest:ce}}function d(T){switch(T[0]){case"z":case"Z":T[0]="L",T[1]=this.start[0],T[2]=this.start[1];break;case"H":T[0]="L",T[2]=this.pos[1];break;case"V":T[0]="L",T[2]=T[1],T[1]=this.pos[0];break;case"T":T[0]="Q",T[3]=T[1],T[4]=T[2],T[1]=this.reflection[1],T[2]=this.reflection[0];break;case"S":T[0]="C",T[6]=T[4],T[5]=T[3],T[4]=T[2],T[3]=T[1],T[2]=this.reflection[1],T[1]=this.reflection[0]}return T}function g(T){var D=T.length;return this.pos=[T[D-2],T[D-1]],"SCQT".indexOf(T[0])!=-1&&(this.reflection=[2*this.pos[0]-T[D-4],2*this.pos[1]-T[D-3]]),T}function y(T){var D=[T];switch(T[0]){case"M":return this.pos=this.start=[T[1],T[2]],D;case"L":T[5]=T[3]=T[1],T[6]=T[4]=T[2],T[1]=this.pos[0],T[2]=this.pos[1];break;case"Q":T[6]=T[4],T[5]=T[3],T[4]=1*T[4]/3+2*T[2]/3,T[3]=1*T[3]/3+2*T[1]/3,T[2]=1*this.pos[1]/3+2*T[2]/3,T[1]=1*this.pos[0]/3+2*T[1]/3;break;case"A":D=function(_,I){var H,Z,j,te,ce,ue,ge,be,ke,Be,z,ie,de,Se,Ne,Oe,ot,nt,Dt,It,qt,ti,Et,Qi,Zt,cn,Ct=Math.abs(I[1]),Kn=Math.abs(I[2]),_s=I[3]%360,To=I[4],no=I[5],yt=I[6],Pd=I[7],bn=new SVG.Point(_),As=new SVG.Point(yt,Pd),T0=[];if(Ct===0||Kn===0||bn.x===As.x&&bn.y===As.y)return[["C",bn.x,bn.y,As.x,As.y,As.x,As.y]];for(H=new SVG.Point((bn.x-As.x)/2,(bn.y-As.y)/2).transform(new SVG.Matrix().rotate(_s)),(Z=H.x*H.x/(Ct*Ct)+H.y*H.y/(Kn*Kn))>1&&(Ct*=Z=Math.sqrt(Z),Kn*=Z),j=new SVG.Matrix().rotate(_s).scale(1/Ct,1/Kn).rotate(-_s),bn=bn.transform(j),As=As.transform(j),te=[As.x-bn.x,As.y-bn.y],ue=te[0]*te[0]+te[1]*te[1],ce=Math.sqrt(ue),te[0]/=ce,te[1]/=ce,ge=ue<4?Math.sqrt(1-ue/4):0,To===no&&(ge*=-1),be=new SVG.Point((As.x+bn.x)/2+ge*-te[1],(As.y+bn.y)/2+ge*te[0]),ke=new SVG.Point(bn.x-be.x,bn.y-be.y),Be=new SVG.Point(As.x-be.x,As.y-be.y),z=Math.acos(ke.x/Math.sqrt(ke.x*ke.x+ke.y*ke.y)),ke.y<0&&(z*=-1),ie=Math.acos(Be.x/Math.sqrt(Be.x*Be.x+Be.y*Be.y)),Be.y<0&&(ie*=-1),no&&z>ie&&(ie+=2*Math.PI),!no&&z<ie&&(ie-=2*Math.PI),Se=Math.ceil(2*Math.abs(z-ie)/Math.PI),Oe=[],ot=z,de=(ie-z)/Se,Ne=4*Math.tan(de/4)/3,qt=0;qt<=Se;qt++)Dt=Math.cos(ot),nt=Math.sin(ot),It=new SVG.Point(be.x+Dt,be.y+nt),Oe[qt]=[new SVG.Point(It.x+Ne*nt,It.y-Ne*Dt),It,new SVG.Point(It.x-Ne*nt,It.y+Ne*Dt)],ot+=de;for(Oe[0][0]=Oe[0][1].clone(),Oe[Oe.length-1][2]=Oe[Oe.length-1][1].clone(),j=new SVG.Matrix().rotate(_s).scale(Ct,Kn).rotate(-_s),qt=0,ti=Oe.length;qt<ti;qt++)Oe[qt][0]=Oe[qt][0].transform(j),Oe[qt][1]=Oe[qt][1].transform(j),Oe[qt][2]=Oe[qt][2].transform(j);for(qt=1,ti=Oe.length;qt<ti;qt++)Et=(It=Oe[qt-1][2]).x,Qi=It.y,Zt=(It=Oe[qt][0]).x,cn=It.y,yt=(It=Oe[qt][1]).x,Pd=It.y,T0.push(["C",Et,Qi,Zt,cn,yt,Pd]);return T0}(this.pos,T),T=D[0]}return T[0]="C",this.pos=[T[5],T[6]],this.reflection=[2*T[5]-T[3],2*T[6]-T[4]],D}function k(T,D){if(D===!1)return!1;for(var _=D,I=T.length;_<I;++_)if(T[_][0]=="M")return _;return!1}SVG.extend(SVG.PathArray,{morph:function(T){for(var D=this.value,_=this.parse(T),I=0,H=0,Z=!1,j=!1;I!==!1||H!==!1;){var te;Z=k(D,I!==!1&&I+1),j=k(_,H!==!1&&H+1),I===!1&&(I=(te=new SVG.PathArray(ce.start).bbox()).height==0||te.width==0?D.push(D[0])-1:D.push(["M",te.x+te.width/2,te.y+te.height/2])-1),H===!1&&(H=(te=new SVG.PathArray(ce.dest).bbox()).height==0||te.width==0?_.push(_[0])-1:_.push(["M",te.x+te.width/2,te.y+te.height/2])-1);var ce=me(D,I,Z,_,H,j);D=D.slice(0,I).concat(ce.start,Z===!1?[]:D.slice(Z)),_=_.slice(0,H).concat(ce.dest,j===!1?[]:_.slice(j)),I=Z!==!1&&I+ce.start.length,H=j!==!1&&H+ce.dest.length}return this.value=D,this.destination=new SVG.PathArray,this.destination.value=_,this}})}(),function(){function me(d){d.remember("_draggable",this),this.el=d}me.prototype.init=function(d,g){var y=this;this.constraint=d,this.value=g,this.el.on("mousedown.drag",function(k){y.start(k)}),this.el.on("touchstart.drag",function(k){y.start(k)})},me.prototype.transformPoint=function(d,g){var y=(d=d||window.event).changedTouches&&d.changedTouches[0]||d;return this.p.x=y.clientX-(g||0),this.p.y=y.clientY,this.p.matrixTransform(this.m)},me.prototype.getBBox=function(){var d=this.el.bbox();return this.el instanceof SVG.Nested&&(d=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(d.x=this.el.x(),d.y=this.el.y()),d},me.prototype.start=function(d){if(d.type!="click"&&d.type!="mousedown"&&d.type!="mousemove"||(d.which||d.buttons)==1){var g=this;if(this.el.fire("beforedrag",{event:d,handler:this}),!this.el.event().defaultPrevented){d.preventDefault(),d.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var y,k=this.getBBox();if(this.el instanceof SVG.Text)switch(y=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":y/=2;break;case"start":y=0}this.startPoints={point:this.transformPoint(d,y),box:k,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(T){g.drag(T)}),SVG.on(window,"touchmove.drag",function(T){g.drag(T)}),SVG.on(window,"mouseup.drag",function(T){g.end(T)}),SVG.on(window,"touchend.drag",function(T){g.end(T)}),this.el.fire("dragstart",{event:d,p:this.startPoints.point,m:this.m,handler:this})}}},me.prototype.drag=function(d){var g=this.getBBox(),y=this.transformPoint(d),k=this.startPoints.box.x+y.x-this.startPoints.point.x,T=this.startPoints.box.y+y.y-this.startPoints.point.y,D=this.constraint,_=y.x-this.startPoints.point.x,I=y.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:d,p:y,m:this.m,handler:this}),this.el.event().defaultPrevented)return y;if(typeof D=="function"){var H=D.call(this.el,k,T,this.m);typeof H=="boolean"&&(H={x:H,y:H}),H.x===!0?this.el.x(k):H.x!==!1&&this.el.x(H.x),H.y===!0?this.el.y(T):H.y!==!1&&this.el.y(H.y)}else typeof D=="object"&&(D.minX!=null&&k<D.minX?_=(k=D.minX)-this.startPoints.box.x:D.maxX!=null&&k>D.maxX-g.width&&(_=(k=D.maxX-g.width)-this.startPoints.box.x),D.minY!=null&&T<D.minY?I=(T=D.minY)-this.startPoints.box.y:D.maxY!=null&&T>D.maxY-g.height&&(I=(T=D.maxY-g.height)-this.startPoints.box.y),D.snapToGrid!=null&&(k-=k%D.snapToGrid,T-=T%D.snapToGrid,_-=_%D.snapToGrid,I-=I%D.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:_,y:I},!0):this.el.move(k,T));return y},me.prototype.end=function(d){var g=this.drag(d);this.el.fire("dragend",{event:d,p:g,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(d,g){typeof d!="function"&&typeof d!="object"||(g=d,d=!0);var y=this.remember("_draggable")||new me(this);return(d=d===void 0||d)?y.init(g||{},d):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function me(d){this.el=d,d.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(g,y,k){var T=typeof g!="string"?g:y[g];return k?T/2:T},this.pointCoords=function(g,y){var k=this.pointsList[g];return{x:this.pointCoord(k[0],y,g==="t"||g==="b"),y:this.pointCoord(k[1],y,g==="r"||g==="l")}}}me.prototype.init=function(d,g){var y=this.el.bbox();this.options={};var k=this.el.selectize.defaults.points;for(var T in this.el.selectize.defaults)this.options[T]=this.el.selectize.defaults[T],g[T]!==void 0&&(this.options[T]=g[T]);var D=["points","pointsExclude"];for(var T in D){var _=this.options[D[T]];typeof _=="string"?_=_.length>0?_.split(/\s*,\s*/i):[]:typeof _=="boolean"&&D[T]==="points"&&(_=_?k:[]),this.options[D[T]]=_}this.options.points=[k,this.options.points].reduce(function(I,H){return I.filter(function(Z){return H.indexOf(Z)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(I,H){return I.filter(function(Z){return H.indexOf(Z)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(y.x,y.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(d):this.selectRect(d),this.observe(),this.cleanup()},me.prototype.selectPoints=function(d){return this.pointSelection.isSelected=d,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},me.prototype.getPointArray=function(){var d=this.el.bbox();return this.el.array().valueOf().map(function(g){return[g[0]-d.x,g[1]-d.y]})},me.prototype.drawPoints=function(){for(var d=this,g=this.getPointArray(),y=0,k=g.length;y<k;++y){var T=function(_){return function(I){(I=I||window.event).preventDefault?I.preventDefault():I.returnValue=!1,I.stopPropagation();var H=I.pageX||I.touches[0].pageX,Z=I.pageY||I.touches[0].pageY;d.el.fire("point",{x:H,y:Z,i:_,event:I})}}(y),D=this.drawPoint(g[y][0],g[y][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",T).on("mousedown",T);this.pointSelection.set.add(D)}},me.prototype.drawPoint=function(d,g){var y=this.options.pointType;switch(y){case"circle":return this.drawCircle(d,g);case"rect":return this.drawRect(d,g);default:if(typeof y=="function")return y.call(this,d,g);throw new Error("Unknown "+y+" point type!")}},me.prototype.drawCircle=function(d,g){return this.nested.circle(this.options.pointSize).center(d,g)},me.prototype.drawRect=function(d,g){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(d,g)},me.prototype.updatePointSelection=function(){var d=this.getPointArray();this.pointSelection.set.each(function(g){this.cx()===d[g][0]&&this.cy()===d[g][1]||this.center(d[g][0],d[g][1])})},me.prototype.updateRectSelection=function(){var d=this,g=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:g.width,height:g.height}),this.options.points.length&&this.options.points.map(function(k,T){var D=d.pointCoords(k,g);d.rectSelection.set.get(T+1).center(D.x,D.y)}),this.options.rotationPoint){var y=this.rectSelection.set.length();this.rectSelection.set.get(y-1).center(g.width/2,20)}},me.prototype.selectRect=function(d){var g=this,y=this.el.bbox();function k(_){return function(I){(I=I||window.event).preventDefault?I.preventDefault():I.returnValue=!1,I.stopPropagation();var H=I.pageX||I.touches[0].pageX,Z=I.pageY||I.touches[0].pageY;g.el.fire(_,{x:H,y:Z,event:I})}}if(this.rectSelection.isSelected=d,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(y.width,y.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(_,I){var H=g.pointCoords(_,y),Z=g.drawPoint(H.x,H.y).attr("class",g.options.classPoints+"_"+_).on("mousedown",k(_)).on("touchstart",k(_));g.rectSelection.set.add(Z)}),this.rectSelection.set.each(function(){this.addClass(g.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var T=function(_){(_=_||window.event).preventDefault?_.preventDefault():_.returnValue=!1,_.stopPropagation();var I=_.pageX||_.touches[0].pageX,H=_.pageY||_.touches[0].pageY;g.el.fire("rot",{x:I,y:H,event:_})},D=this.drawPoint(y.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",T).on("mousedown",T);this.rectSelection.set.add(D)}},me.prototype.handler=function(){var d=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(d.x,d.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},me.prototype.observe=function(){var d=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){d.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){d.handler()})},me.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(d,g){return typeof d=="object"&&(g=d,d=!0),(this.remember("_selectHandler")||new me(this)).init(d===void 0||d,g||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function me(d){d.remember("_resizeHandler",this),this.el=d,this.parameters={},this.lastUpdateCall=null,this.p=d.doc().node.createSVGPoint()}me.prototype.transformPoint=function(d,g,y){return this.p.x=d-(this.offset.x-window.pageXOffset),this.p.y=g-(this.offset.y-window.pageYOffset),this.p.matrixTransform(y||this.m)},me.prototype._extractPosition=function(d){return{x:d.clientX!=null?d.clientX:d.touches[0].clientX,y:d.clientY!=null?d.clientY:d.touches[0].clientY}},me.prototype.init=function(d){var g=this;if(this.stop(),d!=="stop"){for(var y in this.options={},this.el.resize.defaults)this.options[y]=this.el.resize.defaults[y],d[y]!==void 0&&(this.options[y]=d[y]);this.el.on("lt.resize",function(k){g.resize(k||window.event)}),this.el.on("rt.resize",function(k){g.resize(k||window.event)}),this.el.on("rb.resize",function(k){g.resize(k||window.event)}),this.el.on("lb.resize",function(k){g.resize(k||window.event)}),this.el.on("t.resize",function(k){g.resize(k||window.event)}),this.el.on("r.resize",function(k){g.resize(k||window.event)}),this.el.on("b.resize",function(k){g.resize(k||window.event)}),this.el.on("l.resize",function(k){g.resize(k||window.event)}),this.el.on("rot.resize",function(k){g.resize(k||window.event)}),this.el.on("point.resize",function(k){g.resize(k||window.event)}),this.update()}},me.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},me.prototype.resize=function(d){var g=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var y=this._extractPosition(d.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(y.x,y.y),x:d.detail.x,y:d.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),d.detail.i!==void 0){var k=this.el.array().valueOf();this.parameters.i=d.detail.i,this.parameters.pointCoords=[k[d.detail.i][0],k[d.detail.i][1]]}switch(d.type){case"lt":this.calc=function(T,D){var _=this.snapToGrid(T,D);if(this.parameters.box.width-_[0]>0&&this.parameters.box.height-_[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+_[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-_[0]);_=this.checkAspectRatio(_),this.el.move(this.parameters.box.x+_[0],this.parameters.box.y+_[1]).size(this.parameters.box.width-_[0],this.parameters.box.height-_[1])}};break;case"rt":this.calc=function(T,D){var _=this.snapToGrid(T,D,2);if(this.parameters.box.width+_[0]>0&&this.parameters.box.height-_[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-_[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+_[0]);_=this.checkAspectRatio(_,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+_[1]).size(this.parameters.box.width+_[0],this.parameters.box.height-_[1])}};break;case"rb":this.calc=function(T,D){var _=this.snapToGrid(T,D,0);if(this.parameters.box.width+_[0]>0&&this.parameters.box.height+_[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-_[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+_[0]);_=this.checkAspectRatio(_),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+_[0],this.parameters.box.height+_[1])}};break;case"lb":this.calc=function(T,D){var _=this.snapToGrid(T,D,1);if(this.parameters.box.width-_[0]>0&&this.parameters.box.height+_[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+_[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-_[0]);_=this.checkAspectRatio(_,!0),this.el.move(this.parameters.box.x+_[0],this.parameters.box.y).size(this.parameters.box.width-_[0],this.parameters.box.height+_[1])}};break;case"t":this.calc=function(T,D){var _=this.snapToGrid(T,D,2);if(this.parameters.box.height-_[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+_[1]).height(this.parameters.box.height-_[1])}};break;case"r":this.calc=function(T,D){var _=this.snapToGrid(T,D,0);if(this.parameters.box.width+_[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+_[0])}};break;case"b":this.calc=function(T,D){var _=this.snapToGrid(T,D,0);if(this.parameters.box.height+_[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+_[1])}};break;case"l":this.calc=function(T,D){var _=this.snapToGrid(T,D,1);if(this.parameters.box.width-_[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+_[0],this.parameters.box.y).width(this.parameters.box.width-_[0])}};break;case"rot":this.calc=function(T,D){var _=T+this.parameters.p.x,I=D+this.parameters.p.y,H=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),Z=Math.atan2(I-this.parameters.box.y-this.parameters.box.height/2,_-this.parameters.box.x-this.parameters.box.width/2),j=this.parameters.rotation+180*(Z-H)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(j-j%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(T,D){var _=this.snapToGrid(T,D,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),I=this.el.array().valueOf();I[this.parameters.i][0]=this.parameters.pointCoords[0]+_[0],I[this.parameters.i][1]=this.parameters.pointCoords[1]+_[1],this.el.plot(I)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:d}),SVG.on(window,"touchmove.resize",function(T){g.update(T||window.event)}),SVG.on(window,"touchend.resize",function(){g.done()}),SVG.on(window,"mousemove.resize",function(T){g.update(T||window.event)}),SVG.on(window,"mouseup.resize",function(){g.done()})},me.prototype.update=function(d){if(d){var g=this._extractPosition(d),y=this.transformPoint(g.x,g.y),k=y.x-this.parameters.p.x,T=y.y-this.parameters.p.y;this.lastUpdateCall=[k,T],this.calc(k,T),this.el.fire("resizing",{dx:k,dy:T,event:d})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},me.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},me.prototype.snapToGrid=function(d,g,y,k){var T;return k!==void 0?T=[(y+d)%this.options.snapToGrid,(k+g)%this.options.snapToGrid]:(y=y??3,T=[(this.parameters.box.x+d+(1&y?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+g+(2&y?0:this.parameters.box.height))%this.options.snapToGrid]),d<0&&(T[0]-=this.options.snapToGrid),g<0&&(T[1]-=this.options.snapToGrid),d-=Math.abs(T[0])<this.options.snapToGrid/2?T[0]:T[0]-(d<0?-this.options.snapToGrid:this.options.snapToGrid),g-=Math.abs(T[1])<this.options.snapToGrid/2?T[1]:T[1]-(g<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(d,g,y,k)},me.prototype.constraintToBox=function(d,g,y,k){var T,D,_=this.options.constraint||{};return k!==void 0?(T=y,D=k):(T=this.parameters.box.x+(1&y?0:this.parameters.box.width),D=this.parameters.box.y+(2&y?0:this.parameters.box.height)),_.minX!==void 0&&T+d<_.minX&&(d=_.minX-T),_.maxX!==void 0&&T+d>_.maxX&&(d=_.maxX-T),_.minY!==void 0&&D+g<_.minY&&(g=_.minY-D),_.maxY!==void 0&&D+g>_.maxY&&(g=_.maxY-D),[d,g]},me.prototype.checkAspectRatio=function(d,g){if(!this.options.saveAspectRatio)return d;var y=d.slice(),k=this.parameters.box.width/this.parameters.box.height,T=this.parameters.box.width+d[0],D=this.parameters.box.height-d[1],_=T/D;return _<k?(y[1]=T/k-this.parameters.box.height,g&&(y[1]=-y[1])):_>k&&(y[0]=this.parameters.box.width-D*k,g&&(y[0]=-y[0])),y},SVG.extend(SVG.Element,{resize:function(d){return(this.remember("_resizeHandler")||new me(this)).init(d||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Le=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new W(this.ctx),this.ctx.axes=new gt(this.ctx),this.ctx.core=new Ge(this.ctx.el,this.ctx),this.ctx.config=new Je({}),this.ctx.data=new st(this.ctx),this.ctx.grid=new Kt(this.ctx),this.ctx.graphics=new K(this.ctx),this.ctx.coreUtils=new le(this.ctx),this.ctx.crosshairs=new Ht(this.ctx),this.ctx.events=new xt(this.ctx),this.ctx.exports=new vt(this.ctx),this.ctx.localization=new wt(this.ctx),this.ctx.options=new De,this.ctx.responsive=new _t(this.ctx),this.ctx.series=new Ye(this.ctx),this.ctx.theme=new Wt(this.ctx),this.ctx.formatters=new je(this.ctx),this.ctx.titleSubtitle=new Rt(this.ctx),this.ctx.legend=new _i(this.ctx),this.ctx.toolbar=new Ji(this.ctx),this.ctx.tooltip=new Zo(this.ctx),this.ctx.dimensions=new mi(this.ctx),this.ctx.updateHelpers=new Xe(this.ctx),this.ctx.zoomPanSelection=new wi(this.ctx),this.ctx.w.globals.tooltip=new Zo(this.ctx)}}]),me}(),Ve=function(){function me(d){f(this,me),this.ctx=d,this.w=d.w}return x(me,[{key:"clear",value:function(d){var g=d.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:g})}},{key:"killSVG",value:function(d){d.each(function(g,y){this.removeClass("*"),this.off(),this.stop()},!0),d.ungroup(),d.clear()}},{key:"clearDomElements",value:function(d){var g=this,y=d.isUpdating,k=this.w.globals.dom.Paper.node;k.parentNode&&k.parentNode.parentNode&&!y&&(k.parentNode.parentNode.style.minHeight="unset");var T=this.w.globals.dom.baseEl;T&&this.ctx.eventList.forEach(function(_){T.removeEventListener(_,g.ctx.events.documentEvent)});var D=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(D.Paper),D.Paper.remove(),D.elWrap=null,D.elGraphical=null,D.elAnnotations=null,D.elLegendWrap=null,D.baseEl=null,D.elGridRect=null,D.elGridRectMask=null,D.elGridRectMarkerMask=null,D.elForecastMask=null,D.elNonForecastMask=null,D.elDefs=null}}]),me}(),$e=new WeakMap,mt=function(){function me(d,g){f(this,me),this.opts=g,this.ctx=this,this.w=new at(g).init(),this.el=d,this.w.globals.cuid=X.randomId(),this.w.globals.chartID=this.w.config.chart.id?X.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Le(this).initModules(),this.create=X.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return x(me,[{key:"render",value:function(){var d=this;return new Promise(function(g,y){if(d.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),d.w.config.chart.id&&Apex._chartInstances.push({id:d.w.globals.chartID,group:d.w.config.chart.group,chart:d}),d.setLocale(d.w.config.chart.defaultLocale);var k=d.w.config.chart.events.beforeMount;if(typeof k=="function"&&k(d,d.w),d.events.fireEvent("beforeMount",[d,d.w]),window.addEventListener("resize",d.windowResizeHandler),function(Z,j){var te=!1;if(Z.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var ce=Z.getBoundingClientRect();Z.style.display!=="none"&&ce.width!==0||(te=!0)}var ue=new ResizeObserver(function(ge){te&&j.call(Z,ge),te=!0});Z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(Z.children).forEach(function(ge){return ue.observe(ge)}):ue.observe(Z),$e.set(j,ue)}(d.el.parentNode,d.parentResizeHandler),!d.css){var T=d.el.getRootNode&&d.el.getRootNode(),D=X.is("ShadowRoot",T),_=d.el.ownerDocument,I=_.getElementById("apexcharts-css");!D&&I||(d.css=document.createElement("style"),d.css.id="apexcharts-css",d.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-legend {	
  display: flex;	
  overflow: auto;	
  padding: 0 10px;	
}	
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
  flex-wrap: wrap	
}	
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
  flex-direction: column;	
  bottom: 0;	
}	
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
  justify-content: flex-start;	
}	
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
  justify-content: center;  	
}	
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
  justify-content: flex-end;	
}	
.apexcharts-legend-series {	
  cursor: pointer;	
  line-height: normal;	
}	
.apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
  display: flex;	
  align-items: center;	
}	
.apexcharts-legend-text {	
  position: relative;	
  font-size: 14px;	
}	
.apexcharts-legend-text *, .apexcharts-legend-marker * {	
  pointer-events: none;	
}	
.apexcharts-legend-marker {	
  position: relative;	
  display: inline-block;	
  cursor: pointer;	
  margin-right: 3px;	
  border-style: solid;
}	
  
.apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
  display: inline-block;	
}	
.apexcharts-legend-series.apexcharts-no-click {	
  cursor: auto;	
}	
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
  display: none !important;	
}	
.apexcharts-inactive-legend {	
  opacity: 0.45;	
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,D?T.prepend(d.css):_.head.appendChild(d.css))}var H=d.create(d.w.config.series,{});if(!H)return g(d);d.mount(H).then(function(){typeof d.w.config.chart.events.mounted=="function"&&d.w.config.chart.events.mounted(d,d.w),d.events.fireEvent("mounted",[d,d.w]),g(H)}).catch(function(Z){y(Z)})}else y(new Error("Element not found"))})}},{key:"create",value:function(d,g){var y=this.w;new Le(this).initModules();var k=this.w.globals;if(k.noData=!1,k.animationEnded=!1,this.responsive.checkResponsiveConfig(g),y.config.xaxis.convertedCatToNumeric&&new ft(y.config).convertCatToNumericXaxis(y.config,this.ctx),this.el===null||(this.core.setupElements(),y.config.chart.type==="treemap"&&(y.config.grid.show=!1,y.config.yaxis[0].show=!1),k.svgWidth===0))return k.animationEnded=!0,null;var T=le.checkComboSeries(d);k.comboCharts=T.comboCharts,k.comboBarCount=T.comboBarCount;var D=d.every(function(j){return j.data&&j.data.length===0});(d.length===0||D)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(d),this.theme.init(),new qe(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),k.noData&&k.collapsedSeries.length!==k.series.length&&!y.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),k.axisCharts&&(this.core.coreCalculations(),y.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=y.globals.minX,this.ctx.toolbar.maxX=y.globals.maxX),this.formatters.heatmapLabelFormatters(),new le(this).getLargestMarkerSize(),this.dimensions.plotCoords();var _=this.core.xySettings();this.grid.createGridMask();var I=this.core.plotChartType(d,_),H=new Ae(this);H.bringForward(),y.config.dataLabels.background.enabled&&H.dataLabelsBackground(),this.core.shiftGraphPosition();var Z={plot:{left:y.globals.translateX,top:y.globals.translateY,width:y.globals.gridWidth,height:y.globals.gridHeight}};return{elGraph:I,xyRatios:_,elInner:y.globals.dom.elGraphical,dimensions:Z}}},{key:"mount",value:function(){var d=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=this,k=y.w;return new Promise(function(T,D){if(y.el===null)return D(new Error("Not enough data to display or target element not found"));(g===null||k.globals.allSeriesCollapsed)&&y.series.handleNoData(),y.grid=new Kt(y);var _=y.grid.drawGrid();if(y.annotations=new Me(y),y.annotations.drawImageAnnos(),y.annotations.drawTextAnnos(),k.config.grid.position==="back"&&_&&k.globals.dom.elGraphical.add(_.el),Array.isArray(g.elGraph))for(var I=0;I<g.elGraph.length;I++)k.globals.dom.elGraphical.add(g.elGraph[I]);else k.globals.dom.elGraphical.add(g.elGraph);k.config.grid.position==="front"&&_&&k.globals.dom.elGraphical.add(_.el),_&&_.elGridBorders&&_.elGridBorders.node&&k.globals.dom.elGraphical.add(_.elGridBorders),k.config.xaxis.crosshairs.position==="front"&&y.crosshairs.drawXCrosshairs(),k.config.yaxis[0].crosshairs.position==="front"&&y.crosshairs.drawYCrosshairs(),k.config.chart.type!=="treemap"&&y.axes.drawAxis(k.config.chart.type,_);var H=new kt(d.ctx,_),Z=new ut(d.ctx,_);if(_!==null&&(H.xAxisLabelCorrections(_.xAxisTickWidth),Z.setYAxisTextAlignments(),k.config.yaxis.map(function(te,ce){k.globals.ignoreYAxisIndexes.indexOf(ce)===-1&&Z.yAxisTitleRotate(ce,te.opposite)})),k.globals.dom.Paper.add(k.globals.dom.elAnnotations),y.annotations.drawAxesAnnotations(),!k.globals.noData){if(k.config.tooltip.enabled&&!k.globals.noData&&y.w.globals.tooltip.drawTooltip(g.xyRatios),k.globals.axisCharts&&(k.globals.isXNumeric||k.config.xaxis.convertedCatToNumeric||k.globals.isRangeBar))(k.config.chart.zoom.enabled||k.config.chart.selection&&k.config.chart.selection.enabled||k.config.chart.pan&&k.config.chart.pan.enabled)&&y.zoomPanSelection.init({xyRatios:g.xyRatios});else{var j=k.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(te){j[te]=!1})}k.config.chart.toolbar.show&&!k.globals.allSeriesCollapsed&&y.toolbar.createToolbar()}k.globals.memory.methodsToExec.length>0&&k.globals.memory.methodsToExec.forEach(function(te){te.method(te.params,!1,te.context)}),k.globals.axisCharts||k.globals.noData||y.core.resizeNonAxisCharts(),T(y)})}},{key:"destroy",value:function(){var d,g;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,d=this.parentResizeHandler,(g=$e.get(d))&&(g.disconnect(),$e.delete(d));var y=this.w.config.chart.id;y&&Apex._chartInstances.forEach(function(k,T){k.id===X.escapeString(y)&&Apex._chartInstances.splice(T,1)}),new Ve(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(d){var g=this,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],k=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],T=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],D=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],_=this.w;return _.globals.selection=void 0,d.series&&(this.series.resetSeries(!1,!0,!1),d.series.length&&d.series[0].data&&(d.series=d.series.map(function(I,H){return g.updateHelpers._extendSeries(I,H)})),this.updateHelpers.revertDefaultAxisMinMax()),d.xaxis&&(d=this.updateHelpers.forceXAxisUpdate(d)),d.yaxis&&(d=this.updateHelpers.forceYAxisUpdate(d)),_.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),d.theme&&(d=this.theme.updateThemeOptions(d)),this.updateHelpers._updateOptions(d,y,k,T,D)}},{key:"updateSeries",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(d,g,y)}},{key:"appendSeries",value:function(d){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],k=this.w.config.series.slice();return k.push(d),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(k,g,y)}},{key:"appendData",value:function(d){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=this;y.w.globals.dataChanged=!0,y.series.getPreviousPaths();for(var k=y.w.config.series.slice(),T=0;T<k.length;T++)if(d[T]!==null&&d[T]!==void 0)for(var D=0;D<d[T].data.length;D++)k[T].data.push(d[T].data[D]);return y.w.config.series=k,g&&(y.w.globals.initialSeries=X.clone(y.w.config.series)),this.update()}},{key:"update",value:function(d){var g=this;return new Promise(function(y,k){new Ve(g.ctx).clear({isUpdating:!0});var T=g.create(g.w.config.series,d);if(!T)return y(g);g.mount(T).then(function(){typeof g.w.config.chart.events.updated=="function"&&g.w.config.chart.events.updated(g,g.w),g.events.fireEvent("updated",[g,g.w]),g.w.globals.isDirty=!0,y(g)}).catch(function(D){k(D)})})}},{key:"getSyncedCharts",value:function(){var d=this.getGroupedCharts(),g=[this];return d.length&&(g=[],d.forEach(function(y){g.push(y)})),g}},{key:"getGroupedCharts",value:function(){var d=this;return Apex._chartInstances.filter(function(g){if(g.group)return!0}).map(function(g){return d.w.config.chart.group===g.group?g.chart:d})}},{key:"toggleSeries",value:function(d){return this.series.toggleSeries(d)}},{key:"highlightSeriesOnLegendHover",value:function(d,g){return this.series.toggleSeriesOnHover(d,g)}},{key:"showSeries",value:function(d){this.series.showSeries(d)}},{key:"hideSeries",value:function(d){this.series.hideSeries(d)}},{key:"resetSeries",value:function(){var d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(d,g)}},{key:"addEventListener",value:function(d,g){this.events.addEventListener(d,g)}},{key:"removeEventListener",value:function(d,g){this.events.removeEventListener(d,g)}},{key:"addXaxisAnnotation",value:function(d){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,k=this;y&&(k=y),k.annotations.addXaxisAnnotationExternal(d,g,k)}},{key:"addYaxisAnnotation",value:function(d){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,k=this;y&&(k=y),k.annotations.addYaxisAnnotationExternal(d,g,k)}},{key:"addPointAnnotation",value:function(d){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,k=this;y&&(k=y),k.annotations.addPointAnnotationExternal(d,g,k)}},{key:"clearAnnotations",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,g=this;d&&(g=d),g.annotations.clearAnnotations(g)}},{key:"removeAnnotation",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,y=this;g&&(y=g),y.annotations.removeAnnotation(y,d)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(d,g){return this.coreUtils.getSeriesTotalsXRange(d,g)}},{key:"getHighestValueInSeries",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new et(this.ctx).getMinYMaxY(d).highestY}},{key:"getLowestValueInSeries",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new et(this.ctx).getMinYMaxY(d).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(d,g){return this.updateHelpers.toggleDataPointSelection(d,g)}},{key:"zoomX",value:function(d,g){this.ctx.toolbar.zoomUpdateOptions(d,g)}},{key:"setLocale",value:function(d){this.localization.setCurrentLocaleValues(d)}},{key:"dataURI",value:function(d){return new vt(this.ctx).dataURI(d)}},{key:"exportToCSV",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new vt(this.ctx).exportToCSV(d)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var d=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){d.w.globals.resized=!0,d.w.globals.dataChanged=!1,d.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var d=this.w.config.chart.redrawOnWindowResize;typeof d=="function"&&(d=d()),d&&this._windowResize()}}],[{key:"getChartByID",value:function(d){var g=X.escapeString(d),y=Apex._chartInstances.filter(function(k){return k.id===g})[0];return y&&y.chart}},{key:"initOnLoad",value:function(){for(var d=document.querySelectorAll("[data-apexcharts]"),g=0;g<d.length;g++)new me(d[g],JSON.parse(d[g].getAttribute("data-options"))).render()}},{key:"exec",value:function(d,g){var y=this.getChartByID(d);if(y){y.w.globals.isExecCalled=!0;var k=null;if(y.publicMethods.indexOf(g)!==-1){for(var T=arguments.length,D=new Array(T>2?T-2:0),_=2;_<T;_++)D[_-2]=arguments[_];k=y[g].apply(y,D)}return k}}},{key:"merge",value:function(d,g){return X.extend(d,g)}}]),me}();t.exports=mt}(DL,tf)),tf}(function(t){t.exports=function(s){var r={};function l(c){if(r[c])return r[c].exports;var f=r[c]={i:c,l:!1,exports:{}};return s[c].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=s,l.c=r,l.d=function(c,f,p){l.o(c,f)||Object.defineProperty(c,f,{enumerable:!0,get:p})},l.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},l.t=function(c,f){if(f&1&&(c=l(c)),f&8||f&4&&typeof c=="object"&&c&&c.__esModule)return c;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:c}),f&2&&typeof c!="string")for(var x in c)l.d(p,x,function(w){return c[w]}.bind(null,x));return p},l.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(f,"a",f),f},l.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},l.p="",l(l.s="fb15")}({8875:function(s,r,l){var c,f,p;(function(x,w){f=[],c=w,p=typeof c=="function"?c.apply(r,f):c,p!==void 0&&(s.exports=p)})(typeof self<"u"?self:this,function(){function x(){var w=Object.getOwnPropertyDescriptor(document,"currentScript");if(!w&&"currentScript"in document&&document.currentScript||w&&w.get!==x&&document.currentScript)return document.currentScript;try{throw new Error}catch(he){var P=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,C=/@([^@]*):(\d+):(\d+)\s*$/ig,F=P.exec(he.stack)||C.exec(he.stack),L=F&&F[1]||!1,B=F&&F[2]||!1,U=document.location.href.replace(document.location.hash,""),Y,Q,N,X=document.getElementsByTagName("script");L===U&&(Y=document.documentElement.outerHTML,Q=new RegExp("(?:[^\\n]+?\\n){0,"+(B-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),N=Y.replace(Q,"$1").trim());for(var W=0;W<X.length;W++)if(X[W].readyState==="interactive"||X[W].src===L||L===U&&X[W].innerHTML&&X[W].innerHTML.trim()===N)return X[W];return null}}return x})},"8bbf":function(s,r){s.exports=PL},"95e6":function(s,r){s.exports=ML()},fb15:function(s,r,l){if(l.r(r),typeof window<"u"){var c=window.document.currentScript;{var f=l("8875");c=f(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:f})}var p=c&&c.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);p&&(l.p=p[1])}var x=l("8bbf"),w=l("95e6"),P=l.n(w);const C=["animationEnd","beforeMount","mounted","updated","click","mouseMove","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","scrolled"];var L=Object(x.defineComponent)({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:C,setup(Y,{emit:Q}){const N=Object(x.ref)(null),X=Object(x.ref)(null),W=Ae=>Ae&&typeof Ae=="object"&&!Array.isArray(Ae)&&Ae!=null,he=(Ae,Ye)=>{typeof Object.assign!="function"&&function(){Object.assign=function(ht){if(ht==null)throw new TypeError("Cannot convert undefined or null to object");let vt=Object(ht);for(let kt=1;kt<arguments.length;kt++){let Kt=arguments[kt];if(Kt!=null)for(let ve in Kt)Kt.hasOwnProperty(ve)&&(vt[ve]=Kt[ve])}return vt}}();let st=Object.assign({},Ae);return W(Ae)&&W(Ye)&&Object.keys(Ye).forEach(ht=>{W(Ye[ht])?ht in Ae?st[ht]=he(Ae[ht],Ye[ht]):Object.assign(st,{[ht]:Ye[ht]}):Object.assign(st,{[ht]:Ye[ht]})}),st},K=async()=>{await Object(x.nextTick)();const Ae={chart:{type:Y.type||Y.options.chart.type||"line",height:Y.height,width:Y.width,events:{}},series:Y.series};C.forEach(st=>{let ht=(...vt)=>Q(st,...vt);Ae.chart.events[st]=ht});const Ye=he(Y.options,Ae);return X.value=new P.a(N.value,Ye),X.value.render()},le=()=>(G(),K()),G=()=>{X.value.destroy()},oe=(Ae,Ye)=>X.value.updateSeries(Ae,Ye),fe=(Ae,Ye,st,ht)=>X.value.updateOptions(Ae,Ye,st,ht),pe=Ae=>X.value.toggleSeries(Ae),Te=Ae=>{X.value.showSeries(Ae)},De=Ae=>{X.value.hideSeries(Ae)},Me=(Ae,Ye)=>X.value.appendSeries(Ae,Ye),He=()=>{X.value.resetSeries()},je=(Ae,Ye)=>{X.value.toggleDataPointSelection(Ae,Ye)},tt=Ae=>X.value.appendData(Ae),Ze=(Ae,Ye)=>X.value.zoomX(Ae,Ye),ft=()=>X.value.dataURI(),Je=(Ae,Ye)=>{X.value.addXaxisAnnotation(Ae,Ye)},dt=(Ae,Ye)=>{X.value.addYaxisAnnotation(Ae,Ye)},at=(Ae,Ye)=>{X.value.addPointAnnotation(Ae,Ye)},Ie=(Ae,Ye)=>{X.value.removeAnnotation(Ae,Ye)},qe=()=>{X.value.clearAnnotations()};Object(x.onBeforeMount)(()=>{window.ApexCharts=P.a}),Object(x.onMounted)(()=>{N.value=Object(x.getCurrentInstance)().proxy.$el,K()}),Object(x.onBeforeUnmount)(()=>{X.value&&G()});const Ue=Object(x.toRefs)(Y);return Object(x.watch)(Ue.options,()=>{!X.value&&Y.options?K():X.value.updateOptions(Y.options)}),Object(x.watch)(Ue.series,()=>{!X.value&&Y.series?K():X.value.updateSeries(Y.series)},{deep:!0}),Object(x.watch)(Ue.type,()=>{le()}),Object(x.watch)(Ue.width,()=>{le()}),Object(x.watch)(Ue.height,()=>{le()}),{chart:X,init:K,refresh:le,destroy:G,updateOptions:fe,updateSeries:oe,toggleSeries:pe,showSeries:Te,hideSeries:De,resetSeries:He,zoomX:Ze,toggleDataPointSelection:je,appendData:tt,appendSeries:Me,addXaxisAnnotation:Je,addYaxisAnnotation:dt,addPointAnnotation:at,removeAnnotation:Ie,clearAnnotations:qe,dataURI:ft}},render(){return Object(x.h)("div",{class:"vue-apexcharts"})}});const B=Y=>{Y.component(L.name,L)};L.install=B;var U=L;r.default=U}})})(TL);const EL=CL(Kv);function _L(){return BC().__VUE_DEVTOOLS_GLOBAL_HOOK__}function BC(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const FL=typeof Proxy=="function",NL="devtools-plugin:setup",LL="plugin:settings:set";let su,qv;function IL(){var t;return su!==void 0||(typeof window<"u"&&window.performance?(su=!0,qv=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(su=!0,qv=global.perf_hooks.performance):su=!1),su}function OL(){return IL()?qv.now():Date.now()}class RL{constructor(s,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=r;const l={};if(s.settings)for(const p in s.settings){const x=s.settings[p];l[p]=x.defaultValue}const c=`__vue-devtools-plugin-settings__${s.id}`;let f=Object.assign({},l);try{const p=localStorage.getItem(c),x=JSON.parse(p);Object.assign(f,x)}catch{}this.fallbacks={getSettings(){return f},setSettings(p){try{localStorage.setItem(c,JSON.stringify(p))}catch{}f=p},now(){return OL()}},r&&r.on(LL,(p,x)=>{p===this.plugin.id&&this.fallbacks.setSettings(x)}),this.proxiedOn=new Proxy({},{get:(p,x)=>this.target?this.target.on[x]:(...w)=>{this.onQueue.push({method:x,args:w})}}),this.proxiedTarget=new Proxy({},{get:(p,x)=>this.target?this.target[x]:x==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(x)?(...w)=>(this.targetQueue.push({method:x,args:w,resolve:()=>{}}),this.fallbacks[x](...w)):(...w)=>new Promise(P=>{this.targetQueue.push({method:x,args:w,resolve:P})})})}async setRealTarget(s){this.target=s;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function BL(t,s){const r=t,l=BC(),c=_L(),f=FL&&r.enableEarlyProxy;if(c&&(l.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!f))c.emit(NL,t,s);else{const p=f?new RL(r,c):null;(l.__VUE_DEVTOOLS_PLUGINS__=l.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:s,proxy:p}),p&&s(p.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const mu=typeof window<"u";function VL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const kn=Object.assign;function $p(t,s){const r={};for(const l in s){const c=s[l];r[l]=yo(c)?c.map(t):t(c)}return r}const nf=()=>{},yo=Array.isArray,zL=/\/$/,XL=t=>t.replace(zL,"");function Kp(t,s,r="/"){let l,c={},f="",p="";const x=s.indexOf("#");let w=s.indexOf("?");return x<w&&x>=0&&(w=-1),w>-1&&(l=s.slice(0,w),f=s.slice(w+1,x>-1?x:s.length),c=t(f)),x>-1&&(l=l||s.slice(0,x),p=s.slice(x,s.length)),l=WL(l??s,r),{fullPath:l+(f&&"?")+f+p,path:l,query:c,hash:p}}function HL(t,s){const r=s.query?t(s.query):"";return s.path+(r&&"?")+r+(s.hash||"")}function Tw(t,s){return!s||!t.toLowerCase().startsWith(s.toLowerCase())?t:t.slice(s.length)||"/"}function YL(t,s,r){const l=s.matched.length-1,c=r.matched.length-1;return l>-1&&l===c&&Hu(s.matched[l],r.matched[c])&&VC(s.params,r.params)&&t(s.query)===t(r.query)&&s.hash===r.hash}function Hu(t,s){return(t.aliasOf||t)===(s.aliasOf||s)}function VC(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(!UL(t[r],s[r]))return!1;return!0}function UL(t,s){return yo(t)?Pw(t,s):yo(s)?Pw(s,t):t===s}function Pw(t,s){return yo(s)?t.length===s.length&&t.every((r,l)=>r===s[l]):t.length===1&&t[0]===s}function WL(t,s){if(t.startsWith("/"))return t;if(!t)return s;const r=s.split("/"),l=t.split("/");let c=r.length-1,f,p;for(f=0;f<l.length;f++)if(p=l[f],p!==".")if(p==="..")c>1&&c--;else break;return r.slice(0,c).join("/")+"/"+l.slice(f-(f===l.length?1:0)).join("/")}var Df;(function(t){t.pop="pop",t.push="push"})(Df||(Df={}));var sf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(sf||(sf={}));function GL(t){if(!t)if(mu){const s=document.querySelector("base");t=s&&s.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),XL(t)}const jL=/^[^#]+#/;function $L(t,s){return t.replace(jL,"#")+s}function KL(t,s){const r=document.documentElement.getBoundingClientRect(),l=t.getBoundingClientRect();return{behavior:s.behavior,left:l.left-r.left-(s.left||0),top:l.top-r.top-(s.top||0)}}const _m=()=>({left:window.pageXOffset,top:window.pageYOffset});function qL(t){let s;if("el"in t){const r=t.el,l=typeof r=="string"&&r.startsWith("#"),c=typeof r=="string"?l?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!c)return;s=KL(c,t)}else s=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(s):window.scrollTo(s.left!=null?s.left:window.pageXOffset,s.top!=null?s.top:window.pageYOffset)}function Dw(t,s){return(history.state?history.state.position-s:-1)+t}const Zv=new Map;function ZL(t,s){Zv.set(t,s)}function JL(t){const s=Zv.get(t);return Zv.delete(t),s}let QL=()=>location.protocol+"//"+location.host;function zC(t,s){const{pathname:r,search:l,hash:c}=s,f=t.indexOf("#");if(f>-1){let x=c.includes(t.slice(f))?t.slice(f).length:1,w=c.slice(x);return w[0]!=="/"&&(w="/"+w),Tw(w,"")}return Tw(r,t)+l+c}function eI(t,s,r,l){let c=[],f=[],p=null;const x=({state:L})=>{const B=zC(t,location),U=r.value,Y=s.value;let Q=0;if(L){if(r.value=B,s.value=L,p&&p===U){p=null;return}Q=Y?L.position-Y.position:0}else l(B);c.forEach(N=>{N(r.value,U,{delta:Q,type:Df.pop,direction:Q?Q>0?sf.forward:sf.back:sf.unknown})})};function w(){p=r.value}function P(L){c.push(L);const B=()=>{const U=c.indexOf(L);U>-1&&c.splice(U,1)};return f.push(B),B}function C(){const{history:L}=window;L.state&&L.replaceState(kn({},L.state,{scroll:_m()}),"")}function F(){for(const L of f)L();f=[],window.removeEventListener("popstate",x),window.removeEventListener("beforeunload",C)}return window.addEventListener("popstate",x),window.addEventListener("beforeunload",C),{pauseListeners:w,listen:P,destroy:F}}function Mw(t,s,r,l=!1,c=!1){return{back:t,current:s,forward:r,replaced:l,position:window.history.length,scroll:c?_m():null}}function tI(t){const{history:s,location:r}=window,l={value:zC(t,r)},c={value:s.state};c.value||f(l.value,{back:null,current:l.value,forward:null,position:s.length-1,replaced:!0,scroll:null},!0);function f(w,P,C){const F=t.indexOf("#"),L=F>-1?(r.host&&document.querySelector("base")?t:t.slice(F))+w:QL()+t+w;try{s[C?"replaceState":"pushState"](P,"",L),c.value=P}catch(B){console.error(B),r[C?"replace":"assign"](L)}}function p(w,P){const C=kn({},s.state,Mw(c.value.back,w,c.value.forward,!0),P,{position:c.value.position});f(w,C,!0),l.value=w}function x(w,P){const C=kn({},c.value,s.state,{forward:w,scroll:_m()});f(C.current,C,!0);const F=kn({},Mw(l.value,w,null),{position:C.position+1},P);f(w,F,!1),l.value=w}return{location:l,state:c,push:x,replace:p}}function iI(t){t=GL(t);const s=tI(t),r=eI(t,s.state,s.location,s.replace);function l(f,p=!0){p||r.pauseListeners(),history.go(f)}const c=kn({location:"",base:t,go:l,createHref:$L.bind(null,t)},s,r);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>s.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>s.state.value}),c}function nI(t){return typeof t=="string"||t&&typeof t=="object"}function XC(t){return typeof t=="string"||typeof t=="symbol"}const jl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},HC=Symbol("");var Ew;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ew||(Ew={}));function Yu(t,s){return kn(new Error,{type:t,[HC]:!0},s)}function tl(t,s){return t instanceof Error&&HC in t&&(s==null||!!(t.type&s))}const _w="[^/]+?",sI={sensitive:!1,strict:!1,start:!0,end:!0},rI=/[.+*?^${}()[\]/\\]/g;function aI(t,s){const r=kn({},sI,s),l=[];let c=r.start?"^":"";const f=[];for(const P of t){const C=P.length?[]:[90];r.strict&&!P.length&&(c+="/");for(let F=0;F<P.length;F++){const L=P[F];let B=40+(r.sensitive?.25:0);if(L.type===0)F||(c+="/"),c+=L.value.replace(rI,"\\$&"),B+=40;else if(L.type===1){const{value:U,repeatable:Y,optional:Q,regexp:N}=L;f.push({name:U,repeatable:Y,optional:Q});const X=N||_w;if(X!==_w){B+=10;try{new RegExp(`(${X})`)}catch(he){throw new Error(`Invalid custom RegExp for param "${U}" (${X}): `+he.message)}}let W=Y?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;F||(W=Q&&P.length<2?`(?:/${W})`:"/"+W),Q&&(W+="?"),c+=W,B+=20,Q&&(B+=-8),Y&&(B+=-20),X===".*"&&(B+=-50)}C.push(B)}l.push(C)}if(r.strict&&r.end){const P=l.length-1;l[P][l[P].length-1]+=.7000000000000001}r.strict||(c+="/?"),r.end?c+="$":r.strict&&(c+="(?:/|$)");const p=new RegExp(c,r.sensitive?"":"i");function x(P){const C=P.match(p),F={};if(!C)return null;for(let L=1;L<C.length;L++){const B=C[L]||"",U=f[L-1];F[U.name]=B&&U.repeatable?B.split("/"):B}return F}function w(P){let C="",F=!1;for(const L of t){(!F||!C.endsWith("/"))&&(C+="/"),F=!1;for(const B of L)if(B.type===0)C+=B.value;else if(B.type===1){const{value:U,repeatable:Y,optional:Q}=B,N=U in P?P[U]:"";if(yo(N)&&!Y)throw new Error(`Provided param "${U}" is an array but it is not repeatable (* or + modifiers)`);const X=yo(N)?N.join("/"):N;if(!X)if(Q)L.length<2&&(C.endsWith("/")?C=C.slice(0,-1):F=!0);else throw new Error(`Missing required param "${U}"`);C+=X}}return C||"/"}return{re:p,score:l,keys:f,parse:x,stringify:w}}function oI(t,s){let r=0;for(;r<t.length&&r<s.length;){const l=s[r]-t[r];if(l)return l;r++}return t.length<s.length?t.length===1&&t[0]===40+40?-1:1:t.length>s.length?s.length===1&&s[0]===40+40?1:-1:0}function lI(t,s){let r=0;const l=t.score,c=s.score;for(;r<l.length&&r<c.length;){const f=oI(l[r],c[r]);if(f)return f;r++}if(Math.abs(c.length-l.length)===1){if(Fw(l))return 1;if(Fw(c))return-1}return c.length-l.length}function Fw(t){const s=t[t.length-1];return t.length>0&&s[s.length-1]<0}const hI={type:0,value:""},cI=/[a-zA-Z0-9_]/;function uI(t){if(!t)return[[]];if(t==="/")return[[hI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function s(B){throw new Error(`ERR (${r})/"${P}": ${B}`)}let r=0,l=r;const c=[];let f;function p(){f&&c.push(f),f=[]}let x=0,w,P="",C="";function F(){P&&(r===0?f.push({type:0,value:P}):r===1||r===2||r===3?(f.length>1&&(w==="*"||w==="+")&&s(`A repeatable param (${P}) must be alone in its segment. eg: '/:ids+.`),f.push({type:1,value:P,regexp:C,repeatable:w==="*"||w==="+",optional:w==="*"||w==="?"})):s("Invalid state to consume buffer"),P="")}function L(){P+=w}for(;x<t.length;){if(w=t[x++],w==="\\"&&r!==2){l=r,r=4;continue}switch(r){case 0:w==="/"?(P&&F(),p()):w===":"?(F(),r=1):L();break;case 4:L(),r=l;break;case 1:w==="("?r=2:cI.test(w)?L():(F(),r=0,w!=="*"&&w!=="?"&&w!=="+"&&x--);break;case 2:w===")"?C[C.length-1]=="\\"?C=C.slice(0,-1)+w:r=3:C+=w;break;case 3:F(),r=0,w!=="*"&&w!=="?"&&w!=="+"&&x--,C="";break;default:s("Unknown state");break}}return r===2&&s(`Unfinished custom RegExp for param "${P}"`),F(),p(),c}function dI(t,s,r){const l=aI(uI(t.path),r),c=kn(l,{record:t,parent:s,children:[],alias:[]});return s&&!c.record.aliasOf==!s.record.aliasOf&&s.children.push(c),c}function fI(t,s){const r=[],l=new Map;s=Iw({strict:!1,end:!0,sensitive:!1},s);function c(C){return l.get(C)}function f(C,F,L){const B=!L,U=gI(C);U.aliasOf=L&&L.record;const Y=Iw(s,C),Q=[U];if("alias"in C){const W=typeof C.alias=="string"?[C.alias]:C.alias;for(const he of W)Q.push(kn({},U,{components:L?L.record.components:U.components,path:he,aliasOf:L?L.record:U}))}let N,X;for(const W of Q){const{path:he}=W;if(F&&he[0]!=="/"){const K=F.record.path,le=K[K.length-1]==="/"?"":"/";W.path=F.record.path+(he&&le+he)}if(N=dI(W,F,Y),L?L.alias.push(N):(X=X||N,X!==N&&X.alias.push(N),B&&C.name&&!Lw(N)&&p(C.name)),U.children){const K=U.children;for(let le=0;le<K.length;le++)f(K[le],N,L&&L.children[le])}L=L||N,(N.record.components&&Object.keys(N.record.components).length||N.record.name||N.record.redirect)&&w(N)}return X?()=>{p(X)}:nf}function p(C){if(XC(C)){const F=l.get(C);F&&(l.delete(C),r.splice(r.indexOf(F),1),F.children.forEach(p),F.alias.forEach(p))}else{const F=r.indexOf(C);F>-1&&(r.splice(F,1),C.record.name&&l.delete(C.record.name),C.children.forEach(p),C.alias.forEach(p))}}function x(){return r}function w(C){let F=0;for(;F<r.length&&lI(C,r[F])>=0&&(C.record.path!==r[F].record.path||!YC(C,r[F]));)F++;r.splice(F,0,C),C.record.name&&!Lw(C)&&l.set(C.record.name,C)}function P(C,F){let L,B={},U,Y;if("name"in C&&C.name){if(L=l.get(C.name),!L)throw Yu(1,{location:C});Y=L.record.name,B=kn(Nw(F.params,L.keys.filter(X=>!X.optional).map(X=>X.name)),C.params&&Nw(C.params,L.keys.map(X=>X.name))),U=L.stringify(B)}else if("path"in C)U=C.path,L=r.find(X=>X.re.test(U)),L&&(B=L.parse(U),Y=L.record.name);else{if(L=F.name?l.get(F.name):r.find(X=>X.re.test(F.path)),!L)throw Yu(1,{location:C,currentLocation:F});Y=L.record.name,B=kn({},F.params,C.params),U=L.stringify(B)}const Q=[];let N=L;for(;N;)Q.unshift(N.record),N=N.parent;return{name:Y,path:U,params:B,matched:Q,meta:pI(Q)}}return t.forEach(C=>f(C)),{addRoute:f,resolve:P,removeRoute:p,getRoutes:x,getRecordMatcher:c}}function Nw(t,s){const r={};for(const l of s)l in t&&(r[l]=t[l]);return r}function gI(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:mI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function mI(t){const s={},r=t.props||!1;if("component"in t)s.default=r;else for(const l in t.components)s[l]=typeof r=="boolean"?r:r[l];return s}function Lw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pI(t){return t.reduce((s,r)=>kn(s,r.meta),{})}function Iw(t,s){const r={};for(const l in t)r[l]=l in s?s[l]:t[l];return r}function YC(t,s){return s.children.some(r=>r===t||YC(t,r))}const UC=/#/g,vI=/&/g,xI=/\//g,yI=/=/g,bI=/\?/g,WC=/\+/g,wI=/%5B/g,kI=/%5D/g,GC=/%5E/g,SI=/%60/g,jC=/%7B/g,CI=/%7C/g,$C=/%7D/g,AI=/%20/g;function B1(t){return encodeURI(""+t).replace(CI,"|").replace(wI,"[").replace(kI,"]")}function TI(t){return B1(t).replace(jC,"{").replace($C,"}").replace(GC,"^")}function Jv(t){return B1(t).replace(WC,"%2B").replace(AI,"+").replace(UC,"%23").replace(vI,"%26").replace(SI,"`").replace(jC,"{").replace($C,"}").replace(GC,"^")}function PI(t){return Jv(t).replace(yI,"%3D")}function DI(t){return B1(t).replace(UC,"%23").replace(bI,"%3F")}function MI(t){return t==null?"":DI(t).replace(xI,"%2F")}function Fg(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function EI(t){const s={};if(t===""||t==="?")return s;const l=(t[0]==="?"?t.slice(1):t).split("&");for(let c=0;c<l.length;++c){const f=l[c].replace(WC," "),p=f.indexOf("="),x=Fg(p<0?f:f.slice(0,p)),w=p<0?null:Fg(f.slice(p+1));if(x in s){let P=s[x];yo(P)||(P=s[x]=[P]),P.push(w)}else s[x]=w}return s}function Ow(t){let s="";for(let r in t){const l=t[r];if(r=PI(r),l==null){l!==void 0&&(s+=(s.length?"&":"")+r);continue}(yo(l)?l.map(f=>f&&Jv(f)):[l&&Jv(l)]).forEach(f=>{f!==void 0&&(s+=(s.length?"&":"")+r,f!=null&&(s+="="+f))})}return s}function _I(t){const s={};for(const r in t){const l=t[r];l!==void 0&&(s[r]=yo(l)?l.map(c=>c==null?null:""+c):l==null?l:""+l)}return s}const FI=Symbol(""),Rw=Symbol(""),V1=Symbol(""),KC=Symbol(""),Qv=Symbol("");function Ld(){let t=[];function s(l){return t.push(l),()=>{const c=t.indexOf(l);c>-1&&t.splice(c,1)}}function r(){t=[]}return{add:s,list:()=>t,reset:r}}function Zl(t,s,r,l,c){const f=l&&(l.enterCallbacks[c]=l.enterCallbacks[c]||[]);return()=>new Promise((p,x)=>{const w=F=>{F===!1?x(Yu(4,{from:r,to:s})):F instanceof Error?x(F):nI(F)?x(Yu(2,{from:s,to:F})):(f&&l.enterCallbacks[c]===f&&typeof F=="function"&&f.push(F),p())},P=t.call(l&&l.instances[c],s,r,w);let C=Promise.resolve(P);t.length<3&&(C=C.then(w)),C.catch(F=>x(F))})}function qp(t,s,r,l){const c=[];for(const f of t)for(const p in f.components){let x=f.components[p];if(!(s!=="beforeRouteEnter"&&!f.instances[p]))if(NI(x)){const P=(x.__vccOpts||x)[s];P&&c.push(Zl(P,r,l,f,p))}else{let w=x();c.push(()=>w.then(P=>{if(!P)return Promise.reject(new Error(`Couldn't resolve component "${p}" at "${f.path}"`));const C=VL(P)?P.default:P;f.components[p]=C;const L=(C.__vccOpts||C)[s];return L&&Zl(L,r,l,f,p)()}))}}return c}function NI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Bw(t){const s=Hi(V1),r=Hi(KC),l=_e(()=>s.resolve(Ln(t.to))),c=_e(()=>{const{matched:w}=l.value,{length:P}=w,C=w[P-1],F=r.matched;if(!C||!F.length)return-1;const L=F.findIndex(Hu.bind(null,C));if(L>-1)return L;const B=Vw(w[P-2]);return P>1&&Vw(C)===B&&F[F.length-1].path!==B?F.findIndex(Hu.bind(null,w[P-2])):L}),f=_e(()=>c.value>-1&&RI(r.params,l.value.params)),p=_e(()=>c.value>-1&&c.value===r.matched.length-1&&VC(r.params,l.value.params));function x(w={}){return OI(w)?s[Ln(t.replace)?"replace":"push"](Ln(t.to)).catch(nf):Promise.resolve()}return{route:l,href:_e(()=>l.value.href),isActive:f,isExactActive:p,navigate:x}}const LI=yn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Bw,setup(t,{slots:s}){const r=ji(Bw(t)),{options:l}=Hi(V1),c=_e(()=>({[zw(t.activeClass,l.linkActiveClass,"router-link-active")]:r.isActive,[zw(t.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const f=s.default&&s.default(r);return t.custom?f:Tr("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:c.value},f)}}}),II=LI;function OI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const s=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(s))return}return t.preventDefault&&t.preventDefault(),!0}}function RI(t,s){for(const r in s){const l=s[r],c=t[r];if(typeof l=="string"){if(l!==c)return!1}else if(!yo(c)||c.length!==l.length||l.some((f,p)=>f!==c[p]))return!1}return!0}function Vw(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zw=(t,s,r)=>t??s??r,BI=yn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:s,slots:r}){const l=Hi(Qv),c=_e(()=>t.route||l.value),f=Hi(Rw,0),p=_e(()=>{let P=Ln(f);const{matched:C}=c.value;let F;for(;(F=C[P])&&!F.components;)P++;return P}),x=_e(()=>c.value.matched[p.value]);Tn(Rw,_e(()=>p.value+1)),Tn(FI,x),Tn(Qv,c);const w=it();return ui(()=>[w.value,x.value,t.name],([P,C,F],[L,B,U])=>{C&&(C.instances[F]=P,B&&B!==C&&P&&P===L&&(C.leaveGuards.size||(C.leaveGuards=B.leaveGuards),C.updateGuards.size||(C.updateGuards=B.updateGuards))),P&&C&&(!B||!Hu(C,B)||!L)&&(C.enterCallbacks[F]||[]).forEach(Y=>Y(P))},{flush:"post"}),()=>{const P=c.value,C=t.name,F=x.value,L=F&&F.components[C];if(!L)return Xw(r.default,{Component:L,route:P});const B=F.props[C],U=B?B===!0?P.params:typeof B=="function"?B(P):B:null,Q=Tr(L,kn({},U,s,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(F.instances[C]=null)},ref:w}));return Xw(r.default,{Component:Q,route:P})||Q}}});function Xw(t,s){if(!t)return null;const r=t(s);return r.length===1?r[0]:r}const VI=BI;function zI(t){const s=fI(t.routes,t),r=t.parseQuery||EI,l=t.stringifyQuery||Ow,c=t.history,f=Ld(),p=Ld(),x=Ld(),w=bm(jl);let P=jl;mu&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const C=$p.bind(null,Ae=>""+Ae),F=$p.bind(null,MI),L=$p.bind(null,Fg);function B(Ae,Ye){let st,ht;return XC(Ae)?(st=s.getRecordMatcher(Ae),ht=Ye):ht=Ae,s.addRoute(ht,st)}function U(Ae){const Ye=s.getRecordMatcher(Ae);Ye&&s.removeRoute(Ye)}function Y(){return s.getRoutes().map(Ae=>Ae.record)}function Q(Ae){return!!s.getRecordMatcher(Ae)}function N(Ae,Ye){if(Ye=kn({},Ye||w.value),typeof Ae=="string"){const ve=Kp(r,Ae,Ye.path),et=s.resolve({path:ve.path},Ye),ut=c.createHref(ve.fullPath);return kn(ve,et,{params:L(et.params),hash:Fg(ve.hash),redirectedFrom:void 0,href:ut})}let st;if("path"in Ae)st=kn({},Ae,{path:Kp(r,Ae.path,Ye.path).path});else{const ve=kn({},Ae.params);for(const et in ve)ve[et]==null&&delete ve[et];st=kn({},Ae,{params:F(Ae.params)}),Ye.params=F(Ye.params)}const ht=s.resolve(st,Ye),vt=Ae.hash||"";ht.params=C(L(ht.params));const kt=HL(l,kn({},Ae,{hash:TI(vt),path:ht.path})),Kt=c.createHref(kt);return kn({fullPath:kt,hash:vt,query:l===Ow?_I(Ae.query):Ae.query||{}},ht,{redirectedFrom:void 0,href:Kt})}function X(Ae){return typeof Ae=="string"?Kp(r,Ae,w.value.path):kn({},Ae)}function W(Ae,Ye){if(P!==Ae)return Yu(8,{from:Ye,to:Ae})}function he(Ae){return G(Ae)}function K(Ae){return he(kn(X(Ae),{replace:!0}))}function le(Ae){const Ye=Ae.matched[Ae.matched.length-1];if(Ye&&Ye.redirect){const{redirect:st}=Ye;let ht=typeof st=="function"?st(Ae):st;return typeof ht=="string"&&(ht=ht.includes("?")||ht.includes("#")?ht=X(ht):{path:ht},ht.params={}),kn({query:Ae.query,hash:Ae.hash,params:"path"in ht?{}:Ae.params},ht)}}function G(Ae,Ye){const st=P=N(Ae),ht=w.value,vt=Ae.state,kt=Ae.force,Kt=Ae.replace===!0,ve=le(st);if(ve)return G(kn(X(ve),{state:typeof ve=="object"?kn({},vt,ve.state):vt,force:kt,replace:Kt}),Ye||st);const et=st;et.redirectedFrom=Ye;let ut;return!kt&&YL(l,ht,st)&&(ut=Yu(16,{to:et,from:ht}),dt(ht,ht,!0,!1)),(ut?Promise.resolve(ut):fe(et,ht)).catch(xt=>tl(xt)?tl(xt,2)?xt:Je(xt):Ze(xt,et,ht)).then(xt=>{if(xt){if(tl(xt,2))return G(kn({replace:Kt},X(xt.to),{state:typeof xt.to=="object"?kn({},vt,xt.to.state):vt,force:kt}),Ye||et)}else xt=Te(et,ht,!0,Kt,vt);return pe(et,ht,xt),xt})}function oe(Ae,Ye){const st=W(Ae,Ye);return st?Promise.reject(st):Promise.resolve()}function fe(Ae,Ye){let st;const[ht,vt,kt]=XI(Ae,Ye);st=qp(ht.reverse(),"beforeRouteLeave",Ae,Ye);for(const ve of ht)ve.leaveGuards.forEach(et=>{st.push(Zl(et,Ae,Ye))});const Kt=oe.bind(null,Ae,Ye);return st.push(Kt),ru(st).then(()=>{st=[];for(const ve of f.list())st.push(Zl(ve,Ae,Ye));return st.push(Kt),ru(st)}).then(()=>{st=qp(vt,"beforeRouteUpdate",Ae,Ye);for(const ve of vt)ve.updateGuards.forEach(et=>{st.push(Zl(et,Ae,Ye))});return st.push(Kt),ru(st)}).then(()=>{st=[];for(const ve of Ae.matched)if(ve.beforeEnter&&!Ye.matched.includes(ve))if(yo(ve.beforeEnter))for(const et of ve.beforeEnter)st.push(Zl(et,Ae,Ye));else st.push(Zl(ve.beforeEnter,Ae,Ye));return st.push(Kt),ru(st)}).then(()=>(Ae.matched.forEach(ve=>ve.enterCallbacks={}),st=qp(kt,"beforeRouteEnter",Ae,Ye),st.push(Kt),ru(st))).then(()=>{st=[];for(const ve of p.list())st.push(Zl(ve,Ae,Ye));return st.push(Kt),ru(st)}).catch(ve=>tl(ve,8)?ve:Promise.reject(ve))}function pe(Ae,Ye,st){for(const ht of x.list())ht(Ae,Ye,st)}function Te(Ae,Ye,st,ht,vt){const kt=W(Ae,Ye);if(kt)return kt;const Kt=Ye===jl,ve=mu?history.state:{};st&&(ht||Kt?c.replace(Ae.fullPath,kn({scroll:Kt&&ve&&ve.scroll},vt)):c.push(Ae.fullPath,vt)),w.value=Ae,dt(Ae,Ye,st,Kt),Je()}let De;function Me(){De||(De=c.listen((Ae,Ye,st)=>{if(!Ue.listening)return;const ht=N(Ae),vt=le(ht);if(vt){G(kn(vt,{replace:!0}),ht).catch(nf);return}P=ht;const kt=w.value;mu&&ZL(Dw(kt.fullPath,st.delta),_m()),fe(ht,kt).catch(Kt=>tl(Kt,12)?Kt:tl(Kt,2)?(G(Kt.to,ht).then(ve=>{tl(ve,20)&&!st.delta&&st.type===Df.pop&&c.go(-1,!1)}).catch(nf),Promise.reject()):(st.delta&&c.go(-st.delta,!1),Ze(Kt,ht,kt))).then(Kt=>{Kt=Kt||Te(ht,kt,!1),Kt&&(st.delta&&!tl(Kt,8)?c.go(-st.delta,!1):st.type===Df.pop&&tl(Kt,20)&&c.go(-1,!1)),pe(ht,kt,Kt)}).catch(nf)}))}let He=Ld(),je=Ld(),tt;function Ze(Ae,Ye,st){Je(Ae);const ht=je.list();return ht.length?ht.forEach(vt=>vt(Ae,Ye,st)):console.error(Ae),Promise.reject(Ae)}function ft(){return tt&&w.value!==jl?Promise.resolve():new Promise((Ae,Ye)=>{He.add([Ae,Ye])})}function Je(Ae){return tt||(tt=!Ae,Me(),He.list().forEach(([Ye,st])=>Ae?st(Ae):Ye()),He.reset()),Ae}function dt(Ae,Ye,st,ht){const{scrollBehavior:vt}=t;if(!mu||!vt)return Promise.resolve();const kt=!st&&JL(Dw(Ae.fullPath,0))||(ht||!st)&&history.state&&history.state.scroll||null;return on().then(()=>vt(Ae,Ye,kt)).then(Kt=>Kt&&qL(Kt)).catch(Kt=>Ze(Kt,Ae,Ye))}const at=Ae=>c.go(Ae);let Ie;const qe=new Set,Ue={currentRoute:w,listening:!0,addRoute:B,removeRoute:U,hasRoute:Q,getRoutes:Y,resolve:N,options:t,push:he,replace:K,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:f.add,beforeResolve:p.add,afterEach:x.add,onError:je.add,isReady:ft,install(Ae){const Ye=this;Ae.component("RouterLink",II),Ae.component("RouterView",VI),Ae.config.globalProperties.$router=Ye,Object.defineProperty(Ae.config.globalProperties,"$route",{enumerable:!0,get:()=>Ln(w)}),mu&&!Ie&&w.value===jl&&(Ie=!0,he(c.location).catch(vt=>{}));const st={};for(const vt in jl)st[vt]=_e(()=>w.value[vt]);Ae.provide(V1,Ye),Ae.provide(KC,ji(st)),Ae.provide(Qv,w);const ht=Ae.unmount;qe.add(Ae),Ae.unmount=function(){qe.delete(Ae),qe.size<1&&(P=jl,De&&De(),De=null,w.value=jl,Ie=!1,tt=!1),ht()}}};return Ue}function ru(t){return t.reduce((s,r)=>s.then(()=>r()),Promise.resolve())}function XI(t,s){const r=[],l=[],c=[],f=Math.max(s.matched.length,t.matched.length);for(let p=0;p<f;p++){const x=s.matched[p];x&&(t.matched.find(P=>Hu(P,x))?l.push(x):r.push(x));const w=t.matched[p];w&&(s.matched.find(P=>Hu(P,w))||c.push(w))}return[r,l,c]}const HI="/images/arrow-right.png",Hw="/images/line-circle.png",Yw="/images/circle.png";function sl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qC(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s}/*!
 * GSAP 3.11.5
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var va={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Uu={duration:.5,overwrite:!1,delay:0},z1,fr,Ms,za=1e8,Nn=1/za,ex=Math.PI*2,YI=ex/4,UI=0,ZC=Math.sqrt,WI=Math.cos,GI=Math.sin,Ys=function(s){return typeof s=="string"},ls=function(s){return typeof s=="function"},pl=function(s){return typeof s=="number"},X1=function(s){return typeof s>"u"},Uo=function(s){return typeof s=="object"},Ur=function(s){return s!==!1},H1=function(){return typeof window<"u"},U0=function(s){return ls(s)||Ys(s)},JC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},gr=Array.isArray,tx=/(?:-?\.?\d|\.)+/gi,QC=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vu=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Zp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,eA=/[+-]=-?[.\d]+/,tA=/[^,'"\[\]\s]+/gi,jI=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Qn,Oa,ix,Y1,xa={},Ng={},iA,nA=function(s){return(Ng=vc(s,xa))&&qr},U1=function(s,r){return console.warn("Invalid property",s,"set to",r,"Missing plugin? gsap.registerPlugin()")},Lg=function(s,r){return!r&&console.warn(s)},sA=function(s,r){return s&&(xa[s]=r)&&Ng&&(Ng[s]=r)||xa},Mf=function(){return 0},$I={suppressEvents:!0,isStart:!0,kill:!1},gg={suppressEvents:!0,kill:!1},KI={suppressEvents:!0},W1={},ah=[],nx={},rA,ra={},Jp={},Uw=30,mg=[],G1="",j1=function(s){var r=s[0],l,c;if(Uo(r)||ls(r)||(s=[s]),!(l=(r._gsap||{}).harness)){for(c=mg.length;c--&&!mg[c].targetTest(r););l=mg[c]}for(c=s.length;c--;)s[c]&&(s[c]._gsap||(s[c]._gsap=new MA(s[c],l)))||s.splice(c,1);return s},ac=function(s){return s._gsap||j1(Xa(s))[0]._gsap},aA=function(s,r,l){return(l=s[r])&&ls(l)?s[r]():X1(l)&&s.getAttribute&&s.getAttribute(r)||l},Wr=function(s,r){return(s=s.split(",")).forEach(r)||s},xs=function(s){return Math.round(s*1e5)/1e5||0},qs=function(s){return Math.round(s*1e7)/1e7||0},Du=function(s,r){var l=r.charAt(0),c=parseFloat(r.substr(2));return s=parseFloat(s),l==="+"?s+c:l==="-"?s-c:l==="*"?s*c:s/c},qI=function(s,r){for(var l=r.length,c=0;s.indexOf(r[c])<0&&++c<l;);return c<l},Ig=function(){var s=ah.length,r=ah.slice(0),l,c;for(nx={},ah.length=0,l=0;l<s;l++)c=r[l],c&&c._lazy&&(c.render(c._lazy[0],c._lazy[1],!0)._lazy=0)},oA=function(s,r,l,c){ah.length&&!fr&&Ig(),s.render(r,l,c||fr&&r<0&&(s._initted||s._startAt)),ah.length&&!fr&&Ig()},lA=function(s){var r=parseFloat(s);return(r||r===0)&&(s+"").match(tA).length<2?r:Ys(s)?s.trim():s},hA=function(s){return s},ja=function(s,r){for(var l in r)l in s||(s[l]=r[l]);return s},ZI=function(s){return function(r,l){for(var c in l)c in r||c==="duration"&&s||c==="ease"||(r[c]=l[c])}},vc=function(s,r){for(var l in r)s[l]=r[l];return s},Ww=function t(s,r){for(var l in r)l!=="__proto__"&&l!=="constructor"&&l!=="prototype"&&(s[l]=Uo(r[l])?t(s[l]||(s[l]={}),r[l]):r[l]);return s},Og=function(s,r){var l={},c;for(c in s)c in r||(l[c]=s[c]);return l},rf=function(s){var r=s.parent||Qn,l=s.keyframes?ZI(gr(s.keyframes)):ja;if(Ur(s.inherit))for(;r;)l(s,r.vars.defaults),r=r.parent||r._dp;return s},JI=function(s,r){for(var l=s.length,c=l===r.length;c&&l--&&s[l]===r[l];);return l<0},cA=function(s,r,l,c,f){l===void 0&&(l="_first"),c===void 0&&(c="_last");var p=s[c],x;if(f)for(x=r[f];p&&p[f]>x;)p=p._prev;return p?(r._next=p._next,p._next=r):(r._next=s[l],s[l]=r),r._next?r._next._prev=r:s[c]=r,r._prev=p,r.parent=r._dp=s,r},Fm=function(s,r,l,c){l===void 0&&(l="_first"),c===void 0&&(c="_last");var f=r._prev,p=r._next;f?f._next=p:s[l]===r&&(s[l]=p),p?p._prev=f:s[c]===r&&(s[c]=f),r._next=r._prev=r.parent=null},gh=function(s,r){s.parent&&(!r||s.parent.autoRemoveChildren)&&s.parent.remove(s),s._act=0},oc=function(s,r){if(s&&(!r||r._end>s._dur||r._start<0))for(var l=s;l;)l._dirty=1,l=l.parent;return s},QI=function(s){for(var r=s.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return s},sx=function(s,r,l,c){return s._startAt&&(fr?s._startAt.revert(gg):s.vars.immediateRender&&!s.vars.autoRevert||s._startAt.render(r,!0,c))},eO=function t(s){return!s||s._ts&&t(s.parent)},Gw=function(s){return s._repeat?Wu(s._tTime,s=s.duration()+s._rDelay)*s:0},Wu=function(s,r){var l=Math.floor(s/=r);return s&&l===s?l-1:l},Rg=function(s,r){return(s-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Nm=function(s){return s._end=qs(s._start+(s._tDur/Math.abs(s._ts||s._rts||Nn)||0))},Lm=function(s,r){var l=s._dp;return l&&l.smoothChildTiming&&s._ts&&(s._start=qs(l._time-(s._ts>0?r/s._ts:((s._dirty?s.totalDuration():s._tDur)-r)/-s._ts)),Nm(s),l._dirty||oc(l,s)),s},uA=function(s,r){var l;if((r._time||r._initted&&!r._dur)&&(l=Rg(s.rawTime(),r),(!r._dur||o0(0,r.totalDuration(),l)-r._tTime>Nn)&&r.render(l,!0)),oc(s,r)._dp&&s._initted&&s._time>=s._dur&&s._ts){if(s._dur<s.duration())for(l=s;l._dp;)l.rawTime()>=0&&l.totalTime(l._tTime),l=l._dp;s._zTime=-Nn}},Ro=function(s,r,l,c){return r.parent&&gh(r),r._start=qs((pl(l)?l:l||s!==Qn?Ia(s,l,r):s._time)+r._delay),r._end=qs(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),cA(s,r,"_first","_last",s._sort?"_start":0),rx(r)||(s._recent=r),c||uA(s,r),s._ts<0&&Lm(s,s._tTime),s},dA=function(s,r){return(xa.ScrollTrigger||U1("scrollTrigger",r))&&xa.ScrollTrigger.create(r,s)},fA=function(s,r,l,c,f){if(K1(s,r,f),!s._initted)return 1;if(!l&&s._pt&&!fr&&(s._dur&&s.vars.lazy!==!1||!s._dur&&s.vars.lazy)&&rA!==ca.frame)return ah.push(s),s._lazy=[f,c],1},tO=function t(s){var r=s.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},rx=function(s){var r=s.data;return r==="isFromStart"||r==="isStart"},iO=function(s,r,l,c){var f=s.ratio,p=r<0||!r&&(!s._start&&tO(s)&&!(!s._initted&&rx(s))||(s._ts<0||s._dp._ts<0)&&!rx(s))?0:1,x=s._rDelay,w=0,P,C,F;if(x&&s._repeat&&(w=o0(0,s._tDur,r),C=Wu(w,x),s._yoyo&&C&1&&(p=1-p),C!==Wu(s._tTime,x)&&(f=1-p,s.vars.repeatRefresh&&s._initted&&s.invalidate())),p!==f||fr||c||s._zTime===Nn||!r&&s._zTime){if(!s._initted&&fA(s,r,c,l,w))return;for(F=s._zTime,s._zTime=r||(l?Nn:0),l||(l=r&&!F),s.ratio=p,s._from&&(p=1-p),s._time=0,s._tTime=w,P=s._pt;P;)P.r(p,P.d),P=P._next;r<0&&sx(s,r,l,!0),s._onUpdate&&!l&&Ha(s,"onUpdate"),w&&s._repeat&&!l&&s.parent&&Ha(s,"onRepeat"),(r>=s._tDur||r<0)&&s.ratio===p&&(p&&gh(s,1),!l&&!fr&&(Ha(s,p?"onComplete":"onReverseComplete",!0),s._prom&&s._prom()))}else s._zTime||(s._zTime=r)},nO=function(s,r,l){var c;if(l>r)for(c=s._first;c&&c._start<=l;){if(c.data==="isPause"&&c._start>r)return c;c=c._next}else for(c=s._last;c&&c._start>=l;){if(c.data==="isPause"&&c._start<r)return c;c=c._prev}},Gu=function(s,r,l,c){var f=s._repeat,p=qs(r)||0,x=s._tTime/s._tDur;return x&&!c&&(s._time*=p/s._dur),s._dur=p,s._tDur=f?f<0?1e10:qs(p*(f+1)+s._rDelay*f):p,x>0&&!c&&Lm(s,s._tTime=s._tDur*x),s.parent&&Nm(s),l||oc(s.parent,s),s},jw=function(s){return s instanceof Hr?oc(s):Gu(s,s._dur)},sO={_start:0,endTime:Mf,totalDuration:Mf},Ia=function t(s,r,l){var c=s.labels,f=s._recent||sO,p=s.duration()>=za?f.endTime(!1):s._dur,x,w,P;return Ys(r)&&(isNaN(r)||r in c)?(w=r.charAt(0),P=r.substr(-1)==="%",x=r.indexOf("="),w==="<"||w===">"?(x>=0&&(r=r.replace(/=/,"")),(w==="<"?f._start:f.endTime(f._repeat>=0))+(parseFloat(r.substr(1))||0)*(P?(x<0?f:l).totalDuration()/100:1)):x<0?(r in c||(c[r]=p),c[r]):(w=parseFloat(r.charAt(x-1)+r.substr(x+1)),P&&l&&(w=w/100*(gr(l)?l[0]:l).totalDuration()),x>1?t(s,r.substr(0,x-1),l)+w:p+w)):r==null?p:+r},af=function(s,r,l){var c=pl(r[1]),f=(c?2:1)+(s<2?0:1),p=r[f],x,w;if(c&&(p.duration=r[1]),p.parent=l,s){for(x=p,w=l;w&&!("immediateRender"in x);)x=w.vars.defaults||{},w=Ur(w.vars.inherit)&&w.parent;p.immediateRender=Ur(x.immediateRender),s<2?p.runBackwards=1:p.startAt=r[f-1]}return new Ns(r[0],p,r[f+1])},Ch=function(s,r){return s||s===0?r(s):r},o0=function(s,r,l){return l<s?s:l>r?r:l},hr=function(s,r){return!Ys(s)||!(r=jI.exec(s))?"":r[1]},rO=function(s,r,l){return Ch(l,function(c){return o0(s,r,c)})},ax=[].slice,gA=function(s,r){return s&&Uo(s)&&"length"in s&&(!r&&!s.length||s.length-1 in s&&Uo(s[0]))&&!s.nodeType&&s!==Oa},aO=function(s,r,l){return l===void 0&&(l=[]),s.forEach(function(c){var f;return Ys(c)&&!r||gA(c,1)?(f=l).push.apply(f,Xa(c)):l.push(c)})||l},Xa=function(s,r,l){return Ms&&!r&&Ms.selector?Ms.selector(s):Ys(s)&&!l&&(ix||!ju())?ax.call((r||Y1).querySelectorAll(s),0):gr(s)?aO(s,l):gA(s)?ax.call(s,0):s?[s]:[]},ox=function(s){return s=Xa(s)[0]||Lg("Invalid scope")||{},function(r){var l=s.current||s.nativeElement||s;return Xa(r,l.querySelectorAll?l:l===s?Lg("Invalid scope")||Y1.createElement("div"):s)}},mA=function(s){return s.sort(function(){return .5-Math.random()})},pA=function(s){if(ls(s))return s;var r=Uo(s)?s:{each:s},l=lc(r.ease),c=r.from||0,f=parseFloat(r.base)||0,p={},x=c>0&&c<1,w=isNaN(c)||x,P=r.axis,C=c,F=c;return Ys(c)?C=F={center:.5,edges:.5,end:1}[c]||0:!x&&w&&(C=c[0],F=c[1]),function(L,B,U){var Y=(U||r).length,Q=p[Y],N,X,W,he,K,le,G,oe,fe;if(!Q){if(fe=r.grid==="auto"?0:(r.grid||[1,za])[1],!fe){for(G=-za;G<(G=U[fe++].getBoundingClientRect().left)&&fe<Y;);fe--}for(Q=p[Y]=[],N=w?Math.min(fe,Y)*C-.5:c%fe,X=fe===za?0:w?Y*F/fe-.5:c/fe|0,G=0,oe=za,le=0;le<Y;le++)W=le%fe-N,he=X-(le/fe|0),Q[le]=K=P?Math.abs(P==="y"?he:W):ZC(W*W+he*he),K>G&&(G=K),K<oe&&(oe=K);c==="random"&&mA(Q),Q.max=G-oe,Q.min=oe,Q.v=Y=(parseFloat(r.amount)||parseFloat(r.each)*(fe>Y?Y-1:P?P==="y"?Y/fe:fe:Math.max(fe,Y/fe))||0)*(c==="edges"?-1:1),Q.b=Y<0?f-Y:f,Q.u=hr(r.amount||r.each)||0,l=l&&Y<0?TA(l):l}return Y=(Q[L]-Q.min)/Q.max||0,qs(Q.b+(l?l(Y):Y)*Q.v)+Q.u}},lx=function(s){var r=Math.pow(10,((s+"").split(".")[1]||"").length);return function(l){var c=qs(Math.round(parseFloat(l)/s)*s*r);return(c-c%1)/r+(pl(l)?0:hr(l))}},vA=function(s,r){var l=gr(s),c,f;return!l&&Uo(s)&&(c=l=s.radius||za,s.values?(s=Xa(s.values),(f=!pl(s[0]))&&(c*=c)):s=lx(s.increment)),Ch(r,l?ls(s)?function(p){return f=s(p),Math.abs(f-p)<=c?f:p}:function(p){for(var x=parseFloat(f?p.x:p),w=parseFloat(f?p.y:0),P=za,C=0,F=s.length,L,B;F--;)f?(L=s[F].x-x,B=s[F].y-w,L=L*L+B*B):L=Math.abs(s[F]-x),L<P&&(P=L,C=F);return C=!c||P<=c?s[C]:p,f||C===p||pl(p)?C:C+hr(p)}:lx(s))},xA=function(s,r,l,c){return Ch(gr(s)?!r:l===!0?!!(l=0):!c,function(){return gr(s)?s[~~(Math.random()*s.length)]:(l=l||1e-5)&&(c=l<1?Math.pow(10,(l+"").length-2):1)&&Math.floor(Math.round((s-l/2+Math.random()*(r-s+l*.99))/l)*l*c)/c})},oO=function(){for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return function(c){return r.reduce(function(f,p){return p(f)},c)}},lO=function(s,r){return function(l){return s(parseFloat(l))+(r||hr(l))}},hO=function(s,r,l){return bA(s,r,0,1,l)},yA=function(s,r,l){return Ch(l,function(c){return s[~~r(c)]})},cO=function t(s,r,l){var c=r-s;return gr(s)?yA(s,t(0,s.length),r):Ch(l,function(f){return(c+(f-s)%c)%c+s})},uO=function t(s,r,l){var c=r-s,f=c*2;return gr(s)?yA(s,t(0,s.length-1),r):Ch(l,function(p){return p=(f+(p-s)%f)%f||0,s+(p>c?f-p:p)})},Ef=function(s){for(var r=0,l="",c,f,p,x;~(c=s.indexOf("random(",r));)p=s.indexOf(")",c),x=s.charAt(c+7)==="[",f=s.substr(c+7,p-c-7).match(x?tA:tx),l+=s.substr(r,c-r)+xA(x?f:+f[0],x?0:+f[1],+f[2]||1e-5),r=p+1;return l+s.substr(r,s.length-r)},bA=function(s,r,l,c,f){var p=r-s,x=c-l;return Ch(f,function(w){return l+((w-s)/p*x||0)})},dO=function t(s,r,l,c){var f=isNaN(s+r)?0:function(B){return(1-B)*s+B*r};if(!f){var p=Ys(s),x={},w,P,C,F,L;if(l===!0&&(c=1)&&(l=null),p)s={p:s},r={p:r};else if(gr(s)&&!gr(r)){for(C=[],F=s.length,L=F-2,P=1;P<F;P++)C.push(t(s[P-1],s[P]));F--,f=function(U){U*=F;var Y=Math.min(L,~~U);return C[Y](U-Y)},l=r}else c||(s=vc(gr(s)?[]:{},s));if(!C){for(w in r)$1.call(x,s,w,"get",r[w]);f=function(U){return J1(U,x)||(p?s.p:s)}}}return Ch(l,f)},$w=function(s,r,l){var c=s.labels,f=za,p,x,w;for(p in c)x=c[p]-r,x<0==!!l&&x&&f>(x=Math.abs(x))&&(w=p,f=x);return w},Ha=function(s,r,l){var c=s.vars,f=c[r],p=Ms,x=s._ctx,w,P,C;if(f)return w=c[r+"Params"],P=c.callbackScope||s,l&&ah.length&&Ig(),x&&(Ms=x),C=w?f.apply(P,w):f.call(P),Ms=p,C},Hd=function(s){return gh(s),s.scrollTrigger&&s.scrollTrigger.kill(!!fr),s.progress()<1&&Ha(s,"onInterrupt"),s},xu,wA=[],kA=function(s){if(!H1()){wA.push(s);return}s=!s.name&&s.default||s;var r=s.name,l=ls(s),c=r&&!l&&s.init?function(){this._props=[]}:s,f={init:Mf,render:J1,add:$1,kill:DO,modifier:PO,rawVars:0},p={targetTest:0,get:0,getSetter:Z1,aliases:{},register:0};if(ju(),s!==c){if(ra[r])return;ja(c,ja(Og(s,f),p)),vc(c.prototype,vc(f,Og(s,p))),ra[c.prop=r]=c,s.targetTest&&(mg.push(c),W1[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}sA(r,c),s.register&&s.register(qr,c,Gr)},Fn=255,Yd={aqua:[0,Fn,Fn],lime:[0,Fn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Fn],navy:[0,0,128],white:[Fn,Fn,Fn],olive:[128,128,0],yellow:[Fn,Fn,0],orange:[Fn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Fn,0,0],pink:[Fn,192,203],cyan:[0,Fn,Fn],transparent:[Fn,Fn,Fn,0]},Qp=function(s,r,l){return s+=s<0?1:s>1?-1:0,(s*6<1?r+(l-r)*s*6:s<.5?l:s*3<2?r+(l-r)*(2/3-s)*6:r)*Fn+.5|0},SA=function(s,r,l){var c=s?pl(s)?[s>>16,s>>8&Fn,s&Fn]:0:Yd.black,f,p,x,w,P,C,F,L,B,U;if(!c){if(s.substr(-1)===","&&(s=s.substr(0,s.length-1)),Yd[s])c=Yd[s];else if(s.charAt(0)==="#"){if(s.length<6&&(f=s.charAt(1),p=s.charAt(2),x=s.charAt(3),s="#"+f+f+p+p+x+x+(s.length===5?s.charAt(4)+s.charAt(4):"")),s.length===9)return c=parseInt(s.substr(1,6),16),[c>>16,c>>8&Fn,c&Fn,parseInt(s.substr(7),16)/255];s=parseInt(s.substr(1),16),c=[s>>16,s>>8&Fn,s&Fn]}else if(s.substr(0,3)==="hsl"){if(c=U=s.match(tx),!r)w=+c[0]%360/360,P=+c[1]/100,C=+c[2]/100,p=C<=.5?C*(P+1):C+P-C*P,f=C*2-p,c.length>3&&(c[3]*=1),c[0]=Qp(w+1/3,f,p),c[1]=Qp(w,f,p),c[2]=Qp(w-1/3,f,p);else if(~s.indexOf("="))return c=s.match(QC),l&&c.length<4&&(c[3]=1),c}else c=s.match(tx)||Yd.transparent;c=c.map(Number)}return r&&!U&&(f=c[0]/Fn,p=c[1]/Fn,x=c[2]/Fn,F=Math.max(f,p,x),L=Math.min(f,p,x),C=(F+L)/2,F===L?w=P=0:(B=F-L,P=C>.5?B/(2-F-L):B/(F+L),w=F===f?(p-x)/B+(p<x?6:0):F===p?(x-f)/B+2:(f-p)/B+4,w*=60),c[0]=~~(w+.5),c[1]=~~(P*100+.5),c[2]=~~(C*100+.5)),l&&c.length<4&&(c[3]=1),c},CA=function(s){var r=[],l=[],c=-1;return s.split(oh).forEach(function(f){var p=f.match(vu)||[];r.push.apply(r,p),l.push(c+=p.length+1)}),r.c=l,r},Kw=function(s,r,l){var c="",f=(s+c).match(oh),p=r?"hsla(":"rgba(",x=0,w,P,C,F;if(!f)return s;if(f=f.map(function(L){return(L=SA(L,r,1))&&p+(r?L[0]+","+L[1]+"%,"+L[2]+"%,"+L[3]:L.join(","))+")"}),l&&(C=CA(s),w=l.c,w.join(c)!==C.c.join(c)))for(P=s.replace(oh,"1").split(vu),F=P.length-1;x<F;x++)c+=P[x]+(~w.indexOf(x)?f.shift()||p+"0,0,0,0)":(C.length?C:f.length?f:l).shift());if(!P)for(P=s.split(oh),F=P.length-1;x<F;x++)c+=P[x]+f[x];return c+P[F]},oh=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",s;for(s in Yd)t+="|"+s+"\\b";return new RegExp(t+")","gi")}(),fO=/hsl[a]?\(/,AA=function(s){var r=s.join(" "),l;if(oh.lastIndex=0,oh.test(r))return l=fO.test(r),s[1]=Kw(s[1],l),s[0]=Kw(s[0],l,CA(s[1])),!0},_f,ca=function(){var t=Date.now,s=500,r=33,l=t(),c=l,f=1e3/240,p=f,x=[],w,P,C,F,L,B,U=function Y(Q){var N=t()-c,X=Q===!0,W,he,K,le;if(N>s&&(l+=N-r),c+=N,K=c-l,W=K-p,(W>0||X)&&(le=++F.frame,L=K-F.time*1e3,F.time=K=K/1e3,p+=W+(W>=f?4:f-W),he=1),X||(w=P(Y)),he)for(B=0;B<x.length;B++)x[B](K,L,le,Q)};return F={time:0,frame:0,tick:function(){U(!0)},deltaRatio:function(Q){return L/(1e3/(Q||60))},wake:function(){iA&&(!ix&&H1()&&(Oa=ix=window,Y1=Oa.document||{},xa.gsap=qr,(Oa.gsapVersions||(Oa.gsapVersions=[])).push(qr.version),nA(Ng||Oa.GreenSockGlobals||!Oa.gsap&&Oa||{}),C=Oa.requestAnimationFrame,wA.forEach(kA)),w&&F.sleep(),P=C||function(Q){return setTimeout(Q,p-F.time*1e3+1|0)},_f=1,U(2))},sleep:function(){(C?Oa.cancelAnimationFrame:clearTimeout)(w),_f=0,P=Mf},lagSmoothing:function(Q,N){s=Q||1/0,r=Math.min(N||33,s)},fps:function(Q){f=1e3/(Q||240),p=F.time*1e3+f},add:function(Q,N,X){var W=N?function(he,K,le,G){Q(he,K,le,G),F.remove(W)}:Q;return F.remove(Q),x[X?"unshift":"push"](W),ju(),W},remove:function(Q,N){~(N=x.indexOf(Q))&&x.splice(N,1)&&B>=N&&B--},_listeners:x},F}(),ju=function(){return!_f&&ca.wake()},tn={},gO=/^[\d.\-M][\d.\-,\s]/,mO=/["']/g,pO=function(s){for(var r={},l=s.substr(1,s.length-3).split(":"),c=l[0],f=1,p=l.length,x,w,P;f<p;f++)w=l[f],x=f!==p-1?w.lastIndexOf(","):w.length,P=w.substr(0,x),r[c]=isNaN(P)?P.replace(mO,"").trim():+P,c=w.substr(x+1).trim();return r},vO=function(s){var r=s.indexOf("(")+1,l=s.indexOf(")"),c=s.indexOf("(",r);return s.substring(r,~c&&c<l?s.indexOf(")",l+1):l)},xO=function(s){var r=(s+"").split("("),l=tn[r[0]];return l&&r.length>1&&l.config?l.config.apply(null,~s.indexOf("{")?[pO(r[1])]:vO(s).split(",").map(lA)):tn._CE&&gO.test(s)?tn._CE("",s):l},TA=function(s){return function(r){return 1-s(1-r)}},PA=function t(s,r){for(var l=s._first,c;l;)l instanceof Hr?t(l,r):l.vars.yoyoEase&&(!l._yoyo||!l._repeat)&&l._yoyo!==r&&(l.timeline?t(l.timeline,r):(c=l._ease,l._ease=l._yEase,l._yEase=c,l._yoyo=r)),l=l._next},lc=function(s,r){return s&&(ls(s)?s:tn[s]||xO(s))||r},Fc=function(s,r,l,c){l===void 0&&(l=function(w){return 1-r(1-w)}),c===void 0&&(c=function(w){return w<.5?r(w*2)/2:1-r((1-w)*2)/2});var f={easeIn:r,easeOut:l,easeInOut:c},p;return Wr(s,function(x){tn[x]=xa[x]=f,tn[p=x.toLowerCase()]=l;for(var w in f)tn[p+(w==="easeIn"?".in":w==="easeOut"?".out":".inOut")]=tn[x+"."+w]=f[w]}),f},DA=function(s){return function(r){return r<.5?(1-s(1-r*2))/2:.5+s((r-.5)*2)/2}},ev=function t(s,r,l){var c=r>=1?r:1,f=(l||(s?.3:.45))/(r<1?r:1),p=f/ex*(Math.asin(1/c)||0),x=function(C){return C===1?1:c*Math.pow(2,-10*C)*GI((C-p)*f)+1},w=s==="out"?x:s==="in"?function(P){return 1-x(1-P)}:DA(x);return f=ex/f,w.config=function(P,C){return t(s,P,C)},w},tv=function t(s,r){r===void 0&&(r=1.70158);var l=function(p){return p?--p*p*((r+1)*p+r)+1:0},c=s==="out"?l:s==="in"?function(f){return 1-l(1-f)}:DA(l);return c.config=function(f){return t(s,f)},c};Wr("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,s){var r=s<5?s+1:s;Fc(t+",Power"+(r-1),s?function(l){return Math.pow(l,r)}:function(l){return l},function(l){return 1-Math.pow(1-l,r)},function(l){return l<.5?Math.pow(l*2,r)/2:1-Math.pow((1-l)*2,r)/2})});tn.Linear.easeNone=tn.none=tn.Linear.easeIn;Fc("Elastic",ev("in"),ev("out"),ev());(function(t,s){var r=1/s,l=2*r,c=2.5*r,f=function(x){return x<r?t*x*x:x<l?t*Math.pow(x-1.5/s,2)+.75:x<c?t*(x-=2.25/s)*x+.9375:t*Math.pow(x-2.625/s,2)+.984375};Fc("Bounce",function(p){return 1-f(1-p)},f)})(7.5625,2.75);Fc("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Fc("Circ",function(t){return-(ZC(1-t*t)-1)});Fc("Sine",function(t){return t===1?1:-WI(t*YI)+1});Fc("Back",tv("in"),tv("out"),tv());tn.SteppedEase=tn.steps=xa.SteppedEase={config:function(s,r){s===void 0&&(s=1);var l=1/s,c=s+(r?0:1),f=r?1:0,p=1-Nn;return function(x){return((c*o0(0,p,x)|0)+f)*l}}};Uu.ease=tn["quad.out"];Wr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return G1+=t+","+t+"Params,"});var MA=function(s,r){this.id=UI++,s._gsap=this,this.target=s,this.harness=r,this.get=r?r.get:aA,this.set=r?r.getSetter:Z1},$u=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,Gu(this,+r.duration,1,1),this.data=r.data,Ms&&(this._ctx=Ms,Ms.data.push(this)),_f||ca.wake()}var s=t.prototype;return s.delay=function(l){return l||l===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+l-this._delay),this._delay=l,this):this._delay},s.duration=function(l){return arguments.length?this.totalDuration(this._repeat>0?l+(l+this._rDelay)*this._repeat:l):this.totalDuration()&&this._dur},s.totalDuration=function(l){return arguments.length?(this._dirty=0,Gu(this,this._repeat<0?l:(l-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},s.totalTime=function(l,c){if(ju(),!arguments.length)return this._tTime;var f=this._dp;if(f&&f.smoothChildTiming&&this._ts){for(Lm(this,l),!f._dp||f.parent||uA(f,this);f&&f.parent;)f.parent._time!==f._start+(f._ts>=0?f._tTime/f._ts:(f.totalDuration()-f._tTime)/-f._ts)&&f.totalTime(f._tTime,!0),f=f.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&l<this._tDur||this._ts<0&&l>0||!this._tDur&&!l)&&Ro(this._dp,this,this._start-this._delay)}return(this._tTime!==l||!this._dur&&!c||this._initted&&Math.abs(this._zTime)===Nn||!l&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=l),oA(this,l,c)),this},s.time=function(l,c){return arguments.length?this.totalTime(Math.min(this.totalDuration(),l+Gw(this))%(this._dur+this._rDelay)||(l?this._dur:0),c):this._time},s.totalProgress=function(l,c){return arguments.length?this.totalTime(this.totalDuration()*l,c):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},s.progress=function(l,c){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-l:l)+Gw(this),c):this.duration()?Math.min(1,this._time/this._dur):this.ratio},s.iteration=function(l,c){var f=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(l-1)*f,c):this._repeat?Wu(this._tTime,f)+1:1},s.timeScale=function(l){if(!arguments.length)return this._rts===-Nn?0:this._rts;if(this._rts===l)return this;var c=this.parent&&this._ts?Rg(this.parent._time,this):this._tTime;return this._rts=+l||0,this._ts=this._ps||l===-Nn?0:this._rts,this.totalTime(o0(-Math.abs(this._delay),this._tDur,c),!0),Nm(this),QI(this)},s.paused=function(l){return arguments.length?(this._ps!==l&&(this._ps=l,l?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ju(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Nn&&(this._tTime-=Nn)))),this):this._ps},s.startTime=function(l){if(arguments.length){this._start=l;var c=this.parent||this._dp;return c&&(c._sort||!this.parent)&&Ro(c,this,l-this._delay),this}return this._start},s.endTime=function(l){return this._start+(Ur(l)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},s.rawTime=function(l){var c=this.parent||this._dp;return c?l&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Rg(c.rawTime(l),this):this._tTime:this._tTime},s.revert=function(l){l===void 0&&(l=KI);var c=fr;return fr=l,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(l),this.totalTime(-.01,l.suppressEvents)),this.data!=="nested"&&l.kill!==!1&&this.kill(),fr=c,this},s.globalTime=function(l){for(var c=this,f=arguments.length?l:c.rawTime();c;)f=c._start+f/(c._ts||1),c=c._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(l):f},s.repeat=function(l){return arguments.length?(this._repeat=l===1/0?-2:l,jw(this)):this._repeat===-2?1/0:this._repeat},s.repeatDelay=function(l){if(arguments.length){var c=this._time;return this._rDelay=l,jw(this),c?this.time(c):this}return this._rDelay},s.yoyo=function(l){return arguments.length?(this._yoyo=l,this):this._yoyo},s.seek=function(l,c){return this.totalTime(Ia(this,l),Ur(c))},s.restart=function(l,c){return this.play().totalTime(l?-this._delay:0,Ur(c))},s.play=function(l,c){return l!=null&&this.seek(l,c),this.reversed(!1).paused(!1)},s.reverse=function(l,c){return l!=null&&this.seek(l||this.totalDuration(),c),this.reversed(!0).paused(!1)},s.pause=function(l,c){return l!=null&&this.seek(l,c),this.paused(!0)},s.resume=function(){return this.paused(!1)},s.reversed=function(l){return arguments.length?(!!l!==this.reversed()&&this.timeScale(-this._rts||(l?-Nn:0)),this):this._rts<0},s.invalidate=function(){return this._initted=this._act=0,this._zTime=-Nn,this},s.isActive=function(){var l=this.parent||this._dp,c=this._start,f;return!!(!l||this._ts&&this._initted&&l.isActive()&&(f=l.rawTime(!0))>=c&&f<this.endTime(!0)-Nn)},s.eventCallback=function(l,c,f){var p=this.vars;return arguments.length>1?(c?(p[l]=c,f&&(p[l+"Params"]=f),l==="onUpdate"&&(this._onUpdate=c)):delete p[l],this):p[l]},s.then=function(l){var c=this;return new Promise(function(f){var p=ls(l)?l:hA,x=function(){var P=c.then;c.then=null,ls(p)&&(p=p(c))&&(p.then||p===c)&&(c.then=P),f(p),c.then=P};c._initted&&c.totalProgress()===1&&c._ts>=0||!c._tTime&&c._ts<0?x():c._prom=x})},s.kill=function(){Hd(this)},t}();ja($u.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Nn,_prom:0,_ps:!1,_rts:1});var Hr=function(t){qC(s,t);function s(l,c){var f;return l===void 0&&(l={}),f=t.call(this,l)||this,f.labels={},f.smoothChildTiming=!!l.smoothChildTiming,f.autoRemoveChildren=!!l.autoRemoveChildren,f._sort=Ur(l.sortChildren),Qn&&Ro(l.parent||Qn,sl(f),c),l.reversed&&f.reverse(),l.paused&&f.paused(!0),l.scrollTrigger&&dA(sl(f),l.scrollTrigger),f}var r=s.prototype;return r.to=function(c,f,p){return af(0,arguments,this),this},r.from=function(c,f,p){return af(1,arguments,this),this},r.fromTo=function(c,f,p,x){return af(2,arguments,this),this},r.set=function(c,f,p){return f.duration=0,f.parent=this,rf(f).repeatDelay||(f.repeat=0),f.immediateRender=!!f.immediateRender,new Ns(c,f,Ia(this,p),1),this},r.call=function(c,f,p){return Ro(this,Ns.delayedCall(0,c,f),p)},r.staggerTo=function(c,f,p,x,w,P,C){return p.duration=f,p.stagger=p.stagger||x,p.onComplete=P,p.onCompleteParams=C,p.parent=this,new Ns(c,p,Ia(this,w)),this},r.staggerFrom=function(c,f,p,x,w,P,C){return p.runBackwards=1,rf(p).immediateRender=Ur(p.immediateRender),this.staggerTo(c,f,p,x,w,P,C)},r.staggerFromTo=function(c,f,p,x,w,P,C,F){return x.startAt=p,rf(x).immediateRender=Ur(x.immediateRender),this.staggerTo(c,f,x,w,P,C,F)},r.render=function(c,f,p){var x=this._time,w=this._dirty?this.totalDuration():this._tDur,P=this._dur,C=c<=0?0:qs(c),F=this._zTime<0!=c<0&&(this._initted||!P),L,B,U,Y,Q,N,X,W,he,K,le,G;if(this!==Qn&&C>w&&c>=0&&(C=w),C!==this._tTime||p||F){if(x!==this._time&&P&&(C+=this._time-x,c+=this._time-x),L=C,he=this._start,W=this._ts,N=!W,F&&(P||(x=this._zTime),(c||!f)&&(this._zTime=c)),this._repeat){if(le=this._yoyo,Q=P+this._rDelay,this._repeat<-1&&c<0)return this.totalTime(Q*100+c,f,p);if(L=qs(C%Q),C===w?(Y=this._repeat,L=P):(Y=~~(C/Q),Y&&Y===C/Q&&(L=P,Y--),L>P&&(L=P)),K=Wu(this._tTime,Q),!x&&this._tTime&&K!==Y&&this._tTime-K*Q-this._dur<=0&&(K=Y),le&&Y&1&&(L=P-L,G=1),Y!==K&&!this._lock){var oe=le&&K&1,fe=oe===(le&&Y&1);if(Y<K&&(oe=!oe),x=oe?0:P,this._lock=1,this.render(x||(G?0:qs(Y*Q)),f,!P)._lock=0,this._tTime=C,!f&&this.parent&&Ha(this,"onRepeat"),this.vars.repeatRefresh&&!G&&(this.invalidate()._lock=1),x&&x!==this._time||N!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(P=this._dur,w=this._tDur,fe&&(this._lock=2,x=oe?P:-1e-4,this.render(x,!0),this.vars.repeatRefresh&&!G&&this.invalidate()),this._lock=0,!this._ts&&!N)return this;PA(this,G)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(X=nO(this,qs(x),qs(L)),X&&(C-=L-(L=X._start))),this._tTime=C,this._time=L,this._act=!W,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=c,x=0),!x&&L&&!f&&!Y&&(Ha(this,"onStart"),this._tTime!==C))return this;if(L>=x&&c>=0)for(B=this._first;B;){if(U=B._next,(B._act||L>=B._start)&&B._ts&&X!==B){if(B.parent!==this)return this.render(c,f,p);if(B.render(B._ts>0?(L-B._start)*B._ts:(B._dirty?B.totalDuration():B._tDur)+(L-B._start)*B._ts,f,p),L!==this._time||!this._ts&&!N){X=0,U&&(C+=this._zTime=-Nn);break}}B=U}else{B=this._last;for(var pe=c<0?c:L;B;){if(U=B._prev,(B._act||pe<=B._end)&&B._ts&&X!==B){if(B.parent!==this)return this.render(c,f,p);if(B.render(B._ts>0?(pe-B._start)*B._ts:(B._dirty?B.totalDuration():B._tDur)+(pe-B._start)*B._ts,f,p||fr&&(B._initted||B._startAt)),L!==this._time||!this._ts&&!N){X=0,U&&(C+=this._zTime=pe?-Nn:Nn);break}}B=U}}if(X&&!f&&(this.pause(),X.render(L>=x?0:-Nn)._zTime=L>=x?1:-1,this._ts))return this._start=he,Nm(this),this.render(c,f,p);this._onUpdate&&!f&&Ha(this,"onUpdate",!0),(C===w&&this._tTime>=this.totalDuration()||!C&&x)&&(he===this._start||Math.abs(W)!==Math.abs(this._ts))&&(this._lock||((c||!P)&&(C===w&&this._ts>0||!C&&this._ts<0)&&gh(this,1),!f&&!(c<0&&!x)&&(C||x||!w)&&(Ha(this,C===w&&c>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(C<w&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(c,f){var p=this;if(pl(f)||(f=Ia(this,f,c)),!(c instanceof $u)){if(gr(c))return c.forEach(function(x){return p.add(x,f)}),this;if(Ys(c))return this.addLabel(c,f);if(ls(c))c=Ns.delayedCall(0,c);else return this}return this!==c?Ro(this,c,f):this},r.getChildren=function(c,f,p,x){c===void 0&&(c=!0),f===void 0&&(f=!0),p===void 0&&(p=!0),x===void 0&&(x=-za);for(var w=[],P=this._first;P;)P._start>=x&&(P instanceof Ns?f&&w.push(P):(p&&w.push(P),c&&w.push.apply(w,P.getChildren(!0,f,p)))),P=P._next;return w},r.getById=function(c){for(var f=this.getChildren(1,1,1),p=f.length;p--;)if(f[p].vars.id===c)return f[p]},r.remove=function(c){return Ys(c)?this.removeLabel(c):ls(c)?this.killTweensOf(c):(Fm(this,c),c===this._recent&&(this._recent=this._last),oc(this))},r.totalTime=function(c,f){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=qs(ca.time-(this._ts>0?c/this._ts:(this.totalDuration()-c)/-this._ts))),t.prototype.totalTime.call(this,c,f),this._forcing=0,this):this._tTime},r.addLabel=function(c,f){return this.labels[c]=Ia(this,f),this},r.removeLabel=function(c){return delete this.labels[c],this},r.addPause=function(c,f,p){var x=Ns.delayedCall(0,f||Mf,p);return x.data="isPause",this._hasPause=1,Ro(this,x,Ia(this,c))},r.removePause=function(c){var f=this._first;for(c=Ia(this,c);f;)f._start===c&&f.data==="isPause"&&gh(f),f=f._next},r.killTweensOf=function(c,f,p){for(var x=this.getTweensOf(c,p),w=x.length;w--;)Ql!==x[w]&&x[w].kill(c,f);return this},r.getTweensOf=function(c,f){for(var p=[],x=Xa(c),w=this._first,P=pl(f),C;w;)w instanceof Ns?qI(w._targets,x)&&(P?(!Ql||w._initted&&w._ts)&&w.globalTime(0)<=f&&w.globalTime(w.totalDuration())>f:!f||w.isActive())&&p.push(w):(C=w.getTweensOf(x,f)).length&&p.push.apply(p,C),w=w._next;return p},r.tweenTo=function(c,f){f=f||{};var p=this,x=Ia(p,c),w=f,P=w.startAt,C=w.onStart,F=w.onStartParams,L=w.immediateRender,B,U=Ns.to(p,ja({ease:f.ease||"none",lazy:!1,immediateRender:!1,time:x,overwrite:"auto",duration:f.duration||Math.abs((x-(P&&"time"in P?P.time:p._time))/p.timeScale())||Nn,onStart:function(){if(p.pause(),!B){var Q=f.duration||Math.abs((x-(P&&"time"in P?P.time:p._time))/p.timeScale());U._dur!==Q&&Gu(U,Q,0,1).render(U._time,!0,!0),B=1}C&&C.apply(U,F||[])}},f));return L?U.render(0):U},r.tweenFromTo=function(c,f,p){return this.tweenTo(f,ja({startAt:{time:Ia(this,c)}},p))},r.recent=function(){return this._recent},r.nextLabel=function(c){return c===void 0&&(c=this._time),$w(this,Ia(this,c))},r.previousLabel=function(c){return c===void 0&&(c=this._time),$w(this,Ia(this,c),1)},r.currentLabel=function(c){return arguments.length?this.seek(c,!0):this.previousLabel(this._time+Nn)},r.shiftChildren=function(c,f,p){p===void 0&&(p=0);for(var x=this._first,w=this.labels,P;x;)x._start>=p&&(x._start+=c,x._end+=c),x=x._next;if(f)for(P in w)w[P]>=p&&(w[P]+=c);return oc(this)},r.invalidate=function(c){var f=this._first;for(this._lock=0;f;)f.invalidate(c),f=f._next;return t.prototype.invalidate.call(this,c)},r.clear=function(c){c===void 0&&(c=!0);for(var f=this._first,p;f;)p=f._next,this.remove(f),f=p;return this._dp&&(this._time=this._tTime=this._pTime=0),c&&(this.labels={}),oc(this)},r.totalDuration=function(c){var f=0,p=this,x=p._last,w=za,P,C,F;if(arguments.length)return p.timeScale((p._repeat<0?p.duration():p.totalDuration())/(p.reversed()?-c:c));if(p._dirty){for(F=p.parent;x;)P=x._prev,x._dirty&&x.totalDuration(),C=x._start,C>w&&p._sort&&x._ts&&!p._lock?(p._lock=1,Ro(p,x,C-x._delay,1)._lock=0):w=C,C<0&&x._ts&&(f-=C,(!F&&!p._dp||F&&F.smoothChildTiming)&&(p._start+=C/p._ts,p._time-=C,p._tTime-=C),p.shiftChildren(-C,!1,-1/0),w=0),x._end>f&&x._ts&&(f=x._end),x=P;Gu(p,p===Qn&&p._time>f?p._time:f,1,1),p._dirty=0}return p._tDur},s.updateRoot=function(c){if(Qn._ts&&(oA(Qn,Rg(c,Qn)),rA=ca.frame),ca.frame>=Uw){Uw+=va.autoSleep||120;var f=Qn._first;if((!f||!f._ts)&&va.autoSleep&&ca._listeners.length<2){for(;f&&!f._ts;)f=f._next;f||ca.sleep()}}},s}($u);ja(Hr.prototype,{_lock:0,_hasPause:0,_forcing:0});var yO=function(s,r,l,c,f,p,x){var w=new Gr(this._pt,s,r,0,1,IA,null,f),P=0,C=0,F,L,B,U,Y,Q,N,X;for(w.b=l,w.e=c,l+="",c+="",(N=~c.indexOf("random("))&&(c=Ef(c)),p&&(X=[l,c],p(X,s,r),l=X[0],c=X[1]),L=l.match(Zp)||[];F=Zp.exec(c);)U=F[0],Y=c.substring(P,F.index),B?B=(B+1)%5:Y.substr(-5)==="rgba("&&(B=1),U!==L[C++]&&(Q=parseFloat(L[C-1])||0,w._pt={_next:w._pt,p:Y||C===1?Y:",",s:Q,c:U.charAt(1)==="="?Du(Q,U)-Q:parseFloat(U)-Q,m:B&&B<4?Math.round:0},P=Zp.lastIndex);return w.c=P<c.length?c.substring(P,c.length):"",w.fp=x,(eA.test(c)||N)&&(w.e=0),this._pt=w,w},$1=function(s,r,l,c,f,p,x,w,P,C){ls(c)&&(c=c(f||0,s,p));var F=s[r],L=l!=="get"?l:ls(F)?P?s[r.indexOf("set")||!ls(s["get"+r.substr(3)])?r:"get"+r.substr(3)](P):s[r]():F,B=ls(F)?P?CO:NA:q1,U;if(Ys(c)&&(~c.indexOf("random(")&&(c=Ef(c)),c.charAt(1)==="="&&(U=Du(L,c)+(hr(L)||0),(U||U===0)&&(c=U))),!C||L!==c||hx)return!isNaN(L*c)&&c!==""?(U=new Gr(this._pt,s,r,+L||0,c-(L||0),typeof F=="boolean"?TO:LA,0,B),P&&(U.fp=P),x&&U.modifier(x,this,s),this._pt=U):(!F&&!(r in s)&&U1(r,c),yO.call(this,s,r,L,c,B,w||va.stringFilter,P))},bO=function(s,r,l,c,f){if(ls(s)&&(s=of(s,f,r,l,c)),!Uo(s)||s.style&&s.nodeType||gr(s)||JC(s))return Ys(s)?of(s,f,r,l,c):s;var p={},x;for(x in s)p[x]=of(s[x],f,r,l,c);return p},EA=function(s,r,l,c,f,p){var x,w,P,C;if(ra[s]&&(x=new ra[s]).init(f,x.rawVars?r[s]:bO(r[s],c,f,p,l),l,c,p)!==!1&&(l._pt=w=new Gr(l._pt,f,s,0,1,x.render,x,0,x.priority),l!==xu))for(P=l._ptLookup[l._targets.indexOf(f)],C=x._props.length;C--;)P[x._props[C]]=w;return x},Ql,hx,K1=function t(s,r,l){var c=s.vars,f=c.ease,p=c.startAt,x=c.immediateRender,w=c.lazy,P=c.onUpdate,C=c.onUpdateParams,F=c.callbackScope,L=c.runBackwards,B=c.yoyoEase,U=c.keyframes,Y=c.autoRevert,Q=s._dur,N=s._startAt,X=s._targets,W=s.parent,he=W&&W.data==="nested"?W.vars.targets:X,K=s._overwrite==="auto"&&!z1,le=s.timeline,G,oe,fe,pe,Te,De,Me,He,je,tt,Ze,ft,Je;if(le&&(!U||!f)&&(f="none"),s._ease=lc(f,Uu.ease),s._yEase=B?TA(lc(B===!0?f:B,Uu.ease)):0,B&&s._yoyo&&!s._repeat&&(B=s._yEase,s._yEase=s._ease,s._ease=B),s._from=!le&&!!c.runBackwards,!le||U&&!c.stagger){if(He=X[0]?ac(X[0]).harness:0,ft=He&&c[He.prop],G=Og(c,W1),N&&(N._zTime<0&&N.progress(1),r<0&&L&&x&&!Y?N.render(-1,!0):N.revert(L&&Q?gg:$I),N._lazy=0),p){if(gh(s._startAt=Ns.set(X,ja({data:"isStart",overwrite:!1,parent:W,immediateRender:!0,lazy:!N&&Ur(w),startAt:null,delay:0,onUpdate:P,onUpdateParams:C,callbackScope:F,stagger:0},p))),s._startAt._dp=0,s._startAt._sat=s,r<0&&(fr||!x&&!Y)&&s._startAt.revert(gg),x&&Q&&r<=0&&l<=0){r&&(s._zTime=r);return}}else if(L&&Q&&!N){if(r&&(x=!1),fe=ja({overwrite:!1,data:"isFromStart",lazy:x&&!N&&Ur(w),immediateRender:x,stagger:0,parent:W},G),ft&&(fe[He.prop]=ft),gh(s._startAt=Ns.set(X,fe)),s._startAt._dp=0,s._startAt._sat=s,r<0&&(fr?s._startAt.revert(gg):s._startAt.render(-1,!0)),s._zTime=r,!x)t(s._startAt,Nn,Nn);else if(!r)return}for(s._pt=s._ptCache=0,w=Q&&Ur(w)||w&&!Q,oe=0;oe<X.length;oe++){if(Te=X[oe],Me=Te._gsap||j1(X)[oe]._gsap,s._ptLookup[oe]=tt={},nx[Me.id]&&ah.length&&Ig(),Ze=he===X?oe:he.indexOf(Te),He&&(je=new He).init(Te,ft||G,s,Ze,he)!==!1&&(s._pt=pe=new Gr(s._pt,Te,je.name,0,1,je.render,je,0,je.priority),je._props.forEach(function(dt){tt[dt]=pe}),je.priority&&(De=1)),!He||ft)for(fe in G)ra[fe]&&(je=EA(fe,G,s,Ze,Te,he))?je.priority&&(De=1):tt[fe]=pe=$1.call(s,Te,fe,"get",G[fe],Ze,he,0,c.stringFilter);s._op&&s._op[oe]&&s.kill(Te,s._op[oe]),K&&s._pt&&(Ql=s,Qn.killTweensOf(Te,tt,s.globalTime(r)),Je=!s.parent,Ql=0),s._pt&&w&&(nx[Me.id]=1)}De&&OA(s),s._onInit&&s._onInit(s)}s._onUpdate=P,s._initted=(!s._op||s._pt)&&!Je,U&&r<=0&&le.render(za,!0,!0)},wO=function(s,r,l,c,f,p,x){var w=(s._pt&&s._ptCache||(s._ptCache={}))[r],P,C,F,L;if(!w)for(w=s._ptCache[r]=[],F=s._ptLookup,L=s._targets.length;L--;){if(P=F[L][r],P&&P.d&&P.d._pt)for(P=P.d._pt;P&&P.p!==r&&P.fp!==r;)P=P._next;if(!P)return hx=1,s.vars[r]="+=0",K1(s,x),hx=0,1;w.push(P)}for(L=w.length;L--;)C=w[L],P=C._pt||C,P.s=(c||c===0)&&!f?c:P.s+(c||0)+p*P.c,P.c=l-P.s,C.e&&(C.e=xs(l)+hr(C.e)),C.b&&(C.b=P.s+hr(C.b))},kO=function(s,r){var l=s[0]?ac(s[0]).harness:0,c=l&&l.aliases,f,p,x,w;if(!c)return r;f=vc({},r);for(p in c)if(p in f)for(w=c[p].split(","),x=w.length;x--;)f[w[x]]=f[p];return f},SO=function(s,r,l,c){var f=r.ease||c||"power1.inOut",p,x;if(gr(r))x=l[s]||(l[s]=[]),r.forEach(function(w,P){return x.push({t:P/(r.length-1)*100,v:w,e:f})});else for(p in r)x=l[p]||(l[p]=[]),p==="ease"||x.push({t:parseFloat(s),v:r[p],e:f})},of=function(s,r,l,c,f){return ls(s)?s.call(r,l,c,f):Ys(s)&&~s.indexOf("random(")?Ef(s):s},_A=G1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",FA={};Wr(_A+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return FA[t]=1});var Ns=function(t){qC(s,t);function s(l,c,f,p){var x;typeof c=="number"&&(f.duration=c,c=f,f=null),x=t.call(this,p?c:rf(c))||this;var w=x.vars,P=w.duration,C=w.delay,F=w.immediateRender,L=w.stagger,B=w.overwrite,U=w.keyframes,Y=w.defaults,Q=w.scrollTrigger,N=w.yoyoEase,X=c.parent||Qn,W=(gr(l)||JC(l)?pl(l[0]):"length"in c)?[l]:Xa(l),he,K,le,G,oe,fe,pe,Te;if(x._targets=W.length?j1(W):Lg("GSAP target "+l+" not found. https://greensock.com",!va.nullTargetWarn)||[],x._ptLookup=[],x._overwrite=B,U||L||U0(P)||U0(C)){if(c=x.vars,he=x.timeline=new Hr({data:"nested",defaults:Y||{},targets:X&&X.data==="nested"?X.vars.targets:W}),he.kill(),he.parent=he._dp=sl(x),he._start=0,L||U0(P)||U0(C)){if(G=W.length,pe=L&&pA(L),Uo(L))for(oe in L)~_A.indexOf(oe)&&(Te||(Te={}),Te[oe]=L[oe]);for(K=0;K<G;K++)le=Og(c,FA),le.stagger=0,N&&(le.yoyoEase=N),Te&&vc(le,Te),fe=W[K],le.duration=+of(P,sl(x),K,fe,W),le.delay=(+of(C,sl(x),K,fe,W)||0)-x._delay,!L&&G===1&&le.delay&&(x._delay=C=le.delay,x._start+=C,le.delay=0),he.to(fe,le,pe?pe(K,fe,W):0),he._ease=tn.none;he.duration()?P=C=0:x.timeline=0}else if(U){rf(ja(he.vars.defaults,{ease:"none"})),he._ease=lc(U.ease||c.ease||"none");var De=0,Me,He,je;if(gr(U))U.forEach(function(tt){return he.to(W,tt,">")}),he.duration();else{le={};for(oe in U)oe==="ease"||oe==="easeEach"||SO(oe,U[oe],le,U.easeEach);for(oe in le)for(Me=le[oe].sort(function(tt,Ze){return tt.t-Ze.t}),De=0,K=0;K<Me.length;K++)He=Me[K],je={ease:He.e,duration:(He.t-(K?Me[K-1].t:0))/100*P},je[oe]=He.v,he.to(W,je,De),De+=je.duration;he.duration()<P&&he.to({},{duration:P-he.duration()})}}P||x.duration(P=he.duration())}else x.timeline=0;return B===!0&&!z1&&(Ql=sl(x),Qn.killTweensOf(W),Ql=0),Ro(X,sl(x),f),c.reversed&&x.reverse(),c.paused&&x.paused(!0),(F||!P&&!U&&x._start===qs(X._time)&&Ur(F)&&eO(sl(x))&&X.data!=="nested")&&(x._tTime=-Nn,x.render(Math.max(0,-C)||0)),Q&&dA(sl(x),Q),x}var r=s.prototype;return r.render=function(c,f,p){var x=this._time,w=this._tDur,P=this._dur,C=c<0,F=c>w-Nn&&!C?w:c<Nn?0:c,L,B,U,Y,Q,N,X,W,he;if(!P)iO(this,c,f,p);else if(F!==this._tTime||!c||p||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==C){if(L=F,W=this.timeline,this._repeat){if(Y=P+this._rDelay,this._repeat<-1&&C)return this.totalTime(Y*100+c,f,p);if(L=qs(F%Y),F===w?(U=this._repeat,L=P):(U=~~(F/Y),U&&U===F/Y&&(L=P,U--),L>P&&(L=P)),N=this._yoyo&&U&1,N&&(he=this._yEase,L=P-L),Q=Wu(this._tTime,Y),L===x&&!p&&this._initted)return this._tTime=F,this;U!==Q&&(W&&this._yEase&&PA(W,N),this.vars.repeatRefresh&&!N&&!this._lock&&(this._lock=p=1,this.render(qs(Y*U),!0).invalidate()._lock=0))}if(!this._initted){if(fA(this,C?c:L,p,f,F))return this._tTime=0,this;if(x!==this._time)return this;if(P!==this._dur)return this.render(c,f,p)}if(this._tTime=F,this._time=L,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=X=(he||this._ease)(L/P),this._from&&(this.ratio=X=1-X),L&&!x&&!f&&!U&&(Ha(this,"onStart"),this._tTime!==F))return this;for(B=this._pt;B;)B.r(X,B.d),B=B._next;W&&W.render(c<0?c:!L&&N?-Nn:W._dur*W._ease(L/this._dur),f,p)||this._startAt&&(this._zTime=c),this._onUpdate&&!f&&(C&&sx(this,c,f,p),Ha(this,"onUpdate")),this._repeat&&U!==Q&&this.vars.onRepeat&&!f&&this.parent&&Ha(this,"onRepeat"),(F===this._tDur||!F)&&this._tTime===F&&(C&&!this._onUpdate&&sx(this,c,!0,!0),(c||!P)&&(F===this._tDur&&this._ts>0||!F&&this._ts<0)&&gh(this,1),!f&&!(C&&!x)&&(F||x||N)&&(Ha(this,F===w?"onComplete":"onReverseComplete",!0),this._prom&&!(F<w&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(c){return(!c||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(c),t.prototype.invalidate.call(this,c)},r.resetTo=function(c,f,p,x){_f||ca.wake(),this._ts||this.play();var w=Math.min(this._dur,(this._dp._time-this._start)*this._ts),P;return this._initted||K1(this,w),P=this._ease(w/this._dur),wO(this,c,f,p,x,P,w)?this.resetTo(c,f,p,x):(Lm(this,0),this.parent||cA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(c,f){if(f===void 0&&(f="all"),!c&&(!f||f==="all"))return this._lazy=this._pt=0,this.parent?Hd(this):this;if(this.timeline){var p=this.timeline.totalDuration();return this.timeline.killTweensOf(c,f,Ql&&Ql.vars.overwrite!==!0)._first||Hd(this),this.parent&&p!==this.timeline.totalDuration()&&Gu(this,this._dur*this.timeline._tDur/p,0,1),this}var x=this._targets,w=c?Xa(c):x,P=this._ptLookup,C=this._pt,F,L,B,U,Y,Q,N;if((!f||f==="all")&&JI(x,w))return f==="all"&&(this._pt=0),Hd(this);for(F=this._op=this._op||[],f!=="all"&&(Ys(f)&&(Y={},Wr(f,function(X){return Y[X]=1}),f=Y),f=kO(x,f)),N=x.length;N--;)if(~w.indexOf(x[N])){L=P[N],f==="all"?(F[N]=f,U=L,B={}):(B=F[N]=F[N]||{},U=f);for(Y in U)Q=L&&L[Y],Q&&((!("kill"in Q.d)||Q.d.kill(Y)===!0)&&Fm(this,Q,"_pt"),delete L[Y]),B!=="all"&&(B[Y]=1)}return this._initted&&!this._pt&&C&&Hd(this),this},s.to=function(c,f){return new s(c,f,arguments[2])},s.from=function(c,f){return af(1,arguments)},s.delayedCall=function(c,f,p,x){return new s(f,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:c,onComplete:f,onReverseComplete:f,onCompleteParams:p,onReverseCompleteParams:p,callbackScope:x})},s.fromTo=function(c,f,p){return af(2,arguments)},s.set=function(c,f){return f.duration=0,f.repeatDelay||(f.repeat=0),new s(c,f)},s.killTweensOf=function(c,f,p){return Qn.killTweensOf(c,f,p)},s}($u);ja(Ns.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wr("staggerTo,staggerFrom,staggerFromTo",function(t){Ns[t]=function(){var s=new Hr,r=ax.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),s[t].apply(s,r)}});var q1=function(s,r,l){return s[r]=l},NA=function(s,r,l){return s[r](l)},CO=function(s,r,l,c){return s[r](c.fp,l)},AO=function(s,r,l){return s.setAttribute(r,l)},Z1=function(s,r){return ls(s[r])?NA:X1(s[r])&&s.setAttribute?AO:q1},LA=function(s,r){return r.set(r.t,r.p,Math.round((r.s+r.c*s)*1e6)/1e6,r)},TO=function(s,r){return r.set(r.t,r.p,!!(r.s+r.c*s),r)},IA=function(s,r){var l=r._pt,c="";if(!s&&r.b)c=r.b;else if(s===1&&r.e)c=r.e;else{for(;l;)c=l.p+(l.m?l.m(l.s+l.c*s):Math.round((l.s+l.c*s)*1e4)/1e4)+c,l=l._next;c+=r.c}r.set(r.t,r.p,c,r)},J1=function(s,r){for(var l=r._pt;l;)l.r(s,l.d),l=l._next},PO=function(s,r,l,c){for(var f=this._pt,p;f;)p=f._next,f.p===c&&f.modifier(s,r,l),f=p},DO=function(s){for(var r=this._pt,l,c;r;)c=r._next,r.p===s&&!r.op||r.op===s?Fm(this,r,"_pt"):r.dep||(l=1),r=c;return!l},MO=function(s,r,l,c){c.mSet(s,r,c.m.call(c.tween,l,c.mt),c)},OA=function(s){for(var r=s._pt,l,c,f,p;r;){for(l=r._next,c=f;c&&c.pr>r.pr;)c=c._next;(r._prev=c?c._prev:p)?r._prev._next=r:f=r,(r._next=c)?c._prev=r:p=r,r=l}s._pt=f},Gr=function(){function t(r,l,c,f,p,x,w,P,C){this.t=l,this.s=f,this.c=p,this.p=c,this.r=x||LA,this.d=w||this,this.set=P||q1,this.pr=C||0,this._next=r,r&&(r._prev=this)}var s=t.prototype;return s.modifier=function(l,c,f){this.mSet=this.mSet||this.set,this.set=MO,this.m=l,this.mt=f,this.tween=c},t}();Wr(G1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return W1[t]=1});xa.TweenMax=xa.TweenLite=Ns;xa.TimelineLite=xa.TimelineMax=Hr;Qn=new Hr({sortChildren:!1,defaults:Uu,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});va.stringFilter=AA;var Ku=[],pg={},EO=[],qw=0,iv=function(s){return(pg[s]||EO).map(function(r){return r()})},cx=function(){var s=Date.now(),r=[];s-qw>2&&(iv("matchMediaInit"),Ku.forEach(function(l){var c=l.queries,f=l.conditions,p,x,w,P;for(x in c)p=Oa.matchMedia(c[x]).matches,p&&(w=1),p!==f[x]&&(f[x]=p,P=1);P&&(l.revert(),w&&r.push(l))}),iv("matchMediaRevert"),r.forEach(function(l){return l.onMatch(l)}),qw=s,iv("matchMedia"))},RA=function(){function t(r,l){this.selector=l&&ox(l),this.data=[],this._r=[],this.isReverted=!1,r&&this.add(r)}var s=t.prototype;return s.add=function(l,c,f){ls(l)&&(f=c,c=l,l=ls);var p=this,x=function(){var P=Ms,C=p.selector,F;return P&&P!==p&&P.data.push(p),f&&(p.selector=ox(f)),Ms=p,F=c.apply(p,arguments),ls(F)&&p._r.push(F),Ms=P,p.selector=C,p.isReverted=!1,F};return p.last=x,l===ls?x(p):l?p[l]=x:x},s.ignore=function(l){var c=Ms;Ms=null,l(this),Ms=c},s.getTweens=function(){var l=[];return this.data.forEach(function(c){return c instanceof t?l.push.apply(l,c.getTweens()):c instanceof Ns&&!(c.parent&&c.parent.data==="nested")&&l.push(c)}),l},s.clear=function(){this._r.length=this.data.length=0},s.kill=function(l,c){var f=this;if(l){var p=this.getTweens();this.data.forEach(function(w){w.data==="isFlip"&&(w.revert(),w.getChildren(!0,!0,!1).forEach(function(P){return p.splice(p.indexOf(P),1)}))}),p.map(function(w){return{g:w.globalTime(0),t:w}}).sort(function(w,P){return P.g-w.g||-1}).forEach(function(w){return w.t.revert(l)}),this.data.forEach(function(w){return!(w instanceof $u)&&w.revert&&w.revert(l)}),this._r.forEach(function(w){return w(l,f)}),this.isReverted=!0}else this.data.forEach(function(w){return w.kill&&w.kill()});if(this.clear(),c){var x=Ku.indexOf(this);~x&&Ku.splice(x,1)}},s.revert=function(l){this.kill(l||{})},t}(),_O=function(){function t(r){this.contexts=[],this.scope=r}var s=t.prototype;return s.add=function(l,c,f){Uo(l)||(l={matches:l});var p=new RA(0,f||this.scope),x=p.conditions={},w,P,C;this.contexts.push(p),c=p.add("onMatch",c),p.queries=l;for(P in l)P==="all"?C=1:(w=Oa.matchMedia(l[P]),w&&(Ku.indexOf(p)<0&&Ku.push(p),(x[P]=w.matches)&&(C=1),w.addListener?w.addListener(cx):w.addEventListener("change",cx)));return C&&c(p),this},s.revert=function(l){this.kill(l||{})},s.kill=function(l){this.contexts.forEach(function(c){return c.kill(l,!0)})},t}(),Bg={registerPlugin:function(){for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];r.forEach(function(c){return kA(c)})},timeline:function(s){return new Hr(s)},getTweensOf:function(s,r){return Qn.getTweensOf(s,r)},getProperty:function(s,r,l,c){Ys(s)&&(s=Xa(s)[0]);var f=ac(s||{}).get,p=l?hA:lA;return l==="native"&&(l=""),s&&(r?p((ra[r]&&ra[r].get||f)(s,r,l,c)):function(x,w,P){return p((ra[x]&&ra[x].get||f)(s,x,w,P))})},quickSetter:function(s,r,l){if(s=Xa(s),s.length>1){var c=s.map(function(C){return qr.quickSetter(C,r,l)}),f=c.length;return function(C){for(var F=f;F--;)c[F](C)}}s=s[0]||{};var p=ra[r],x=ac(s),w=x.harness&&(x.harness.aliases||{})[r]||r,P=p?function(C){var F=new p;xu._pt=0,F.init(s,l?C+l:C,xu,0,[s]),F.render(1,F),xu._pt&&J1(1,xu)}:x.set(s,w);return p?P:function(C){return P(s,w,l?C+l:C,x,1)}},quickTo:function(s,r,l){var c,f=qr.to(s,vc((c={},c[r]="+=0.1",c.paused=!0,c),l||{})),p=function(w,P,C){return f.resetTo(r,w,P,C)};return p.tween=f,p},isTweening:function(s){return Qn.getTweensOf(s,!0).length>0},defaults:function(s){return s&&s.ease&&(s.ease=lc(s.ease,Uu.ease)),Ww(Uu,s||{})},config:function(s){return Ww(va,s||{})},registerEffect:function(s){var r=s.name,l=s.effect,c=s.plugins,f=s.defaults,p=s.extendTimeline;(c||"").split(",").forEach(function(x){return x&&!ra[x]&&!xa[x]&&Lg(r+" effect requires "+x+" plugin.")}),Jp[r]=function(x,w,P){return l(Xa(x),ja(w||{},f),P)},p&&(Hr.prototype[r]=function(x,w,P){return this.add(Jp[r](x,Uo(w)?w:(P=w)&&{},this),P)})},registerEase:function(s,r){tn[s]=lc(r)},parseEase:function(s,r){return arguments.length?lc(s,r):tn},getById:function(s){return Qn.getById(s)},exportRoot:function(s,r){s===void 0&&(s={});var l=new Hr(s),c,f;for(l.smoothChildTiming=Ur(s.smoothChildTiming),Qn.remove(l),l._dp=0,l._time=l._tTime=Qn._time,c=Qn._first;c;)f=c._next,(r||!(!c._dur&&c instanceof Ns&&c.vars.onComplete===c._targets[0]))&&Ro(l,c,c._start-c._delay),c=f;return Ro(Qn,l,0),l},context:function(s,r){return s?new RA(s,r):Ms},matchMedia:function(s){return new _O(s)},matchMediaRefresh:function(){return Ku.forEach(function(s){var r=s.conditions,l,c;for(c in r)r[c]&&(r[c]=!1,l=1);l&&s.revert()})||cx()},addEventListener:function(s,r){var l=pg[s]||(pg[s]=[]);~l.indexOf(r)||l.push(r)},removeEventListener:function(s,r){var l=pg[s],c=l&&l.indexOf(r);c>=0&&l.splice(c,1)},utils:{wrap:cO,wrapYoyo:uO,distribute:pA,random:xA,snap:vA,normalize:hO,getUnit:hr,clamp:rO,splitColor:SA,toArray:Xa,selector:ox,mapRange:bA,pipe:oO,unitize:lO,interpolate:dO,shuffle:mA},install:nA,effects:Jp,ticker:ca,updateRoot:Hr.updateRoot,plugins:ra,globalTimeline:Qn,core:{PropTween:Gr,globals:sA,Tween:Ns,Timeline:Hr,Animation:$u,getCache:ac,_removeLinkedListItem:Fm,reverting:function(){return fr},context:function(s){return s&&Ms&&(Ms.data.push(s),s._ctx=Ms),Ms},suppressOverwrites:function(s){return z1=s}}};Wr("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Bg[t]=Ns[t]});ca.add(Hr.updateRoot);xu=Bg.to({},{duration:0});var FO=function(s,r){for(var l=s._pt;l&&l.p!==r&&l.op!==r&&l.fp!==r;)l=l._next;return l},NO=function(s,r){var l=s._targets,c,f,p;for(c in r)for(f=l.length;f--;)p=s._ptLookup[f][c],p&&(p=p.d)&&(p._pt&&(p=FO(p,c)),p&&p.modifier&&p.modifier(r[c],s,l[f],c))},nv=function(s,r){return{name:s,rawVars:1,init:function(c,f,p){p._onInit=function(x){var w,P;if(Ys(f)&&(w={},Wr(f,function(C){return w[C]=1}),f=w),r){w={};for(P in f)w[P]=r(f[P]);f=w}NO(x,f)}}}},qr=Bg.registerPlugin({name:"attr",init:function(s,r,l,c,f){var p,x,w;this.tween=l;for(p in r)w=s.getAttribute(p)||"",x=this.add(s,"setAttribute",(w||0)+"",r[p],c,f,0,0,p),x.op=p,x.b=w,this._props.push(p)},render:function(s,r){for(var l=r._pt;l;)fr?l.set(l.t,l.p,l.b,l):l.r(s,l.d),l=l._next}},{name:"endArray",init:function(s,r){for(var l=r.length;l--;)this.add(s,l,s[l]||0,r[l],0,0,0,0,0,1)}},nv("roundProps",lx),nv("modifiers"),nv("snap",vA))||Bg;Ns.version=Hr.version=qr.version="3.11.5";iA=1;H1()&&ju();tn.Power0;tn.Power1;tn.Power2;tn.Power3;tn.Power4;tn.Linear;tn.Quad;tn.Cubic;tn.Quart;tn.Quint;tn.Strong;tn.Elastic;tn.Back;tn.SteppedEase;tn.Bounce;tn.Sine;tn.Expo;tn.Circ;/*!
 * CSSPlugin 3.11.5
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Zw,eh,Mu,Q1,Kh,Jw,ey,LO=function(){return typeof window<"u"},vl={},Uh=180/Math.PI,Eu=Math.PI/180,au=Math.atan2,Qw=1e8,ty=/([A-Z])/g,IO=/(left|right|width|margin|padding|x)/i,OO=/[\s,\(]\S/,Bo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ux=function(s,r){return r.set(r.t,r.p,Math.round((r.s+r.c*s)*1e4)/1e4+r.u,r)},RO=function(s,r){return r.set(r.t,r.p,s===1?r.e:Math.round((r.s+r.c*s)*1e4)/1e4+r.u,r)},BO=function(s,r){return r.set(r.t,r.p,s?Math.round((r.s+r.c*s)*1e4)/1e4+r.u:r.b,r)},VO=function(s,r){var l=r.s+r.c*s;r.set(r.t,r.p,~~(l+(l<0?-.5:.5))+r.u,r)},BA=function(s,r){return r.set(r.t,r.p,s?r.e:r.b,r)},VA=function(s,r){return r.set(r.t,r.p,s!==1?r.b:r.e,r)},zO=function(s,r,l){return s.style[r]=l},XO=function(s,r,l){return s.style.setProperty(r,l)},HO=function(s,r,l){return s._gsap[r]=l},YO=function(s,r,l){return s._gsap.scaleX=s._gsap.scaleY=l},UO=function(s,r,l,c,f){var p=s._gsap;p.scaleX=p.scaleY=l,p.renderTransform(f,p)},WO=function(s,r,l,c,f){var p=s._gsap;p[r]=l,p.renderTransform(f,p)},es="transform",po=es+"Origin",GO=function t(s,r){var l=this,c=this.target,f=c.style;if(s in vl){if(this.tfm=this.tfm||{},s!=="transform")s=Bo[s]||s,~s.indexOf(",")?s.split(",").forEach(function(p){return l.tfm[p]=rl(c,p)}):this.tfm[s]=c._gsap.x?c._gsap[s]:rl(c,s);else return Bo.transform.split(",").forEach(function(p){return t.call(l,p,r)});if(this.props.indexOf(es)>=0)return;c._gsap.svg&&(this.svgo=c.getAttribute("data-svg-origin"),this.props.push(po,r,"")),s=es}(f||r)&&this.props.push(s,r,f[s])},zA=function(s){s.translate&&(s.removeProperty("translate"),s.removeProperty("scale"),s.removeProperty("rotate"))},jO=function(){var s=this.props,r=this.target,l=r.style,c=r._gsap,f,p;for(f=0;f<s.length;f+=3)s[f+1]?r[s[f]]=s[f+2]:s[f+2]?l[s[f]]=s[f+2]:l.removeProperty(s[f].substr(0,2)==="--"?s[f]:s[f].replace(ty,"-$1").toLowerCase());if(this.tfm){for(p in this.tfm)c[p]=this.tfm[p];c.svg&&(c.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),f=ey(),(!f||!f.isStart)&&!l[es]&&(zA(l),c.uncache=1)}},XA=function(s,r){var l={target:s,props:[],revert:jO,save:GO};return s._gsap||qr.core.getCache(s),r&&r.split(",").forEach(function(c){return l.save(c)}),l},HA,dx=function(s,r){var l=eh.createElementNS?eh.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),s):eh.createElement(s);return l.style?l:eh.createElement(s)},Xo=function t(s,r,l){var c=getComputedStyle(s);return c[r]||c.getPropertyValue(r.replace(ty,"-$1").toLowerCase())||c.getPropertyValue(r)||!l&&t(s,qu(r)||r,1)||""},ek="O,Moz,ms,Ms,Webkit".split(","),qu=function(s,r,l){var c=r||Kh,f=c.style,p=5;if(s in f&&!l)return s;for(s=s.charAt(0).toUpperCase()+s.substr(1);p--&&!(ek[p]+s in f););return p<0?null:(p===3?"ms":p>=0?ek[p]:"")+s},fx=function(){LO()&&window.document&&(Zw=window,eh=Zw.document,Mu=eh.documentElement,Kh=dx("div")||{style:{}},dx("div"),es=qu(es),po=es+"Origin",Kh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",HA=!!qu("perspective"),ey=qr.core.reverting,Q1=1)},sv=function t(s){var r=dx("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),l=this.parentNode,c=this.nextSibling,f=this.style.cssText,p;if(Mu.appendChild(r),r.appendChild(this),this.style.display="block",s)try{p=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(p=this._gsapBBox());return l&&(c?l.insertBefore(this,c):l.appendChild(this)),Mu.removeChild(r),this.style.cssText=f,p},tk=function(s,r){for(var l=r.length;l--;)if(s.hasAttribute(r[l]))return s.getAttribute(r[l])},YA=function(s){var r;try{r=s.getBBox()}catch{r=sv.call(s,!0)}return r&&(r.width||r.height)||s.getBBox===sv||(r=sv.call(s,!0)),r&&!r.width&&!r.x&&!r.y?{x:+tk(s,["x","cx","x1"])||0,y:+tk(s,["y","cy","y1"])||0,width:0,height:0}:r},UA=function(s){return!!(s.getCTM&&(!s.parentNode||s.ownerSVGElement)&&YA(s))},Ff=function(s,r){if(r){var l=s.style;r in vl&&r!==po&&(r=es),l.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),l.removeProperty(r.replace(ty,"-$1").toLowerCase())):l.removeAttribute(r)}},th=function(s,r,l,c,f,p){var x=new Gr(s._pt,r,l,0,1,p?VA:BA);return s._pt=x,x.b=c,x.e=f,s._props.push(l),x},ik={deg:1,rad:1,turn:1},$O={grid:1,flex:1},mh=function t(s,r,l,c){var f=parseFloat(l)||0,p=(l+"").trim().substr((f+"").length)||"px",x=Kh.style,w=IO.test(r),P=s.tagName.toLowerCase()==="svg",C=(P?"client":"offset")+(w?"Width":"Height"),F=100,L=c==="px",B=c==="%",U,Y,Q,N;return c===p||!f||ik[c]||ik[p]?f:(p!=="px"&&!L&&(f=t(s,r,l,"px")),N=s.getCTM&&UA(s),(B||p==="%")&&(vl[r]||~r.indexOf("adius"))?(U=N?s.getBBox()[w?"width":"height"]:s[C],xs(B?f/U*F:f/100*U)):(x[w?"width":"height"]=F+(L?p:c),Y=~r.indexOf("adius")||c==="em"&&s.appendChild&&!P?s:s.parentNode,N&&(Y=(s.ownerSVGElement||{}).parentNode),(!Y||Y===eh||!Y.appendChild)&&(Y=eh.body),Q=Y._gsap,Q&&B&&Q.width&&w&&Q.time===ca.time&&!Q.uncache?xs(f/Q.width*F):((B||p==="%")&&!$O[Xo(Y,"display")]&&(x.position=Xo(s,"position")),Y===s&&(x.position="static"),Y.appendChild(Kh),U=Kh[C],Y.removeChild(Kh),x.position="absolute",w&&B&&(Q=ac(Y),Q.time=ca.time,Q.width=Y[C]),xs(L?U*f/F:U&&f?F/U*f:0))))},rl=function(s,r,l,c){var f;return Q1||fx(),r in Bo&&r!=="transform"&&(r=Bo[r],~r.indexOf(",")&&(r=r.split(",")[0])),vl[r]&&r!=="transform"?(f=Lf(s,c),f=r!=="transformOrigin"?f[r]:f.svg?f.origin:zg(Xo(s,po))+" "+f.zOrigin+"px"):(f=s.style[r],(!f||f==="auto"||c||~(f+"").indexOf("calc("))&&(f=Vg[r]&&Vg[r](s,r,l)||Xo(s,r)||aA(s,r)||(r==="opacity"?1:0))),l&&!~(f+"").trim().indexOf(" ")?mh(s,r,f,l)+l:f},KO=function(s,r,l,c){if(!l||l==="none"){var f=qu(r,s,1),p=f&&Xo(s,f,1);p&&p!==l?(r=f,l=p):r==="borderColor"&&(l=Xo(s,"borderTopColor"))}var x=new Gr(this._pt,s.style,r,0,1,IA),w=0,P=0,C,F,L,B,U,Y,Q,N,X,W,he,K;if(x.b=l,x.e=c,l+="",c+="",c==="auto"&&(s.style[r]=c,c=Xo(s,r)||c,s.style[r]=l),C=[l,c],AA(C),l=C[0],c=C[1],L=l.match(vu)||[],K=c.match(vu)||[],K.length){for(;F=vu.exec(c);)Q=F[0],X=c.substring(w,F.index),U?U=(U+1)%5:(X.substr(-5)==="rgba("||X.substr(-5)==="hsla(")&&(U=1),Q!==(Y=L[P++]||"")&&(B=parseFloat(Y)||0,he=Y.substr((B+"").length),Q.charAt(1)==="="&&(Q=Du(B,Q)+he),N=parseFloat(Q),W=Q.substr((N+"").length),w=vu.lastIndex-W.length,W||(W=W||va.units[r]||he,w===c.length&&(c+=W,x.e+=W)),he!==W&&(B=mh(s,r,Y,W)||0),x._pt={_next:x._pt,p:X||P===1?X:",",s:B,c:N-B,m:U&&U<4||r==="zIndex"?Math.round:0});x.c=w<c.length?c.substring(w,c.length):""}else x.r=r==="display"&&c==="none"?VA:BA;return eA.test(c)&&(x.e=0),this._pt=x,x},nk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qO=function(s){var r=s.split(" "),l=r[0],c=r[1]||"50%";return(l==="top"||l==="bottom"||c==="left"||c==="right")&&(s=l,l=c,c=s),r[0]=nk[l]||l,r[1]=nk[c]||c,r.join(" ")},ZO=function(s,r){if(r.tween&&r.tween._time===r.tween._dur){var l=r.t,c=l.style,f=r.u,p=l._gsap,x,w,P;if(f==="all"||f===!0)c.cssText="",w=1;else for(f=f.split(","),P=f.length;--P>-1;)x=f[P],vl[x]&&(w=1,x=x==="transformOrigin"?po:es),Ff(l,x);w&&(Ff(l,es),p&&(p.svg&&l.removeAttribute("transform"),Lf(l,1),p.uncache=1,zA(c)))}},Vg={clearProps:function(s,r,l,c,f){if(f.data!=="isFromStart"){var p=s._pt=new Gr(s._pt,r,l,0,0,ZO);return p.u=c,p.pr=-10,p.tween=f,s._props.push(l),1}}},Nf=[1,0,0,1,0,0],WA={},GA=function(s){return s==="matrix(1, 0, 0, 1, 0, 0)"||s==="none"||!s},sk=function(s){var r=Xo(s,es);return GA(r)?Nf:r.substr(7).match(QC).map(xs)},iy=function(s,r){var l=s._gsap||ac(s),c=s.style,f=sk(s),p,x,w,P;return l.svg&&s.getAttribute("transform")?(w=s.transform.baseVal.consolidate().matrix,f=[w.a,w.b,w.c,w.d,w.e,w.f],f.join(",")==="1,0,0,1,0,0"?Nf:f):(f===Nf&&!s.offsetParent&&s!==Mu&&!l.svg&&(w=c.display,c.display="block",p=s.parentNode,(!p||!s.offsetParent)&&(P=1,x=s.nextElementSibling,Mu.appendChild(s)),f=sk(s),w?c.display=w:Ff(s,"display"),P&&(x?p.insertBefore(s,x):p?p.appendChild(s):Mu.removeChild(s))),r&&f.length>6?[f[0],f[1],f[4],f[5],f[12],f[13]]:f)},gx=function(s,r,l,c,f,p){var x=s._gsap,w=f||iy(s,!0),P=x.xOrigin||0,C=x.yOrigin||0,F=x.xOffset||0,L=x.yOffset||0,B=w[0],U=w[1],Y=w[2],Q=w[3],N=w[4],X=w[5],W=r.split(" "),he=parseFloat(W[0])||0,K=parseFloat(W[1])||0,le,G,oe,fe;l?w!==Nf&&(G=B*Q-U*Y)&&(oe=he*(Q/G)+K*(-Y/G)+(Y*X-Q*N)/G,fe=he*(-U/G)+K*(B/G)-(B*X-U*N)/G,he=oe,K=fe):(le=YA(s),he=le.x+(~W[0].indexOf("%")?he/100*le.width:he),K=le.y+(~(W[1]||W[0]).indexOf("%")?K/100*le.height:K)),c||c!==!1&&x.smooth?(N=he-P,X=K-C,x.xOffset=F+(N*B+X*Y)-N,x.yOffset=L+(N*U+X*Q)-X):x.xOffset=x.yOffset=0,x.xOrigin=he,x.yOrigin=K,x.smooth=!!c,x.origin=r,x.originIsAbsolute=!!l,s.style[po]="0px 0px",p&&(th(p,x,"xOrigin",P,he),th(p,x,"yOrigin",C,K),th(p,x,"xOffset",F,x.xOffset),th(p,x,"yOffset",L,x.yOffset)),s.setAttribute("data-svg-origin",he+" "+K)},Lf=function(s,r){var l=s._gsap||new MA(s);if("x"in l&&!r&&!l.uncache)return l;var c=s.style,f=l.scaleX<0,p="px",x="deg",w=getComputedStyle(s),P=Xo(s,po)||"0",C,F,L,B,U,Y,Q,N,X,W,he,K,le,G,oe,fe,pe,Te,De,Me,He,je,tt,Ze,ft,Je,dt,at,Ie,qe,Ue,Ae;return C=F=L=Y=Q=N=X=W=he=0,B=U=1,l.svg=!!(s.getCTM&&UA(s)),w.translate&&((w.translate!=="none"||w.scale!=="none"||w.rotate!=="none")&&(c[es]=(w.translate!=="none"?"translate3d("+(w.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(w.rotate!=="none"?"rotate("+w.rotate+") ":"")+(w.scale!=="none"?"scale("+w.scale.split(" ").join(",")+") ":"")+(w[es]!=="none"?w[es]:"")),c.scale=c.rotate=c.translate="none"),G=iy(s,l.svg),l.svg&&(l.uncache?(ft=s.getBBox(),P=l.xOrigin-ft.x+"px "+(l.yOrigin-ft.y)+"px",Ze=""):Ze=!r&&s.getAttribute("data-svg-origin"),gx(s,Ze||P,!!Ze||l.originIsAbsolute,l.smooth!==!1,G)),K=l.xOrigin||0,le=l.yOrigin||0,G!==Nf&&(Te=G[0],De=G[1],Me=G[2],He=G[3],C=je=G[4],F=tt=G[5],G.length===6?(B=Math.sqrt(Te*Te+De*De),U=Math.sqrt(He*He+Me*Me),Y=Te||De?au(De,Te)*Uh:0,X=Me||He?au(Me,He)*Uh+Y:0,X&&(U*=Math.abs(Math.cos(X*Eu))),l.svg&&(C-=K-(K*Te+le*Me),F-=le-(K*De+le*He))):(Ae=G[6],qe=G[7],dt=G[8],at=G[9],Ie=G[10],Ue=G[11],C=G[12],F=G[13],L=G[14],oe=au(Ae,Ie),Q=oe*Uh,oe&&(fe=Math.cos(-oe),pe=Math.sin(-oe),Ze=je*fe+dt*pe,ft=tt*fe+at*pe,Je=Ae*fe+Ie*pe,dt=je*-pe+dt*fe,at=tt*-pe+at*fe,Ie=Ae*-pe+Ie*fe,Ue=qe*-pe+Ue*fe,je=Ze,tt=ft,Ae=Je),oe=au(-Me,Ie),N=oe*Uh,oe&&(fe=Math.cos(-oe),pe=Math.sin(-oe),Ze=Te*fe-dt*pe,ft=De*fe-at*pe,Je=Me*fe-Ie*pe,Ue=He*pe+Ue*fe,Te=Ze,De=ft,Me=Je),oe=au(De,Te),Y=oe*Uh,oe&&(fe=Math.cos(oe),pe=Math.sin(oe),Ze=Te*fe+De*pe,ft=je*fe+tt*pe,De=De*fe-Te*pe,tt=tt*fe-je*pe,Te=Ze,je=ft),Q&&Math.abs(Q)+Math.abs(Y)>359.9&&(Q=Y=0,N=180-N),B=xs(Math.sqrt(Te*Te+De*De+Me*Me)),U=xs(Math.sqrt(tt*tt+Ae*Ae)),oe=au(je,tt),X=Math.abs(oe)>2e-4?oe*Uh:0,he=Ue?1/(Ue<0?-Ue:Ue):0),l.svg&&(Ze=s.getAttribute("transform"),l.forceCSS=s.setAttribute("transform","")||!GA(Xo(s,es)),Ze&&s.setAttribute("transform",Ze))),Math.abs(X)>90&&Math.abs(X)<270&&(f?(B*=-1,X+=Y<=0?180:-180,Y+=Y<=0?180:-180):(U*=-1,X+=X<=0?180:-180)),r=r||l.uncache,l.x=C-((l.xPercent=C&&(!r&&l.xPercent||(Math.round(s.offsetWidth/2)===Math.round(-C)?-50:0)))?s.offsetWidth*l.xPercent/100:0)+p,l.y=F-((l.yPercent=F&&(!r&&l.yPercent||(Math.round(s.offsetHeight/2)===Math.round(-F)?-50:0)))?s.offsetHeight*l.yPercent/100:0)+p,l.z=L+p,l.scaleX=xs(B),l.scaleY=xs(U),l.rotation=xs(Y)+x,l.rotationX=xs(Q)+x,l.rotationY=xs(N)+x,l.skewX=X+x,l.skewY=W+x,l.transformPerspective=he+p,(l.zOrigin=parseFloat(P.split(" ")[2])||0)&&(c[po]=zg(P)),l.xOffset=l.yOffset=0,l.force3D=va.force3D,l.renderTransform=l.svg?QO:HA?jA:JO,l.uncache=0,l},zg=function(s){return(s=s.split(" "))[0]+" "+s[1]},rv=function(s,r,l){var c=hr(r);return xs(parseFloat(r)+parseFloat(mh(s,"x",l+"px",c)))+c},JO=function(s,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,jA(s,r)},Bh="0deg",Id="0px",Vh=") ",jA=function(s,r){var l=r||this,c=l.xPercent,f=l.yPercent,p=l.x,x=l.y,w=l.z,P=l.rotation,C=l.rotationY,F=l.rotationX,L=l.skewX,B=l.skewY,U=l.scaleX,Y=l.scaleY,Q=l.transformPerspective,N=l.force3D,X=l.target,W=l.zOrigin,he="",K=N==="auto"&&s&&s!==1||N===!0;if(W&&(F!==Bh||C!==Bh)){var le=parseFloat(C)*Eu,G=Math.sin(le),oe=Math.cos(le),fe;le=parseFloat(F)*Eu,fe=Math.cos(le),p=rv(X,p,G*fe*-W),x=rv(X,x,-Math.sin(le)*-W),w=rv(X,w,oe*fe*-W+W)}Q!==Id&&(he+="perspective("+Q+Vh),(c||f)&&(he+="translate("+c+"%, "+f+"%) "),(K||p!==Id||x!==Id||w!==Id)&&(he+=w!==Id||K?"translate3d("+p+", "+x+", "+w+") ":"translate("+p+", "+x+Vh),P!==Bh&&(he+="rotate("+P+Vh),C!==Bh&&(he+="rotateY("+C+Vh),F!==Bh&&(he+="rotateX("+F+Vh),(L!==Bh||B!==Bh)&&(he+="skew("+L+", "+B+Vh),(U!==1||Y!==1)&&(he+="scale("+U+", "+Y+Vh),X.style[es]=he||"translate(0, 0)"},QO=function(s,r){var l=r||this,c=l.xPercent,f=l.yPercent,p=l.x,x=l.y,w=l.rotation,P=l.skewX,C=l.skewY,F=l.scaleX,L=l.scaleY,B=l.target,U=l.xOrigin,Y=l.yOrigin,Q=l.xOffset,N=l.yOffset,X=l.forceCSS,W=parseFloat(p),he=parseFloat(x),K,le,G,oe,fe;w=parseFloat(w),P=parseFloat(P),C=parseFloat(C),C&&(C=parseFloat(C),P+=C,w+=C),w||P?(w*=Eu,P*=Eu,K=Math.cos(w)*F,le=Math.sin(w)*F,G=Math.sin(w-P)*-L,oe=Math.cos(w-P)*L,P&&(C*=Eu,fe=Math.tan(P-C),fe=Math.sqrt(1+fe*fe),G*=fe,oe*=fe,C&&(fe=Math.tan(C),fe=Math.sqrt(1+fe*fe),K*=fe,le*=fe)),K=xs(K),le=xs(le),G=xs(G),oe=xs(oe)):(K=F,oe=L,le=G=0),(W&&!~(p+"").indexOf("px")||he&&!~(x+"").indexOf("px"))&&(W=mh(B,"x",p,"px"),he=mh(B,"y",x,"px")),(U||Y||Q||N)&&(W=xs(W+U-(U*K+Y*G)+Q),he=xs(he+Y-(U*le+Y*oe)+N)),(c||f)&&(fe=B.getBBox(),W=xs(W+c/100*fe.width),he=xs(he+f/100*fe.height)),fe="matrix("+K+","+le+","+G+","+oe+","+W+","+he+")",B.setAttribute("transform",fe),X&&(B.style[es]=fe)},eR=function(s,r,l,c,f){var p=360,x=Ys(f),w=parseFloat(f)*(x&&~f.indexOf("rad")?Uh:1),P=w-c,C=c+P+"deg",F,L;return x&&(F=f.split("_")[1],F==="short"&&(P%=p,P!==P%(p/2)&&(P+=P<0?p:-p)),F==="cw"&&P<0?P=(P+p*Qw)%p-~~(P/p)*p:F==="ccw"&&P>0&&(P=(P-p*Qw)%p-~~(P/p)*p)),s._pt=L=new Gr(s._pt,r,l,c,P,RO),L.e=C,L.u="deg",s._props.push(l),L},rk=function(s,r){for(var l in r)s[l]=r[l];return s},tR=function(s,r,l){var c=rk({},l._gsap),f="perspective,force3D,transformOrigin,svgOrigin",p=l.style,x,w,P,C,F,L,B,U;c.svg?(P=l.getAttribute("transform"),l.setAttribute("transform",""),p[es]=r,x=Lf(l,1),Ff(l,es),l.setAttribute("transform",P)):(P=getComputedStyle(l)[es],p[es]=r,x=Lf(l,1),p[es]=P);for(w in vl)P=c[w],C=x[w],P!==C&&f.indexOf(w)<0&&(B=hr(P),U=hr(C),F=B!==U?mh(l,w,P,U):parseFloat(P),L=parseFloat(C),s._pt=new Gr(s._pt,x,w,F,L-F,ux),s._pt.u=U||0,s._props.push(w));rk(x,c)};Wr("padding,margin,Width,Radius",function(t,s){var r="Top",l="Right",c="Bottom",f="Left",p=(s<3?[r,l,c,f]:[r+f,r+l,c+l,c+f]).map(function(x){return s<2?t+x:"border"+x+t});Vg[s>1?"border"+t:t]=function(x,w,P,C,F){var L,B;if(arguments.length<4)return L=p.map(function(U){return rl(x,U,P)}),B=L.join(" "),B.split(L[0]).length===5?L[0]:B;L=(C+"").split(" "),B={},p.forEach(function(U,Y){return B[U]=L[Y]=L[Y]||L[(Y-1)/2|0]}),x.init(w,B,F)}});var $A={name:"css",register:fx,targetTest:function(s){return s.style&&s.nodeType},init:function(s,r,l,c,f){var p=this._props,x=s.style,w=l.vars.startAt,P,C,F,L,B,U,Y,Q,N,X,W,he,K,le,G,oe;Q1||fx(),this.styles=this.styles||XA(s),oe=this.styles.props,this.tween=l;for(Y in r)if(Y!=="autoRound"&&(C=r[Y],!(ra[Y]&&EA(Y,r,l,c,s,f)))){if(B=typeof C,U=Vg[Y],B==="function"&&(C=C.call(l,c,s,f),B=typeof C),B==="string"&&~C.indexOf("random(")&&(C=Ef(C)),U)U(this,s,Y,C,l)&&(G=1);else if(Y.substr(0,2)==="--")P=(getComputedStyle(s).getPropertyValue(Y)+"").trim(),C+="",oh.lastIndex=0,oh.test(P)||(Q=hr(P),N=hr(C)),N?Q!==N&&(P=mh(s,Y,P,N)+N):Q&&(C+=Q),this.add(x,"setProperty",P,C,c,f,0,0,Y),p.push(Y),oe.push(Y,0,x[Y]);else if(B!=="undefined"){if(w&&Y in w?(P=typeof w[Y]=="function"?w[Y].call(l,c,s,f):w[Y],Ys(P)&&~P.indexOf("random(")&&(P=Ef(P)),hr(P+"")||(P+=va.units[Y]||hr(rl(s,Y))||""),(P+"").charAt(1)==="="&&(P=rl(s,Y))):P=rl(s,Y),L=parseFloat(P),X=B==="string"&&C.charAt(1)==="="&&C.substr(0,2),X&&(C=C.substr(2)),F=parseFloat(C),Y in Bo&&(Y==="autoAlpha"&&(L===1&&rl(s,"visibility")==="hidden"&&F&&(L=0),oe.push("visibility",0,x.visibility),th(this,x,"visibility",L?"inherit":"hidden",F?"inherit":"hidden",!F)),Y!=="scale"&&Y!=="transform"&&(Y=Bo[Y],~Y.indexOf(",")&&(Y=Y.split(",")[0]))),W=Y in vl,W){if(this.styles.save(Y),he||(K=s._gsap,K.renderTransform&&!r.parseTransform||Lf(s,r.parseTransform),le=r.smoothOrigin!==!1&&K.smooth,he=this._pt=new Gr(this._pt,x,es,0,1,K.renderTransform,K,0,-1),he.dep=1),Y==="scale")this._pt=new Gr(this._pt,K,"scaleY",K.scaleY,(X?Du(K.scaleY,X+F):F)-K.scaleY||0,ux),this._pt.u=0,p.push("scaleY",Y),Y+="X";else if(Y==="transformOrigin"){oe.push(po,0,x[po]),C=qO(C),K.svg?gx(s,C,0,le,0,this):(N=parseFloat(C.split(" ")[2])||0,N!==K.zOrigin&&th(this,K,"zOrigin",K.zOrigin,N),th(this,x,Y,zg(P),zg(C)));continue}else if(Y==="svgOrigin"){gx(s,C,1,le,0,this);continue}else if(Y in WA){eR(this,K,Y,L,X?Du(L,X+C):C);continue}else if(Y==="smoothOrigin"){th(this,K,"smooth",K.smooth,C);continue}else if(Y==="force3D"){K[Y]=C;continue}else if(Y==="transform"){tR(this,C,s);continue}}else Y in x||(Y=qu(Y)||Y);if(W||(F||F===0)&&(L||L===0)&&!OO.test(C)&&Y in x)Q=(P+"").substr((L+"").length),F||(F=0),N=hr(C)||(Y in va.units?va.units[Y]:Q),Q!==N&&(L=mh(s,Y,P,N)),this._pt=new Gr(this._pt,W?K:x,Y,L,(X?Du(L,X+F):F)-L,!W&&(N==="px"||Y==="zIndex")&&r.autoRound!==!1?VO:ux),this._pt.u=N||0,Q!==N&&N!=="%"&&(this._pt.b=P,this._pt.r=BO);else if(Y in x)KO.call(this,s,Y,P,X?X+C:C);else if(Y in s)this.add(s,Y,P||s[Y],X?X+C:C,c,f);else if(Y!=="parseTransform"){U1(Y,C);continue}W||(Y in x?oe.push(Y,0,x[Y]):oe.push(Y,1,P||s[Y])),p.push(Y)}}G&&OA(this)},render:function(s,r){if(r.tween._time||!ey())for(var l=r._pt;l;)l.r(s,l.d),l=l._next;else r.styles.revert()},get:rl,aliases:Bo,getSetter:function(s,r,l){var c=Bo[r];return c&&c.indexOf(",")<0&&(r=c),r in vl&&r!==po&&(s._gsap.x||rl(s,"x"))?l&&Jw===l?r==="scale"?YO:HO:(Jw=l||{})&&(r==="scale"?UO:WO):s.style&&!X1(s.style[r])?zO:~r.indexOf("-")?XO:Z1(s,r)},core:{_removeProperty:Ff,_getMatrix:iy}};qr.utils.checkPrefix=qu;qr.core.getStyleSaver=XA;(function(t,s,r,l){var c=Wr(t+","+s+","+r,function(f){vl[f]=1});Wr(s,function(f){va.units[f]="deg",WA[f]=1}),Bo[c[13]]=t+","+s,Wr(l,function(f){var p=f.split(":");Bo[p[1]]=c[p[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){va.units[t]="px"});qr.registerPlugin($A);var hs=qr.registerPlugin($A)||qr;hs.core.Tween;function ak(t,s,r){iR(t,s),s.set(t,r)}function iR(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nR(t,s,r){var l=KA(t,s,"set");return sR(t,l,r),r}function sR(t,s,r){if(s.set)s.set.call(t,r);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=r}}function zh(t,s){var r=KA(t,s,"get");return rR(t,r)}function KA(t,s,r){if(!s.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return s.get(t)}function rR(t,s){return s.get?s.get.call(t):s.value}function qA(t,s,r){const l=s.length-1;if(l<0)return t===void 0?r:t;for(let c=0;c<l;c++){if(t==null)return r;t=t[s[c]]}return t==null||t[s[l]]===void 0?r:t[s[l]]}function Nc(t,s){if(t===s)return!0;if(t instanceof Date&&s instanceof Date&&t.getTime()!==s.getTime()||t!==Object(t)||s!==Object(s))return!1;const r=Object.keys(t);return r.length!==Object.keys(s).length?!1:r.every(l=>Nc(t[l],s[l]))}function Zu(t,s,r){return t==null||!s||typeof s!="string"?r:t[s]!==void 0?t[s]:(s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,""),qA(t,s.split("."),r))}function uo(t,s,r){if(s==null)return t===void 0?r:t;if(t!==Object(t)){if(typeof s!="function")return r;const c=s(t,r);return typeof c>"u"?r:c}if(typeof s=="string")return Zu(t,s,r);if(Array.isArray(s))return qA(t,s,r);if(typeof s!="function")return r;const l=s(t,r);return typeof l>"u"?r:l}function ol(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(r,l)=>s+l)}function ci(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${s}`:void 0}function mx(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function aR(t){return t==null?void 0:t.$el}const ok=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),px=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function ZA(t){return Object.keys(t)}function Lc(t,s){const r=Object.create(null),l=Object.create(null);for(const c in t)s.some(f=>f instanceof RegExp?f.test(c):f===c)?r[c]=t[c]:l[c]=t[c];return[r,l]}function Ah(t,s){const r={...t};return s.forEach(l=>delete r[l]),r}function Ic(t){return Lc(t,["class","style","id",/^data-/])}function Ya(t){return t==null?[]:Array.isArray(t)?t:[t]}function ga(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(s,Math.min(r,t))}function lk(t){const s=t.toString().trim();return s.includes(".")?s.length-s.indexOf(".")-1:0}function hk(t,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+r.repeat(Math.max(0,s-t.length))}function oR(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let l=0;for(;l<t.length;)r.push(t.substr(l,s)),l+=s;return r}function ck(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<s)return`${t} B`;const r=s===1024?["Ki","Mi","Gi"]:["k","M","G"];let l=-1;for(;Math.abs(t)>=s&&l<r.length-1;)t/=s,++l;return`${t.toFixed(1)} ${r[l]}B`}function xl(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const l={};for(const c in t)l[c]=t[c];for(const c in s){const f=t[c],p=s[c];if(mx(f)&&mx(p)){l[c]=xl(f,p,r);continue}if(Array.isArray(f)&&Array.isArray(p)&&r){l[c]=r(f,p);continue}l[c]=p}return l}function lh(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(lh.cache.has(t))return lh.cache.get(t);const s=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return lh.cache.set(t,s),s}lh.cache=new Map;function lf(t,s){if(!s||typeof s!="object")return[];if(Array.isArray(s))return s.map(r=>lf(t,r)).flat(1);if(Array.isArray(s.children))return s.children.map(r=>lf(t,r)).flat(1);if(s.component){if(Object.getOwnPropertySymbols(s.component.provides).includes(t))return[s.component];if(s.component.subTree)return lf(t,s.component.subTree).flat(1)}return[]}var W0=new WeakMap,ou=new WeakMap;class lR{constructor(s){ak(this,W0,{writable:!0,value:[]}),ak(this,ou,{writable:!0,value:0}),this.size=s}push(s){zh(this,W0)[zh(this,ou)]=s,nR(this,ou,(zh(this,ou)+1)%this.size)}values(){return zh(this,W0).slice(zh(this,ou)).concat(zh(this,W0).slice(0,zh(this,ou)))}}function hR(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function ny(t){const s=ji({}),r=_e(t);return Pr(()=>{for(const l in r.value)s[l]=r.value[l]},{flush:"sync"}),wm(s)}function Xg(t,s){return t.includes(s)}const cR=/^on[^a-z]/,JA=t=>cR.test(t),ul=[Function,Array];function uk(t,s){return s="on"+Go(s),!!(t[s]||t[`${s}Once`]||t[`${s}Capture`]||t[`${s}OnceCapture`]||t[`${s}CaptureOnce`])}function Hg(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];if(Array.isArray(t))for(const c of t)c(...r);else typeof t=="function"&&t(...r)}const QA=["top","bottom"],uR=["start","end","left","right"];function vx(t,s){let[r,l]=t.split(" ");return l||(l=Xg(QA,r)?"start":Xg(uR,r)?"top":"center"),{side:xx(r,s),align:xx(l,s)}}function xx(t,s){return t==="start"?s?"right":"left":t==="end"?s?"left":"right":t}function av(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function ov(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function dk(t){return{side:t.align,align:t.side}}function fk(t){return Xg(QA,t.side)?"y":"x"}class _u{constructor(s){let{x:r,y:l,width:c,height:f}=s;this.x=r,this.y=l,this.width=c,this.height=f}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function gk(t,s){return{x:{before:Math.max(0,s.left-t.left),after:Math.max(0,t.right-s.right)},y:{before:Math.max(0,s.top-t.top),after:Math.max(0,t.bottom-s.bottom)}}}function sy(t){const s=t.getBoundingClientRect(),r=getComputedStyle(t),l=r.transform;if(l){let c,f,p,x,w;if(l.startsWith("matrix3d("))c=l.slice(9,-1).split(/, /),f=+c[0],p=+c[5],x=+c[12],w=+c[13];else if(l.startsWith("matrix("))c=l.slice(7,-1).split(/, /),f=+c[0],p=+c[3],x=+c[4],w=+c[5];else return new _u(s);const P=r.transformOrigin,C=s.x-x-(1-f)*parseFloat(P),F=s.y-w-(1-p)*parseFloat(P.slice(P.indexOf(" ")+1)),L=f?s.width/f:t.offsetWidth+1,B=p?s.height/p:t.offsetHeight+1;return new _u({x:C,y:F,width:L,height:B})}else return new _u(s)}function qh(t,s,r){if(typeof t.animate>"u")return{finished:Promise.resolve()};let l;try{l=t.animate(s,r)}catch{return{finished:Promise.resolve()}}return typeof l.finished>"u"&&(l.finished=new Promise(c=>{l.onfinish=()=>{c(l)}})),l}function eT(t,s,r){if(r&&(s={__isVue:!0,$parent:r,$options:s}),s){if(s.$_alreadyWarned=s.$_alreadyWarned||[],s.$_alreadyWarned.includes(t))return;s.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(s?gR(s):"")}function hc(t,s,r){const l=eT(t,s,r);l!=null&&console.warn(l)}function yx(t,s,r){const l=eT(t,s,r);l!=null&&console.error(l)}const dR=/(?:^|[-_])(\w)/g,fR=t=>t.replace(dR,s=>s.toUpperCase()).replace(/[-_]/g,"");function lv(t,s){if(t.$root===t)return"<Root>";const r=typeof t=="function"&&t.cid!=null?t.options:t.__isVue?t.$options||t.constructor.options:t||{};let l=r.name||r._componentTag;const c=r.__file;if(!l&&c){const f=c.match(/([^/\\]+)\.vue$/);l=f==null?void 0:f[1]}return(l?`<${fR(l)}>`:"<Anonymous>")+(c&&s!==!1?` at ${c}`:"")}function gR(t){if(t.__isVue&&t.$parent){const s=[];let r=0;for(;t;){if(s.length>0){const l=s[s.length-1];if(l.constructor===t.constructor){r++,t=t.$parent;continue}else r>0&&(s[s.length-1]=[l,r],r=0)}s.push(t),t=t.$parent}return`

found in

`+s.map((l,c)=>`${c===0?"---> ":" ".repeat(5+c*2)}${Array.isArray(l)?`${lv(l[0])}... (${l[1]} recursive calls)`:lv(l)}`).join(`
`)}else return`

(found in ${lv(t)})`}const mR=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],pR=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,vR=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],xR=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function tT(t){const s=Array(3),r=pR,l=mR;for(let c=0;c<3;++c)s[c]=Math.round(ga(r(l[c][0]*t[0]+l[c][1]*t[1]+l[c][2]*t[2]))*255);return{r:s[0],g:s[1],b:s[2]}}function ry(t){let{r:s,g:r,b:l}=t;const c=[0,0,0],f=xR,p=vR;s=f(s/255),r=f(r/255),l=f(l/255);for(let x=0;x<3;++x)c[x]=p[x][0]*s+p[x][1]*r+p[x][2]*l;return c}const Yg=.20689655172413793,yR=t=>t>Yg**3?Math.cbrt(t):t/(3*Yg**2)+4/29,bR=t=>t>Yg?t**3:3*Yg**2*(t-4/29);function iT(t){const s=yR,r=s(t[1]);return[116*r-16,500*(s(t[0]/.95047)-r),200*(r-s(t[2]/1.08883))]}function nT(t){const s=bR,r=(t[0]+16)/116;return[s(r+t[1]/500)*.95047,s(r),s(r-t[2]/200)*1.08883]}function mk(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Zh(t){if(typeof t=="number")return(isNaN(t)||t<0||t>16777215)&&hc(`'${t}' is not a valid hex color`),{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"){let s=t.startsWith("#")?t.slice(1):t;[3,4].includes(s.length)?s=s.split("").map(l=>l+l).join(""):[6,8].includes(s.length)||hc(`'${t}' is not a valid hex(a) color`);const r=parseInt(s,16);return(isNaN(r)||r<0||r>4294967295)&&hc(`'${t}' is not a valid hex(a) color`),lT(s)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${t==null?t:t.constructor.name} instead`)}function Im(t){const{h:s,s:r,v:l,a:c}=t,f=x=>{const w=(x+s/60)%6;return l-l*r*Math.max(Math.min(w,4-w,1),0)},p=[f(5),f(3),f(1)].map(x=>Math.round(x*255));return{r:p[0],g:p[1],b:p[2],a:c}}function ay(t){if(!t)return{h:0,s:1,v:1,a:1};const s=t.r/255,r=t.g/255,l=t.b/255,c=Math.max(s,r,l),f=Math.min(s,r,l);let p=0;c!==f&&(c===s?p=60*(0+(r-l)/(c-f)):c===r?p=60*(2+(l-s)/(c-f)):c===l&&(p=60*(4+(s-r)/(c-f)))),p<0&&(p=p+360);const x=c===0?0:(c-f)/c,w=[p,x,c];return{h:w[0],s:w[1],v:w[2],a:t.a}}function sT(t){const{h:s,s:r,v:l,a:c}=t,f=l-l*r/2,p=f===1||f===0?0:(l-f)/Math.min(f,1-f);return{h:s,s:p,l:f,a:c}}function rT(t){const{h:s,s:r,l,a:c}=t,f=l+r*Math.min(l,1-l),p=f===0?0:2-2*l/f;return{h:s,s:p,v:f,a:c}}function wR(t){let{r:s,g:r,b:l,a:c}=t;return c===void 0?`rgb(${s}, ${r}, ${l})`:`rgba(${s}, ${r}, ${l}, ${c})`}function aT(t){return wR(Im(t))}function G0(t){const s=Math.round(t).toString(16);return("00".substr(0,2-s.length)+s).toUpperCase()}function oT(t){let{r:s,g:r,b:l,a:c}=t;return`#${[G0(s),G0(r),G0(l),c!==void 0?G0(Math.round(c*255)):""].join("")}`}function lT(t){t=uT(t);let[s,r,l,c]=oR(t,2).map(f=>parseInt(f,16));return c=c===void 0?c:c/255,{r:s,g:r,b:l,a:c}}function hT(t){const s=lT(t);return ay(s)}function cT(t){return oT(Im(t))}function uT(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(s=>s+s).join("")),t.length!==6&&(t=hk(hk(t,6),8,"F")),t}function kR(t,s){const r=iT(ry(t));return r[0]=r[0]+s*10,tT(nT(r))}function SR(t,s){const r=iT(ry(t));return r[0]=r[0]-s*10,tT(nT(r))}function bx(t){const s=Zh(t);return ry(s)[1]}function CR(t,s){const r=bx(t),l=bx(s),c=Math.max(r,l),f=Math.min(r,l);return(c+.05)/(f+.05)}function Qs(t,s){const r=jo();if(!r)throw new Error(`[Vuetify] ${t} ${s||"must be called from inside a setup function"}`);return r}function Sl(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const s=Qs(t).type;return lh((s==null?void 0:s.aliasName)||(s==null?void 0:s.name))}let dT=0,vg=new WeakMap;function yr(){const t=Qs("getUid");if(vg.has(t))return vg.get(t);{const s=dT++;return vg.set(t,s),s}}yr.reset=()=>{dT=0,vg=new WeakMap};function AR(t){const{provides:s}=Qs("injectSelf");if(s&&t in s)return s[t]}function Ci(t,s){return r=>Object.keys(t).reduce((l,c)=>{const p=typeof t[c]=="object"&&t[c]!=null&&!Array.isArray(t[c])?t[c]:{type:t[c]};return r&&c in r?l[c]={...p,default:r[c]}:l[c]=p,s&&!l[c].source&&(l[c].source=s),l},{})}function xc(t,s){let r;function l(){r=gm(),r.run(()=>s.length?s(()=>{r==null||r.stop(),l()}):s())}ui(t,c=>{c&&!r?l():c||(r==null||r.stop(),r=void 0)},{immediate:!0}),$r(()=>{r==null||r.stop()})}function TR(t,s){var r,l;return typeof((r=t.props)==null?void 0:r[s])<"u"||typeof((l=t.props)==null?void 0:l[lh(s)])<"u"}function Jr(t){if(t._setup=t._setup??t.setup,!t.name)return hc("The component is missing an explicit name, unable to generate default prop value"),t;if(t._setup){t.props=Ci(t.props??{},lh(t.name))();const s=Object.keys(t.props);t.filterProps=function(l){return Lc(l,s)},t.props._as=String,t.setup=function(l,c){const f=mT();if(!f.value)return t._setup(l,c);const p=jo(),x=_e(()=>f.value[l._as??t.name]),w=new Proxy(l,{get(F,L){var U,Y;const B=Reflect.get(F,L);return typeof L=="string"&&!TR(p.vnode,L)?((U=x.value)==null?void 0:U[L])??((Y=f.value.global)==null?void 0:Y[L])??B:B}}),P=bm();Pr(()=>{if(x.value){const F=Object.entries(x.value).filter(L=>{let[B]=L;return B.startsWith(B[0].toUpperCase())});F.length&&(P.value=Object.fromEntries(F))}});const C=t._setup(w,c);return xc(P,()=>{var F;ks(xl(((F=AR(Of))==null?void 0:F.value)??{},P.value))}),C}}return t}function Lt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return s=>(t?Jr:yn)(s)}function PR(t,s){return s.props=t,s}function bo(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return Lt()({name:r??Go(ur(t.replace(/__/g,"-"))),props:{tag:{type:String,default:s}},setup(l,c){let{slots:f}=c;return()=>{var p;return Tr(l.tag,{class:t},(p=f.default)==null?void 0:p.call(f))}}})}function fT(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const s=t.getRootNode();return s!==document&&s.getRootNode({composed:!0})!==document?null:s}const If="cubic-bezier(0.4, 0, 0.2, 1)",DR="cubic-bezier(0.0, 0, 0.2, 1)",MR="cubic-bezier(0.4, 0, 1, 1)";function gT(t){for(;t;){if(oy(t))return t;t=t.parentElement}return document.scrollingElement}function Ug(t,s){const r=[];if(s&&t&&!s.contains(t))return r;for(;t&&(oy(t)&&r.push(t),t!==s);)t=t.parentElement;return r}function oy(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(t);return s.overflowY==="scroll"||s.overflowY==="auto"&&t.scrollHeight>t.clientHeight}const ws=typeof window<"u",ly=ws&&"IntersectionObserver"in window,ER=ws&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),wx=ws&&typeof CSS<"u"&&CSS.supports("selector(:focus-visible)");function _R(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function $t(t){const s=Qs("useRender");s.render=t}const Of=Symbol.for("vuetify:defaults");function FR(t){return it(t)}function mT(){const t=Hi(Of);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function ks(t,s){const r=mT(),l=it(t),c=_e(()=>{if(Ln(s==null?void 0:s.disabled))return r.value;const p=Ln(s==null?void 0:s.scoped),x=Ln(s==null?void 0:s.reset),w=Ln(s==null?void 0:s.root);let P=xl(l.value,{prev:r.value});if(p)return P;if(x||w){const C=Number(x||1/0);for(let F=0;F<=C&&!(!P||!("prev"in P));F++)P=P.prev;return P}return xl(P.prev,P)});return Tn(Of,c),c}const Om=["sm","md","lg","xl","xxl"],kx=Symbol.for("vuetify:display"),pk={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},NR=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pk;return xl(pk,t)};function vk(t){return ws&&!t?window.innerWidth:0}function xk(t){return ws&&!t?window.innerHeight:0}function yk(t){const s=ws&&!t?window.navigator.userAgent:"ssr";function r(U){return!!s.match(U)}const l=r(/android/i),c=r(/iphone|ipad|ipod/i),f=r(/cordova/i),p=r(/electron/i),x=r(/chrome/i),w=r(/edge/i),P=r(/firefox/i),C=r(/opera/i),F=r(/win/i),L=r(/mac/i),B=r(/linux/i);return{android:l,ios:c,cordova:f,electron:p,chrome:x,edge:w,firefox:P,opera:C,win:F,mac:L,linux:B,touch:ER,ssr:s==="ssr"}}function LR(t,s){const{thresholds:r,mobileBreakpoint:l}=NR(t),c=it(xk(s)),f=bm(yk(s)),p=ji({}),x=it(vk(s));function w(){c.value=xk(),x.value=vk()}function P(){w(),f.value=yk()}return Pr(()=>{const C=x.value<r.sm,F=x.value<r.md&&!C,L=x.value<r.lg&&!(F||C),B=x.value<r.xl&&!(L||F||C),U=x.value<r.xxl&&!(B||L||F||C),Y=x.value>=r.xxl,Q=C?"xs":F?"sm":L?"md":B?"lg":U?"xl":"xxl",N=typeof l=="number"?l:r[l],X=x.value<N;p.xs=C,p.sm=F,p.md=L,p.lg=B,p.xl=U,p.xxl=Y,p.smAndUp=!C,p.mdAndUp=!(C||F),p.lgAndUp=!(C||F||L),p.xlAndUp=!(C||F||L||B),p.smAndDown=!(L||B||U||Y),p.mdAndDown=!(B||U||Y),p.lgAndDown=!(U||Y),p.xlAndDown=!Y,p.name=Q,p.height=c.value,p.width=x.value,p.mobile=X,p.mobileBreakpoint=l,p.platform=f.value,p.thresholds=r}),ws&&window.addEventListener("resize",w,{passive:!0}),{...wm(p),update:P,ssr:!!s}}function Qr(){const t=Hi(kx);if(!t)throw new Error("Could not find Vuetify display injection");return t}const pT={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},vT={component:t=>Tr(hy,{...t,class:"mdi"})},Ni=[String,Function,Object],Sx=Symbol.for("vuetify:icons"),Rm=Ci({icon:{type:Ni},tag:{type:String,required:!0}},"icon"),Cx=Lt()({name:"VComponentIcon",props:Rm(),setup(t,s){let{slots:r}=s;return()=>ae(t.tag,null,{default:()=>{var l;return[t.icon?ae(t.icon,null,null):(l=r.default)==null?void 0:l.call(r)]}})}}),xT=Jr({name:"VSvgIcon",inheritAttrs:!1,props:Rm(),setup(t,s){let{attrs:r}=s;return()=>ae(t.tag,ai(r,{style:null}),{default:()=>[ae("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[ae("path",{d:t.icon},null)])]})}}),IR=Jr({name:"VLigatureIcon",props:Rm(),setup(t){return()=>ae(t.tag,null,{default:()=>[t.icon]})}}),hy=Jr({name:"VClassIcon",props:Rm(),setup(t){return()=>ae(t.tag,{class:t.icon},null)}}),OR={svg:{component:xT},class:{component:hy}};function RR(t){return xl({defaultSet:"mdi",sets:{...OR,mdi:vT},aliases:pT},t)}const BR=t=>{const s=Hi(Sx);if(!s)throw new Error("Missing Vuetify Icons provide!");return{iconData:_e(()=>{var w;const l=jn(t)?t.value:t.icon;if(!l)return{component:Cx};let c=l;if(typeof c=="string"&&(c=c.trim(),c.startsWith("$")&&(c=(w=s.aliases)==null?void 0:w[c.slice(1)])),!c)throw new Error(`Could not find aliased icon "${l}"`);if(typeof c!="string")return{component:Cx,icon:c};const f=Object.keys(s.sets).find(P=>typeof c=="string"&&c.startsWith(`${P}:`)),p=f?c.slice(f.length+1):c;return{component:s.sets[f??s.defaultSet].component,icon:p}})}};function Ei(t,s,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F=>F,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:F=>F;const f=Qs("useProxiedModel"),p=it(t[s]!==void 0?t[s]:r),x=lh(s),P=_e(x!==s?()=>{var F,L,B,U;return t[s],!!(((F=f.vnode.props)!=null&&F.hasOwnProperty(s)||(L=f.vnode.props)!=null&&L.hasOwnProperty(x))&&((B=f.vnode.props)!=null&&B.hasOwnProperty(`onUpdate:${s}`)||(U=f.vnode.props)!=null&&U.hasOwnProperty(`onUpdate:${x}`)))}:()=>{var F,L;return t[s],!!((F=f.vnode.props)!=null&&F.hasOwnProperty(s)&&((L=f.vnode.props)!=null&&L.hasOwnProperty(`onUpdate:${s}`)))});xc(()=>!P.value,()=>{ui(()=>t[s],F=>{p.value=F})});const C=_e({get(){return l(P.value?t[s]:p.value)},set(F){const L=c(F),B=Di(P.value?t[s]:p.value);B===L||l(B)===F||(p.value=L,f==null||f.emit(`update:${s}`,L))}});return Object.defineProperty(C,"externalValue",{get:()=>P.value?t[s]:p.value}),C}const VR={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},bk="$vuetify.",wk=(t,s)=>t.replace(/\{(\d+)\}/g,(r,l)=>String(s[+l])),yT=(t,s,r)=>function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),p=1;p<c;p++)f[p-1]=arguments[p];if(!l.startsWith(bk))return wk(l,f);const x=l.replace(bk,""),w=t.value&&r.value[t.value],P=s.value&&r.value[s.value];let C=Zu(w,x,null);return C||(hc(`Translation key "${l}" not found in "${t.value}", trying fallback locale`),C=Zu(P,x,null)),C||(yx(`Translation key "${l}" not found in fallback`),C=l),typeof C!="string"&&(yx(`Translation key "${l}" has a non-string value`),C=l),wk(C,f)};function bT(t,s){return(r,l)=>new Intl.NumberFormat([t.value,s.value],l).format(r)}function hv(t,s,r){const l=Ei(t,s,t[s]??r.value);return l.value=t[s]??r.value,ui(r,c=>{t[s]==null&&(l.value=r.value)}),l}function wT(t){return s=>{const r=hv(s,"locale",t.current),l=hv(s,"fallback",t.fallback),c=hv(s,"messages",t.messages);return{name:"vuetify",current:r,fallback:l,messages:c,t:yT(r,l,c),n:bT(r,l),provide:wT({current:r,fallback:l,messages:c})}}}function zR(t){const s=it((t==null?void 0:t.locale)??"en"),r=it((t==null?void 0:t.fallback)??"en"),l=it({en:VR,...t==null?void 0:t.messages});return{name:"vuetify",current:s,fallback:r,messages:l,t:yT(s,r,l),n:bT(s,r),provide:wT({current:s,fallback:r,messages:l})}}const XR={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},Ju=Symbol.for("vuetify:locale");function HR(t){return t.name!=null}function YR(t){const s=t!=null&&t.adapter&&HR(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:zR(t),r=WR(s,t);return{...s,...r}}function ea(){const t=Hi(Ju);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function UR(t){const s=Hi(Ju);if(!s)throw new Error("[Vuetify] Could not find injected locale instance");const r=s.provide(t),l=GR(r,s.rtl,t),c={...r,...l};return Tn(Ju,c),c}function WR(t,s){const r=it((s==null?void 0:s.rtl)??XR),l=_e(()=>r.value[t.current.value]??!1);return{isRtl:l,rtl:r,rtlClasses:_e(()=>`v-locale--is-${l.value?"rtl":"ltr"}`)}}function GR(t,s,r){const l=_e(()=>r.rtl??s.value[t.current.value]??!1);return{isRtl:l,rtl:s,rtlClasses:_e(()=>`v-locale--is-${l.value?"rtl":"ltr"}`)}}function Cl(){const t=Hi(Ju);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const lu=2.4,kk=.2126729,Sk=.7151522,Ck=.072175,jR=.55,$R=.58,KR=.57,qR=.62,j0=.03,Ak=1.45,ZR=5e-4,JR=1.25,QR=1.25,Tk=.078,Pk=12.82051282051282,$0=.06,Dk=.001;function Mk(t,s){const r=(t.r/255)**lu,l=(t.g/255)**lu,c=(t.b/255)**lu,f=(s.r/255)**lu,p=(s.g/255)**lu,x=(s.b/255)**lu;let w=r*kk+l*Sk+c*Ck,P=f*kk+p*Sk+x*Ck;if(w<=j0&&(w+=(j0-w)**Ak),P<=j0&&(P+=(j0-P)**Ak),Math.abs(P-w)<ZR)return 0;let C;if(P>w){const F=(P**jR-w**$R)*JR;C=F<Dk?0:F<Tk?F-F*Pk*$0:F-$0}else{const F=(P**qR-w**KR)*QR;C=F>-Dk?0:F>-Tk?F-F*Pk*$0:F+$0}return C*100}const Rf=Symbol.for("vuetify:theme"),en=Ci({theme:String},"theme"),Od={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function e3(){var r,l;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Od;if(!t)return{...Od,isDisabled:!0};const s={};for(const[c,f]of Object.entries(t.themes??{})){const p=f.dark||c==="dark"?(r=Od.themes)==null?void 0:r.dark:(l=Od.themes)==null?void 0:l.light;s[c]=xl(p,f)}return xl(Od,{...t,themes:s})}function t3(t){const s=ji(e3(t)),r=it(s.defaultTheme),l=it(s.themes),c=_e(()=>{const C={};for(const[F,L]of Object.entries(l.value)){const B=C[F]={...L,colors:{...L.colors}};if(s.variations)for(const U of s.variations.colors){const Y=B.colors[U];if(Y)for(const Q of["lighten","darken"]){const N=Q==="lighten"?kR:SR;for(const X of ol(s.variations[Q],1))B.colors[`${U}-${Q}-${X}`]=oT(N(Zh(Y),X))}}for(const U of Object.keys(B.colors)){if(/^on-[a-z]/.test(U)||B.colors[`on-${U}`])continue;const Y=`on-${U}`,Q=Zh(B.colors[U]),N=Math.abs(Mk(Zh(0),Q)),X=Math.abs(Mk(Zh(16777215),Q));B.colors[Y]=X>Math.min(N,50)?"#fff":"#000"}}return C}),f=_e(()=>c.value[r.value]),p=_e(()=>{const C=[];f.value.dark&&Xh(C,":root",["color-scheme: dark"]),Xh(C,":root",Ek(f.value));for(const[U,Y]of Object.entries(c.value))Xh(C,`.v-theme--${U}`,[`color-scheme: ${Y.dark?"dark":"normal"}`,...Ek(Y)]);const F=[],L=[],B=new Set(Object.values(c.value).flatMap(U=>Object.keys(U.colors)));for(const U of B)/^on-[a-z]/.test(U)?Xh(L,`.${U}`,[`color: rgb(var(--v-theme-${U})) !important`]):(Xh(F,`.bg-${U}`,[`--v-theme-overlay-multiplier: var(--v-theme-${U}-overlay-multiplier)`,`background: rgb(var(--v-theme-${U})) !important`,`color: rgb(var(--v-theme-on-${U})) !important`]),Xh(L,`.text-${U}`,[`color: rgb(var(--v-theme-${U})) !important`]),Xh(L,`.border-${U}`,[`--v-border-color: var(--v-theme-${U})`]));return C.push(...F,...L),C.map((U,Y)=>Y===0?U:`    ${U}`).join("")});function x(){return{style:[{children:p.value,id:"vuetify-theme-stylesheet",nonce:s.cspNonce||!1}]}}function w(C){const F=C._context.provides.usehead;if(F)if(F.push){const B=F.push(x);ui(p,()=>{B.patch(x)})}else ws?(F.addHeadObjs(_e(x)),Pr(()=>F.updateDOM())):F.addHeadObjs(x());else{let U=function(){if(!s.isDisabled){if(typeof document<"u"&&!B){const Y=document.createElement("style");Y.type="text/css",Y.id="vuetify-theme-stylesheet",s.cspNonce&&Y.setAttribute("nonce",s.cspNonce),B=Y,document.head.appendChild(B)}B&&(B.innerHTML=p.value)}};var L=U;let B=ws?document.getElementById("vuetify-theme-stylesheet"):null;ui(p,U,{immediate:!0})}}const P=_e(()=>s.isDisabled?void 0:`v-theme--${r.value}`);return{install:w,isDisabled:s.isDisabled,name:r,themes:l,current:f,computedThemes:c,themeClasses:P,styles:p,global:{name:r,current:f}}}function mn(t){Qs("provideTheme");const s=Hi(Rf,null);if(!s)throw new Error("Could not find Vuetify theme injection");const r=_e(()=>t.theme??(s==null?void 0:s.name.value)),l=_e(()=>s.isDisabled?void 0:`v-theme--${r.value}`),c={...s,name:r,themeClasses:l};return Tn(Rf,c),c}function kT(){Qs("useTheme");const t=Hi(Rf,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Xh(t,s,r){t.push(`${s} {
`,...r.map(l=>`  ${l};
`),`}
`)}function Ek(t){const s=t.dark?2:1,r=t.dark?1:2,l=[];for(const[c,f]of Object.entries(t.colors)){const p=Zh(f);l.push(`--v-theme-${c}: ${p.r},${p.g},${p.b}`),c.startsWith("on-")||l.push(`--v-theme-${c}-overlay-multiplier: ${bx(f)>.18?s:r}`)}for(const[c,f]of Object.entries(t.variables)){const p=typeof f=="string"&&f.startsWith("#")?Zh(f):void 0,x=p?`${p.r}, ${p.g}, ${p.b}`:void 0;l.push(`--v-${c}: ${x??f}`)}return l}function ph(t){const s=it(),r=it();if(ws){const l=new ResizeObserver(c=>{t==null||t(c,l),c.length&&(r.value=c[0].contentRect)});vr(()=>{l.disconnect()}),ui(s,(c,f)=>{f&&(l.unobserve(f),r.value=void 0),c&&l.observe(c)},{flush:"post"})}return{resizeRef:s,contentRect:hd(r)}}const Wg=Symbol.for("vuetify:layout"),ST=Symbol.for("vuetify:layout-item"),_k=1e3,CT=Ci({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ud=Ci({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function i3(){const t=Hi(Wg);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function dd(t){const s=Hi(Wg);if(!s)throw new Error("[Vuetify] Could not find injected layout");const r=t.id??`layout-item-${yr()}`,l=Qs("useLayoutItem");Tn(ST,{id:r});const c=it(!1);T1(()=>c.value=!0),A1(()=>c.value=!1);const{layoutItemStyles:f,layoutItemScrimStyles:p}=s.register(l,{...t,active:_e(()=>c.value?!1:t.active.value),id:r});return vr(()=>s.unregister(r)),{layoutItemStyles:f,layoutRect:s.layoutRect,layoutItemScrimStyles:p}}const n3=(t,s,r,l)=>{let c={top:0,left:0,right:0,bottom:0};const f=[{id:"",layer:{...c}}];for(const p of t){const x=s.get(p),w=r.get(p),P=l.get(p);if(!x||!w||!P)continue;const C={...c,[x.value]:parseInt(c[x.value],10)+(P.value?parseInt(w.value,10):0)};f.push({id:p,layer:C}),c=C}return f};function AT(t){const s=Hi(Wg,null),r=_e(()=>s?s.rootZIndex.value-100:_k),l=it([]),c=ji(new Map),f=ji(new Map),p=ji(new Map),x=ji(new Map),w=ji(new Map),{resizeRef:P,contentRect:C}=ph(),F=_e(()=>{const le=new Map,G=t.overlaps??[];for(const oe of G.filter(fe=>fe.includes(":"))){const[fe,pe]=oe.split(":");if(!l.value.includes(fe)||!l.value.includes(pe))continue;const Te=c.get(fe),De=c.get(pe),Me=f.get(fe),He=f.get(pe);!Te||!De||!Me||!He||(le.set(pe,{position:Te.value,amount:parseInt(Me.value,10)}),le.set(fe,{position:De.value,amount:-parseInt(He.value,10)}))}return le}),L=_e(()=>{const le=[...new Set([...p.values()].map(oe=>oe.value))].sort((oe,fe)=>oe-fe),G=[];for(const oe of le){const fe=l.value.filter(pe=>{var Te;return((Te=p.get(pe))==null?void 0:Te.value)===oe});G.push(...fe)}return n3(G,c,f,x)}),B=_e(()=>!Array.from(w.values()).some(le=>le.value)),U=_e(()=>L.value[L.value.length-1].layer),Y=_e(()=>({"--v-layout-left":ci(U.value.left),"--v-layout-right":ci(U.value.right),"--v-layout-top":ci(U.value.top),"--v-layout-bottom":ci(U.value.bottom),...B.value?void 0:{transition:"none"}})),Q=_e(()=>L.value.slice(1).map((le,G)=>{let{id:oe}=le;const{layer:fe}=L.value[G],pe=f.get(oe),Te=c.get(oe);return{id:oe,...fe,size:Number(pe.value),position:Te.value}})),N=le=>Q.value.find(G=>G.id===le),X=Qs("createLayout"),W=it(!1);nn(()=>{W.value=!0}),Tn(Wg,{register:(le,G)=>{let{id:oe,order:fe,position:pe,layoutSize:Te,elementSize:De,active:Me,disableTransitions:He,absolute:je}=G;p.set(oe,fe),c.set(oe,pe),f.set(oe,Te),x.set(oe,Me),He&&w.set(oe,He);const Ze=lf(ST,X==null?void 0:X.vnode).indexOf(le);Ze>-1?l.value.splice(Ze,0,oe):l.value.push(oe);const ft=_e(()=>Q.value.findIndex(Ie=>Ie.id===oe)),Je=_e(()=>r.value+L.value.length*2-ft.value*2),dt=_e(()=>{const Ie=pe.value==="left"||pe.value==="right",qe=pe.value==="right",Ue=pe.value==="bottom",Ae={[pe.value]:0,zIndex:Je.value,transform:`translate${Ie?"X":"Y"}(${(Me.value?0:-110)*(qe||Ue?-1:1)}%)`,position:je.value||r.value!==_k?"absolute":"fixed",...B.value?void 0:{transition:"none"}};if(!W.value)return Ae;const Ye=Q.value[ft.value];if(!Ye)throw new Error(`[Vuetify] Could not find layout item "${oe}"`);const st=F.value.get(oe);return st&&(Ye[st.position]+=st.amount),{...Ae,height:Ie?`calc(100% - ${Ye.top}px - ${Ye.bottom}px)`:De.value?`${De.value}px`:void 0,left:qe?void 0:`${Ye.left}px`,right:qe?`${Ye.right}px`:void 0,top:pe.value!=="bottom"?`${Ye.top}px`:void 0,bottom:pe.value!=="top"?`${Ye.bottom}px`:void 0,width:Ie?De.value?`${De.value}px`:void 0:`calc(100% - ${Ye.left}px - ${Ye.right}px)`}}),at=_e(()=>({zIndex:Je.value-1}));return{layoutItemStyles:dt,layoutItemScrimStyles:at,zIndex:Je}},unregister:le=>{p.delete(le),c.delete(le),f.delete(le),x.delete(le),w.delete(le),l.value=l.value.filter(G=>G!==le)},mainRect:U,mainStyles:Y,getLayoutItem:N,items:Q,layoutRect:C,rootZIndex:r});const he=_e(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),K=_e(()=>({zIndex:r.value,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:he,layoutStyles:K,getLayoutItem:N,items:Q,layoutRect:C,layoutRef:P}}function TT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:s,...r}=t,l=xl(s,r),{aliases:c={},components:f={},directives:p={}}=l,x=FR(l.defaults),w=LR(l.display,l.ssr),P=t3(l.theme),C=RR(l.icons),F=YR(l.locale);return{install:B=>{for(const U in p)B.directive(U,p[U]);for(const U in f)B.component(U,f[U]);for(const U in c)B.component(U,Jr({...c[U],name:U,aliasName:c[U].name}));if(P.install(B),B.provide(Of,x),B.provide(kx,w),B.provide(Rf,P),B.provide(Sx,C),B.provide(Ju,F),ws&&l.ssr)if(B.$nuxt)B.$nuxt.hook("app:suspense:resolve",()=>{w.update()});else{const{mount:U}=B;B.mount=function(){const Y=U(...arguments);return on(()=>w.update()),B.mount=U,Y}}yr.reset(),B.mixin({computed:{$vuetify(){return ji({defaults:Rd.call(this,Of),display:Rd.call(this,kx),theme:Rd.call(this,Rf),icons:Rd.call(this,Sx),locale:Rd.call(this,Ju)})}}})},defaults:x,display:w,theme:P,icons:C,locale:F}}const s3="3.1.11";TT.version=s3;function Rd(t){var l,c;const s=this.$,r=((l=s.parent)==null?void 0:l.provides)??((c=s.vnode.appContext)==null?void 0:c.provides);if(r&&t in r)return r[t]}function r3(){return!0}function PT(t,s,r){if(!t||DT(t,r)===!1)return!1;const l=fT(s);if(typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&l.host===t.target)return!1;const c=(typeof r.value=="object"&&r.value.include||(()=>[]))();return c.push(s),!c.some(f=>f==null?void 0:f.contains(t.target))}function DT(t,s){return(typeof s.value=="object"&&s.value.closeConditional||r3)(t)}function a3(t,s,r){const l=typeof r.value=="function"?r.value:r.value.handler;s._clickOutside.lastMousedownWasOutside&&PT(t,s,r)&&setTimeout(()=>{DT(t,r)&&l&&l(t)},0)}function Fk(t,s){const r=fT(t);s(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&s(r)}const MT={mounted(t,s){const r=c=>a3(c,t,s),l=c=>{t._clickOutside.lastMousedownWasOutside=PT(c,t,s)};Fk(t,c=>{c.addEventListener("click",r,!0),c.addEventListener("mousedown",l,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[s.instance.$.uid]={onClick:r,onMousedown:l}},unmounted(t,s){t._clickOutside&&(Fk(t,r=>{var f;if(!r||!((f=t._clickOutside)!=null&&f[s.instance.$.uid]))return;const{onClick:l,onMousedown:c}=t._clickOutside[s.instance.$.uid];r.removeEventListener("click",l,!0),r.removeEventListener("mousedown",c,!0)}),delete t._clickOutside[s.instance.$.uid])}};function o3(t,s){if(!ly)return;const r=s.modifiers||{},l=s.value,{handler:c,options:f}=typeof l=="object"?l:{handler:l,options:{}},p=new IntersectionObserver(function(){var F;let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1?arguments[1]:void 0;const P=(F=t._observe)==null?void 0:F[s.instance.$.uid];if(!P)return;const C=x.some(L=>L.isIntersecting);c&&(!r.quiet||P.init)&&(!r.once||C||P.init)&&c(C,x,w),C&&r.once?ET(t,s):P.init=!0},f);t._observe=Object(t._observe),t._observe[s.instance.$.uid]={init:!1,observer:p},p.observe(t)}function ET(t,s){var l;const r=(l=t._observe)==null?void 0:l[s.instance.$.uid];r&&(r.observer.unobserve(t),delete t._observe[s.instance.$.uid])}const _T={mounted:o3,unmounted:ET},Bm=_T;function l3(t,s){const r=s.modifiers||{},l=s.value,{once:c,immediate:f,...p}=r,x=!Object.keys(p).length,{handler:w,options:P}=typeof l=="object"?l:{handler:l,options:{attributes:(p==null?void 0:p.attr)??x,characterData:(p==null?void 0:p.char)??x,childList:(p==null?void 0:p.child)??x,subtree:(p==null?void 0:p.sub)??x}},C=new MutationObserver(function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1?arguments[1]:void 0;w==null||w(F,L),c&&FT(t,s)});f&&(w==null||w([],C)),t._mutate=Object(t._mutate),t._mutate[s.instance.$.uid]={observer:C},C.observe(t,P)}function FT(t,s){var r;(r=t._mutate)!=null&&r[s.instance.$.uid]&&(t._mutate[s.instance.$.uid].observer.disconnect(),delete t._mutate[s.instance.$.uid])}const h3={mounted:l3,unmounted:FT};function c3(t,s){var c,f;const r=s.value,l={passive:!((c=s.modifiers)!=null&&c.active)};window.addEventListener("resize",r,l),t._onResize=Object(t._onResize),t._onResize[s.instance.$.uid]={handler:r,options:l},(f=s.modifiers)!=null&&f.quiet||r()}function u3(t,s){var c;if(!((c=t._onResize)!=null&&c[s.instance.$.uid]))return;const{handler:r,options:l}=t._onResize[s.instance.$.uid];window.removeEventListener("resize",r,l),delete t._onResize[s.instance.$.uid]}const Al={mounted:c3,unmounted:u3};const Ax=Symbol("rippleStop"),d3=80;function Nk(t,s){t.style.transform=s,t.style.webkitTransform=s}function Tx(t){return t.constructor.name==="TouchEvent"}function NT(t){return t.constructor.name==="KeyboardEvent"}const f3=function(t,s){var F;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=0,c=0;if(!NT(t)){const L=s.getBoundingClientRect(),B=Tx(t)?t.touches[t.touches.length-1]:t;l=B.clientX-L.left,c=B.clientY-L.top}let f=0,p=.3;(F=s._ripple)!=null&&F.circle?(p=.15,f=s.clientWidth/2,f=r.center?f:f+Math.sqrt((l-f)**2+(c-f)**2)/4):f=Math.sqrt(s.clientWidth**2+s.clientHeight**2)/2;const x=`${(s.clientWidth-f*2)/2}px`,w=`${(s.clientHeight-f*2)/2}px`,P=r.center?x:`${l-f}px`,C=r.center?w:`${c-f}px`;return{radius:f,scale:p,x:P,y:C,centerX:x,centerY:w}},Gg={show(t,s){var B;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((B=s==null?void 0:s._ripple)!=null&&B.enabled))return;const l=document.createElement("span"),c=document.createElement("span");l.appendChild(c),l.className="v-ripple__container",r.class&&(l.className+=` ${r.class}`);const{radius:f,scale:p,x,y:w,centerX:P,centerY:C}=f3(t,s,r),F=`${f*2}px`;c.className="v-ripple__animation",c.style.width=F,c.style.height=F,s.appendChild(l);const L=window.getComputedStyle(s);L&&L.position==="static"&&(s.style.position="relative",s.dataset.previousPosition="static"),c.classList.add("v-ripple__animation--enter"),c.classList.add("v-ripple__animation--visible"),Nk(c,`translate(${x}, ${w}) scale3d(${p},${p},${p})`),c.dataset.activated=String(performance.now()),setTimeout(()=>{c.classList.remove("v-ripple__animation--enter"),c.classList.add("v-ripple__animation--in"),Nk(c,`translate(${P}, ${C}) scale3d(1,1,1)`)},0)},hide(t){var f;if(!((f=t==null?void 0:t._ripple)!=null&&f.enabled))return;const s=t.getElementsByClassName("v-ripple__animation");if(s.length===0)return;const r=s[s.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const l=performance.now()-Number(r.dataset.activated),c=Math.max(250-l,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var x;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((x=r.parentNode)==null?void 0:x.parentNode)===t&&t.removeChild(r.parentNode)},300)},c)}};function LT(t){return typeof t>"u"||!!t}function Bf(t){const s={},r=t.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||t[Ax])){if(t[Ax]=!0,Tx(t))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(s.center=r._ripple.centered||NT(t),r._ripple.class&&(s.class=r._ripple.class),Tx(t)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{Gg.show(t,r,s)},r._ripple.showTimer=window.setTimeout(()=>{var l;(l=r==null?void 0:r._ripple)!=null&&l.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},d3)}else Gg.show(t,r,s)}}function Lk(t){t[Ax]=!0}function ua(t){const s=t.currentTarget;if(s!=null&&s._ripple){if(window.clearTimeout(s._ripple.showTimer),t.type==="touchend"&&s._ripple.showTimerCommit){s._ripple.showTimerCommit(),s._ripple.showTimerCommit=null,s._ripple.showTimer=window.setTimeout(()=>{ua(t)});return}window.setTimeout(()=>{s._ripple&&(s._ripple.touched=!1)}),Gg.hide(s)}}function IT(t){const s=t.currentTarget;s!=null&&s._ripple&&(s._ripple.showTimerCommit&&(s._ripple.showTimerCommit=null),window.clearTimeout(s._ripple.showTimer))}let Vf=!1;function OT(t){!Vf&&(t.keyCode===ok.enter||t.keyCode===ok.space)&&(Vf=!0,Bf(t))}function RT(t){Vf=!1,ua(t)}function BT(t){Vf&&(Vf=!1,ua(t))}function VT(t,s,r){const{value:l,modifiers:c}=s,f=LT(l);if(f||Gg.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=f,t._ripple.centered=c.center,t._ripple.circle=c.circle,mx(l)&&l.class&&(t._ripple.class=l.class),f&&!r){if(c.stop){t.addEventListener("touchstart",Lk,{passive:!0}),t.addEventListener("mousedown",Lk);return}t.addEventListener("touchstart",Bf,{passive:!0}),t.addEventListener("touchend",ua,{passive:!0}),t.addEventListener("touchmove",IT,{passive:!0}),t.addEventListener("touchcancel",ua),t.addEventListener("mousedown",Bf),t.addEventListener("mouseup",ua),t.addEventListener("mouseleave",ua),t.addEventListener("keydown",OT),t.addEventListener("keyup",RT),t.addEventListener("blur",BT),t.addEventListener("dragstart",ua,{passive:!0})}else!f&&r&&zT(t)}function zT(t){t.removeEventListener("mousedown",Bf),t.removeEventListener("touchstart",Bf),t.removeEventListener("touchend",ua),t.removeEventListener("touchmove",IT),t.removeEventListener("touchcancel",ua),t.removeEventListener("mouseup",ua),t.removeEventListener("mouseleave",ua),t.removeEventListener("keydown",OT),t.removeEventListener("keyup",RT),t.removeEventListener("dragstart",ua),t.removeEventListener("blur",BT)}function g3(t,s){VT(t,s,!1)}function m3(t){delete t._ripple,zT(t)}function p3(t,s){if(s.value===s.oldValue)return;const r=LT(s.oldValue);VT(t,s,r)}const Th={mounted:g3,unmounted:m3,updated:p3};function XT(t,s){const{self:r=!1}=s.modifiers??{},l=s.value,c=typeof l=="object"&&l.options||{passive:!0},f=typeof l=="function"||"handleEvent"in l?l:l.handler,p=r?t:s.arg?document.querySelector(s.arg):window;p&&(p.addEventListener("scroll",f,c),t._onScroll=Object(t._onScroll),t._onScroll[s.instance.$.uid]={handler:f,options:c,target:r?void 0:p})}function HT(t,s){var f;if(!((f=t._onScroll)!=null&&f[s.instance.$.uid]))return;const{handler:r,options:l,target:c=t}=t._onScroll[s.instance.$.uid];c.removeEventListener("scroll",r,l),delete t._onScroll[s.instance.$.uid]}function v3(t,s){s.value!==s.oldValue&&(HT(t,s),XT(t,s))}const x3={mounted:XT,unmounted:HT,updated:v3},y3=t=>{const{touchstartX:s,touchendX:r,touchstartY:l,touchendY:c}=t,f=.5,p=16;t.offsetX=r-s,t.offsetY=c-l,Math.abs(t.offsetY)<f*Math.abs(t.offsetX)&&(t.left&&r<s-p&&t.left(t),t.right&&r>s+p&&t.right(t)),Math.abs(t.offsetX)<f*Math.abs(t.offsetY)&&(t.up&&c<l-p&&t.up(t),t.down&&c>l+p&&t.down(t))};function b3(t,s){var l;const r=t.changedTouches[0];s.touchstartX=r.clientX,s.touchstartY=r.clientY,(l=s.start)==null||l.call(s,{originalEvent:t,...s})}function w3(t,s){var l;const r=t.changedTouches[0];s.touchendX=r.clientX,s.touchendY=r.clientY,(l=s.end)==null||l.call(s,{originalEvent:t,...s}),y3(s)}function k3(t,s){var l;const r=t.changedTouches[0];s.touchmoveX=r.clientX,s.touchmoveY=r.clientY,(l=s.move)==null||l.call(s,{originalEvent:t,...s})}function S3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:r=>b3(r,s),touchend:r=>w3(r,s),touchmove:r=>k3(r,s)}}function C3(t,s){var x;const r=s.value,l=r!=null&&r.parent?t.parentElement:t,c=(r==null?void 0:r.options)??{passive:!0},f=(x=s.instance)==null?void 0:x.$.uid;if(!l||!f)return;const p=S3(s.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[f]=p,ZA(p).forEach(w=>{l.addEventListener(w,p[w],c)})}function A3(t,s){var f,p;const r=(f=s.value)!=null&&f.parent?t.parentElement:t,l=(p=s.instance)==null?void 0:p.$.uid;if(!(r!=null&&r._touchHandlers)||!l)return;const c=r._touchHandlers[l];ZA(c).forEach(x=>{r.removeEventListener(x,c[x])}),delete r._touchHandlers[l]}const cy={mounted:C3,unmounted:A3},T3=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:MT,Intersect:_T,Mutate:h3,Resize:Al,Ripple:Th,Scroll:x3,Touch:cy},Symbol.toStringTag,{value:"Module"})),P3={class:"line-circle"},D3=["width","height"],M3={class:"circle"},E3=["width","height"],_3={class:"b-line-circle"},F3=["width","height"],N3={class:"b-circle"},L3=["width","height"],I3=yn({__name:"HomeLayout",setup(t){const s=ji({w:170,h:170}),{name:r}=Qr();function l(){switch(r.value){case"sm":s.w=150,s.h=150;return;case"xs":s.w=150,s.h=150;return}}return nn(()=>{let c=hs.timeline();const f={opacity:0,translateY:-10,duration:.4},p={opacity:0,translateY:200,duration:.4};c.from(".circle",f).from(".line-circle",f,"<0.2").from(".b-circle",p,"<1.6").from(".b-line-circle",p,"<0.2")}),(c,f)=>(fi(),Gi(bi,null,[ln(pt("div",null,null,512),[[Al,l]]),pt("span",P3,[pt("img",{src:Hw,width:s.w,height:s.h},null,8,D3)]),pt("span",M3,[pt("img",{src:Yw,width:s.w,height:s.h},null,8,E3)]),pt("span",_3,[pt("img",{src:Hw,width:s.w,height:s.h},null,8,F3)]),pt("span",N3,[pt("img",{src:Yw,width:s.w,height:s.h},null,8,L3)])],64))}});/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var YT="store";function qa(t){return t===void 0&&(t=null),Hi(t!==null?t:YT)}function fd(t,s){Object.keys(t).forEach(function(r){return s(t[r],r)})}function O3(t){return t!==null&&typeof t=="object"}function R3(t){return t&&typeof t.then=="function"}function B3(t,s){return function(){return t(s)}}function UT(t,s,r){return s.indexOf(t)<0&&(r&&r.prepend?s.unshift(t):s.push(t)),function(){var l=s.indexOf(t);l>-1&&s.splice(l,1)}}function WT(t,s){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;Vm(t,r,[],t._modules.root,!0),uy(t,r,s)}function uy(t,s,r){var l=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var c=t._wrappedGetters,f={};fd(c,function(p,x){f[x]=B3(p,t),Object.defineProperty(t.getters,x,{get:function(){return f[x]()},enumerable:!0})}),t._state=ji({data:s}),t.strict&&Y3(t),l&&r&&t._withCommit(function(){l.data=null})}function Vm(t,s,r,l,c){var f=!r.length,p=t._modules.getNamespace(r);if(l.namespaced&&(t._modulesNamespaceMap[p],t._modulesNamespaceMap[p]=l),!f&&!c){var x=dy(s,r.slice(0,-1)),w=r[r.length-1];t._withCommit(function(){x[w]=l.state})}var P=l.context=V3(t,p,r);l.forEachMutation(function(C,F){var L=p+F;z3(t,L,C,P)}),l.forEachAction(function(C,F){var L=C.root?F:p+F,B=C.handler||C;X3(t,L,B,P)}),l.forEachGetter(function(C,F){var L=p+F;H3(t,L,C,P)}),l.forEachChild(function(C,F){Vm(t,s,r.concat(F),C,c)})}function V3(t,s,r){var l=s==="",c={dispatch:l?t.dispatch:function(f,p,x){var w=jg(f,p,x),P=w.payload,C=w.options,F=w.type;return(!C||!C.root)&&(F=s+F),t.dispatch(F,P)},commit:l?t.commit:function(f,p,x){var w=jg(f,p,x),P=w.payload,C=w.options,F=w.type;(!C||!C.root)&&(F=s+F),t.commit(F,P,C)}};return Object.defineProperties(c,{getters:{get:l?function(){return t.getters}:function(){return GT(t,s)}},state:{get:function(){return dy(t.state,r)}}}),c}function GT(t,s){if(!t._makeLocalGettersCache[s]){var r={},l=s.length;Object.keys(t.getters).forEach(function(c){if(c.slice(0,l)===s){var f=c.slice(l);Object.defineProperty(r,f,{get:function(){return t.getters[c]},enumerable:!0})}}),t._makeLocalGettersCache[s]=r}return t._makeLocalGettersCache[s]}function z3(t,s,r,l){var c=t._mutations[s]||(t._mutations[s]=[]);c.push(function(p){r.call(t,l.state,p)})}function X3(t,s,r,l){var c=t._actions[s]||(t._actions[s]=[]);c.push(function(p){var x=r.call(t,{dispatch:l.dispatch,commit:l.commit,getters:l.getters,state:l.state,rootGetters:t.getters,rootState:t.state},p);return R3(x)||(x=Promise.resolve(x)),t._devtoolHook?x.catch(function(w){throw t._devtoolHook.emit("vuex:error",w),w}):x})}function H3(t,s,r,l){t._wrappedGetters[s]||(t._wrappedGetters[s]=function(f){return r(l.state,l.getters,f.state,f.getters)})}function Y3(t){ui(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function dy(t,s){return s.reduce(function(r,l){return r[l]},t)}function jg(t,s,r){return O3(t)&&t.type&&(r=s,s=t,t=t.type),{type:t,payload:s,options:r}}var U3="vuex bindings",Ik="vuex:mutations",cv="vuex:actions",hu="vuex",W3=0;function G3(t,s){BL({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[U3]},function(r){r.addTimelineLayer({id:Ik,label:"Vuex Mutations",color:Ok}),r.addTimelineLayer({id:cv,label:"Vuex Actions",color:Ok}),r.addInspector({id:hu,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(l){if(l.app===t&&l.inspectorId===hu)if(l.filter){var c=[];qT(c,s._modules.root,l.filter,""),l.rootNodes=c}else l.rootNodes=[KT(s._modules.root,"")]}),r.on.getInspectorState(function(l){if(l.app===t&&l.inspectorId===hu){var c=l.nodeId;GT(s,c),l.state=K3(Z3(s._modules,c),c==="root"?s.getters:s._makeLocalGettersCache,c)}}),r.on.editInspectorState(function(l){if(l.app===t&&l.inspectorId===hu){var c=l.nodeId,f=l.path;c!=="root"&&(f=c.split("/").filter(Boolean).concat(f)),s._withCommit(function(){l.set(s._state.data,f,l.state.value)})}}),s.subscribe(function(l,c){var f={};l.payload&&(f.payload=l.payload),f.state=c,r.notifyComponentUpdate(),r.sendInspectorTree(hu),r.sendInspectorState(hu),r.addTimelineEvent({layerId:Ik,event:{time:Date.now(),title:l.type,data:f}})}),s.subscribeAction({before:function(l,c){var f={};l.payload&&(f.payload=l.payload),l._id=W3++,l._time=Date.now(),f.state=c,r.addTimelineEvent({layerId:cv,event:{time:l._time,title:l.type,groupId:l._id,subtitle:"start",data:f}})},after:function(l,c){var f={},p=Date.now()-l._time;f.duration={_custom:{type:"duration",display:p+"ms",tooltip:"Action duration",value:p}},l.payload&&(f.payload=l.payload),f.state=c,r.addTimelineEvent({layerId:cv,event:{time:Date.now(),title:l.type,groupId:l._id,subtitle:"end",data:f}})}})})}var Ok=8702998,j3=6710886,$3=16777215,jT={label:"namespaced",textColor:$3,backgroundColor:j3};function $T(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function KT(t,s){return{id:s||"root",label:$T(s),tags:t.namespaced?[jT]:[],children:Object.keys(t._children).map(function(r){return KT(t._children[r],s+r+"/")})}}function qT(t,s,r,l){l.includes(r)&&t.push({id:l||"root",label:l.endsWith("/")?l.slice(0,l.length-1):l||"Root",tags:s.namespaced?[jT]:[]}),Object.keys(s._children).forEach(function(c){qT(t,s._children[c],r,l+c+"/")})}function K3(t,s,r){s=r==="root"?s:s[r];var l=Object.keys(s),c={state:Object.keys(t.state).map(function(p){return{key:p,editable:!0,value:t.state[p]}})};if(l.length){var f=q3(s);c.getters=Object.keys(f).map(function(p){return{key:p.endsWith("/")?$T(p):p,editable:!1,value:Px(function(){return f[p]})}})}return c}function q3(t){var s={};return Object.keys(t).forEach(function(r){var l=r.split("/");if(l.length>1){var c=s,f=l.pop();l.forEach(function(p){c[p]||(c[p]={_custom:{value:{},display:p,tooltip:"Module",abstract:!0}}),c=c[p]._custom.value}),c[f]=Px(function(){return t[r]})}else s[r]=Px(function(){return t[r]})}),s}function Z3(t,s){var r=s.split("/").filter(function(l){return l});return r.reduce(function(l,c,f){var p=l[c];if(!p)throw new Error('Missing module "'+c+'" for path "'+s+'".');return f===r.length-1?p:p._children},s==="root"?t:t.root._children)}function Px(t){try{return t()}catch(s){return s}}var wo=function(s,r){this.runtime=r,this._children=Object.create(null),this._rawModule=s;var l=s.state;this.state=(typeof l=="function"?l():l)||{}},ZT={namespaced:{configurable:!0}};ZT.namespaced.get=function(){return!!this._rawModule.namespaced};wo.prototype.addChild=function(s,r){this._children[s]=r};wo.prototype.removeChild=function(s){delete this._children[s]};wo.prototype.getChild=function(s){return this._children[s]};wo.prototype.hasChild=function(s){return s in this._children};wo.prototype.update=function(s){this._rawModule.namespaced=s.namespaced,s.actions&&(this._rawModule.actions=s.actions),s.mutations&&(this._rawModule.mutations=s.mutations),s.getters&&(this._rawModule.getters=s.getters)};wo.prototype.forEachChild=function(s){fd(this._children,s)};wo.prototype.forEachGetter=function(s){this._rawModule.getters&&fd(this._rawModule.getters,s)};wo.prototype.forEachAction=function(s){this._rawModule.actions&&fd(this._rawModule.actions,s)};wo.prototype.forEachMutation=function(s){this._rawModule.mutations&&fd(this._rawModule.mutations,s)};Object.defineProperties(wo.prototype,ZT);var Oc=function(s){this.register([],s,!1)};Oc.prototype.get=function(s){return s.reduce(function(r,l){return r.getChild(l)},this.root)};Oc.prototype.getNamespace=function(s){var r=this.root;return s.reduce(function(l,c){return r=r.getChild(c),l+(r.namespaced?c+"/":"")},"")};Oc.prototype.update=function(s){JT([],this.root,s)};Oc.prototype.register=function(s,r,l){var c=this;l===void 0&&(l=!0);var f=new wo(r,l);if(s.length===0)this.root=f;else{var p=this.get(s.slice(0,-1));p.addChild(s[s.length-1],f)}r.modules&&fd(r.modules,function(x,w){c.register(s.concat(w),x,l)})};Oc.prototype.unregister=function(s){var r=this.get(s.slice(0,-1)),l=s[s.length-1],c=r.getChild(l);c&&c.runtime&&r.removeChild(l)};Oc.prototype.isRegistered=function(s){var r=this.get(s.slice(0,-1)),l=s[s.length-1];return r?r.hasChild(l):!1};function JT(t,s,r){if(s.update(r),r.modules)for(var l in r.modules){if(!s.getChild(l))return;JT(t.concat(l),s.getChild(l),r.modules[l])}}function J3(t){return new ta(t)}var ta=function(s){var r=this;s===void 0&&(s={});var l=s.plugins;l===void 0&&(l=[]);var c=s.strict;c===void 0&&(c=!1);var f=s.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Oc(s),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=f;var p=this,x=this,w=x.dispatch,P=x.commit;this.dispatch=function(L,B){return w.call(p,L,B)},this.commit=function(L,B,U){return P.call(p,L,B,U)},this.strict=c;var C=this._modules.root.state;Vm(this,C,[],this._modules.root),uy(this,C),l.forEach(function(F){return F(r)})},fy={state:{configurable:!0}};ta.prototype.install=function(s,r){s.provide(r||YT,this),s.config.globalProperties.$store=this;var l=this._devtools!==void 0?this._devtools:!1;l&&G3(s,this)};fy.state.get=function(){return this._state.data};fy.state.set=function(t){};ta.prototype.commit=function(s,r,l){var c=this,f=jg(s,r,l),p=f.type,x=f.payload,w={type:p,payload:x},P=this._mutations[p];P&&(this._withCommit(function(){P.forEach(function(F){F(x)})}),this._subscribers.slice().forEach(function(C){return C(w,c.state)}))};ta.prototype.dispatch=function(s,r){var l=this,c=jg(s,r),f=c.type,p=c.payload,x={type:f,payload:p},w=this._actions[f];if(w){try{this._actionSubscribers.slice().filter(function(C){return C.before}).forEach(function(C){return C.before(x,l.state)})}catch{}var P=w.length>1?Promise.all(w.map(function(C){return C(p)})):w[0](p);return new Promise(function(C,F){P.then(function(L){try{l._actionSubscribers.filter(function(B){return B.after}).forEach(function(B){return B.after(x,l.state)})}catch{}C(L)},function(L){try{l._actionSubscribers.filter(function(B){return B.error}).forEach(function(B){return B.error(x,l.state,L)})}catch{}F(L)})})}};ta.prototype.subscribe=function(s,r){return UT(s,this._subscribers,r)};ta.prototype.subscribeAction=function(s,r){var l=typeof s=="function"?{before:s}:s;return UT(l,this._actionSubscribers,r)};ta.prototype.watch=function(s,r,l){var c=this;return ui(function(){return s(c.state,c.getters)},r,Object.assign({},l))};ta.prototype.replaceState=function(s){var r=this;this._withCommit(function(){r._state.data=s})};ta.prototype.registerModule=function(s,r,l){l===void 0&&(l={}),typeof s=="string"&&(s=[s]),this._modules.register(s,r),Vm(this,this.state,s,this._modules.get(s),l.preserveState),uy(this,this.state)};ta.prototype.unregisterModule=function(s){var r=this;typeof s=="string"&&(s=[s]),this._modules.unregister(s),this._withCommit(function(){var l=dy(r.state,s.slice(0,-1));delete l[s[s.length-1]]}),WT(this)};ta.prototype.hasModule=function(s){return typeof s=="string"&&(s=[s]),this._modules.isRegistered(s)};ta.prototype.hotUpdate=function(s){this._modules.update(s),WT(this,!0)};ta.prototype._withCommit=function(s){var r=this._committing;this._committing=!0,s(),this._committing=r};Object.defineProperties(ta.prototype,fy);const Q3=t=>(Nr("data-v-da7b31c9"),t=t(),Lr(),t),e4={class:"main-div"},t4=_c('<div class="title" data-v-da7b31c9><div class="hidden-div" data-v-da7b31c9><span class="front-end" data-v-da7b31c9>front-end</span></div><div class="hidden-div" data-v-da7b31c9><span class="developer" data-v-da7b31c9>developer</span></div></div><div class="info" data-v-da7b31c9><div class="hidden-div-title" data-v-da7b31c9><span class="min" data-v-da7b31c9>min</span></div><div class="hidden-div-title" data-v-da7b31c9><span class="kyung" data-v-da7b31c9>kyung&#39;s</span></div><div class="hidden-div-title" data-v-da7b31c9><span class="portfolio" data-v-da7b31c9>portfolio</span></div></div>',2),i4={class:"sub-info-div"},n4={class:"arrow-down-span"},s4=["width","height"],r4=Q3(()=>pt("span",{class:"sub-info see-more"},"If you see more...",-1)),a4=yn({__name:"Main",setup(t){let s=-70;const r=ji({w:190,h:63}),{name:l}=Qr();function c(){switch(l.value){case"sm":s=-30,r.w=80,r.h=30;return;case"xs":s=-30,r.w=80,r.h=30;return}}qa(),nn(()=>{f()});function f(){let P=hs.timeline();const C={translateY:80,duration:.4},F={translateY:100,duration:.4},L={opacity:0,translateX:-100,duration:.4},B={opacity:0,duration:.4},U={translateX:s,repeat:-1,yoyo:!0,duration:.4,ease:"Power1.easeInOut"};P.from(".title",{opacity:0,translateY:70},"<0.5"),P.from(".front-end",C,"0.6").from(".developer",C,"<0.2"),P.from(".min",F,"<0.2").from(".kyung",F,"<0.2").from(".portfolio",F,"<0.2"),P.from(".see-more",L,"<1.4"),P.from(".arrow-down-span",B,"<0.2").to(".arrow-img",U,">")}const p=it("");function x(P){const C="animate__animated animate__rubberBand";P===1&&(p.value=C),P===0&&(p.value="")}function w(){ys.push("/about")}return(P,C)=>(fi(),Gi(bi,null,[ln((fi(),Gi("div",e4,[t4,pt("div",i4,[pt("span",n4,[pt("img",{class:"arrow-img",src:HI,width:r.w,height:r.h},null,8,s4),pt("span",{class:Rn(["next",p.value]),onMouseover:C[0]||(C[0]=F=>x(1)),onMouseout:C[1]||(C[1]=F=>x(0)),onClick:C[2]||(C[2]=F=>w())},"NEXT",34)]),r4])])),[[Al,c]]),ae(I3)],64))}});const o4=xr(a4,[["__scopeId","data-v-da7b31c9"]]);var Dx={},l4={get exports(){return Dx},set exports(t){Dx=t}},Ss=l4.exports={},Lo,Io;function Mx(){throw new Error("setTimeout has not been defined")}function Ex(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Lo=setTimeout:Lo=Mx}catch{Lo=Mx}try{typeof clearTimeout=="function"?Io=clearTimeout:Io=Ex}catch{Io=Ex}})();function QT(t){if(Lo===setTimeout)return setTimeout(t,0);if((Lo===Mx||!Lo)&&setTimeout)return Lo=setTimeout,setTimeout(t,0);try{return Lo(t,0)}catch{try{return Lo.call(null,t,0)}catch{return Lo.call(this,t,0)}}}function h4(t){if(Io===clearTimeout)return clearTimeout(t);if((Io===Ex||!Io)&&clearTimeout)return Io=clearTimeout,clearTimeout(t);try{return Io(t)}catch{try{return Io.call(null,t)}catch{return Io.call(this,t)}}}var ll=[],Fu=!1,Jh,xg=-1;function c4(){!Fu||!Jh||(Fu=!1,Jh.length?ll=Jh.concat(ll):xg=-1,ll.length&&eP())}function eP(){if(!Fu){var t=QT(c4);Fu=!0;for(var s=ll.length;s;){for(Jh=ll,ll=[];++xg<s;)Jh&&Jh[xg].run();xg=-1,s=ll.length}Jh=null,Fu=!1,h4(t)}}Ss.nextTick=function(t){var s=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)s[r-1]=arguments[r];ll.push(new tP(t,s)),ll.length===1&&!Fu&&QT(eP)};function tP(t,s){this.fun=t,this.array=s}tP.prototype.run=function(){this.fun.apply(null,this.array)};Ss.title="browser";Ss.browser=!0;Ss.env={};Ss.argv=[];Ss.version="";Ss.versions={};function Tl(){}Ss.on=Tl;Ss.addListener=Tl;Ss.once=Tl;Ss.off=Tl;Ss.removeListener=Tl;Ss.removeAllListeners=Tl;Ss.emit=Tl;Ss.prependListener=Tl;Ss.prependOnceListener=Tl;Ss.listeners=function(t){return[]};Ss.binding=function(t){throw new Error("process.binding is not supported")};Ss.cwd=function(){return"/"};Ss.chdir=function(t){throw new Error("process.chdir is not supported")};Ss.umask=function(){return 0};const gy=Jr({name:"VCardActions",setup(t,s){let{slots:r}=s;return ks({VBtn:{variant:"text"}}),$t(()=>{var l;return ae("div",{class:"v-card-actions"},[(l=r.default)==null?void 0:l.call(r)])}),{}}});const u4=["x-small","small","default","large","x-large"],Pl=Ci({size:{type:[String,Number],default:"default"}},"size");function gd(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();return ny(()=>{let r,l;return Xg(u4,t.size)?r=`${s}--size-${t.size}`:t.size&&(l={width:ci(t.size),height:ci(t.size)}),{sizeClasses:r,sizeStyles:l}})}const Xi=Ci({tag:{type:String,default:"div"}},"tag");function my(t){return ny(()=>{const s=[],r={};return t.value.background&&(mk(t.value.background)?r.backgroundColor=t.value.background:s.push(`bg-${t.value.background}`)),t.value.text&&(mk(t.value.text)?(r.color=t.value.text,r.caretColor=t.value.text):s.push(`text-${t.value.text}`)),{colorClasses:s,colorStyles:r}})}function Er(t,s){const r=_e(()=>({text:jn(t)?t.value:s?t[s]:null})),{colorClasses:l,colorStyles:c}=my(r);return{textColorClasses:l,textColorStyles:c}}function ds(t,s){const r=_e(()=>({background:jn(t)?t.value:s?t[s]:null})),{colorClasses:l,colorStyles:c}=my(r);return{backgroundColorClasses:l,backgroundColorStyles:c}}const d4=Ci({color:String,start:Boolean,end:Boolean,icon:Ni,...Pl(),...Xi({tag:"i"}),...en()},"v-icon"),Bi=Lt()({name:"VIcon",props:d4(),setup(t,s){let{attrs:r,slots:l}=s,c;l.default&&(c=_e(()=>{var F,L;const C=(F=l.default)==null?void 0:F.call(l);if(C)return(L=C.filter(B=>B.type===uh&&B.children&&typeof B.children=="string")[0])==null?void 0:L.children}));const{themeClasses:f}=mn(t),{iconData:p}=BR(c||t),{sizeClasses:x}=gd(t),{textColorClasses:w,textColorStyles:P}=Er(Nt(t,"color"));return $t(()=>ae(p.value.component,{tag:t.tag,icon:p.value.icon,class:["v-icon","notranslate",f.value,x.value,w.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":t.start,"v-icon--end":t.end}],style:[x.value?void 0:{fontSize:ci(t.size),height:ci(t.size),width:ci(t.size)},P.value],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>{var C;return[(C=l.default)==null?void 0:C.call(l)]}})),{}}});const ko=Ci({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function So(t){return{dimensionStyles:_e(()=>({height:ci(t.height),maxHeight:ci(t.maxHeight),maxWidth:ci(t.maxWidth),minHeight:ci(t.minHeight),minWidth:ci(t.minWidth),width:ci(t.width)}))}}function f4(t){return{aspectStyles:_e(()=>{const s=Number(t.aspectRatio);return s?{paddingBottom:String(1/s*100)+"%"}:void 0})}}const iP=Lt()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...ko()},setup(t,s){let{slots:r}=s;const{aspectStyles:l}=f4(t),{dimensionStyles:c}=So(t);return $t(()=>{var f;return ae("div",{class:"v-responsive",style:c.value},[ae("div",{class:"v-responsive__sizer",style:l.value},null),(f=r.additional)==null?void 0:f.call(r),r.default&&ae("div",{class:["v-responsive__content",t.contentClass]},[r.default()])])}),{}}}),Dl=Ci({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Vo=(t,s)=>{let{slots:r}=s;const{transition:l,...c}=t,{component:f=Ga,...p}=typeof l=="object"?l:{};return Tr(f,ai(typeof l=="string"?{name:l}:p,c),r)},md=Lt()({name:"VImg",directives:{intersect:Bm},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...Dl()},emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,s){let{emit:r,slots:l}=s;const c=it(""),f=it(),p=it(t.eager?"loading":"idle"),x=it(),w=it(),P=_e(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),C=_e(()=>P.value.aspect||x.value/w.value||0);ui(()=>t.src,()=>{F(p.value!=="idle")}),ui(C,(oe,fe)=>{!oe&&fe&&f.value&&Q(f.value)}),a0(()=>F());function F(oe){if(!(t.eager&&oe)&&!(ly&&!oe&&!t.eager)){if(p.value="loading",P.value.lazySrc){const fe=new Image;fe.src=P.value.lazySrc,Q(fe,null)}P.value.src&&on(()=>{var fe,pe;if(r("loadstart",((fe=f.value)==null?void 0:fe.currentSrc)||P.value.src),(pe=f.value)!=null&&pe.complete){if(f.value.naturalWidth||B(),p.value==="error")return;C.value||Q(f.value,null),L()}else C.value||Q(f.value),U()})}}function L(){var oe;U(),p.value="loaded",r("load",((oe=f.value)==null?void 0:oe.currentSrc)||P.value.src)}function B(){var oe;p.value="error",r("error",((oe=f.value)==null?void 0:oe.currentSrc)||P.value.src)}function U(){const oe=f.value;oe&&(c.value=oe.currentSrc||oe.src)}let Y=-1;function Q(oe){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const pe=()=>{clearTimeout(Y);const{naturalHeight:Te,naturalWidth:De}=oe;Te||De?(x.value=De,w.value=Te):!oe.complete&&p.value==="loading"&&fe!=null?Y=window.setTimeout(pe,fe):(oe.currentSrc.endsWith(".svg")||oe.currentSrc.startsWith("data:image/svg+xml"))&&(x.value=1,w.value=1)};pe()}const N=_e(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),X=()=>{var pe;if(!P.value.src||p.value==="idle")return null;const oe=ae("img",{class:["v-img__img",N.value],src:P.value.src,srcset:P.value.srcset,alt:t.alt,sizes:t.sizes,ref:f,onLoad:L,onError:B},null),fe=(pe=l.sources)==null?void 0:pe.call(l);return ae(Vo,{transition:t.transition,appear:!0},{default:()=>[ln(fe?ae("picture",{class:"v-img__picture"},[fe,oe]):oe,[[Ka,p.value==="loaded"]])]})},W=()=>ae(Vo,{transition:t.transition},{default:()=>[P.value.lazySrc&&p.value!=="loaded"&&ae("img",{class:["v-img__img","v-img__img--preload",N.value],src:P.value.lazySrc,alt:t.alt},null)]}),he=()=>l.placeholder?ae(Vo,{transition:t.transition,appear:!0},{default:()=>[(p.value==="loading"||p.value==="error"&&!l.error)&&ae("div",{class:"v-img__placeholder"},[l.placeholder()])]}):null,K=()=>l.error?ae(Vo,{transition:t.transition,appear:!0},{default:()=>[p.value==="error"&&ae("div",{class:"v-img__error"},[l.error()])]}):null,le=()=>t.gradient?ae("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,G=it(!1);{const oe=ui(C,fe=>{fe&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{G.value=!0})}),oe())})}return $t(()=>ln(ae(iP,{class:["v-img",{"v-img--booting":!G.value}],style:{width:ci(t.width==="auto"?x.value:t.width)},aspectRatio:C.value,"aria-label":t.alt,role:t.alt?"img":void 0},{additional:()=>ae(bi,null,[ae(X,null,null),ae(W,null,null),ae(le,null,null),ae(he,null,null),ae(K,null,null)]),default:l.default}),[[Mr("intersect"),{handler:F,options:t.options},null,{once:!0}]])),{currentSrc:c,image:f,state:p,naturalWidth:x,naturalHeight:w}}}),g4=["elevated","flat","tonal","outlined","text","plain"];function Rc(t,s){return ae(bi,null,[t&&ae("span",{key:"overlay",class:`${s}__overlay`},null),ae("span",{key:"underlay",class:`${s}__underlay`},null)])}const Za=Ci({color:String,variant:{type:String,default:"elevated",validator:t=>g4.includes(t)}},"variant");function Bc(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();const r=_e(()=>{const{variant:f}=Ln(t);return`${s}--variant-${f}`}),{colorClasses:l,colorStyles:c}=my(_e(()=>{const{variant:f,color:p}=Ln(t);return{[["elevated","flat"].includes(f)?"background":"text"]:p}}));return{colorClasses:l,colorStyles:c,variantClasses:r}}const m4=[null,"default","comfortable","compact"],Os=Ci({density:{type:String,default:"default",validator:t=>m4.includes(t)}},"density");function br(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();return{densityClasses:_e(()=>`${s}--density-${t.density}`)}}const Yn=Ci({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function gs(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();return{roundedClasses:_e(()=>{const l=jn(t)?t.value:t.rounded,c=[];if(l===!0||l==="")c.push(`${s}--rounded`);else if(typeof l=="string"||l===0)for(const f of String(l).split(" "))c.push(`rounded-${f}`);return c})}}const p4=Ci({start:Boolean,end:Boolean,icon:Ni,image:String,...Os(),...Yn(),...Pl(),...Xi(),...en(),...Za({variant:"flat"})},"v-avatar"),vh=Lt()({name:"VAvatar",props:p4(),setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{colorClasses:c,colorStyles:f,variantClasses:p}=Bc(t),{densityClasses:x}=br(t),{roundedClasses:w}=gs(t),{sizeClasses:P,sizeStyles:C}=gd(t);return $t(()=>ae(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},l.value,c.value,x.value,w.value,P.value,p.value],style:[f.value,C.value]},{default:()=>{var F;return[t.image?ae(md,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ae(Bi,{key:"icon",icon:t.icon},null):(F=r.default)==null?void 0:F.call(r),Rc(!1,"v-avatar")]}})),{}}}),nP=bo("v-card-subtitle"),zm=bo("v-card-title"),Cn=Lt(!1)({name:"VDefaultsProvider",props:{defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},setup(t,s){let{slots:r}=s;const{defaults:l,disabled:c,reset:f,root:p,scoped:x}=wm(t);return ks(l,{reset:f,root:p,scoped:x,disabled:c}),()=>{var w;return(w=r.default)==null?void 0:w.call(r)}}}),sP=Lt()({name:"VCardItem",props:{appendAvatar:String,appendIcon:Ni,prependAvatar:String,prependIcon:Ni,subtitle:String,title:String,...Os()},setup(t,s){let{slots:r}=s;return $t(()=>{var P;const l=!!(t.prependAvatar||t.prependIcon),c=!!(l||r.prepend),f=!!(t.appendAvatar||t.appendIcon),p=!!(f||r.append),x=!!(t.title||r.title),w=!!(t.subtitle||r.subtitle);return ae("div",{class:"v-card-item"},[c&&ae("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?ae(Cn,{key:"prepend-defaults",disabled:!l,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},r.prepend):l&&ae(vh,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),ae("div",{class:"v-card-item__content"},[x&&ae(zm,{key:"title"},{default:()=>{var C;return[((C=r.title)==null?void 0:C.call(r))??t.title]}}),w&&ae(nP,{key:"subtitle"},{default:()=>{var C;return[((C=r.subtitle)==null?void 0:C.call(r))??t.subtitle]}}),(P=r.default)==null?void 0:P.call(r)]),p&&ae("div",{key:"append",class:"v-card-item__append"},[r.append?ae(Cn,{key:"append-defaults",disabled:!f,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},r.append):f&&ae(vh,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),Qu=bo("v-card-text");const Rk={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ph=Ci({location:String},"location");function Dh(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:l}=Cl();return{locationStyles:_e(()=>{if(!t.location)return{};const{side:f,align:p}=vx(t.location.split(" ").length>1?t.location:`${t.location} center`,l.value);function x(P){return r?r(P):0}const w={};return f!=="center"&&(s?w[Rk[f]]=`calc(100% - ${x(f)}px)`:w[f]=0),p!=="center"?s?w[Rk[p]]=`calc(100% - ${x(p)}px)`:w[p]=0:(f==="center"?w.top=w.left="50%":w[{top:"left",bottom:"left",left:"top",right:"top"}[f]]="50%",w.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[f]),w})}}function py(t){const s=it(),r=it(!1);if(ly){const l=new IntersectionObserver(c=>{t==null||t(c,l),r.value=!!c.find(f=>f.isIntersecting)});vr(()=>{l.disconnect()}),ui(s,(c,f)=>{f&&(l.unobserve(f),r.value=!1),c&&l.observe(c)},{flush:"post"})}return{intersectionRef:s,isIntersecting:r}}const vy=Lt()({name:"VProgressLinear",props:{absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ph({location:"top"}),...Yn(),...Xi(),...en()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{isRtl:c}=Cl(),{themeClasses:f}=mn(t),{locationStyles:p}=Dh(t),{textColorClasses:x,textColorStyles:w}=Er(t,"color"),{backgroundColorClasses:P,backgroundColorStyles:C}=ds(_e(()=>t.bgColor||t.color)),{backgroundColorClasses:F,backgroundColorStyles:L}=ds(t,"color"),{roundedClasses:B}=gs(t),{intersectionRef:U,isIntersecting:Y}=py(),Q=_e(()=>parseInt(t.max,10)),N=_e(()=>parseInt(t.height,10)),X=_e(()=>parseFloat(t.bufferValue)/Q.value*100),W=_e(()=>parseFloat(l.value)/Q.value*100),he=_e(()=>c.value!==t.reverse),K=_e(()=>t.indeterminate?"fade-transition":"slide-x-transition"),le=_e(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function G(oe){if(!U.value)return;const{left:fe,right:pe,width:Te}=U.value.getBoundingClientRect(),De=he.value?Te-oe.clientX+(pe-Te):oe.clientX-fe;l.value=Math.round(De/Te*Q.value)}return $t(()=>ae(t.tag,{ref:U,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&Y.value,"v-progress-linear--reverse":he.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},B.value,f.value],style:{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?ci(N.value):0,"--v-progress-linear-height":ci(N.value),...p.value},role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:W.value,onClick:t.clickable&&G},{default:()=>[t.stream&&ae("div",{key:"stream",class:["v-progress-linear__stream",x.value],style:{...w.value,[he.value?"left":"right"]:ci(-N.value),borderTop:`${ci(N.value/2)} dotted`,opacity:le.value,top:`calc(50% - ${ci(N.value/4)})`,width:ci(100-X.value,"%"),"--v-progress-linear-stream-to":ci(N.value*(he.value?1:-1))}},null),ae("div",{class:["v-progress-linear__background",P.value],style:[C.value,{opacity:le.value,width:ci(t.stream?X.value:100,"%")}]},null),ae(Ga,{name:K.value},{default:()=>[t.indeterminate?ae("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(oe=>ae("div",{key:oe,class:["v-progress-linear__indeterminate",oe,F.value],style:L.value},null))]):ae("div",{class:["v-progress-linear__determinate",F.value],style:[L.value,{width:ci(W.value,"%")}]},null)]}),r.default&&ae("div",{class:"v-progress-linear__content"},[r.default({value:W.value,buffer:X.value})])]})),{}}}),Xm=Ci({loading:[Boolean,String]},"loader");function l0(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();return{loaderClasses:_e(()=>({[`${s}--loading`]:t.loading}))}}function Hm(t,s){var l;let{slots:r}=s;return ae("div",{class:`${t.name}__loader`},[((l=r.default)==null?void 0:l.call(r,{color:t.color,isActive:t.active}))||ae(vy,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const ba=Ci({border:[Boolean,Number,String]},"border");function Ja(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();return{borderClasses:_e(()=>{const l=jn(t)?t.value:t.border,c=[];if(l===!0||l==="")c.push(`${s}--border`);else if(typeof l=="string"||l===0)for(const f of String(l).split(" "))c.push(`border-${f}`);return c})}}const Es=Ci({elevation:{type:[Number,String],validator(t){const s=parseInt(t);return!isNaN(s)&&s>=0&&s<=24}}},"elevation");function er(t){return{elevationClasses:_e(()=>{const r=jn(t)?t.value:t.elevation,l=[];return r==null||l.push(`elevation-${r}`),l})}}const v4=["static","relative","fixed","absolute","sticky"],pd=Ci({position:{type:String,validator:t=>v4.includes(t)}},"position");function vd(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();return{positionClasses:_e(()=>t.position?`${s}--${t.position}`:void 0)}}function rP(){var t,s;return(s=(t=Qs("useRouter"))==null?void 0:t.proxy)==null?void 0:s.$router}function h0(t,s){const r=M1("RouterLink"),l=_e(()=>!!(t.href||t.to)),c=_e(()=>(l==null?void 0:l.value)||uk(s,"click")||uk(t,"click"));if(typeof r=="string")return{isLink:l,isClickable:c,href:Nt(t,"href")};const f=t.to?r.useLink(t):void 0;return{isLink:l,isClickable:c,route:f==null?void 0:f.route,navigate:f==null?void 0:f.navigate,isActive:f&&_e(()=>{var p,x;return t.exact?(p=f.isExactActive)==null?void 0:p.value:(x=f.isActive)==null?void 0:x.value}),href:_e(()=>t.to?f==null?void 0:f.route.value.href:t.href)}}const c0=Ci({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let uv=!1;function x4(t,s){let r=!1,l,c;ws&&(on(()=>{window.addEventListener("popstate",f),l=t==null?void 0:t.beforeEach((p,x,w)=>{uv?r?s(w):w():setTimeout(()=>r?s(w):w()),uv=!0}),c=t==null?void 0:t.afterEach(()=>{uv=!1})}),$r(()=>{window.removeEventListener("popstate",f),l==null||l(),c==null||c()}));function f(p){var x;(x=p.state)!=null&&x.replaced||(r=!0,setTimeout(()=>r=!1))}}const xh=Lt()({name:"VCard",directives:{Ripple:Th},props:{appendAvatar:String,appendIcon:Ni,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ni,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...en(),...ba(),...Os(),...ko(),...Es(),...Xm(),...Ph(),...pd(),...Yn(),...c0(),...Xi(),...Za({variant:"elevated"})},setup(t,s){let{attrs:r,slots:l}=s;const{themeClasses:c}=mn(t),{borderClasses:f}=Ja(t),{colorClasses:p,colorStyles:x,variantClasses:w}=Bc(t),{densityClasses:P}=br(t),{dimensionStyles:C}=So(t),{elevationClasses:F}=er(t),{loaderClasses:L}=l0(t),{locationStyles:B}=Dh(t),{positionClasses:U}=vd(t),{roundedClasses:Y}=gs(t),Q=h0(t,r),N=_e(()=>t.link!==!1&&Q.isLink.value),X=_e(()=>!t.disabled&&t.link!==!1&&(t.link||Q.isClickable.value));return $t(()=>{const W=N.value?"a":t.tag,he=!!(l.title||t.title),K=!!(l.subtitle||t.subtitle),le=he||K,G=!!(l.append||t.appendAvatar||t.appendIcon),oe=!!(l.prepend||t.prependAvatar||t.prependIcon),fe=!!(l.image||t.image),pe=le||oe||G,Te=!!(l.text||t.text);return ln(ae(W,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":X.value},c.value,f.value,p.value,P.value,F.value,L.value,U.value,Y.value,w.value],style:[x.value,C.value,B.value],href:Q.href.value,onClick:X.value&&Q.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var De;return[fe&&ae("div",{key:"image",class:"v-card__image"},[l.image?ae(Cn,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},l.image):ae(md,{key:"image-img",cover:!0,src:t.image},null)]),ae(Hm,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:l.loader}),pe&&ae(sP,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:l.item,prepend:l.prepend,title:l.title,subtitle:l.subtitle,append:l.append}),Te&&ae(Qu,{key:"text"},{default:()=>{var Me;return[((Me=l.text)==null?void 0:Me.call(l))??t.text]}}),(De=l.default)==null?void 0:De.call(l),l.actions&&ae(gy,null,{default:l.actions}),Rc(X.value,"v-card")]}}),[[Mr("ripple"),X.value&&t.ripple]])}),{}}}),y4={class:"name-div"},b4=["onClick","onMouseover","onMouseout"],w4=yn({__name:"Menu",emits:["closeMenu"],setup(t,{emit:s}){const r=it("50px"),{name:l}=Qr();function c(){switch(l.value){case"sm":r.value="30px";return;case"xs":r.value="30px";return}}nn(()=>{Dx.nextTick(()=>{f(!0)})}),Mc(()=>{f(!1)});function f(U){U?(document.querySelector("#drawing_line").children[0].children[1].style.stroke="#fff",document.querySelector("#drawing_line").children[0].children[0].style.fill="#fff"):(document.querySelector("#drawing_line").children[0].children[1].style.stroke="#000",document.querySelector("#drawing_line").children[0].children[0].style.fill="#000")}const p=ji([{name:"",isClick:!1},{name:" ",isClick:!1},{name:" ",isClick:!1},{name:"",isClick:!1},{name:"",isClick:!0}]);let x=hs.timeline();function w(U){U===1?x.to(".close-icon",{rotation:360,transformOrigin:"50% 50%",repeat:-1,duration:1,ease:"Power2.easeInOut",stagger:.5,yoyo:!0}):(x.clear(),x.set(".close-icon",{rotation:0}))}const P=ji(["","","","",""]),C=ji(["","","","",""]);function F(U,Y){const Q="animate__animated animate__fadeInLeft opacity1",N="select-text";U===1?(P[Y]=Q,C[Y]=N):(P[Y]="",C[Y]="")}function L(U){U===0?ys.push("/"):U===1?ys.push("/about"):U===2?ys.push("/skill1"):U===3?ys.push("/career1"):U===4&&ys.push("/contact"),B()}function B(){s("closeMenu")}return(U,Y)=>ln((fi(),In(xh,{class:"menu-contents",width:"100%",height:"100%"},{default:Ut(()=>[pt("div",{class:"close",onClick:Y[0]||(Y[0]=Q=>B()),onMouseover:Y[1]||(Y[1]=Q=>w(1)),onMouseout:Y[2]||(Y[2]=Q=>w(0))},[ae(Bi,{class:"close-icon",size:r.value,color:"#fff"},{default:Ut(()=>[pi("mdi-close")]),_:1},8,["size"])],32),pt("div",y4,[(fi(!0),Gi(bi,null,cd(p,(Q,N)=>(fi(),Gi("div",{class:Rn(["name",C[N]]),onClick:X=>L(N),onMouseover:X=>F(1,N),onMouseout:X=>F(0,N)},[pi(sn(Q.name)+" ",1),pt("div",{class:Rn(["line",P[N]])},null,2)],42,b4))),256))])]),_:1})),[[Al,c]])}});const Mh=xr(w4,[["__scopeId","data-v-9086484c"]]);const aP=bo("v-alert-title");const oP=Ci({divided:Boolean,...ba(),...Os(),...Es(),...Yn(),...Xi(),...en(),...Za()},"v-btn-group"),_x=Lt()({name:"VBtnGroup",props:oP(),setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{densityClasses:c}=br(t),{borderClasses:f}=Ja(t),{elevationClasses:p}=er(t),{roundedClasses:x}=gs(t);ks({VBtn:{height:"auto",color:Nt(t,"color"),density:Nt(t,"density"),flat:!0,variant:Nt(t,"variant")}}),$t(()=>ae(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},l.value,f.value,c.value,p.value,x.value]},r))}}),xd=Ci({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),yd=Ci({value:null,disabled:Boolean,selectedClass:String},"group-item");function bd(t,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const l=Qs("useGroupItem");if(!l)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const c=yr();Tn(Symbol.for(`${s.description}:id`),c);const f=Hi(s,null);if(!f){if(!r)return f;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${s.description}`)}const p=Nt(t,"value"),x=_e(()=>f.disabled.value||t.disabled);f.register({id:c,value:p,disabled:x},l),vr(()=>{f.unregister(c)});const w=_e(()=>f.isSelected(c)),P=_e(()=>w.value&&[f.selectedClass.value,t.selectedClass]);return ui(w,C=>{l.emit("group:selected",{value:C})}),{id:c,isSelected:w,toggle:()=>f.select(c,!w.value),select:C=>f.select(c,C),selectedClass:P,value:p,disabled:x,group:f}}function Vc(t,s){let r=!1;const l=ji([]),c=Ei(t,"modelValue",[],L=>L==null?[]:lP(l,Ya(L)),L=>{const B=S4(l,L);return t.multiple?B:B[0]}),f=Qs("useGroup");function p(L,B){const U=L,Y=Symbol.for(`${s.description}:id`),N=lf(Y,f==null?void 0:f.vnode).indexOf(B);N>-1?l.splice(N,0,U):l.push(U)}function x(L){if(r)return;w();const B=l.findIndex(U=>U.id===L);l.splice(B,1)}function w(){const L=l.find(B=>!B.disabled);L&&t.mandatory==="force"&&!c.value.length&&(c.value=[L.id])}nn(()=>{w()}),vr(()=>{r=!0});function P(L,B){const U=l.find(Y=>Y.id===L);if(!(B&&(U!=null&&U.disabled)))if(t.multiple){const Y=c.value.slice(),Q=Y.findIndex(X=>X===L),N=~Q;if(B=B??!N,N&&t.mandatory&&Y.length<=1||!N&&t.max!=null&&Y.length+1>t.max)return;Q<0&&B?Y.push(L):Q>=0&&!B&&Y.splice(Q,1),c.value=Y}else{const Y=c.value.includes(L);if(t.mandatory&&Y)return;c.value=B??!Y?[L]:[]}}function C(L){if(t.multiple&&hc('This method is not supported when using "multiple" prop'),c.value.length){const B=c.value[0],U=l.findIndex(N=>N.id===B);let Y=(U+L)%l.length,Q=l[Y];for(;Q.disabled&&Y!==U;)Y=(Y+L)%l.length,Q=l[Y];if(Q.disabled)return;c.value=[l[Y].id]}else{const B=l.find(U=>!U.disabled);B&&(c.value=[B.id])}}const F={register:p,unregister:x,selected:c,select:P,disabled:Nt(t,"disabled"),prev:()=>C(l.length-1),next:()=>C(1),isSelected:L=>c.value.includes(L),selectedClass:_e(()=>t.selectedClass),items:_e(()=>l),getItemIndex:L=>k4(l,L)};return Tn(s,F),F}function k4(t,s){const r=lP(t,[s]);return r.length?t.findIndex(l=>l.id===r[0]):-1}function lP(t,s){const r=[];for(let l=0;l<t.length;l++){const c=t[l];c.value!=null?s.find(f=>Nc(f,c.value))!=null&&r.push(c.id):s.includes(l)&&r.push(c.id)}return r}function S4(t,s){const r=[];for(let l=0;l<t.length;l++){const c=t[l];s.includes(c.id)&&r.push(c.value!=null?c.value:l)}return r}const xy=Symbol.for("vuetify:v-btn-toggle"),C4=Lt()({name:"VBtnToggle",props:{...oP(),...xd()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{isSelected:l,next:c,prev:f,select:p,selected:x}=Vc(t,xy);return $t(()=>{const[w]=_x.filterProps(t);return ae(_x,ai({class:"v-btn-toggle"},w),{default:()=>{var P;return[(P=r.default)==null?void 0:P.call(r,{isSelected:l,next:c,prev:f,select:p,selected:x})]}})}),{next:c,prev:f,select:p}}});const yy=Lt()({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Pl(),...Xi({tag:"div"}),...en()},setup(t,s){let{slots:r}=s;const l=20,c=2*Math.PI*l,f=it(),{themeClasses:p}=mn(t),{sizeClasses:x,sizeStyles:w}=gd(t),{textColorClasses:P,textColorStyles:C}=Er(Nt(t,"color")),{textColorClasses:F,textColorStyles:L}=Er(Nt(t,"bgColor")),{intersectionRef:B,isIntersecting:U}=py(),{resizeRef:Y,contentRect:Q}=ph(),N=_e(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),X=_e(()=>Number(t.width)),W=_e(()=>w.value?Number(t.size):Q.value?Q.value.width:Math.max(X.value,32)),he=_e(()=>l/(1-X.value/W.value)*2),K=_e(()=>X.value/W.value*he.value),le=_e(()=>ci((100-N.value)/100*c));return Pr(()=>{B.value=f.value,Y.value=f.value}),$t(()=>ae(t.tag,{ref:f,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":U.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},p.value,x.value,P.value],style:[w.value,C.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:N.value},{default:()=>[ae("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${he.value} ${he.value}`},[ae("circle",{class:["v-progress-circular__underlay",F.value],style:L.value,fill:"transparent",cx:"50%",cy:"50%",r:l,"stroke-width":K.value,"stroke-dasharray":c,"stroke-dashoffset":0},null),ae("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:l,"stroke-width":K.value,"stroke-dasharray":c,"stroke-dashoffset":le.value},null)]),r.default&&ae("div",{class:"v-progress-circular__content"},[r.default({value:N.value})])]})),{}}});function A4(t,s){ui(()=>{var r;return(r=t.isActive)==null?void 0:r.value},r=>{t.isLink.value&&r&&s&&on(()=>{s(!0)})},{immediate:!0})}const hP=Ci({active:{type:Boolean,default:void 0},symbol:{type:null,default:xy},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ni,appendIcon:Ni,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...ba(),...Yn(),...Os(),...ko(),...Es(),...yd(),...Xm(),...Ph(),...pd(),...c0(),...Pl(),...Xi({tag:"button"}),...en(),...Za({variant:"elevated"})},"VBtn"),xn=Lt()({name:"VBtn",directives:{Ripple:Th},props:hP(),emits:{"group:selected":t=>!0},setup(t,s){let{attrs:r,slots:l}=s;const{themeClasses:c}=mn(t),{borderClasses:f}=Ja(t),{colorClasses:p,colorStyles:x,variantClasses:w}=Bc(t),{densityClasses:P}=br(t),{dimensionStyles:C}=So(t),{elevationClasses:F}=er(t),{loaderClasses:L}=l0(t),{locationStyles:B}=Dh(t),{positionClasses:U}=vd(t),{roundedClasses:Y}=gs(t),{sizeClasses:Q,sizeStyles:N}=gd(t),X=bd(t,t.symbol,!1),W=h0(t,r),he=_e(()=>{var oe;return t.active!==void 0?t.active:W.isLink.value?(oe=W.isActive)==null?void 0:oe.value:X==null?void 0:X.isSelected.value}),K=_e(()=>(X==null?void 0:X.disabled.value)||t.disabled),le=_e(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),G=_e(()=>{if(t.value!==void 0)return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});return A4(W,X==null?void 0:X.select),$t(()=>{var Me,He;const oe=W.isLink.value?"a":t.tag,fe=!!(t.prependIcon||l.prepend),pe=!!(t.appendIcon||l.append),Te=!!(t.icon&&t.icon!==!0),De=(X==null?void 0:X.isSelected.value)&&(!W.isLink.value||((Me=W.isActive)==null?void 0:Me.value))||!X||((He=W.isActive)==null?void 0:He.value);return ln(ae(oe,{type:oe==="a"?void 0:"button",class:["v-btn",X==null?void 0:X.selectedClass.value,{"v-btn--active":he.value,"v-btn--block":t.block,"v-btn--disabled":K.value,"v-btn--elevated":le.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},c.value,f.value,De?p.value:void 0,P.value,F.value,L.value,U.value,Y.value,Q.value,w.value],style:[De?x.value:void 0,C.value,B.value,N.value],disabled:K.value||void 0,href:W.href.value,onClick:je=>{var tt;K.value||((tt=W.navigate)==null||tt.call(W,je),X==null||X.toggle())},value:G.value},{default:()=>{var je;return[Rc(!0,"v-btn"),!t.icon&&fe&&ae("span",{key:"prepend",class:"v-btn__prepend"},[l.prepend?ae(Cn,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},l.prepend):ae(Bi,{key:"prepend-icon",icon:t.prependIcon},null)]),ae("span",{class:"v-btn__content","data-no-activator":""},[!l.default&&Te?ae(Bi,{key:"content-icon",icon:t.icon},null):ae(Cn,{key:"content-defaults",disabled:!Te,defaults:{VIcon:{icon:t.icon}}},l.default)]),!t.icon&&pe&&ae("span",{key:"append",class:"v-btn__append"},[l.append?ae(Cn,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},l.append):ae(Bi,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&ae("span",{key:"loader",class:"v-btn__loader"},[((je=l.loader)==null?void 0:je.call(l))??ae(yy,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Mr("ripple"),!K.value&&t.ripple,null]])}),{}}}),T4=["success","info","warning","error"],by=Lt()({name:"VAlert",props:{border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ni,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>T4.includes(t)},...Os(),...ko(),...Es(),...Ph(),...pd(),...Yn(),...Xi(),...en(),...Za({variant:"flat"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{emit:r,slots:l}=s;const c=Ei(t,"modelValue"),f=_e(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),p=_e(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:x}=mn(t),{colorClasses:w,colorStyles:P,variantClasses:C}=Bc(p),{densityClasses:F}=br(t),{dimensionStyles:L}=So(t),{elevationClasses:B}=er(t),{locationStyles:U}=Dh(t),{positionClasses:Y}=vd(t),{roundedClasses:Q}=gs(t),{textColorClasses:N,textColorStyles:X}=Er(Nt(t,"borderColor")),{t:W}=ea(),he=_e(()=>({"aria-label":W(t.closeLabel),onClick(K){c.value=!1,r("click:close",K)}}));return()=>{const K=!!(l.prepend||f.value),le=!!(l.title||t.title),G=!!(t.text||l.text),oe=!!(l.close||t.closable);return c.value&&ae(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},x.value,w.value,F.value,B.value,Y.value,Q.value,C.value],style:[P.value,L.value,U.value],role:"alert"},{default:()=>{var fe,pe;return[Rc(!1,"v-alert"),t.border&&ae("div",{key:"border",class:["v-alert__border",N.value],style:X.value},null),K&&ae("div",{key:"prepend",class:"v-alert__prepend"},[l.prepend?ae(Cn,{key:"prepend-defaults",disabled:!f.value,defaults:{VIcon:{density:t.density,icon:f.value,size:t.prominent?44:28}}},l.prepend):ae(Bi,{key:"prepend-icon",density:t.density,icon:f.value,size:t.prominent?44:28},null)]),ae("div",{class:"v-alert__content"},[le&&ae(aP,{key:"title"},{default:()=>{var Te;return[((Te=l.title)==null?void 0:Te.call(l))??t.title]}}),G&&(((fe=l.text)==null?void 0:fe.call(l))??t.text),(pe=l.default)==null?void 0:pe.call(l)]),l.append&&ae("div",{key:"append",class:"v-alert__append"},[l.append()]),oe&&ae("div",{key:"close",class:"v-alert__close"},[l.close?ae(Cn,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Te;return[(Te=l.close)==null?void 0:Te.call(l,{props:he.value})]}}):ae(xn,ai({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},he.value),null)])]}})}}});const cP=Symbol.for("vuetify:v-chip-group"),P4=Lt()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Nc},...xd({selectedClass:"v-chip--selected"}),...Xi(),...en(),...Za({variant:"tonal"})},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{isSelected:c,select:f,next:p,prev:x,selected:w}=Vc(t,cP);return ks({VChip:{color:Nt(t,"color"),disabled:Nt(t,"disabled"),filter:Nt(t,"filter"),variant:Nt(t,"variant")}}),$t(()=>ae(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},l.value]},{default:()=>{var P;return[(P=r.default)==null?void 0:P.call(r,{isSelected:c,select:f,next:p,prev:x,selected:w.value})]}})),{}}});function wa(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center center",r=arguments.length>2?arguments[2]:void 0;return Lt()({name:t,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:r},origin:{type:String,default:s}},setup(l,c){let{slots:f}=c;return()=>{const p=l.group?DC:Ga;return Tr(p,{name:t,mode:l.mode,onBeforeEnter(x){x.style.transformOrigin=l.origin},onLeave(x){if(l.leaveAbsolute){const{offsetTop:w,offsetLeft:P,offsetWidth:C,offsetHeight:F}=x;x._transitionInitialStyles={position:x.style.position,top:x.style.top,left:x.style.left,width:x.style.width,height:x.style.height},x.style.position="absolute",x.style.top=`${w}px`,x.style.left=`${P}px`,x.style.width=`${C}px`,x.style.height=`${F}px`}l.hideOnLeave&&x.style.setProperty("display","none","important")},onAfterLeave(x){if(l.leaveAbsolute&&(x!=null&&x._transitionInitialStyles)){const{position:w,top:P,left:C,width:F,height:L}=x._transitionInitialStyles;delete x._transitionInitialStyles,x.style.position=w||"",x.style.top=P||"",x.style.left=C||"",x.style.width=F||"",x.style.height=L||""}}},f.default)}}})}function uP(t,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Lt()({name:t,props:{mode:{type:String,default:r}},setup(l,c){let{slots:f}=c;return()=>Tr(Ga,{name:t,...s},f.default)}})}function dP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",l=ur(`offset-${r}`);return{onBeforeEnter(p){p._parent=p.parentNode,p._initialStyle={transition:p.style.transition,overflow:p.style.overflow,[r]:p.style[r]}},onEnter(p){const x=p._initialStyle;p.style.setProperty("transition","none","important"),p.style.overflow="hidden";const w=`${p[l]}px`;p.style[r]="0",p.offsetHeight,p.style.transition=x.transition,t&&p._parent&&p._parent.classList.add(t),requestAnimationFrame(()=>{p.style[r]=w})},onAfterEnter:f,onEnterCancelled:f,onLeave(p){p._initialStyle={transition:"",overflow:p.style.overflow,[r]:p.style[r]},p.style.overflow="hidden",p.style[r]=`${p[l]}px`,p.offsetHeight,requestAnimationFrame(()=>p.style[r]="0")},onAfterLeave:c,onLeaveCancelled:c};function c(p){t&&p._parent&&p._parent.classList.remove(t),f(p)}function f(p){const x=p._initialStyle[r];p.style.overflow=p._initialStyle.overflow,x!=null&&(p.style[r]=x),delete p._initialStyle}}const Ym=Lt()({name:"VDialogTransition",props:{target:Object},setup(t,s){let{slots:r}=s;const l={onBeforeEnter(c){c.style.pointerEvents="none",c.style.visibility="hidden"},async onEnter(c,f){var L;await new Promise(B=>requestAnimationFrame(B)),await new Promise(B=>requestAnimationFrame(B)),c.style.visibility="";const{x:p,y:x,sx:w,sy:P,speed:C}=Vk(t.target,c),F=qh(c,[{transform:`translate(${p}px, ${x}px) scale(${w}, ${P})`,opacity:0},{}],{duration:225*C,easing:DR});(L=Bk(c))==null||L.forEach(B=>{qh(B,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*C,easing:If})}),F.finished.then(()=>f())},onAfterEnter(c){c.style.removeProperty("pointer-events")},onBeforeLeave(c){c.style.pointerEvents="none"},async onLeave(c,f){var L;await new Promise(B=>requestAnimationFrame(B));const{x:p,y:x,sx:w,sy:P,speed:C}=Vk(t.target,c);qh(c,[{},{transform:`translate(${p}px, ${x}px) scale(${w}, ${P})`,opacity:0}],{duration:125*C,easing:MR}).finished.then(()=>f()),(L=Bk(c))==null||L.forEach(B=>{qh(B,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*C,easing:If})})},onAfterLeave(c){c.style.removeProperty("pointer-events")}};return()=>t.target?ae(Ga,ai({name:"dialog-transition"},l,{css:!1}),r):ae(Ga,{name:"dialog-transition"},r)}});function Bk(t){var r;const s=(r=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return s&&[...s]}function Vk(t,s){const r=t.getBoundingClientRect(),l=sy(s),[c,f]=getComputedStyle(s).transformOrigin.split(" ").map(N=>parseFloat(N)),[p,x]=getComputedStyle(s).getPropertyValue("--v-overlay-anchor-origin").split(" ");let w=r.left+r.width/2;p==="left"||x==="left"?w-=r.width/2:(p==="right"||x==="right")&&(w+=r.width/2);let P=r.top+r.height/2;p==="top"||x==="top"?P-=r.height/2:(p==="bottom"||x==="bottom")&&(P+=r.height/2);const C=r.width/l.width,F=r.height/l.height,L=Math.max(1,C,F),B=C/L||0,U=F/L||0,Y=l.width*l.height/(window.innerWidth*window.innerHeight),Q=Y>.12?Math.min(1.5,(Y-.12)*10+1):1;return{x:w-(c+l.left),y:P-(f+l.top),sx:B,sy:U,speed:Q}}const D4=wa("fab-transition","center center","out-in"),M4=wa("dialog-bottom-transition"),E4=wa("dialog-top-transition"),Fx=wa("fade-transition"),fP=wa("scale-transition"),_4=wa("scroll-x-transition"),F4=wa("scroll-x-reverse-transition"),N4=wa("scroll-y-transition"),L4=wa("scroll-y-reverse-transition"),I4=wa("slide-x-transition"),O4=wa("slide-x-reverse-transition"),wy=wa("slide-y-transition"),R4=wa("slide-y-reverse-transition"),_r=uP("expand-transition",dP()),ky=uP("expand-x-transition",dP("",!0)),zc=Lt()({name:"VChip",directives:{Ripple:Th},props:{activeClass:String,appendAvatar:String,appendIcon:Ni,closable:Boolean,closeIcon:{type:Ni,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ni,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ul,onClickOnce:ul,...ba(),...Os(),...Es(),...yd(),...Yn(),...c0(),...Pl(),...Xi({tag:"span"}),...en(),...Za({variant:"tonal"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,s){let{attrs:r,emit:l,slots:c}=s;const{t:f}=ea(),{borderClasses:p}=Ja(t),{colorClasses:x,colorStyles:w,variantClasses:P}=Bc(t),{densityClasses:C}=br(t),{elevationClasses:F}=er(t),{roundedClasses:L}=gs(t),{sizeClasses:B}=gd(t),{themeClasses:U}=mn(t),Y=Ei(t,"modelValue"),Q=bd(t,cP,!1),N=h0(t,r),X=_e(()=>t.link!==!1&&N.isLink.value),W=_e(()=>!t.disabled&&t.link!==!1&&(!!Q||t.link||N.isClickable.value)),he=_e(()=>({"aria-label":f(t.closeLabel),onClick(G){Y.value=!1,l("click:close",G)}}));function K(G){var oe;l("click",G),W.value&&((oe=N.navigate)==null||oe.call(N,G),Q==null||Q.toggle())}function le(G){(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),K(G))}return()=>{const G=N.isLink.value?"a":t.tag,oe=!!(t.appendIcon||t.appendAvatar),fe=!!(oe||c.append),pe=!!(c.close||t.closable),Te=!!(c.filter||t.filter)&&Q,De=!!(t.prependIcon||t.prependAvatar),Me=!!(De||c.prepend),He=!Q||Q.isSelected.value;return Y.value&&ln(ae(G,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":W.value,"v-chip--filter":Te,"v-chip--pill":t.pill},U.value,p.value,He?x.value:void 0,C.value,F.value,L.value,B.value,P.value,Q==null?void 0:Q.selectedClass.value],style:[He?w.value:void 0],disabled:t.disabled||void 0,draggable:t.draggable,href:N.href.value,tabindex:W.value?0:void 0,onClick:K,onKeydown:W.value&&!X.value&&le},{default:()=>{var je;return[Rc(W.value,"v-chip"),Te&&ae(ky,{key:"filter"},{default:()=>[ln(ae("div",{class:"v-chip__filter"},[c.filter?ln(ae(Cn,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},null),[[Mr("slot"),c.filter,"default"]]):ae(Bi,{key:"filter-icon",icon:t.filterIcon},null)]),[[Ka,Q.isSelected.value]])]}),Me&&ae("div",{key:"prepend",class:"v-chip__prepend"},[c.prepend?ae(Cn,{key:"prepend-defaults",disabled:!De,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},c.prepend):ae(bi,null,[t.prependIcon&&ae(Bi,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ae(vh,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),((je=c.default)==null?void 0:je.call(c,{isSelected:Q==null?void 0:Q.isSelected.value,selectedClass:Q==null?void 0:Q.selectedClass.value,select:Q==null?void 0:Q.select,toggle:Q==null?void 0:Q.toggle,value:Q==null?void 0:Q.value.value,disabled:t.disabled}))??t.text,fe&&ae("div",{key:"append",class:"v-chip__append"},[c.append?ae(Cn,{key:"append-defaults",disabled:!oe,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},c.append):ae(bi,null,[t.appendIcon&&ae(Bi,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ae(vh,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),pe&&ae("div",ai({key:"close",class:"v-chip__close"},he.value),[c.close?ae(Cn,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},c.close):ae(Bi,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Mr("ripple"),W.value&&t.ripple,null]])}}});const u0=Lt()({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...Xi()},setup(t,s){let{slots:r}=s;return $t(()=>ae(t.tag,{class:["v-container",{"v-container--fluid":t.fluid}]},r)),{}}}),gP=(()=>Om.reduce((t,s)=>(t[s]={type:[Boolean,String,Number],default:!1},t),{}))(),mP=(()=>Om.reduce((t,s)=>{const r="offset"+Go(s);return t[r]={type:[String,Number],default:null},t},{}))(),pP=(()=>Om.reduce((t,s)=>{const r="order"+Go(s);return t[r]={type:[String,Number],default:null},t},{}))(),zk={col:Object.keys(gP),offset:Object.keys(mP),order:Object.keys(pP)};function B4(t,s,r){let l=t;if(!(r==null||r===!1)){if(s){const c=s.replace(t,"");l+=`-${c}`}return t==="col"&&(l="v-"+l),t==="col"&&(r===""||r===!0)||(l+=`-${r}`),l.toLowerCase()}}const V4=["auto","start","end","center","baseline","stretch"],Ho=Lt()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...gP,offset:{type:[String,Number],default:null},...mP,order:{type:[String,Number],default:null},...pP,alignSelf:{type:String,default:null,validator:t=>V4.includes(t)},...Xi()},setup(t,s){let{slots:r}=s;const l=_e(()=>{const c=[];let f;for(f in zk)zk[f].forEach(x=>{const w=t[x],P=B4(f,x,w);P&&c.push(P)});const p=c.some(x=>x.startsWith("v-col-"));return c.push({"v-col":!p||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),c});return()=>{var c;return Tr(t.tag,{class:l.value},(c=r.default)==null?void 0:c.call(r))}}}),Sy=["start","end","center"],vP=["space-between","space-around","space-evenly"];function Cy(t,s){return Om.reduce((r,l)=>{const c=t+Go(l);return r[c]=s(),r},{})}const z4=[...Sy,"baseline","stretch"],xP=t=>z4.includes(t),yP=Cy("align",()=>({type:String,default:null,validator:xP})),X4=[...Sy,...vP],bP=t=>X4.includes(t),wP=Cy("justify",()=>({type:String,default:null,validator:bP})),H4=[...Sy,...vP,"stretch"],kP=t=>H4.includes(t),SP=Cy("alignContent",()=>({type:String,default:null,validator:kP})),Xk={align:Object.keys(yP),justify:Object.keys(wP),alignContent:Object.keys(SP)},Y4={align:"align",justify:"justify",alignContent:"align-content"};function U4(t,s,r){let l=Y4[t];if(r!=null){if(s){const c=s.replace(t,"");l+=`-${c}`}return l+=`-${r}`,l.toLowerCase()}}const yh=Lt()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:xP},...yP,justify:{type:String,default:null,validator:bP},...wP,alignContent:{type:String,default:null,validator:kP},...SP,...Xi()},setup(t,s){let{slots:r}=s;const l=_e(()=>{const c=[];let f;for(f in Xk)Xk[f].forEach(p=>{const x=t[p],w=U4(f,p,x);w&&c.push(w)});return c.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),c});return()=>{var c;return Tr(t.tag,{class:["v-row",l.value]},(c=r.default)==null?void 0:c.call(r))}}}),Ay=bo("flex-grow-1","div","VSpacer");const Ty=Lt()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...en()},setup(t,s){let{attrs:r}=s;const{themeClasses:l}=mn(t),{textColorClasses:c,textColorStyles:f}=Er(Nt(t,"color")),p=_e(()=>{const x={};return t.length&&(x[t.vertical?"maxHeight":"maxWidth"]=ci(t.length)),t.thickness&&(x[t.vertical?"borderRightWidth":"borderTopWidth"]=ci(t.thickness)),x});return $t(()=>ae("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},l.value,c.value],style:[p.value,f.value],"aria-orientation":!r.role||r.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),Nx=Symbol.for("vuetify:list");function CP(){const t=Hi(Nx,{hasPrepend:it(!1),updateHasPrepend:()=>null}),s={hasPrepend:it(!1),updateHasPrepend:r=>{r&&(s.hasPrepend.value=r)}};return Tn(Nx,s),t}function AP(){return Hi(Nx,null)}const W4={open:t=>{let{id:s,value:r,opened:l,parents:c}=t;if(r){const f=new Set;f.add(s);let p=c.get(s);for(;p!=null;)f.add(p),p=c.get(p);return f}else return l.delete(s),l},select:()=>null},TP={open:t=>{let{id:s,value:r,opened:l,parents:c}=t;if(r){let f=c.get(s);for(l.add(s);f!=null&&f!==s;)l.add(f),f=c.get(f);return l}else l.delete(s);return l},select:()=>null},G4={open:TP.open,select:t=>{let{id:s,value:r,opened:l,parents:c}=t;if(!r)return l;const f=[];let p=c.get(s);for(;p!=null;)f.push(p),p=c.get(p);return new Set(f)}},Py=t=>{const s={select:r=>{let{id:l,value:c,selected:f}=r;if(l=Di(l),t&&!c){const p=Array.from(f.entries()).reduce((x,w)=>{let[P,C]=w;return C==="on"?[...x,P]:x},[]);if(p.length===1&&p[0]===l)return f}return f.set(l,c?"on":"off"),f},in:(r,l,c)=>{let f=new Map;for(const p of r||[])f=s.select({id:p,value:!0,selected:new Map(f),children:l,parents:c});return f},out:r=>{const l=[];for(const[c,f]of r.entries())f==="on"&&l.push(c);return l}};return s},PP=t=>{const s=Py(t);return{select:l=>{let{selected:c,id:f,...p}=l;f=Di(f);const x=c.has(f)?new Map([[f,c.get(f)]]):new Map;return s.select({...p,id:f,selected:x})},in:(l,c,f)=>{let p=new Map;return l!=null&&l.length&&(p=s.in(l.slice(0,1),c,f)),p},out:(l,c,f)=>s.out(l,c,f)}},j4=t=>{const s=Py(t);return{select:l=>{let{id:c,selected:f,children:p,...x}=l;return c=Di(c),p.has(c)?f:s.select({id:c,selected:f,children:p,...x})},in:s.in,out:s.out}},$4=t=>{const s=PP(t);return{select:l=>{let{id:c,selected:f,children:p,...x}=l;return c=Di(c),p.has(c)?f:s.select({id:c,selected:f,children:p,...x})},in:s.in,out:s.out}},K4=t=>{const s={select:r=>{let{id:l,value:c,selected:f,children:p,parents:x}=r;l=Di(l);const w=new Map(f),P=[l];for(;P.length;){const F=P.shift();f.set(F,c?"on":"off"),p.has(F)&&P.push(...p.get(F))}let C=x.get(l);for(;C;){const F=p.get(C),L=F.every(U=>f.get(U)==="on"),B=F.every(U=>!f.has(U)||f.get(U)==="off");f.set(C,L?"on":B?"off":"indeterminate"),C=x.get(C)}return t&&!c&&Array.from(f.entries()).reduce((L,B)=>{let[U,Y]=B;return Y==="on"?[...L,U]:L},[]).length===0?w:f},in:(r,l,c)=>{let f=new Map;for(const p of r||[])f=s.select({id:p,value:!0,selected:new Map(f),children:l,parents:c});return f},out:(r,l)=>{const c=[];for(const[f,p]of r.entries())p==="on"&&!l.has(f)&&c.push(f);return c}};return s},zf=Symbol.for("vuetify:nested"),DP={id:it(),root:{register:()=>null,unregister:()=>null,parents:it(new Map),children:it(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:it(new Set),selected:it(new Map),selectedValues:it([])}},q4=Ci({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Z4=t=>{let s=!1;const r=it(new Map),l=it(new Map),c=Ei(t,"opened",t.opened,F=>new Set(F),F=>[...F.values()]),f=_e(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return $4(t.mandatory);case"leaf":return j4(t.mandatory);case"independent":return Py(t.mandatory);case"single-independent":return PP(t.mandatory);case"classic":default:return K4(t.mandatory)}}),p=_e(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return G4;case"single":return W4;case"multiple":default:return TP}}),x=Ei(t,"selected",t.selected,F=>f.value.in(F,r.value,l.value),F=>f.value.out(F,r.value,l.value));vr(()=>{s=!0});function w(F){const L=[];let B=F;for(;B!=null;)L.unshift(B),B=l.value.get(B);return L}const P=Qs("nested"),C={id:it(),root:{opened:c,selected:x,selectedValues:_e(()=>{const F=[];for(const[L,B]of x.value.entries())B==="on"&&F.push(L);return F}),register:(F,L,B)=>{L&&F!==L&&l.value.set(F,L),B&&r.value.set(F,[]),L!=null&&r.value.set(L,[...r.value.get(L)||[],F])},unregister:F=>{if(s)return;r.value.delete(F);const L=l.value.get(F);if(L){const B=r.value.get(L)??[];r.value.set(L,B.filter(U=>U!==F))}l.value.delete(F),c.value.delete(F)},open:(F,L,B)=>{P.emit("click:open",{id:F,value:L,path:w(F),event:B});const U=p.value.open({id:F,value:L,opened:new Set(c.value),children:r.value,parents:l.value,event:B});U&&(c.value=U)},openOnSelect:(F,L,B)=>{const U=p.value.select({id:F,value:L,selected:new Map(x.value),opened:new Set(c.value),children:r.value,parents:l.value,event:B});U&&(c.value=U)},select:(F,L,B)=>{P.emit("click:select",{id:F,value:L,path:w(F),event:B});const U=f.value.select({id:F,value:L,selected:new Map(x.value),children:r.value,parents:l.value,event:B});U&&(x.value=U),C.root.openOnSelect(F,L,B)},children:r,parents:l}};return Tn(zf,C),C.root},MP=(t,s)=>{const r=Hi(zf,DP),l=Symbol(yr()),c=_e(()=>t.value??l),f={...r,id:c,open:(p,x)=>r.root.open(c.value,p,x),openOnSelect:(p,x)=>r.root.openOnSelect(c.value,p,x),isOpen:_e(()=>r.root.opened.value.has(c.value)),parent:_e(()=>r.root.parents.value.get(c.value)),select:(p,x)=>r.root.select(c.value,p,x),isSelected:_e(()=>r.root.selected.value.get(Di(c.value))==="on"),isIndeterminate:_e(()=>r.root.selected.value.get(c.value)==="indeterminate"),isLeaf:_e(()=>!r.root.children.value.get(c.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(c.value,r.id.value,s),vr(()=>{!r.isGroupActivator&&r.root.unregister(c.value)}),s&&Tn(zf,f),f},J4=()=>{const t=Hi(zf,DP);Tn(zf,{...t,isGroupActivator:!0})},Q4=Jr({name:"VListGroupActivator",setup(t,s){let{slots:r}=s;return J4(),()=>{var l;return(l=r.default)==null?void 0:l.call(r)}}}),eB=Ci({activeColor:String,color:String,collapseIcon:{type:Ni,default:"$collapse"},expandIcon:{type:Ni,default:"$expand"},prependIcon:Ni,appendIcon:Ni,fluid:Boolean,subgroup:Boolean,value:null,...Xi()},"v-list-group"),Lx=Lt()({name:"VListGroup",props:{title:String,...eB()},setup(t,s){let{slots:r}=s;const{isOpen:l,open:c,id:f}=MP(Nt(t,"value"),!0),p=_e(()=>`v-list-group--id-${String(f.value)}`),x=AP();function w(F){c(!l.value,F)}const P=_e(()=>({onClick:w,class:"v-list-group__header",id:p.value})),C=_e(()=>l.value?t.collapseIcon:t.expandIcon);return $t(()=>ae(t.tag,{class:["v-list-group",{"v-list-group--prepend":x==null?void 0:x.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":l.value}]},{default:()=>[r.activator&&ae(Cn,{defaults:{VListItem:{active:l.value,activeColor:t.activeColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&C.value,appendIcon:t.appendIcon||!t.subgroup&&C.value,title:t.title,value:t.value}}},{default:()=>[ae(Q4,null,{default:()=>[r.activator({props:P.value,isOpen:l.value})]})]}),ae(_r,null,{default:()=>{var F;return[ln(ae("div",{class:"v-list-group__items",role:"group","aria-labelledby":p.value},[(F=r.default)==null?void 0:F.call(r)]),[[Ka,l.value]])]}})]})),{}}});const yu=bo("v-list-item-subtitle"),bu=bo("v-list-item-title"),ma=Lt()({name:"VListItem",directives:{Ripple:Th},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ni,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ni,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:ul,onClickOnce:ul,...ba(),...Os(),...ko(),...Es(),...Yn(),...c0(),...Xi(),...en(),...Za({variant:"text"})},emits:{click:t=>!0},setup(t,s){let{attrs:r,slots:l,emit:c}=s;const f=h0(t,r),p=_e(()=>t.value??f.href.value),{select:x,isSelected:w,isIndeterminate:P,isGroupActivator:C,root:F,parent:L,openOnSelect:B}=MP(p,!1),U=AP(),Y=_e(()=>{var Ze;return t.active!==!1&&(t.active||((Ze=f.isActive)==null?void 0:Ze.value)||w.value)}),Q=_e(()=>t.link!==!1&&f.isLink.value),N=_e(()=>!t.disabled&&t.link!==!1&&(t.link||f.isClickable.value||t.value!=null&&!!U)),X=_e(()=>t.rounded||t.nav),W=_e(()=>({color:Y.value?t.activeColor??t.color:t.color,variant:t.variant}));ui(()=>{var Ze;return(Ze=f.isActive)==null?void 0:Ze.value},Ze=>{Ze&&L.value!=null&&F.open(L.value,!0),Ze&&B(Ze)},{immediate:!0});const{themeClasses:he}=mn(t),{borderClasses:K}=Ja(t),{colorClasses:le,colorStyles:G,variantClasses:oe}=Bc(W),{densityClasses:fe}=br(t),{dimensionStyles:pe}=So(t),{elevationClasses:Te}=er(t),{roundedClasses:De}=gs(X),Me=_e(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),He=_e(()=>({isActive:Y.value,select:x,isSelected:w.value,isIndeterminate:P.value}));function je(Ze){var ft;c("click",Ze),!(C||!N.value)&&((ft=f.navigate)==null||ft.call(f,Ze),t.value!=null&&x(!w.value,Ze))}function tt(Ze){(Ze.key==="Enter"||Ze.key===" ")&&(Ze.preventDefault(),je(Ze))}return $t(()=>{const Ze=Q.value?"a":t.tag,ft=!U||w.value||Y.value,Je=l.title||t.title,dt=l.subtitle||t.subtitle,at=!!(t.appendAvatar||t.appendIcon),Ie=!!(at||l.append),qe=!!(t.prependAvatar||t.prependIcon),Ue=!!(qe||l.prepend);return U==null||U.updateHasPrepend(Ue),ln(ae(Ze,{class:["v-list-item",{"v-list-item--active":Y.value,"v-list-item--disabled":t.disabled,"v-list-item--link":N.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Ue&&(U==null?void 0:U.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&Y.value},he.value,K.value,ft?le.value:void 0,fe.value,Te.value,Me.value,De.value,oe.value],style:[ft?G.value:void 0,pe.value],href:f.href.value,tabindex:N.value?0:void 0,onClick:je,onKeydown:N.value&&!Q.value&&tt},{default:()=>{var Ae;return[Rc(N.value||Y.value,"v-list-item"),Ue&&ae("div",{key:"prepend",class:"v-list-item__prepend"},[l.prepend?ae(Cn,{key:"prepend-defaults",disabled:!qe,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Ye;return[(Ye=l.prepend)==null?void 0:Ye.call(l,He.value)]}}):ae(bi,null,[t.prependAvatar&&ae(vh,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ae(Bi,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),ae("div",{class:"v-list-item__content","data-no-activator":""},[Je&&ae(bu,{key:"title"},{default:()=>{var Ye;return[((Ye=l.title)==null?void 0:Ye.call(l,{title:t.title}))??t.title]}}),dt&&ae(yu,{key:"subtitle"},{default:()=>{var Ye;return[((Ye=l.subtitle)==null?void 0:Ye.call(l,{subtitle:t.subtitle}))??t.subtitle]}}),(Ae=l.default)==null?void 0:Ae.call(l,He.value)]),Ie&&ae("div",{key:"append",class:"v-list-item__append"},[l.append?ae(Cn,{key:"append-defaults",disabled:!at,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Ye;return[(Ye=l.append)==null?void 0:Ye.call(l,He.value)]}}):ae(bi,null,[t.appendIcon&&ae(Bi,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ae(vh,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])]}}),[[Mr("ripple"),N.value&&t.ripple]])}),{}}}),EP=Lt()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...Xi()},setup(t,s){let{slots:r}=s;const{textColorClasses:l,textColorStyles:c}=Er(Nt(t,"color"));return $t(()=>{const f=!!(r.default||t.title);return ae(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},l.value],style:{textColorStyles:c}},{default:()=>{var p;return[f&&ae("div",{class:"v-list-subheader__text"},[((p=r.default)==null?void 0:p.call(r))??t.title])]}})}),{}}}),_P=Lt()({name:"VListChildren",props:{items:Array},setup(t,s){let{slots:r}=s;return CP(),()=>{var l,c;return((l=r.default)==null?void 0:l.call(r))??((c=t.items)==null?void 0:c.map(f=>{var B,U;let{children:p,props:x,type:w,raw:P}=f;if(w==="divider")return((B=r.divider)==null?void 0:B.call(r,{props:x}))??ae(Ty,x,null);if(w==="subheader")return((U=r.subheader)==null?void 0:U.call(r,{props:x}))??ae(EP,x,{default:r.subheader});const C={subtitle:r.subtitle?Y=>{var Q;return(Q=r.subtitle)==null?void 0:Q.call(r,{...Y,item:P})}:void 0,prepend:r.prepend?Y=>{var Q;return(Q=r.prepend)==null?void 0:Q.call(r,{...Y,item:P})}:void 0,append:r.append?Y=>{var Q;return(Q=r.append)==null?void 0:Q.call(r,{...Y,item:P})}:void 0,default:r.default?Y=>{var Q;return(Q=r.default)==null?void 0:Q.call(r,{...Y,item:P})}:void 0,title:r.title?Y=>{var Q;return(Q=r.title)==null?void 0:Q.call(r,{...Y,item:P})}:void 0},[F,L]=Lx.filterProps(x);return p?ae(Lx,ai({value:x==null?void 0:x.value},F),{activator:Y=>{let{props:Q}=Y;return r.header?r.header({props:{...x,...Q}}):ae(ma,ai(x,Q),C)},default:()=>ae(_P,{items:p},r)}):r.item?r.item(x):ae(ma,x,C)}))}}}),Dy=Ci({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function wu(t,s){const r=uo(s,t.itemTitle,s),l=t.returnObject?s:uo(s,t.itemValue,r),c=uo(s,t.itemChildren),f=t.itemProps===!0?typeof s=="object"&&s!=null&&!Array.isArray(s)?"children"in s?Lc(s,["children"])[1]:s:void 0:uo(s,t.itemProps),p={title:r,value:l,...f};return{title:String(p.title??""),value:p.value,props:p,children:Array.isArray(c)?FP(t,c):void 0,raw:s}}function FP(t,s){const r=[];for(const l of s)r.push(wu(t,l));return r}function Um(t){const s=_e(()=>FP(t,t.items));function r(c){return c.map(f=>wu(t,f))}function l(c){return c.map(f=>{let{props:p}=f;return p.value})}return{items:s,transformIn:r,transformOut:l}}function tB(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function iB(t,s){const r=uo(s,t.itemType,"item"),l=tB(s)?s:uo(s,t.itemTitle),c=uo(s,t.itemValue,void 0),f=uo(s,t.itemChildren),p=t.itemProps===!0?Lc(s,["children"])[1]:uo(s,t.itemProps),x={title:l,value:c,...p};return{type:r,title:x.title,value:x.value,props:x,children:r==="item"&&f?NP(t,f):void 0,raw:s}}function NP(t,s){const r=[];for(const l of s)r.push(iB(t,l));return r}function nB(t){return{items:_e(()=>NP(t,t.items))}}const d0=Lt()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...q4({selectStrategy:"single-leaf",openStrategy:"list"}),...ba(),...Os(),...ko(),...Es(),itemType:{type:String,default:"type"},...Dy(),...Yn(),...Xi(),...en(),...Za({variant:"text"})},emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,s){let{slots:r}=s;const{items:l}=nB(t),{themeClasses:c}=mn(t),{backgroundColorClasses:f,backgroundColorStyles:p}=ds(Nt(t,"bgColor")),{borderClasses:x}=Ja(t),{densityClasses:w}=br(t),{dimensionStyles:P}=So(t),{elevationClasses:C}=er(t),{roundedClasses:F}=gs(t),{open:L,select:B}=Z4(t),U=_e(()=>t.lines?`v-list--${t.lines}-line`:void 0),Y=Nt(t,"activeColor"),Q=Nt(t,"color");CP(),ks({VListGroup:{activeColor:Y,color:Q},VListItem:{activeClass:Nt(t,"activeClass"),activeColor:Y,color:Q,density:Nt(t,"density"),disabled:Nt(t,"disabled"),lines:Nt(t,"lines"),nav:Nt(t,"nav"),variant:Nt(t,"variant")}});const N=it(!1),X=it();function W(oe){N.value=!0}function he(oe){N.value=!1}function K(oe){var fe;!N.value&&!(oe.relatedTarget&&((fe=X.value)!=null&&fe.contains(oe.relatedTarget)))&&G()}function le(oe){if(X.value){if(oe.key==="ArrowDown")G("next");else if(oe.key==="ArrowUp")G("prev");else if(oe.key==="Home")G("first");else if(oe.key==="End")G("last");else return;oe.preventDefault()}}function G(oe){var Te,De,Me;if(!X.value)return;const fe=[...X.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(He=>!He.hasAttribute("disabled")),pe=fe.indexOf(document.activeElement);if(!oe)X.value.contains(document.activeElement)||(Te=fe[0])==null||Te.focus();else if(oe==="first")(De=fe[0])==null||De.focus();else if(oe==="last")(Me=fe.at(-1))==null||Me.focus();else{let He,je=pe;const tt=oe==="next"?1:-1;do je+=tt,He=fe[je];while((!He||He.offsetParent==null)&&je<fe.length&&je>=0);He?He.focus():G(oe==="next"?"first":"last")}}return $t(()=>ae(t.tag,{ref:X,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},c.value,f.value,x.value,w.value,C.value,U.value,F.value],style:[p.value,P.value],role:"listbox","aria-activedescendant":void 0,onFocusin:W,onFocusout:he,onFocus:K,onKeydown:le},{default:()=>[ae(_P,{items:l.value},r)]})),{open:L,select:B,focus:G}}}),sB=bo("v-list-img"),rB=Lt()({name:"VListItemAction",props:{start:Boolean,end:Boolean,...Xi()},setup(t,s){let{slots:r}=s;return $t(()=>ae(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end}]},r)),{}}}),aB=Lt()({name:"VListItemMedia",props:{start:Boolean,end:Boolean,...Xi()},setup(t,s){let{slots:r}=s;return $t(()=>ae(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end}]},r)),{}}});const LP=Ci({text:String,...Xi()},"v-toolbar-title"),Wm=Lt()({name:"VToolbarTitle",props:LP(),setup(t,s){let{slots:r}=s;return $t(()=>{const l=!!(r.default||r.text||t.text);return ae(t.tag,{class:"v-toolbar-title"},{default:()=>{var c;return[l&&ae("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():t.text,(c=r.default)==null?void 0:c.call(r)])]}})}),{}}}),oB=[null,"prominent","default","comfortable","compact"],IP=Ci({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>oB.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ba(),...Es(),...Yn(),...Xi({tag:"header"}),...en()},"v-toolbar"),$g=Lt()({name:"VToolbar",props:IP(),setup(t,s){var L;let{slots:r}=s;const{backgroundColorClasses:l,backgroundColorStyles:c}=ds(Nt(t,"color")),{borderClasses:f}=Ja(t),{elevationClasses:p}=er(t),{roundedClasses:x}=gs(t),{themeClasses:w}=mn(t),P=it(!!(t.extended||(L=r.extension)!=null&&L.call(r))),C=_e(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),F=_e(()=>P.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return ks({VBtn:{variant:"text"}}),$t(()=>{var Q;const B=!!(t.title||r.title),U=!!(r.image||t.image),Y=(Q=r.extension)==null?void 0:Q.call(r);return P.value=!!(t.extended||Y),ae(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},l.value,f.value,p.value,x.value,w.value],style:[c.value]},{default:()=>[U&&ae("div",{key:"image",class:"v-toolbar__image"},[r.image?ae(Cn,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):ae(md,{key:"image-img",cover:!0,src:t.image},null)]),ae(Cn,{defaults:{VTabs:{height:ci(C.value)}}},{default:()=>{var N,X,W;return[ae("div",{class:"v-toolbar__content",style:{height:ci(C.value)}},[r.prepend&&ae("div",{class:"v-toolbar__prepend"},[(N=r.prepend)==null?void 0:N.call(r)]),B&&ae(Wm,{key:"title",text:t.title},{text:r.title}),(X=r.default)==null?void 0:X.call(r),r.append&&ae("div",{class:"v-toolbar__append"},[(W=r.append)==null?void 0:W.call(r)])])]}}),ae(Cn,{defaults:{VTabs:{height:ci(F.value)}}},{default:()=>[ae(_r,null,{default:()=>[P.value&&ae("div",{class:"v-toolbar__extension",style:{height:ci(F.value)}},[Y])]})]})]})}),{contentHeight:C,extensionHeight:F}}}),lB=Lt()({name:"VToolbarItems",props:Za({variant:"text"}),setup(t,s){let{slots:r}=s;return ks({VBtn:{color:Nt(t,"color"),height:"inherit",variant:Nt(t,"variant")}}),$t(()=>{var l;return ae("div",{class:"v-toolbar-items"},[(l=r.default)==null?void 0:l.call(r)])}),{}}}),hB=yn({__name:"ParameterDetailToolbar",props:{param:null},emits:["close"],setup(t){const s=t,r=_e(()=>{var l;switch((l=s.param)==null?void 0:l.status){case"NORMAL":return"green";case"ERROR":return"red";default:return"grey"}});return(l,c)=>(fi(),In(xh,{class:"parameter-card"},{default:Ut(()=>[ae($g,{density:"compact",color:"primary"},{default:Ut(()=>[ae(Wm,{class:"text-white"},{default:Ut(()=>{var f;return[pi(sn(((f=t.param)==null?void 0:f.name)||"Parameter Detail"),1)]}),_:1}),ae(Ay),ae(xn,{icon:"",onClick:c[0]||(c[0]=f=>l.$emit("close"))},{default:Ut(()=>[ae(Bi,{color:"white"},{default:Ut(()=>[pi("mdi-close")]),_:1})]),_:1})]),_:1}),ae(Qu,{class:"detail-content"},{default:Ut(()=>[t.param?(fi(),In(d0,{key:1,density:"compact"},{default:Ut(()=>[ae(ma,null,{default:Ut(()=>[ae(bu,null,{default:Ut(()=>[pi("")]),_:1}),ae(yu,null,{default:Ut(()=>[pi(sn(t.param.name),1)]),_:1})]),_:1}),ae(ma,null,{default:Ut(()=>[ae(bu,null,{default:Ut(()=>[pi("")]),_:1}),ae(yu,null,{default:Ut(()=>[pi(sn(t.param.description),1)]),_:1})]),_:1}),ae(ma,null,{default:Ut(()=>[ae(bu,null,{default:Ut(()=>[pi(" ")]),_:1}),ae(yu,null,{default:Ut(()=>[pi(sn(t.param.value),1)]),_:1})]),_:1}),ae(ma,null,{default:Ut(()=>[ae(bu,null,{default:Ut(()=>[pi("")]),_:1}),ae(yu,null,{default:Ut(()=>[ae(zc,{color:Ln(r),size:"small",variant:"flat"},{default:Ut(()=>[pi(sn(t.param.status),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})):(fi(),In(by,{key:0,type:"info",variant:"tonal"},{default:Ut(()=>[pi("  . ")]),_:1}))]),_:1})]),_:1}))}});const cB=xr(hB,[["__scopeId","data-v-9ef3e28b"]]);/*!
 * strings: 3.11.5
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var uB=/(?:^\s+|\s+$)/g,dB=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function OP(t){var s=t.nodeType,r="";if(s===1||s===9||s===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=OP(t)}else if(s===3||s===4)return t.nodeValue;return r}function Ix(t,s,r,l){for(var c=t.firstChild,f=[],p;c;)c.nodeType===3?(p=(c.nodeValue+"").replace(/^\n+/g,""),l||(p=p.replace(/\s+/g," ")),f.push.apply(f,RP(p,s,r,l))):(c.nodeName+"").toLowerCase()==="br"?f[f.length-1]+="<br>":f.push(c.outerHTML),c=c.nextSibling;for(p=f.length;p--;)f[p]==="&"&&f.splice(p,1,"&amp;");return f}function RP(t,s,r,l){if(t+="",r&&(t=t.trim?t.trim():t.replace(uB,"")),s&&s!=="")return t.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(s);for(var c=[],f=t.length,p=0,x,w;p<f;p++)w=t.charAt(p),(w.charCodeAt(0)>=55296&&w.charCodeAt(0)<=56319||t.charCodeAt(p+1)>=65024&&t.charCodeAt(p+1)<=65039)&&(x=((t.substr(p,12).split(dB)||[])[1]||"").length||2,w=t.substr(p,x),c.emoji=1,p+=x-1),c.push(w===">"?"&gt;":w==="<"?"&lt;":l&&w===" "&&(t.charAt(p-1)===" "||t.charAt(p+1)===" ")?"&nbsp;":w);return c}/*!
 * TextPlugin 3.11.5
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ud,K0,fB=function(){return Ud||typeof window<"u"&&(Ud=window.gsap)&&Ud.registerPlugin&&Ud},Ml={version:"3.11.5",name:"text",init:function(s,r,l){typeof r!="object"&&(r={value:r});var c=s.nodeName.toUpperCase(),f=this,p=r,x=p.newClass,w=p.oldClass,P=p.preserveSpaces,C=p.rtl,F=f.delimiter=r.delimiter||"",L=f.fillChar=r.fillChar||(r.padSpace?"&nbsp;":""),B,U,Y,Q,N,X,W,he;if(f.svg=s.getBBox&&(c==="TEXT"||c==="TSPAN"),!("innerHTML"in s)&&!f.svg)return!1;if(f.target=s,!("value"in r)){f.text=f.original=[""];return}for(Y=Ix(s,F,!1,P),K0||(K0=document.createElement("div")),K0.innerHTML=r.value,U=Ix(K0,F,!1,P),f.from=l._from,(f.from||C)&&!(C&&f.from)&&(c=Y,Y=U,U=c),f.hasClass=!!(x||w),f.newClass=C?w:x,f.oldClass=C?x:w,c=Y.length-U.length,B=c<0?Y:U,c<0&&(c=-c);--c>-1;)B.push(L);if(r.type==="diff"){for(Q=0,N=[],X=[],W="",c=0;c<U.length;c++)he=U[c],he===Y[c]?W+=he:(N[Q]=W+he,X[Q++]=W+Y[c],W="");U=N,Y=X,W&&(U.push(W),Y.push(W))}r.speed&&l.duration(Math.min(.05/r.speed*B.length,r.maxDuration||9999)),f.rtl=C,f.original=Y,f.text=U,f._props.push("text")},render:function(s,r){s>1?s=1:s<0&&(s=0),r.from&&(s=1-s);var l=r.text,c=r.hasClass,f=r.newClass,p=r.oldClass,x=r.delimiter,w=r.target,P=r.fillChar,C=r.original,F=r.rtl,L=l.length,B=(F?1-s:s)*L+.5|0,U,Y,Q;c&&s?(U=f&&B,Y=p&&B!==L,Q=(U?"<span class='"+f+"'>":"")+l.slice(0,B).join(x)+(U?"</span>":"")+(Y?"<span class='"+p+"'>":"")+x+C.slice(B).join(x)+(Y?"</span>":"")):Q=l.slice(0,B).join(x)+x+C.slice(B).join(x),r.svg?w.textContent=Q:w.innerHTML=P==="&nbsp;"&&~Q.indexOf("  ")?Q.split("  ").join("&nbsp;&nbsp;"):Q}};Ml.splitInnerHTML=Ix;Ml.emojiSafeSplit=RP;Ml.getText=OP;fB()&&Ud.registerPlugin(Ml);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Kg={};Kg.version="0.18.5";var BP=1252,gB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],My={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ey=function(t){gB.indexOf(t)!=-1&&(BP=My[0]=t)};function mB(){Ey(1252)}var fo=function(t){Ey(t)};function _y(){fo(1200),mB()}function Hk(t){for(var s=[],r=0,l=t.length;r<l;++r)s[r]=t.charCodeAt(r);return s}function pB(t){for(var s=[],r=0;r<t.length>>1;++r)s[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return s.join("")}function VP(t){for(var s=[],r=0;r<t.length>>1;++r)s[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return s.join("")}var Wd=function(t){var s=t.charCodeAt(0),r=t.charCodeAt(1);return s==255&&r==254?pB(t.slice(2)):s==254&&r==255?VP(t.slice(2)):s==65279?t.slice(1):t},q0=function(s){return String.fromCharCode(s)},Yk=function(s){return String.fromCharCode(s)},Jl,ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xf(t){for(var s="",r=0,l=0,c=0,f=0,p=0,x=0,w=0,P=0;P<t.length;)r=t.charCodeAt(P++),f=r>>2,l=t.charCodeAt(P++),p=(r&3)<<4|l>>4,c=t.charCodeAt(P++),x=(l&15)<<2|c>>6,w=c&63,isNaN(l)?x=w=64:isNaN(c)&&(w=64),s+=ih.charAt(f)+ih.charAt(p)+ih.charAt(x)+ih.charAt(w);return s}function ya(t){var s="",r=0,l=0,c=0,f=0,p=0,x=0,w=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var P=0;P<t.length;)f=ih.indexOf(t.charAt(P++)),p=ih.indexOf(t.charAt(P++)),r=f<<2|p>>4,s+=String.fromCharCode(r),x=ih.indexOf(t.charAt(P++)),l=(p&15)<<4|x>>2,x!==64&&(s+=String.fromCharCode(l)),w=ih.indexOf(t.charAt(P++)),c=(x&3)<<6|w,w!==64&&(s+=String.fromCharCode(c));return s}var $i=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),El=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(s,r){return r?new Buffer(s,r):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}}();function bh(t){return $i?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Uk(t){return $i?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var da=function(s){return $i?El(s,"binary"):s.split("").map(function(r){return r.charCodeAt(0)&255})};function Gm(t){if(typeof ArrayBuffer>"u")return da(t);for(var s=new ArrayBuffer(t.length),r=new Uint8Array(s),l=0;l!=t.length;++l)r[l]=t.charCodeAt(l)&255;return s}function Eh(t){if(Array.isArray(t))return t.map(function(l){return String.fromCharCode(l)}).join("");for(var s=[],r=0;r<t.length;++r)s[r]=String.fromCharCode(t[r]);return s.join("")}function vB(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function Fy(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Fy(new Uint8Array(t));for(var s=new Array(t.length),r=0;r<t.length;++r)s[r]=t[r];return s}var Xs=$i?function(t){return Buffer.concat(t.map(function(s){return Buffer.isBuffer(s)?s:El(s)}))}:function(t){if(typeof Uint8Array<"u"){var s=0,r=0;for(s=0;s<t.length;++s)r+=t[s].length;var l=new Uint8Array(r),c=0;for(s=0,r=0;s<t.length;r+=c,++s)if(c=t[s].length,t[s]instanceof Uint8Array)l.set(t[s],r);else{if(typeof t[s]=="string")throw"wtf";l.set(new Uint8Array(t[s]),r)}return l}return[].concat.apply([],t.map(function(f){return Array.isArray(f)?f:[].slice.call(f)}))};function xB(t){for(var s=[],r=0,l=t.length+250,c=bh(t.length+255),f=0;f<t.length;++f){var p=t.charCodeAt(f);if(p<128)c[r++]=p;else if(p<2048)c[r++]=192|p>>6&31,c[r++]=128|p&63;else if(p>=55296&&p<57344){p=(p&1023)+64;var x=t.charCodeAt(++f)&1023;c[r++]=240|p>>8&7,c[r++]=128|p>>2&63,c[r++]=128|x>>6&15|(p&3)<<4,c[r++]=128|x&63}else c[r++]=224|p>>12&15,c[r++]=128|p>>6&63,c[r++]=128|p&63;r>l&&(s.push(c.slice(0,r)),r=0,c=bh(65535),l=65530)}return s.push(c.slice(0,r)),Xs(s)}var Dr=/\u0000/g,Gd=/[\u0001-\u0006]/g;function Nu(t){for(var s="",r=t.length-1;r>=0;)s+=t.charAt(r--);return s}function go(t,s){var r=""+t;return r.length>=s?r:as("0",s-r.length)+r}function Ny(t,s){var r=""+t;return r.length>=s?r:as(" ",s-r.length)+r}function qg(t,s){var r=""+t;return r.length>=s?r:r+as(" ",s-r.length)}function yB(t,s){var r=""+Math.round(t);return r.length>=s?r:as("0",s-r.length)+r}function bB(t,s){var r=""+t;return r.length>=s?r:as("0",s-r.length)+r}var Wk=Math.pow(2,32);function cu(t,s){if(t>Wk||t<-Wk)return yB(t,s);var r=Math.round(t);return bB(r,s)}function Zg(t,s){return s=s||0,t.length>=7+s&&(t.charCodeAt(s)|32)===103&&(t.charCodeAt(s+1)|32)===101&&(t.charCodeAt(s+2)|32)===110&&(t.charCodeAt(s+3)|32)===101&&(t.charCodeAt(s+4)|32)===114&&(t.charCodeAt(s+5)|32)===97&&(t.charCodeAt(s+6)|32)===108}var Gk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],dv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function wB(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Mi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},jk={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Jg(t,s,r){for(var l=t<0?-1:1,c=t*l,f=0,p=1,x=0,w=1,P=0,C=0,F=Math.floor(c);P<s&&(F=Math.floor(c),x=F*p+f,C=F*P+w,!(c-F<5e-8));)c=1/(c-F),f=p,p=x,w=P,P=C;if(C>s&&(P>s?(C=w,x=f):(C=P,x=p)),!r)return[0,l*x,C];var L=Math.floor(l*x/C);return[L,l*x-L*C,C]}function Qh(t,s,r){if(t>2958465||t<0)return null;var l=t|0,c=Math.floor(86400*(t-l)),f=0,p=[],x={D:l,T:c,u:86400*(t-l)-c,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(x.u)<1e-6&&(x.u=0),s&&s.date1904&&(l+=1462),x.u>.9999&&(x.u=0,++c==86400&&(x.T=c=0,++l,++x.D)),l===60)p=r?[1317,10,29]:[1900,2,29],f=3;else if(l===0)p=r?[1317,8,29]:[1900,1,0],f=6;else{l>60&&--l;var w=new Date(1900,0,1);w.setDate(w.getDate()+l-1),p=[w.getFullYear(),w.getMonth()+1,w.getDate()],f=w.getDay(),l<60&&(f=(f+6)%7),r&&(f=DB(w,p))}return x.y=p[0],x.m=p[1],x.d=p[2],x.S=c%60,c=Math.floor(c/60),x.M=c%60,c=Math.floor(c/60),x.H=c,x.q=f,x}var zP=new Date(1899,11,31,0,0,0),SB=zP.getTime(),CB=new Date(1900,2,1,0,0,0);function XP(t,s){var r=t.getTime();return s?r-=1461*24*60*60*1e3:t>=CB&&(r+=24*60*60*1e3),(r-(SB+(t.getTimezoneOffset()-zP.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Ly(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AB(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TB(t){var s=t<0?12:11,r=Ly(t.toFixed(12));return r.length<=s||(r=t.toPrecision(10),r.length<=s)?r:t.toExponential(5)}function PB(t){var s=Ly(t.toFixed(11));return s.length>(t<0?12:11)||s==="0"||s==="-0"?t.toPrecision(6):s}function Hf(t){var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return s>=-4&&s<=-1?r=t.toPrecision(10+s):Math.abs(s)<=9?r=TB(t):s===10?r=t.toFixed(10).substr(0,12):r=PB(t),Ly(AB(r.toUpperCase()))}function yc(t,s){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Hf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return $a(14,XP(t,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+t)}function DB(t,s){s[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function MB(t,s,r,l){var c="",f=0,p=0,x=r.y,w,P=0;switch(t){case 98:x=r.y+543;case 121:switch(s.length){case 1:case 2:w=x%100,P=2;break;default:w=x%1e4,P=4;break}break;case 109:switch(s.length){case 1:case 2:w=r.m,P=s.length;break;case 3:return dv[r.m-1][1];case 5:return dv[r.m-1][0];default:return dv[r.m-1][2]}break;case 100:switch(s.length){case 1:case 2:w=r.d,P=s.length;break;case 3:return Gk[r.q][0];default:return Gk[r.q][1]}break;case 104:switch(s.length){case 1:case 2:w=1+(r.H+11)%12,P=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:w=r.H,P=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:w=r.M,P=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return r.u===0&&(s=="s"||s=="ss")?go(r.S,s.length):(l>=2?p=l===3?1e3:100:p=l===1?10:1,f=Math.round(p*(r.S+r.u)),f>=60*p&&(f=0),s==="s"?f===0?"0":""+f/p:(c=go(f,2+l),s==="ss"?c.substr(0,2):"."+c.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":w=r.D*24+r.H;break;case"[m]":case"[mm]":w=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":w=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+s}P=s.length===3?1:2;break;case 101:w=x,P=1;break}var C=P>0?go(w,P):"";return C}function nh(t){var s=3;if(t.length<=s)return t;for(var r=t.length%s,l=t.substr(0,r);r!=t.length;r+=s)l+=(l.length>0?",":"")+t.substr(r,s);return l}var HP=/%/g;function EB(t,s,r){var l=s.replace(HP,""),c=s.length-l.length;return dl(t,l,r*Math.pow(10,2*c))+as("%",c)}function _B(t,s,r){for(var l=s.length-1;s.charCodeAt(l-1)===44;)--l;return dl(t,s.substr(0,l),r/Math.pow(10,3*(s.length-l)))}function YP(t,s){var r,l=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+YP(t,-s);var c=t.indexOf(".");c===-1&&(c=t.indexOf("E"));var f=Math.floor(Math.log(s)*Math.LOG10E)%c;if(f<0&&(f+=c),r=(s/Math.pow(10,f)).toPrecision(l+1+(c+f)%c),r.indexOf("e")===-1){var p=Math.floor(Math.log(s)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(p-r.length+f):r+="E+"+(p-f);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,c)+"."+r.substr(2+c),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(x,w,P,C){return w+P+C.substr(0,(c+f)%c)+"."+C.substr(f)+"E"})}else r=s.toExponential(l);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var UP=/# (\?+)( ?)\/( ?)(\d+)/;function FB(t,s,r){var l=parseInt(t[4],10),c=Math.round(s*l),f=Math.floor(c/l),p=c-f*l,x=l;return r+(f===0?"":""+f)+" "+(p===0?as(" ",t[1].length+1+t[4].length):Ny(p,t[1].length)+t[2]+"/"+t[3]+go(x,t[4].length))}function NB(t,s,r){return r+(s===0?"":""+s)+as(" ",t[1].length+2+t[4].length)}var WP=/^#*0*\.([0#]+)/,GP=/\).*[0#]/,jP=/\(###\) ###\\?-####/;function Cr(t){for(var s="",r,l=0;l!=t.length;++l)switch(r=t.charCodeAt(l)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(r)}return s}function $k(t,s){var r=Math.pow(10,s);return""+Math.round(t*r)/r}function Kk(t,s){var r=t-Math.floor(t),l=Math.pow(10,s);return s<(""+Math.round(r*l)).length?0:Math.round(r*l)}function LB(t,s){return s<(""+Math.round((t-Math.floor(t))*Math.pow(10,s))).length?1:0}function IB(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Fa(t,s,r){if(t.charCodeAt(0)===40&&!s.match(GP)){var l=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fa("n",l,r):"("+Fa("n",l,-r)+")"}if(s.charCodeAt(s.length-1)===44)return _B(t,s,r);if(s.indexOf("%")!==-1)return EB(t,s,r);if(s.indexOf("E")!==-1)return YP(s,r);if(s.charCodeAt(0)===36)return"$"+Fa(t,s.substr(s.charAt(1)==" "?2:1),r);var c,f,p,x,w=Math.abs(r),P=r<0?"-":"";if(s.match(/^00+$/))return P+cu(w,s.length);if(s.match(/^[#?]+$/))return c=cu(r,0),c==="0"&&(c=""),c.length>s.length?c:Cr(s.substr(0,s.length-c.length))+c;if(f=s.match(UP))return FB(f,w,P);if(s.match(/^#+0+$/))return P+cu(w,s.length-s.indexOf("0"));if(f=s.match(WP))return c=$k(r,f[1].length).replace(/^([^\.]+)$/,"$1."+Cr(f[1])).replace(/\.$/,"."+Cr(f[1])).replace(/\.(\d*)$/,function(U,Y){return"."+Y+as("0",Cr(f[1]).length-Y.length)}),s.indexOf("0.")!==-1?c:c.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),f=s.match(/^(0*)\.(#*)$/))return P+$k(w,f[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,f[1].length?"0.":".");if(f=s.match(/^#{1,3},##0(\.?)$/))return P+nh(cu(w,0));if(f=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fa(t,s,-r):nh(""+(Math.floor(r)+LB(r,f[1].length)))+"."+go(Kk(r,f[1].length),f[1].length);if(f=s.match(/^#,#*,#0/))return Fa(t,s.replace(/^#,#*,/,""),r);if(f=s.match(/^([0#]+)(\\?-([0#]+))+$/))return c=Nu(Fa(t,s.replace(/[\\-]/g,""),r)),p=0,Nu(Nu(s.replace(/\\/g,"")).replace(/[0#]/g,function(U){return p<c.length?c.charAt(p++):U==="0"?"0":""}));if(s.match(jP))return c=Fa(t,"##########",r),"("+c.substr(0,3)+") "+c.substr(3,3)+"-"+c.substr(6);var C="";if(f=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(f[4].length,7),x=Jg(w,Math.pow(10,p)-1,!1),c=""+P,C=dl("n",f[1],x[1]),C.charAt(C.length-1)==" "&&(C=C.substr(0,C.length-1)+"0"),c+=C+f[2]+"/"+f[3],C=qg(x[2],p),C.length<f[4].length&&(C=Cr(f[4].substr(f[4].length-C.length))+C),c+=C,c;if(f=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(Math.max(f[1].length,f[4].length),7),x=Jg(w,Math.pow(10,p)-1,!0),P+(x[0]||(x[1]?"":"0"))+" "+(x[1]?Ny(x[1],p)+f[2]+"/"+f[3]+qg(x[2],p):as(" ",2*p+1+f[2].length+f[3].length));if(f=s.match(/^[#0?]+$/))return c=cu(r,0),s.length<=c.length?c:Cr(s.substr(0,s.length-c.length))+c;if(f=s.match(/^([#0?]+)\.([#0]+)$/)){c=""+r.toFixed(Math.min(f[2].length,10)).replace(/([^0])0+$/,"$1"),p=c.indexOf(".");var F=s.indexOf(".")-p,L=s.length-c.length-F;return Cr(s.substr(0,F)+c+s.substr(s.length-L))}if(f=s.match(/^00,000\.([#0]*0)$/))return p=Kk(r,f[1].length),r<0?"-"+Fa(t,s,-r):nh(IB(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?go(0,3-U.length):"")+U})+"."+go(p,f[1].length);switch(s){case"###,##0.00":return Fa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var B=nh(cu(w,0));return B!=="0"?P+B:"";case"###,###.00":return Fa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Fa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function OB(t,s,r){for(var l=s.length-1;s.charCodeAt(l-1)===44;)--l;return dl(t,s.substr(0,l),r/Math.pow(10,3*(s.length-l)))}function RB(t,s,r){var l=s.replace(HP,""),c=s.length-l.length;return dl(t,l,r*Math.pow(10,2*c))+as("%",c)}function $P(t,s){var r,l=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+$P(t,-s);var c=t.indexOf(".");c===-1&&(c=t.indexOf("E"));var f=Math.floor(Math.log(s)*Math.LOG10E)%c;if(f<0&&(f+=c),r=(s/Math.pow(10,f)).toPrecision(l+1+(c+f)%c),!r.match(/[Ee]/)){var p=Math.floor(Math.log(s)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(p-r.length+f):r+="E+"+(p-f),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(x,w,P,C){return w+P+C.substr(0,(c+f)%c)+"."+C.substr(f)+"E"})}else r=s.toExponential(l);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _o(t,s,r){if(t.charCodeAt(0)===40&&!s.match(GP)){var l=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_o("n",l,r):"("+_o("n",l,-r)+")"}if(s.charCodeAt(s.length-1)===44)return OB(t,s,r);if(s.indexOf("%")!==-1)return RB(t,s,r);if(s.indexOf("E")!==-1)return $P(s,r);if(s.charCodeAt(0)===36)return"$"+_o(t,s.substr(s.charAt(1)==" "?2:1),r);var c,f,p,x,w=Math.abs(r),P=r<0?"-":"";if(s.match(/^00+$/))return P+go(w,s.length);if(s.match(/^[#?]+$/))return c=""+r,r===0&&(c=""),c.length>s.length?c:Cr(s.substr(0,s.length-c.length))+c;if(f=s.match(UP))return NB(f,w,P);if(s.match(/^#+0+$/))return P+go(w,s.length-s.indexOf("0"));if(f=s.match(WP))return c=(""+r).replace(/^([^\.]+)$/,"$1."+Cr(f[1])).replace(/\.$/,"."+Cr(f[1])),c=c.replace(/\.(\d*)$/,function(U,Y){return"."+Y+as("0",Cr(f[1]).length-Y.length)}),s.indexOf("0.")!==-1?c:c.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),f=s.match(/^(0*)\.(#*)$/))return P+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,f[1].length?"0.":".");if(f=s.match(/^#{1,3},##0(\.?)$/))return P+nh(""+w);if(f=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_o(t,s,-r):nh(""+r)+"."+as("0",f[1].length);if(f=s.match(/^#,#*,#0/))return _o(t,s.replace(/^#,#*,/,""),r);if(f=s.match(/^([0#]+)(\\?-([0#]+))+$/))return c=Nu(_o(t,s.replace(/[\\-]/g,""),r)),p=0,Nu(Nu(s.replace(/\\/g,"")).replace(/[0#]/g,function(U){return p<c.length?c.charAt(p++):U==="0"?"0":""}));if(s.match(jP))return c=_o(t,"##########",r),"("+c.substr(0,3)+") "+c.substr(3,3)+"-"+c.substr(6);var C="";if(f=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(f[4].length,7),x=Jg(w,Math.pow(10,p)-1,!1),c=""+P,C=dl("n",f[1],x[1]),C.charAt(C.length-1)==" "&&(C=C.substr(0,C.length-1)+"0"),c+=C+f[2]+"/"+f[3],C=qg(x[2],p),C.length<f[4].length&&(C=Cr(f[4].substr(f[4].length-C.length))+C),c+=C,c;if(f=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(Math.max(f[1].length,f[4].length),7),x=Jg(w,Math.pow(10,p)-1,!0),P+(x[0]||(x[1]?"":"0"))+" "+(x[1]?Ny(x[1],p)+f[2]+"/"+f[3]+qg(x[2],p):as(" ",2*p+1+f[2].length+f[3].length));if(f=s.match(/^[#0?]+$/))return c=""+r,s.length<=c.length?c:Cr(s.substr(0,s.length-c.length))+c;if(f=s.match(/^([#0]+)\.([#0]+)$/)){c=""+r.toFixed(Math.min(f[2].length,10)).replace(/([^0])0+$/,"$1"),p=c.indexOf(".");var F=s.indexOf(".")-p,L=s.length-c.length-F;return Cr(s.substr(0,F)+c+s.substr(s.length-L))}if(f=s.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_o(t,s,-r):nh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?go(0,3-U.length):"")+U})+"."+go(0,f[1].length);switch(s){case"###,###":case"##,###":case"#,###":var B=nh(""+w);return B!=="0"?P+B:"";default:if(s.match(/\.[0#?]*$/))return _o(t,s.slice(0,s.lastIndexOf(".")),r)+Cr(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function dl(t,s,r){return(r|0)===r?_o(t,s,r):Fa(t,s,r)}function BB(t){for(var s=[],r=!1,l=0,c=0;l<t.length;++l)switch(t.charCodeAt(l)){case 34:r=!r;break;case 95:case 42:case 92:++l;break;case 59:s[s.length]=t.substr(c,l-c),c=l+1}if(s[s.length]=t.substr(c),r===!0)throw new Error("Format |"+t+"| unterminated string ");return s}var KP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function wd(t){for(var s=0,r="",l="";s<t.length;)switch(r=t.charAt(s)){case"G":Zg(t,s)&&(s+=6),s++;break;case'"':for(;t.charCodeAt(++s)!==34&&s<t.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(s,3).toUpperCase()==="A/P"||t.substr(s,5).toUpperCase()==="AM/PM"||t.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(l=r;t.charAt(s++)!=="]"&&s<t.length;)l+=t.charAt(s);if(l.match(KP))return!0;break;case".":case"0":case"#":for(;s<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++s))>-1||r=="\\"&&t.charAt(s+1)=="-"&&"0#".indexOf(t.charAt(s+2))>-1););break;case"?":for(;t.charAt(++s)===r;);break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function VB(t,s,r,l){for(var c=[],f="",p=0,x="",w="t",P,C,F,L="H";p<t.length;)switch(x=t.charAt(p)){case"G":if(!Zg(t,p))throw new Error("unrecognized character "+x+" in "+t);c[c.length]={t:"G",v:"General"},p+=7;break;case'"':for(f="";(F=t.charCodeAt(++p))!==34&&p<t.length;)f+=String.fromCharCode(F);c[c.length]={t:"t",v:f},++p;break;case"\\":var B=t.charAt(++p),U=B==="("||B===")"?B:"t";c[c.length]={t:U,v:B},++p;break;case"_":c[c.length]={t:"t",v:" "},p+=2;break;case"@":c[c.length]={t:"T",v:s},++p;break;case"B":case"b":if(t.charAt(p+1)==="1"||t.charAt(p+1)==="2"){if(P==null&&(P=Qh(s,r,t.charAt(p+1)==="2"),P==null))return"";c[c.length]={t:"X",v:t.substr(p,2)},w=x,p+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":x=x.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||P==null&&(P=Qh(s,r),P==null))return"";for(f=x;++p<t.length&&t.charAt(p).toLowerCase()===x;)f+=x;x==="m"&&w.toLowerCase()==="h"&&(x="M"),x==="h"&&(x=L),c[c.length]={t:x,v:f},w=x;break;case"A":case"a":case"":var Y={t:x,v:x};if(P==null&&(P=Qh(s,r)),t.substr(p,3).toUpperCase()==="A/P"?(P!=null&&(Y.v=P.H>=12?"P":"A"),Y.t="T",L="h",p+=3):t.substr(p,5).toUpperCase()==="AM/PM"?(P!=null&&(Y.v=P.H>=12?"PM":"AM"),Y.t="T",p+=5,L="h"):t.substr(p,5).toUpperCase()==="/"?(P!=null&&(Y.v=P.H>=12?"":""),Y.t="T",p+=5,L="h"):(Y.t="t",++p),P==null&&Y.t==="T")return"";c[c.length]=Y,w=x;break;case"[":for(f=x;t.charAt(p++)!=="]"&&p<t.length;)f+=t.charAt(p);if(f.slice(-1)!=="]")throw'unterminated "[" block: |'+f+"|";if(f.match(KP)){if(P==null&&(P=Qh(s,r),P==null))return"";c[c.length]={t:"Z",v:f.toLowerCase()},w=f.charAt(1)}else f.indexOf("$")>-1&&(f=(f.match(/\$([^-\[\]]*)/)||[])[1]||"$",wd(t)||(c[c.length]={t:"t",v:f}));break;case".":if(P!=null){for(f=x;++p<t.length&&(x=t.charAt(p))==="0";)f+=x;c[c.length]={t:"s",v:f};break}case"0":case"#":for(f=x;++p<t.length&&"0#?.,E+-%".indexOf(x=t.charAt(p))>-1;)f+=x;c[c.length]={t:"n",v:f};break;case"?":for(f=x;t.charAt(++p)===x;)f+=x;c[c.length]={t:x,v:f},w=x;break;case"*":++p,(t.charAt(p)==" "||t.charAt(p)=="*")&&++p;break;case"(":case")":c[c.length]={t:l===1?"t":x,v:x},++p;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(f=x;p<t.length&&"0123456789".indexOf(t.charAt(++p))>-1;)f+=t.charAt(p);c[c.length]={t:"D",v:f};break;case" ":c[c.length]={t:x,v:x},++p;break;case"$":c[c.length]={t:"t",v:"$"},++p;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(x)===-1)throw new Error("unrecognized character "+x+" in "+t);c[c.length]={t:"t",v:x},++p;break}var Q=0,N=0,X;for(p=c.length-1,w="t";p>=0;--p)switch(c[p].t){case"h":case"H":c[p].t=L,w="h",Q<1&&(Q=1);break;case"s":(X=c[p].v.match(/\.0+$/))&&(N=Math.max(N,X[0].length-1)),Q<3&&(Q=3);case"d":case"y":case"M":case"e":w=c[p].t;break;case"m":w==="s"&&(c[p].t="M",Q<2&&(Q=2));break;case"X":break;case"Z":Q<1&&c[p].v.match(/[Hh]/)&&(Q=1),Q<2&&c[p].v.match(/[Mm]/)&&(Q=2),Q<3&&c[p].v.match(/[Ss]/)&&(Q=3)}switch(Q){case 0:break;case 1:P.u>=.5&&(P.u=0,++P.S),P.S>=60&&(P.S=0,++P.M),P.M>=60&&(P.M=0,++P.H);break;case 2:P.u>=.5&&(P.u=0,++P.S),P.S>=60&&(P.S=0,++P.M);break}var W="",he;for(p=0;p<c.length;++p)switch(c[p].t){case"t":case"T":case" ":case"D":break;case"X":c[p].v="",c[p].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":c[p].v=MB(c[p].t.charCodeAt(0),c[p].v,P,N),c[p].t="t";break;case"n":case"?":for(he=p+1;c[he]!=null&&((x=c[he].t)==="?"||x==="D"||(x===" "||x==="t")&&c[he+1]!=null&&(c[he+1].t==="?"||c[he+1].t==="t"&&c[he+1].v==="/")||c[p].t==="("&&(x===" "||x==="n"||x===")")||x==="t"&&(c[he].v==="/"||c[he].v===" "&&c[he+1]!=null&&c[he+1].t=="?"));)c[p].v+=c[he].v,c[he]={v:"",t:";"},++he;W+=c[p].v,p=he-1;break;case"G":c[p].t="t",c[p].v=yc(s,r);break}var K="",le,G;if(W.length>0){W.charCodeAt(0)==40?(le=s<0&&W.charCodeAt(0)===45?-s:s,G=dl("n",W,le)):(le=s<0&&l>1?-s:s,G=dl("n",W,le),le<0&&c[0]&&c[0].t=="t"&&(G=G.substr(1),c[0].v="-"+c[0].v)),he=G.length-1;var oe=c.length;for(p=0;p<c.length;++p)if(c[p]!=null&&c[p].t!="t"&&c[p].v.indexOf(".")>-1){oe=p;break}var fe=c.length;if(oe===c.length&&G.indexOf("E")===-1){for(p=c.length-1;p>=0;--p)c[p]==null||"n?".indexOf(c[p].t)===-1||(he>=c[p].v.length-1?(he-=c[p].v.length,c[p].v=G.substr(he+1,c[p].v.length)):he<0?c[p].v="":(c[p].v=G.substr(0,he+1),he=-1),c[p].t="t",fe=p);he>=0&&fe<c.length&&(c[fe].v=G.substr(0,he+1)+c[fe].v)}else if(oe!==c.length&&G.indexOf("E")===-1){for(he=G.indexOf(".")-1,p=oe;p>=0;--p)if(!(c[p]==null||"n?".indexOf(c[p].t)===-1)){for(C=c[p].v.indexOf(".")>-1&&p===oe?c[p].v.indexOf(".")-1:c[p].v.length-1,K=c[p].v.substr(C+1);C>=0;--C)he>=0&&(c[p].v.charAt(C)==="0"||c[p].v.charAt(C)==="#")&&(K=G.charAt(he--)+K);c[p].v=K,c[p].t="t",fe=p}for(he>=0&&fe<c.length&&(c[fe].v=G.substr(0,he+1)+c[fe].v),he=G.indexOf(".")+1,p=oe;p<c.length;++p)if(!(c[p]==null||"n?(".indexOf(c[p].t)===-1&&p!==oe)){for(C=c[p].v.indexOf(".")>-1&&p===oe?c[p].v.indexOf(".")+1:0,K=c[p].v.substr(0,C);C<c[p].v.length;++C)he<G.length&&(K+=G.charAt(he++));c[p].v=K,c[p].t="t",fe=p}}}for(p=0;p<c.length;++p)c[p]!=null&&"n?".indexOf(c[p].t)>-1&&(le=l>1&&s<0&&p>0&&c[p-1].v==="-"?-s:s,c[p].v=dl(c[p].t,c[p].v,le),c[p].t="t");var pe="";for(p=0;p!==c.length;++p)c[p]!=null&&(pe+=c[p].v);return pe}var qk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Zk(t,s){if(s==null)return!1;var r=parseFloat(s[2]);switch(s[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function zB(t,s){var r=BB(t),l=r.length,c=r[l-1].indexOf("@");if(l<4&&c>-1&&--l,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof s!="number")return[4,r.length===4||c>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=c>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=c>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=c>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var f=s>0?r[0]:s<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[l,f];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var p=r[0].match(qk),x=r[1].match(qk);return Zk(s,p)?[l,r[0]]:Zk(s,x)?[l,r[1]]:[l,r[p!=null&&x!=null?2:1]]}return[l,f]}function $a(t,s,r){r==null&&(r={});var l="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?l=r.dateNF:l=t;break;case"number":t==14&&r.dateNF?l=r.dateNF:l=(r.table!=null?r.table:Mi)[t],l==null&&(l=r.table&&r.table[jk[t]]||Mi[jk[t]]),l==null&&(l=kB[t]||"General");break}if(Zg(l,0))return yc(s,r);s instanceof Date&&(s=XP(s,r.date1904));var c=zB(l,s);if(Zg(c[1]))return yc(s,r);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return VB(c[1],s,r,c[0])}function fl(t,s){if(typeof s!="number"){s=+s||-1;for(var r=0;r<392;++r){if(Mi[r]==null){s<0&&(s=r);continue}if(Mi[r]==t){s=r;break}}s<0&&(s=391)}return Mi[s]=t,s}function jm(t){for(var s=0;s!=392;++s)t[s]!==void 0&&fl(t[s],s)}function kd(){Mi=wB()}var XB={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},qP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function HB(t){var s=typeof t=="number"?Mi[t]:t;return s=s.replace(qP,"(\\d+)"),new RegExp("^"+s+"$")}function YB(t,s,r){var l=-1,c=-1,f=-1,p=-1,x=-1,w=-1;(s.match(qP)||[]).forEach(function(F,L){var B=parseInt(r[L+1],10);switch(F.toLowerCase().charAt(0)){case"y":l=B;break;case"d":f=B;break;case"h":p=B;break;case"s":w=B;break;case"m":p>=0?x=B:c=B;break}}),w>=0&&x==-1&&c>=0&&(x=c,c=-1);var P=(""+(l>=0?l:new Date().getFullYear())).slice(-4)+"-"+("00"+(c>=1?c:1)).slice(-2)+"-"+("00"+(f>=1?f:1)).slice(-2);P.length==7&&(P="0"+P),P.length==8&&(P="20"+P);var C=("00"+(p>=0?p:0)).slice(-2)+":"+("00"+(x>=0?x:0)).slice(-2)+":"+("00"+(w>=0?w:0)).slice(-2);return p==-1&&x==-1&&w==-1?P:l==-1&&c==-1&&f==-1?C:P+"T"+C}var UB=function(){var t={};t.version="1.2.0";function s(){for(var G=0,oe=new Array(256),fe=0;fe!=256;++fe)G=fe,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,oe[fe]=G;return typeof Int32Array<"u"?new Int32Array(oe):oe}var r=s();function l(G){var oe=0,fe=0,pe=0,Te=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(pe=0;pe!=256;++pe)Te[pe]=G[pe];for(pe=0;pe!=256;++pe)for(fe=G[pe],oe=256+pe;oe<4096;oe+=256)fe=Te[oe]=fe>>>8^G[fe&255];var De=[];for(pe=1;pe!=16;++pe)De[pe-1]=typeof Int32Array<"u"?Te.subarray(pe*256,pe*256+256):Te.slice(pe*256,pe*256+256);return De}var c=l(r),f=c[0],p=c[1],x=c[2],w=c[3],P=c[4],C=c[5],F=c[6],L=c[7],B=c[8],U=c[9],Y=c[10],Q=c[11],N=c[12],X=c[13],W=c[14];function he(G,oe){for(var fe=oe^-1,pe=0,Te=G.length;pe<Te;)fe=fe>>>8^r[(fe^G.charCodeAt(pe++))&255];return~fe}function K(G,oe){for(var fe=oe^-1,pe=G.length-15,Te=0;Te<pe;)fe=W[G[Te++]^fe&255]^X[G[Te++]^fe>>8&255]^N[G[Te++]^fe>>16&255]^Q[G[Te++]^fe>>>24]^Y[G[Te++]]^U[G[Te++]]^B[G[Te++]]^L[G[Te++]]^F[G[Te++]]^C[G[Te++]]^P[G[Te++]]^w[G[Te++]]^x[G[Te++]]^p[G[Te++]]^f[G[Te++]]^r[G[Te++]];for(pe+=15;Te<pe;)fe=fe>>>8^r[(fe^G[Te++])&255];return~fe}function le(G,oe){for(var fe=oe^-1,pe=0,Te=G.length,De=0,Me=0;pe<Te;)De=G.charCodeAt(pe++),De<128?fe=fe>>>8^r[(fe^De)&255]:De<2048?(fe=fe>>>8^r[(fe^(192|De>>6&31))&255],fe=fe>>>8^r[(fe^(128|De&63))&255]):De>=55296&&De<57344?(De=(De&1023)+64,Me=G.charCodeAt(pe++)&1023,fe=fe>>>8^r[(fe^(240|De>>8&7))&255],fe=fe>>>8^r[(fe^(128|De>>2&63))&255],fe=fe>>>8^r[(fe^(128|Me>>6&15|(De&3)<<4))&255],fe=fe>>>8^r[(fe^(128|Me&63))&255]):(fe=fe>>>8^r[(fe^(224|De>>12&15))&255],fe=fe>>>8^r[(fe^(128|De>>6&63))&255],fe=fe>>>8^r[(fe^(128|De&63))&255]);return~fe}return t.table=r,t.bstr=he,t.buf=K,t.str=le,t}(),Ti=function(){var s={};s.version="1.2.1";function r(Ee,Ge){for(var Xe=Ee.split("/"),Le=Ge.split("/"),Ve=0,$e=0,mt=Math.min(Xe.length,Le.length);Ve<mt;++Ve){if($e=Xe[Ve].length-Le[Ve].length)return $e;if(Xe[Ve]!=Le[Ve])return Xe[Ve]<Le[Ve]?-1:1}return Xe.length-Le.length}function l(Ee){if(Ee.charAt(Ee.length-1)=="/")return Ee.slice(0,-1).indexOf("/")===-1?Ee:l(Ee.slice(0,-1));var Ge=Ee.lastIndexOf("/");return Ge===-1?Ee:Ee.slice(0,Ge+1)}function c(Ee){if(Ee.charAt(Ee.length-1)=="/")return c(Ee.slice(0,-1));var Ge=Ee.lastIndexOf("/");return Ge===-1?Ee:Ee.slice(Ge+1)}function f(Ee,Ge){typeof Ge=="string"&&(Ge=new Date(Ge));var Xe=Ge.getHours();Xe=Xe<<6|Ge.getMinutes(),Xe=Xe<<5|Ge.getSeconds()>>>1,Ee.write_shift(2,Xe);var Le=Ge.getFullYear()-1980;Le=Le<<4|Ge.getMonth()+1,Le=Le<<5|Ge.getDate(),Ee.write_shift(2,Le)}function p(Ee){var Ge=Ee.read_shift(2)&65535,Xe=Ee.read_shift(2)&65535,Le=new Date,Ve=Xe&31;Xe>>>=5;var $e=Xe&15;Xe>>>=4,Le.setMilliseconds(0),Le.setFullYear(Xe+1980),Le.setMonth($e-1),Le.setDate(Ve);var mt=Ge&31;Ge>>>=5;var me=Ge&63;return Ge>>>=6,Le.setHours(Ge),Le.setMinutes(me),Le.setSeconds(mt<<1),Le}function x(Ee){Ks(Ee,0);for(var Ge={},Xe=0;Ee.l<=Ee.length-4;){var Le=Ee.read_shift(2),Ve=Ee.read_shift(2),$e=Ee.l+Ve,mt={};switch(Le){case 21589:Xe=Ee.read_shift(1),Xe&1&&(mt.mtime=Ee.read_shift(4)),Ve>5&&(Xe&2&&(mt.atime=Ee.read_shift(4)),Xe&4&&(mt.ctime=Ee.read_shift(4))),mt.mtime&&(mt.mt=new Date(mt.mtime*1e3));break}Ee.l=$e,Ge[Le]=mt}return Ge}var w;function P(){return w||(w={})}function C(Ee,Ge){if(Ee[0]==80&&Ee[1]==75)return Ir(Ee,Ge);if((Ee[0]|32)==109&&(Ee[1]|32)==105)return to(Ee,Ge);if(Ee.length<512)throw new Error("CFB file size "+Ee.length+" < 512");var Xe=3,Le=512,Ve=0,$e=0,mt=0,me=0,d=0,g=[],y=Ee.slice(0,512);Ks(y,0);var k=F(y);switch(Xe=k[0],Xe){case 3:Le=512;break;case 4:Le=4096;break;case 0:if(k[1]==0)return Ir(Ee,Ge);default:throw new Error("Major Version: Expected 3 or 4 saw "+Xe)}Le!==512&&(y=Ee.slice(0,Le),Ks(y,28));var T=Ee.slice(0,Le);L(y,Xe);var D=y.read_shift(4,"i");if(Xe===3&&D!==0)throw new Error("# Directory Sectors: Expected 0 saw "+D);y.l+=4,mt=y.read_shift(4,"i"),y.l+=4,y.chk("00100000","Mini Stream Cutoff Size: "),me=y.read_shift(4,"i"),Ve=y.read_shift(4,"i"),d=y.read_shift(4,"i"),$e=y.read_shift(4,"i");for(var _=-1,I=0;I<109&&(_=y.read_shift(4,"i"),!(_<0));++I)g[I]=_;var H=B(Ee,Le);Q(d,$e,H,Le,g);var Z=X(H,mt,g,Le);Z[mt].name="!Directory",Ve>0&&me!==Me&&(Z[me].name="!MiniFAT"),Z[g[0]].name="!FAT",Z.fat_addrs=g,Z.ssz=Le;var j={},te=[],ce=[],ue=[];W(mt,Z,H,te,Ve,j,ce,me),U(ce,ue,te),te.shift();var ge={FileIndex:ce,FullPaths:ue};return Ge&&Ge.raw&&(ge.raw={header:T,sectors:H}),ge}function F(Ee){if(Ee[Ee.l]==80&&Ee[Ee.l+1]==75)return[0,0];Ee.chk(He,"Header Signature: "),Ee.l+=16;var Ge=Ee.read_shift(2,"u");return[Ee.read_shift(2,"u"),Ge]}function L(Ee,Ge){var Xe=9;switch(Ee.l+=2,Xe=Ee.read_shift(2)){case 9:if(Ge!=3)throw new Error("Sector Shift: Expected 9 saw "+Xe);break;case 12:if(Ge!=4)throw new Error("Sector Shift: Expected 12 saw "+Xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Xe)}Ee.chk("0600","Mini Sector Shift: "),Ee.chk("000000000000","Reserved: ")}function B(Ee,Ge){for(var Xe=Math.ceil(Ee.length/Ge)-1,Le=[],Ve=1;Ve<Xe;++Ve)Le[Ve-1]=Ee.slice(Ve*Ge,(Ve+1)*Ge);return Le[Xe-1]=Ee.slice(Xe*Ge),Le}function U(Ee,Ge,Xe){for(var Le=0,Ve=0,$e=0,mt=0,me=0,d=Xe.length,g=[],y=[];Le<d;++Le)g[Le]=y[Le]=Le,Ge[Le]=Xe[Le];for(;me<y.length;++me)Le=y[me],Ve=Ee[Le].L,$e=Ee[Le].R,mt=Ee[Le].C,g[Le]===Le&&(Ve!==-1&&g[Ve]!==Ve&&(g[Le]=g[Ve]),$e!==-1&&g[$e]!==$e&&(g[Le]=g[$e])),mt!==-1&&(g[mt]=Le),Ve!==-1&&Le!=g[Le]&&(g[Ve]=g[Le],y.lastIndexOf(Ve)<me&&y.push(Ve)),$e!==-1&&Le!=g[Le]&&(g[$e]=g[Le],y.lastIndexOf($e)<me&&y.push($e));for(Le=1;Le<d;++Le)g[Le]===Le&&($e!==-1&&g[$e]!==$e?g[Le]=g[$e]:Ve!==-1&&g[Ve]!==Ve&&(g[Le]=g[Ve]));for(Le=1;Le<d;++Le)if(Ee[Le].type!==0){if(me=Le,me!=g[me])do me=g[me],Ge[Le]=Ge[me]+"/"+Ge[Le];while(me!==0&&g[me]!==-1&&me!=g[me]);g[Le]=-1}for(Ge[0]+="/",Le=1;Le<d;++Le)Ee[Le].type!==2&&(Ge[Le]+="/")}function Y(Ee,Ge,Xe){for(var Le=Ee.start,Ve=Ee.size,$e=[],mt=Le;Xe&&Ve>0&&mt>=0;)$e.push(Ge.slice(mt*De,mt*De+De)),Ve-=De,mt=jh(Xe,mt*4);return $e.length===0?Pt(0):Xs($e).slice(0,Ee.size)}function Q(Ee,Ge,Xe,Le,Ve){var $e=Me;if(Ee===Me){if(Ge!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ee!==-1){var mt=Xe[Ee],me=(Le>>>2)-1;if(!mt)return;for(var d=0;d<me&&($e=jh(mt,d*4))!==Me;++d)Ve.push($e);Q(jh(mt,Le-4),Ge-1,Xe,Le,Ve)}}function N(Ee,Ge,Xe,Le,Ve){var $e=[],mt=[];Ve||(Ve=[]);var me=Le-1,d=0,g=0;for(d=Ge;d>=0;){Ve[d]=!0,$e[$e.length]=d,mt.push(Ee[d]);var y=Xe[Math.floor(d*4/Le)];if(g=d*4&me,Le<4+g)throw new Error("FAT boundary crossed: "+d+" 4 "+Le);if(!Ee[y])break;d=jh(Ee[y],g)}return{nodes:$e,data:h2([mt])}}function X(Ee,Ge,Xe,Le){var Ve=Ee.length,$e=[],mt=[],me=[],d=[],g=Le-1,y=0,k=0,T=0,D=0;for(y=0;y<Ve;++y)if(me=[],T=y+Ge,T>=Ve&&(T-=Ve),!mt[T]){d=[];var _=[];for(k=T;k>=0;){_[k]=!0,mt[k]=!0,me[me.length]=k,d.push(Ee[k]);var I=Xe[Math.floor(k*4/Le)];if(D=k*4&g,Le<4+D)throw new Error("FAT boundary crossed: "+k+" 4 "+Le);if(!Ee[I]||(k=jh(Ee[I],D),_[k]))break}$e[T]={nodes:me,data:h2([d])}}return $e}function W(Ee,Ge,Xe,Le,Ve,$e,mt,me){for(var d=0,g=Le.length?2:0,y=Ge[Ee].data,k=0,T=0,D;k<y.length;k+=128){var _=y.slice(k,k+128);Ks(_,64),T=_.read_shift(2),D=Xy(_,0,T-g),Le.push(D);var I={name:D,type:_.read_shift(1),color:_.read_shift(1),L:_.read_shift(4,"i"),R:_.read_shift(4,"i"),C:_.read_shift(4,"i"),clsid:_.read_shift(16),state:_.read_shift(4,"i"),start:0,size:0},H=_.read_shift(2)+_.read_shift(2)+_.read_shift(2)+_.read_shift(2);H!==0&&(I.ct=he(_,_.l-8));var Z=_.read_shift(2)+_.read_shift(2)+_.read_shift(2)+_.read_shift(2);Z!==0&&(I.mt=he(_,_.l-8)),I.start=_.read_shift(4,"i"),I.size=_.read_shift(4,"i"),I.size<0&&I.start<0&&(I.size=I.type=0,I.start=Me,I.name=""),I.type===5?(d=I.start,Ve>0&&d!==Me&&(Ge[d].name="!StreamData")):I.size>=4096?(I.storage="fat",Ge[I.start]===void 0&&(Ge[I.start]=N(Xe,I.start,Ge.fat_addrs,Ge.ssz)),Ge[I.start].name=I.name,I.content=Ge[I.start].data.slice(0,I.size)):(I.storage="minifat",I.size<0?I.size=0:d!==Me&&I.start!==Me&&Ge[d]&&(I.content=Y(I,Ge[d].data,(Ge[me]||{}).data))),I.content&&Ks(I.content,0),$e[D]=I,mt.push(I)}}function he(Ee,Ge){return new Date((la(Ee,Ge+4)/1e7*Math.pow(2,32)+la(Ee,Ge)/1e7-11644473600)*1e3)}function K(Ee,Ge){return P(),C(w.readFileSync(Ee),Ge)}function le(Ee,Ge){var Xe=Ge&&Ge.type;switch(Xe||$i&&Buffer.isBuffer(Ee)&&(Xe="buffer"),Xe||"base64"){case"file":return K(Ee,Ge);case"base64":return C(da(ya(Ee)),Ge);case"binary":return C(da(Ee),Ge)}return C(Ee,Ge)}function G(Ee,Ge){var Xe=Ge||{},Le=Xe.root||"Root Entry";if(Ee.FullPaths||(Ee.FullPaths=[]),Ee.FileIndex||(Ee.FileIndex=[]),Ee.FullPaths.length!==Ee.FileIndex.length)throw new Error("inconsistent CFB structure");Ee.FullPaths.length===0&&(Ee.FullPaths[0]=Le+"/",Ee.FileIndex[0]={name:Le,type:5}),Xe.CLSID&&(Ee.FileIndex[0].clsid=Xe.CLSID),oe(Ee)}function oe(Ee){var Ge="Sh33tJ5";if(!Ti.find(Ee,"/"+Ge)){var Xe=Pt(4);Xe[0]=55,Xe[1]=Xe[3]=50,Xe[2]=54,Ee.FileIndex.push({name:Ge,type:2,content:Xe,size:4,L:69,R:69,C:69}),Ee.FullPaths.push(Ee.FullPaths[0]+Ge),fe(Ee)}}function fe(Ee,Ge){G(Ee);for(var Xe=!1,Le=!1,Ve=Ee.FullPaths.length-1;Ve>=0;--Ve){var $e=Ee.FileIndex[Ve];switch($e.type){case 0:Le?Xe=!0:(Ee.FileIndex.pop(),Ee.FullPaths.pop());break;case 1:case 2:case 5:Le=!0,isNaN($e.R*$e.L*$e.C)&&(Xe=!0),$e.R>-1&&$e.L>-1&&$e.R==$e.L&&(Xe=!0);break;default:Xe=!0;break}}if(!(!Xe&&!Ge)){var mt=new Date(1987,1,19),me=0,d=Object.create?Object.create(null):{},g=[];for(Ve=0;Ve<Ee.FullPaths.length;++Ve)d[Ee.FullPaths[Ve]]=!0,Ee.FileIndex[Ve].type!==0&&g.push([Ee.FullPaths[Ve],Ee.FileIndex[Ve]]);for(Ve=0;Ve<g.length;++Ve){var y=l(g[Ve][0]);Le=d[y],Le||(g.push([y,{name:c(y).replace("/",""),type:1,clsid:tt,ct:mt,mt,content:null}]),d[y]=!0)}for(g.sort(function(D,_){return r(D[0],_[0])}),Ee.FullPaths=[],Ee.FileIndex=[],Ve=0;Ve<g.length;++Ve)Ee.FullPaths[Ve]=g[Ve][0],Ee.FileIndex[Ve]=g[Ve][1];for(Ve=0;Ve<g.length;++Ve){var k=Ee.FileIndex[Ve],T=Ee.FullPaths[Ve];if(k.name=c(T).replace("/",""),k.L=k.R=k.C=-(k.color=1),k.size=k.content?k.content.length:0,k.start=0,k.clsid=k.clsid||tt,Ve===0)k.C=g.length>1?1:-1,k.size=0,k.type=5;else if(T.slice(-1)=="/"){for(me=Ve+1;me<g.length&&l(Ee.FullPaths[me])!=T;++me);for(k.C=me>=g.length?-1:me,me=Ve+1;me<g.length&&l(Ee.FullPaths[me])!=l(T);++me);k.R=me>=g.length?-1:me,k.type=1}else l(Ee.FullPaths[Ve+1]||"")==l(T)&&(k.R=Ve+1),k.type=2}}}function pe(Ee,Ge){var Xe=Ge||{};if(Xe.fileType=="mad")return Ol(Ee,Xe);switch(fe(Ee),Xe.fileType){case"zip":return eo(Ee,Xe)}var Le=function(D){for(var _=0,I=0,H=0;H<D.FileIndex.length;++H){var Z=D.FileIndex[H];if(Z.content){var j=Z.content.length;j>0&&(j<4096?_+=j+63>>6:I+=j+511>>9)}}for(var te=D.FullPaths.length+3>>2,ce=_+7>>3,ue=_+127>>7,ge=ce+I+te+ue,be=ge+127>>7,ke=be<=109?0:Math.ceil((be-109)/127);ge+be+ke+127>>7>be;)ke=++be<=109?0:Math.ceil((be-109)/127);var Be=[1,ke,be,ue,te,I,_,0];return D.FileIndex[0].size=_<<6,Be[7]=(D.FileIndex[0].start=Be[0]+Be[1]+Be[2]+Be[3]+Be[4]+Be[5])+(Be[6]+7>>3),Be}(Ee),Ve=Pt(Le[7]<<9),$e=0,mt=0;{for($e=0;$e<8;++$e)Ve.write_shift(1,je[$e]);for($e=0;$e<8;++$e)Ve.write_shift(2,0);for(Ve.write_shift(2,62),Ve.write_shift(2,3),Ve.write_shift(2,65534),Ve.write_shift(2,9),Ve.write_shift(2,6),$e=0;$e<3;++$e)Ve.write_shift(2,0);for(Ve.write_shift(4,0),Ve.write_shift(4,Le[2]),Ve.write_shift(4,Le[0]+Le[1]+Le[2]+Le[3]-1),Ve.write_shift(4,0),Ve.write_shift(4,1<<12),Ve.write_shift(4,Le[3]?Le[0]+Le[1]+Le[2]-1:Me),Ve.write_shift(4,Le[3]),Ve.write_shift(-4,Le[1]?Le[0]-1:Me),Ve.write_shift(4,Le[1]),$e=0;$e<109;++$e)Ve.write_shift(-4,$e<Le[2]?Le[1]+$e:-1)}if(Le[1])for(mt=0;mt<Le[1];++mt){for(;$e<236+mt*127;++$e)Ve.write_shift(-4,$e<Le[2]?Le[1]+$e:-1);Ve.write_shift(-4,mt===Le[1]-1?Me:mt+1)}var me=function(D){for(mt+=D;$e<mt-1;++$e)Ve.write_shift(-4,$e+1);D&&(++$e,Ve.write_shift(-4,Me))};for(mt=$e=0,mt+=Le[1];$e<mt;++$e)Ve.write_shift(-4,Ze.DIFSECT);for(mt+=Le[2];$e<mt;++$e)Ve.write_shift(-4,Ze.FATSECT);me(Le[3]),me(Le[4]);for(var d=0,g=0,y=Ee.FileIndex[0];d<Ee.FileIndex.length;++d)y=Ee.FileIndex[d],y.content&&(g=y.content.length,!(g<4096)&&(y.start=mt,me(g+511>>9)));for(me(Le[6]+7>>3);Ve.l&511;)Ve.write_shift(-4,Ze.ENDOFCHAIN);for(mt=$e=0,d=0;d<Ee.FileIndex.length;++d)y=Ee.FileIndex[d],y.content&&(g=y.content.length,!(!g||g>=4096)&&(y.start=mt,me(g+63>>6)));for(;Ve.l&511;)Ve.write_shift(-4,Ze.ENDOFCHAIN);for($e=0;$e<Le[4]<<2;++$e){var k=Ee.FullPaths[$e];if(!k||k.length===0){for(d=0;d<17;++d)Ve.write_shift(4,0);for(d=0;d<3;++d)Ve.write_shift(4,-1);for(d=0;d<12;++d)Ve.write_shift(4,0);continue}y=Ee.FileIndex[$e],$e===0&&(y.start=y.size?y.start-1:Me);var T=$e===0&&Xe.root||y.name;if(g=2*(T.length+1),Ve.write_shift(64,T,"utf16le"),Ve.write_shift(2,g),Ve.write_shift(1,y.type),Ve.write_shift(1,y.color),Ve.write_shift(-4,y.L),Ve.write_shift(-4,y.R),Ve.write_shift(-4,y.C),y.clsid)Ve.write_shift(16,y.clsid,"hex");else for(d=0;d<4;++d)Ve.write_shift(4,0);Ve.write_shift(4,y.state||0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,y.start),Ve.write_shift(4,y.size),Ve.write_shift(4,0)}for($e=1;$e<Ee.FileIndex.length;++$e)if(y=Ee.FileIndex[$e],y.size>=4096)if(Ve.l=y.start+1<<9,$i&&Buffer.isBuffer(y.content))y.content.copy(Ve,Ve.l,0,y.size),Ve.l+=y.size+511&-512;else{for(d=0;d<y.size;++d)Ve.write_shift(1,y.content[d]);for(;d&511;++d)Ve.write_shift(1,0)}for($e=1;$e<Ee.FileIndex.length;++$e)if(y=Ee.FileIndex[$e],y.size>0&&y.size<4096)if($i&&Buffer.isBuffer(y.content))y.content.copy(Ve,Ve.l,0,y.size),Ve.l+=y.size+63&-64;else{for(d=0;d<y.size;++d)Ve.write_shift(1,y.content[d]);for(;d&63;++d)Ve.write_shift(1,0)}if($i)Ve.l=Ve.length;else for(;Ve.l<Ve.length;)Ve.write_shift(1,0);return Ve}function Te(Ee,Ge){var Xe=Ee.FullPaths.map(function(d){return d.toUpperCase()}),Le=Xe.map(function(d){var g=d.split("/");return g[g.length-(d.slice(-1)=="/"?2:1)]}),Ve=!1;Ge.charCodeAt(0)===47?(Ve=!0,Ge=Xe[0].slice(0,-1)+Ge):Ve=Ge.indexOf("/")!==-1;var $e=Ge.toUpperCase(),mt=Ve===!0?Xe.indexOf($e):Le.indexOf($e);if(mt!==-1)return Ee.FileIndex[mt];var me=!$e.match(Gd);for($e=$e.replace(Dr,""),me&&($e=$e.replace(Gd,"!")),mt=0;mt<Xe.length;++mt)if((me?Xe[mt].replace(Gd,"!"):Xe[mt]).replace(Dr,"")==$e||(me?Le[mt].replace(Gd,"!"):Le[mt]).replace(Dr,"")==$e)return Ee.FileIndex[mt];return null}var De=64,Me=-2,He="d0cf11e0a1b11ae1",je=[208,207,17,224,161,177,26,225],tt="00000000000000000000000000000000",Ze={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Me,FREESECT:-1,HEADER_SIGNATURE:He,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:tt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ft(Ee,Ge,Xe){P();var Le=pe(Ee,Xe);w.writeFileSync(Ge,Le)}function Je(Ee){for(var Ge=new Array(Ee.length),Xe=0;Xe<Ee.length;++Xe)Ge[Xe]=String.fromCharCode(Ee[Xe]);return Ge.join("")}function dt(Ee,Ge){var Xe=pe(Ee,Ge);switch(Ge&&Ge.type||"buffer"){case"file":return P(),w.writeFileSync(Ge.filename,Xe),Xe;case"binary":return typeof Xe=="string"?Xe:Je(Xe);case"base64":return Xf(typeof Xe=="string"?Xe:Je(Xe));case"buffer":if($i)return Buffer.isBuffer(Xe)?Xe:El(Xe);case"array":return typeof Xe=="string"?da(Xe):Xe}return Xe}var at;function Ie(Ee){try{var Ge=Ee.InflateRaw,Xe=new Ge;if(Xe._processChunk(new Uint8Array([3,0]),Xe._finishFlushFlag),Xe.bytesRead)at=Ee;else throw new Error("zlib does not expose bytesRead")}catch(Le){console.error("cannot use native zlib: "+(Le.message||Le))}}function qe(Ee,Ge){if(!at)return ka(Ee,Ge);var Xe=at.InflateRaw,Le=new Xe,Ve=Le._processChunk(Ee.slice(Ee.l),Le._finishFlushFlag);return Ee.l+=Le.bytesRead,Ve}function Ue(Ee){return at?at.deflateRawSync(Ee):wi(Ee)}var Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ye=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ht(Ee){var Ge=(Ee<<1|Ee<<11)&139536|(Ee<<5|Ee<<15)&558144;return(Ge>>16|Ge>>8|Ge)&255}for(var vt=typeof Uint8Array<"u",kt=vt?new Uint8Array(1<<8):[],Kt=0;Kt<1<<8;++Kt)kt[Kt]=ht(Kt);function ve(Ee,Ge){var Xe=kt[Ee&255];return Ge<=8?Xe>>>8-Ge:(Xe=Xe<<8|kt[Ee>>8&255],Ge<=16?Xe>>>16-Ge:(Xe=Xe<<8|kt[Ee>>16&255],Xe>>>24-Ge))}function et(Ee,Ge){var Xe=Ge&7,Le=Ge>>>3;return(Ee[Le]|(Xe<=6?0:Ee[Le+1]<<8))>>>Xe&3}function ut(Ee,Ge){var Xe=Ge&7,Le=Ge>>>3;return(Ee[Le]|(Xe<=5?0:Ee[Le+1]<<8))>>>Xe&7}function xt(Ee,Ge){var Xe=Ge&7,Le=Ge>>>3;return(Ee[Le]|(Xe<=4?0:Ee[Le+1]<<8))>>>Xe&15}function wt(Ee,Ge){var Xe=Ge&7,Le=Ge>>>3;return(Ee[Le]|(Xe<=3?0:Ee[Le+1]<<8))>>>Xe&31}function gt(Ee,Ge){var Xe=Ge&7,Le=Ge>>>3;return(Ee[Le]|(Xe<=1?0:Ee[Le+1]<<8))>>>Xe&127}function Ht(Ee,Ge,Xe){var Le=Ge&7,Ve=Ge>>>3,$e=(1<<Xe)-1,mt=Ee[Ve]>>>Le;return Xe<8-Le||(mt|=Ee[Ve+1]<<8-Le,Xe<16-Le)||(mt|=Ee[Ve+2]<<16-Le,Xe<24-Le)||(mt|=Ee[Ve+3]<<24-Le),mt&$e}function _t(Ee,Ge,Xe){var Le=Ge&7,Ve=Ge>>>3;return Le<=5?Ee[Ve]|=(Xe&7)<<Le:(Ee[Ve]|=Xe<<Le&255,Ee[Ve+1]=(Xe&7)>>8-Le),Ge+3}function Wt(Ee,Ge,Xe){var Le=Ge&7,Ve=Ge>>>3;return Xe=(Xe&1)<<Le,Ee[Ve]|=Xe,Ge+1}function Rt(Ee,Ge,Xe){var Le=Ge&7,Ve=Ge>>>3;return Xe<<=Le,Ee[Ve]|=Xe&255,Xe>>>=8,Ee[Ve+1]=Xe,Ge+8}function vi(Ee,Ge,Xe){var Le=Ge&7,Ve=Ge>>>3;return Xe<<=Le,Ee[Ve]|=Xe&255,Xe>>>=8,Ee[Ve+1]=Xe&255,Ee[Ve+2]=Xe>>>8,Ge+16}function di(Ee,Ge){var Xe=Ee.length,Le=2*Xe>Ge?2*Xe:Ge+5,Ve=0;if(Xe>=Ge)return Ee;if($i){var $e=Uk(Le);if(Ee.copy)Ee.copy($e);else for(;Ve<Ee.length;++Ve)$e[Ve]=Ee[Ve];return $e}else if(vt){var mt=new Uint8Array(Le);if(mt.set)mt.set(Ee);else for(;Ve<Xe;++Ve)mt[Ve]=Ee[Ve];return mt}return Ee.length=Le,Ee}function ei(Ee){for(var Ge=new Array(Ee),Xe=0;Xe<Ee;++Xe)Ge[Xe]=0;return Ge}function Si(Ee,Ge,Xe){var Le=1,Ve=0,$e=0,mt=0,me=0,d=Ee.length,g=vt?new Uint16Array(32):ei(32);for($e=0;$e<32;++$e)g[$e]=0;for($e=d;$e<Xe;++$e)Ee[$e]=0;d=Ee.length;var y=vt?new Uint16Array(d):ei(d);for($e=0;$e<d;++$e)g[Ve=Ee[$e]]++,Le<Ve&&(Le=Ve),y[$e]=0;for(g[0]=0,$e=1;$e<=Le;++$e)g[$e+16]=me=me+g[$e-1]<<1;for($e=0;$e<d;++$e)me=Ee[$e],me!=0&&(y[$e]=g[me+16]++);var k=0;for($e=0;$e<d;++$e)if(k=Ee[$e],k!=0)for(me=ve(y[$e],Le)>>Le-k,mt=(1<<Le+4-k)-1;mt>=0;--mt)Ge[me|mt<<k]=k&15|$e<<4;return Le}var mi=vt?new Uint16Array(512):ei(512),Oi=vt?new Uint16Array(32):ei(32);if(!vt){for(var _i=0;_i<512;++_i)mi[_i]=0;for(_i=0;_i<32;++_i)Oi[_i]=0}(function(){for(var Ee=[],Ge=0;Ge<32;Ge++)Ee.push(5);Si(Ee,Oi,32);var Xe=[];for(Ge=0;Ge<=143;Ge++)Xe.push(8);for(;Ge<=255;Ge++)Xe.push(9);for(;Ge<=279;Ge++)Xe.push(7);for(;Ge<=287;Ge++)Xe.push(8);Si(Xe,mi,288)})();var Ji=function(){for(var Ge=vt?new Uint8Array(32768):[],Xe=0,Le=0;Xe<st.length-1;++Xe)for(;Le<st[Xe+1];++Le)Ge[Le]=Xe;for(;Le<32768;++Le)Ge[Le]=29;var Ve=vt?new Uint8Array(259):[];for(Xe=0,Le=0;Xe<Ye.length-1;++Xe)for(;Le<Ye[Xe+1];++Le)Ve[Le]=Xe;function $e(me,d){for(var g=0;g<me.length;){var y=Math.min(65535,me.length-g),k=g+y==me.length;for(d.write_shift(1,+k),d.write_shift(2,y),d.write_shift(2,~y&65535);y-- >0;)d[d.l++]=me[g++]}return d.l}function mt(me,d){for(var g=0,y=0,k=vt?new Uint16Array(32768):[];y<me.length;){var T=Math.min(65535,me.length-y);if(T<10){for(g=_t(d,g,+(y+T==me.length)),g&7&&(g+=8-(g&7)),d.l=g/8|0,d.write_shift(2,T),d.write_shift(2,~T&65535);T-- >0;)d[d.l++]=me[y++];g=d.l*8;continue}g=_t(d,g,+(y+T==me.length)+2);for(var D=0;T-- >0;){var _=me[y];D=(D<<5^_)&32767;var I=-1,H=0;if((I=k[D])&&(I|=y&-32768,I>y&&(I-=32768),I<y))for(;me[I+H]==me[y+H]&&H<250;)++H;if(H>2){_=Ve[H],_<=22?g=Rt(d,g,kt[_+1]>>1)-1:(Rt(d,g,3),g+=5,Rt(d,g,kt[_-23]>>5),g+=3);var Z=_<8?0:_-4>>2;Z>0&&(vi(d,g,H-Ye[_]),g+=Z),_=Ge[y-I],g=Rt(d,g,kt[_]>>3),g-=3;var j=_<4?0:_-2>>1;j>0&&(vi(d,g,y-I-st[_]),g+=j);for(var te=0;te<H;++te)k[D]=y&32767,D=(D<<5^me[y])&32767,++y;T-=H-1}else _<=143?_=_+48:g=Wt(d,g,1),g=Rt(d,g,kt[_]),k[D]=y&32767,++y}g=Rt(d,g,0)-1}return d.l=(g+7)/8|0,d.l}return function(d,g){return d.length<8?$e(d,g):mt(d,g)}}();function wi(Ee){var Ge=Pt(50+Math.floor(Ee.length*1.1)),Xe=Ji(Ee,Ge);return Ge.slice(0,Xe)}var Ri=vt?new Uint16Array(32768):ei(32768),ms=vt?new Uint16Array(32768):ei(32768),fn=vt?new Uint16Array(128):ei(128),kr=1,ps=1;function Ft(Ee,Ge){var Xe=wt(Ee,Ge)+257;Ge+=5;var Le=wt(Ee,Ge)+1;Ge+=5;var Ve=xt(Ee,Ge)+4;Ge+=4;for(var $e=0,mt=vt?new Uint8Array(19):ei(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=1,g=vt?new Uint8Array(8):ei(8),y=vt?new Uint8Array(8):ei(8),k=mt.length,T=0;T<Ve;++T)mt[Ae[T]]=$e=ut(Ee,Ge),d<$e&&(d=$e),g[$e]++,Ge+=3;var D=0;for(g[0]=0,T=1;T<=d;++T)y[T]=D=D+g[T-1]<<1;for(T=0;T<k;++T)(D=mt[T])!=0&&(me[T]=y[D]++);var _=0;for(T=0;T<k;++T)if(_=mt[T],_!=0){D=kt[me[T]]>>8-_;for(var I=(1<<7-_)-1;I>=0;--I)fn[D|I<<_]=_&7|T<<3}var H=[];for(d=1;H.length<Xe+Le;)switch(D=fn[gt(Ee,Ge)],Ge+=D&7,D>>>=3){case 16:for($e=3+et(Ee,Ge),Ge+=2,D=H[H.length-1];$e-- >0;)H.push(D);break;case 17:for($e=3+ut(Ee,Ge),Ge+=3;$e-- >0;)H.push(0);break;case 18:for($e=11+gt(Ee,Ge),Ge+=7;$e-- >0;)H.push(0);break;default:H.push(D),d<D&&(d=D);break}var Z=H.slice(0,Xe),j=H.slice(Xe);for(T=Xe;T<286;++T)Z[T]=0;for(T=Le;T<30;++T)j[T]=0;return kr=Si(Z,Ri,286),ps=Si(j,ms,30),Ge}function Zo(Ee,Ge){if(Ee[0]==3&&!(Ee[1]&3))return[bh(Ge),2];for(var Xe=0,Le=0,Ve=Uk(Ge||1<<18),$e=0,mt=Ve.length>>>0,me=0,d=0;!(Le&1);){if(Le=ut(Ee,Xe),Xe+=3,Le>>>1)Le>>1==1?(me=9,d=5):(Xe=Ft(Ee,Xe),me=kr,d=ps);else{Xe&7&&(Xe+=8-(Xe&7));var g=Ee[Xe>>>3]|Ee[(Xe>>>3)+1]<<8;if(Xe+=32,g>0)for(!Ge&&mt<$e+g&&(Ve=di(Ve,$e+g),mt=Ve.length);g-- >0;)Ve[$e++]=Ee[Xe>>>3],Xe+=8;continue}for(;;){!Ge&&mt<$e+32767&&(Ve=di(Ve,$e+32767),mt=Ve.length);var y=Ht(Ee,Xe,me),k=Le>>>1==1?mi[y]:Ri[y];if(Xe+=k&15,k>>>=4,!(k>>>8&255))Ve[$e++]=k;else{if(k==256)break;k-=257;var T=k<8?0:k-4>>2;T>5&&(T=0);var D=$e+Ye[k];T>0&&(D+=Ht(Ee,Xe,T),Xe+=T),y=Ht(Ee,Xe,d),k=Le>>>1==1?Oi[y]:ms[y],Xe+=k&15,k>>>=4;var _=k<4?0:k-2>>1,I=st[k];for(_>0&&(I+=Ht(Ee,Xe,_),Xe+=_),!Ge&&mt<D&&(Ve=di(Ve,D+100),mt=Ve.length);$e<D;)Ve[$e]=Ve[$e-I],++$e}}}return Ge?[Ve,Xe+7>>>3]:[Ve.slice(0,$e),Xe+7>>>3]}function ka(Ee,Ge){var Xe=Ee.slice(Ee.l||0),Le=Zo(Xe,Ge);return Ee.l+=Le[1],Le[0]}function $c(Ee,Ge){if(Ee)typeof console<"u"&&console.error(Ge);else throw new Error(Ge)}function Ir(Ee,Ge){var Xe=Ee;Ks(Xe,0);var Le=[],Ve=[],$e={FileIndex:Le,FullPaths:Ve};G($e,{root:Ge.root});for(var mt=Xe.length-4;(Xe[mt]!=80||Xe[mt+1]!=75||Xe[mt+2]!=5||Xe[mt+3]!=6)&&mt>=0;)--mt;Xe.l=mt+4,Xe.l+=4;var me=Xe.read_shift(2);Xe.l+=6;var d=Xe.read_shift(4);for(Xe.l=d,mt=0;mt<me;++mt){Xe.l+=20;var g=Xe.read_shift(4),y=Xe.read_shift(4),k=Xe.read_shift(2),T=Xe.read_shift(2),D=Xe.read_shift(2);Xe.l+=8;var _=Xe.read_shift(4),I=x(Xe.slice(Xe.l+k,Xe.l+k+T));Xe.l+=k+T+D;var H=Xe.l;Xe.l=_+4,Kc(Xe,g,y,$e,I),Xe.l=H}return $e}function Kc(Ee,Ge,Xe,Le,Ve){Ee.l+=2;var $e=Ee.read_shift(2),mt=Ee.read_shift(2),me=p(Ee);if($e&8257)throw new Error("Unsupported ZIP encryption");for(var d=Ee.read_shift(4),g=Ee.read_shift(4),y=Ee.read_shift(4),k=Ee.read_shift(2),T=Ee.read_shift(2),D="",_=0;_<k;++_)D+=String.fromCharCode(Ee[Ee.l++]);if(T){var I=x(Ee.slice(Ee.l,Ee.l+T));(I[21589]||{}).mt&&(me=I[21589].mt),((Ve||{})[21589]||{}).mt&&(me=Ve[21589].mt)}Ee.l+=T;var H=Ee.slice(Ee.l,Ee.l+g);switch(mt){case 8:H=qe(Ee,y);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+mt)}var Z=!1;$e&8&&(d=Ee.read_shift(4),d==134695760&&(d=Ee.read_shift(4),Z=!0),g=Ee.read_shift(4),y=Ee.read_shift(4)),g!=Ge&&$c(Z,"Bad compressed size: "+Ge+" != "+g),y!=Xe&&$c(Z,"Bad uncompressed size: "+Xe+" != "+y),Us(Le,D,H,{unsafe:!0,mt:me})}function eo(Ee,Ge){var Xe=Ge||{},Le=[],Ve=[],$e=Pt(1),mt=Xe.compression?8:0,me=0,d=0,g=0,y=0,k=0,T=Ee.FullPaths[0],D=T,_=Ee.FileIndex[0],I=[],H=0;for(d=1;d<Ee.FullPaths.length;++d)if(D=Ee.FullPaths[d].slice(T.length),_=Ee.FileIndex[d],!(!_.size||!_.content||D=="Sh33tJ5")){var Z=y,j=Pt(D.length);for(g=0;g<D.length;++g)j.write_shift(1,D.charCodeAt(g)&127);j=j.slice(0,j.l),I[k]=UB.buf(_.content,0);var te=_.content;mt==8&&(te=Ue(te)),$e=Pt(30),$e.write_shift(4,67324752),$e.write_shift(2,20),$e.write_shift(2,me),$e.write_shift(2,mt),_.mt?f($e,_.mt):$e.write_shift(4,0),$e.write_shift(-4,I[k]),$e.write_shift(4,te.length),$e.write_shift(4,_.content.length),$e.write_shift(2,j.length),$e.write_shift(2,0),y+=$e.length,Le.push($e),y+=j.length,Le.push(j),y+=te.length,Le.push(te),$e=Pt(46),$e.write_shift(4,33639248),$e.write_shift(2,0),$e.write_shift(2,20),$e.write_shift(2,me),$e.write_shift(2,mt),$e.write_shift(4,0),$e.write_shift(-4,I[k]),$e.write_shift(4,te.length),$e.write_shift(4,_.content.length),$e.write_shift(2,j.length),$e.write_shift(2,0),$e.write_shift(2,0),$e.write_shift(2,0),$e.write_shift(2,0),$e.write_shift(4,0),$e.write_shift(4,Z),H+=$e.l,Ve.push($e),H+=j.length,Ve.push(j),++k}return $e=Pt(22),$e.write_shift(4,101010256),$e.write_shift(2,0),$e.write_shift(2,0),$e.write_shift(2,k),$e.write_shift(2,k),$e.write_shift(4,H),$e.write_shift(4,y),$e.write_shift(2,0),Xs([Xs(Le),Xs(Ve),$e])}var Jo={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Sa(Ee,Ge){if(Ee.ctype)return Ee.ctype;var Xe=Ee.name||"",Le=Xe.match(/\.([^\.]+)$/);return Le&&Jo[Le[1]]||Ge&&(Le=(Xe=Ge).match(/[\.\\]([^\.\\])+$/),Le&&Jo[Le[1]])?Jo[Le[1]]:"application/octet-stream"}function Ll(Ee){for(var Ge=Xf(Ee),Xe=[],Le=0;Le<Ge.length;Le+=76)Xe.push(Ge.slice(Le,Le+76));return Xe.join(`\r
`)+`\r
`}function Il(Ee){var Ge=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(g){var y=g.charCodeAt(0).toString(16).toUpperCase();return"="+(y.length==1?"0"+y:y)});Ge=Ge.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ge.charAt(0)==`
`&&(Ge="=0D"+Ge.slice(1)),Ge=Ge.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Xe=[],Le=Ge.split(`\r
`),Ve=0;Ve<Le.length;++Ve){var $e=Le[Ve];if($e.length==0){Xe.push("");continue}for(var mt=0;mt<$e.length;){var me=76,d=$e.slice(mt,mt+me);d.charAt(me-1)=="="?me--:d.charAt(me-2)=="="?me-=2:d.charAt(me-3)=="="&&(me-=3),d=$e.slice(mt,mt+me),mt+=me,mt<$e.length&&(d+="="),Xe.push(d)}}return Xe.join(`\r
`)}function qc(Ee){for(var Ge=[],Xe=0;Xe<Ee.length;++Xe){for(var Le=Ee[Xe];Xe<=Ee.length&&Le.charAt(Le.length-1)=="=";)Le=Le.slice(0,Le.length-1)+Ee[++Xe];Ge.push(Le)}for(var Ve=0;Ve<Ge.length;++Ve)Ge[Ve]=Ge[Ve].replace(/[=][0-9A-Fa-f]{2}/g,function($e){return String.fromCharCode(parseInt($e.slice(1),16))});return da(Ge.join(`\r
`))}function oi(Ee,Ge,Xe){for(var Le="",Ve="",$e="",mt,me=0;me<10;++me){var d=Ge[me];if(!d||d.match(/^\s*$/))break;var g=d.match(/^(.*?):\s*([^\s].*)$/);if(g)switch(g[1].toLowerCase()){case"content-location":Le=g[2].trim();break;case"content-type":$e=g[2].trim();break;case"content-transfer-encoding":Ve=g[2].trim();break}}switch(++me,Ve.toLowerCase()){case"base64":mt=da(ya(Ge.slice(me).join("")));break;case"quoted-printable":mt=qc(Ge.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ve)}var y=Us(Ee,Le.slice(Xe.length),mt,{unsafe:!0});$e&&(y.ctype=$e)}function to(Ee,Ge){if(Je(Ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Xe=Ge&&Ge.root||"",Le=($i&&Buffer.isBuffer(Ee)?Ee.toString("binary"):Je(Ee)).split(`\r
`),Ve=0,$e="";for(Ve=0;Ve<Le.length;++Ve)if($e=Le[Ve],!!/^Content-Location:/i.test($e)&&($e=$e.slice($e.indexOf("file")),Xe||(Xe=$e.slice(0,$e.lastIndexOf("/")+1)),$e.slice(0,Xe.length)!=Xe))for(;Xe.length>0&&(Xe=Xe.slice(0,Xe.length-1),Xe=Xe.slice(0,Xe.lastIndexOf("/")+1),$e.slice(0,Xe.length)!=Xe););var mt=(Le[1]||"").match(/boundary="(.*?)"/);if(!mt)throw new Error("MAD cannot find boundary");var me="--"+(mt[1]||""),d=[],g=[],y={FileIndex:d,FullPaths:g};G(y);var k,T=0;for(Ve=0;Ve<Le.length;++Ve){var D=Le[Ve];D!==me&&D!==me+"--"||(T++&&oi(y,Le.slice(k,Ve),Xe),k=Ve)}return y}function Ol(Ee,Ge){var Xe=Ge||{},Le=Xe.boundary||"SheetJS";Le="------="+Le;for(var Ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Le.slice(2)+'"',"","",""],$e=Ee.FullPaths[0],mt=$e,me=Ee.FileIndex[0],d=1;d<Ee.FullPaths.length;++d)if(mt=Ee.FullPaths[d].slice($e.length),me=Ee.FileIndex[d],!(!me.size||!me.content||mt=="Sh33tJ5")){mt=mt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(H){return"_x"+H.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(H){return"_u"+H.charCodeAt(0).toString(16)+"_"});for(var g=me.content,y=$i&&Buffer.isBuffer(g)?g.toString("binary"):Je(g),k=0,T=Math.min(1024,y.length),D=0,_=0;_<=T;++_)(D=y.charCodeAt(_))>=32&&D<128&&++k;var I=k>=T*4/5;Ve.push(Le),Ve.push("Content-Location: "+(Xe.root||"file:///C:/SheetJS/")+mt),Ve.push("Content-Transfer-Encoding: "+(I?"quoted-printable":"base64")),Ve.push("Content-Type: "+Sa(me,mt)),Ve.push(""),Ve.push(I?Il(y):Ll(y))}return Ve.push(Le+`--\r
`),Ve.join(`\r
`)}function io(Ee){var Ge={};return G(Ge,Ee),Ge}function Us(Ee,Ge,Xe,Le){var Ve=Le&&Le.unsafe;Ve||G(Ee);var $e=!Ve&&Ti.find(Ee,Ge);if(!$e){var mt=Ee.FullPaths[0];Ge.slice(0,mt.length)==mt?mt=Ge:(mt.slice(-1)!="/"&&(mt+="/"),mt=(mt+Ge).replace("//","/")),$e={name:c(Ge),type:2},Ee.FileIndex.push($e),Ee.FullPaths.push(mt),Ve||Ti.utils.cfb_gc(Ee)}return $e.content=Xe,$e.size=Xe?Xe.length:0,Le&&(Le.CLSID&&($e.clsid=Le.CLSID),Le.mt&&($e.mt=Le.mt),Le.ct&&($e.ct=Le.ct)),$e}function ns(Ee,Ge){G(Ee);var Xe=Ti.find(Ee,Ge);if(Xe){for(var Le=0;Le<Ee.FileIndex.length;++Le)if(Ee.FileIndex[Le]==Xe)return Ee.FileIndex.splice(Le,1),Ee.FullPaths.splice(Le,1),!0}return!1}function Ca(Ee,Ge,Xe){G(Ee);var Le=Ti.find(Ee,Ge);if(Le){for(var Ve=0;Ve<Ee.FileIndex.length;++Ve)if(Ee.FileIndex[Ve]==Le)return Ee.FileIndex[Ve].name=c(Xe),Ee.FullPaths[Ve]=Xe,!0}return!1}function Ao(Ee){fe(Ee,!0)}return s.find=Te,s.read=le,s.parse=C,s.write=dt,s.writeFile=ft,s.utils={cfb_new:io,cfb_add:Us,cfb_del:ns,cfb_mov:Ca,cfb_gc:Ao,ReadShift:hf,CheckField:yD,prep_blob:Ks,bconcat:Xs,use_zlib:Ie,_deflateRaw:wi,_inflateRaw:ka,consts:Ze},s}();function WB(t){return typeof t=="string"?Gm(t):Array.isArray(t)?vB(t):t}function f0(t,s,r){if(typeof Deno<"u"){if(r&&typeof s=="string")switch(r){case"utf8":s=new TextEncoder(r).encode(s);break;case"binary":s=Gm(s);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,s)}var l=r=="utf8"?zo(s):s;if(typeof IE_SaveFile<"u")return IE_SaveFile(l,t);if(typeof Blob<"u"){var c=new Blob([WB(l)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(c,t);if(typeof saveAs<"u")return saveAs(c,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var f=URL.createObjectURL(c);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(f)},6e4),chrome.downloads.download({url:f,filename:t,saveAs:!0});var p=document.createElement("a");if(p.download!=null)return p.download=t,p.href=f,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(f)},6e4),f}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var x=File(t);return x.open("w"),x.encoding="binary",Array.isArray(s)&&(s=Eh(s)),x.write(s),x.close(),s}catch(w){if(!w.message||!w.message.match(/onstruct/))throw w}throw new Error("cannot save file "+t)}function GB(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(t);s.open("r"),s.encoding="binary";var r=s.read();return s.close(),r}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("Cannot access file "+t)}function fs(t){for(var s=Object.keys(t),r=[],l=0;l<s.length;++l)Object.prototype.hasOwnProperty.call(t,s[l])&&r.push(s[l]);return r}function Jk(t,s){for(var r=[],l=fs(t),c=0;c!==l.length;++c)r[t[l[c]][s]]==null&&(r[t[l[c]][s]]=l[c]);return r}function $m(t){for(var s=[],r=fs(t),l=0;l!==r.length;++l)s[t[r[l]]]=r[l];return s}function Km(t){for(var s=[],r=fs(t),l=0;l!==r.length;++l)s[t[r[l]]]=parseInt(r[l],10);return s}function jB(t){for(var s=[],r=fs(t),l=0;l!==r.length;++l)s[t[r[l]]]==null&&(s[t[r[l]]]=[]),s[t[r[l]]].push(r[l]);return s}var Qg=new Date(1899,11,30,0,0,0);function Is(t,s){var r=t.getTime();s&&(r-=1462*24*60*60*1e3);var l=Qg.getTime()+(t.getTimezoneOffset()-Qg.getTimezoneOffset())*6e4;return(r-l)/(24*60*60*1e3)}var ZP=new Date,$B=Qg.getTime()+(ZP.getTimezoneOffset()-Qg.getTimezoneOffset())*6e4,Qk=ZP.getTimezoneOffset();function qm(t){var s=new Date;return s.setTime(t*24*60*60*1e3+$B),s.getTimezoneOffset()!==Qk&&s.setTime(s.getTime()+(s.getTimezoneOffset()-Qk)*6e4),s}function KB(t){var s=0,r=0,l=!1,c=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!c)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var f=1;f!=c.length;++f)if(c[f]){switch(r=1,f>3&&(l=!0),c[f].slice(c[f].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+c[f].slice(c[f].length-1));case"D":r*=24;case"H":r*=60;case"M":if(l)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}s+=r*parseInt(c[f],10)}return s}var e2=new Date("2017-02-19T19:06:09.000Z"),JP=isNaN(e2.getFullYear())?new Date("2/19/17"):e2,qB=JP.getFullYear()==2017;function Xn(t,s){var r=new Date(t);if(qB)return s>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):s<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(JP.getFullYear()==1917&&!isNaN(r.getFullYear())){var l=r.getFullYear();return t.indexOf(""+l)>-1||r.setFullYear(r.getFullYear()+100),r}var c=t.match(/\d+/g)||["2017","2","19","0","0","0"],f=new Date(+c[0],+c[1]-1,+c[2],+c[3]||0,+c[4]||0,+c[5]||0);return t.indexOf("Z")>-1&&(f=new Date(f.getTime()-f.getTimezoneOffset()*60*1e3)),f}function bc(t,s){if($i&&Buffer.isBuffer(t)){if(s){if(t[0]==255&&t[1]==254)return zo(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return zo(VP(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(t[0]==255&&t[1]==254)return zo(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return zo(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(f){return r[f]||f})}catch{}for(var l=[],c=0;c!=t.length;++c)l.push(String.fromCharCode(t[c]));return l.join("")}function Hn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=Hn(t[r]));return s}function as(t,s){for(var r="";r.length<s;)r+=t;return r}function vo(t){var s=Number(t);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(t))return s;var r=1,l=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(s=Number(l))||(l=l.replace(/[(](.*)[)]/,function(c,f){return r=-r,f}),!isNaN(s=Number(l)))?s/r:s}var ZB=["january","february","march","april","may","june","july","august","september","october","november","december"];function ed(t){var s=new Date(t),r=new Date(NaN),l=s.getYear(),c=s.getMonth(),f=s.getDate();if(isNaN(f))return r;var p=t.toLowerCase();if(p.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(p=p.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),p.length>3&&ZB.indexOf(p)==-1)return r}else if(p.match(/[a-z]/))return r;return l<0||l>8099?r:(c>0||f>1)&&l!=101?s:t.match(/[^-0-9:,\/\\]/)?r:s}var JB=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,l,c){if(t||typeof l=="string")return r.split(l);for(var f=r.split(l),p=[f[0]],x=1;x<f.length;++x)p.push(c),p.push(f[x]);return p}}();function QP(t){return t?t.content&&t.type?bc(t.content,!0):t.data?Wd(t.data):t.asNodeBuffer&&$i?Wd(t.asNodeBuffer().toString("binary")):t.asBinary?Wd(t.asBinary()):t._data&&t._data.getContent?Wd(bc(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function eD(t){if(!t)return null;if(t.data)return Hk(t.data);if(t.asNodeBuffer&&$i)return t.asNodeBuffer();if(t._data&&t._data.getContent){var s=t._data.getContent();return typeof s=="string"?Hk(s):Array.prototype.slice.call(s)}return t.content&&t.type?t.content:null}function QB(t){return t&&t.name.slice(-4)===".bin"?eD(t):QP(t)}function Ra(t,s){for(var r=t.FullPaths||fs(t.files),l=s.toLowerCase().replace(/[\/]/g,"\\"),c=l.replace(/\\/g,"/"),f=0;f<r.length;++f){var p=r[f].replace(/^Root Entry[\/]/,"").toLowerCase();if(l==p||c==p)return t.files?t.files[r[f]]:t.FileIndex[f]}return null}function Iy(t,s){var r=Ra(t,s);if(r==null)throw new Error("Cannot find file "+s+" in zip");return r}function Ps(t,s,r){if(!r)return QB(Iy(t,s));if(!s)return null;try{return Ps(t,s)}catch{return null}}function fa(t,s,r){if(!r)return QP(Iy(t,s));if(!s)return null;try{return fa(t,s)}catch{return null}}function tD(t,s,r){if(!r)return eD(Iy(t,s));if(!s)return null;try{return tD(t,s)}catch{return null}}function t2(t){for(var s=t.FullPaths||fs(t.files),r=[],l=0;l<s.length;++l)s[l].slice(-1)!="/"&&r.push(s[l].replace(/^Root Entry[\/]/,""));return r.sort()}function Wi(t,s,r){if(t.FullPaths){if(typeof r=="string"){var l;return $i?l=El(r):l=xB(r),Ti.utils.cfb_add(t,s,l)}Ti.utils.cfb_add(t,s,r)}else t.file(s,r)}function Oy(){return Ti.utils.cfb_new()}function iD(t,s){switch(s.type){case"base64":return Ti.read(t,{type:"base64"});case"binary":return Ti.read(t,{type:"binary"});case"buffer":case"array":return Ti.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function jd(t,s){if(t.charAt(0)=="/")return t.slice(1);var r=s.split("/");s.slice(-1)!="/"&&r.pop();for(var l=t.split("/");l.length!==0;){var c=l.shift();c===".."?r.pop():c!=="."&&r.push(c)}return r.join("/")}var Cs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,e5=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,i2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,t5=/<[^>]*>/g,wr=Cs.match(i2)?i2:t5,i5=/<\w*:/,n5=/<(\/?)\w+:/;function Ii(t,s,r){for(var l={},c=0,f=0;c!==t.length&&!((f=t.charCodeAt(c))===32||f===10||f===13);++c);if(s||(l[0]=t.slice(0,c)),c===t.length)return l;var p=t.match(e5),x=0,w="",P=0,C="",F="",L=1;if(p)for(P=0;P!=p.length;++P){for(F=p[P],f=0;f!=F.length&&F.charCodeAt(f)!==61;++f);for(C=F.slice(0,f).trim();F.charCodeAt(f+1)==32;)++f;for(L=(c=F.charCodeAt(f+1))==34||c==39?1:0,w=F.slice(f+1+L,F.length-L),x=0;x!=C.length&&C.charCodeAt(x)!==58;++x);if(x===C.length)C.indexOf("_")>0&&(C=C.slice(0,C.indexOf("_"))),l[C]=w,r||(l[C.toLowerCase()]=w);else{var B=(x===5&&C.slice(0,5)==="xmlns"?"xmlns":"")+C.slice(x+1);if(l[B]&&C.slice(x-3,x)=="ext")continue;l[B]=w,r||(l[B.toLowerCase()]=w)}}return l}function $o(t){return t.replace(n5,"<$1")}var nD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ry=$m(nD),an=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,s=/_x([\da-fA-F]{4})_/ig;return function r(l){var c=l+"",f=c.indexOf("<![CDATA[");if(f==-1)return c.replace(t,function(x,w){return nD[x]||String.fromCharCode(parseInt(w,x.indexOf("x")>-1?16:10))||x}).replace(s,function(x,w){return String.fromCharCode(parseInt(w,16))});var p=c.indexOf("]]>");return r(c.slice(0,f))+c.slice(f+9,p)+r(c.slice(p+3))}}(),By=/[&<>'"]/g,s5=/[\u0000-\u0008\u000b-\u001f]/g;function An(t){var s=t+"";return s.replace(By,function(r){return Ry[r]}).replace(s5,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function n2(t){return An(t).replace(/ /g,"_x0020_")}var sD=/[\u0000-\u001f]/g;function Vy(t){var s=t+"";return s.replace(By,function(r){return Ry[r]}).replace(/\n/g,"<br/>").replace(sD,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function r5(t){var s=t+"";return s.replace(By,function(r){return Ry[r]}).replace(sD,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var s2=function(){var t=/&#(\d+);/g;function s(r,l){return String.fromCharCode(parseInt(l,10))}return function(l){return l.replace(t,s)}}();function a5(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Vn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fv(t){for(var s="",r=0,l=0,c=0,f=0,p=0,x=0;r<t.length;){if(l=t.charCodeAt(r++),l<128){s+=String.fromCharCode(l);continue}if(c=t.charCodeAt(r++),l>191&&l<224){p=(l&31)<<6,p|=c&63,s+=String.fromCharCode(p);continue}if(f=t.charCodeAt(r++),l<240){s+=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63);continue}p=t.charCodeAt(r++),x=((l&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536,s+=String.fromCharCode(55296+(x>>>10&1023)),s+=String.fromCharCode(56320+(x&1023))}return s}function r2(t){var s=bh(2*t.length),r,l,c=1,f=0,p=0,x;for(l=0;l<t.length;l+=c)c=1,(x=t.charCodeAt(l))<128?r=x:x<224?(r=(x&31)*64+(t.charCodeAt(l+1)&63),c=2):x<240?(r=(x&15)*4096+(t.charCodeAt(l+1)&63)*64+(t.charCodeAt(l+2)&63),c=3):(c=4,r=(x&7)*262144+(t.charCodeAt(l+1)&63)*4096+(t.charCodeAt(l+2)&63)*64+(t.charCodeAt(l+3)&63),r-=65536,p=55296+(r>>>10&1023),r=56320+(r&1023)),p!==0&&(s[f++]=p&255,s[f++]=p>>>8,p=0),s[f++]=r%256,s[f++]=r>>>8;return s.slice(0,f).toString("ucs2")}function a2(t){return El(t,"binary").toString("utf8")}var Z0="foo bar baz",_n=$i&&(a2(Z0)==fv(Z0)&&a2||r2(Z0)==fv(Z0)&&r2)||fv,zo=$i?function(t){return El(t,"utf8").toString("binary")}:function(t){for(var s=[],r=0,l=0,c=0;r<t.length;)switch(l=t.charCodeAt(r++),!0){case l<128:s.push(String.fromCharCode(l));break;case l<2048:s.push(String.fromCharCode(192+(l>>6))),s.push(String.fromCharCode(128+(l&63)));break;case(l>=55296&&l<57344):l-=55296,c=t.charCodeAt(r++)-56320+(l<<10),s.push(String.fromCharCode(240+(c>>18&7))),s.push(String.fromCharCode(144+(c>>12&63))),s.push(String.fromCharCode(128+(c>>6&63))),s.push(String.fromCharCode(128+(c&63)));break;default:s.push(String.fromCharCode(224+(l>>12))),s.push(String.fromCharCode(128+(l>>6&63))),s.push(String.fromCharCode(128+(l&63)))}return s.join("")},Yf=function(){var t={};return function(r,l){var c=r+"|"+(l||"");return t[c]?t[c]:t[c]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",l||"")}}(),rD=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(r){for(var l=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),c=0;c<t.length;++c)l=l.replace(t[c][0],t[c][1]);return l}}(),o5=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),l5=/<\/?(?:vt:)?variant>/g,h5=/<(?:vt:)([^>]*)>([\s\S]*)</;function o2(t,s){var r=Ii(t),l=t.match(o5(r.baseType))||[],c=[];if(l.length!=r.size){if(s.WTF)throw new Error("unexpected vector length "+l.length+" != "+r.size);return c}return l.forEach(function(f){var p=f.replace(l5,"").match(h5);p&&c.push({v:_n(p[2]),t:p[1]})}),c}var aD=/(^\s|\s$|\n)/;function Zs(t,s){return"<"+t+(s.match(aD)?' xml:space="preserve"':"")+">"+s+"</"+t+">"}function Uf(t){return fs(t).map(function(s){return" "+s+'="'+t[s]+'"'}).join("")}function ni(t,s,r){return"<"+t+(r!=null?Uf(r):"")+(s!=null?(s.match(aD)?' xml:space="preserve"':"")+">"+s+"</"+t:"/")+">"}function Ox(t,s){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(s)throw r}return""}function c5(t,s){switch(typeof t){case"string":var r=ni("vt:lpwstr",An(t));return s&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return ni((t|0)==t?"vt:i4":"vt:r8",An(String(t)));case"boolean":return ni("vt:bool",t?"true":"false")}if(t instanceof Date)return ni("vt:filetime",Ox(t));throw new Error("Unable to serialize "+t)}function zy(t){if($i&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return _n(Eh(Fy(t)));throw new Error("Bad input format: expected Buffer or string")}var Wf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ls={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],oa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function u5(t,s){for(var r=1-2*(t[s+7]>>>7),l=((t[s+7]&127)<<4)+(t[s+6]>>>4&15),c=t[s+6]&15,f=5;f>=0;--f)c=c*256+t[s+f];return l==2047?c==0?r*(1/0):NaN:(l==0?l=-1022:(l-=1023,c+=Math.pow(2,52)),r*Math.pow(2,l-52)*c)}function d5(t,s,r){var l=(s<0||1/s==-1/0?1:0)<<7,c=0,f=0,p=l?-s:s;isFinite(p)?p==0?c=f=0:(c=Math.floor(Math.log(p)/Math.LN2),f=p*Math.pow(2,52-c),c<=-1023&&(!isFinite(f)||f<Math.pow(2,52))?c=-1022:(f-=Math.pow(2,52),c+=1023)):(c=2047,f=isNaN(s)?26985:0);for(var x=0;x<=5;++x,f/=256)t[r+x]=f&255;t[r+6]=(c&15)<<4|f&15,t[r+7]=c>>4|l}var l2=function(t){for(var s=[],r=10240,l=0;l<t[0].length;++l)if(t[0][l])for(var c=0,f=t[0][l].length;c<f;c+=r)s.push.apply(s,t[0][l].slice(c,c+r));return s},h2=$i?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(s){return Buffer.isBuffer(s)?s:El(s)})):l2(t)}:l2,c2=function(t,s,r){for(var l=[],c=s;c<r;c+=2)l.push(String.fromCharCode(hl(t,c)));return l.join("").replace(Dr,"")},Xy=$i?function(t,s,r){return Buffer.isBuffer(t)?t.toString("utf16le",s,r).replace(Dr,""):c2(t,s,r)}:c2,u2=function(t,s,r){for(var l=[],c=s;c<s+r;++c)l.push(("0"+t[c].toString(16)).slice(-2));return l.join("")},oD=$i?function(t,s,r){return Buffer.isBuffer(t)?t.toString("hex",s,s+r):u2(t,s,r)}:u2,d2=function(t,s,r){for(var l=[],c=s;c<r;c++)l.push(String.fromCharCode(pu(t,c)));return l.join("")},g0=$i?function(s,r,l){return Buffer.isBuffer(s)?s.toString("utf8",r,l):d2(s,r,l)}:d2,lD=function(t,s){var r=la(t,s);return r>0?g0(t,s+4,s+4+r-1):""},hD=lD,cD=function(t,s){var r=la(t,s);return r>0?g0(t,s+4,s+4+r-1):""},uD=cD,dD=function(t,s){var r=2*la(t,s);return r>0?g0(t,s+4,s+4+r-1):""},fD=dD,gD=function(s,r){var l=la(s,r);return l>0?Xy(s,r+4,r+4+l):""},mD=gD,pD=function(t,s){var r=la(t,s);return r>0?g0(t,s+4,s+4+r):""},vD=pD,xD=function(t,s){return u5(t,s)},em=xD,Hy=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};$i&&(hD=function(s,r){if(!Buffer.isBuffer(s))return lD(s,r);var l=s.readUInt32LE(r);return l>0?s.toString("utf8",r+4,r+4+l-1):""},uD=function(s,r){if(!Buffer.isBuffer(s))return cD(s,r);var l=s.readUInt32LE(r);return l>0?s.toString("utf8",r+4,r+4+l-1):""},fD=function(s,r){if(!Buffer.isBuffer(s))return dD(s,r);var l=2*s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+l-1)},mD=function(s,r){if(!Buffer.isBuffer(s))return gD(s,r);var l=s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+l)},vD=function(s,r){if(!Buffer.isBuffer(s))return pD(s,r);var l=s.readUInt32LE(r);return s.toString("utf8",r+4,r+4+l)},em=function(s,r){return Buffer.isBuffer(s)?s.readDoubleLE(r):xD(s,r)},Hy=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var pu=function(t,s){return t[s]},hl=function(t,s){return t[s+1]*(1<<8)+t[s]},f5=function(t,s){var r=t[s+1]*256+t[s];return r<32768?r:(65535-r+1)*-1},la=function(t,s){return t[s+3]*(1<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]},jh=function(t,s){return t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]},g5=function(t,s){return t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]};function hf(t,s){var r="",l,c,f=[],p,x,w,P;switch(s){case"dbcs":if(P=this.l,$i&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(w=0;w<t;++w)r+=String.fromCharCode(hl(this,P)),P+=2;t*=2;break;case"utf8":r=g0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Xy(this,this.l,this.l+t);break;case"wstr":return hf.call(this,t,"dbcs");case"lpstr-ansi":r=hD(this,this.l),t=4+la(this,this.l);break;case"lpstr-cp":r=uD(this,this.l),t=4+la(this,this.l);break;case"lpwstr":r=fD(this,this.l),t=4+2*la(this,this.l);break;case"lpp4":t=4+la(this,this.l),r=mD(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+la(this,this.l),r=vD(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(p=pu(this,this.l+t++))!==0;)f.push(q0(p));r=f.join("");break;case"_wstr":for(t=0,r="";(p=hl(this,this.l+t))!==0;)f.push(q0(p)),t+=2;t+=2,r=f.join("");break;case"dbcs-cont":for(r="",P=this.l,w=0;w<t;++w){if(this.lens&&this.lens.indexOf(P)!==-1)return p=pu(this,P),this.l=P+1,x=hf.call(this,t-w,p?"dbcs-cont":"sbcs-cont"),f.join("")+x;f.push(q0(hl(this,P))),P+=2}r=f.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",P=this.l,w=0;w!=t;++w){if(this.lens&&this.lens.indexOf(P)!==-1)return p=pu(this,P),this.l=P+1,x=hf.call(this,t-w,p?"dbcs-cont":"sbcs-cont"),f.join("")+x;f.push(q0(pu(this,P))),P+=1}r=f.join("");break;default:switch(t){case 1:return l=pu(this,this.l),this.l++,l;case 2:return l=(s==="i"?f5:hl)(this,this.l),this.l+=2,l;case 4:case-4:return s==="i"||!(this[this.l+3]&128)?(l=(t>0?jh:g5)(this,this.l),this.l+=4,l):(c=la(this,this.l),this.l+=4,c);case 8:case-8:if(s==="f")return t==8?c=em(this,this.l):c=em([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,c;t=8;case 16:r=oD(this,this.l,t);break}}return this.l+=t,r}var m5=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255,t[r+2]=s>>>16&255,t[r+3]=s>>>24&255},p5=function(t,s,r){t[r]=s&255,t[r+1]=s>>8&255,t[r+2]=s>>16&255,t[r+3]=s>>24&255},v5=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255};function x5(t,s,r){var l=0,c=0;if(r==="dbcs"){for(c=0;c!=s.length;++c)v5(this,s.charCodeAt(c),this.l+2*c);l=2*s.length}else if(r==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),c=0;c!=s.length;++c)this[this.l+c]=s.charCodeAt(c)&255;l=s.length}else if(r==="hex"){for(;c<t;++c)this[this.l++]=parseInt(s.slice(2*c,2*c+2),16)||0;return this}else if(r==="utf16le"){var f=Math.min(this.l+t,this.length);for(c=0;c<Math.min(s.length,t);++c){var p=s.charCodeAt(c);this[this.l++]=p&255,this[this.l++]=p>>8}for(;this.l<f;)this[this.l++]=0;return this}else switch(t){case 1:l=1,this[this.l]=s&255;break;case 2:l=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:l=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:l=4,m5(this,s,this.l);break;case 8:if(l=8,r==="f"){d5(this,s,this.l);break}case 16:break;case-4:l=4,p5(this,s,this.l);break}return this.l+=l,this}function yD(t,s){var r=oD(this,this.l,t.length>>1);if(r!==t)throw new Error(s+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ks(t,s){t.l=s,t.read_shift=hf,t.chk=yD,t.write_shift=x5}function pr(t,s){t.l+=s}function Pt(t){var s=bh(t);return Ks(s,0),s}function _l(t,s,r){if(t){var l,c,f;Ks(t,t.l||0);for(var p=t.length,x=0,w=0;t.l<p;){x=t.read_shift(1),x&128&&(x=(x&127)+((t.read_shift(1)&127)<<7));var P=Zf[x]||Zf[65535];for(l=t.read_shift(1),f=l&127,c=1;c<4&&l&128;++c)f+=((l=t.read_shift(1))&127)<<7*c;w=t.l+f;var C=P.f&&P.f(t,f,r);if(t.l=w,s(C,P,x))return}}}function jr(){var t=[],s=$i?256:2048,r=function(P){var C=Pt(P);return Ks(C,0),C},l=r(s),c=function(){l&&(l.length>l.l&&(l=l.slice(0,l.l),l.l=l.length),l.length>0&&t.push(l),l=null)},f=function(P){return l&&P<l.length-l.l?l:(c(),l=r(Math.max(P+1,s)))},p=function(){return c(),Xs(t)},x=function(P){c(),l=P,l.l==null&&(l.l=l.length),f(s)};return{next:f,push:x,end:p,_bufs:t}}function Xt(t,s,r,l){var c=+s,f;if(!isNaN(c)){l||(l=Zf[c].p||(r||[]).length||0),f=1+(c>=128?1:0)+1,l>=128&&++f,l>=16384&&++f,l>=2097152&&++f;var p=t.next(f);c<=127?p.write_shift(1,c):(p.write_shift(1,(c&127)+128),p.write_shift(1,c>>7));for(var x=0;x!=4;++x)if(l>=128)p.write_shift(1,(l&127)+128),l>>=7;else{p.write_shift(1,l);break}l>0&&Hy(r)&&t.push(r)}}function cf(t,s,r){var l=Hn(t);if(s.s?(l.cRel&&(l.c+=s.s.c),l.rRel&&(l.r+=s.s.r)):(l.cRel&&(l.c+=s.c),l.rRel&&(l.r+=s.r)),!r||r.biff<12){for(;l.c>=256;)l.c-=256;for(;l.r>=65536;)l.r-=65536}return l}function f2(t,s,r){var l=Hn(t);return l.s=cf(l.s,s.s,r),l.e=cf(l.e,s.s,r),l}function uf(t,s){if(t.cRel&&t.c<0)for(t=Hn(t);t.c<0;)t.c+=s>8?16384:256;if(t.rRel&&t.r<0)for(t=Hn(t);t.r<0;)t.r+=s>8?1048576:s>5?65536:16384;var r=Fi(t);return!t.cRel&&t.cRel!=null&&(r=w5(r)),!t.rRel&&t.rRel!=null&&(r=y5(r)),r}function gv(t,s){return t.s.r==0&&!t.s.rRel&&t.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ts(t.s.c)+":"+(t.e.cRel?"":"$")+ts(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(s.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+bs(t.s.r)+":"+(t.e.rRel?"":"$")+bs(t.e.r):uf(t.s,s.biff)+":"+uf(t.e,s.biff)}function Yy(t){return parseInt(b5(t),10)-1}function bs(t){return""+(t+1)}function y5(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function b5(t){return t.replace(/\$(\d+)$/,"$1")}function Uy(t){for(var s=k5(t),r=0,l=0;l!==s.length;++l)r=26*r+s.charCodeAt(l)-64;return r-1}function ts(t){if(t<0)throw new Error("invalid column "+t);var s="";for(++t;t;t=Math.floor((t-1)/26))s=String.fromCharCode((t-1)%26+65)+s;return s}function w5(t){return t.replace(/^([A-Z])/,"$$$1")}function k5(t){return t.replace(/^\$([A-Z])/,"$1")}function S5(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function is(t){for(var s=0,r=0,l=0;l<t.length;++l){var c=t.charCodeAt(l);c>=48&&c<=57?s=10*s+(c-48):c>=65&&c<=90&&(r=26*r+(c-64))}return{c:r-1,r:s-1}}function Fi(t){for(var s=t.c+1,r="";s;s=(s-1)/26|0)r=String.fromCharCode((s-1)%26+65)+r;return r+(t.r+1)}function Zr(t){var s=t.indexOf(":");return s==-1?{s:is(t),e:is(t)}:{s:is(t.slice(0,s)),e:is(t.slice(s+1))}}function Ui(t,s){return typeof s>"u"||typeof s=="number"?Ui(t.s,t.e):(typeof t!="string"&&(t=Fi(t)),typeof s!="string"&&(s=Fi(s)),t==s?t:t+":"+s)}function hn(t){var s={s:{c:0,r:0},e:{c:0,r:0}},r=0,l=0,c=0,f=t.length;for(r=0;l<f&&!((c=t.charCodeAt(l)-64)<1||c>26);++l)r=26*r+c;for(s.s.c=--r,r=0;l<f&&!((c=t.charCodeAt(l)-48)<0||c>9);++l)r=10*r+c;if(s.s.r=--r,l===f||c!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++l,r=0;l!=f&&!((c=t.charCodeAt(l)-64)<1||c>26);++l)r=26*r+c;for(s.e.c=--r,r=0;l!=f&&!((c=t.charCodeAt(l)-48)<0||c>9);++l)r=10*r+c;return s.e.r=--r,s}function g2(t,s){var r=t.t=="d"&&s instanceof Date;if(t.z!=null)try{return t.w=$a(t.z,r?Is(s):s)}catch{}try{return t.w=$a((t.XF||{}).numFmtId||(r?14:0),r?Is(s):s)}catch{return""+s}}function yl(t,s,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Fl[t.v]||t.v:s==null?g2(t,t.v):g2(t,s))}function _h(t,s){var r=s&&s.sheet?s.sheet:"Sheet1",l={};return l[r]=t,{SheetNames:[r],Sheets:l}}function bD(t,s,r){var l=r||{},c=t?Array.isArray(t):l.dense,f=t||(c?[]:{}),p=0,x=0;if(f&&l.origin!=null){if(typeof l.origin=="number")p=l.origin;else{var w=typeof l.origin=="string"?is(l.origin):l.origin;p=w.r,x=w.c}f["!ref"]||(f["!ref"]="A1:A1")}var P={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(f["!ref"]){var C=hn(f["!ref"]);P.s.c=C.s.c,P.s.r=C.s.r,P.e.c=Math.max(P.e.c,C.e.c),P.e.r=Math.max(P.e.r,C.e.r),p==-1&&(P.e.r=p=C.e.r+1)}for(var F=0;F!=s.length;++F)if(s[F]){if(!Array.isArray(s[F]))throw new Error("aoa_to_sheet expects an array of arrays");for(var L=0;L!=s[F].length;++L)if(!(typeof s[F][L]>"u")){var B={v:s[F][L]},U=p+F,Y=x+L;if(P.s.r>U&&(P.s.r=U),P.s.c>Y&&(P.s.c=Y),P.e.r<U&&(P.e.r=U),P.e.c<Y&&(P.e.c=Y),s[F][L]&&typeof s[F][L]=="object"&&!Array.isArray(s[F][L])&&!(s[F][L]instanceof Date))B=s[F][L];else if(Array.isArray(B.v)&&(B.f=s[F][L][1],B.v=B.v[0]),B.v===null)if(B.f)B.t="n";else if(l.nullError)B.t="e",B.v=0;else if(l.sheetStubs)B.t="z";else continue;else typeof B.v=="number"?B.t="n":typeof B.v=="boolean"?B.t="b":B.v instanceof Date?(B.z=l.dateNF||Mi[14],l.cellDates?(B.t="d",B.w=$a(B.z,Is(B.v))):(B.t="n",B.v=Is(B.v),B.w=$a(B.z,B.v))):B.t="s";if(c)f[U]||(f[U]=[]),f[U][Y]&&f[U][Y].z&&(B.z=f[U][Y].z),f[U][Y]=B;else{var Q=Fi({c:Y,r:U});f[Q]&&f[Q].z&&(B.z=f[Q].z),f[Q]=B}}}return P.s.c<1e7&&(f["!ref"]=Ui(P)),f}function Sd(t,s){return bD(null,t,s)}function C5(t){return t.read_shift(4,"i")}function xo(t,s){return s||(s=Pt(4)),s.write_shift(4,t),s}function mr(t){var s=t.read_shift(4);return s===0?"":t.read_shift(s,"dbcs")}function Hs(t,s){var r=!1;return s==null&&(r=!0,s=Pt(4+2*t.length)),s.write_shift(4,t.length),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}function A5(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function T5(t,s){return s||(s=Pt(4)),s.write_shift(2,t.ich||0),s.write_shift(2,t.ifnt||0),s}function Wy(t,s){var r=t.l,l=t.read_shift(1),c=mr(t),f=[],p={t:c,h:c};if(l&1){for(var x=t.read_shift(4),w=0;w!=x;++w)f.push(A5(t));p.r=f}else p.r=[{ich:0,ifnt:0}];return t.l=r+s,p}function P5(t,s){var r=!1;return s==null&&(r=!0,s=Pt(15+4*t.t.length)),s.write_shift(1,0),Hs(t.t,s),r?s.slice(0,s.l):s}var D5=Wy;function M5(t,s){var r=!1;return s==null&&(r=!0,s=Pt(23+4*t.t.length)),s.write_shift(1,1),Hs(t.t,s),s.write_shift(4,1),T5({ich:0,ifnt:0},s),r?s.slice(0,s.l):s}function Qa(t){var s=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:s,iStyleRef:r}}function Hc(t,s){return s==null&&(s=Pt(8)),s.write_shift(-4,t.c),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}function Yc(t){var s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:s}}function Uc(t,s){return s==null&&(s=Pt(4)),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}var E5=mr,wD=Hs;function Gy(t){var s=t.read_shift(4);return s===0||s===4294967295?"":t.read_shift(s,"dbcs")}function tm(t,s){var r=!1;return s==null&&(r=!0,s=Pt(127)),s.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}var _5=mr,Rx=Gy,jy=tm;function $y(t){var s=t.slice(t.l,t.l+4),r=s[0]&1,l=s[0]&2;t.l+=4;var c=l===0?em([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):jh(s,0)>>2;return r?c/100:c}function kD(t,s){s==null&&(s=Pt(4));var r=0,l=0,c=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?l=1:c==(c|0)&&c>=-(1<<29)&&c<1<<29&&(l=1,r=1),l)s.write_shift(-4,((r?c:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function SD(t){var s={s:{},e:{}};return s.s.r=t.read_shift(4),s.e.r=t.read_shift(4),s.s.c=t.read_shift(4),s.e.c=t.read_shift(4),s}function F5(t,s){return s||(s=Pt(16)),s.write_shift(4,t.s.r),s.write_shift(4,t.e.r),s.write_shift(4,t.s.c),s.write_shift(4,t.e.c),s}var Wc=SD,Cd=F5;function cr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function wc(t,s){return(s||Pt(8)).write_shift(8,t,"f")}function N5(t){var s={},r=t.read_shift(1),l=r>>>1,c=t.read_shift(1),f=t.read_shift(2,"i"),p=t.read_shift(1),x=t.read_shift(1),w=t.read_shift(1);switch(t.l++,l){case 0:s.auto=1;break;case 1:s.index=c;var P=cc[c];P&&(s.rgb=jf(P));break;case 2:s.rgb=jf([p,x,w]);break;case 3:s.theme=c;break}return f!=0&&(s.tint=f>0?f/32767:f/32768),s}function im(t,s){if(s||(s=Pt(8)),!t||t.auto)return s.write_shift(4,0),s.write_shift(4,0),s;t.index!=null?(s.write_shift(1,2),s.write_shift(1,t.index)):t.theme!=null?(s.write_shift(1,6),s.write_shift(1,t.theme)):(s.write_shift(1,5),s.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),s.write_shift(2,r),!t.rgb||t.theme!=null)s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);else{var l=t.rgb||"FFFFFF";typeof l=="number"&&(l=("000000"+l.toString(16)).slice(-6)),s.write_shift(1,parseInt(l.slice(0,2),16)),s.write_shift(1,parseInt(l.slice(2,4),16)),s.write_shift(1,parseInt(l.slice(4,6),16)),s.write_shift(1,255)}return s}function L5(t){var s=t.read_shift(1);t.l++;var r={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return r}function I5(t,s){s||(s=Pt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return s.write_shift(1,r),s.write_shift(1,0),s}function CD(t,s){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},l=t.read_shift(4);switch(l){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(l>400)throw new Error("Unsupported Clipboard: "+l.toString(16));return t.l-=4,t.read_shift(0,s==1?"lpstr":"lpwstr")}function O5(t){return CD(t,1)}function R5(t){return CD(t,2)}var Ky=2,Xr=3,J0=11,m2=12,nm=19,Q0=64,B5=65,V5=71,z5=4108,X5=4126,zs=80,AD=81,H5=[zs,AD],Bx={1:{n:"CodePage",t:Ky},2:{n:"Category",t:zs},3:{n:"PresentationFormat",t:zs},4:{n:"ByteCount",t:Xr},5:{n:"LineCount",t:Xr},6:{n:"ParagraphCount",t:Xr},7:{n:"SlideCount",t:Xr},8:{n:"NoteCount",t:Xr},9:{n:"HiddenCount",t:Xr},10:{n:"MultimediaClipCount",t:Xr},11:{n:"ScaleCrop",t:J0},12:{n:"HeadingPairs",t:z5},13:{n:"TitlesOfParts",t:X5},14:{n:"Manager",t:zs},15:{n:"Company",t:zs},16:{n:"LinksUpToDate",t:J0},17:{n:"CharacterCount",t:Xr},19:{n:"SharedDoc",t:J0},22:{n:"HyperlinksChanged",t:J0},23:{n:"AppVersion",t:Xr,p:"version"},24:{n:"DigSig",t:B5},26:{n:"ContentType",t:zs},27:{n:"ContentStatus",t:zs},28:{n:"Language",t:zs},29:{n:"Version",t:zs},255:{},2147483648:{n:"Locale",t:nm},2147483651:{n:"Behavior",t:nm},1919054434:{}},Vx={1:{n:"CodePage",t:Ky},2:{n:"Title",t:zs},3:{n:"Subject",t:zs},4:{n:"Author",t:zs},5:{n:"Keywords",t:zs},6:{n:"Comments",t:zs},7:{n:"Template",t:zs},8:{n:"LastAuthor",t:zs},9:{n:"RevNumber",t:zs},10:{n:"EditTime",t:Q0},11:{n:"LastPrinted",t:Q0},12:{n:"CreatedDate",t:Q0},13:{n:"ModifiedDate",t:Q0},14:{n:"PageCount",t:Xr},15:{n:"WordCount",t:Xr},16:{n:"CharCount",t:Xr},17:{n:"Thumbnail",t:V5},18:{n:"Application",t:zs},19:{n:"DocSecurity",t:Xr},255:{},2147483648:{n:"Locale",t:nm},2147483651:{n:"Behavior",t:nm},1919054434:{}},p2={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Y5=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function U5(t){return t.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var W5=U5([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cc=Hn(W5),Fl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},TD={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},zx={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},eg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qy(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function G5(t){var s=qy();if(!t||!t.match)return s;var r={};if((t.match(wr)||[]).forEach(function(l){var c=Ii(l);switch(c[0].replace(i5,"<")){case"<?xml":break;case"<Types":s.xmlns=c["xmlns"+(c[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[c.Extension]=c.ContentType;break;case"<Override":s[zx[c.ContentType]]!==void 0&&s[zx[c.ContentType]].push(c.PartName);break}}),s.xmlns!==Ls.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=r,delete s.calcchains,s}function PD(t,s){var r=jB(zx),l=[],c;l[l.length]=Cs,l[l.length]=ni("Types",null,{xmlns:Ls.CT,"xmlns:xsd":Ls.xsd,"xmlns:xsi":Ls.xsi}),l=l.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(w){return ni("Default",null,{Extension:w[0],ContentType:w[1]})}));var f=function(w){t[w]&&t[w].length>0&&(c=t[w][0],l[l.length]=ni("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:eg[w][s.bookType]||eg[w].xlsx}))},p=function(w){(t[w]||[]).forEach(function(P){l[l.length]=ni("Override",null,{PartName:(P[0]=="/"?"":"/")+P,ContentType:eg[w][s.bookType]||eg[w].xlsx})})},x=function(w){(t[w]||[]).forEach(function(P){l[l.length]=ni("Override",null,{PartName:(P[0]=="/"?"":"/")+P,ContentType:r[w][0]})})};return f("workbooks"),p("sheets"),p("charts"),x("themes"),["strs","styles"].forEach(f),["coreprops","extprops","custprops"].forEach(x),x("vba"),x("comments"),x("threadedcomments"),x("drawings"),p("metadata"),x("people"),l.length>2&&(l[l.length]="</Types>",l[1]=l[1].replace("/>",">")),l.join("")}var Zi={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Gf(t){var s=t.lastIndexOf("/");return t.slice(0,s+1)+"_rels/"+t.slice(s+1)+".rels"}function df(t,s){var r={"!id":{}};if(!t)return r;s.charAt(0)!=="/"&&(s="/"+s);var l={};return(t.match(wr)||[]).forEach(function(c){var f=Ii(c);if(f[0]==="<Relationship"){var p={};p.Type=f.Type,p.Target=f.Target,p.Id=f.Id,f.TargetMode&&(p.TargetMode=f.TargetMode);var x=f.TargetMode==="External"?f.Target:jd(f.Target,s);r[x]=p,l[f.Id]=p}}),r["!id"]=l,r}function Lu(t){var s=[Cs,ni("Relationships",null,{xmlns:Ls.RELS})];return fs(t["!id"]).forEach(function(r){s[s.length]=ni("Relationship",null,t["!id"][r])}),s.length>2&&(s[s.length]="</Relationships>",s[1]=s[1].replace("/>",">")),s.join("")}function Sn(t,s,r,l,c,f){if(c||(c={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),s<0)for(s=t["!idx"];t["!id"]["rId"+s];++s);if(t["!idx"]=s+1,c.Id="rId"+s,c.Type=l,c.Target=r,f?c.TargetMode=f:[Zi.HLINK,Zi.XPATH,Zi.XMISS].indexOf(c.Type)>-1&&(c.TargetMode="External"),t["!id"][c.Id])throw new Error("Cannot rewrite rId "+s);return t["!id"][c.Id]=c,t[("/"+c.Target).replace("//","/")]=c,s}var j5="application/vnd.oasis.opendocument.spreadsheet";function $5(t,s){for(var r=zy(t),l,c;l=Wf.exec(r);)switch(l[3]){case"manifest":break;case"file-entry":if(c=Ii(l[0],!1),c.path=="/"&&c.type!==j5)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw l}}function K5(t){var s=[Cs];s.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),s.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)s.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return s.push("</manifest:manifest>"),s.join("")}function v2(t,s,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+s+`"/>
`,`  </rdf:Description>
`].join("")}function q5(t,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+s+`"/>
`,`  </rdf:Description>
`].join("")}function Z5(t){var s=[Cs];s.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)s.push(v2(t[r][0],t[r][1])),s.push(q5("",t[r][0]));return s.push(v2("","Document","pkg")),s.push("</rdf:RDF>"),s.join("")}function DD(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Kg.version+"</meta:generator></office:meta></office:document-meta>"}var Ua=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],J5=function(){for(var t=new Array(Ua.length),s=0;s<Ua.length;++s){var r=Ua[s],l="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[s]=new RegExp("<"+l+"[^>]*>([\\s\\S]*?)</"+l+">")}return t}();function MD(t){var s={};t=_n(t);for(var r=0;r<Ua.length;++r){var l=Ua[r],c=t.match(J5[r]);c!=null&&c.length>0&&(s[l[1]]=an(c[1])),l[2]==="date"&&s[l[1]]&&(s[l[1]]=Xn(s[l[1]]))}return s}function mv(t,s,r,l,c){c[t]!=null||s==null||s===""||(c[t]=s,s=An(s),l[l.length]=r?ni(t,s,r):Zs(t,s))}function ED(t,s){var r=s||{},l=[Cs,ni("cp:coreProperties",null,{"xmlns:cp":Ls.CORE_PROPS,"xmlns:dc":Ls.dc,"xmlns:dcterms":Ls.dcterms,"xmlns:dcmitype":Ls.dcmitype,"xmlns:xsi":Ls.xsi})],c={};if(!t&&!r.Props)return l.join("");t&&(t.CreatedDate!=null&&mv("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Ox(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},l,c),t.ModifiedDate!=null&&mv("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Ox(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},l,c));for(var f=0;f!=Ua.length;++f){var p=Ua[f],x=r.Props&&r.Props[p[1]]!=null?r.Props[p[1]]:t?t[p[1]]:null;x===!0?x="1":x===!1?x="0":typeof x=="number"&&(x=String(x)),x!=null&&mv(p[0],x,null,l,c)}return l.length>2&&(l[l.length]="</cp:coreProperties>",l[1]=l[1].replace("/>",">")),l.join("")}var uc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],_D=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function FD(t,s,r,l){var c=[];if(typeof t=="string")c=o2(t,l);else for(var f=0;f<t.length;++f)c=c.concat(t[f].map(function(C){return{v:C}}));var p=typeof s=="string"?o2(s,l).map(function(C){return C.v}):s,x=0,w=0;if(p.length>0)for(var P=0;P!==c.length;P+=2){switch(w=+c[P+1].v,c[P].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=w,r.SheetNames=p.slice(x,x+w);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=w,r.DefinedNames=p.slice(x,x+w);break;case"Charts":case"Diagramme":r.Chartsheets=w,r.ChartNames=p.slice(x,x+w);break}x+=w}}function Q5(t,s,r){var l={};return s||(s={}),t=_n(t),uc.forEach(function(c){var f=(t.match(Yf(c[0]))||[])[1];switch(c[2]){case"string":f&&(s[c[1]]=an(f));break;case"bool":s[c[1]]=f==="true";break;case"raw":var p=t.match(new RegExp("<"+c[0]+"[^>]*>([\\s\\S]*?)</"+c[0]+">"));p&&p.length>0&&(l[c[1]]=p[1]);break}}),l.HeadingPairs&&l.TitlesOfParts&&FD(l.HeadingPairs,l.TitlesOfParts,s,r),s}function ND(t){var s=[],r=ni;return t||(t={}),t.Application="SheetJS",s[s.length]=Cs,s[s.length]=ni("Properties",null,{xmlns:Ls.EXT_PROPS,"xmlns:vt":Ls.vt}),uc.forEach(function(l){if(t[l[1]]!==void 0){var c;switch(l[2]){case"string":c=An(String(t[l[1]]));break;case"bool":c=t[l[1]]?"true":"false";break}c!==void 0&&(s[s.length]=r(l[0],c))}}),s[s.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),s[s.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(l){return"<vt:lpstr>"+An(l)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var e8=/<[^>]+>[^<]*/g;function t8(t,s){var r={},l="",c=t.match(e8);if(c)for(var f=0;f!=c.length;++f){var p=c[f],x=Ii(p);switch(x[0]){case"<?xml":break;case"<Properties":break;case"<property":l=an(x.name);break;case"</property>":l=null;break;default:if(p.indexOf("<vt:")===0){var w=p.split(">"),P=w[0].slice(4),C=w[1];switch(P){case"lpstr":case"bstr":case"lpwstr":r[l]=an(C);break;case"bool":r[l]=Vn(C);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[l]=parseInt(C,10);break;case"r4":case"r8":case"decimal":r[l]=parseFloat(C);break;case"filetime":case"date":r[l]=Xn(C);break;case"cy":case"error":r[l]=an(C);break;default:if(P.slice(-1)=="/")break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",p,P,w)}}else if(p.slice(0,2)!=="</"){if(s.WTF)throw new Error(p)}}}return r}function LD(t){var s=[Cs,ni("Properties",null,{xmlns:Ls.CUST_PROPS,"xmlns:vt":Ls.vt})];if(!t)return s.join("");var r=1;return fs(t).forEach(function(c){++r,s[s.length]=ni("property",c5(t[c],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:An(c)})}),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var Xx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},pv;function i8(t,s,r){pv||(pv=$m(Xx)),s=pv[s]||s,t[s]=r}function n8(t,s){var r=[];return fs(Xx).map(function(l){for(var c=0;c<Ua.length;++c)if(Ua[c][1]==l)return Ua[c];for(c=0;c<uc.length;++c)if(uc[c][1]==l)return uc[c];throw l}).forEach(function(l){if(t[l[1]]!=null){var c=s&&s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:t[l[1]];switch(l[2]){case"date":c=new Date(c).toISOString().replace(/\.\d*Z/,"Z");break}typeof c=="number"?c=String(c):c===!0||c===!1?c=c?"1":"0":c instanceof Date&&(c=new Date(c).toISOString().replace(/\.\d*Z/,"")),r.push(Zs(Xx[l[1]]||l[1],c))}}),ni("DocumentProperties",r.join(""),{xmlns:oa.o})}function s8(t,s){var r=["Worksheets","SheetNames"],l="CustomDocumentProperties",c=[];return t&&fs(t).forEach(function(f){if(Object.prototype.hasOwnProperty.call(t,f)){for(var p=0;p<Ua.length;++p)if(f==Ua[p][1])return;for(p=0;p<uc.length;++p)if(f==uc[p][1])return;for(p=0;p<r.length;++p)if(f==r[p])return;var x=t[f],w="string";typeof x=="number"?(w="float",x=String(x)):x===!0||x===!1?(w="boolean",x=x?"1":"0"):x=String(x),c.push(ni(n2(f),x,{"dt:dt":w}))}}),s&&fs(s).forEach(function(f){if(Object.prototype.hasOwnProperty.call(s,f)&&!(t&&Object.prototype.hasOwnProperty.call(t,f))){var p=s[f],x="string";typeof p=="number"?(x="float",p=String(p)):p===!0||p===!1?(x="boolean",p=p?"1":"0"):p instanceof Date?(x="dateTime.tz",p=p.toISOString()):p=String(p),c.push(ni(n2(f),p,{"dt:dt":x}))}}),"<"+l+' xmlns="'+oa.o+'">'+c.join("")+"</"+l+">"}function Zy(t){var s=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+s/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function r8(t){var s=typeof t=="string"?new Date(Date.parse(t)):t,r=s.getTime()/1e3+11644473600,l=r%Math.pow(2,32),c=(r-l)/Math.pow(2,32);l*=1e7,c*=1e7;var f=l/Math.pow(2,32)|0;f>0&&(l=l%Math.pow(2,32),c+=f);var p=Pt(8);return p.write_shift(4,l),p.write_shift(4,c),p}function ID(t,s,r){var l=t.l,c=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-l&3;)++t.l;return c}function OD(t,s,r){var l=t.read_shift(0,"lpwstr");return r&&(t.l+=4-(l.length+1&3)&3),l}function RD(t,s,r){return s===31?OD(t):ID(t,s,r)}function Hx(t,s,r){return RD(t,s,r===!1?0:4)}function a8(t,s){if(!s)throw new Error("VtUnalignedString must have positive length");return RD(t,s,0)}function o8(t){for(var s=t.read_shift(4),r=[],l=0;l!=s;++l){var c=t.l;r[l]=t.read_shift(0,"lpwstr").replace(Dr,""),t.l-c&2&&(t.l+=2)}return r}function l8(t){for(var s=t.read_shift(4),r=[],l=0;l!=s;++l)r[l]=t.read_shift(0,"lpstr-cp").replace(Dr,"");return r}function h8(t){var s=t.l,r=sm(t,AD);t[t.l]==0&&t[t.l+1]==0&&t.l-s&2&&(t.l+=2);var l=sm(t,Xr);return[r,l]}function c8(t){for(var s=t.read_shift(4),r=[],l=0;l<s/2;++l)r.push(h8(t));return r}function x2(t,s){for(var r=t.read_shift(4),l={},c=0;c!=r;++c){var f=t.read_shift(4),p=t.read_shift(4);l[f]=t.read_shift(p,s===1200?"utf16le":"utf8").replace(Dr,"").replace(Gd,"!"),s===1200&&p%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>2+1<<2),l}function BD(t){var s=t.read_shift(4),r=t.slice(t.l,t.l+s);return t.l+=s,(s&3)>0&&(t.l+=4-(s&3)&3),r}function u8(t){var s={};return s.Size=t.read_shift(4),t.l+=s.Size+3-(s.Size-1)%4,s}function sm(t,s,r){var l=t.read_shift(2),c,f=r||{};if(t.l+=2,s!==m2&&l!==s&&H5.indexOf(s)===-1&&!((s&65534)==4126&&(l&65534)==4126))throw new Error("Expected type "+s+" saw "+l);switch(s===m2?l:s){case 2:return c=t.read_shift(2,"i"),f.raw||(t.l+=2),c;case 3:return c=t.read_shift(4,"i"),c;case 11:return t.read_shift(4)!==0;case 19:return c=t.read_shift(4),c;case 30:return ID(t,l,4).replace(Dr,"");case 31:return OD(t);case 64:return Zy(t);case 65:return BD(t);case 71:return u8(t);case 80:return Hx(t,l,!f.raw).replace(Dr,"");case 81:return a8(t,l).replace(Dr,"");case 4108:return c8(t);case 4126:case 4127:return l==4127?o8(t):l8(t);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+l)}}function y2(t,s){var r=Pt(4),l=Pt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:l.write_shift(-4,s);break;case 5:l=Pt(8),l.write_shift(8,s,"f");break;case 11:l.write_shift(4,s?1:0);break;case 64:l=r8(s);break;case 31:case 80:for(l=Pt(4+2*(s.length+1)+(s.length%2?0:2)),l.write_shift(4,s.length+1),l.write_shift(0,s,"dbcs");l.l!=l.length;)l.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}return Xs([r,l])}function b2(t,s){var r=t.l,l=t.read_shift(4),c=t.read_shift(4),f=[],p=0,x=0,w=-1,P={};for(p=0;p!=c;++p){var C=t.read_shift(4),F=t.read_shift(4);f[p]=[C,F+r]}f.sort(function(X,W){return X[1]-W[1]});var L={};for(p=0;p!=c;++p){if(t.l!==f[p][1]){var B=!0;if(p>0&&s)switch(s[f[p-1][0]].t){case 2:t.l+2===f[p][1]&&(t.l+=2,B=!1);break;case 80:t.l<=f[p][1]&&(t.l=f[p][1],B=!1);break;case 4108:t.l<=f[p][1]&&(t.l=f[p][1],B=!1);break}if((!s||p==0)&&t.l<=f[p][1]&&(B=!1,t.l=f[p][1]),B)throw new Error("Read Error: Expected address "+f[p][1]+" at "+t.l+" :"+p)}if(s){var U=s[f[p][0]];if(L[U.n]=sm(t,U.t,{raw:!0}),U.p==="version"&&(L[U.n]=String(L[U.n]>>16)+"."+("0000"+String(L[U.n]&65535)).slice(-4)),U.n=="CodePage")switch(L[U.n]){case 0:L[U.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fo(x=L[U.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+L[U.n])}}else if(f[p][0]===1){if(x=L.CodePage=sm(t,Ky),fo(x),w!==-1){var Y=t.l;t.l=f[w][1],P=x2(t,x),t.l=Y}}else if(f[p][0]===0){if(x===0){w=p,t.l=f[p+1][1];continue}P=x2(t,x)}else{var Q=P[f[p][0]],N;switch(t[t.l]){case 65:t.l+=4,N=BD(t);break;case 30:t.l+=4,N=Hx(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,N=Hx(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,N=t.read_shift(4,"i");break;case 19:t.l+=4,N=t.read_shift(4);break;case 5:t.l+=4,N=t.read_shift(8,"f");break;case 11:t.l+=4,N=vs(t,4);break;case 64:t.l+=4,N=Xn(Zy(t));break;default:throw new Error("unparsed value: "+t[t.l])}L[Q]=N}}return t.l=r+l,L}var VD=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function d8(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function w2(t,s,r){var l=Pt(8),c=[],f=[],p=8,x=0,w=Pt(8),P=Pt(8);if(w.write_shift(4,2),w.write_shift(4,1200),P.write_shift(4,1),f.push(w),c.push(P),p+=8+w.length,!s){P=Pt(8),P.write_shift(4,0),c.unshift(P);var C=[Pt(4)];for(C[0].write_shift(4,t.length),x=0;x<t.length;++x){var F=t[x][0];for(w=Pt(4+4+2*(F.length+1)+(F.length%2?0:2)),w.write_shift(4,x+2),w.write_shift(4,F.length+1),w.write_shift(0,F,"dbcs");w.l!=w.length;)w.write_shift(1,0);C.push(w)}w=Xs(C),f.unshift(w),p+=8+w.length}for(x=0;x<t.length;++x)if(!(s&&!s[t[x][0]])&&!(VD.indexOf(t[x][0])>-1||_D.indexOf(t[x][0])>-1)&&t[x][1]!=null){var L=t[x][1],B=0;if(s){B=+s[t[x][0]];var U=r[B];if(U.p=="version"&&typeof L=="string"){var Y=L.split(".");L=(+Y[0]<<16)+(+Y[1]||0)}w=y2(U.t,L)}else{var Q=d8(L);Q==-1&&(Q=31,L=String(L)),w=y2(Q,L)}f.push(w),P=Pt(8),P.write_shift(4,s?B:2+x),c.push(P),p+=8+w.length}var N=8*(f.length+1);for(x=0;x<f.length;++x)c[x].write_shift(4,N),N+=f[x].length;return l.write_shift(4,p),l.write_shift(4,f.length),Xs([l].concat(c).concat(f))}function k2(t,s,r){var l=t.content;if(!l)return{};Ks(l,0);var c,f,p,x,w=0;l.chk("feff","Byte Order: "),l.read_shift(2);var P=l.read_shift(4),C=l.read_shift(16);if(C!==Ti.utils.consts.HEADER_CLSID&&C!==r)throw new Error("Bad PropertySet CLSID "+C);if(c=l.read_shift(4),c!==1&&c!==2)throw new Error("Unrecognized #Sets: "+c);if(f=l.read_shift(16),x=l.read_shift(4),c===1&&x!==l.l)throw new Error("Length mismatch: "+x+" !== "+l.l);c===2&&(p=l.read_shift(16),w=l.read_shift(4));var F=b2(l,s),L={SystemIdentifier:P};for(var B in F)L[B]=F[B];if(L.FMTID=f,c===1)return L;if(w-l.l==2&&(l.l+=2),l.l!==w)throw new Error("Length mismatch 2: "+l.l+" !== "+w);var U;try{U=b2(l,null)}catch{}for(B in U)L[B]=U[B];return L.FMTID=[f,p],L}function S2(t,s,r,l,c,f){var p=Pt(c?68:48),x=[p];p.write_shift(2,65534),p.write_shift(2,0),p.write_shift(4,842412599),p.write_shift(16,Ti.utils.consts.HEADER_CLSID,"hex"),p.write_shift(4,c?2:1),p.write_shift(16,s,"hex"),p.write_shift(4,c?68:48);var w=w2(t,r,l);if(x.push(w),c){var P=w2(c,null,null);p.write_shift(16,f,"hex"),p.write_shift(4,68+w.length),x.push(P)}return Xs(x)}function $l(t,s){return t.read_shift(s),null}function f8(t,s){s||(s=Pt(t));for(var r=0;r<t;++r)s.write_shift(1,0);return s}function g8(t,s,r){for(var l=[],c=t.l+s;t.l<c;)l.push(r(t,c-t.l));if(c!==t.l)throw new Error("Slurp error");return l}function vs(t,s){return t.read_shift(s)===1}function Ar(t,s){return s||(s=Pt(2)),s.write_shift(2,+!!t),s}function Ds(t){return t.read_shift(2,"u")}function Ba(t,s){return s||(s=Pt(2)),s.write_shift(2,t),s}function zD(t,s){return g8(t,s,Ds)}function m8(t){var s=t.read_shift(1),r=t.read_shift(1);return r===1?s:s===1}function XD(t,s,r){return r||(r=Pt(2)),r.write_shift(1,s=="e"?+t:+!!t),r.write_shift(1,s=="e"?1:0),r}function m0(t,s,r){var l=t.read_shift(r&&r.biff>=12?2:1),c="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var f=t.read_shift(1);f&&(c="dbcs-cont")}else r.biff==12&&(c="wstr");r.biff>=2&&r.biff<=5&&(c="cpstr");var p=l?t.read_shift(l,c):"";return p}function p8(t){var s=t.read_shift(2),r=t.read_shift(1),l=r&4,c=r&8,f=1+(r&1),p=0,x,w={};c&&(p=t.read_shift(2)),l&&(x=t.read_shift(4));var P=f==2?"dbcs-cont":"sbcs-cont",C=s===0?"":t.read_shift(s,P);return c&&(t.l+=4*p),l&&(t.l+=x),w.t=C,c||(w.raw="<t>"+w.t+"</t>",w.r=w.t),w}function v8(t){var s=t.t||"",r=Pt(3+0);r.write_shift(2,s.length),r.write_shift(1,1);var l=Pt(2*s.length);l.write_shift(2*s.length,s,"utf16le");var c=[r,l];return Xs(c)}function kc(t,s,r){var l;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(s,"cpstr");if(r.biff>=12)return t.read_shift(s,"dbcs-cont")}var c=t.read_shift(1);return c===0?l=t.read_shift(s,"sbcs-cont"):l=t.read_shift(s,"dbcs-cont"),l}function p0(t,s,r){var l=t.read_shift(r&&r.biff==2?1:2);return l===0?(t.l++,""):kc(t,l,r)}function Gc(t,s,r){if(r.biff>5)return p0(t,s,r);var l=t.read_shift(1);return l===0?(t.l++,""):t.read_shift(l,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function HD(t,s,r){return r||(r=Pt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function x8(t){var s=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[s,r]}function y8(t){var s=t.read_shift(4),r=t.l,l=!1;s>24&&(t.l+=s-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(l=!0),t.l=r);var c=t.read_shift((l?s-24:s)>>1,"utf16le").replace(Dr,"");return l&&(t.l+=24),c}function b8(t){for(var s=t.read_shift(2),r="";s-- >0;)r+="../";var l=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var c=t.read_shift(4);if(c===0)return r+l.replace(/\\/g,"/");var f=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var p=t.read_shift(f>>1,"utf16le").replace(Dr,"");return r+p}function w8(t,s){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return y8(t);case"0303000000000000c000000000000046":return b8(t);default:throw new Error("Unsupported Moniker "+r)}}function tg(t){var s=t.read_shift(4),r=s>0?t.read_shift(s,"utf16le").replace(Dr,""):"";return r}function C2(t,s){s||(s=Pt(6+t.length*2)),s.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)s.write_shift(2,t.charCodeAt(r));return s.write_shift(2,0),s}function k8(t,s){var r=t.l+s,l=t.read_shift(4);if(l!==2)throw new Error("Unrecognized streamVersion: "+l);var c=t.read_shift(2);t.l+=2;var f,p,x,w,P="",C,F;c&16&&(f=tg(t,r-t.l)),c&128&&(p=tg(t,r-t.l)),(c&257)===257&&(x=tg(t,r-t.l)),(c&257)===1&&(w=w8(t,r-t.l)),c&8&&(P=tg(t,r-t.l)),c&32&&(C=t.read_shift(16)),c&64&&(F=Zy(t)),t.l=r;var L=p||x||w||"";L&&P&&(L+="#"+P),L||(L="#"+P),c&2&&L.charAt(0)=="/"&&L.charAt(1)!="/"&&(L="file://"+L);var B={Target:L};return C&&(B.guid=C),F&&(B.time=F),f&&(B.Tooltip=f),B}function S8(t){var s=Pt(512),r=0,l=t.Target;l.slice(0,7)=="file://"&&(l=l.slice(7));var c=l.indexOf("#"),f=c>-1?31:23;switch(l.charAt(0)){case"#":f=28;break;case".":f&=-3;break}s.write_shift(4,2),s.write_shift(4,f);var p=[8,6815827,6619237,4849780,83];for(r=0;r<p.length;++r)s.write_shift(4,p[r]);if(f==28)l=l.slice(1),C2(l,s);else if(f&2){for(p="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<p.length;++r)s.write_shift(1,parseInt(p[r],16));var x=c>-1?l.slice(0,c):l;for(s.write_shift(4,2*(x.length+1)),r=0;r<x.length;++r)s.write_shift(2,x.charCodeAt(r));s.write_shift(2,0),f&8&&C2(c>-1?l.slice(c+1):"",s)}else{for(p="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<p.length;++r)s.write_shift(1,parseInt(p[r],16));for(var w=0;l.slice(w*3,w*3+3)=="../"||l.slice(w*3,w*3+3)=="..\\";)++w;for(s.write_shift(2,w),s.write_shift(4,l.length-3*w+1),r=0;r<l.length-3*w;++r)s.write_shift(1,l.charCodeAt(r+3*w)&255);for(s.write_shift(1,0),s.write_shift(2,65535),s.write_shift(2,57005),r=0;r<6;++r)s.write_shift(4,0)}return s.slice(0,s.l)}function YD(t){var s=t.read_shift(1),r=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);return[s,r,l,c]}function UD(t,s){var r=YD(t);return r[3]=0,r}function Ko(t){var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(2);return{r:s,c:r,ixfe:l}}function Sc(t,s,r,l){return l||(l=Pt(6)),l.write_shift(2,t),l.write_shift(2,s),l.write_shift(2,r||0),l}function C8(t){var s=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:s,flags:r}}function A8(t,s,r){return s===0?"":Gc(t,s,r)}function T8(t,s,r){var l=r.biff>8?4:2,c=t.read_shift(l),f=t.read_shift(l,"i"),p=t.read_shift(l,"i");return[c,f,p]}function WD(t){var s=t.read_shift(2),r=$y(t);return[s,r]}function P8(t,s,r){t.l+=4,s-=4;var l=t.l+s,c=m0(t,s,r),f=t.read_shift(2);if(l-=t.l,f!==l)throw new Error("Malformed AddinUdf: padding = "+l+" != "+f);return t.l+=f,c}function Zm(t){var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{s:{c:l,r:s},e:{c,r}}}function GD(t,s){return s||(s=Pt(8)),s.write_shift(2,t.s.r),s.write_shift(2,t.e.r),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c),s}function jD(t){var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(1),c=t.read_shift(1);return{s:{c:l,r:s},e:{c,r}}}var D8=jD;function $D(t){t.l+=4;var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(2);return t.l+=12,[r,s,l]}function M8(t){var s={};return t.l+=4,t.l+=16,s.fSharedNote=t.read_shift(2),t.l+=4,s}function E8(t){var s={};return t.l+=4,t.cf=t.read_shift(2),s}function sr(t){t.l+=2,t.l+=t.read_shift(2)}var _8={0:sr,4:sr,5:sr,6:sr,7:E8,8:sr,9:sr,10:sr,11:sr,12:sr,13:M8,14:sr,15:sr,16:sr,17:sr,18:sr,19:sr,20:sr,21:$D};function F8(t,s){for(var r=t.l+s,l=[];t.l<r;){var c=t.read_shift(2);t.l-=2;try{l.push(_8[c](t,r-t.l))}catch{return t.l=r,l}}return t.l!=r&&(t.l=r),l}function ig(t,s){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),s-=2,s>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(s),r}function Jy(t,s,r){var l=1536,c=16;switch(r.bookType){case"biff8":break;case"biff5":l=1280,c=8;break;case"biff4":l=4,c=6;break;case"biff3":l=3,c=6;break;case"biff2":l=2,c=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var f=Pt(c);return f.write_shift(2,l),f.write_shift(2,s),c>4&&f.write_shift(2,29282),c>6&&f.write_shift(2,1997),c>8&&(f.write_shift(2,49161),f.write_shift(2,1),f.write_shift(2,1798),f.write_shift(2,0)),f}function N8(t,s){return s===0||t.read_shift(2),1200}function L8(t,s,r){if(r.enc)return t.l+=s,"";var l=t.l,c=Gc(t,0,r);return t.read_shift(s+l-t.l),c}function I8(t,s){var r=!s||s.biff==8,l=Pt(r?112:54);for(l.write_shift(s.biff==8?2:1,7),r&&l.write_shift(1,0),l.write_shift(4,859007059),l.write_shift(4,5458548|(r?0:536870912));l.l<l.length;)l.write_shift(1,r?0:32);return l}function O8(t,s,r){var l=r&&r.biff==8||s==2?t.read_shift(2):(t.l+=s,0);return{fDialog:l&16,fBelow:l&64,fRight:l&128}}function R8(t,s,r){var l=t.read_shift(4),c=t.read_shift(1)&3,f=t.read_shift(1);switch(f){case 0:f="Worksheet";break;case 1:f="Macrosheet";break;case 2:f="Chartsheet";break;case 6:f="VBAModule";break}var p=m0(t,0,r);return p.length===0&&(p="Sheet1"),{pos:l,hs:c,dt:f,name:p}}function B8(t,s){var r=!s||s.biff>=8?2:1,l=Pt(8+r*t.name.length);l.write_shift(4,t.pos),l.write_shift(1,t.hs||0),l.write_shift(1,t.dt),l.write_shift(1,t.name.length),s.biff>=8&&l.write_shift(1,1),l.write_shift(r*t.name.length,t.name,s.biff<8?"sbcs":"utf16le");var c=l.slice(0,l.l);return c.l=l.l,c}function V8(t,s){for(var r=t.l+s,l=t.read_shift(4),c=t.read_shift(4),f=[],p=0;p!=c&&t.l<r;++p)f.push(p8(t));return f.Count=l,f.Unique=c,f}function z8(t,s){var r=Pt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var l=[],c=0;c<t.length;++c)l[c]=v8(t[c]);var f=Xs([r].concat(l));return f.parts=[r.length].concat(l.map(function(p){return p.length})),f}function X8(t,s){var r={};return r.dsst=t.read_shift(2),t.l+=s-2,r}function H8(t){var s={};s.r=t.read_shift(2),s.c=t.read_shift(2),s.cnt=t.read_shift(2)-s.c;var r=t.read_shift(2);t.l+=4;var l=t.read_shift(1);return t.l+=3,l&7&&(s.level=l&7),l&32&&(s.hidden=!0),l&64&&(s.hpt=r/20),s}function Y8(t){var s=C8(t);if(s.type!=2211)throw new Error("Invalid Future Record "+s.type);var r=t.read_shift(4);return r!==0}function U8(t){return t.read_shift(2),t.read_shift(4)}function A2(t,s,r){var l=0;r&&r.biff==2||(l=t.read_shift(2));var c=t.read_shift(2);r&&r.biff==2&&(l=1-(c>>15),c&=32767);var f={Unsynced:l&1,DyZero:(l&2)>>1,ExAsc:(l&4)>>2,ExDsc:(l&8)>>3};return[f,c]}function W8(t){var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),p=t.read_shift(2),x=t.read_shift(2),w=t.read_shift(2),P=t.read_shift(2);return{Pos:[s,r],Dim:[l,c],Flags:f,CurTab:p,FirstTab:x,Selected:w,TabRatio:P}}function G8(){var t=Pt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function j8(t,s,r){if(r&&r.biff>=2&&r.biff<5)return{};var l=t.read_shift(2);return{RTL:l&64}}function $8(t){var s=Pt(18),r=1718;return t&&t.RTL&&(r|=64),s.write_shift(2,r),s.write_shift(4,0),s.write_shift(4,64),s.write_shift(4,0),s.write_shift(4,0),s}function K8(){}function q8(t,s,r){var l={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return l.name=m0(t,0,r),l}function Z8(t,s){var r=t.name||"Arial",l=s&&s.biff==5,c=l?15+r.length:16+2*r.length,f=Pt(c);return f.write_shift(2,(t.sz||12)*20),f.write_shift(4,0),f.write_shift(2,400),f.write_shift(4,0),f.write_shift(2,0),f.write_shift(1,r.length),l||f.write_shift(1,1),f.write_shift((l?1:2)*r.length,r,l?"sbcs":"utf16le"),f}function J8(t){var s=Ko(t);return s.isst=t.read_shift(4),s}function Q8(t,s,r,l){var c=Pt(10);return Sc(t,s,l,c),c.write_shift(4,r),c}function eV(t,s,r){r.biffguess&&r.biff==2&&(r.biff=5);var l=t.l+s,c=Ko(t);r.biff==2&&t.l++;var f=p0(t,l-t.l,r);return c.val=f,c}function tV(t,s,r,l,c){var f=!c||c.biff==8,p=Pt(6+2+ +f+(1+f)*r.length);return Sc(t,s,l,p),p.write_shift(2,r.length),f&&p.write_shift(1,1),p.write_shift((1+f)*r.length,r,f?"utf16le":"sbcs"),p}function iV(t,s,r){var l=t.read_shift(2),c=Gc(t,0,r);return[l,c]}function nV(t,s,r,l){var c=r&&r.biff==5;l||(l=Pt(c?3+s.length:5+2*s.length)),l.write_shift(2,t),l.write_shift(c?1:2,s.length),c||l.write_shift(1,1),l.write_shift((c?1:2)*s.length,s,c?"sbcs":"utf16le");var f=l.length>l.l?l.slice(0,l.l):l;return f.l==null&&(f.l=f.length),f}var sV=Gc;function T2(t,s,r){var l=t.l+s,c=r.biff==8||!r.biff?4:2,f=t.read_shift(c),p=t.read_shift(c),x=t.read_shift(2),w=t.read_shift(2);return t.l=l,{s:{r:f,c:x},e:{r:p,c:w}}}function rV(t,s){var r=s.biff==8||!s.biff?4:2,l=Pt(2*r+6);return l.write_shift(r,t.s.r),l.write_shift(r,t.e.r+1),l.write_shift(2,t.s.c),l.write_shift(2,t.e.c+1),l.write_shift(2,0),l}function aV(t){var s=t.read_shift(2),r=t.read_shift(2),l=WD(t);return{r:s,c:r,ixfe:l[0],rknum:l[1]}}function oV(t,s){for(var r=t.l+s-2,l=t.read_shift(2),c=t.read_shift(2),f=[];t.l<r;)f.push(WD(t));if(t.l!==r)throw new Error("MulRK read error");var p=t.read_shift(2);if(f.length!=p-c+1)throw new Error("MulRK length mismatch");return{r:l,c,C:p,rkrec:f}}function lV(t,s){for(var r=t.l+s-2,l=t.read_shift(2),c=t.read_shift(2),f=[];t.l<r;)f.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var p=t.read_shift(2);if(f.length!=p-c+1)throw new Error("MulBlank length mismatch");return{r:l,c,C:p,ixfe:f}}function hV(t,s,r,l){var c={},f=t.read_shift(4),p=t.read_shift(4),x=t.read_shift(4),w=t.read_shift(2);return c.patternType=Y5[x>>26],l.cellStyles&&(c.alc=f&7,c.fWrap=f>>3&1,c.alcV=f>>4&7,c.fJustLast=f>>7&1,c.trot=f>>8&255,c.cIndent=f>>16&15,c.fShrinkToFit=f>>20&1,c.iReadOrder=f>>22&2,c.fAtrNum=f>>26&1,c.fAtrFnt=f>>27&1,c.fAtrAlc=f>>28&1,c.fAtrBdr=f>>29&1,c.fAtrPat=f>>30&1,c.fAtrProt=f>>31&1,c.dgLeft=p&15,c.dgRight=p>>4&15,c.dgTop=p>>8&15,c.dgBottom=p>>12&15,c.icvLeft=p>>16&127,c.icvRight=p>>23&127,c.grbitDiag=p>>30&3,c.icvTop=x&127,c.icvBottom=x>>7&127,c.icvDiag=x>>14&127,c.dgDiag=x>>21&15,c.icvFore=w&127,c.icvBack=w>>7&127,c.fsxButton=w>>14&1),c}function cV(t,s,r){var l={};return l.ifnt=t.read_shift(2),l.numFmtId=t.read_shift(2),l.flags=t.read_shift(2),l.fStyle=l.flags>>2&1,s-=6,l.data=hV(t,s,l.fStyle,r),l}function P2(t,s,r,l){var c=r&&r.biff==5;l||(l=Pt(c?16:20)),l.write_shift(2,0),t.style?(l.write_shift(2,t.numFmtId||0),l.write_shift(2,65524)):(l.write_shift(2,t.numFmtId||0),l.write_shift(2,s<<4));var f=0;return t.numFmtId>0&&c&&(f|=1024),l.write_shift(4,f),l.write_shift(4,0),c||l.write_shift(4,0),l.write_shift(2,0),l}function uV(t){t.l+=4;var s=[t.read_shift(2),t.read_shift(2)];if(s[0]!==0&&s[0]--,s[1]!==0&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}function dV(t){var s=Pt(8);return s.write_shift(4,0),s.write_shift(2,t[0]?t[0]+1:0),s.write_shift(2,t[1]?t[1]+1:0),s}function D2(t,s,r){var l=Ko(t);(r.biff==2||s==9)&&++t.l;var c=m8(t);return l.val=c,l.t=c===!0||c===!1?"b":"e",l}function fV(t,s,r,l,c,f){var p=Pt(8);return Sc(t,s,l,p),XD(r,f,p),p}function gV(t,s,r){r.biffguess&&r.biff==2&&(r.biff=5);var l=Ko(t),c=cr(t);return l.val=c,l}function mV(t,s,r,l){var c=Pt(14);return Sc(t,s,l,c),wc(r,c),c}var M2=A8;function pV(t,s,r){var l=t.l+s,c=t.read_shift(2),f=t.read_shift(2);if(r.sbcch=f,f==1025||f==14849)return[f,c];if(f<1||f>255)throw new Error("Unexpected SupBook type: "+f);for(var p=kc(t,f),x=[];l>t.l;)x.push(p0(t));return[f,c,p,x]}function E2(t,s,r){var l=t.read_shift(2),c,f={fBuiltIn:l&1,fWantAdvise:l>>>1&1,fWantPict:l>>>2&1,fOle:l>>>3&1,fOleLink:l>>>4&1,cf:l>>>5&1023,fIcon:l>>>15&1};return r.sbcch===14849&&(c=P8(t,s-2,r)),f.body=c||t.read_shift(s-2),typeof c=="string"&&(f.Name=c),f}var vV=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _2(t,s,r){var l=t.l+s,c=t.read_shift(2),f=t.read_shift(1),p=t.read_shift(1),x=t.read_shift(r&&r.biff==2?1:2),w=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),w=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var P=kc(t,p,r);c&32&&(P=vV[P.charCodeAt(0)]);var C=l-t.l;r&&r.biff==2&&--C;var F=l==t.l||x===0||!(C>0)?[]:F9(t,C,r,x);return{chKey:f,Name:P,itab:w,rgce:F}}function KD(t,s,r){if(r.biff<8)return xV(t,s,r);for(var l=[],c=t.l+s,f=t.read_shift(r.biff>8?4:2);f--!==0;)l.push(T8(t,r.biff>8?12:6,r));if(t.l!=c)throw new Error("Bad ExternSheet: "+t.l+" != "+c);return l}function xV(t,s,r){t[t.l+1]==3&&t[t.l]++;var l=m0(t,s,r);return l.charCodeAt(0)==3?l.slice(1):l}function yV(t,s,r){if(r.biff<8){t.l+=s;return}var l=t.read_shift(2),c=t.read_shift(2),f=kc(t,l,r),p=kc(t,c,r);return[f,p]}function bV(t,s,r){var l=jD(t);t.l++;var c=t.read_shift(1);return s-=8,[N9(t,s,r),c,l]}function F2(t,s,r){var l=D8(t);switch(r.biff){case 2:t.l++,s-=7;break;case 3:case 4:t.l+=2,s-=8;break;default:t.l+=6,s-=12}return[l,E9(t,s,r)]}function wV(t){var s=t.read_shift(4)!==0,r=t.read_shift(4)!==0,l=t.read_shift(4);return[s,r,l]}function kV(t,s,r){if(!(r.biff<8)){var l=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),p=t.read_shift(2),x=Gc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:l,c},x,p,f]}}function SV(t,s,r){return kV(t,s,r)}function CV(t,s){for(var r=[],l=t.read_shift(2);l--;)r.push(Zm(t));return r}function AV(t){var s=Pt(2+t.length*8);s.write_shift(2,t.length);for(var r=0;r<t.length;++r)GD(t[r],s);return s}function TV(t,s,r){if(r&&r.biff<8)return DV(t,s,r);var l=$D(t),c=F8(t,s-22,l[1]);return{cmo:l,ft:c}}var PV={8:function(t,s){var r=t.l+s;t.l+=10;var l=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var c=t.read_shift(1);return t.l+=c,t.l=r,{fmt:l}}};function DV(t,s,r){t.l+=4;var l=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,s-=36;var p=[];return p.push((PV[l]||pr)(t,s,r)),{cmo:[c,l,f],ft:p}}function MV(t,s,r){var l=t.l,c="";try{t.l+=4;var f=(r.lastobj||{cmo:[0,0]}).cmo[1],p;[0,5,7,11,12,14].indexOf(f)==-1?t.l+=6:p=x8(t,6,r);var x=t.read_shift(2);t.read_shift(2),Ds(t,2);var w=t.read_shift(2);t.l+=w;for(var P=1;P<t.lens.length-1;++P){if(t.l-l!=t.lens[P])throw new Error("TxO: bad continue record");var C=t[t.l],F=kc(t,t.lens[P+1]-t.lens[P]-1);if(c+=F,c.length>=(C?x:2*x))break}if(c.length!==x&&c.length!==x*2)throw new Error("cchText: "+x+" != "+c.length);return t.l=l+s,{t:c}}catch{return t.l=l+s,{t:c}}}function EV(t,s){var r=Zm(t);t.l+=16;var l=k8(t,s-24);return[r,l]}function _V(t){var s=Pt(24),r=is(t[0]);s.write_shift(2,r.r),s.write_shift(2,r.r),s.write_shift(2,r.c),s.write_shift(2,r.c);for(var l="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),c=0;c<16;++c)s.write_shift(1,parseInt(l[c],16));return Xs([s,S8(t[1])])}function FV(t,s){t.read_shift(2);var r=Zm(t),l=t.read_shift((s-10)/2,"dbcs-cont");return l=l.replace(Dr,""),[r,l]}function NV(t){var s=t[1].Tooltip,r=Pt(10+2*(s.length+1));r.write_shift(2,2048);var l=is(t[0]);r.write_shift(2,l.r),r.write_shift(2,l.r),r.write_shift(2,l.c),r.write_shift(2,l.c);for(var c=0;c<s.length;++c)r.write_shift(2,s.charCodeAt(c));return r.write_shift(2,0),r}function LV(t){var s=[0,0],r;return r=t.read_shift(2),s[0]=p2[r]||r,r=t.read_shift(2),s[1]=p2[r]||r,s}function IV(t){return t||(t=Pt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function OV(t){for(var s=t.read_shift(2),r=[];s-- >0;)r.push(UD(t));return r}function RV(t){for(var s=t.read_shift(2),r=[];s-- >0;)r.push(UD(t));return r}function BV(t){t.l+=2;var s={cxfs:0,crc:0};return s.cxfs=t.read_shift(2),s.crc=t.read_shift(4),s}function qD(t,s,r){if(!r.cellStyles)return pr(t,s);var l=r&&r.biff>=12?4:2,c=t.read_shift(l),f=t.read_shift(l),p=t.read_shift(l),x=t.read_shift(l),w=t.read_shift(2);l==2&&(t.l+=2);var P={s:c,e:f,w:p,ixfe:x,flags:w};return(r.biff>=5||!r.biff)&&(P.level=w>>8&7),P}function VV(t,s){var r=Pt(12);r.write_shift(2,s),r.write_shift(2,s),r.write_shift(2,t.width*256),r.write_shift(2,0);var l=0;return t.hidden&&(l|=1),r.write_shift(1,l),l=t.level||0,r.write_shift(1,l),r.write_shift(2,0),r}function zV(t,s){var r={};return s<32||(t.l+=16,r.header=cr(t),r.footer=cr(t),t.l+=2),r}function XV(t,s,r){var l={area:!1};if(r.biff!=5)return t.l+=s,l;var c=t.read_shift(1);return t.l+=3,c&16&&(l.area=!0),l}function HV(t){for(var s=Pt(2*t),r=0;r<t;++r)s.write_shift(2,r+1);return s}var YV=Ko,UV=zD,WV=p0;function GV(t){var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(4),c={fmt:s,env:r,len:l,data:t.slice(t.l,t.l+l)};return t.l+=l,c}function jV(t,s,r){r.biffguess&&r.biff==5&&(r.biff=2);var l=Ko(t);++t.l;var c=Gc(t,s-7,r);return l.t="str",l.val=c,l}function $V(t){var s=Ko(t);++t.l;var r=cr(t);return s.t="n",s.val=r,s}function KV(t,s,r){var l=Pt(15);return b0(l,t,s),l.write_shift(8,r,"f"),l}function qV(t){var s=Ko(t);++t.l;var r=t.read_shift(2);return s.t="n",s.val=r,s}function ZV(t,s,r){var l=Pt(9);return b0(l,t,s),l.write_shift(2,r),l}function JV(t){var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,"sbcs-cont")}function QV(t,s){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=s-13}function e6(t,s,r){var l=t.l+s,c=Ko(t),f=t.read_shift(2),p=kc(t,f,r);return t.l=l,c.t="str",c.val=p,c}var t6=[2,3,48,49,131,139,140,245],Yx=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=$m({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(x,w){var P=[],C=bh(1);switch(w.type){case"base64":C=da(ya(x));break;case"binary":C=da(x);break;case"buffer":case"array":C=x;break}Ks(C,0);var F=C.read_shift(1),L=!!(F&136),B=!1,U=!1;switch(F){case 2:break;case 3:break;case 48:B=!0,L=!0;break;case 49:B=!0,L=!0;break;case 131:break;case 139:break;case 140:U=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+F.toString(16))}var Y=0,Q=521;F==2&&(Y=C.read_shift(2)),C.l+=3,F!=2&&(Y=C.read_shift(4)),Y>1048576&&(Y=1e6),F!=2&&(Q=C.read_shift(2));var N=C.read_shift(2),X=w.codepage||1252;F!=2&&(C.l+=16,C.read_shift(1),C[C.l]!==0&&(X=t[C[C.l]]),C.l+=1,C.l+=2),U&&(C.l+=36);for(var W=[],he={},K=Math.min(C.length,F==2?521:Q-10-(B?264:0)),le=U?32:11;C.l<K&&C[C.l]!=13;)switch(he={},he.name=Jl.utils.decode(X,C.slice(C.l,C.l+le)).replace(/[\u0000\r\n].*$/g,""),C.l+=le,he.type=String.fromCharCode(C.read_shift(1)),F!=2&&!U&&(he.offset=C.read_shift(4)),he.len=C.read_shift(1),F==2&&(he.offset=C.read_shift(2)),he.dec=C.read_shift(1),he.name.length&&W.push(he),F!=2&&(C.l+=U?13:14),he.type){case"B":(!B||he.len!=8)&&w.WTF&&console.log("Skipping "+he.name+":"+he.type);break;case"G":case"P":w.WTF&&console.log("Skipping "+he.name+":"+he.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+he.type)}if(C[C.l]!==13&&(C.l=Q-1),C.read_shift(1)!==13)throw new Error("DBF Terminator not found "+C.l+" "+C[C.l]);C.l=Q;var G=0,oe=0;for(P[0]=[],oe=0;oe!=W.length;++oe)P[0][oe]=W[oe].name;for(;Y-- >0;){if(C[C.l]===42){C.l+=N;continue}for(++C.l,P[++G]=[],oe=0,oe=0;oe!=W.length;++oe){var fe=C.slice(C.l,C.l+W[oe].len);C.l+=W[oe].len,Ks(fe,0);var pe=Jl.utils.decode(X,fe);switch(W[oe].type){case"C":pe.trim().length&&(P[G][oe]=pe.replace(/\s+$/,""));break;case"D":pe.length===8?P[G][oe]=new Date(+pe.slice(0,4),+pe.slice(4,6)-1,+pe.slice(6,8)):P[G][oe]=pe;break;case"F":P[G][oe]=parseFloat(pe.trim());break;case"+":case"I":P[G][oe]=U?fe.read_shift(-4,"i")^2147483648:fe.read_shift(4,"i");break;case"L":switch(pe.trim().toUpperCase()){case"Y":case"T":P[G][oe]=!0;break;case"N":case"F":P[G][oe]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+pe+"|")}break;case"M":if(!L)throw new Error("DBF Unexpected MEMO for type "+F.toString(16));P[G][oe]="##MEMO##"+(U?parseInt(pe.trim(),10):fe.read_shift(4));break;case"N":pe=pe.replace(/\u0000/g,"").trim(),pe&&pe!="."&&(P[G][oe]=+pe||0);break;case"@":P[G][oe]=new Date(fe.read_shift(-8,"f")-621356832e5);break;case"T":P[G][oe]=new Date((fe.read_shift(4)-2440588)*864e5+fe.read_shift(4));break;case"Y":P[G][oe]=fe.read_shift(4,"i")/1e4+fe.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":P[G][oe]=-fe.read_shift(-8,"f");break;case"B":if(B&&W[oe].len==8){P[G][oe]=fe.read_shift(8,"f");break}case"G":case"P":fe.l+=W[oe].len;break;case"0":if(W[oe].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+W[oe].type)}}}if(F!=2&&C.l<C.length&&C[C.l++]!=26)throw new Error("DBF EOF Marker missing "+(C.l-1)+" of "+C.length+" "+C[C.l-1].toString(16));return w&&w.sheetRows&&(P=P.slice(0,w.sheetRows)),w.DBF=W,P}function l(x,w){var P=w||{};P.dateNF||(P.dateNF="yyyymmdd");var C=Sd(r(x,P),P);return C["!cols"]=P.DBF.map(function(F){return{wch:F.len,DBF:F}}),delete P.DBF,C}function c(x,w){try{return _h(l(x,w),w)}catch(P){if(w&&w.WTF)throw P}return{SheetNames:[],Sheets:{}}}var f={B:8,C:250,L:1,D:8,"?":0,"":0};function p(x,w){var P=w||{};if(+P.codepage>=0&&fo(+P.codepage),P.type=="string")throw new Error("Cannot write DBF to JS string");var C=jr(),F=om(x,{header:1,raw:!0,cellDates:!0}),L=F[0],B=F.slice(1),U=x["!cols"]||[],Y=0,Q=0,N=0,X=1;for(Y=0;Y<L.length;++Y){if(((U[Y]||{}).DBF||{}).name){L[Y]=U[Y].DBF.name,++N;continue}if(L[Y]!=null){if(++N,typeof L[Y]=="number"&&(L[Y]=L[Y].toString(10)),typeof L[Y]!="string")throw new Error("DBF Invalid column name "+L[Y]+" |"+typeof L[Y]+"|");if(L.indexOf(L[Y])!==Y){for(Q=0;Q<1024;++Q)if(L.indexOf(L[Y]+"_"+Q)==-1){L[Y]+="_"+Q;break}}}}var W=hn(x["!ref"]),he=[],K=[],le=[];for(Y=0;Y<=W.e.c-W.s.c;++Y){var G="",oe="",fe=0,pe=[];for(Q=0;Q<B.length;++Q)B[Q][Y]!=null&&pe.push(B[Q][Y]);if(pe.length==0||L[Y]==null){he[Y]="?";continue}for(Q=0;Q<pe.length;++Q){switch(typeof pe[Q]){case"number":oe="B";break;case"string":oe="C";break;case"boolean":oe="L";break;case"object":oe=pe[Q]instanceof Date?"D":"C";break;default:oe="C"}fe=Math.max(fe,String(pe[Q]).length),G=G&&G!=oe?"C":oe}fe>250&&(fe=250),oe=((U[Y]||{}).DBF||{}).type,oe=="C"&&U[Y].DBF.len>fe&&(fe=U[Y].DBF.len),G=="B"&&oe=="N"&&(G="N",le[Y]=U[Y].DBF.dec,fe=U[Y].DBF.len),K[Y]=G=="C"||oe=="N"?fe:f[G]||0,X+=K[Y],he[Y]=G}var Te=C.next(32);for(Te.write_shift(4,318902576),Te.write_shift(4,B.length),Te.write_shift(2,296+32*N),Te.write_shift(2,X),Y=0;Y<4;++Y)Te.write_shift(4,0);for(Te.write_shift(4,0|(+s[BP]||3)<<8),Y=0,Q=0;Y<L.length;++Y)if(L[Y]!=null){var De=C.next(32),Me=(L[Y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);De.write_shift(1,Me,"sbcs"),De.write_shift(1,he[Y]=="?"?"C":he[Y],"sbcs"),De.write_shift(4,Q),De.write_shift(1,K[Y]||f[he[Y]]||0),De.write_shift(1,le[Y]||0),De.write_shift(1,2),De.write_shift(4,0),De.write_shift(1,0),De.write_shift(4,0),De.write_shift(4,0),Q+=K[Y]||f[he[Y]]||0}var He=C.next(264);for(He.write_shift(4,13),Y=0;Y<65;++Y)He.write_shift(4,0);for(Y=0;Y<B.length;++Y){var je=C.next(X);for(je.write_shift(1,0),Q=0;Q<L.length;++Q)if(L[Q]!=null)switch(he[Q]){case"L":je.write_shift(1,B[Y][Q]==null?63:B[Y][Q]?84:70);break;case"B":je.write_shift(8,B[Y][Q]||0,"f");break;case"N":var tt="0";for(typeof B[Y][Q]=="number"&&(tt=B[Y][Q].toFixed(le[Q]||0)),N=0;N<K[Q]-tt.length;++N)je.write_shift(1,32);je.write_shift(1,tt,"sbcs");break;case"D":B[Y][Q]?(je.write_shift(4,("0000"+B[Y][Q].getFullYear()).slice(-4),"sbcs"),je.write_shift(2,("00"+(B[Y][Q].getMonth()+1)).slice(-2),"sbcs"),je.write_shift(2,("00"+B[Y][Q].getDate()).slice(-2),"sbcs")):je.write_shift(8,"00000000","sbcs");break;case"C":var Ze=String(B[Y][Q]!=null?B[Y][Q]:"").slice(0,K[Q]);for(je.write_shift(1,Ze,"sbcs"),N=0;N<K[Q]-Ze.length;++N)je.write_shift(1,32);break}}return C.next(1).write_shift(1,26),C.end()}return{to_workbook:c,to_sheet:l,from_sheet:p}}(),ZD=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+fs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(L,B){var U=t[B];return typeof U=="number"?Yk(U):U},l=function(L,B,U){var Y=B.charCodeAt(0)-32<<4|U.charCodeAt(0)-48;return Y==59?L:Yk(Y)};t["|"]=254;function c(L,B){switch(B.type){case"base64":return f(ya(L),B);case"binary":return f(L,B);case"buffer":return f($i&&Buffer.isBuffer(L)?L.toString("binary"):Eh(L),B);case"array":return f(bc(L),B)}throw new Error("Unrecognized type "+B.type)}function f(L,B){var U=L.split(/[\n\r]+/),Y=-1,Q=-1,N=0,X=0,W=[],he=[],K=null,le={},G=[],oe=[],fe=[],pe=0,Te;for(+B.codepage>=0&&fo(+B.codepage);N!==U.length;++N){pe=0;var De=U[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,l).replace(s,r),Me=De.replace(/;;/g,"\0").split(";").map(function(Ae){return Ae.replace(/\u0000/g,";")}),He=Me[0],je;if(De.length>0)switch(He){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Me[1].charAt(0)=="P"&&he.push(De.slice(3).replace(/;;/g,";"));break;case"C":var tt=!1,Ze=!1,ft=!1,Je=!1,dt=-1,at=-1;for(X=1;X<Me.length;++X)switch(Me[X].charAt(0)){case"A":break;case"X":Q=parseInt(Me[X].slice(1))-1,Ze=!0;break;case"Y":for(Y=parseInt(Me[X].slice(1))-1,Ze||(Q=0),Te=W.length;Te<=Y;++Te)W[Te]=[];break;case"K":je=Me[X].slice(1),je.charAt(0)==='"'?je=je.slice(1,je.length-1):je==="TRUE"?je=!0:je==="FALSE"?je=!1:isNaN(vo(je))?isNaN(ed(je).getDate())||(je=Xn(je)):(je=vo(je),K!==null&&wd(K)&&(je=qm(je))),tt=!0;break;case"E":Je=!0;var Ie=Iu(Me[X].slice(1),{r:Y,c:Q});W[Y][Q]=[W[Y][Q],Ie];break;case"S":ft=!0,W[Y][Q]=[W[Y][Q],"S5S"];break;case"G":break;case"R":dt=parseInt(Me[X].slice(1))-1;break;case"C":at=parseInt(Me[X].slice(1))-1;break;default:if(B&&B.WTF)throw new Error("SYLK bad record "+De)}if(tt&&(W[Y][Q]&&W[Y][Q].length==2?W[Y][Q][0]=je:W[Y][Q]=je,K=null),ft){if(Je)throw new Error("SYLK shared formula cannot have own formula");var qe=dt>-1&&W[dt][at];if(!qe||!qe[1])throw new Error("SYLK shared formula cannot find base");W[Y][Q][1]=mM(qe[1],{r:Y-dt,c:Q-at})}break;case"F":var Ue=0;for(X=1;X<Me.length;++X)switch(Me[X].charAt(0)){case"X":Q=parseInt(Me[X].slice(1))-1,++Ue;break;case"Y":for(Y=parseInt(Me[X].slice(1))-1,Te=W.length;Te<=Y;++Te)W[Te]=[];break;case"M":pe=parseInt(Me[X].slice(1))/20;break;case"F":break;case"G":break;case"P":K=he[parseInt(Me[X].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(fe=Me[X].slice(1).split(" "),Te=parseInt(fe[0],10);Te<=parseInt(fe[1],10);++Te)pe=parseInt(fe[2],10),oe[Te-1]=pe===0?{hidden:!0}:{wch:pe},wh(oe[Te-1]);break;case"C":Q=parseInt(Me[X].slice(1))-1,oe[Q]||(oe[Q]={});break;case"R":Y=parseInt(Me[X].slice(1))-1,G[Y]||(G[Y]={}),pe>0?(G[Y].hpt=pe,G[Y].hpx=id(pe)):pe===0&&(G[Y].hidden=!0);break;default:if(B&&B.WTF)throw new Error("SYLK bad record "+De)}Ue<1&&(K=null);break;default:if(B&&B.WTF)throw new Error("SYLK bad record "+De)}}return G.length>0&&(le["!rows"]=G),oe.length>0&&(le["!cols"]=oe),B&&B.sheetRows&&(W=W.slice(0,B.sheetRows)),[W,le]}function p(L,B){var U=c(L,B),Y=U[0],Q=U[1],N=Sd(Y,B);return fs(Q).forEach(function(X){N[X]=Q[X]}),N}function x(L,B){return _h(p(L,B),B)}function w(L,B,U,Y){var Q="C;Y"+(U+1)+";X"+(Y+1)+";K";switch(L.t){case"n":Q+=L.v||0,L.f&&!L.F&&(Q+=";E"+sb(L.f,{r:U,c:Y}));break;case"b":Q+=L.v?"TRUE":"FALSE";break;case"e":Q+=L.w||L.v;break;case"d":Q+='"'+(L.w||L.v)+'"';break;case"s":Q+='"'+L.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return Q}function P(L,B){B.forEach(function(U,Y){var Q="F;W"+(Y+1)+" "+(Y+1)+" ";U.hidden?Q+="0":(typeof U.width=="number"&&!U.wpx&&(U.wpx=$f(U.width)),typeof U.wpx=="number"&&!U.wch&&(U.wch=Kf(U.wpx)),typeof U.wch=="number"&&(Q+=Math.round(U.wch))),Q.charAt(Q.length-1)!=" "&&L.push(Q)})}function C(L,B){B.forEach(function(U,Y){var Q="F;";U.hidden?Q+="M0;":U.hpt?Q+="M"+20*U.hpt+";":U.hpx&&(Q+="M"+20*qf(U.hpx)+";"),Q.length>2&&L.push(Q+"R"+(Y+1))})}function F(L,B){var U=["ID;PWXL;N;E"],Y=[],Q=hn(L["!ref"]),N,X=Array.isArray(L),W=`\r
`;U.push("P;PGeneral"),U.push("F;P0;DG0G8;M255"),L["!cols"]&&P(U,L["!cols"]),L["!rows"]&&C(U,L["!rows"]),U.push("B;Y"+(Q.e.r-Q.s.r+1)+";X"+(Q.e.c-Q.s.c+1)+";D"+[Q.s.c,Q.s.r,Q.e.c,Q.e.r].join(" "));for(var he=Q.s.r;he<=Q.e.r;++he)for(var K=Q.s.c;K<=Q.e.c;++K){var le=Fi({r:he,c:K});N=X?(L[he]||[])[K]:L[le],!(!N||N.v==null&&(!N.f||N.F))&&Y.push(w(N,L,he,K))}return U.join(W)+W+Y.join(W)+W+"E"+W}return{to_workbook:x,to_sheet:p,from_sheet:F}}(),JD=function(){function t(f,p){switch(p.type){case"base64":return s(ya(f),p);case"binary":return s(f,p);case"buffer":return s($i&&Buffer.isBuffer(f)?f.toString("binary"):Eh(f),p);case"array":return s(bc(f),p)}throw new Error("Unrecognized type "+p.type)}function s(f,p){for(var x=f.split(`
`),w=-1,P=-1,C=0,F=[];C!==x.length;++C){if(x[C].trim()==="BOT"){F[++w]=[],P=0;continue}if(!(w<0)){var L=x[C].trim().split(","),B=L[0],U=L[1];++C;for(var Y=x[C]||"";(Y.match(/["]/g)||[]).length&1&&C<x.length-1;)Y+=`
`+x[++C];switch(Y=Y.trim(),+B){case-1:if(Y==="BOT"){F[++w]=[],P=0;continue}else if(Y!=="EOD")throw new Error("Unrecognized DIF special command "+Y);break;case 0:Y==="TRUE"?F[w][P]=!0:Y==="FALSE"?F[w][P]=!1:isNaN(vo(U))?isNaN(ed(U).getDate())?F[w][P]=U:F[w][P]=Xn(U):F[w][P]=vo(U),++P;break;case 1:Y=Y.slice(1,Y.length-1),Y=Y.replace(/""/g,'"'),Y&&Y.match(/^=".*"$/)&&(Y=Y.slice(2,-1)),F[w][P++]=Y!==""?Y:null;break}if(Y==="EOD")break}}return p&&p.sheetRows&&(F=F.slice(0,p.sheetRows)),F}function r(f,p){return Sd(t(f,p),p)}function l(f,p){return _h(r(f,p),p)}var c=function(){var f=function(w,P,C,F,L){w.push(P),w.push(C+","+F),w.push('"'+L.replace(/"/g,'""')+'"')},p=function(w,P,C,F){w.push(P+","+C),w.push(P==1?'"'+F.replace(/"/g,'""')+'"':F)};return function(w){var P=[],C=hn(w["!ref"]),F,L=Array.isArray(w);f(P,"TABLE",0,1,"sheetjs"),f(P,"VECTORS",0,C.e.r-C.s.r+1,""),f(P,"TUPLES",0,C.e.c-C.s.c+1,""),f(P,"DATA",0,0,"");for(var B=C.s.r;B<=C.e.r;++B){p(P,-1,0,"BOT");for(var U=C.s.c;U<=C.e.c;++U){var Y=Fi({r:B,c:U});if(F=L?(w[B]||[])[U]:w[Y],!F){p(P,1,0,"");continue}switch(F.t){case"n":var Q=F.w;!Q&&F.v!=null&&(Q=F.v),Q==null?F.f&&!F.F?p(P,1,0,"="+F.f):p(P,1,0,""):p(P,0,Q,"V");break;case"b":p(P,0,F.v?1:0,F.v?"TRUE":"FALSE");break;case"s":p(P,1,0,isNaN(F.v)?F.v:'="'+F.v+'"');break;case"d":F.w||(F.w=$a(F.z||Mi[14],Is(Xn(F.v)))),p(P,0,F.w,"V");break;default:p(P,1,0,"")}}}p(P,-1,0,"EOD");var N=`\r
`,X=P.join(N);return X}}();return{to_workbook:l,to_sheet:r,from_sheet:c}}(),QD=function(){function t(F){return F.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(F){return F.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(F,L){for(var B=F.split(`
`),U=-1,Y=-1,Q=0,N=[];Q!==B.length;++Q){var X=B[Q].trim().split(":");if(X[0]==="cell"){var W=is(X[1]);if(N.length<=W.r)for(U=N.length;U<=W.r;++U)N[U]||(N[U]=[]);switch(U=W.r,Y=W.c,X[2]){case"t":N[U][Y]=t(X[3]);break;case"v":N[U][Y]=+X[3];break;case"vtf":var he=X[X.length-1];case"vtc":switch(X[3]){case"nl":N[U][Y]=!!+X[4];break;default:N[U][Y]=+X[4];break}X[2]=="vtf"&&(N[U][Y]=[N[U][Y],he])}}}return L&&L.sheetRows&&(N=N.slice(0,L.sheetRows)),N}function l(F,L){return Sd(r(F,L),L)}function c(F,L){return _h(l(F,L),L)}var f=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),p=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,x=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),w="--SocialCalcSpreadsheetControlSave--";function P(F){if(!F||!F["!ref"])return"";for(var L=[],B=[],U,Y="",Q=Zr(F["!ref"]),N=Array.isArray(F),X=Q.s.r;X<=Q.e.r;++X)for(var W=Q.s.c;W<=Q.e.c;++W)if(Y=Fi({r:X,c:W}),U=N?(F[X]||[])[W]:F[Y],!(!U||U.v==null||U.t==="z")){switch(B=["cell",Y,"t"],U.t){case"s":case"str":B.push(s(U.v));break;case"n":U.f?(B[2]="vtf",B[3]="n",B[4]=U.v,B[5]=s(U.f)):(B[2]="v",B[3]=U.v);break;case"b":B[2]="vt"+(U.f?"f":"c"),B[3]="nl",B[4]=U.v?"1":"0",B[5]=s(U.f||(U.v?"TRUE":"FALSE"));break;case"d":var he=Is(Xn(U.v));B[2]="vtc",B[3]="nd",B[4]=""+he,B[5]=U.w||$a(U.z||Mi[14],he);break;case"e":continue}L.push(B.join(":"))}return L.push("sheet:c:"+(Q.e.c-Q.s.c+1)+":r:"+(Q.e.r-Q.s.r+1)+":tvf:1"),L.push("valueformat:1:text-wiki"),L.join(`
`)}function C(F){return[f,p,x,p,P(F),w].join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:C}}(),td=function(){function t(C,F,L,B,U){U.raw?F[L][B]=C:C===""||(C==="TRUE"?F[L][B]=!0:C==="FALSE"?F[L][B]=!1:isNaN(vo(C))?isNaN(ed(C).getDate())?F[L][B]=C:F[L][B]=Xn(C):F[L][B]=vo(C))}function s(C,F){var L=F||{},B=[];if(!C||C.length===0)return B;for(var U=C.split(/[\r\n]/),Y=U.length-1;Y>=0&&U[Y].length===0;)--Y;for(var Q=10,N=0,X=0;X<=Y;++X)N=U[X].indexOf(" "),N==-1?N=U[X].length:N++,Q=Math.max(Q,N);for(X=0;X<=Y;++X){B[X]=[];var W=0;for(t(U[X].slice(0,Q).trim(),B,X,W,L),W=1;W<=(U[X].length-Q)/10+1;++W)t(U[X].slice(Q+(W-1)*10,Q+W*10).trim(),B,X,W,L)}return L.sheetRows&&(B=B.slice(0,L.sheetRows)),B}var r={44:",",9:"	",59:";",124:"|"},l={44:3,9:2,59:1,124:0};function c(C){for(var F={},L=!1,B=0,U=0;B<C.length;++B)(U=C.charCodeAt(B))==34?L=!L:!L&&U in r&&(F[U]=(F[U]||0)+1);U=[];for(B in F)Object.prototype.hasOwnProperty.call(F,B)&&U.push([F[B],B]);if(!U.length){F=l;for(B in F)Object.prototype.hasOwnProperty.call(F,B)&&U.push([F[B],B])}return U.sort(function(Y,Q){return Y[0]-Q[0]||l[Y[1]]-l[Q[1]]}),r[U.pop()[1]]||44}function f(C,F){var L=F||{},B="",U=L.dense?[]:{},Y={s:{c:0,r:0},e:{c:0,r:0}};C.slice(0,4)=="sep="?C.charCodeAt(5)==13&&C.charCodeAt(6)==10?(B=C.charAt(4),C=C.slice(7)):C.charCodeAt(5)==13||C.charCodeAt(5)==10?(B=C.charAt(4),C=C.slice(6)):B=c(C.slice(0,1024)):L&&L.FS?B=L.FS:B=c(C.slice(0,1024));var Q=0,N=0,X=0,W=0,he=0,K=B.charCodeAt(0),le=!1,G=0,oe=C.charCodeAt(0);C=C.replace(/\r\n/mg,`
`);var fe=L.dateNF!=null?HB(L.dateNF):null;function pe(){var Te=C.slice(W,he),De={};if(Te.charAt(0)=='"'&&Te.charAt(Te.length-1)=='"'&&(Te=Te.slice(1,-1).replace(/""/g,'"')),Te.length===0)De.t="z";else if(L.raw)De.t="s",De.v=Te;else if(Te.trim().length===0)De.t="s",De.v=Te;else if(Te.charCodeAt(0)==61)Te.charCodeAt(1)==34&&Te.charCodeAt(Te.length-1)==34?(De.t="s",De.v=Te.slice(2,-1).replace(/""/g,'"')):pX(Te)?(De.t="n",De.f=Te.slice(1)):(De.t="s",De.v=Te);else if(Te=="TRUE")De.t="b",De.v=!0;else if(Te=="FALSE")De.t="b",De.v=!1;else if(!isNaN(X=vo(Te)))De.t="n",L.cellText!==!1&&(De.w=Te),De.v=X;else if(!isNaN(ed(Te).getDate())||fe&&Te.match(fe)){De.z=L.dateNF||Mi[14];var Me=0;fe&&Te.match(fe)&&(Te=YB(Te,L.dateNF,Te.match(fe)||[]),Me=1),L.cellDates?(De.t="d",De.v=Xn(Te,Me)):(De.t="n",De.v=Is(Xn(Te,Me))),L.cellText!==!1&&(De.w=$a(De.z,De.v instanceof Date?Is(De.v):De.v)),L.cellNF||delete De.z}else De.t="s",De.v=Te;if(De.t=="z"||(L.dense?(U[Q]||(U[Q]=[]),U[Q][N]=De):U[Fi({c:N,r:Q})]=De),W=he+1,oe=C.charCodeAt(W),Y.e.c<N&&(Y.e.c=N),Y.e.r<Q&&(Y.e.r=Q),G==K)++N;else if(N=0,++Q,L.sheetRows&&L.sheetRows<=Q)return!0}e:for(;he<C.length;++he)switch(G=C.charCodeAt(he)){case 34:oe===34&&(le=!le);break;case K:case 10:case 13:if(!le&&pe())break e;break}return he-W>0&&pe(),U["!ref"]=Ui(Y),U}function p(C,F){return!(F&&F.PRN)||F.FS||C.slice(0,4)=="sep="||C.indexOf("	")>=0||C.indexOf(",")>=0||C.indexOf(";")>=0?f(C,F):Sd(s(C,F),F)}function x(C,F){var L="",B=F.type=="string"?[0,0,0,0]:db(C,F);switch(F.type){case"base64":L=ya(C);break;case"binary":L=C;break;case"buffer":F.codepage==65001?L=C.toString("utf8"):F.codepage&&typeof Jl<"u"?L=Jl.utils.decode(F.codepage,C):L=$i&&Buffer.isBuffer(C)?C.toString("binary"):Eh(C);break;case"array":L=bc(C);break;case"string":L=C;break;default:throw new Error("Unrecognized type "+F.type)}return B[0]==239&&B[1]==187&&B[2]==191?L=_n(L.slice(3)):F.type!="string"&&F.type!="buffer"&&F.codepage==65001?L=_n(L):F.type=="binary"&&typeof Jl<"u"&&F.codepage&&(L=Jl.utils.decode(F.codepage,Jl.utils.encode(28591,L))),L.slice(0,19)=="socialcalc:version:"?QD.to_sheet(F.type=="string"?L:_n(L),F):p(L,F)}function w(C,F){return _h(x(C,F),F)}function P(C){for(var F=[],L=hn(C["!ref"]),B,U=Array.isArray(C),Y=L.s.r;Y<=L.e.r;++Y){for(var Q=[],N=L.s.c;N<=L.e.c;++N){var X=Fi({r:Y,c:N});if(B=U?(C[Y]||[])[N]:C[X],!B||B.v==null){Q.push("          ");continue}for(var W=(B.w||(yl(B),B.w)||"").slice(0,10);W.length<10;)W+=" ";Q.push(W+(N===0?" ":""))}F.push(Q.join(""))}return F.join(`
`)}return{to_workbook:w,to_sheet:x,from_sheet:P}}();function i6(t,s){var r=s||{},l=!!r.WTF;r.WTF=!0;try{var c=ZD.to_workbook(t,r);return r.WTF=l,c}catch(f){if(r.WTF=l,!f.message.match(/SYLK bad record ID/)&&l)throw f;return td.to_workbook(t,s)}}var dc=function(){function t(Ie,qe,Ue){if(Ie){Ks(Ie,Ie.l||0);for(var Ae=Ue.Enum||dt;Ie.l<Ie.length;){var Ye=Ie.read_shift(2),st=Ae[Ye]||Ae[65535],ht=Ie.read_shift(2),vt=Ie.l+ht,kt=st.f&&st.f(Ie,ht,Ue);if(Ie.l=vt,qe(kt,st,Ye))return}}}function s(Ie,qe){switch(qe.type){case"base64":return r(da(ya(Ie)),qe);case"binary":return r(da(Ie),qe);case"buffer":case"array":return r(Ie,qe)}throw"Unsupported type "+qe.type}function r(Ie,qe){if(!Ie)return Ie;var Ue=qe||{},Ae=Ue.dense?[]:{},Ye="Sheet1",st="",ht=0,vt={},kt=[],Kt=[],ve={s:{r:0,c:0},e:{r:0,c:0}},et=Ue.sheetRows||0;if(Ie[2]==0&&(Ie[3]==8||Ie[3]==9)&&Ie.length>=16&&Ie[14]==5&&Ie[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Ie[2]==2)Ue.Enum=dt,t(Ie,function(gt,Ht,_t){switch(_t){case 0:Ue.vers=gt,gt>=4096&&(Ue.qpro=!0);break;case 6:ve=gt;break;case 204:gt&&(st=gt);break;case 222:st=gt;break;case 15:case 51:Ue.qpro||(gt[1].v=gt[1].v.slice(1));case 13:case 14:case 16:_t==14&&(gt[2]&112)==112&&(gt[2]&15)>1&&(gt[2]&15)<15&&(gt[1].z=Ue.dateNF||Mi[14],Ue.cellDates&&(gt[1].t="d",gt[1].v=qm(gt[1].v))),Ue.qpro&&gt[3]>ht&&(Ae["!ref"]=Ui(ve),vt[Ye]=Ae,kt.push(Ye),Ae=Ue.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},ht=gt[3],Ye=st||"Sheet"+(ht+1),st="");var Wt=Ue.dense?(Ae[gt[0].r]||[])[gt[0].c]:Ae[Fi(gt[0])];if(Wt){Wt.t=gt[1].t,Wt.v=gt[1].v,gt[1].z!=null&&(Wt.z=gt[1].z),gt[1].f!=null&&(Wt.f=gt[1].f);break}Ue.dense?(Ae[gt[0].r]||(Ae[gt[0].r]=[]),Ae[gt[0].r][gt[0].c]=gt[1]):Ae[Fi(gt[0])]=gt[1];break}},Ue);else if(Ie[2]==26||Ie[2]==14)Ue.Enum=at,Ie[2]==14&&(Ue.qpro=!0,Ie.l=0),t(Ie,function(gt,Ht,_t){switch(_t){case 204:Ye=gt;break;case 22:gt[1].v=gt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(gt[3]>ht&&(Ae["!ref"]=Ui(ve),vt[Ye]=Ae,kt.push(Ye),Ae=Ue.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},ht=gt[3],Ye="Sheet"+(ht+1)),et>0&&gt[0].r>=et)break;Ue.dense?(Ae[gt[0].r]||(Ae[gt[0].r]=[]),Ae[gt[0].r][gt[0].c]=gt[1]):Ae[Fi(gt[0])]=gt[1],ve.e.c<gt[0].c&&(ve.e.c=gt[0].c),ve.e.r<gt[0].r&&(ve.e.r=gt[0].r);break;case 27:gt[14e3]&&(Kt[gt[14e3][0]]=gt[14e3][1]);break;case 1537:Kt[gt[0]]=gt[1],gt[0]==ht&&(Ye=gt[1]);break}},Ue);else throw new Error("Unrecognized LOTUS BOF "+Ie[2]);if(Ae["!ref"]=Ui(ve),vt[st||Ye]=Ae,kt.push(st||Ye),!Kt.length)return{SheetNames:kt,Sheets:vt};for(var ut={},xt=[],wt=0;wt<Kt.length;++wt)vt[kt[wt]]?(xt.push(Kt[wt]||kt[wt]),ut[Kt[wt]]=vt[Kt[wt]]||vt[kt[wt]]):(xt.push(Kt[wt]),ut[Kt[wt]]={"!ref":"A1"});return{SheetNames:xt,Sheets:ut}}function l(Ie,qe){var Ue=qe||{};if(+Ue.codepage>=0&&fo(+Ue.codepage),Ue.type=="string")throw new Error("Cannot write WK1 to JS string");var Ae=jr(),Ye=hn(Ie["!ref"]),st=Array.isArray(Ie),ht=[];si(Ae,0,f(1030)),si(Ae,6,w(Ye));for(var vt=Math.min(Ye.e.r,8191),kt=Ye.s.r;kt<=vt;++kt)for(var Kt=bs(kt),ve=Ye.s.c;ve<=Ye.e.c;++ve){kt===Ye.s.r&&(ht[ve]=ts(ve));var et=ht[ve]+Kt,ut=st?(Ie[kt]||[])[ve]:Ie[et];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?si(Ae,13,B(kt,ve,ut.v)):si(Ae,14,Y(kt,ve,ut.v));else{var xt=yl(ut);si(Ae,15,F(kt,ve,xt.slice(0,239)))}}return si(Ae,1),Ae.end()}function c(Ie,qe){var Ue=qe||{};if(+Ue.codepage>=0&&fo(+Ue.codepage),Ue.type=="string")throw new Error("Cannot write WK3 to JS string");var Ae=jr();si(Ae,0,p(Ie));for(var Ye=0,st=0;Ye<Ie.SheetNames.length;++Ye)(Ie.Sheets[Ie.SheetNames[Ye]]||{})["!ref"]&&si(Ae,27,Je(Ie.SheetNames[Ye],st++));var ht=0;for(Ye=0;Ye<Ie.SheetNames.length;++Ye){var vt=Ie.Sheets[Ie.SheetNames[Ye]];if(!(!vt||!vt["!ref"])){for(var kt=hn(vt["!ref"]),Kt=Array.isArray(vt),ve=[],et=Math.min(kt.e.r,8191),ut=kt.s.r;ut<=et;++ut)for(var xt=bs(ut),wt=kt.s.c;wt<=kt.e.c;++wt){ut===kt.s.r&&(ve[wt]=ts(wt));var gt=ve[wt]+xt,Ht=Kt?(vt[ut]||[])[wt]:vt[gt];if(!(!Ht||Ht.t=="z"))if(Ht.t=="n")si(Ae,23,pe(ut,wt,ht,Ht.v));else{var _t=yl(Ht);si(Ae,22,G(ut,wt,ht,_t.slice(0,239)))}}++ht}}return si(Ae,1),Ae.end()}function f(Ie){var qe=Pt(2);return qe.write_shift(2,Ie),qe}function p(Ie){var qe=Pt(26);qe.write_shift(2,4096),qe.write_shift(2,4),qe.write_shift(4,0);for(var Ue=0,Ae=0,Ye=0,st=0;st<Ie.SheetNames.length;++st){var ht=Ie.SheetNames[st],vt=Ie.Sheets[ht];if(!(!vt||!vt["!ref"])){++Ye;var kt=Zr(vt["!ref"]);Ue<kt.e.r&&(Ue=kt.e.r),Ae<kt.e.c&&(Ae=kt.e.c)}}return Ue>8191&&(Ue=8191),qe.write_shift(2,Ue),qe.write_shift(1,Ye),qe.write_shift(1,Ae),qe.write_shift(2,0),qe.write_shift(2,0),qe.write_shift(1,1),qe.write_shift(1,2),qe.write_shift(4,0),qe.write_shift(4,0),qe}function x(Ie,qe,Ue){var Ae={s:{c:0,r:0},e:{c:0,r:0}};return qe==8&&Ue.qpro?(Ae.s.c=Ie.read_shift(1),Ie.l++,Ae.s.r=Ie.read_shift(2),Ae.e.c=Ie.read_shift(1),Ie.l++,Ae.e.r=Ie.read_shift(2),Ae):(Ae.s.c=Ie.read_shift(2),Ae.s.r=Ie.read_shift(2),qe==12&&Ue.qpro&&(Ie.l+=2),Ae.e.c=Ie.read_shift(2),Ae.e.r=Ie.read_shift(2),qe==12&&Ue.qpro&&(Ie.l+=2),Ae.s.c==65535&&(Ae.s.c=Ae.e.c=Ae.s.r=Ae.e.r=0),Ae)}function w(Ie){var qe=Pt(8);return qe.write_shift(2,Ie.s.c),qe.write_shift(2,Ie.s.r),qe.write_shift(2,Ie.e.c),qe.write_shift(2,Ie.e.r),qe}function P(Ie,qe,Ue){var Ae=[{c:0,r:0},{t:"n",v:0},0,0];return Ue.qpro&&Ue.vers!=20768?(Ae[0].c=Ie.read_shift(1),Ae[3]=Ie.read_shift(1),Ae[0].r=Ie.read_shift(2),Ie.l+=2):(Ae[2]=Ie.read_shift(1),Ae[0].c=Ie.read_shift(2),Ae[0].r=Ie.read_shift(2)),Ae}function C(Ie,qe,Ue){var Ae=Ie.l+qe,Ye=P(Ie,qe,Ue);if(Ye[1].t="s",Ue.vers==20768){Ie.l++;var st=Ie.read_shift(1);return Ye[1].v=Ie.read_shift(st,"utf8"),Ye}return Ue.qpro&&Ie.l++,Ye[1].v=Ie.read_shift(Ae-Ie.l,"cstr"),Ye}function F(Ie,qe,Ue){var Ae=Pt(7+Ue.length);Ae.write_shift(1,255),Ae.write_shift(2,qe),Ae.write_shift(2,Ie),Ae.write_shift(1,39);for(var Ye=0;Ye<Ae.length;++Ye){var st=Ue.charCodeAt(Ye);Ae.write_shift(1,st>=128?95:st)}return Ae.write_shift(1,0),Ae}function L(Ie,qe,Ue){var Ae=P(Ie,qe,Ue);return Ae[1].v=Ie.read_shift(2,"i"),Ae}function B(Ie,qe,Ue){var Ae=Pt(7);return Ae.write_shift(1,255),Ae.write_shift(2,qe),Ae.write_shift(2,Ie),Ae.write_shift(2,Ue,"i"),Ae}function U(Ie,qe,Ue){var Ae=P(Ie,qe,Ue);return Ae[1].v=Ie.read_shift(8,"f"),Ae}function Y(Ie,qe,Ue){var Ae=Pt(13);return Ae.write_shift(1,255),Ae.write_shift(2,qe),Ae.write_shift(2,Ie),Ae.write_shift(8,Ue,"f"),Ae}function Q(Ie,qe,Ue){var Ae=Ie.l+qe,Ye=P(Ie,qe,Ue);if(Ye[1].v=Ie.read_shift(8,"f"),Ue.qpro)Ie.l=Ae;else{var st=Ie.read_shift(2);he(Ie.slice(Ie.l,Ie.l+st),Ye),Ie.l+=st}return Ye}function N(Ie,qe,Ue){var Ae=qe&32768;return qe&=-32769,qe=(Ae?Ie:0)+(qe>=8192?qe-16384:qe),(Ae?"":"$")+(Ue?ts(qe):bs(qe))}var X={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},W=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function he(Ie,qe){Ks(Ie,0);for(var Ue=[],Ae=0,Ye="",st="",ht="",vt="";Ie.l<Ie.length;){var kt=Ie[Ie.l++];switch(kt){case 0:Ue.push(Ie.read_shift(8,"f"));break;case 1:st=N(qe[0].c,Ie.read_shift(2),!0),Ye=N(qe[0].r,Ie.read_shift(2),!1),Ue.push(st+Ye);break;case 2:{var Kt=N(qe[0].c,Ie.read_shift(2),!0),ve=N(qe[0].r,Ie.read_shift(2),!1);st=N(qe[0].c,Ie.read_shift(2),!0),Ye=N(qe[0].r,Ie.read_shift(2),!1),Ue.push(Kt+ve+":"+st+Ye)}break;case 3:if(Ie.l<Ie.length){console.error("WK1 premature formula end");return}break;case 4:Ue.push("("+Ue.pop()+")");break;case 5:Ue.push(Ie.read_shift(2));break;case 6:{for(var et="";kt=Ie[Ie.l++];)et+=String.fromCharCode(kt);Ue.push('"'+et.replace(/"/g,'""')+'"')}break;case 8:Ue.push("-"+Ue.pop());break;case 23:Ue.push("+"+Ue.pop());break;case 22:Ue.push("NOT("+Ue.pop()+")");break;case 20:case 21:vt=Ue.pop(),ht=Ue.pop(),Ue.push(["AND","OR"][kt-20]+"("+ht+","+vt+")");break;default:if(kt<32&&W[kt])vt=Ue.pop(),ht=Ue.pop(),Ue.push(ht+W[kt]+vt);else if(X[kt]){if(Ae=X[kt][1],Ae==69&&(Ae=Ie[Ie.l++]),Ae>Ue.length){console.error("WK1 bad formula parse 0x"+kt.toString(16)+":|"+Ue.join("|")+"|");return}var ut=Ue.slice(-Ae);Ue.length-=Ae,Ue.push(X[kt][0]+"("+ut.join(",")+")")}else return kt<=7?console.error("WK1 invalid opcode "+kt.toString(16)):kt<=24?console.error("WK1 unsupported op "+kt.toString(16)):kt<=30?console.error("WK1 invalid opcode "+kt.toString(16)):kt<=115?console.error("WK1 unsupported function opcode "+kt.toString(16)):console.error("WK1 unrecognized opcode "+kt.toString(16))}}Ue.length==1?qe[1].f=""+Ue[0]:console.error("WK1 bad formula parse |"+Ue.join("|")+"|")}function K(Ie){var qe=[{c:0,r:0},{t:"n",v:0},0];return qe[0].r=Ie.read_shift(2),qe[3]=Ie[Ie.l++],qe[0].c=Ie[Ie.l++],qe}function le(Ie,qe){var Ue=K(Ie);return Ue[1].t="s",Ue[1].v=Ie.read_shift(qe-4,"cstr"),Ue}function G(Ie,qe,Ue,Ae){var Ye=Pt(6+Ae.length);Ye.write_shift(2,Ie),Ye.write_shift(1,Ue),Ye.write_shift(1,qe),Ye.write_shift(1,39);for(var st=0;st<Ae.length;++st){var ht=Ae.charCodeAt(st);Ye.write_shift(1,ht>=128?95:ht)}return Ye.write_shift(1,0),Ye}function oe(Ie,qe){var Ue=K(Ie);Ue[1].v=Ie.read_shift(2);var Ae=Ue[1].v>>1;if(Ue[1].v&1)switch(Ae&7){case 0:Ae=(Ae>>3)*5e3;break;case 1:Ae=(Ae>>3)*500;break;case 2:Ae=(Ae>>3)/20;break;case 3:Ae=(Ae>>3)/200;break;case 4:Ae=(Ae>>3)/2e3;break;case 5:Ae=(Ae>>3)/2e4;break;case 6:Ae=(Ae>>3)/16;break;case 7:Ae=(Ae>>3)/64;break}return Ue[1].v=Ae,Ue}function fe(Ie,qe){var Ue=K(Ie),Ae=Ie.read_shift(4),Ye=Ie.read_shift(4),st=Ie.read_shift(2);if(st==65535)return Ae===0&&Ye===3221225472?(Ue[1].t="e",Ue[1].v=15):Ae===0&&Ye===3489660928?(Ue[1].t="e",Ue[1].v=42):Ue[1].v=0,Ue;var ht=st&32768;return st=(st&32767)-16446,Ue[1].v=(1-ht*2)*(Ye*Math.pow(2,st+32)+Ae*Math.pow(2,st)),Ue}function pe(Ie,qe,Ue,Ae){var Ye=Pt(14);if(Ye.write_shift(2,Ie),Ye.write_shift(1,Ue),Ye.write_shift(1,qe),Ae==0)return Ye.write_shift(4,0),Ye.write_shift(4,0),Ye.write_shift(2,65535),Ye;var st=0,ht=0,vt=0,kt=0;return Ae<0&&(st=1,Ae=-Ae),ht=Math.log2(Ae)|0,Ae/=Math.pow(2,ht-31),kt=Ae>>>0,kt&2147483648||(Ae/=2,++ht,kt=Ae>>>0),Ae-=kt,kt|=2147483648,kt>>>=0,Ae*=Math.pow(2,32),vt=Ae>>>0,Ye.write_shift(4,vt),Ye.write_shift(4,kt),ht+=16383+(st?32768:0),Ye.write_shift(2,ht),Ye}function Te(Ie,qe){var Ue=fe(Ie);return Ie.l+=qe-14,Ue}function De(Ie,qe){var Ue=K(Ie),Ae=Ie.read_shift(4);return Ue[1].v=Ae>>6,Ue}function Me(Ie,qe){var Ue=K(Ie),Ae=Ie.read_shift(8,"f");return Ue[1].v=Ae,Ue}function He(Ie,qe){var Ue=Me(Ie);return Ie.l+=qe-10,Ue}function je(Ie,qe){return Ie[Ie.l+qe-1]==0?Ie.read_shift(qe,"cstr"):""}function tt(Ie,qe){var Ue=Ie[Ie.l++];Ue>qe-1&&(Ue=qe-1);for(var Ae="";Ae.length<Ue;)Ae+=String.fromCharCode(Ie[Ie.l++]);return Ae}function Ze(Ie,qe,Ue){if(!(!Ue.qpro||qe<21)){var Ae=Ie.read_shift(1);Ie.l+=17,Ie.l+=1,Ie.l+=2;var Ye=Ie.read_shift(qe-21,"cstr");return[Ae,Ye]}}function ft(Ie,qe){for(var Ue={},Ae=Ie.l+qe;Ie.l<Ae;){var Ye=Ie.read_shift(2);if(Ye==14e3){for(Ue[Ye]=[0,""],Ue[Ye][0]=Ie.read_shift(2);Ie[Ie.l];)Ue[Ye][1]+=String.fromCharCode(Ie[Ie.l]),Ie.l++;Ie.l++}}return Ue}function Je(Ie,qe){var Ue=Pt(5+Ie.length);Ue.write_shift(2,14e3),Ue.write_shift(2,qe);for(var Ae=0;Ae<Ie.length;++Ae){var Ye=Ie.charCodeAt(Ae);Ue[Ue.l++]=Ye>127?95:Ye}return Ue[Ue.l++]=0,Ue}var dt={0:{n:"BOF",f:Ds},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:x},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:L},14:{n:"NUMBER",f:U},15:{n:"LABEL",f:C},16:{n:"FORMULA",f:Q},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:C},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:je},222:{n:"SHEETNAMELP",f:tt},65535:{n:""}},at={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:le},23:{n:"NUMBER17",f:fe},24:{n:"NUMBER18",f:oe},25:{n:"FORMULA19",f:Te},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ft},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:De},38:{n:"??"},39:{n:"NUMBER27",f:Me},40:{n:"FORMULA28",f:He},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:je},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ze},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:l,book_to_wk3:c,to_workbook:s}}();function n6(t){var s={},r=t.match(wr),l=0,c=!1;if(r)for(;l!=r.length;++l){var f=Ii(r[l]);switch(f[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!f.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if(f.val=="1")break;s.cp=My[parseInt(f.val,10)];break;case"<outline":if(!f.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=f.val;break;case"<sz":s.sz=f.val;break;case"<strike":if(!f.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!f.val)break;switch(f.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting";break}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if(f.val=="0")break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if(f.val=="0")break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":f.rgb&&(s.color=f.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=f.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=f.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":c=!0;break;case"</ext>":c=!1;break;default:if(f[0].charCodeAt(1)!==47&&!c)throw new Error("Unrecognized rich format "+f[0])}}return s}var s6=function(){var t=Yf("t"),s=Yf("rPr");function r(f){var p=f.match(t);if(!p)return{t:"s",v:""};var x={t:"s",v:an(p[1])},w=f.match(s);return w&&(x.s=n6(w[1])),x}var l=/<(?:\w+:)?r>/g,c=/<\/(?:\w+:)?r>/;return function(p){return p.replace(l,"").split(c).map(r).filter(function(x){return x.v})}}(),r6=function(){var s=/(\r\n|\n)/g;function r(c,f,p){var x=[];c.u&&x.push("text-decoration: underline;"),c.uval&&x.push("text-underline-style:"+c.uval+";"),c.sz&&x.push("font-size:"+c.sz+"pt;"),c.outline&&x.push("text-effect: outline;"),c.shadow&&x.push("text-shadow: auto;"),f.push('<span style="'+x.join("")+'">'),c.b&&(f.push("<b>"),p.push("</b>")),c.i&&(f.push("<i>"),p.push("</i>")),c.strike&&(f.push("<s>"),p.push("</s>"));var w=c.valign||"";return w=="superscript"||w=="super"?w="sup":w=="subscript"&&(w="sub"),w!=""&&(f.push("<"+w+">"),p.push("</"+w+">")),p.push("</span>"),c}function l(c){var f=[[],c.v,[]];return c.v?(c.s&&r(c.s,f[0],f[2]),f[0].join("")+f[1].replace(s,"<br/>")+f[2].join("")):""}return function(f){return f.map(l).join("")}}(),a6=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,o6=/<(?:\w+:)?r>/,l6=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Qy(t,s){var r=s?s.cellHTML:!0,l={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(l.t=an(_n(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),l.r=_n(t),r&&(l.h=Vy(l.t))):t.match(o6)&&(l.r=_n(t),l.t=an(_n((t.replace(l6,"").match(a6)||[]).join("").replace(wr,""))),r&&(l.h=r6(s6(l.r)))),l):{t:""}}var h6=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,c6=/<(?:\w+:)?(?:si|sstItem)>/g,u6=/<\/(?:\w+:)?(?:si|sstItem)>/;function d6(t,s){var r=[],l="";if(!t)return r;var c=t.match(h6);if(c){l=c[2].replace(c6,"").split(u6);for(var f=0;f!=l.length;++f){var p=Qy(l[f].trim(),s);p!=null&&(r[r.length]=p)}c=Ii(c[1]),r.Count=c.count,r.Unique=c.uniqueCount}return r}var f6=/^\s|\s$|[\t\n\r]/;function eM(t,s){if(!s.bookSST)return"";var r=[Cs];r[r.length]=ni("sst",null,{xmlns:Xc[0],count:t.Count,uniqueCount:t.Unique});for(var l=0;l!=t.length;++l)if(t[l]!=null){var c=t[l],f="<si>";c.r?f+=c.r:(f+="<t",c.t||(c.t=""),c.t.match(f6)&&(f+=' xml:space="preserve"'),f+=">"+An(c.t)+"</t>"),f+="</si>",r[r.length]=f}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function g6(t){return[t.read_shift(4),t.read_shift(4)]}function m6(t,s){var r=[],l=!1;return _l(t,function(f,p,x){switch(x){case 159:r.Count=f[0],r.Unique=f[1];break;case 19:r.push(f);break;case 160:return!0;case 35:l=!0;break;case 36:l=!1;break;default:if(p.T,!l||s.WTF)throw new Error("Unexpected record 0x"+x.toString(16))}}),r}function p6(t,s){return s||(s=Pt(8)),s.write_shift(4,t.Count),s.write_shift(4,t.Unique),s}var v6=P5;function x6(t){var s=jr();Xt(s,159,p6(t));for(var r=0;r<t.length;++r)Xt(s,19,v6(t[r]));return Xt(s,160),s.end()}function tM(t){for(var s=[],r=t.split(""),l=0;l<r.length;++l)s[l]=r[l].charCodeAt(0);return s}function gl(t,s){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),s>=4&&(t.l+=s-4),r}function y6(t){var s={};return s.id=t.read_shift(0,"lpp4"),s.R=gl(t,4),s.U=gl(t,4),s.W=gl(t,4),s}function b6(t){for(var s=t.read_shift(4),r=t.l+s-4,l={},c=t.read_shift(4),f=[];c-- >0;)f.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(l.name=t.read_shift(0,"lpp4"),l.comps=f,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return l}function w6(t){var s=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)s.push(b6(t));return s}function k6(t){var s=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)s.push(t.read_shift(0,"lpp4"));return s}function S6(t){var s={};return t.read_shift(4),t.l+=4,s.id=t.read_shift(0,"lpp4"),s.name=t.read_shift(0,"lpp4"),s.R=gl(t,4),s.U=gl(t,4),s.W=gl(t,4),s}function C6(t){var s=S6(t);if(s.ename=t.read_shift(0,"8lpp4"),s.blksz=t.read_shift(4),s.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return s}function iM(t,s){var r=t.l+s,l={};l.Flags=t.read_shift(4)&63,t.l+=4,l.AlgID=t.read_shift(4);var c=!1;switch(l.AlgID){case 26126:case 26127:case 26128:c=l.Flags==36;break;case 26625:c=l.Flags==4;break;case 0:c=l.Flags==16||l.Flags==4||l.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+l.AlgID}if(!c)throw new Error("Encryption Flags/AlgID mismatch");return l.AlgIDHash=t.read_shift(4),l.KeySize=t.read_shift(4),l.ProviderType=t.read_shift(4),t.l+=8,l.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,l}function nM(t,s){var r={},l=t.l+s;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,l),t.l=l,r}function A6(t){var s=gl(t);switch(s.Minor){case 2:return[s.Minor,T6(t)];case 3:return[s.Minor,P6()];case 4:return[s.Minor,D6(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}function T6(t){var s=t.read_shift(4);if((s&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),l=iM(t,r),c=nM(t,t.length-t.l);return{t:"Std",h:l,v:c}}function P6(){throw new Error("File is password-protected: ECMA-376 Extensible")}function D6(t){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),l={};return r.replace(wr,function(f){var p=Ii(f);switch($o(p[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":s.forEach(function(x){l[x]=p[x]});break;case"<dataIntegrity":l.encryptedHmacKey=p.encryptedHmacKey,l.encryptedHmacValue=p.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":l.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":l.uri=p.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":l.encs.push(p);break;default:throw p[0]}}),l}function M6(t,s){var r={},l=r.EncryptionVersionInfo=gl(t,4);if(s-=4,l.Minor!=2)throw new Error("unrecognized minor version code: "+l.Minor);if(l.Major>4||l.Major<2)throw new Error("unrecognized major version code: "+l.Major);r.Flags=t.read_shift(4),s-=4;var c=t.read_shift(4);return s-=4,r.EncryptionHeader=iM(t,c),s-=c,r.EncryptionVerifier=nM(t,s),r}function E6(t){var s={},r=s.EncryptionVersionInfo=gl(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return s.Salt=t.read_shift(16),s.EncryptedVerifier=t.read_shift(16),s.EncryptedVerifierHash=t.read_shift(16),s}function eb(t){var s=0,r,l=tM(t),c=l.length+1,f,p,x,w,P;for(r=bh(c),r[0]=l.length,f=1;f!=c;++f)r[f]=l[f-1];for(f=c-1;f>=0;--f)p=r[f],x=s&16384?1:0,w=s<<1&32767,P=x|w,s=P^p;return s^52811}var sM=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],l=function(p){return(p/2|p*128)&255},c=function(p,x){return l(p^x)},f=function(p){for(var x=s[p.length-1],w=104,P=p.length-1;P>=0;--P)for(var C=p[P],F=0;F!=7;++F)C&64&&(x^=r[w]),C*=2,--w;return x};return function(p){for(var x=tM(p),w=f(x),P=x.length,C=bh(16),F=0;F!=16;++F)C[F]=0;var L,B,U;for((P&1)===1&&(L=w>>8,C[P]=c(t[0],L),--P,L=w&255,B=x[x.length-1],C[P]=c(B,L));P>0;)--P,L=w>>8,C[P]=c(x[P],L),--P,L=w&255,C[P]=c(x[P],L);for(P=15,U=15-x.length;U>0;)L=w>>8,C[P]=c(t[U],L),--P,--U,L=w&255,C[P]=c(x[P],L),--P,--U;return C}}(),_6=function(t,s,r,l,c){c||(c=s),l||(l=sM(t));var f,p;for(f=0;f!=s.length;++f)p=s[f],p^=l[r],p=(p>>5|p<<3)&255,c[f]=p,++r;return[c,r,l]},F6=function(t){var s=0,r=sM(t);return function(l){var c=_6("",l,s,r);return s=c[1],c[0]}};function N6(t,s,r,l){var c={key:Ds(t),verificationBytes:Ds(t)};return r.password&&(c.verifier=eb(r.password)),l.valid=c.verificationBytes===c.verifier,l.valid&&(l.insitu=F6(r.password)),c}function L6(t,s,r){var l=r||{};return l.Info=t.read_shift(2),t.l-=2,l.Info===1?l.Data=E6(t):l.Data=M6(t,s),l}function I6(t,s,r){var l={Type:r.biff>=8?t.read_shift(2):0};return l.Type?L6(t,s-2,l):N6(t,r.biff>=8?s:s-2,r,l),l}var rM=function(){function t(c,f){switch(f.type){case"base64":return s(ya(c),f);case"binary":return s(c,f);case"buffer":return s($i&&Buffer.isBuffer(c)?c.toString("binary"):Eh(c),f);case"array":return s(bc(c),f)}throw new Error("Unrecognized type "+f.type)}function s(c,f){var p=f||{},x=p.dense?[]:{},w=c.match(/\\trowd.*?\\row\b/g);if(!w.length)throw new Error("RTF missing table");var P={s:{c:0,r:0},e:{c:0,r:w.length-1}};return w.forEach(function(C,F){Array.isArray(x)&&(x[F]=[]);for(var L=/\\\w+\b/g,B=0,U,Y=-1;U=L.exec(C);){switch(U[0]){case"\\cell":var Q=C.slice(B,L.lastIndex-U[0].length);if(Q[0]==" "&&(Q=Q.slice(1)),++Y,Q.length){var N={v:Q,t:"s"};Array.isArray(x)?x[F][Y]=N:x[Fi({r:F,c:Y})]=N}break}B=L.lastIndex}Y>P.e.c&&(P.e.c=Y)}),x["!ref"]=Ui(P),x}function r(c,f){return _h(t(c,f),f)}function l(c){for(var f=["{\\rtf1\\ansi"],p=hn(c["!ref"]),x,w=Array.isArray(c),P=p.s.r;P<=p.e.r;++P){f.push("\\trowd\\trautofit1");for(var C=p.s.c;C<=p.e.c;++C)f.push("\\cellx"+(C+1));for(f.push("\\pard\\intbl"),C=p.s.c;C<=p.e.c;++C){var F=Fi({r:P,c:C});x=w?(c[P]||[])[C]:c[F],!(!x||x.v==null&&(!x.f||x.F))&&(f.push(" "+(x.w||(yl(x),x.w))),f.push("\\cell"))}f.push("\\pard\\intbl\\row")}return f.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:l}}();function O6(t){var s=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}function jf(t){for(var s=0,r=1;s!=3;++s)r=r*256+(t[s]>255?255:t[s]<0?0:t[s]);return r.toString(16).toUpperCase().slice(1)}function R6(t){var s=t[0]/255,r=t[1]/255,l=t[2]/255,c=Math.max(s,r,l),f=Math.min(s,r,l),p=c-f;if(p===0)return[0,0,s];var x=0,w=0,P=c+f;switch(w=p/(P>1?2-P:P),c){case s:x=((r-l)/p+6)%6;break;case r:x=(l-s)/p+2;break;case l:x=(s-r)/p+4;break}return[x/6,w,P/2]}function B6(t){var s=t[0],r=t[1],l=t[2],c=r*2*(l<.5?l:1-l),f=l-c/2,p=[f,f,f],x=6*s,w;if(r!==0)switch(x|0){case 0:case 6:w=c*x,p[0]+=c,p[1]+=w;break;case 1:w=c*(2-x),p[0]+=w,p[1]+=c;break;case 2:w=c*(x-2),p[1]+=c,p[2]+=w;break;case 3:w=c*(4-x),p[1]+=w,p[2]+=c;break;case 4:w=c*(x-4),p[2]+=c,p[0]+=w;break;case 5:w=c*(6-x),p[2]+=w,p[0]+=c;break}for(var P=0;P!=3;++P)p[P]=Math.round(p[P]*255);return p}function rm(t,s){if(s===0)return t;var r=R6(O6(t));return s<0?r[2]=r[2]*(1+s):r[2]=1-(1-r[2])*(1-s),jf(B6(r))}var aM=6,V6=15,z6=1,or=aM;function $f(t){return Math.floor((t+Math.round(128/or)/256)*or)}function Kf(t){return Math.floor((t-5)/or*100+.5)/100}function am(t){return Math.round((t*or+5)/or*256)/256}function vv(t){return am(Kf($f(t)))}function tb(t){var s=Math.abs(t-vv(t)),r=or;if(s>.005)for(or=z6;or<V6;++or)Math.abs(t-vv(t))<=s&&(s=Math.abs(t-vv(t)),r=or);or=r}function wh(t){t.width?(t.wpx=$f(t.width),t.wch=Kf(t.wpx),t.MDW=or):t.wpx?(t.wch=Kf(t.wpx),t.width=am(t.wch),t.MDW=or):typeof t.wch=="number"&&(t.width=am(t.wch),t.wpx=$f(t.width),t.MDW=or),t.customWidth&&delete t.customWidth}var X6=96,oM=X6;function qf(t){return t*96/oM}function id(t){return t*oM/96}var H6={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Y6(t,s,r,l){s.Borders=[];var c={},f=!1;(t[0].match(wr)||[]).forEach(function(p){var x=Ii(p);switch($o(x[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":c={},x.diagonalUp&&(c.diagonalUp=Vn(x.diagonalUp)),x.diagonalDown&&(c.diagonalDown=Vn(x.diagonalDown)),s.Borders.push(c);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":f=!0;break;case"</ext>":f=!1;break;default:if(l&&l.WTF&&!f)throw new Error("unrecognized "+x[0]+" in borders")}})}function U6(t,s,r,l){s.Fills=[];var c={},f=!1;(t[0].match(wr)||[]).forEach(function(p){var x=Ii(p);switch($o(x[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":c={},s.Fills.push(c);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":s.Fills.push(c),c={};break;case"<patternFill":case"<patternFill>":x.patternType&&(c.patternType=x.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":c.bgColor||(c.bgColor={}),x.indexed&&(c.bgColor.indexed=parseInt(x.indexed,10)),x.theme&&(c.bgColor.theme=parseInt(x.theme,10)),x.tint&&(c.bgColor.tint=parseFloat(x.tint)),x.rgb&&(c.bgColor.rgb=x.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":c.fgColor||(c.fgColor={}),x.theme&&(c.fgColor.theme=parseInt(x.theme,10)),x.tint&&(c.fgColor.tint=parseFloat(x.tint)),x.rgb!=null&&(c.fgColor.rgb=x.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":f=!0;break;case"</ext>":f=!1;break;default:if(l&&l.WTF&&!f)throw new Error("unrecognized "+x[0]+" in fills")}})}function W6(t,s,r,l){s.Fonts=[];var c={},f=!1;(t[0].match(wr)||[]).forEach(function(p){var x=Ii(p);switch($o(x[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":s.Fonts.push(c),c={};break;case"<name":x.val&&(c.name=_n(x.val));break;case"<name/>":case"</name>":break;case"<b":c.bold=x.val?Vn(x.val):1;break;case"<b/>":c.bold=1;break;case"<i":c.italic=x.val?Vn(x.val):1;break;case"<i/>":c.italic=1;break;case"<u":switch(x.val){case"none":c.underline=0;break;case"single":c.underline=1;break;case"double":c.underline=2;break;case"singleAccounting":c.underline=33;break;case"doubleAccounting":c.underline=34;break}break;case"<u/>":c.underline=1;break;case"<strike":c.strike=x.val?Vn(x.val):1;break;case"<strike/>":c.strike=1;break;case"<outline":c.outline=x.val?Vn(x.val):1;break;case"<outline/>":c.outline=1;break;case"<shadow":c.shadow=x.val?Vn(x.val):1;break;case"<shadow/>":c.shadow=1;break;case"<condense":c.condense=x.val?Vn(x.val):1;break;case"<condense/>":c.condense=1;break;case"<extend":c.extend=x.val?Vn(x.val):1;break;case"<extend/>":c.extend=1;break;case"<sz":x.val&&(c.sz=+x.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":x.val&&(c.vertAlign=x.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":x.val&&(c.family=parseInt(x.val,10));break;case"<family/>":case"</family>":break;case"<scheme":x.val&&(c.scheme=x.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(x.val=="1")break;x.codepage=My[parseInt(x.val,10)];break;case"<color":if(c.color||(c.color={}),x.auto&&(c.color.auto=Vn(x.auto)),x.rgb)c.color.rgb=x.rgb.slice(-6);else if(x.indexed){c.color.index=parseInt(x.indexed,10);var w=cc[c.color.index];c.color.index==81&&(w=cc[1]),w||(w=cc[1]),c.color.rgb=w[0].toString(16)+w[1].toString(16)+w[2].toString(16)}else x.theme&&(c.color.theme=parseInt(x.theme,10),x.tint&&(c.color.tint=parseFloat(x.tint)),x.theme&&r.themeElements&&r.themeElements.clrScheme&&(c.color.rgb=rm(r.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":f=!0;break;case"</AlternateContent>":f=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":f=!0;break;case"</ext>":f=!1;break;default:if(l&&l.WTF&&!f)throw new Error("unrecognized "+x[0]+" in fonts")}})}function G6(t,s,r){s.NumberFmt=[];for(var l=fs(Mi),c=0;c<l.length;++c)s.NumberFmt[l[c]]=Mi[l[c]];var f=t[0].match(wr);if(f)for(c=0;c<f.length;++c){var p=Ii(f[c]);switch($o(p[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var x=an(_n(p.formatCode)),w=parseInt(p.numFmtId,10);if(s.NumberFmt[w]=x,w>0){if(w>392){for(w=392;w>60&&s.NumberFmt[w]!=null;--w);s.NumberFmt[w]=x}fl(x,w)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+p[0]+" in numFmts")}}}function j6(t){var s=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var l=r[0];l<=r[1];++l)t[l]!=null&&(s[s.length]=ni("numFmt",null,{numFmtId:l,formatCode:An(t[l])}))}),s.length===1?"":(s[s.length]="</numFmts>",s[0]=ni("numFmts",null,{count:s.length-2}).replace("/>",">"),s.join(""))}var ng=["numFmtId","fillId","fontId","borderId","xfId"],sg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function $6(t,s,r){s.CellXf=[];var l,c=!1;(t[0].match(wr)||[]).forEach(function(f){var p=Ii(f),x=0;switch($o(p[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(l=p,delete l[0],x=0;x<ng.length;++x)l[ng[x]]&&(l[ng[x]]=parseInt(l[ng[x]],10));for(x=0;x<sg.length;++x)l[sg[x]]&&(l[sg[x]]=Vn(l[sg[x]]));if(s.NumberFmt&&l.numFmtId>392){for(x=392;x>60;--x)if(s.NumberFmt[l.numFmtId]==s.NumberFmt[x]){l.numFmtId=x;break}}s.CellXf.push(l);break;case"</xf>":break;case"<alignment":case"<alignment/>":var w={};p.vertical&&(w.vertical=p.vertical),p.horizontal&&(w.horizontal=p.horizontal),p.textRotation!=null&&(w.textRotation=p.textRotation),p.indent&&(w.indent=p.indent),p.wrapText&&(w.wrapText=Vn(p.wrapText)),l.alignment=w;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":c=!0;break;case"</AlternateContent>":c=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":c=!0;break;case"</ext>":c=!1;break;default:if(r&&r.WTF&&!c)throw new Error("unrecognized "+p[0]+" in cellXfs")}})}function K6(t){var s=[];return s[s.length]=ni("cellXfs",null),t.forEach(function(r){s[s.length]=ni("xf",null,r)}),s[s.length]="</cellXfs>",s.length===2?"":(s[0]=ni("cellXfs",null,{count:s.length-2}).replace("/>",">"),s.join(""))}var q6=function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,l=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,c=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,f=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(x,w,P){var C={};if(!x)return C;x=x.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var F;return(F=x.match(s))&&G6(F,C,P),(F=x.match(c))&&W6(F,C,w,P),(F=x.match(l))&&U6(F,C,w,P),(F=x.match(f))&&Y6(F,C,w,P),(F=x.match(r))&&$6(F,C,P),C}}();function lM(t,s){var r=[Cs,ni("styleSheet",null,{xmlns:Xc[0],"xmlns:vt":Ls.vt})],l;return t.SSF&&(l=j6(t.SSF))!=null&&(r[r.length]=l),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(l=K6(s.cellXfs))&&(r[r.length]=l),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Z6(t,s){var r=t.read_shift(2),l=mr(t);return[r,l]}function J6(t,s,r){r||(r=Pt(6+4*s.length)),r.write_shift(2,t),Hs(s,r);var l=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),l}function Q6(t,s,r){var l={};l.sz=t.read_shift(2)/20;var c=L5(t);c.fItalic&&(l.italic=1),c.fCondense&&(l.condense=1),c.fExtend&&(l.extend=1),c.fShadow&&(l.shadow=1),c.fOutline&&(l.outline=1),c.fStrikeout&&(l.strike=1);var f=t.read_shift(2);switch(f===700&&(l.bold=1),t.read_shift(2)){case 1:l.vertAlign="superscript";break;case 2:l.vertAlign="subscript";break}var p=t.read_shift(1);p!=0&&(l.underline=p);var x=t.read_shift(1);x>0&&(l.family=x);var w=t.read_shift(1);switch(w>0&&(l.charset=w),t.l++,l.color=N5(t),t.read_shift(1)){case 1:l.scheme="major";break;case 2:l.scheme="minor";break}return l.name=mr(t),l}function ez(t,s){s||(s=Pt(25+4*32)),s.write_shift(2,t.sz*20),I5(t,s),s.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),s.write_shift(2,r),s.write_shift(1,t.underline||0),s.write_shift(1,t.family||0),s.write_shift(1,t.charset||0),s.write_shift(1,0),im(t.color,s);var l=0;return t.scheme=="major"&&(l=1),t.scheme=="minor"&&(l=2),s.write_shift(1,l),Hs(t.name,s),s.length>s.l?s.slice(0,s.l):s}var tz=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],xv,iz=pr;function N2(t,s){s||(s=Pt(4*3+8*7+16*1)),xv||(xv=$m(tz));var r=xv[t.patternType];r==null&&(r=40),s.write_shift(4,r);var l=0;if(r!=40)for(im({auto:1},s),im({auto:1},s);l<12;++l)s.write_shift(4,0);else{for(;l<4;++l)s.write_shift(4,0);for(;l<12;++l)s.write_shift(4,0)}return s.length>s.l?s.slice(0,s.l):s}function nz(t,s){var r=t.l+s,l=t.read_shift(2),c=t.read_shift(2);return t.l=r,{ixfe:l,numFmtId:c}}function hM(t,s,r){r||(r=Pt(16)),r.write_shift(2,s||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var l=0;return r.write_shift(1,l),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Bd(t,s){return s||(s=Pt(10)),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(4,0),s}var sz=pr;function rz(t,s){return s||(s=Pt(51)),s.write_shift(1,0),Bd(null,s),Bd(null,s),Bd(null,s),Bd(null,s),Bd(null,s),s.length>s.l?s.slice(0,s.l):s}function az(t,s){return s||(s=Pt(12+4*10)),s.write_shift(4,t.xfId),s.write_shift(2,1),s.write_shift(1,+t.builtinId),s.write_shift(1,0),tm(t.name||"",s),s.length>s.l?s.slice(0,s.l):s}function oz(t,s,r){var l=Pt(2052);return l.write_shift(4,t),tm(s,l),tm(r,l),l.length>l.l?l.slice(0,l.l):l}function lz(t,s,r){var l={};l.NumberFmt=[];for(var c in Mi)l.NumberFmt[c]=Mi[c];l.CellXf=[],l.Fonts=[];var f=[],p=!1;return _l(t,function(w,P,C){switch(C){case 44:l.NumberFmt[w[0]]=w[1],fl(w[1],w[0]);break;case 43:l.Fonts.push(w),w.color.theme!=null&&s&&s.themeElements&&s.themeElements.clrScheme&&(w.color.rgb=rm(s.themeElements.clrScheme[w.color.theme].rgb,w.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:f[f.length-1]==617&&l.CellXf.push(w);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:p=!0;break;case 36:p=!1;break;case 37:f.push(C),p=!0;break;case 38:f.pop(),p=!1;break;default:if(P.T>0)f.push(C);else if(P.T<0)f.pop();else if(!p||r.WTF&&f[f.length-1]!=37)throw new Error("Unexpected record 0x"+C.toString(16))}}),l}function hz(t,s){if(s){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(l){for(var c=l[0];c<=l[1];++c)s[c]!=null&&++r}),r!=0&&(Xt(t,615,xo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(l){for(var c=l[0];c<=l[1];++c)s[c]!=null&&Xt(t,44,J6(c,s[c]))}),Xt(t,616))}}function cz(t){var s=1;Xt(t,611,xo(s)),Xt(t,43,ez({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Xt(t,612)}function uz(t){var s=2;Xt(t,603,xo(s)),Xt(t,45,N2({patternType:"none"})),Xt(t,45,N2({patternType:"gray125"})),Xt(t,604)}function dz(t){var s=1;Xt(t,613,xo(s)),Xt(t,46,rz()),Xt(t,614)}function fz(t){var s=1;Xt(t,626,xo(s)),Xt(t,47,hM({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Xt(t,627)}function gz(t,s){Xt(t,617,xo(s.length)),s.forEach(function(r){Xt(t,47,hM(r,0))}),Xt(t,618)}function mz(t){var s=1;Xt(t,619,xo(s)),Xt(t,48,az({xfId:0,builtinId:0,name:"Normal"})),Xt(t,620)}function pz(t){var s=0;Xt(t,505,xo(s)),Xt(t,506)}function vz(t){var s=0;Xt(t,508,oz(s,"TableStyleMedium9","PivotStyleMedium4")),Xt(t,509)}function xz(t,s){var r=jr();return Xt(r,278),hz(r,t.SSF),cz(r),uz(r),dz(r),fz(r),gz(r,s.cellXfs),mz(r),pz(r),vz(r),Xt(r,279),r.end()}var yz=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bz(t,s,r){s.themeElements.clrScheme=[];var l={};(t[0].match(wr)||[]).forEach(function(c){var f=Ii(c);switch(f[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":l.rgb=f.val;break;case"<a:sysClr":l.rgb=f.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":f[0].charAt(1)==="/"?(s.themeElements.clrScheme[yz.indexOf(f[0])]=l,l={}):l.name=f[0].slice(3,f[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+f[0]+" in clrScheme")}})}function wz(){}function kz(){}var Sz=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Cz=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Az=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Tz(t,s,r){s.themeElements={};var l;[["clrScheme",Sz,bz],["fontScheme",Cz,wz],["fmtScheme",Az,kz]].forEach(function(c){if(!(l=t.match(c[1])))throw new Error(c[0]+" not found in themeElements");c[2](l,s,r)})}var Pz=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function cM(t,s){(!t||t.length===0)&&(t=ib());var r,l={};if(!(r=t.match(Pz)))throw new Error("themeElements not found in theme");return Tz(r[0],l,s),l.raw=t,l}function ib(t,s){if(s&&s.themeXLSX)return s.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Cs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Dz(t,s,r){var l=t.l+s,c=t.read_shift(4);if(c!==124226){if(!r.cellStyles){t.l=l;return}var f=t.slice(t.l);t.l=l;var p;try{p=iD(f,{type:"array"})}catch{return}var x=fa(p,"theme/theme/theme1.xml",!0);if(x)return cM(x,r)}}function Mz(t){return t.read_shift(4)}function Ez(t){var s={};switch(s.xclrType=t.read_shift(2),s.nTintShade=t.read_shift(2),s.xclrType){case 0:t.l+=4;break;case 1:s.xclrValue=_z(t,4);break;case 2:s.xclrValue=YD(t);break;case 3:s.xclrValue=Mz(t);break;case 4:t.l+=4;break}return t.l+=8,s}function _z(t,s){return pr(t,s)}function Fz(t,s){return pr(t,s)}function Nz(t){var s=t.read_shift(2),r=t.read_shift(2)-4,l=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:l[1]=Ez(t);break;case 6:l[1]=Fz(t,r);break;case 14:case 15:l[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+r)}return l}function Lz(t,s){var r=t.l+s;t.l+=2;var l=t.read_shift(2);t.l+=2;for(var c=t.read_shift(2),f=[];c-- >0;)f.push(Nz(t,r-t.l));return{ixfe:l,ext:f}}function Iz(t,s){s.forEach(function(r){switch(r[0]){}})}function Oz(t,s){return{flags:t.read_shift(4),version:t.read_shift(4),name:mr(t)}}function Rz(t){var s=Pt(12+2*t.name.length);return s.write_shift(4,t.flags),s.write_shift(4,t.version),Hs(t.name,s),s.slice(0,s.l)}function Bz(t){for(var s=[],r=t.read_shift(4);r-- >0;)s.push([t.read_shift(4),t.read_shift(4)]);return s}function Vz(t){var s=Pt(4+8*t.length);s.write_shift(4,t.length);for(var r=0;r<t.length;++r)s.write_shift(4,t[r][0]),s.write_shift(4,t[r][1]);return s}function zz(t,s){var r=Pt(8+2*s.length);return r.write_shift(4,t),Hs(s,r),r.slice(0,r.l)}function Xz(t){return t.l+=4,t.read_shift(4)!=0}function Hz(t,s){var r=Pt(8);return r.write_shift(4,t),r.write_shift(4,s?1:0),r}function Yz(t,s,r){var l={Types:[],Cell:[],Value:[]},c=r||{},f=[],p=!1,x=2;return _l(t,function(w,P,C){switch(C){case 335:l.Types.push({name:w.name});break;case 51:w.forEach(function(F){x==1?l.Cell.push({type:l.Types[F[0]-1].name,index:F[1]}):x==0&&l.Value.push({type:l.Types[F[0]-1].name,index:F[1]})});break;case 337:x=w?1:0;break;case 338:x=2;break;case 35:f.push(C),p=!0;break;case 36:f.pop(),p=!1;break;default:if(!P.T){if(!p||c.WTF&&f[f.length-1]!=35)throw new Error("Unexpected record 0x"+C.toString(16))}}}),l}function Uz(){var t=jr();return Xt(t,332),Xt(t,334,xo(1)),Xt(t,335,Rz({name:"XLDAPR",version:12e4,flags:3496657072})),Xt(t,336),Xt(t,339,zz(1,"XLDAPR")),Xt(t,52),Xt(t,35,xo(514)),Xt(t,4096,xo(0)),Xt(t,4097,Ba(1)),Xt(t,36),Xt(t,53),Xt(t,340),Xt(t,337,Hz(1,!0)),Xt(t,51,Vz([[1,0]])),Xt(t,338),Xt(t,333),t.end()}function Wz(t,s,r){var l={Types:[],Cell:[],Value:[]};if(!t)return l;var c=!1,f=2,p;return t.replace(wr,function(x){var w=Ii(x);switch($o(w[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":l.Types.push({name:w.name});break;case"</metadataType>":break;case"<futureMetadata":for(var P=0;P<l.Types.length;++P)l.Types[P].name==w.name&&(p=l.Types[P]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":f==1?l.Cell.push({type:l.Types[w.t-1].name,index:+w.v}):f==0&&l.Value.push({type:l.Types[w.t-1].name,index:+w.v});break;case"</rc>":break;case"<cellMetadata":f=1;break;case"</cellMetadata>":f=2;break;case"<valueMetadata":f=0;break;case"</valueMetadata>":f=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":c=!0;break;case"</ext>":c=!1;break;case"<rvb":if(!p)break;p.offsets||(p.offsets=[]),p.offsets.push(+w.i);break;default:if(!c&&r.WTF)throw new Error("unrecognized "+w[0]+" in metadata")}return x}),l}function uM(){var t=[Cs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Gz(t){var s=[];if(!t)return s;var r=1;return(t.match(wr)||[]).forEach(function(l){var c=Ii(l);switch(c[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete c[0],c.i?r=c.i:c.i=r,s.push(c);break}}),s}function jz(t){var s={};s.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),s.r=Fi(r);var l=t.read_shift(1);return l&2&&(s.l="1"),l&8&&(s.a="1"),s}function $z(t,s,r){var l=[];return _l(t,function(f,p,x){switch(x){case 63:l.push(f);break;default:if(!p.T)throw new Error("Unexpected record 0x"+x.toString(16))}}),l}function Kz(t,s,r,l){if(!t)return t;var c=l||{},f=!1;_l(t,function(x,w,P){switch(P){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:f=!0;break;case 36:f=!1;break;default:if(!w.T){if(!f||c.WTF)throw new Error("Unexpected record 0x"+P.toString(16))}}},c)}function qz(t,s){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][r].Target}var ku=1024;function dM(t,s){for(var r=[21600,21600],l=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),c=[ni("xml",null,{"xmlns:v":oa.v,"xmlns:o":oa.o,"xmlns:x":oa.x,"xmlns:mv":oa.mv}).replace(/\/>/,">"),ni("o:shapelayout",ni("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ni("v:shapetype",[ni("v:stroke",null,{joinstyle:"miter"}),ni("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:l})];ku<t*1e3;)ku+=1e3;return s.forEach(function(f){var p=is(f[0]),x={color2:"#BEFF82",type:"gradient"};x.type=="gradient"&&(x.angle="-180");var w=x.type=="gradient"?ni("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,P=ni("v:fill",w,x),C={on:"t",obscured:"t"};++ku,c=c.concat(["<v:shape"+Uf({id:"_x0000_s"+ku,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(f[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",P,ni("v:shadow",null,C),ni("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zs("x:Anchor",[p.c+1,0,p.r+1,0,p.c+3,20,p.r+5,20].join(",")),Zs("x:AutoFill","False"),Zs("x:Row",String(p.r)),Zs("x:Column",String(p.c)),f[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),c.push("</xml>"),c.join("")}function L2(t,s,r,l){var c=Array.isArray(t),f;s.forEach(function(p){var x=is(p.ref);if(c?(t[x.r]||(t[x.r]=[]),f=t[x.r][x.c]):f=t[p.ref],!f){f={t:"z"},c?t[x.r][x.c]=f:t[p.ref]=f;var w=hn(t["!ref"]||"BDWGO1000001:A1");w.s.r>x.r&&(w.s.r=x.r),w.e.r<x.r&&(w.e.r=x.r),w.s.c>x.c&&(w.s.c=x.c),w.e.c<x.c&&(w.e.c=x.c);var P=Ui(w);P!==t["!ref"]&&(t["!ref"]=P)}f.c||(f.c=[]);var C={a:p.author,t:p.t,r:p.r,T:r};p.h&&(C.h=p.h);for(var F=f.c.length-1;F>=0;--F){if(!r&&f.c[F].T)return;r&&!f.c[F].T&&f.c.splice(F,1)}if(r&&l){for(F=0;F<l.length;++F)if(C.a==l[F].id){C.a=l[F].name||C.a;break}}f.c.push(C)})}function Zz(t,s){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],l=[],c=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);c&&c[1]&&c[1].split(/<\/\w*:?author>/).forEach(function(p){if(!(p===""||p.trim()==="")){var x=p.match(/<(?:\w+:)?author[^>]*>(.*)/);x&&r.push(x[1])}});var f=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return f&&f[1]&&f[1].split(/<\/\w*:?comment>/).forEach(function(p){if(!(p===""||p.trim()==="")){var x=p.match(/<(?:\w+:)?comment[^>]*>/);if(x){var w=Ii(x[0]),P={author:w.authorId&&r[w.authorId]||"sheetjsghost",ref:w.ref,guid:w.guid},C=is(w.ref);if(!(s.sheetRows&&s.sheetRows<=C.r)){var F=p.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),L=!!F&&!!F[1]&&Qy(F[1])||{r:"",t:"",h:""};P.r=L.r,L.r=="<t></t>"&&(L.t=L.h=""),P.t=(L.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),s.cellHTML&&(P.h=L.h),l.push(P)}}}}),l}function fM(t){var s=[Cs,ni("comments",null,{xmlns:Xc[0]})],r=[];return s.push("<authors>"),t.forEach(function(l){l[1].forEach(function(c){var f=An(c.a);r.indexOf(f)==-1&&(r.push(f),s.push("<author>"+f+"</author>")),c.T&&c.ID&&r.indexOf("tc="+c.ID)==-1&&(r.push("tc="+c.ID),s.push("<author>tc="+c.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),s.push("<author>SheetJ5</author>")),s.push("</authors>"),s.push("<commentList>"),t.forEach(function(l){var c=0,f=[];if(l[1][0]&&l[1][0].T&&l[1][0].ID?c=r.indexOf("tc="+l[1][0].ID):l[1].forEach(function(w){w.a&&(c=r.indexOf(An(w.a))),f.push(w.t||"")}),s.push('<comment ref="'+l[0]+'" authorId="'+c+'"><text>'),f.length<=1)s.push(Zs("t",An(f[0]||"")));else{for(var p=`Comment:
    `+f[0]+`
`,x=1;x<f.length;++x)p+=`Reply:
    `+f[x]+`
`;s.push(Zs("t",An(p)))}s.push("</text></comment>")}),s.push("</commentList>"),s.length>2&&(s[s.length]="</comments>",s[1]=s[1].replace("/>",">")),s.join("")}function Jz(t,s){var r=[],l=!1,c={},f=0;return t.replace(wr,function(x,w){var P=Ii(x);switch($o(P[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":c={author:P.personId,guid:P.id,ref:P.ref,T:1};break;case"</threadedComment>":c.t!=null&&r.push(c);break;case"<text>":case"<text":f=w+x.length;break;case"</text>":c.t=t.slice(f,w).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":l=!0;break;case"</mentions>":l=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(!l&&s.WTF)throw new Error("unrecognized "+P[0]+" in threaded comments")}return x}),r}function Qz(t,s,r){var l=[Cs,ni("ThreadedComments",null,{xmlns:Ls.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(c){var f="";(c[1]||[]).forEach(function(p,x){if(!p.T){delete p.ID;return}p.a&&s.indexOf(p.a)==-1&&s.push(p.a);var w={ref:c[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};x==0?f=w.id:w.parentId=f,p.ID=w.id,p.a&&(w.personId="{54EE7950-7262-4200-6969-"+("000000000000"+s.indexOf(p.a)).slice(-12)+"}"),l.push(ni("threadedComment",Zs("text",p.t||""),w))})}),l.push("</ThreadedComments>"),l.join("")}function eX(t,s){var r=[],l=!1;return t.replace(wr,function(f){var p=Ii(f);switch($o(p[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:p.displayname,id:p.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(!l&&s.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return f}),r}function tX(t){var s=[Cs,ni("personList",null,{xmlns:Ls.TCMNT,"xmlns:x":Xc[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,l){s.push(ni("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+l).slice(-12)+"}",userId:r,providerId:"None"}))}),s.push("</personList>"),s.join("")}function iX(t){var s={};s.iauthor=t.read_shift(4);var r=Wc(t);return s.rfx=r.s,s.ref=Fi(r.s),t.l+=16,s}function nX(t,s){return s==null&&(s=Pt(36)),s.write_shift(4,t[1].iauthor),Cd(t[0],s),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s}var sX=mr;function rX(t){return Hs(t.slice(0,54))}function aX(t,s){var r=[],l=[],c={},f=!1;return _l(t,function(x,w,P){switch(P){case 632:l.push(x);break;case 635:c=x;break;case 637:c.t=x.t,c.h=x.h,c.r=x.r;break;case 636:if(c.author=l[c.iauthor],delete c.iauthor,s.sheetRows&&c.rfx&&s.sheetRows<=c.rfx.r)break;c.t||(c.t=""),delete c.rfx,r.push(c);break;case 3072:break;case 35:f=!0;break;case 36:f=!1;break;case 37:break;case 38:break;default:if(!w.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+P.toString(16))}}}),r}function oX(t){var s=jr(),r=[];return Xt(s,628),Xt(s,630),t.forEach(function(l){l[1].forEach(function(c){r.indexOf(c.a)>-1||(r.push(c.a.slice(0,54)),Xt(s,632,rX(c.a)))})}),Xt(s,631),Xt(s,633),t.forEach(function(l){l[1].forEach(function(c){c.iauthor=r.indexOf(c.a);var f={s:is(l[0]),e:is(l[0])};Xt(s,635,nX([f,c])),c.t&&c.t.length>0&&Xt(s,637,M5(c)),Xt(s,636),delete c.iauthor})}),Xt(s,634),Xt(s,629),s.end()}var lX="application/vnd.ms-office.vbaProject";function hX(t){var s=Ti.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,l){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var c=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ti.utils.cfb_add(s,c,t.FileIndex[l].content)}}),Ti.write(s)}function cX(t,s){s.FullPaths.forEach(function(r,l){if(l!=0){var c=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");c.slice(-1)!=="/"&&Ti.utils.cfb_add(t,c,s.FileIndex[l].content)}})}var gM=["xlsb","xlsm","xlam","biff8","xla"];function uX(){return{"!type":"dialog"}}function dX(){return{"!type":"dialog"}}function fX(){return{"!type":"macro"}}function gX(){return{"!type":"macro"}}var Iu=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function r(l,c,f,p){var x=!1,w=!1;f.length==0?w=!0:f.charAt(0)=="["&&(w=!0,f=f.slice(1,-1)),p.length==0?x=!0:p.charAt(0)=="["&&(x=!0,p=p.slice(1,-1));var P=f.length>0?parseInt(f,10)|0:0,C=p.length>0?parseInt(p,10)|0:0;return x?C+=s.c:--C,w?P+=s.r:--P,c+(x?"":"$")+ts(C)+(w?"":"$")+bs(P)}return function(c,f){return s=f,c.replace(t,r)}}(),nb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,sb=function(){return function(s,r){return s.replace(nb,function(l,c,f,p,x,w){var P=Uy(p)-(f?0:r.c),C=Yy(w)-(x?0:r.r),F=C==0?"":x?C+1:"["+C+"]",L=P==0?"":f?P+1:"["+P+"]";return c+"R"+F+"C"+L})}}();function mM(t,s){return t.replace(nb,function(r,l,c,f,p,x){return l+(c=="$"?c+f:ts(Uy(f)+s.c))+(p=="$"?p+x:bs(Yy(x)+s.r))})}function mX(t,s,r){var l=Zr(s),c=l.s,f=is(r),p={r:f.r-c.r,c:f.c-c.c};return mM(t,p)}function pX(t){return t.length!=1}function I2(t){return t.replace(/_xlfn\./g,"")}function Ts(t){t.l+=1}function kh(t,s){var r=t.read_shift(s==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function pM(t,s,r){var l=2;if(r){if(r.biff>=2&&r.biff<=5)return vM(t);r.biff==12&&(l=4)}var c=t.read_shift(l),f=t.read_shift(l),p=kh(t,2),x=kh(t,2);return{s:{r:c,c:p[0],cRel:p[1],rRel:p[2]},e:{r:f,c:x[0],cRel:x[1],rRel:x[2]}}}function vM(t){var s=kh(t,2),r=kh(t,2),l=t.read_shift(1),c=t.read_shift(1);return{s:{r:s[0],c:l,cRel:s[1],rRel:s[2]},e:{r:r[0],c,cRel:r[1],rRel:r[2]}}}function vX(t,s,r){if(r.biff<8)return vM(t);var l=t.read_shift(r.biff==12?4:2),c=t.read_shift(r.biff==12?4:2),f=kh(t,2),p=kh(t,2);return{s:{r:l,c:f[0],cRel:f[1],rRel:f[2]},e:{r:c,c:p[0],cRel:p[1],rRel:p[2]}}}function xM(t,s,r){if(r&&r.biff>=2&&r.biff<=5)return xX(t);var l=t.read_shift(r&&r.biff==12?4:2),c=kh(t,2);return{r:l,c:c[0],cRel:c[1],rRel:c[2]}}function xX(t){var s=kh(t,2),r=t.read_shift(1);return{r:s[0],c:r,cRel:s[1],rRel:s[2]}}function yX(t){var s=t.read_shift(2),r=t.read_shift(2);return{r:s,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bX(t,s,r){var l=r&&r.biff?r.biff:8;if(l>=2&&l<=5)return wX(t);var c=t.read_shift(l>=12?4:2),f=t.read_shift(2),p=(f&16384)>>14,x=(f&32768)>>15;if(f&=16383,x==1)for(;c>524287;)c-=1048576;if(p==1)for(;f>8191;)f=f-16384;return{r:c,c:f,cRel:p,rRel:x}}function wX(t){var s=t.read_shift(2),r=t.read_shift(1),l=(s&32768)>>15,c=(s&16384)>>14;return s&=16383,l==1&&s>=8192&&(s=s-16384),c==1&&r>=128&&(r=r-256),{r:s,c:r,cRel:c,rRel:l}}function kX(t,s,r){var l=(t[t.l++]&96)>>5,c=pM(t,r.biff>=2&&r.biff<=5?6:8,r);return[l,c]}function SX(t,s,r){var l=(t[t.l++]&96)>>5,c=t.read_shift(2,"i"),f=8;if(r)switch(r.biff){case 5:t.l+=12,f=6;break;case 12:f=12;break}var p=pM(t,f,r);return[l,c,p]}function CX(t,s,r){var l=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[l]}function AX(t,s,r){var l=(t[t.l++]&96)>>5,c=t.read_shift(2),f=8;if(r)switch(r.biff){case 5:t.l+=12,f=6;break;case 12:f=12;break}return t.l+=f,[l,c]}function TX(t,s,r){var l=(t[t.l++]&96)>>5,c=vX(t,s-1,r);return[l,c]}function PX(t,s,r){var l=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[l]}function O2(t){var s=t[t.l+1]&1,r=1;return t.l+=4,[s,r]}function DX(t,s,r){t.l+=2;for(var l=t.read_shift(r&&r.biff==2?1:2),c=[],f=0;f<=l;++f)c.push(t.read_shift(r&&r.biff==2?1:2));return c}function MX(t,s,r){var l=t[t.l+1]&255?1:0;return t.l+=2,[l,t.read_shift(r&&r.biff==2?1:2)]}function EX(t,s,r){var l=t[t.l+1]&255?1:0;return t.l+=2,[l,t.read_shift(r&&r.biff==2?1:2)]}function _X(t){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(2)]}function FX(t,s,r){var l=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[l]}function yM(t){var s=t.read_shift(1),r=t.read_shift(1);return[s,r]}function NX(t){return t.read_shift(2),yM(t)}function LX(t){return t.read_shift(2),yM(t)}function IX(t,s,r){var l=(t[t.l]&96)>>5;t.l+=1;var c=xM(t,0,r);return[l,c]}function OX(t,s,r){var l=(t[t.l]&96)>>5;t.l+=1;var c=bX(t,0,r);return[l,c]}function RX(t,s,r){var l=(t[t.l]&96)>>5;t.l+=1;var c=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var f=xM(t,0,r);return[l,c,f]}function BX(t,s,r){var l=(t[t.l]&96)>>5;t.l+=1;var c=t.read_shift(r&&r.biff<=3?1:2);return[X9[c],kM[c],l]}function VX(t,s,r){var l=t[t.l++],c=t.read_shift(1),f=r&&r.biff<=3?[l==88?-1:0,t.read_shift(1)]:zX(t);return[c,(f[0]===0?kM:z9)[f[1]]]}function zX(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function XX(t,s,r){t.l+=r&&r.biff==2?3:4}function HX(t,s,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var l=t.read_shift(2),c=t.read_shift(r&&r.biff==2?1:2);return[l,c]}function YX(t){return t.l++,Fl[t.read_shift(1)]}function UX(t){return t.l++,t.read_shift(2)}function WX(t){return t.l++,t.read_shift(1)!==0}function GX(t){return t.l++,cr(t)}function jX(t,s,r){return t.l++,m0(t,s-1,r)}function $X(t,s){var r=[t.read_shift(1)];if(s==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=vs(t,1)?"TRUE":"FALSE",s!=12&&(t.l+=7);break;case 37:case 16:r[1]=Fl[t[t.l]],t.l+=s==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=cr(t);break;case 2:r[1]=Gc(t,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function KX(t,s,r){for(var l=t.read_shift(r.biff==12?4:2),c=[],f=0;f!=l;++f)c.push((r.biff==12?Wc:Zm)(t));return c}function qX(t,s,r){var l=0,c=0;r.biff==12?(l=t.read_shift(4),c=t.read_shift(4)):(c=1+t.read_shift(1),l=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--l,--c==0&&(c=256));for(var f=0,p=[];f!=l&&(p[f]=[]);++f)for(var x=0;x!=c;++x)p[f][x]=$X(t,r.biff);return p}function ZX(t,s,r){var l=t.read_shift(1)>>>5&3,c=!r||r.biff>=8?4:2,f=t.read_shift(c);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[l,0,f]}function JX(t,s,r){if(r.biff==5)return QX(t);var l=t.read_shift(1)>>>5&3,c=t.read_shift(2),f=t.read_shift(4);return[l,c,f]}function QX(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var l=t.read_shift(2);return t.l+=12,[s,r,l]}function e9(t,s,r){var l=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var c=t.read_shift(r&&r.biff==2?1:2);return[l,c]}function t9(t,s,r){var l=t.read_shift(1)>>>5&3,c=t.read_shift(r&&r.biff==2?1:2);return[l,c]}function i9(t,s,r){var l=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[l]}function n9(t,s,r){var l=(t[t.l++]&96)>>5,c=t.read_shift(2),f=4;if(r)switch(r.biff){case 5:f=15;break;case 12:f=6;break}return t.l+=f,[l,c]}var s9=pr,r9=pr,a9=pr;function v0(t,s,r){return t.l+=2,[yX(t)]}function rb(t){return t.l+=6,[]}var o9=v0,l9=rb,h9=rb,c9=v0;function bM(t){return t.l+=2,[Ds(t),t.read_shift(2)&1]}var u9=v0,d9=bM,f9=rb,g9=v0,m9=v0,p9=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function v9(t){t.l+=2;var s=t.read_shift(2),r=t.read_shift(2),l=t.read_shift(4),c=t.read_shift(2),f=t.read_shift(2),p=p9[r>>2&31];return{ixti:s,coltype:r&3,rt:p,idx:l,c,C:f}}function x9(t){return t.l+=2,[t.read_shift(4)]}function y9(t,s,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function b9(t,s,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function w9(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function k9(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function S9(t){return t.l+=4,[0,0]}var R2={1:{n:"PtgExp",f:HX},2:{n:"PtgTbl",f:a9},3:{n:"PtgAdd",f:Ts},4:{n:"PtgSub",f:Ts},5:{n:"PtgMul",f:Ts},6:{n:"PtgDiv",f:Ts},7:{n:"PtgPower",f:Ts},8:{n:"PtgConcat",f:Ts},9:{n:"PtgLt",f:Ts},10:{n:"PtgLe",f:Ts},11:{n:"PtgEq",f:Ts},12:{n:"PtgGe",f:Ts},13:{n:"PtgGt",f:Ts},14:{n:"PtgNe",f:Ts},15:{n:"PtgIsect",f:Ts},16:{n:"PtgUnion",f:Ts},17:{n:"PtgRange",f:Ts},18:{n:"PtgUplus",f:Ts},19:{n:"PtgUminus",f:Ts},20:{n:"PtgPercent",f:Ts},21:{n:"PtgParen",f:Ts},22:{n:"PtgMissArg",f:Ts},23:{n:"PtgStr",f:jX},26:{n:"PtgSheet",f:y9},27:{n:"PtgEndSheet",f:b9},28:{n:"PtgErr",f:YX},29:{n:"PtgBool",f:WX},30:{n:"PtgInt",f:UX},31:{n:"PtgNum",f:GX},32:{n:"PtgArray",f:PX},33:{n:"PtgFunc",f:BX},34:{n:"PtgFuncVar",f:VX},35:{n:"PtgName",f:ZX},36:{n:"PtgRef",f:IX},37:{n:"PtgArea",f:kX},38:{n:"PtgMemArea",f:e9},39:{n:"PtgMemErr",f:s9},40:{n:"PtgMemNoMem",f:r9},41:{n:"PtgMemFunc",f:t9},42:{n:"PtgRefErr",f:i9},43:{n:"PtgAreaErr",f:CX},44:{n:"PtgRefN",f:OX},45:{n:"PtgAreaN",f:TX},46:{n:"PtgMemAreaN",f:w9},47:{n:"PtgMemNoMemN",f:k9},57:{n:"PtgNameX",f:JX},58:{n:"PtgRef3d",f:RX},59:{n:"PtgArea3d",f:SX},60:{n:"PtgRefErr3d",f:n9},61:{n:"PtgAreaErr3d",f:AX},255:{}},C9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},A9={1:{n:"PtgElfLel",f:bM},2:{n:"PtgElfRw",f:g9},3:{n:"PtgElfCol",f:o9},6:{n:"PtgElfRwV",f:m9},7:{n:"PtgElfColV",f:c9},10:{n:"PtgElfRadical",f:u9},11:{n:"PtgElfRadicalS",f:f9},13:{n:"PtgElfColS",f:l9},15:{n:"PtgElfColSV",f:h9},16:{n:"PtgElfRadicalLel",f:d9},25:{n:"PtgList",f:v9},29:{n:"PtgSxName",f:x9},255:{}},T9={0:{n:"PtgAttrNoop",f:S9},1:{n:"PtgAttrSemi",f:FX},2:{n:"PtgAttrIf",f:EX},4:{n:"PtgAttrChoose",f:DX},8:{n:"PtgAttrGoto",f:MX},16:{n:"PtgAttrSum",f:XX},32:{n:"PtgAttrBaxcel",f:O2},33:{n:"PtgAttrBaxcel",f:O2},64:{n:"PtgAttrSpace",f:NX},65:{n:"PtgAttrSpaceSemi",f:LX},128:{n:"PtgAttrIfError",f:_X},255:{}};function x0(t,s,r,l){if(l.biff<8)return pr(t,s);for(var c=t.l+s,f=[],p=0;p!==r.length;++p)switch(r[p][0]){case"PtgArray":r[p][1]=qX(t,0,l),f.push(r[p][1]);break;case"PtgMemArea":r[p][2]=KX(t,r[p][1],l),f.push(r[p][2]);break;case"PtgExp":l&&l.biff==12&&(r[p][1][1]=t.read_shift(4),f.push(r[p][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[p][0]}return s=c-t.l,s!==0&&f.push(pr(t,s)),f}function y0(t,s,r){for(var l=t.l+s,c,f,p=[];l!=t.l;)s=l-t.l,f=t[t.l],c=R2[f]||R2[C9[f]],(f===24||f===25)&&(c=(f===24?A9:T9)[t[t.l+1]]),!c||!c.f?pr(t,s):p.push([c.n,c.f(t,s,r)]);return p}function P9(t){for(var s=[],r=0;r<t.length;++r){for(var l=t[r],c=[],f=0;f<l.length;++f){var p=l[f];if(p)switch(p[0]){case 2:c.push('"'+p[1].replace(/"/g,'""')+'"');break;default:c.push(p[1])}else c.push("")}s.push(c.join(","))}return s.join(";")}var D9={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function M9(t,s){if(!t&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function wM(t,s,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[s]))return t.SheetNames[s];if(!t.XTI)return"SH33TJSERR6";var l=t.XTI[s];if(r.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":t.XTI[s-1];if(!l)return"SH33TJSERR1";var c="";if(r.biff>8)switch(t[l[0]][0]){case 357:return c=l[1]==-1?"#REF":t.SheetNames[l[1]],l[1]==l[2]?c:c+":"+t.SheetNames[l[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[l[0]][0];case 355:default:return"SH33TJSSRC"+t[l[0]][0]}switch(t[l[0]][0][0]){case 1025:return c=l[1]==-1?"#REF":t.SheetNames[l[1]]||"SH33TJSERR3",l[1]==l[2]?c:c+":"+t.SheetNames[l[2]];case 14849:return t[l[0]].slice(1).map(function(f){return f.Name}).join(";;");default:return t[l[0]][0][3]?(c=l[1]==-1?"#REF":t[l[0]][0][3][l[1]]||"SH33TJSERR4",l[1]==l[2]?c:c+":"+t[l[0]][0][3][l[2]]):"SH33TJSERR2"}}function B2(t,s,r){var l=wM(t,s,r);return l=="#REF"?l:M9(l,r)}function ar(t,s,r,l,c){var f=c&&c.biff||8,p={s:{c:0,r:0},e:{c:0,r:0}},x=[],w,P,C,F=0,L=0,B,U="";if(!t[0]||!t[0][0])return"";for(var Y=-1,Q="",N=0,X=t[0].length;N<X;++N){var W=t[0][N];switch(W[0]){case"PtgUminus":x.push("-"+x.pop());break;case"PtgUplus":x.push("+"+x.pop());break;case"PtgPercent":x.push(x.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(w=x.pop(),P=x.pop(),Y>=0){switch(t[0][Y][1][0]){case 0:Q=as(" ",t[0][Y][1][1]);break;case 1:Q=as("\r",t[0][Y][1][1]);break;default:if(Q="",c.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][Y][1][0])}P=P+Q,Y=-1}x.push(P+D9[W[0]]+w);break;case"PtgIsect":w=x.pop(),P=x.pop(),x.push(P+" "+w);break;case"PtgUnion":w=x.pop(),P=x.pop(),x.push(P+","+w);break;case"PtgRange":w=x.pop(),P=x.pop(),x.push(P+":"+w);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":C=cf(W[1][1],p,c),x.push(uf(C,f));break;case"PtgRefN":C=r?cf(W[1][1],r,c):W[1][1],x.push(uf(C,f));break;case"PtgRef3d":F=W[1][1],C=cf(W[1][2],p,c),U=B2(l,F,c),x.push(U+"!"+uf(C,f));break;case"PtgFunc":case"PtgFuncVar":var he=W[1][0],K=W[1][1];he||(he=0),he&=127;var le=he==0?[]:x.slice(-he);x.length-=he,K==="User"&&(K=le.shift()),x.push(K+"("+le.join(",")+")");break;case"PtgBool":x.push(W[1]?"TRUE":"FALSE");break;case"PtgInt":x.push(W[1]);break;case"PtgNum":x.push(String(W[1]));break;case"PtgStr":x.push('"'+W[1].replace(/"/g,'""')+'"');break;case"PtgErr":x.push(W[1]);break;case"PtgAreaN":B=f2(W[1][1],r?{s:r}:p,c),x.push(gv(B,c));break;case"PtgArea":B=f2(W[1][1],p,c),x.push(gv(B,c));break;case"PtgArea3d":F=W[1][1],B=W[1][2],U=B2(l,F,c),x.push(U+"!"+gv(B,c));break;case"PtgAttrSum":x.push("SUM("+x.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":L=W[1][2];var G=(l.names||[])[L-1]||(l[0]||[])[L],oe=G?G.Name:"SH33TJSNAME"+String(L);oe&&oe.slice(0,6)=="_xlfn."&&!c.xlfn&&(oe=oe.slice(6)),x.push(oe);break;case"PtgNameX":var fe=W[1][1];L=W[1][2];var pe;if(c.biff<=5)fe<0&&(fe=-fe),l[fe]&&(pe=l[fe][L]);else{var Te="";if(((l[fe]||[])[0]||[])[0]==14849||(((l[fe]||[])[0]||[])[0]==1025?l[fe][L]&&l[fe][L].itab>0&&(Te=l.SheetNames[l[fe][L].itab-1]+"!"):Te=l.SheetNames[L-1]+"!"),l[fe]&&l[fe][L])Te+=l[fe][L].Name;else if(l[0]&&l[0][L])Te+=l[0][L].Name;else{var De=(wM(l,fe,c)||"").split(";;");De[L-1]?Te=De[L-1]:Te+="SH33TJSERRX"}x.push(Te);break}pe||(pe={Name:"SH33TJSERRY"}),x.push(pe.Name);break;case"PtgParen":var Me="(",He=")";if(Y>=0){switch(Q="",t[0][Y][1][0]){case 2:Me=as(" ",t[0][Y][1][1])+Me;break;case 3:Me=as("\r",t[0][Y][1][1])+Me;break;case 4:He=as(" ",t[0][Y][1][1])+He;break;case 5:He=as("\r",t[0][Y][1][1])+He;break;default:if(c.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][Y][1][0])}Y=-1}x.push(Me+x.pop()+He);break;case"PtgRefErr":x.push("#REF!");break;case"PtgRefErr3d":x.push("#REF!");break;case"PtgExp":C={c:W[1][1],r:W[1][0]};var je={c:r.c,r:r.r};if(l.sharedf[Fi(C)]){var tt=l.sharedf[Fi(C)];x.push(ar(tt,p,je,l,c))}else{var Ze=!1;for(w=0;w!=l.arrayf.length;++w)if(P=l.arrayf[w],!(C.c<P[0].s.c||C.c>P[0].e.c)&&!(C.r<P[0].s.r||C.r>P[0].e.r)){x.push(ar(P[1],p,je,l,c)),Ze=!0;break}Ze||x.push(W[1])}break;case"PtgArray":x.push("{"+P9(W[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Y=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":x.push("");break;case"PtgAreaErr":x.push("#REF!");break;case"PtgAreaErr3d":x.push("#REF!");break;case"PtgList":x.push("Table"+W[1].idx+"[#"+W[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(W));default:throw new Error("Unrecognized Formula Token: "+String(W))}var ft=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(c.biff!=3&&Y>=0&&ft.indexOf(t[0][N][0])==-1){W=t[0][Y];var Je=!0;switch(W[1][0]){case 4:Je=!1;case 0:Q=as(" ",W[1][1]);break;case 5:Je=!1;case 1:Q=as("\r",W[1][1]);break;default:if(Q="",c.WTF)throw new Error("Unexpected PtgAttrSpaceType "+W[1][0])}x.push((Je?Q:"")+x.pop()+(Je?"":Q)),Y=-1}}if(x.length>1&&c.WTF)throw new Error("bad formula stack");return x[0]}function E9(t,s,r){var l=t.l+s,c=r.biff==2?1:2,f,p=t.read_shift(c);if(p==65535)return[[],pr(t,s-2)];var x=y0(t,p,r);return s!==p+c&&(f=x0(t,s-p-c,x,r)),t.l=l,[x,f]}function _9(t,s,r){var l=t.l+s,c=r.biff==2?1:2,f,p=t.read_shift(c);if(p==65535)return[[],pr(t,s-2)];var x=y0(t,p,r);return s!==p+c&&(f=x0(t,s-p-c,x,r)),t.l=l,[x,f]}function F9(t,s,r,l){var c=t.l+s,f=y0(t,l,r),p;return c!==t.l&&(p=x0(t,c-t.l,f,r)),[f,p]}function N9(t,s,r){var l=t.l+s,c,f=t.read_shift(2),p=y0(t,f,r);return f==65535?[[],pr(t,s-2)]:(s!==f+2&&(c=x0(t,l-f-2,p,r)),[p,c])}function L9(t){var s;if(hl(t,t.l+6)!==65535)return[cr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return s=t[t.l+2]===1,t.l+=8,[s,"b"];case 2:return s=t[t.l+2],t.l+=8,[s,"e"];case 3:return t.l+=8,["","s"]}return[]}function I9(t){if(t==null){var s=Pt(8);return s.write_shift(1,3),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,65535),s}else if(typeof t=="number")return wc(t);return wc(0)}function yv(t,s,r){var l=t.l+s,c=Ko(t);r.biff==2&&++t.l;var f=L9(t),p=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var x=_9(t,l-t.l,r);return{cell:c,val:f[0],formula:x,shared:p>>3&1,tt:f[1]}}function O9(t,s,r,l,c){var f=Sc(s,r,c),p=I9(t.v),x=Pt(6),w=33;x.write_shift(2,w),x.write_shift(4,0);for(var P=Pt(t.bf.length),C=0;C<t.bf.length;++C)P[C]=t.bf[C];var F=Xs([f,p,x,P]);return F}function Jm(t,s,r){var l=t.read_shift(4),c=y0(t,l,r),f=t.read_shift(4),p=f>0?x0(t,f,c,r):null;return[c,p]}var R9=Jm,Qm=Jm,B9=Jm,V9=Jm,z9={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},kM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},X9={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function V2(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function H9(t){var s="of:="+t.replace(nb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return s.replace(/;/g,"|").replace(/,/g,";")}function bv(t){var s=t.split(":"),r=s[0].split(".")[0];return[r,s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}function Y9(t){return t.replace(/\./,"!")}var ff={},Ou={},gf=typeof Map<"u";function ab(t,s,r){var l=0,c=t.length;if(r){if(gf?r.has(s):Object.prototype.hasOwnProperty.call(r,s)){for(var f=gf?r.get(s):r[s];l<f.length;++l)if(t[f[l]].t===s)return t.Count++,f[l]}}else for(;l<c;++l)if(t[l].t===s)return t.Count++,l;return t[c]={t:s},t.Count++,t.Unique++,r&&(gf?(r.has(s)||r.set(s,[]),r.get(s).push(c)):(Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[]),r[s].push(c))),c}function ep(t,s){var r={min:t+1,max:t+1},l=-1;return s.MDW&&(or=s.MDW),s.width!=null?r.customWidth=1:s.wpx!=null?l=Kf(s.wpx):s.wch!=null&&(l=s.wch),l>-1?(r.width=am(l),r.customWidth=1):s.width!=null&&(r.width=s.width),s.hidden&&(r.hidden=!0),s.level!=null&&(r.outlineLevel=r.level=s.level),r}function fc(t,s){if(t){var r=[.7,.7,.75,.75,.3,.3];s=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Fh(t,s,r){var l=r.revssf[s.z!=null?s.z:"General"],c=60,f=t.length;if(l==null&&r.ssf){for(;c<392;++c)if(r.ssf[c]==null){fl(s.z,c),r.ssf[c]=s.z,r.revssf[s.z]=l=c;break}}for(c=0;c!=f;++c)if(t[c].numFmtId===l)return c;return t[f]={numFmtId:l,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},f}function SM(t,s,r,l,c,f){try{l.cellNF&&(t.z=Mi[s])}catch(x){if(l.WTF)throw x}if(!(t.t==="z"&&!l.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Xn(t.v)),(!l||l.cellText!==!1)&&t.t!=="z")try{if(Mi[s]==null&&fl(XB[s]||"General",s),t.t==="e")t.w=t.w||Fl[t.v];else if(s===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hf(t.v);else if(t.t==="d"){var p=Is(t.v);(p|0)===p?t.w=p.toString(10):t.w=Hf(p)}else{if(t.v===void 0)return"";t.w=yc(t.v,Ou)}else t.t==="d"?t.w=$a(s,Is(t.v),Ou):t.w=$a(s,t.v,Ou)}catch(x){if(l.WTF)throw x}if(l.cellStyles&&r!=null)try{t.s=f.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=rm(c.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),l.WTF&&(t.s.fgColor.raw_rgb=c.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=rm(c.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),l.WTF&&(t.s.bgColor.raw_rgb=c.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(x){if(l.WTF&&f.Fills)throw x}}}function U9(t,s,r){if(t&&t["!ref"]){var l=hn(t["!ref"]);if(l.e.c<l.s.c||l.e.r<l.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function W9(t,s){var r=hn(s);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Ui(r))}var G9=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,j9=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,$9=/<(?:\w:)?hyperlink [^>]*>/mg,K9=/"(\w*:\w*)"/,q9=/<(?:\w:)?col\b[^>]*[\/]?>/g,Z9=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,J9=/<(?:\w:)?pageMargins[^>]*\/>/g,CM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Q9=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,eH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tH(t,s,r,l,c,f,p){if(!t)return t;l||(l={"!id":{}});var x=s.dense?[]:{},w={s:{r:2e6,c:2e6},e:{r:0,c:0}},P="",C="",F=t.match(j9);F?(P=t.slice(0,F.index),C=t.slice(F.index+F[0].length)):P=C=t;var L=P.match(CM);L?ob(L[0],x,c,r):(L=P.match(Q9))&&nH(L[0],L[1]||"",x,c,r);var B=(P.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(B>0){var U=P.slice(B,B+50).match(K9);U&&W9(x,U[1])}var Y=P.match(eH);Y&&Y[1]&&pH(Y[1],c);var Q=[];if(s.cellStyles){var N=P.match(q9);N&&uH(Q,N)}F&&yH(F[1],x,s,w,f,p);var X=C.match(Z9);X&&(x["!autofilter"]=fH(X[0]));var W=[],he=C.match(G9);if(he)for(B=0;B!=he.length;++B)W[B]=hn(he[B].slice(he[B].indexOf('"')+1));var K=C.match($9);K&&lH(x,K,l);var le=C.match(J9);if(le&&(x["!margins"]=hH(Ii(le[0]))),!x["!ref"]&&w.e.c>=w.s.c&&w.e.r>=w.s.r&&(x["!ref"]=Ui(w)),s.sheetRows>0&&x["!ref"]){var G=hn(x["!ref"]);s.sheetRows<=+G.e.r&&(G.e.r=s.sheetRows-1,G.e.r>w.e.r&&(G.e.r=w.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>w.e.c&&(G.e.c=w.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),x["!fullref"]=x["!ref"],x["!ref"]=Ui(G))}return Q.length>0&&(x["!cols"]=Q),W.length>0&&(x["!merges"]=W),x}function iH(t){if(t.length===0)return"";for(var s='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)s+='<mergeCell ref="'+Ui(t[r])+'"/>';return s+"</mergeCells>"}function ob(t,s,r,l){var c=Ii(t);r.Sheets[l]||(r.Sheets[l]={}),c.codeName&&(r.Sheets[l].CodeName=an(_n(c.codeName)))}function nH(t,s,r,l,c){ob(t.slice(0,t.indexOf(">")),r,l,c)}function sH(t,s,r,l,c){var f=!1,p={},x=null;if(l.bookType!=="xlsx"&&s.vbaraw){var w=s.SheetNames[r];try{s.Workbook&&(w=s.Workbook.Sheets[r].CodeName||w)}catch{}f=!0,p.codeName=zo(An(w))}if(t&&t["!outline"]){var P={summaryBelow:1,summaryRight:1};t["!outline"].above&&(P.summaryBelow=0),t["!outline"].left&&(P.summaryRight=0),x=(x||"")+ni("outlinePr",null,P)}!f&&!x||(c[c.length]=ni("sheetPr",x,p))}var rH=["objects","scenarios","selectLockedCells","selectUnlockedCells"],aH=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function oH(t){var s={sheet:1};return rH.forEach(function(r){t[r]!=null&&t[r]&&(s[r]="1")}),aH.forEach(function(r){t[r]!=null&&!t[r]&&(s[r]="0")}),t.password&&(s.password=eb(t.password).toString(16).toUpperCase()),ni("sheetProtection",null,s)}function lH(t,s,r){for(var l=Array.isArray(t),c=0;c!=s.length;++c){var f=Ii(_n(s[c]),!0);if(!f.ref)return;var p=((r||{})["!id"]||[])[f.id];p?(f.Target=p.Target,f.location&&(f.Target+="#"+an(f.location))):(f.Target="#"+an(f.location),p={Target:f.Target,TargetMode:"Internal"}),f.Rel=p,f.tooltip&&(f.Tooltip=f.tooltip,delete f.tooltip);for(var x=hn(f.ref),w=x.s.r;w<=x.e.r;++w)for(var P=x.s.c;P<=x.e.c;++P){var C=Fi({c:P,r:w});l?(t[w]||(t[w]=[]),t[w][P]||(t[w][P]={t:"z",v:void 0}),t[w][P].l=f):(t[C]||(t[C]={t:"z",v:void 0}),t[C].l=f)}}}function hH(t){var s={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(s[r]=parseFloat(t[r]))}),s}function cH(t){return fc(t),ni("pageMargins",null,t)}function uH(t,s){for(var r=!1,l=0;l!=s.length;++l){var c=Ii(s[l],!0);c.hidden&&(c.hidden=Vn(c.hidden));var f=parseInt(c.min,10)-1,p=parseInt(c.max,10)-1;for(c.outlineLevel&&(c.level=+c.outlineLevel||0),delete c.min,delete c.max,c.width=+c.width,!r&&c.width&&(r=!0,tb(c.width)),wh(c);f<=p;)t[f++]=Hn(c)}}function dH(t,s){for(var r=["<cols>"],l,c=0;c!=s.length;++c)(l=s[c])&&(r[r.length]=ni("col",null,ep(c,l)));return r[r.length]="</cols>",r.join("")}function fH(t){var s={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return s}function gH(t,s,r,l){var c=typeof t.ref=="string"?t.ref:Ui(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var f=r.Workbook.Names,p=Zr(c);p.s.r==p.e.r&&(p.e.r=Zr(s["!ref"]).e.r,c=Ui(p));for(var x=0;x<f.length;++x){var w=f[x];if(w.Name=="_xlnm._FilterDatabase"&&w.Sheet==l){w.Ref="'"+r.SheetNames[l]+"'!"+c;break}}return x==f.length&&f.push({Name:"_xlnm._FilterDatabase",Sheet:l,Ref:"'"+r.SheetNames[l]+"'!"+c}),ni("autoFilter",null,{ref:c})}var mH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pH(t,s){s.Views||(s.Views=[{}]),(t.match(mH)||[]).forEach(function(r,l){var c=Ii(r);s.Views[l]||(s.Views[l]={}),+c.zoomScale&&(s.Views[l].zoom=+c.zoomScale),Vn(c.rightToLeft)&&(s.Views[l].RTL=!0)})}function vH(t,s,r,l){var c={workbookViewId:"0"};return(((l||{}).Workbook||{}).Views||[])[0]&&(c.rightToLeft=l.Workbook.Views[0].RTL?"1":"0"),ni("sheetViews",ni("sheetView",null,c),{})}function xH(t,s,r,l){if(t.c&&r["!comments"].push([s,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var c="",f=t.t,p=t.v;if(t.t!=="z")switch(t.t){case"b":c=t.v?"1":"0";break;case"n":c=""+t.v;break;case"e":c=Fl[t.v];break;case"d":l&&l.cellDates?c=Xn(t.v,-1).toISOString():(t=Hn(t),t.t="n",c=""+(t.v=Is(Xn(t.v)))),typeof t.z>"u"&&(t.z=Mi[14]);break;default:c=t.v;break}var x=Zs("v",An(c)),w={r:s},P=Fh(l.cellXfs,t,l);switch(P!==0&&(w.s=P),t.t){case"n":break;case"d":w.t="d";break;case"b":w.t="b";break;case"e":w.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(l&&l.bookSST){x=Zs("v",""+ab(l.Strings,t.v,l.revStrings)),w.t="s";break}w.t="str";break}if(t.t!=f&&(t.t=f,t.v=p),typeof t.f=="string"&&t.f){var C=t.F&&t.F.slice(0,s.length)==s?{t:"array",ref:t.F}:null;x=ni("f",An(t.f),C)+(t.v!=null?x:"")}return t.l&&r["!links"].push([s,t.l]),t.D&&(w.cm=1),ni("c",x,w)}var yH=function(){var t=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,l=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,c=/ref=["']([^"']*)["']/,f=Yf("v"),p=Yf("f");return function(w,P,C,F,L,B){for(var U=0,Y="",Q=[],N=[],X=0,W=0,he=0,K="",le,G,oe=0,fe=0,pe,Te,De=0,Me=0,He=Array.isArray(B.CellXf),je,tt=[],Ze=[],ft=Array.isArray(P),Je=[],dt={},at=!1,Ie=!!C.sheetStubs,qe=w.split(s),Ue=0,Ae=qe.length;Ue!=Ae;++Ue){Y=qe[Ue].trim();var Ye=Y.length;if(Ye!==0){var st=0;e:for(U=0;U<Ye;++U)switch(Y[U]){case">":if(Y[U-1]!="/"){++U;break e}if(C&&C.cellStyles){if(G=Ii(Y.slice(st,U),!0),oe=G.r!=null?parseInt(G.r,10):oe+1,fe=-1,C.sheetRows&&C.sheetRows<oe)continue;dt={},at=!1,G.ht&&(at=!0,dt.hpt=parseFloat(G.ht),dt.hpx=id(dt.hpt)),G.hidden=="1"&&(at=!0,dt.hidden=!0),G.outlineLevel!=null&&(at=!0,dt.level=+G.outlineLevel),at&&(Je[oe-1]=dt)}break;case"<":st=U;break}if(st>=U)break;if(G=Ii(Y.slice(st,U),!0),oe=G.r!=null?parseInt(G.r,10):oe+1,fe=-1,!(C.sheetRows&&C.sheetRows<oe)){F.s.r>oe-1&&(F.s.r=oe-1),F.e.r<oe-1&&(F.e.r=oe-1),C&&C.cellStyles&&(dt={},at=!1,G.ht&&(at=!0,dt.hpt=parseFloat(G.ht),dt.hpx=id(dt.hpt)),G.hidden=="1"&&(at=!0,dt.hidden=!0),G.outlineLevel!=null&&(at=!0,dt.level=+G.outlineLevel),at&&(Je[oe-1]=dt)),Q=Y.slice(U).split(t);for(var ht=0;ht!=Q.length&&Q[ht].trim().charAt(0)=="<";++ht);for(Q=Q.slice(ht),U=0;U!=Q.length;++U)if(Y=Q[U].trim(),Y.length!==0){if(N=Y.match(r),X=U,W=0,he=0,Y="<c "+(Y.slice(0,1)=="<"?">":"")+Y,N!=null&&N.length===2){for(X=0,K=N[1],W=0;W!=K.length&&!((he=K.charCodeAt(W)-64)<1||he>26);++W)X=26*X+he;--X,fe=X}else++fe;for(W=0;W!=Y.length&&Y.charCodeAt(W)!==62;++W);if(++W,G=Ii(Y.slice(0,W),!0),G.r||(G.r=Fi({r:oe-1,c:fe})),K=Y.slice(W),le={t:""},(N=K.match(f))!=null&&N[1]!==""&&(le.v=an(N[1])),C.cellFormula){if((N=K.match(p))!=null&&N[1]!==""){if(le.f=an(_n(N[1])).replace(/\r\n/g,`
`),C.xlfn||(le.f=I2(le.f)),N[0].indexOf('t="array"')>-1)le.F=(K.match(c)||[])[1],le.F.indexOf(":")>-1&&tt.push([hn(le.F),le.F]);else if(N[0].indexOf('t="shared"')>-1){Te=Ii(N[0]);var vt=an(_n(N[1]));C.xlfn||(vt=I2(vt)),Ze[parseInt(Te.si,10)]=[Te,vt,G.r]}}else(N=K.match(/<f[^>]*\/>/))&&(Te=Ii(N[0]),Ze[Te.si]&&(le.f=mX(Ze[Te.si][1],Ze[Te.si][2],G.r)));var kt=is(G.r);for(W=0;W<tt.length;++W)kt.r>=tt[W][0].s.r&&kt.r<=tt[W][0].e.r&&kt.c>=tt[W][0].s.c&&kt.c<=tt[W][0].e.c&&(le.F=tt[W][1])}if(G.t==null&&le.v===void 0)if(le.f||le.F)le.v=0,le.t="n";else if(Ie)le.t="z";else continue;else le.t=G.t||"n";switch(F.s.c>fe&&(F.s.c=fe),F.e.c<fe&&(F.e.c=fe),le.t){case"n":if(le.v==""||le.v==null){if(!Ie)continue;le.t="z"}else le.v=parseFloat(le.v);break;case"s":if(typeof le.v>"u"){if(!Ie)continue;le.t="z"}else pe=ff[parseInt(le.v,10)],le.v=pe.t,le.r=pe.r,C.cellHTML&&(le.h=pe.h);break;case"str":le.t="s",le.v=le.v!=null?_n(le.v):"",C.cellHTML&&(le.h=Vy(le.v));break;case"inlineStr":N=K.match(l),le.t="s",N!=null&&(pe=Qy(N[1]))?(le.v=pe.t,C.cellHTML&&(le.h=pe.h)):le.v="";break;case"b":le.v=Vn(le.v);break;case"d":C.cellDates?le.v=Xn(le.v,1):(le.v=Is(Xn(le.v,1)),le.t="n");break;case"e":(!C||C.cellText!==!1)&&(le.w=le.v),le.v=TD[le.v];break}if(De=Me=0,je=null,He&&G.s!==void 0&&(je=B.CellXf[G.s],je!=null&&(je.numFmtId!=null&&(De=je.numFmtId),C.cellStyles&&je.fillId!=null&&(Me=je.fillId))),SM(le,De,Me,C,L,B),C.cellDates&&He&&le.t=="n"&&wd(Mi[De])&&(le.t="d",le.v=qm(le.v)),G.cm&&C.xlmeta){var Kt=(C.xlmeta.Cell||[])[+G.cm-1];Kt&&Kt.type=="XLDAPR"&&(le.D=!0)}if(ft){var ve=is(G.r);P[ve.r]||(P[ve.r]=[]),P[ve.r][ve.c]=le}else P[G.r]=le}}}}Je.length>0&&(P["!rows"]=Je)}}();function bH(t,s,r,l){var c=[],f=[],p=hn(t["!ref"]),x="",w,P="",C=[],F=0,L=0,B=t["!rows"],U=Array.isArray(t),Y={r:P},Q,N=-1;for(L=p.s.c;L<=p.e.c;++L)C[L]=ts(L);for(F=p.s.r;F<=p.e.r;++F){for(f=[],P=bs(F),L=p.s.c;L<=p.e.c;++L){w=C[L]+P;var X=U?(t[F]||[])[L]:t[w];X!==void 0&&(x=xH(X,w,t,s))!=null&&f.push(x)}(f.length>0||B&&B[F])&&(Y={r:P},B&&B[F]&&(Q=B[F],Q.hidden&&(Y.hidden=1),N=-1,Q.hpx?N=qf(Q.hpx):Q.hpt&&(N=Q.hpt),N>-1&&(Y.ht=N,Y.customHeight=1),Q.level&&(Y.outlineLevel=Q.level)),c[c.length]=ni("row",f.join(""),Y))}if(B)for(;F<B.length;++F)B&&B[F]&&(Y={r:F+1},Q=B[F],Q.hidden&&(Y.hidden=1),N=-1,Q.hpx?N=qf(Q.hpx):Q.hpt&&(N=Q.hpt),N>-1&&(Y.ht=N,Y.customHeight=1),Q.level&&(Y.outlineLevel=Q.level),c[c.length]=ni("row","",Y));return c.join("")}function AM(t,s,r,l){var c=[Cs,ni("worksheet",null,{xmlns:Xc[0],"xmlns:r":Ls.r})],f=r.SheetNames[t],p=0,x="",w=r.Sheets[f];w==null&&(w={});var P=w["!ref"]||"A1",C=hn(P);if(C.e.c>16383||C.e.r>1048575){if(s.WTF)throw new Error("Range "+P+" exceeds format limit A1:XFD1048576");C.e.c=Math.min(C.e.c,16383),C.e.r=Math.min(C.e.c,1048575),P=Ui(C)}l||(l={}),w["!comments"]=[];var F=[];sH(w,r,t,s,c),c[c.length]=ni("dimension",null,{ref:P}),c[c.length]=vH(w,s,t,r),s.sheetFormat&&(c[c.length]=ni("sheetFormatPr",null,{defaultRowHeight:s.sheetFormat.defaultRowHeight||"16",baseColWidth:s.sheetFormat.baseColWidth||"10",outlineLevelRow:s.sheetFormat.outlineLevelRow||"7"})),w["!cols"]!=null&&w["!cols"].length>0&&(c[c.length]=dH(w,w["!cols"])),c[p=c.length]="<sheetData/>",w["!links"]=[],w["!ref"]!=null&&(x=bH(w,s),x.length>0&&(c[c.length]=x)),c.length>p+1&&(c[c.length]="</sheetData>",c[p]=c[p].replace("/>",">")),w["!protect"]&&(c[c.length]=oH(w["!protect"])),w["!autofilter"]!=null&&(c[c.length]=gH(w["!autofilter"],w,r,t)),w["!merges"]!=null&&w["!merges"].length>0&&(c[c.length]=iH(w["!merges"]));var L=-1,B,U=-1;return w["!links"].length>0&&(c[c.length]="<hyperlinks>",w["!links"].forEach(function(Y){Y[1].Target&&(B={ref:Y[0]},Y[1].Target.charAt(0)!="#"&&(U=Sn(l,-1,An(Y[1].Target).replace(/#.*$/,""),Zi.HLINK),B["r:id"]="rId"+U),(L=Y[1].Target.indexOf("#"))>-1&&(B.location=An(Y[1].Target.slice(L+1))),Y[1].Tooltip&&(B.tooltip=An(Y[1].Tooltip)),c[c.length]=ni("hyperlink",null,B))}),c[c.length]="</hyperlinks>"),delete w["!links"],w["!margins"]!=null&&(c[c.length]=cH(w["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&(c[c.length]=Zs("ignoredErrors",ni("ignoredError",null,{numberStoredAsText:1,sqref:P}))),F.length>0&&(U=Sn(l,-1,"../drawings/drawing"+(t+1)+".xml",Zi.DRAW),c[c.length]=ni("drawing",null,{"r:id":"rId"+U}),w["!drawing"]=F),w["!comments"].length>0&&(U=Sn(l,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Zi.VML),c[c.length]=ni("legacyDrawing",null,{"r:id":"rId"+U}),w["!legacy"]=U),c.length>1&&(c[c.length]="</worksheet>",c[1]=c[1].replace("/>",">")),c.join("")}function wH(t,s){var r={},l=t.l+s;r.r=t.read_shift(4),t.l+=4;var c=t.read_shift(2);t.l+=1;var f=t.read_shift(1);return t.l=l,f&7&&(r.level=f&7),f&16&&(r.hidden=!0),f&32&&(r.hpt=c/20),r}function kH(t,s,r){var l=Pt(145),c=(r["!rows"]||[])[t]||{};l.write_shift(4,t),l.write_shift(4,0);var f=320;c.hpx?f=qf(c.hpx)*20:c.hpt&&(f=c.hpt*20),l.write_shift(2,f),l.write_shift(1,0);var p=0;c.level&&(p|=c.level),c.hidden&&(p|=16),(c.hpx||c.hpt)&&(p|=32),l.write_shift(1,p),l.write_shift(1,0);var x=0,w=l.l;l.l+=4;for(var P={r:t,c:0},C=0;C<16;++C)if(!(s.s.c>C+1<<10||s.e.c<C<<10)){for(var F=-1,L=-1,B=C<<10;B<C+1<<10;++B){P.c=B;var U=Array.isArray(r)?(r[P.r]||[])[P.c]:r[Fi(P)];U&&(F<0&&(F=B),L=B)}F<0||(++x,l.write_shift(4,F),l.write_shift(4,L))}var Y=l.l;return l.l=w,l.write_shift(4,x),l.l=Y,l.length>l.l?l.slice(0,l.l):l}function SH(t,s,r,l){var c=kH(l,r,s);(c.length>17||(s["!rows"]||[])[l])&&Xt(t,0,c)}var CH=Wc,AH=Cd;function TH(){}function PH(t,s){var r={},l=t[t.l];return++t.l,r.above=!(l&64),r.left=!(l&128),t.l+=18,r.name=E5(t),r}function DH(t,s,r){r==null&&(r=Pt(84+4*t.length));var l=192;s&&(s.above&&(l&=-65),s.left&&(l&=-129)),r.write_shift(1,l);for(var c=1;c<3;++c)r.write_shift(1,0);return im({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),wD(t,r),r.slice(0,r.l)}function MH(t){var s=Qa(t);return[s]}function EH(t,s,r){return r==null&&(r=Pt(8)),Hc(s,r)}function _H(t){var s=Yc(t);return[s]}function FH(t,s,r){return r==null&&(r=Pt(4)),Uc(s,r)}function NH(t){var s=Qa(t),r=t.read_shift(1);return[s,r,"b"]}function LH(t,s,r){return r==null&&(r=Pt(9)),Hc(s,r),r.write_shift(1,t.v?1:0),r}function IH(t){var s=Yc(t),r=t.read_shift(1);return[s,r,"b"]}function OH(t,s,r){return r==null&&(r=Pt(5)),Uc(s,r),r.write_shift(1,t.v?1:0),r}function RH(t){var s=Qa(t),r=t.read_shift(1);return[s,r,"e"]}function BH(t,s,r){return r==null&&(r=Pt(9)),Hc(s,r),r.write_shift(1,t.v),r}function VH(t){var s=Yc(t),r=t.read_shift(1);return[s,r,"e"]}function zH(t,s,r){return r==null&&(r=Pt(8)),Uc(s,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function XH(t){var s=Qa(t),r=t.read_shift(4);return[s,r,"s"]}function HH(t,s,r){return r==null&&(r=Pt(12)),Hc(s,r),r.write_shift(4,s.v),r}function YH(t){var s=Yc(t),r=t.read_shift(4);return[s,r,"s"]}function UH(t,s,r){return r==null&&(r=Pt(8)),Uc(s,r),r.write_shift(4,s.v),r}function WH(t){var s=Qa(t),r=cr(t);return[s,r,"n"]}function GH(t,s,r){return r==null&&(r=Pt(16)),Hc(s,r),wc(t.v,r),r}function TM(t){var s=Yc(t),r=cr(t);return[s,r,"n"]}function jH(t,s,r){return r==null&&(r=Pt(12)),Uc(s,r),wc(t.v,r),r}function $H(t){var s=Qa(t),r=$y(t);return[s,r,"n"]}function KH(t,s,r){return r==null&&(r=Pt(12)),Hc(s,r),kD(t.v,r),r}function qH(t){var s=Yc(t),r=$y(t);return[s,r,"n"]}function ZH(t,s,r){return r==null&&(r=Pt(8)),Uc(s,r),kD(t.v,r),r}function JH(t){var s=Qa(t),r=Wy(t);return[s,r,"is"]}function QH(t){var s=Qa(t),r=mr(t);return[s,r,"str"]}function e7(t,s,r){return r==null&&(r=Pt(12+4*t.v.length)),Hc(s,r),Hs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function t7(t){var s=Yc(t),r=mr(t);return[s,r,"str"]}function i7(t,s,r){return r==null&&(r=Pt(8+4*t.v.length)),Uc(s,r),Hs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function n7(t,s,r){var l=t.l+s,c=Qa(t);c.r=r["!row"];var f=t.read_shift(1),p=[c,f,"b"];if(r.cellFormula){t.l+=2;var x=Qm(t,l-t.l,r);p[3]=ar(x,null,c,r.supbooks,r)}else t.l=l;return p}function s7(t,s,r){var l=t.l+s,c=Qa(t);c.r=r["!row"];var f=t.read_shift(1),p=[c,f,"e"];if(r.cellFormula){t.l+=2;var x=Qm(t,l-t.l,r);p[3]=ar(x,null,c,r.supbooks,r)}else t.l=l;return p}function r7(t,s,r){var l=t.l+s,c=Qa(t);c.r=r["!row"];var f=cr(t),p=[c,f,"n"];if(r.cellFormula){t.l+=2;var x=Qm(t,l-t.l,r);p[3]=ar(x,null,c,r.supbooks,r)}else t.l=l;return p}function a7(t,s,r){var l=t.l+s,c=Qa(t);c.r=r["!row"];var f=mr(t),p=[c,f,"str"];if(r.cellFormula){t.l+=2;var x=Qm(t,l-t.l,r);p[3]=ar(x,null,c,r.supbooks,r)}else t.l=l;return p}var o7=Wc,l7=Cd;function h7(t,s){return s==null&&(s=Pt(4)),s.write_shift(4,t),s}function c7(t,s){var r=t.l+s,l=Wc(t),c=Gy(t),f=mr(t),p=mr(t),x=mr(t);t.l=r;var w={rfx:l,relId:c,loc:f,display:x};return p&&(w.Tooltip=p),w}function u7(t,s){var r=Pt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Cd({s:is(t[0]),e:is(t[0])},r),jy("rId"+s,r);var l=t[1].Target.indexOf("#"),c=l==-1?"":t[1].Target.slice(l+1);return Hs(c||"",r),Hs(t[1].Tooltip||"",r),Hs("",r),r.slice(0,r.l)}function d7(){}function f7(t,s,r){var l=t.l+s,c=SD(t),f=t.read_shift(1),p=[c];if(p[2]=f,r.cellFormula){var x=R9(t,l-t.l,r);p[1]=x}else t.l=l;return p}function g7(t,s,r){var l=t.l+s,c=Wc(t),f=[c];if(r.cellFormula){var p=V9(t,l-t.l,r);f[1]=p,t.l=l}else t.l=l;return f}function m7(t,s,r){r==null&&(r=Pt(18));var l=ep(t,s);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(l.width||10)*256),r.write_shift(4,0);var c=0;return s.hidden&&(c|=1),typeof l.width=="number"&&(c|=2),s.level&&(c|=s.level<<8),r.write_shift(2,c),r}var PM=["left","right","top","bottom","header","footer"];function p7(t){var s={};return PM.forEach(function(r){s[r]=cr(t)}),s}function v7(t,s){return s==null&&(s=Pt(6*8)),fc(t),PM.forEach(function(r){wc(t[r],s)}),s}function x7(t){var s=t.read_shift(2);return t.l+=28,{RTL:s&32}}function y7(t,s,r){r==null&&(r=Pt(30));var l=924;return(((s||{}).Views||[])[0]||{}).RTL&&(l|=32),r.write_shift(2,l),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function b7(t){var s=Pt(24);return s.write_shift(4,4),s.write_shift(4,1),Cd(t,s),s}function w7(t,s){return s==null&&(s=Pt(16*4+2)),s.write_shift(2,t.password?eb(t.password):0),s.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?s.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):s.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),s}function k7(){}function S7(){}function C7(t,s,r,l,c,f,p){if(!t)return t;var x=s||{};l||(l={"!id":{}});var w=x.dense?[]:{},P,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},F=!1,L=!1,B,U,Y,Q,N,X,W,he,K,le=[];x.biff=12,x["!row"]=0;var G=0,oe=!1,fe=[],pe={},Te=x.supbooks||c.supbooks||[[]];if(Te.sharedf=pe,Te.arrayf=fe,Te.SheetNames=c.SheetNames||c.Sheets.map(function(ft){return ft.name}),!x.supbooks&&(x.supbooks=Te,c.Names))for(var De=0;De<c.Names.length;++De)Te[0][De+1]=c.Names[De];var Me=[],He=[],je=!1;Zf[16]={n:"BrtShortReal",f:TM};var tt;if(_l(t,function(Je,dt,at){if(!L)switch(at){case 148:P=Je;break;case 0:B=Je,x.sheetRows&&x.sheetRows<=B.r&&(L=!0),he=bs(Q=B.r),x["!row"]=B.r,(Je.hidden||Je.hpt||Je.level!=null)&&(Je.hpt&&(Je.hpx=id(Je.hpt)),He[Je.r]=Je);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(U={t:Je[2]},Je[2]){case"n":U.v=Je[1];break;case"s":W=ff[Je[1]],U.v=W.t,U.r=W.r;break;case"b":U.v=!!Je[1];break;case"e":U.v=Je[1],x.cellText!==!1&&(U.w=Fl[U.v]);break;case"str":U.t="s",U.v=Je[1];break;case"is":U.t="s",U.v=Je[1].t;break}if((Y=p.CellXf[Je[0].iStyleRef])&&SM(U,Y.numFmtId,null,x,f,p),N=Je[0].c==-1?N+1:Je[0].c,x.dense?(w[Q]||(w[Q]=[]),w[Q][N]=U):w[ts(N)+he]=U,x.cellFormula){for(oe=!1,G=0;G<fe.length;++G){var Ie=fe[G];B.r>=Ie[0].s.r&&B.r<=Ie[0].e.r&&N>=Ie[0].s.c&&N<=Ie[0].e.c&&(U.F=Ui(Ie[0]),oe=!0)}!oe&&Je.length>3&&(U.f=Je[3])}if(C.s.r>B.r&&(C.s.r=B.r),C.s.c>N&&(C.s.c=N),C.e.r<B.r&&(C.e.r=B.r),C.e.c<N&&(C.e.c=N),x.cellDates&&Y&&U.t=="n"&&wd(Mi[Y.numFmtId])){var qe=Qh(U.v);qe&&(U.t="d",U.v=new Date(qe.y,qe.m-1,qe.d,qe.H,qe.M,qe.S,qe.u))}tt&&(tt.type=="XLDAPR"&&(U.D=!0),tt=void 0);break;case 1:case 12:if(!x.sheetStubs||F)break;U={t:"z",v:void 0},N=Je[0].c==-1?N+1:Je[0].c,x.dense?(w[Q]||(w[Q]=[]),w[Q][N]=U):w[ts(N)+he]=U,C.s.r>B.r&&(C.s.r=B.r),C.s.c>N&&(C.s.c=N),C.e.r<B.r&&(C.e.r=B.r),C.e.c<N&&(C.e.c=N),tt&&(tt.type=="XLDAPR"&&(U.D=!0),tt=void 0);break;case 176:le.push(Je);break;case 49:tt=((x.xlmeta||{}).Cell||[])[Je-1];break;case 494:var Ue=l["!id"][Je.relId];for(Ue?(Je.Target=Ue.Target,Je.loc&&(Je.Target+="#"+Je.loc),Je.Rel=Ue):Je.relId==""&&(Je.Target="#"+Je.loc),Q=Je.rfx.s.r;Q<=Je.rfx.e.r;++Q)for(N=Je.rfx.s.c;N<=Je.rfx.e.c;++N)x.dense?(w[Q]||(w[Q]=[]),w[Q][N]||(w[Q][N]={t:"z",v:void 0}),w[Q][N].l=Je):(X=Fi({c:N,r:Q}),w[X]||(w[X]={t:"z",v:void 0}),w[X].l=Je);break;case 426:if(!x.cellFormula)break;fe.push(Je),K=x.dense?w[Q][N]:w[ts(N)+he],K.f=ar(Je[1],C,{r:B.r,c:N},Te,x),K.F=Ui(Je[0]);break;case 427:if(!x.cellFormula)break;pe[Fi(Je[0].s)]=Je[1],K=x.dense?w[Q][N]:w[ts(N)+he],K.f=ar(Je[1],C,{r:B.r,c:N},Te,x);break;case 60:if(!x.cellStyles)break;for(;Je.e>=Je.s;)Me[Je.e--]={width:Je.w/256,hidden:!!(Je.flags&1),level:Je.level},je||(je=!0,tb(Je.w/256)),wh(Me[Je.e+1]);break;case 161:w["!autofilter"]={ref:Ui(Je)};break;case 476:w["!margins"]=Je;break;case 147:c.Sheets[r]||(c.Sheets[r]={}),Je.name&&(c.Sheets[r].CodeName=Je.name),(Je.above||Je.left)&&(w["!outline"]={above:Je.above,left:Je.left});break;case 137:c.Views||(c.Views=[{}]),c.Views[0]||(c.Views[0]={}),Je.RTL&&(c.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:F=!0;break;case 36:F=!1;break;case 37:F=!0;break;case 38:F=!1;break;default:if(!dt.T){if(!F||x.WTF)throw new Error("Unexpected record 0x"+at.toString(16))}}},x),delete x.supbooks,delete x["!row"],!w["!ref"]&&(C.s.r<2e6||P&&(P.e.r>0||P.e.c>0||P.s.r>0||P.s.c>0))&&(w["!ref"]=Ui(P||C)),x.sheetRows&&w["!ref"]){var Ze=hn(w["!ref"]);x.sheetRows<=+Ze.e.r&&(Ze.e.r=x.sheetRows-1,Ze.e.r>C.e.r&&(Ze.e.r=C.e.r),Ze.e.r<Ze.s.r&&(Ze.s.r=Ze.e.r),Ze.e.c>C.e.c&&(Ze.e.c=C.e.c),Ze.e.c<Ze.s.c&&(Ze.s.c=Ze.e.c),w["!fullref"]=w["!ref"],w["!ref"]=Ui(Ze))}return le.length>0&&(w["!merges"]=le),Me.length>0&&(w["!cols"]=Me),He.length>0&&(w["!rows"]=He),w}function A7(t,s,r,l,c,f,p){if(s.v===void 0)return!1;var x="";switch(s.t){case"b":x=s.v?"1":"0";break;case"d":s=Hn(s),s.z=s.z||Mi[14],s.v=Is(Xn(s.v)),s.t="n";break;case"n":case"e":x=""+s.v;break;default:x=s.v;break}var w={r,c:l};switch(w.s=Fh(c.cellXfs,s,c),s.l&&f["!links"].push([Fi(w),s.l]),s.c&&f["!comments"].push([Fi(w),s.c]),s.t){case"s":case"str":return c.bookSST?(x=ab(c.Strings,s.v,c.revStrings),w.t="s",w.v=x,p?Xt(t,18,UH(s,w)):Xt(t,7,HH(s,w))):(w.t="str",p?Xt(t,17,i7(s,w)):Xt(t,6,e7(s,w))),!0;case"n":return s.v==(s.v|0)&&s.v>-1e3&&s.v<1e3?p?Xt(t,13,ZH(s,w)):Xt(t,2,KH(s,w)):p?Xt(t,16,jH(s,w)):Xt(t,5,GH(s,w)),!0;case"b":return w.t="b",p?Xt(t,15,OH(s,w)):Xt(t,4,LH(s,w)),!0;case"e":return w.t="e",p?Xt(t,14,zH(s,w)):Xt(t,3,BH(s,w)),!0}return p?Xt(t,12,FH(s,w)):Xt(t,1,EH(s,w)),!0}function T7(t,s,r,l){var c=hn(s["!ref"]||"A1"),f,p="",x=[];Xt(t,145);var w=Array.isArray(s),P=c.e.r;s["!rows"]&&(P=Math.max(c.e.r,s["!rows"].length-1));for(var C=c.s.r;C<=P;++C){p=bs(C),SH(t,s,c,C);var F=!1;if(C<=c.e.r)for(var L=c.s.c;L<=c.e.c;++L){C===c.s.r&&(x[L]=ts(L)),f=x[L]+p;var B=w?(s[C]||[])[L]:s[f];if(!B){F=!1;continue}F=A7(t,B,C,L,l,s,F)}}Xt(t,146)}function P7(t,s){!s||!s["!merges"]||(Xt(t,177,h7(s["!merges"].length)),s["!merges"].forEach(function(r){Xt(t,176,l7(r))}),Xt(t,178))}function D7(t,s){!s||!s["!cols"]||(Xt(t,390),s["!cols"].forEach(function(r,l){r&&Xt(t,60,m7(l,r))}),Xt(t,391))}function M7(t,s){!s||!s["!ref"]||(Xt(t,648),Xt(t,649,b7(hn(s["!ref"]))),Xt(t,650))}function E7(t,s,r){s["!links"].forEach(function(l){if(l[1].Target){var c=Sn(r,-1,l[1].Target.replace(/#.*$/,""),Zi.HLINK);Xt(t,494,u7(l,c))}}),delete s["!links"]}function _7(t,s,r,l){if(s["!comments"].length>0){var c=Sn(l,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Zi.VML);Xt(t,551,jy("rId"+c)),s["!legacy"]=c}}function F7(t,s,r,l){if(s["!autofilter"]){var c=s["!autofilter"],f=typeof c.ref=="string"?c.ref:Ui(c.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var p=r.Workbook.Names,x=Zr(f);x.s.r==x.e.r&&(x.e.r=Zr(s["!ref"]).e.r,f=Ui(x));for(var w=0;w<p.length;++w){var P=p[w];if(P.Name=="_xlnm._FilterDatabase"&&P.Sheet==l){P.Ref="'"+r.SheetNames[l]+"'!"+f;break}}w==p.length&&p.push({Name:"_xlnm._FilterDatabase",Sheet:l,Ref:"'"+r.SheetNames[l]+"'!"+f}),Xt(t,161,Cd(hn(f))),Xt(t,162)}}function N7(t,s,r){Xt(t,133),Xt(t,137,y7(s,r)),Xt(t,138),Xt(t,134)}function L7(t,s){s["!protect"]&&Xt(t,535,w7(s["!protect"]))}function I7(t,s,r,l){var c=jr(),f=r.SheetNames[t],p=r.Sheets[f]||{},x=f;try{r&&r.Workbook&&(x=r.Workbook.Sheets[t].CodeName||x)}catch{}var w=hn(p["!ref"]||"A1");if(w.e.c>16383||w.e.r>1048575){if(s.WTF)throw new Error("Range "+(p["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");w.e.c=Math.min(w.e.c,16383),w.e.r=Math.min(w.e.c,1048575)}return p["!links"]=[],p["!comments"]=[],Xt(c,129),(r.vbaraw||p["!outline"])&&Xt(c,147,DH(x,p["!outline"])),Xt(c,148,AH(w)),N7(c,p,r.Workbook),D7(c,p),T7(c,p,t,s),L7(c,p),F7(c,p,r,t),P7(c,p),E7(c,p,l),p["!margins"]&&Xt(c,476,v7(p["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&M7(c,p),_7(c,p,t,l),Xt(c,130),c.end()}function O7(t){var s=[],r=t.match(/^<c:numCache>/),l;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(f){var p=f.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);p&&(s[+p[1]]=r?+p[2]:p[2])});var c=an((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(f){l=f.replace(/<.*?>/g,"")}),[s,c,l]}function R7(t,s,r,l,c,f){var p=f||{"!type":"chart"};if(!t)return f;var x=0,w=0,P="A",C={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(F){var L=O7(F);C.s.r=C.s.c=0,C.e.c=x,P=ts(x),L[0].forEach(function(B,U){p[P+bs(U)]={t:"n",v:B,z:L[1]},w=U}),C.e.r<w&&(C.e.r=w),++x}),x>0&&(p["!ref"]=Ui(C)),p}function B7(t,s,r,l,c){if(!t)return t;l||(l={"!id":{}});var f={"!type":"chart","!drawel":null,"!rel":""},p,x=t.match(CM);return x&&ob(x[0],f,c,r),(p=t.match(/drawing r:id="(.*?)"/))&&(f["!rel"]=p[1]),l["!id"][f["!rel"]]&&(f["!drawel"]=l["!id"][f["!rel"]]),f}function V7(t,s){t.l+=10;var r=mr(t);return{name:r}}function z7(t,s,r,l,c){if(!t)return t;l||(l={"!id":{}});var f={"!type":"chart","!drawel":null,"!rel":""},p=!1;return _l(t,function(w,P,C){switch(C){case 550:f["!rel"]=w;break;case 651:c.Sheets[r]||(c.Sheets[r]={}),w.name&&(c.Sheets[r].CodeName=w.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:p=!0;break;case 36:p=!1;break;case 37:break;case 38:break;default:if(!(P.T>0)){if(!(P.T<0)){if(!p||s.WTF)throw new Error("Unexpected record 0x"+C.toString(16))}}}},s),l["!id"][f["!rel"]]&&(f["!drawel"]=l["!id"][f["!rel"]]),f}var lb=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],X7=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],H7=[],Y7=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function z2(t,s){for(var r=0;r!=t.length;++r)for(var l=t[r],c=0;c!=s.length;++c){var f=s[c];if(l[f[0]]==null)l[f[0]]=f[1];else switch(f[2]){case"bool":typeof l[f[0]]=="string"&&(l[f[0]]=Vn(l[f[0]]));break;case"int":typeof l[f[0]]=="string"&&(l[f[0]]=parseInt(l[f[0]],10));break}}}function X2(t,s){for(var r=0;r!=s.length;++r){var l=s[r];if(t[l[0]]==null)t[l[0]]=l[1];else switch(l[2]){case"bool":typeof t[l[0]]=="string"&&(t[l[0]]=Vn(t[l[0]]));break;case"int":typeof t[l[0]]=="string"&&(t[l[0]]=parseInt(t[l[0]],10));break}}}function DM(t){X2(t.WBProps,lb),X2(t.CalcPr,Y7),z2(t.WBView,X7),z2(t.Sheets,H7),Ou.date1904=Vn(t.WBProps.date1904)}function U7(t){return!t.Workbook||!t.Workbook.WBProps?"false":Vn(t.Workbook.WBProps.date1904)?"true":"false"}var W7="][*?/\\".split("");function MM(t,s){if(t.length>31){if(s)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return W7.forEach(function(l){if(t.indexOf(l)!=-1){if(!s)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function G7(t,s,r){t.forEach(function(l,c){MM(l);for(var f=0;f<c;++f)if(l==t[f])throw new Error("Duplicate Sheet Name: "+l);if(r){var p=s&&s[c]&&s[c].CodeName||l;if(p.charCodeAt(0)==95&&p.length>22)throw new Error("Bad Code Name: Worksheet"+p)}})}function j7(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var s=t.Workbook&&t.Workbook.Sheets||[];G7(t.SheetNames,s,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)U9(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var $7=/<\w+:workbook/;function K7(t,s){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},l=!1,c="xmlns",f={},p=0;if(t.replace(wr,function(w,P){var C=Ii(w);switch($o(C[0])){case"<?xml":break;case"<workbook":w.match($7)&&(c="xmlns"+w.match(/<(\w+):/)[1]),r.xmlns=C[c];break;case"</workbook>":break;case"<fileVersion":delete C[0],r.AppVersion=C;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":lb.forEach(function(F){if(C[F[0]]!=null)switch(F[2]){case"bool":r.WBProps[F[0]]=Vn(C[F[0]]);break;case"int":r.WBProps[F[0]]=parseInt(C[F[0]],10);break;default:r.WBProps[F[0]]=C[F[0]]}}),C.codeName&&(r.WBProps.CodeName=_n(C.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete C[0],r.WBView.push(C);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(C.state){case"hidden":C.Hidden=1;break;case"veryHidden":C.Hidden=2;break;default:C.Hidden=0}delete C.state,C.name=an(_n(C.name)),delete C[0],r.Sheets.push(C);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":l=!0;break;case"</definedNames>":l=!1;break;case"<definedName":f={},f.Name=_n(C.name),C.comment&&(f.Comment=C.comment),C.localSheetId&&(f.Sheet=+C.localSheetId),Vn(C.hidden||"0")&&(f.Hidden=!0),p=P+w.length;break;case"</definedName>":f.Ref=an(_n(t.slice(p,P))),r.Names.push(f);break;case"<definedName/>":break;case"<calcPr":delete C[0],r.CalcPr=C;break;case"<calcPr/>":delete C[0],r.CalcPr=C;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":l=!0;break;case"</AlternateContent>":l=!1;break;case"<revisionPtr":break;default:if(!l&&s.WTF)throw new Error("unrecognized "+C[0]+" in workbook")}return w}),Xc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return DM(r),r}function EM(t){var s=[Cs];s[s.length]=ni("workbook",null,{xmlns:Xc[0],"xmlns:r":Ls.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,l={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(lb.forEach(function(x){t.Workbook.WBProps[x[0]]!=null&&t.Workbook.WBProps[x[0]]!=x[1]&&(l[x[0]]=t.Workbook.WBProps[x[0]])}),t.Workbook.WBProps.CodeName&&(l.codeName=t.Workbook.WBProps.CodeName,delete l.CodeName)),s[s.length]=ni("workbookPr",null,l);var c=t.Workbook&&t.Workbook.Sheets||[],f=0;if(c&&c[0]&&c[0].Hidden){for(s[s.length]="<bookViews>",f=0;f!=t.SheetNames.length&&!(!c[f]||!c[f].Hidden);++f);f==t.SheetNames.length&&(f=0),s[s.length]='<workbookView firstSheet="'+f+'" activeTab="'+f+'"/>',s[s.length]="</bookViews>"}for(s[s.length]="<sheets>",f=0;f!=t.SheetNames.length;++f){var p={name:An(t.SheetNames[f].slice(0,31))};if(p.sheetId=""+(f+1),p["r:id"]="rId"+(f+1),c[f])switch(c[f].Hidden){case 1:p.state="hidden";break;case 2:p.state="veryHidden";break}s[s.length]=ni("sheet",null,p)}return s[s.length]="</sheets>",r&&(s[s.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(x){var w={name:x.Name};x.Comment&&(w.comment=x.Comment),x.Sheet!=null&&(w.localSheetId=""+x.Sheet),x.Hidden&&(w.hidden="1"),x.Ref&&(s[s.length]=ni("definedName",An(x.Ref),w))}),s[s.length]="</definedNames>"),s.length>2&&(s[s.length]="</workbook>",s[1]=s[1].replace("/>",">")),s.join("")}function q7(t,s){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Rx(t),r.name=mr(t),r}function Z7(t,s){return s||(s=Pt(127)),s.write_shift(4,t.Hidden),s.write_shift(4,t.iTabID),jy(t.strRelID,s),Hs(t.name.slice(0,31),s),s.length>s.l?s.slice(0,s.l):s}function J7(t,s){var r={},l=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var c=s>8?mr(t):"";return c.length>0&&(r.CodeName=c),r.autoCompressPictures=!!(l&65536),r.backupFile=!!(l&64),r.checkCompatibility=!!(l&4096),r.date1904=!!(l&1),r.filterPrivacy=!!(l&8),r.hidePivotFieldList=!!(l&1024),r.promptedSolutions=!!(l&16),r.publishItems=!!(l&2048),r.refreshAllConnections=!!(l&262144),r.saveExternalLinkValues=!!(l&128),r.showBorderUnselectedTables=!!(l&4),r.showInkAnnotation=!!(l&32),r.showObjects=["all","placeholders","none"][l>>13&3],r.showPivotChartFilter=!!(l&32768),r.updateLinks=["userSet","never","always"][l>>8&3],r}function Q7(t,s){s||(s=Pt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),s.write_shift(4,r),s.write_shift(4,0),wD(t&&t.CodeName||"ThisWorkbook",s),s.slice(0,s.l)}function eY(t,s){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=s-8,r}function tY(t,s,r){var l=t.l+s;t.l+=4,t.l+=1;var c=t.read_shift(4),f=_5(t),p=B9(t,0,r),x=Gy(t);t.l=l;var w={Name:f,Ptg:p};return c<268435455&&(w.Sheet=c),x&&(w.Comment=x),w}function iY(t,s){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},l=[],c=!1;s||(s={}),s.biff=12;var f=[],p=[[]];return p.SheetNames=[],p.XTI=[],Zf[16]={n:"BrtFRTArchID$",f:eY},_l(t,function(w,P,C){switch(C){case 156:p.SheetNames.push(w.name),r.Sheets.push(w);break;case 153:r.WBProps=w;break;case 39:w.Sheet!=null&&(s.SID=w.Sheet),w.Ref=ar(w.Ptg,null,null,p,s),delete s.SID,delete w.Ptg,f.push(w);break;case 1036:break;case 357:case 358:case 355:case 667:p[0].length?p.push([C,w]):p[0]=[C,w],p[p.length-1].XTI=[];break;case 362:p.length===0&&(p[0]=[],p[0].XTI=[]),p[p.length-1].XTI=p[p.length-1].XTI.concat(w),p.XTI=p.XTI.concat(w);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:l.push(C),c=!0;break;case 36:l.pop(),c=!1;break;case 37:l.push(C),c=!0;break;case 38:l.pop(),c=!1;break;case 16:break;default:if(!P.T){if(!c||s.WTF&&l[l.length-1]!=37&&l[l.length-1]!=35)throw new Error("Unexpected record 0x"+C.toString(16))}}},s),DM(r),r.Names=f,r.supbooks=p,r}function nY(t,s){Xt(t,143);for(var r=0;r!=s.SheetNames.length;++r){var l=s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r]&&s.Workbook.Sheets[r].Hidden||0,c={Hidden:l,iTabID:r+1,strRelID:"rId"+(r+1),name:s.SheetNames[r]};Xt(t,156,Z7(c))}Xt(t,144)}function sY(t,s){s||(s=Pt(127));for(var r=0;r!=4;++r)s.write_shift(4,0);return Hs("SheetJS",s),Hs(Kg.version,s),Hs(Kg.version,s),Hs("7262",s),s.length>s.l?s.slice(0,s.l):s}function rY(t,s){s||(s=Pt(29)),s.write_shift(-4,0),s.write_shift(-4,460),s.write_shift(4,28800),s.write_shift(4,17600),s.write_shift(4,500),s.write_shift(4,t),s.write_shift(4,t);var r=120;return s.write_shift(1,r),s.length>s.l?s.slice(0,s.l):s}function aY(t,s){if(!(!s.Workbook||!s.Workbook.Sheets)){for(var r=s.Workbook.Sheets,l=0,c=-1,f=-1;l<r.length;++l)!r[l]||!r[l].Hidden&&c==-1?c=l:r[l].Hidden==1&&f==-1&&(f=l);f>c||(Xt(t,135),Xt(t,158,rY(c)),Xt(t,136))}}function oY(t,s){var r=jr();return Xt(r,131),Xt(r,128,sY()),Xt(r,153,Q7(t.Workbook&&t.Workbook.WBProps||null)),aY(r,t),nY(r,t),Xt(r,132),r.end()}function lY(t,s,r){return s.slice(-4)===".bin"?iY(t,r):K7(t,r)}function hY(t,s,r,l,c,f,p,x){return s.slice(-4)===".bin"?C7(t,l,r,c,f,p,x):tH(t,l,r,c,f,p,x)}function cY(t,s,r,l,c,f,p,x){return s.slice(-4)===".bin"?z7(t,l,r,c,f):B7(t,l,r,c,f)}function uY(t,s,r,l,c,f,p,x){return s.slice(-4)===".bin"?fX():gX()}function dY(t,s,r,l,c,f,p,x){return s.slice(-4)===".bin"?uX():dX()}function fY(t,s,r,l){return s.slice(-4)===".bin"?lz(t,r,l):q6(t,r,l)}function gY(t,s,r){return cM(t,r)}function mY(t,s,r){return s.slice(-4)===".bin"?m6(t,r):d6(t,r)}function pY(t,s,r){return s.slice(-4)===".bin"?aX(t,r):Zz(t,r)}function vY(t,s,r){return s.slice(-4)===".bin"?$z(t):Gz(t)}function xY(t,s,r,l){return r.slice(-4)===".bin"?Kz(t,s,r,l):void 0}function yY(t,s,r){return s.slice(-4)===".bin"?Yz(t,s,r):Wz(t,s,r)}function bY(t,s,r){return(s.slice(-4)===".bin"?oY:EM)(t)}function wY(t,s,r,l,c){return(s.slice(-4)===".bin"?I7:AM)(t,r,l,c)}function kY(t,s,r){return(s.slice(-4)===".bin"?xz:lM)(t,r)}function SY(t,s,r){return(s.slice(-4)===".bin"?x6:eM)(t,r)}function CY(t,s,r){return(s.slice(-4)===".bin"?oX:fM)(t)}function AY(t){return(t.slice(-4)===".bin"?Uz:uM)()}var _M=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,FM=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function lo(t,s){var r=t.split(/\s+/),l=[];if(s||(l[0]=r[0]),r.length===1)return l;var c=t.match(_M),f,p,x,w;if(c)for(w=0;w!=c.length;++w)f=c[w].match(FM),(p=f[1].indexOf(":"))===-1?l[f[1]]=f[2].slice(1,f[2].length-1):(f[1].slice(0,6)==="xmlns:"?x="xmlns"+f[1].slice(6):x=f[1].slice(p+1),l[x]=f[2].slice(1,f[2].length-1));return l}function TY(t){var s=t.split(/\s+/),r={};if(s.length===1)return r;var l=t.match(_M),c,f,p,x;if(l)for(x=0;x!=l.length;++x)c=l[x].match(FM),(f=c[1].indexOf(":"))===-1?r[c[1]]=c[2].slice(1,c[2].length-1):(c[1].slice(0,6)==="xmlns:"?p="xmlns"+c[1].slice(6):p=c[1].slice(f+1),r[p]=c[2].slice(1,c[2].length-1));return r}var mf;function PY(t,s){var r=mf[t]||an(t);return r==="General"?yc(s):$a(r,s)}function DY(t,s,r,l){var c=l;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":c=Vn(l);break;case"i2":case"int":c=parseInt(l,10);break;case"r4":case"float":c=parseFloat(l);break;case"date":case"dateTime.tz":c=Xn(l);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[an(s)]=c}function MY(t,s,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Fl[t.v]:s==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hf(t.v):t.w=yc(t.v):t.w=PY(s||"General",t.v)}catch(f){if(r.WTF)throw f}try{var l=mf[s]||s||"General";if(r.cellNF&&(t.z=l),r.cellDates&&t.t=="n"&&wd(l)){var c=Qh(t.v);c&&(t.t="d",t.v=new Date(c.y,c.m-1,c.d,c.H,c.M,c.S,c.u))}}catch(f){if(r.WTF)throw f}}}function EY(t,s,r){if(r.cellStyles&&s.Interior){var l=s.Interior;l.Pattern&&(l.patternType=H6[l.Pattern]||l.Pattern)}t[s.ID]=s}function _Y(t,s,r,l,c,f,p,x,w,P){var C="General",F=l.StyleID,L={};P=P||{};var B=[],U=0;for(F===void 0&&x&&(F=x.StyleID),F===void 0&&p&&(F=p.StyleID);f[F]!==void 0&&(f[F].nf&&(C=f[F].nf),f[F].Interior&&B.push(f[F].Interior),!!f[F].Parent);)F=f[F].Parent;switch(r.Type){case"Boolean":l.t="b",l.v=Vn(t);break;case"String":l.t="s",l.r=s2(an(t)),l.v=t.indexOf("<")>-1?an(s||t).replace(/<.*?>/g,""):l.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),l.v=(Xn(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),l.v!==l.v?l.v=an(t):l.v<60&&(l.v=l.v-1),(!C||C=="General")&&(C="yyyy-mm-dd");case"Number":l.v===void 0&&(l.v=+t),l.t||(l.t="n");break;case"Error":l.t="e",l.v=TD[t],P.cellText!==!1&&(l.w=t);break;default:t==""&&s==""?l.t="z":(l.t="s",l.v=s2(s||t));break}if(MY(l,C,P),P.cellFormula!==!1)if(l.Formula){var Y=an(l.Formula);Y.charCodeAt(0)==61&&(Y=Y.slice(1)),l.f=Iu(Y,c),delete l.Formula,l.ArrayRange=="RC"?l.F=Iu("RC:RC",c):l.ArrayRange&&(l.F=Iu(l.ArrayRange,c),w.push([hn(l.F),l.F]))}else for(U=0;U<w.length;++U)c.r>=w[U][0].s.r&&c.r<=w[U][0].e.r&&c.c>=w[U][0].s.c&&c.c<=w[U][0].e.c&&(l.F=w[U][1]);P.cellStyles&&(B.forEach(function(Q){!L.patternType&&Q.patternType&&(L.patternType=Q.patternType)}),l.s=L),l.StyleID!==void 0&&(l.ixfe=l.StyleID)}function FY(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function wv(t,s){var r=s||{};kd();var l=Wd(zy(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(l=_n(l));var c=l.slice(0,1024).toLowerCase(),f=!1;if(c=c.replace(/".*?"/g,""),(c.indexOf(">")&1023)>Math.min(c.indexOf(",")&1023,c.indexOf(";")&1023)){var p=Hn(r);return p.type="string",td.to_workbook(l,p)}if(c.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ht){c.indexOf("<"+Ht)>=0&&(f=!0)}),f)return vU(l,r);mf={"General Number":"General","General Date":Mi[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Mi[15],"Short Date":Mi[14],"Long Time":Mi[19],"Medium Time":Mi[18],"Short Time":Mi[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Mi[2],Standard:Mi[4],Percent:Mi[10],Scientific:Mi[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var x,w=[],P,C={},F=[],L=r.dense?[]:{},B="",U={},Y={},Q=lo('<Data ss:Type="String">'),N=0,X=0,W=0,he={s:{r:2e6,c:2e6},e:{r:0,c:0}},K={},le={},G="",oe=0,fe=[],pe={},Te={},De=0,Me=[],He=[],je={},tt=[],Ze,ft=!1,Je=[],dt=[],at={},Ie=0,qe=0,Ue={Sheets:[],WBProps:{date1904:!1}},Ae={};Wf.lastIndex=0,l=l.replace(/<!--([\s\S]*?)-->/mg,"");for(var Ye="";x=Wf.exec(l);)switch(x[3]=(Ye=x[3]).toLowerCase()){case"data":if(Ye=="data"){if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&w.push([x[3],!0]);break}if(w[w.length-1][1])break;x[1]==="/"?_Y(l.slice(N,x.index),G,Q,w[w.length-1][0]=="comment"?je:U,{c:X,r:W},K,tt[X],Y,Je,r):(G="",Q=lo(x[0]),N=x.index+x[0].length);break;case"cell":if(x[1]==="/")if(He.length>0&&(U.c=He),(!r.sheetRows||r.sheetRows>W)&&U.v!==void 0&&(r.dense?(L[W]||(L[W]=[]),L[W][X]=U):L[ts(X)+bs(W)]=U),U.HRef&&(U.l={Target:an(U.HRef)},U.HRefScreenTip&&(U.l.Tooltip=U.HRefScreenTip),delete U.HRef,delete U.HRefScreenTip),(U.MergeAcross||U.MergeDown)&&(Ie=X+(parseInt(U.MergeAcross,10)|0),qe=W+(parseInt(U.MergeDown,10)|0),fe.push({s:{c:X,r:W},e:{c:Ie,r:qe}})),!r.sheetStubs)U.MergeAcross?X=Ie+1:++X;else if(U.MergeAcross||U.MergeDown){for(var st=X;st<=Ie;++st)for(var ht=W;ht<=qe;++ht)(st>X||ht>W)&&(r.dense?(L[ht]||(L[ht]=[]),L[ht][st]={t:"z"}):L[ts(st)+bs(ht)]={t:"z"});X=Ie+1}else++X;else U=TY(x[0]),U.Index&&(X=+U.Index-1),X<he.s.c&&(he.s.c=X),X>he.e.c&&(he.e.c=X),x[0].slice(-2)==="/>"&&++X,He=[];break;case"row":x[1]==="/"||x[0].slice(-2)==="/>"?(W<he.s.r&&(he.s.r=W),W>he.e.r&&(he.e.r=W),x[0].slice(-2)==="/>"&&(Y=lo(x[0]),Y.Index&&(W=+Y.Index-1)),X=0,++W):(Y=lo(x[0]),Y.Index&&(W=+Y.Index-1),at={},(Y.AutoFitHeight=="0"||Y.Height)&&(at.hpx=parseInt(Y.Height,10),at.hpt=qf(at.hpx),dt[W]=at),Y.Hidden=="1"&&(at.hidden=!0,dt[W]=at));break;case"worksheet":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"));F.push(B),he.s.r<=he.e.r&&he.s.c<=he.e.c&&(L["!ref"]=Ui(he),r.sheetRows&&r.sheetRows<=he.e.r&&(L["!fullref"]=L["!ref"],he.e.r=r.sheetRows-1,L["!ref"]=Ui(he))),fe.length&&(L["!merges"]=fe),tt.length>0&&(L["!cols"]=tt),dt.length>0&&(L["!rows"]=dt),C[B]=L}else he={s:{r:2e6,c:2e6},e:{r:0,c:0}},W=X=0,w.push([x[3],!1]),P=lo(x[0]),B=an(P.Name),L=r.dense?[]:{},fe=[],Je=[],dt=[],Ae={name:B,Hidden:0},Ue.Sheets.push(Ae);break;case"table":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"))}else{if(x[0].slice(-2)=="/>")break;w.push([x[3],!1]),tt=[],ft=!1}break;case"style":x[1]==="/"?EY(K,le,r):le=lo(x[0]);break;case"numberformat":le.nf=an(lo(x[0]).Format||"General"),mf[le.nf]&&(le.nf=mf[le.nf]);for(var vt=0;vt!=392&&Mi[vt]!=le.nf;++vt);if(vt==392){for(vt=57;vt!=392;++vt)if(Mi[vt]==null){fl(le.nf,vt);break}}break;case"column":if(w[w.length-1][0]!=="table")break;if(Ze=lo(x[0]),Ze.Hidden&&(Ze.hidden=!0,delete Ze.Hidden),Ze.Width&&(Ze.wpx=parseInt(Ze.Width,10)),!ft&&Ze.wpx>10){ft=!0,or=aM;for(var kt=0;kt<tt.length;++kt)tt[kt]&&wh(tt[kt])}ft&&wh(Ze),tt[Ze.Index-1||tt.length]=Ze;for(var Kt=0;Kt<+Ze.Span;++Kt)tt[tt.length]=Hn(Ze);break;case"namedrange":if(x[1]==="/")break;Ue.Names||(Ue.Names=[]);var ve=Ii(x[0]),et={Name:ve.Name,Ref:Iu(ve.RefersTo.slice(1),{r:0,c:0})};Ue.Sheets.length>0&&(et.Sheet=Ue.Sheets.length-1),Ue.Names.push(et);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(x[0].slice(-2)==="/>")break;x[1]==="/"?G+=l.slice(oe,x.index):oe=x.index+x[0].length;break;case"interior":if(!r.cellStyles)break;le.Interior=lo(x[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(x[0].slice(-2)==="/>")break;x[1]==="/"?i8(pe,Ye,l.slice(De,x.index)):De=x.index+x[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"))}else w.push([x[3],!1]);break;case"comment":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"));FY(je),He.push(je)}else w.push([x[3],!1]),P=lo(x[0]),je={a:P.Author};break;case"autofilter":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"))}else if(x[0].charAt(x[0].length-2)!=="/"){var ut=lo(x[0]);L["!autofilter"]={ref:Iu(ut.Range).replace(/\$/g,"")},w.push([x[3],!0])}break;case"name":break;case"datavalidation":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&w.push([x[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(x[1]==="/"){if((P=w.pop())[0]!==x[3])throw new Error("Bad state: "+P.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&w.push([x[3],!0]);break;case"null":break;default:if(w.length==0&&x[3]=="document"||w.length==0&&x[3]=="uof")return G2(l,r);var xt=!0;switch(w[w.length-1][0]){case"officedocumentsettings":switch(x[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xt=!1}break;case"componentoptions":switch(x[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xt=!1}break;case"excelworkbook":switch(x[3]){case"date1904":Ue.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xt=!1}break;case"workbookoptions":switch(x[3]){case"owcversion":break;case"height":break;case"width":break;default:xt=!1}break;case"worksheetoptions":switch(x[3]){case"visible":if(x[0].slice(-2)!=="/>")if(x[1]==="/")switch(l.slice(De,x.index)){case"SheetHidden":Ae.Hidden=1;break;case"SheetVeryHidden":Ae.Hidden=2;break}else De=x.index+x[0].length;break;case"header":L["!margins"]||fc(L["!margins"]={},"xlml"),isNaN(+Ii(x[0]).Margin)||(L["!margins"].header=+Ii(x[0]).Margin);break;case"footer":L["!margins"]||fc(L["!margins"]={},"xlml"),isNaN(+Ii(x[0]).Margin)||(L["!margins"].footer=+Ii(x[0]).Margin);break;case"pagemargins":var wt=Ii(x[0]);L["!margins"]||fc(L["!margins"]={},"xlml"),isNaN(+wt.Top)||(L["!margins"].top=+wt.Top),isNaN(+wt.Left)||(L["!margins"].left=+wt.Left),isNaN(+wt.Right)||(L["!margins"].right=+wt.Right),isNaN(+wt.Bottom)||(L["!margins"].bottom=+wt.Bottom);break;case"displayrighttoleft":Ue.Views||(Ue.Views=[]),Ue.Views[0]||(Ue.Views[0]={}),Ue.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":L["!outline"]||(L["!outline"]={}),L["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":L["!outline"]||(L["!outline"]={}),L["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xt=!1}break;case"pivottable":case"pivotcache":switch(x[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xt=!1}break;case"pagebreaks":switch(x[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xt=!1}break;case"autofilter":switch(x[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xt=!1}break;case"querytable":switch(x[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xt=!1}break;case"datavalidation":switch(x[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xt=!1}break;case"sorting":case"conditionalformatting":switch(x[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xt=!1}break;case"mapinfo":case"schema":case"data":switch(x[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xt=!1}break;case"smarttags":break;default:xt=!1;break}if(xt||x[3].match(/!\[CDATA/))break;if(!w[w.length-1][1])throw"Unrecognized tag: "+x[3]+"|"+w.join("|");if(w[w.length-1][0]==="customdocumentproperties"){if(x[0].slice(-2)==="/>")break;x[1]==="/"?DY(Te,Ye,Me,l.slice(De,x.index)):(Me=x,De=x.index+x[0].length);break}if(r.WTF)throw"Unrecognized tag: "+x[3]+"|"+w.join("|")}var gt={};return!r.bookSheets&&!r.bookProps&&(gt.Sheets=C),gt.SheetNames=F,gt.Workbook=Ue,gt.SSF=Hn(Mi),gt.Props=pe,gt.Custprops=Te,gt}function Ux(t,s){switch(cb(s=s||{}),s.type||"base64"){case"base64":return wv(ya(t),s);case"binary":case"buffer":case"file":return wv(t,s);case"array":return wv(Eh(t),s)}}function NY(t,s){var r=[];return t.Props&&r.push(n8(t.Props,s)),t.Custprops&&r.push(s8(t.Props,t.Custprops)),r.join("")}function LY(){return""}function IY(t,s){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return s.cellXfs.forEach(function(l,c){var f=[];f.push(ni("NumberFormat",null,{"ss:Format":An(Mi[l.numFmtId])}));var p={"ss:ID":"s"+(21+c)};r.push(ni("Style",f.join(""),p))}),ni("Styles",r.join(""))}function NM(t){return ni("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+sb(t.Ref,{r:0,c:0})})}function OY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var s=t.Workbook.Names,r=[],l=0;l<s.length;++l){var c=s[l];c.Sheet==null&&(c.Name.match(/^_xlfn\./)||r.push(NM(c)))}return ni("Names",r.join(""))}function RY(t,s,r,l){if(!t||!((l||{}).Workbook||{}).Names)return"";for(var c=l.Workbook.Names,f=[],p=0;p<c.length;++p){var x=c[p];x.Sheet==r&&(x.Name.match(/^_xlfn\./)||f.push(NM(x)))}return f.join("")}function BY(t,s,r,l){if(!t)return"";var c=[];if(t["!margins"]&&(c.push("<PageSetup>"),t["!margins"].header&&c.push(ni("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&c.push(ni("Footer",null,{"x:Margin":t["!margins"].footer})),c.push(ni("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),c.push("</PageSetup>")),l&&l.Workbook&&l.Workbook.Sheets&&l.Workbook.Sheets[r])if(l.Workbook.Sheets[r].Hidden)c.push(ni("Visible",l.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var f=0;f<r&&!(l.Workbook.Sheets[f]&&!l.Workbook.Sheets[f].Hidden);++f);f==r&&c.push("<Selected/>")}return((((l||{}).Workbook||{}).Views||[])[0]||{}).RTL&&c.push("<DisplayRightToLeft/>"),t["!protect"]&&(c.push(Zs("ProtectContents","True")),t["!protect"].objects&&c.push(Zs("ProtectObjects","True")),t["!protect"].scenarios&&c.push(Zs("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?c.push(Zs("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&c.push(Zs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(p){t["!protect"][p[0]]&&c.push("<"+p[1]+"/>")})),c.length==0?"":ni("WorksheetOptions",c.join(""),{xmlns:oa.x})}function VY(t){return t.map(function(s){var r=a5(s.t||""),l=ni("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ni("Comment",l,{"ss:Author":s.a})}).join("")}function zY(t,s,r,l,c,f,p){if(!t||t.v==null&&t.f==null)return"";var x={};if(t.f&&(x["ss:Formula"]="="+An(sb(t.f,p))),t.F&&t.F.slice(0,s.length)==s){var w=is(t.F.slice(s.length+1));x["ss:ArrayRange"]="RC:R"+(w.r==p.r?"":"["+(w.r-p.r)+"]")+"C"+(w.c==p.c?"":"["+(w.c-p.c)+"]")}if(t.l&&t.l.Target&&(x["ss:HRef"]=An(t.l.Target),t.l.Tooltip&&(x["x:HRefScreenTip"]=An(t.l.Tooltip))),r["!merges"])for(var P=r["!merges"],C=0;C!=P.length;++C)P[C].s.c!=p.c||P[C].s.r!=p.r||(P[C].e.c>P[C].s.c&&(x["ss:MergeAcross"]=P[C].e.c-P[C].s.c),P[C].e.r>P[C].s.r&&(x["ss:MergeDown"]=P[C].e.r-P[C].s.r));var F="",L="";switch(t.t){case"z":if(!l.sheetStubs)return"";break;case"n":F="Number",L=String(t.v);break;case"b":F="Boolean",L=t.v?"1":"0";break;case"e":F="Error",L=Fl[t.v];break;case"d":F="DateTime",L=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Mi[14]);break;case"s":F="String",L=r5(t.v||"");break}var B=Fh(l.cellXfs,t,l);x["ss:StyleID"]="s"+(21+B),x["ss:Index"]=p.c+1;var U=t.v!=null?L:"",Y=t.t=="z"?"":'<Data ss:Type="'+F+'">'+U+"</Data>";return(t.c||[]).length>0&&(Y+=VY(t.c)),ni("Cell",Y,x)}function XY(t,s){var r='<Row ss:Index="'+(t+1)+'"';return s&&(s.hpt&&!s.hpx&&(s.hpx=id(s.hpt)),s.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+s.hpx+'"'),s.hidden&&(r+=' ss:Hidden="1"')),r+">"}function HY(t,s,r,l){if(!t["!ref"])return"";var c=hn(t["!ref"]),f=t["!merges"]||[],p=0,x=[];t["!cols"]&&t["!cols"].forEach(function(Q,N){wh(Q);var X=!!Q.width,W=ep(N,Q),he={"ss:Index":N+1};X&&(he["ss:Width"]=$f(W.width)),Q.hidden&&(he["ss:Hidden"]="1"),x.push(ni("Column",null,he))});for(var w=Array.isArray(t),P=c.s.r;P<=c.e.r;++P){for(var C=[XY(P,(t["!rows"]||[])[P])],F=c.s.c;F<=c.e.c;++F){var L=!1;for(p=0;p!=f.length;++p)if(!(f[p].s.c>F)&&!(f[p].s.r>P)&&!(f[p].e.c<F)&&!(f[p].e.r<P)){(f[p].s.c!=F||f[p].s.r!=P)&&(L=!0);break}if(!L){var B={r:P,c:F},U=Fi(B),Y=w?(t[P]||[])[F]:t[U];C.push(zY(Y,U,t,s,r,l,B))}}C.push("</Row>"),C.length>2&&x.push(C.join(""))}return x.join("")}function YY(t,s,r){var l=[],c=r.SheetNames[t],f=r.Sheets[c],p=f?RY(f,s,t,r):"";return p.length>0&&l.push("<Names>"+p+"</Names>"),p=f?HY(f,s,t,r):"",p.length>0&&l.push("<Table>"+p+"</Table>"),l.push(BY(f,s,t,r)),l.join("")}function UY(t,s){s||(s={}),t.SSF||(t.SSF=Hn(Mi)),t.SSF&&(kd(),jm(t.SSF),s.revssf=Km(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF,s.cellXfs=[],Fh(s.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(NY(t,s)),r.push(LY()),r.push(""),r.push("");for(var l=0;l<t.SheetNames.length;++l)r.push(ni("Worksheet",YY(l,s,t),{"ss:Name":An(t.SheetNames[l])}));return r[2]=IY(t,s),r[3]=OY(t),Cs+ni("Workbook",r.join(""),{xmlns:oa.ss,"xmlns:o":oa.o,"xmlns:x":oa.x,"xmlns:ss":oa.ss,"xmlns:dt":oa.dt,"xmlns:html":oa.html})}function WY(t){var s={},r=t.content;if(r.l=28,s.AnsiUserType=r.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=O5(r),r.length-r.l<=4)return s;var l=r.read_shift(4);if(l==0||l>40||(r.l-=4,s.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(l=r.read_shift(4),l!==1907505652)||(s.UnicodeClipboardFormat=R5(r),l=r.read_shift(4),l==0||l>40))return s;r.l-=4,s.Reserved2=r.read_shift(0,"lpwstr")}var GY=[60,1084,2066,2165,2175];function jY(t,s,r,l,c){var f=l,p=[],x=r.slice(r.l,r.l+f);if(c&&c.enc&&c.enc.insitu&&x.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:c.enc.insitu(x)}p.push(x),r.l+=f;for(var w=hl(r,r.l),P=Wx[w],C=0;P!=null&&GY.indexOf(w)>-1;)f=hl(r,r.l+2),C=r.l+4,w==2066?C+=4:(w==2165||w==2175)&&(C+=12),x=r.slice(C,r.l+4+f),p.push(x),r.l+=4+f,P=Wx[w=hl(r,r.l)];var F=Xs(p);Ks(F,0);var L=0;F.lens=[];for(var B=0;B<p.length;++B)F.lens.push(L),L+=p[B].length;if(F.length<l)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+F.length+" < "+l;return s.f(F,F.length,c)}function Eo(t,s,r){if(t.t!=="z"&&t.XF){var l=0;try{l=t.z||t.XF.numFmtId||0,s.cellNF&&(t.z=Mi[l])}catch(f){if(s.WTF)throw f}if(!s||s.cellText!==!1)try{t.t==="e"?t.w=t.w||Fl[t.v]:l===0||l=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hf(t.v):t.w=yc(t.v):t.w=$a(l,t.v,{date1904:!!r,dateNF:s&&s.dateNF})}catch(f){if(s.WTF)throw f}if(s.cellDates&&l&&t.t=="n"&&wd(Mi[l]||String(l))){var c=Qh(t.v);c&&(t.t="d",t.v=new Date(c.y,c.m-1,c.d,c.H,c.M,c.S,c.u))}}}function rg(t,s,r){return{v:t,ixfe:s,t:r}}function $Y(t,s){var r={opts:{}},l={},c=s.dense?[]:{},f={},p={},x=null,w=[],P="",C={},F,L="",B,U,Y,Q,N={},X=[],W,he,K=[],le=[],G={Sheets:[],WBProps:{date1904:!1},Views:[{}]},oe={},fe=function(wi){return wi<8?cc[wi]:wi<64&&le[wi-8]||cc[wi]},pe=function(wi,Ri,ms){var fn=Ri.XF.data;if(!(!fn||!fn.patternType||!ms||!ms.cellStyles)){Ri.s={},Ri.s.patternType=fn.patternType;var kr;(kr=jf(fe(fn.icvFore)))&&(Ri.s.fgColor={rgb:kr}),(kr=jf(fe(fn.icvBack)))&&(Ri.s.bgColor={rgb:kr})}},Te=function(wi,Ri,ms){if(!(at>1)&&!(ms.sheetRows&&wi.r>=ms.sheetRows)){if(ms.cellStyles&&Ri.XF&&Ri.XF.data&&pe(wi,Ri,ms),delete Ri.ixfe,delete Ri.XF,F=wi,L=Fi(wi),(!p||!p.s||!p.e)&&(p={s:{r:0,c:0},e:{r:0,c:0}}),wi.r<p.s.r&&(p.s.r=wi.r),wi.c<p.s.c&&(p.s.c=wi.c),wi.r+1>p.e.r&&(p.e.r=wi.r+1),wi.c+1>p.e.c&&(p.e.c=wi.c+1),ms.cellFormula&&Ri.f){for(var fn=0;fn<X.length;++fn)if(!(X[fn][0].s.c>wi.c||X[fn][0].s.r>wi.r)&&!(X[fn][0].e.c<wi.c||X[fn][0].e.r<wi.r)){Ri.F=Ui(X[fn][0]),(X[fn][0].s.c!=wi.c||X[fn][0].s.r!=wi.r)&&delete Ri.f,Ri.f&&(Ri.f=""+ar(X[fn][1],p,wi,Je,De));break}}ms.dense?(c[wi.r]||(c[wi.r]=[]),c[wi.r][wi.c]=Ri):c[L]=Ri}},De={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:X,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(De.password=s.password);var Me,He=[],je=[],tt=[],Ze=[],ft=!1,Je=[];Je.SheetNames=De.snames,Je.sharedf=De.sharedf,Je.arrayf=De.arrayf,Je.names=[],Je.XTI=[];var dt=0,at=0,Ie=0,qe=[],Ue=[],Ae;De.codepage=1200,fo(1200);for(var Ye=!1;t.l<t.length-1;){var st=t.l,ht=t.read_shift(2);if(ht===0&&dt===10)break;var vt=t.l===t.length?0:t.read_shift(2),kt=Wx[ht];if(kt&&kt.f){if(s.bookSheets&&dt===133&&ht!==133)break;if(dt=ht,kt.r===2||kt.r==12){var Kt=t.read_shift(2);if(vt-=2,!De.enc&&Kt!==ht&&((Kt&255)<<8|Kt>>8)!==ht)throw new Error("rt mismatch: "+Kt+"!="+ht);kt.r==12&&(t.l+=10,vt-=10)}var ve={};if(ht===10?ve=kt.f(t,vt,De):ve=jY(ht,kt,t,vt,De),at==0&&[9,521,1033,2057].indexOf(dt)===-1)continue;switch(ht){case 34:r.opts.Date1904=G.WBProps.date1904=ve;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(De.enc||(t.l=0),De.enc=ve,!s.password)throw new Error("File is password-protected");if(ve.valid==null)throw new Error("Encryption scheme unsupported");if(!ve.valid)throw new Error("Password is incorrect");break;case 92:De.lastuser=ve;break;case 66:var et=Number(ve);switch(et){case 21010:et=1200;break;case 32768:et=1e4;break;case 32769:et=1252;break}fo(De.codepage=et),Ye=!0;break;case 317:De.rrtabid=ve;break;case 25:De.winlocked=ve;break;case 439:r.opts.RefreshAll=ve;break;case 12:r.opts.CalcCount=ve;break;case 16:r.opts.CalcDelta=ve;break;case 17:r.opts.CalcIter=ve;break;case 13:r.opts.CalcMode=ve;break;case 14:r.opts.CalcPrecision=ve;break;case 95:r.opts.CalcSaveRecalc=ve;break;case 15:De.CalcRefMode=ve;break;case 2211:r.opts.FullCalc=ve;break;case 129:ve.fDialog&&(c["!type"]="dialog"),ve.fBelow||((c["!outline"]||(c["!outline"]={})).above=!0),ve.fRight||((c["!outline"]||(c["!outline"]={})).left=!0);break;case 224:K.push(ve);break;case 430:Je.push([ve]),Je[Je.length-1].XTI=[];break;case 35:case 547:Je[Je.length-1].push(ve);break;case 24:case 536:Ae={Name:ve.Name,Ref:ar(ve.rgce,p,null,Je,De)},ve.itab>0&&(Ae.Sheet=ve.itab-1),Je.names.push(Ae),Je[0]||(Je[0]=[],Je[0].XTI=[]),Je[Je.length-1].push(ve),ve.Name=="_xlnm._FilterDatabase"&&ve.itab>0&&ve.rgce&&ve.rgce[0]&&ve.rgce[0][0]&&ve.rgce[0][0][0]=="PtgArea3d"&&(Ue[ve.itab-1]={ref:Ui(ve.rgce[0][0][1][2])});break;case 22:De.ExternCount=ve;break;case 23:Je.length==0&&(Je[0]=[],Je[0].XTI=[]),Je[Je.length-1].XTI=Je[Je.length-1].XTI.concat(ve),Je.XTI=Je.XTI.concat(ve);break;case 2196:if(De.biff<8)break;Ae!=null&&(Ae.Comment=ve[1]);break;case 18:c["!protect"]=ve;break;case 19:ve!==0&&De.WTF&&console.error("Password verifier: "+ve);break;case 133:f[ve.pos]=ve,De.snames.push(ve.name);break;case 10:{if(--at)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,c["!ref"]=Ui(p),s.sheetRows&&s.sheetRows<=p.e.r){var ut=p.e.r;p.e.r=s.sheetRows-1,c["!fullref"]=c["!ref"],c["!ref"]=Ui(p),p.e.r=ut}p.e.r++,p.e.c++}He.length>0&&(c["!merges"]=He),je.length>0&&(c["!objects"]=je),tt.length>0&&(c["!cols"]=tt),Ze.length>0&&(c["!rows"]=Ze),G.Sheets.push(oe)}P===""?C=c:l[P]=c,c=s.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(De.biff===8&&(De.biff={9:2,521:3,1033:4}[ht]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ve.BIFFVer]||8),De.biffguess=ve.BIFFVer==0,ve.BIFFVer==0&&ve.dt==4096&&(De.biff=5,Ye=!0,fo(De.codepage=28591)),De.biff==8&&ve.BIFFVer==0&&ve.dt==16&&(De.biff=2),at++)break;if(c=s.dense?[]:{},De.biff<8&&!Ye&&(Ye=!0,fo(De.codepage=s.codepage||1252)),De.biff<5||ve.BIFFVer==0&&ve.dt==4096){P===""&&(P="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var xt={pos:t.l-vt,name:P};f[xt.pos]=xt,De.snames.push(P)}else P=(f[st]||{name:""}).name;ve.dt==32&&(c["!type"]="chart"),ve.dt==64&&(c["!type"]="macro"),He=[],je=[],De.arrayf=X=[],tt=[],Ze=[],ft=!1,oe={Hidden:(f[st]||{hs:0}).hs,name:P}}break;case 515:case 3:case 2:c["!type"]=="chart"&&(s.dense?(c[ve.r]||[])[ve.c]:c[Fi({c:ve.c,r:ve.r})])&&++ve.c,W={ixfe:ve.ixfe,XF:K[ve.ixfe]||{},v:ve.val,t:"n"},Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:ve.c,r:ve.r},W,s);break;case 5:case 517:W={ixfe:ve.ixfe,XF:K[ve.ixfe],v:ve.val,t:ve.t},Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:ve.c,r:ve.r},W,s);break;case 638:W={ixfe:ve.ixfe,XF:K[ve.ixfe],v:ve.rknum,t:"n"},Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:ve.c,r:ve.r},W,s);break;case 189:for(var wt=ve.c;wt<=ve.C;++wt){var gt=ve.rkrec[wt-ve.c][0];W={ixfe:gt,XF:K[gt],v:ve.rkrec[wt-ve.c][1],t:"n"},Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:wt,r:ve.r},W,s)}break;case 6:case 518:case 1030:{if(ve.val=="String"){x=ve;break}if(W=rg(ve.val,ve.cell.ixfe,ve.tt),W.XF=K[W.ixfe],s.cellFormula){var Ht=ve.formula;if(Ht&&Ht[0]&&Ht[0][0]&&Ht[0][0][0]=="PtgExp"){var _t=Ht[0][0][1][0],Wt=Ht[0][0][1][1],Rt=Fi({r:_t,c:Wt});N[Rt]?W.f=""+ar(ve.formula,p,ve.cell,Je,De):W.F=((s.dense?(c[_t]||[])[Wt]:c[Rt])||{}).F}else W.f=""+ar(ve.formula,p,ve.cell,Je,De)}Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te(ve.cell,W,s),x=ve}break;case 7:case 519:if(x)x.val=ve,W=rg(ve,x.cell.ixfe,"s"),W.XF=K[W.ixfe],s.cellFormula&&(W.f=""+ar(x.formula,p,x.cell,Je,De)),Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te(x.cell,W,s),x=null;else throw new Error("String record expects Formula");break;case 33:case 545:{X.push(ve);var vi=Fi(ve[0].s);if(B=s.dense?(c[ve[0].s.r]||[])[ve[0].s.c]:c[vi],s.cellFormula&&B){if(!x||!vi||!B)break;B.f=""+ar(ve[1],p,ve[0],Je,De),B.F=Ui(ve[0])}}break;case 1212:{if(!s.cellFormula)break;if(L){if(!x)break;N[Fi(x.cell)]=ve[0],B=s.dense?(c[x.cell.r]||[])[x.cell.c]:c[Fi(x.cell)],(B||{}).f=""+ar(ve[0],p,F,Je,De)}}break;case 253:W=rg(w[ve.isst].t,ve.ixfe,"s"),w[ve.isst].h&&(W.h=w[ve.isst].h),W.XF=K[W.ixfe],Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:ve.c,r:ve.r},W,s);break;case 513:s.sheetStubs&&(W={ixfe:ve.ixfe,XF:K[ve.ixfe],t:"z"},Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:ve.c,r:ve.r},W,s));break;case 190:if(s.sheetStubs)for(var di=ve.c;di<=ve.C;++di){var ei=ve.ixfe[di-ve.c];W={ixfe:ei,XF:K[ei],t:"z"},Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:di,r:ve.r},W,s)}break;case 214:case 516:case 4:W=rg(ve.val,ve.ixfe,"s"),W.XF=K[W.ixfe],Ie>0&&(W.z=qe[W.ixfe>>8&63]),Eo(W,s,r.opts.Date1904),Te({c:ve.c,r:ve.r},W,s);break;case 0:case 512:at===1&&(p=ve);break;case 252:w=ve;break;case 1054:if(De.biff==4){qe[Ie++]=ve[1];for(var Si=0;Si<Ie+163&&Mi[Si]!=ve[1];++Si);Si>=163&&fl(ve[1],Ie+163)}else fl(ve[1],ve[0]);break;case 30:{qe[Ie++]=ve;for(var mi=0;mi<Ie+163&&Mi[mi]!=ve;++mi);mi>=163&&fl(ve,Ie+163)}break;case 229:He=He.concat(ve);break;case 93:je[ve.cmo[0]]=De.lastobj=ve;break;case 438:De.lastobj.TxO=ve;break;case 127:De.lastobj.ImData=ve;break;case 440:for(Q=ve[0].s.r;Q<=ve[0].e.r;++Q)for(Y=ve[0].s.c;Y<=ve[0].e.c;++Y)B=s.dense?(c[Q]||[])[Y]:c[Fi({c:Y,r:Q})],B&&(B.l=ve[1]);break;case 2048:for(Q=ve[0].s.r;Q<=ve[0].e.r;++Q)for(Y=ve[0].s.c;Y<=ve[0].e.c;++Y)B=s.dense?(c[Q]||[])[Y]:c[Fi({c:Y,r:Q})],B&&B.l&&(B.l.Tooltip=ve[1]);break;case 28:{if(De.biff<=5&&De.biff>=2)break;B=s.dense?(c[ve[0].r]||[])[ve[0].c]:c[Fi(ve[0])];var Oi=je[ve[2]];B||(s.dense?(c[ve[0].r]||(c[ve[0].r]=[]),B=c[ve[0].r][ve[0].c]={t:"z"}):B=c[Fi(ve[0])]={t:"z"},p.e.r=Math.max(p.e.r,ve[0].r),p.s.r=Math.min(p.s.r,ve[0].r),p.e.c=Math.max(p.e.c,ve[0].c),p.s.c=Math.min(p.s.c,ve[0].c)),B.c||(B.c=[]),U={a:ve[1],t:Oi.TxO.t},B.c.push(U)}break;case 2173:Iz(K[ve.ixfe],ve.ext);break;case 125:{if(!De.cellStyles)break;for(;ve.e>=ve.s;)tt[ve.e--]={width:ve.w/256,level:ve.level||0,hidden:!!(ve.flags&1)},ft||(ft=!0,tb(ve.w/256)),wh(tt[ve.e+1])}break;case 520:{var _i={};ve.level!=null&&(Ze[ve.r]=_i,_i.level=ve.level),ve.hidden&&(Ze[ve.r]=_i,_i.hidden=!0),ve.hpt&&(Ze[ve.r]=_i,_i.hpt=ve.hpt,_i.hpx=id(ve.hpt))}break;case 38:case 39:case 40:case 41:c["!margins"]||fc(c["!margins"]={}),c["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ht]]=ve;break;case 161:c["!margins"]||fc(c["!margins"]={}),c["!margins"].header=ve.header,c["!margins"].footer=ve.footer;break;case 574:ve.RTL&&(G.Views[0].RTL=!0);break;case 146:le=ve;break;case 2198:Me=ve;break;case 140:he=ve;break;case 442:P?oe.CodeName=ve||oe.name:G.WBProps.CodeName=ve||"ThisWorkbook";break}}else kt||console.error("Missing Info for XLS Record 0x"+ht.toString(16)),t.l+=vt}return r.SheetNames=fs(f).sort(function(Ji,wi){return Number(Ji)-Number(wi)}).map(function(Ji){return f[Ji].name}),s.bookSheets||(r.Sheets=l),!r.SheetNames.length&&C["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=C)):r.Preamble=C,r.Sheets&&Ue.forEach(function(Ji,wi){r.Sheets[r.SheetNames[wi]]["!autofilter"]=Ji}),r.Strings=w,r.SSF=Hn(Mi),De.enc&&(r.Encryption=De.enc),Me&&(r.Themes=Me),r.Metadata={},he!==void 0&&(r.Metadata.Country=he),Je.names.length>0&&(G.Names=Je.names),r.Workbook=G,r}var pf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function KY(t,s,r){var l=Ti.find(t,"/!DocumentSummaryInformation");if(l&&l.size>0)try{var c=k2(l,Bx,pf.DSI);for(var f in c)s[f]=c[f]}catch(P){if(r.WTF)throw P}var p=Ti.find(t,"/!SummaryInformation");if(p&&p.size>0)try{var x=k2(p,Vx,pf.SI);for(var w in x)s[w]==null&&(s[w]=x[w])}catch(P){if(r.WTF)throw P}s.HeadingPairs&&s.TitlesOfParts&&(FD(s.HeadingPairs,s.TitlesOfParts,s,r),delete s.HeadingPairs,delete s.TitlesOfParts)}function qY(t,s){var r=[],l=[],c=[],f=0,p,x=Jk(Bx,"n"),w=Jk(Vx,"n");if(t.Props)for(p=fs(t.Props),f=0;f<p.length;++f)(Object.prototype.hasOwnProperty.call(x,p[f])?r:Object.prototype.hasOwnProperty.call(w,p[f])?l:c).push([p[f],t.Props[p[f]]]);if(t.Custprops)for(p=fs(t.Custprops),f=0;f<p.length;++f)Object.prototype.hasOwnProperty.call(t.Props||{},p[f])||(Object.prototype.hasOwnProperty.call(x,p[f])?r:Object.prototype.hasOwnProperty.call(w,p[f])?l:c).push([p[f],t.Custprops[p[f]]]);var P=[];for(f=0;f<c.length;++f)VD.indexOf(c[f][0])>-1||_D.indexOf(c[f][0])>-1||c[f][1]!=null&&P.push(c[f]);l.length&&Ti.utils.cfb_add(s,"/SummaryInformation",S2(l,pf.SI,w,Vx)),(r.length||P.length)&&Ti.utils.cfb_add(s,"/DocumentSummaryInformation",S2(r,pf.DSI,x,Bx,P.length?P:null,pf.UDI))}function LM(t,s){s||(s={}),cb(s),_y(),s.codepage&&Ey(s.codepage);var r,l;if(t.FullPaths){if(Ti.find(t,"/encryption"))throw new Error("File is password-protected");r=Ti.find(t,"!CompObj"),l=Ti.find(t,"/Workbook")||Ti.find(t,"/Book")}else{switch(s.type){case"base64":t=da(ya(t));break;case"binary":t=da(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ks(t,0),l={content:t}}var c,f;if(r&&WY(r),s.bookProps&&!s.bookSheets)c={};else{var p=$i?"buffer":"array";if(l&&l.content)c=$Y(l.content,s);else if((f=Ti.find(t,"PerfectOffice_MAIN"))&&f.content)c=dc.to_workbook(f.content,(s.type=p,s));else if((f=Ti.find(t,"NativeContent_MAIN"))&&f.content)c=dc.to_workbook(f.content,(s.type=p,s));else throw(f=Ti.find(t,"MN0"))&&f.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s.bookVBA&&t.FullPaths&&Ti.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(c.vbaraw=hX(t))}var x={};return t.FullPaths&&KY(t,x,s),c.Props=c.Custprops=x,s.bookFiles&&(c.cfb=t),c}function ZY(t,s){var r=s||{},l=Ti.utils.cfb_new({root:"R"}),c="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":c="/Workbook",r.biff=8;break;case"biff5":c="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ti.utils.cfb_add(l,c,IM(t,r)),r.biff==8&&(t.Props||t.Custprops)&&qY(t,l),r.biff==8&&t.vbaraw&&cX(l,Ti.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),l}var Zf={0:{f:wH},1:{f:MH},2:{f:$H},3:{f:RH},4:{f:NH},5:{f:WH},6:{f:QH},7:{f:XH},8:{f:a7},9:{f:r7},10:{f:n7},11:{f:s7},12:{f:_H},13:{f:qH},14:{f:VH},15:{f:IH},16:{f:TM},17:{f:t7},18:{f:YH},19:{f:Wy},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tY},40:{},42:{},43:{f:Q6},44:{f:Z6},45:{f:iz},46:{f:sz},47:{f:nz},48:{},49:{f:C5},50:{},51:{f:Bz},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qD},62:{f:JH},63:{f:jz},64:{f:k7},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:pr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:x7},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PH},148:{f:CH,p:16},151:{f:d7},152:{},153:{f:J7},154:{},155:{},156:{f:q7},157:{},158:{},159:{T:1,f:g6},160:{T:-1},161:{T:1,f:Wc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:o7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Oz},336:{T:-1},337:{f:Xz,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Rx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:KD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:f7},427:{f:g7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:p7},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:TH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:c7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Rx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sX},633:{T:1},634:{T:-1},635:{T:1,f:iX},636:{T:-1},637:{f:D5},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:V7},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:S7},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Wx={6:{f:yv},10:{f:$l},12:{f:Ds},13:{f:Ds},14:{f:vs},15:{f:vs},16:{f:cr},17:{f:vs},18:{f:vs},19:{f:Ds},20:{f:M2},21:{f:M2},23:{f:KD},24:{f:_2},25:{f:vs},26:{},27:{},28:{f:SV},29:{},34:{f:vs},35:{f:E2},38:{f:cr},39:{f:cr},40:{f:cr},41:{f:cr},42:{f:vs},43:{f:vs},47:{f:I6},49:{f:q8},51:{f:Ds},60:{},61:{f:W8},64:{f:vs},65:{f:K8},66:{f:Ds},77:{},80:{},81:{},82:{},85:{f:Ds},89:{},90:{},91:{},92:{f:L8},93:{f:TV},94:{},95:{f:vs},96:{},97:{},99:{f:vs},125:{f:qD},128:{f:uV},129:{f:O8},130:{f:Ds},131:{f:vs},132:{f:vs},133:{f:R8},134:{},140:{f:LV},141:{f:Ds},144:{},146:{f:RV},151:{},152:{},153:{},154:{},155:{},156:{f:Ds},157:{},158:{},160:{f:UV},161:{f:zV},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:oV},190:{f:lV},193:{f:$l},197:{},198:{},199:{},200:{},201:{},202:{f:vs},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ds},220:{},221:{f:vs},222:{},224:{f:cV},225:{f:N8},226:{f:$l},227:{},229:{f:CV},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:V8},253:{f:J8},255:{f:X8},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:zD},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:vs},353:{f:$l},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pV},431:{f:vs},432:{},433:{},434:{},437:{},438:{f:MV},439:{f:vs},440:{f:EV},441:{},442:{f:p0},443:{},444:{f:Ds},445:{},446:{},448:{f:$l},449:{f:U8,r:2},450:{f:$l},512:{f:T2},513:{f:YV},515:{f:gV},516:{f:eV},517:{f:D2},519:{f:WV},520:{f:H8},523:{},545:{f:F2},549:{f:A2},566:{},574:{f:j8},638:{f:aV},659:{},1048:{},1054:{f:iV},1084:{},1212:{f:bV},2048:{f:FV},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ig},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$l},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:BV,r:12},2173:{f:Lz,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:vs,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:yV,r:12},2197:{},2198:{f:Dz,r:12},2199:{},2200:{},2201:{},2202:{f:wV,r:12},2203:{f:$l},2204:{},2205:{},2206:{},2207:{},2211:{f:Y8},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ds},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:XV},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:OV},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:T2},1:{},2:{f:qV},3:{f:$V},4:{f:jV},5:{f:D2},7:{f:JV},8:{},9:{f:ig},11:{},22:{f:Ds},30:{f:sV},31:{},32:{},33:{f:F2},36:{},37:{f:A2},50:{f:QV},62:{},52:{},67:{},68:{f:Ds},69:{},86:{},126:{},127:{f:GV},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:e6},223:{},234:{},354:{},421:{},518:{f:yv},521:{f:ig},536:{f:_2},547:{f:E2},561:{},579:{},1030:{f:yv},1033:{f:ig},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function si(t,s,r,l){var c=s;if(!isNaN(c)){var f=l||(r||[]).length||0,p=t.next(4);p.write_shift(2,c),p.write_shift(2,f),f>0&&Hy(r)&&t.push(r)}}function JY(t,s,r,l){var c=l||(r||[]).length||0;if(c<=8224)return si(t,s,r,c);var f=s;if(!isNaN(f)){for(var p=r.parts||[],x=0,w=0,P=0;P+(p[x]||8224)<=8224;)P+=p[x]||8224,x++;var C=t.next(4);for(C.write_shift(2,f),C.write_shift(2,P),t.push(r.slice(w,w+P)),w+=P;w<c;){for(C=t.next(4),C.write_shift(2,60),P=0;P+(p[x]||8224)<=8224;)P+=p[x]||8224,x++;C.write_shift(2,P),t.push(r.slice(w,w+P)),w+=P}}}function b0(t,s,r){return t||(t=Pt(7)),t.write_shift(2,s),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function QY(t,s,r,l){var c=Pt(9);return b0(c,t,s),XD(r,l||"b",c),c}function eU(t,s,r){var l=Pt(8+2*r.length);return b0(l,t,s),l.write_shift(1,r.length),l.write_shift(r.length,r,"sbcs"),l.l<l.length?l.slice(0,l.l):l}function tU(t,s,r,l){if(s.v!=null)switch(s.t){case"d":case"n":var c=s.t=="d"?Is(Xn(s.v)):s.v;c==(c|0)&&c>=0&&c<65536?si(t,2,ZV(r,l,c)):si(t,3,KV(r,l,c));return;case"b":case"e":si(t,5,QY(r,l,s.v,s.t));return;case"s":case"str":si(t,4,eU(r,l,(s.v||"").slice(0,255)));return}si(t,1,b0(null,r,l))}function iU(t,s,r,l){var c=Array.isArray(s),f=hn(s["!ref"]||"A1"),p,x="",w=[];if(f.e.c>255||f.e.r>16383){if(l.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,16383),p=Ui(f)}for(var P=f.s.r;P<=f.e.r;++P){x=bs(P);for(var C=f.s.c;C<=f.e.c;++C){P===f.s.r&&(w[C]=ts(C)),p=w[C]+x;var F=c?(s[P]||[])[C]:s[p];F&&tU(t,F,P,C)}}}function nU(t,s){for(var r=s||{},l=jr(),c=0,f=0;f<t.SheetNames.length;++f)t.SheetNames[f]==r.sheet&&(c=f);if(c==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return si(l,r.biff==4?1033:r.biff==3?521:9,Jy(t,16,r)),iU(l,t.Sheets[t.SheetNames[c]],c,r),si(l,10),l.end()}function sU(t,s,r){si(t,49,Z8({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function rU(t,s,r){s&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(l){for(var c=l[0];c<=l[1];++c)s[c]!=null&&si(t,1054,nV(c,s[c],r))})}function aU(t,s){var r=Pt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),si(t,2151,r),r=Pt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),GD(hn(s["!ref"]||"A1"),r),r.write_shift(4,4),si(t,2152,r)}function oU(t,s){for(var r=0;r<16;++r)si(t,224,P2({numFmtId:0,style:!0},0,s));s.cellXfs.forEach(function(l){si(t,224,P2(l,0,s))})}function lU(t,s){for(var r=0;r<s["!links"].length;++r){var l=s["!links"][r];si(t,440,_V(l)),l[1].Tooltip&&si(t,2048,NV(l))}delete s["!links"]}function hU(t,s){if(s){var r=0;s.forEach(function(l,c){++r<=256&&l&&si(t,125,VV(ep(c,l),c))})}}function cU(t,s,r,l,c){var f=16+Fh(c.cellXfs,s,c);if(s.v==null&&!s.bf){si(t,513,Sc(r,l,f));return}if(s.bf)si(t,6,O9(s,r,l,c,f));else switch(s.t){case"d":case"n":var p=s.t=="d"?Is(Xn(s.v)):s.v;si(t,515,mV(r,l,p,f));break;case"b":case"e":si(t,517,fV(r,l,s.v,f,c,s.t));break;case"s":case"str":if(c.bookSST){var x=ab(c.Strings,s.v,c.revStrings);si(t,253,Q8(r,l,x,f))}else si(t,516,tV(r,l,(s.v||"").slice(0,255),f,c));break;default:si(t,513,Sc(r,l,f))}}function uU(t,s,r){var l=jr(),c=r.SheetNames[t],f=r.Sheets[c]||{},p=(r||{}).Workbook||{},x=(p.Sheets||[])[t]||{},w=Array.isArray(f),P=s.biff==8,C,F="",L=[],B=hn(f["!ref"]||"A1"),U=P?65536:16384;if(B.e.c>255||B.e.r>=U){if(s.WTF)throw new Error("Range "+(f["!ref"]||"A1")+" exceeds format limit A1:IV16384");B.e.c=Math.min(B.e.c,255),B.e.r=Math.min(B.e.c,U-1)}si(l,2057,Jy(r,16,s)),si(l,13,Ba(1)),si(l,12,Ba(100)),si(l,15,Ar(!0)),si(l,17,Ar(!1)),si(l,16,wc(.001)),si(l,95,Ar(!0)),si(l,42,Ar(!1)),si(l,43,Ar(!1)),si(l,130,Ba(1)),si(l,128,dV([0,0])),si(l,131,Ar(!1)),si(l,132,Ar(!1)),P&&hU(l,f["!cols"]),si(l,512,rV(B,s)),P&&(f["!links"]=[]);for(var Y=B.s.r;Y<=B.e.r;++Y){F=bs(Y);for(var Q=B.s.c;Q<=B.e.c;++Q){Y===B.s.r&&(L[Q]=ts(Q)),C=L[Q]+F;var N=w?(f[Y]||[])[Q]:f[C];N&&(cU(l,N,Y,Q,s),P&&N.l&&f["!links"].push([C,N.l]))}}var X=x.CodeName||x.name||c;return P&&si(l,574,$8((p.Views||[])[0])),P&&(f["!merges"]||[]).length&&si(l,229,AV(f["!merges"])),P&&lU(l,f),si(l,442,HD(X)),P&&aU(l,f),si(l,10),l.end()}function dU(t,s,r){var l=jr(),c=(t||{}).Workbook||{},f=c.Sheets||[],p=c.WBProps||{},x=r.biff==8,w=r.biff==5;if(si(l,2057,Jy(t,5,r)),r.bookType=="xla"&&si(l,135),si(l,225,x?Ba(1200):null),si(l,193,f8(2)),w&&si(l,191),w&&si(l,192),si(l,226),si(l,92,I8("SheetJS",r)),si(l,66,Ba(x?1200:1252)),x&&si(l,353,Ba(0)),x&&si(l,448),si(l,317,HV(t.SheetNames.length)),x&&t.vbaraw&&si(l,211),x&&t.vbaraw){var P=p.CodeName||"ThisWorkbook";si(l,442,HD(P))}si(l,156,Ba(17)),si(l,25,Ar(!1)),si(l,18,Ar(!1)),si(l,19,Ba(0)),x&&si(l,431,Ar(!1)),x&&si(l,444,Ba(0)),si(l,61,G8()),si(l,64,Ar(!1)),si(l,141,Ba(0)),si(l,34,Ar(U7(t)=="true")),si(l,14,Ar(!0)),x&&si(l,439,Ar(!1)),si(l,218,Ba(0)),sU(l,t,r),rU(l,t.SSF,r),oU(l,r),x&&si(l,352,Ar(!1));var C=l.end(),F=jr();x&&si(F,140,IV()),x&&r.Strings&&JY(F,252,z8(r.Strings)),si(F,10);var L=F.end(),B=jr(),U=0,Y=0;for(Y=0;Y<t.SheetNames.length;++Y)U+=(x?12:11)+(x?2:1)*t.SheetNames[Y].length;var Q=C.length+U+L.length;for(Y=0;Y<t.SheetNames.length;++Y){var N=f[Y]||{};si(B,133,B8({pos:Q,hs:N.Hidden||0,dt:0,name:t.SheetNames[Y]},r)),Q+=s[Y].length}var X=B.end();if(U!=X.length)throw new Error("BS8 "+U+" != "+X.length);var W=[];return C.length&&W.push(C),X.length&&W.push(X),L.length&&W.push(L),Xs(W)}function fU(t,s){var r=s||{},l=[];t&&!t.SSF&&(t.SSF=Hn(Mi)),t&&t.SSF&&(kd(),jm(t.SSF),r.revssf=Km(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,ub(r),r.cellXfs=[],Fh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var c=0;c<t.SheetNames.length;++c)l[l.length]=uU(c,r,t);return l.unshift(dU(t,l,r)),Xs(l)}function IM(t,s){for(var r=0;r<=t.SheetNames.length;++r){var l=t.Sheets[t.SheetNames[r]];if(!(!l||!l["!ref"])){var c=Zr(l["!ref"]);c.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var f=s||{};switch(f.biff||2){case 8:case 5:return fU(t,s);case 4:case 3:case 2:return nU(t,s)}throw new Error("invalid type "+f.bookType+" for BIFF")}function H2(t,s){var r=s||{},l=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var c=t.match(/<table/i);if(!c)throw new Error("Invalid HTML: could not find <table>");var f=t.match(/<\/table/i),p=c.index,x=f&&f.index||t.length,w=JB(t.slice(p,x),/(:?<tr[^>]*>)/i,"<tr>"),P=-1,C=0,F=0,L=0,B={s:{r:1e7,c:1e7},e:{r:0,c:0}},U=[];for(p=0;p<w.length;++p){var Y=w[p].trim(),Q=Y.slice(0,3).toLowerCase();if(Q=="<tr"){if(++P,r.sheetRows&&r.sheetRows<=P){--P;break}C=0;continue}if(!(Q!="<td"&&Q!="<th")){var N=Y.split(/<\/t[dh]>/i);for(x=0;x<N.length;++x){var X=N[x].trim();if(X.match(/<t[dh]/i)){for(var W=X,he=0;W.charAt(0)=="<"&&(he=W.indexOf(">"))>-1;)W=W.slice(he+1);for(var K=0;K<U.length;++K){var le=U[K];le.s.c==C&&le.s.r<P&&P<=le.e.r&&(C=le.e.c+1,K=-1)}var G=Ii(X.slice(0,X.indexOf(">")));L=G.colspan?+G.colspan:1,((F=+G.rowspan)>1||L>1)&&U.push({s:{r:P,c:C},e:{r:P+(F||1)-1,c:C+L-1}});var oe=G.t||G["data-t"]||"";if(!W.length){C+=L;continue}if(W=rD(W),B.s.r>P&&(B.s.r=P),B.e.r<P&&(B.e.r=P),B.s.c>C&&(B.s.c=C),B.e.c<C&&(B.e.c=C),!W.length){C+=L;continue}var fe={t:"s",v:W};r.raw||!W.trim().length||oe=="s"||(W==="TRUE"?fe={t:"b",v:!0}:W==="FALSE"?fe={t:"b",v:!1}:isNaN(vo(W))?isNaN(ed(W).getDate())||(fe={t:"d",v:Xn(W)},r.cellDates||(fe={t:"n",v:Is(fe.v)}),fe.z=r.dateNF||Mi[14]):fe={t:"n",v:vo(W)}),r.dense?(l[P]||(l[P]=[]),l[P][C]=fe):l[Fi({r:P,c:C})]=fe,C+=L}}}}return l["!ref"]=Ui(B),U.length&&(l["!merges"]=U),l}function gU(t,s,r,l){for(var c=t["!merges"]||[],f=[],p=s.s.c;p<=s.e.c;++p){for(var x=0,w=0,P=0;P<c.length;++P)if(!(c[P].s.r>r||c[P].s.c>p)&&!(c[P].e.r<r||c[P].e.c<p)){if(c[P].s.r<r||c[P].s.c<p){x=-1;break}x=c[P].e.r-c[P].s.r+1,w=c[P].e.c-c[P].s.c+1;break}if(!(x<0)){var C=Fi({r,c:p}),F=l.dense?(t[r]||[])[p]:t[C],L=F&&F.v!=null&&(F.h||Vy(F.w||(yl(F),F.w)||""))||"",B={};x>1&&(B.rowspan=x),w>1&&(B.colspan=w),l.editable?L='<span contenteditable="true">'+L+"</span>":F&&(B["data-t"]=F&&F.t||"z",F.v!=null&&(B["data-v"]=F.v),F.z!=null&&(B["data-z"]=F.z),F.l&&(F.l.Target||"#").charAt(0)!="#"&&(L='<a href="'+F.l.Target+'">'+L+"</a>")),B.id=(l.id||"sjs")+"-"+C,f.push(ni("td",L,B))}}var U="<tr>";return U+f.join("")+"</tr>"}var mU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',pU="</body></html>";function vU(t,s){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return _h(H2(r[0],s),s);var l=gb();return r.forEach(function(c,f){mb(l,H2(c,s),"Sheet"+(f+1))}),l}function xU(t,s,r){var l=[];return l.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function OM(t,s){var r=s||{},l=r.header!=null?r.header:mU,c=r.footer!=null?r.footer:pU,f=[l],p=Zr(t["!ref"]);r.dense=Array.isArray(t),f.push(xU(t,p,r));for(var x=p.s.r;x<=p.e.r;++x)f.push(gU(t,p,x,r));return f.push("</table>"+c),f.join("")}function RM(t,s,r){var l=r||{},c=0,f=0;if(l.origin!=null)if(typeof l.origin=="number")c=l.origin;else{var p=typeof l.origin=="string"?is(l.origin):l.origin;c=p.r,f=p.c}var x=s.getElementsByTagName("tr"),w=Math.min(l.sheetRows||1e7,x.length),P={s:{r:0,c:0},e:{r:c,c:f}};if(t["!ref"]){var C=Zr(t["!ref"]);P.s.r=Math.min(P.s.r,C.s.r),P.s.c=Math.min(P.s.c,C.s.c),P.e.r=Math.max(P.e.r,C.e.r),P.e.c=Math.max(P.e.c,C.e.c),c==-1&&(P.e.r=c=C.e.r+1)}var F=[],L=0,B=t["!rows"]||(t["!rows"]=[]),U=0,Y=0,Q=0,N=0,X=0,W=0;for(t["!cols"]||(t["!cols"]=[]);U<x.length&&Y<w;++U){var he=x[U];if(Y2(he)){if(l.display)continue;B[Y]={hidden:!0}}var K=he.children;for(Q=N=0;Q<K.length;++Q){var le=K[Q];if(!(l.display&&Y2(le))){var G=le.hasAttribute("data-v")?le.getAttribute("data-v"):le.hasAttribute("v")?le.getAttribute("v"):rD(le.innerHTML),oe=le.getAttribute("data-z")||le.getAttribute("z");for(L=0;L<F.length;++L){var fe=F[L];fe.s.c==N+f&&fe.s.r<Y+c&&Y+c<=fe.e.r&&(N=fe.e.c+1-f,L=-1)}W=+le.getAttribute("colspan")||1,((X=+le.getAttribute("rowspan")||1)>1||W>1)&&F.push({s:{r:Y+c,c:N+f},e:{r:Y+c+(X||1)-1,c:N+f+(W||1)-1}});var pe={t:"s",v:G},Te=le.getAttribute("data-t")||le.getAttribute("t")||"";G!=null&&(G.length==0?pe.t=Te||"z":l.raw||G.trim().length==0||Te=="s"||(G==="TRUE"?pe={t:"b",v:!0}:G==="FALSE"?pe={t:"b",v:!1}:isNaN(vo(G))?isNaN(ed(G).getDate())||(pe={t:"d",v:Xn(G)},l.cellDates||(pe={t:"n",v:Is(pe.v)}),pe.z=l.dateNF||Mi[14]):pe={t:"n",v:vo(G)})),pe.z===void 0&&oe!=null&&(pe.z=oe);var De="",Me=le.getElementsByTagName("A");if(Me&&Me.length)for(var He=0;He<Me.length&&!(Me[He].hasAttribute("href")&&(De=Me[He].getAttribute("href"),De.charAt(0)!="#"));++He);De&&De.charAt(0)!="#"&&(pe.l={Target:De}),l.dense?(t[Y+c]||(t[Y+c]=[]),t[Y+c][N+f]=pe):t[Fi({c:N+f,r:Y+c})]=pe,P.e.c<N+f&&(P.e.c=N+f),N+=W}}++Y}return F.length&&(t["!merges"]=(t["!merges"]||[]).concat(F)),P.e.r=Math.max(P.e.r,Y-1+c),t["!ref"]=Ui(P),Y>=w&&(t["!fullref"]=Ui((P.e.r=x.length-U+Y-1+c,P))),t}function BM(t,s){var r=s||{},l=r.dense?[]:{};return RM(l,t,s)}function yU(t,s){return _h(BM(t,s),s)}function Y2(t){var s="",r=bU(t);return r&&(s=r(t).getPropertyValue("display")),s||(s=t.style&&t.style.display),s==="none"}function bU(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function wU(t){var s=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(l,c){return Array(parseInt(c,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=an(s.replace(/<[^>]*>/g,""));return[r]}var U2={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function VM(t,s){var r=s||{},l=zy(t),c=[],f,p,x={name:""},w="",P=0,C,F,L={},B=[],U=r.dense?[]:{},Y,Q,N={value:""},X="",W=0,he=[],K=-1,le=-1,G={s:{r:1e6,c:1e7},e:{r:0,c:0}},oe=0,fe={},pe=[],Te={},De=0,Me=0,He=[],je=1,tt=1,Ze=[],ft={Names:[]},Je={},dt=["",""],at=[],Ie={},qe="",Ue=0,Ae=!1,Ye=!1,st=0;for(Wf.lastIndex=0,l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");Y=Wf.exec(l);)switch(Y[3]=Y[3].replace(/_.*$/,"")){case"table":case"":Y[1]==="/"?(G.e.c>=G.s.c&&G.e.r>=G.s.r?U["!ref"]=Ui(G):U["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=G.e.r&&(U["!fullref"]=U["!ref"],G.e.r=r.sheetRows-1,U["!ref"]=Ui(G)),pe.length&&(U["!merges"]=pe),He.length&&(U["!rows"]=He),C.name=C.||C.name,typeof JSON<"u"&&JSON.stringify(C),B.push(C.name),L[C.name]=U,Ye=!1):Y[0].charAt(Y[0].length-2)!=="/"&&(C=Ii(Y[0],!1),K=le=-1,G.s.r=G.s.c=1e7,G.e.r=G.e.c=0,U=r.dense?[]:{},pe=[],He=[],Ye=!0);break;case"table-row-group":Y[1]==="/"?--oe:++oe;break;case"table-row":case"":if(Y[1]==="/"){K+=je,je=1;break}if(F=Ii(Y[0],!1),F.?K=F.-1:K==-1&&(K=0),je=+F["number-rows-repeated"]||1,je<10)for(st=0;st<je;++st)oe>0&&(He[K+st]={level:oe});le=-1;break;case"covered-table-cell":Y[1]!=="/"&&++le,r.sheetStubs&&(r.dense?(U[K]||(U[K]=[]),U[K][le]={t:"z"}):U[Fi({r:K,c:le})]={t:"z"}),X="",he=[];break;case"table-cell":case"":if(Y[0].charAt(Y[0].length-2)==="/")++le,N=Ii(Y[0],!1),tt=parseInt(N["number-columns-repeated"]||"1",10),Q={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(Q.f=V2(an(N.formula))),(N.||N["value-type"])=="string"&&(Q.t="s",Q.v=an(N["string-value"]||""),r.dense?(U[K]||(U[K]=[]),U[K][le]=Q):U[Fi({r:K,c:le})]=Q),le+=tt-1;else if(Y[1]!=="/"){++le,X="",W=0,he=[],tt=1;var ht=je?K+je-1:K;if(le>G.e.c&&(G.e.c=le),le<G.s.c&&(G.s.c=le),K<G.s.r&&(G.s.r=K),ht>G.e.r&&(G.e.r=ht),N=Ii(Y[0],!1),at=[],Ie={},Q={t:N.||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=an(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(De=parseInt(N["number-matrix-rows-spanned"],10)||0,Me=parseInt(N["number-matrix-columns-spanned"],10)||0,Te={s:{r:K,c:le},e:{r:K+De-1,c:le+Me-1}},Q.F=Ui(Te),Ze.push([Te,Q.F])),N.formula)Q.f=V2(N.formula);else for(st=0;st<Ze.length;++st)K>=Ze[st][0].s.r&&K<=Ze[st][0].e.r&&le>=Ze[st][0].s.c&&le<=Ze[st][0].e.c&&(Q.F=Ze[st][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(De=parseInt(N["number-rows-spanned"],10)||0,Me=parseInt(N["number-columns-spanned"],10)||0,Te={s:{r:K,c:le},e:{r:K+De-1,c:le+Me-1}},pe.push(Te)),N["number-columns-repeated"]&&(tt=parseInt(N["number-columns-repeated"],10)),Q.t){case"boolean":Q.t="b",Q.v=Vn(N["boolean-value"]);break;case"float":Q.t="n",Q.v=parseFloat(N.value);break;case"percentage":Q.t="n",Q.v=parseFloat(N.value);break;case"currency":Q.t="n",Q.v=parseFloat(N.value);break;case"date":Q.t="d",Q.v=Xn(N["date-value"]),r.cellDates||(Q.t="n",Q.v=Is(Q.v)),Q.z="m/d/yy";break;case"time":Q.t="n",Q.v=KB(N["time-value"])/86400,r.cellDates&&(Q.t="d",Q.v=qm(Q.v)),Q.z="HH:MM:SS";break;case"number":Q.t="n",Q.v=parseFloat(N.);break;default:if(Q.t==="string"||Q.t==="text"||!Q.t)Q.t="s",N["string-value"]!=null&&(X=an(N["string-value"]),he=[]);else throw new Error("Unsupported value type "+Q.t)}}else{if(Ae=!1,Q.t==="s"&&(Q.v=X||"",he.length&&(Q.R=he),Ae=W==0),Je.Target&&(Q.l=Je),at.length>0&&(Q.c=at,at=[]),X&&r.cellText!==!1&&(Q.w=X),Ae&&(Q.t="z",delete Q.v),(!Ae||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=K))for(var vt=0;vt<je;++vt){if(tt=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(U[K+vt]||(U[K+vt]=[]),U[K+vt][le]=vt==0?Q:Hn(Q);--tt>0;)U[K+vt][le+tt]=Hn(Q);else for(U[Fi({r:K+vt,c:le})]=Q;--tt>0;)U[Fi({r:K+vt,c:le+tt})]=Hn(Q);G.e.c<=le&&(G.e.c=le)}tt=parseInt(N["number-columns-repeated"]||"1",10),le+=tt-1,tt=0,Q={},X="",he=[]}Je={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(Y[1]==="/"){if((f=c.pop())[0]!==Y[3])throw"Bad state: "+f}else Y[0].charAt(Y[0].length-2)!=="/"&&c.push([Y[3],!0]);break;case"annotation":if(Y[1]==="/"){if((f=c.pop())[0]!==Y[3])throw"Bad state: "+f;Ie.t=X,he.length&&(Ie.R=he),Ie.a=qe,at.push(Ie)}else Y[0].charAt(Y[0].length-2)!=="/"&&c.push([Y[3],!1]);qe="",Ue=0,X="",W=0,he=[];break;case"creator":Y[1]==="/"?qe=l.slice(Ue,Y.index):Ue=Y.index+Y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(Y[1]==="/"){if((f=c.pop())[0]!==Y[3])throw"Bad state: "+f}else Y[0].charAt(Y[0].length-2)!=="/"&&c.push([Y[3],!1]);X="",W=0,he=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(Y[1]==="/"){if(fe[x.name]=w,(f=c.pop())[0]!==Y[3])throw"Bad state: "+f}else Y[0].charAt(Y[0].length-2)!=="/"&&(w="",x=Ii(Y[0],!1),c.push([Y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(c[c.length-1][0]){case"time-style":case"date-style":p=Ii(Y[0],!1),w+=U2[Y[3]][p.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(c[c.length-1][0]){case"time-style":case"date-style":p=Ii(Y[0],!1),w+=U2[Y[3]][p.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(Y[0].slice(-2)==="/>")break;if(Y[1]==="/")switch(c[c.length-1][0]){case"number-style":case"date-style":case"time-style":w+=l.slice(P,Y.index);break}else P=Y.index+Y[0].length;break;case"named-range":p=Ii(Y[0],!1),dt=bv(p["cell-range-address"]);var kt={Name:p.name,Ref:dt[0]+"!"+dt[1]};Ye&&(kt.Sheet=B.length),ft.Names.push(kt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(c[c.length-1][0])>-1)break;if(Y[1]==="/"&&(!N||!N["string-value"])){var Kt=wU(l.slice(W,Y.index));X=(X.length>0?X+`
`:"")+Kt[0]}else Ii(Y[0],!1),W=Y.index+Y[0].length;break;case"s":break;case"database-range":if(Y[1]==="/")break;try{dt=bv(Ii(Y[0])["target-range-address"]),L[dt[0]]["!autofilter"]={ref:dt[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(Y[1]!=="/"){if(Je=Ii(Y[0],!1),!Je.href)break;Je.Target=an(Je.href),delete Je.href,Je.Target.charAt(0)=="#"&&Je.Target.indexOf(".")>-1?(dt=bv(Je.Target.slice(1)),Je.Target="#"+dt[0]+"!"+dt[1]):Je.Target.match(/^\.\.[\\\/]/)&&(Je.Target=Je.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(Y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(Y)}}var ve={Sheets:L,SheetNames:B,Workbook:ft};return r.bookSheets&&delete ve.Sheets,ve}function W2(t,s){s=s||{},Ra(t,"META-INF/manifest.xml")&&$5(Ps(t,"META-INF/manifest.xml"),s);var r=fa(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var l=VM(_n(r),s);return Ra(t,"meta.xml")&&(l.Props=MD(Ps(t,"meta.xml"))),l}function G2(t,s){return VM(t,s)}var kU=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),s="<office:document-styles "+Uf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Cs+s}}(),j2=function(){var t=function(f){return An(f).replace(/  +/g,function(p){return'<text:s text:c="'+p.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},s=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,l=function(f,p,x){var w=[];w.push('      <table:table table:name="'+An(p.SheetNames[x])+`" table:style-name="ta1">
`);var P=0,C=0,F=Zr(f["!ref"]||"A1"),L=f["!merges"]||[],B=0,U=Array.isArray(f);if(f["!cols"])for(C=0;C<=F.e.c;++C)w.push("        <table:table-column"+(f["!cols"][C]?' table:style-name="co'+f["!cols"][C].ods+'"':"")+`></table:table-column>
`);var Y="",Q=f["!rows"]||[];for(P=0;P<F.s.r;++P)Y=Q[P]?' table:style-name="ro'+Q[P].ods+'"':"",w.push("        <table:table-row"+Y+`></table:table-row>
`);for(;P<=F.e.r;++P){for(Y=Q[P]?' table:style-name="ro'+Q[P].ods+'"':"",w.push("        <table:table-row"+Y+`>
`),C=0;C<F.s.c;++C)w.push(s);for(;C<=F.e.c;++C){var N=!1,X={},W="";for(B=0;B!=L.length;++B)if(!(L[B].s.c>C)&&!(L[B].s.r>P)&&!(L[B].e.c<C)&&!(L[B].e.r<P)){(L[B].s.c!=C||L[B].s.r!=P)&&(N=!0),X["table:number-columns-spanned"]=L[B].e.c-L[B].s.c+1,X["table:number-rows-spanned"]=L[B].e.r-L[B].s.r+1;break}if(N){w.push(r);continue}var he=Fi({r:P,c:C}),K=U?(f[P]||[])[C]:f[he];if(K&&K.f&&(X["table:formula"]=An(H9(K.f)),K.F&&K.F.slice(0,he.length)==he)){var le=Zr(K.F);X["table:number-matrix-columns-spanned"]=le.e.c-le.s.c+1,X["table:number-matrix-rows-spanned"]=le.e.r-le.s.r+1}if(!K){w.push(s);continue}switch(K.t){case"b":W=K.v?"TRUE":"FALSE",X["office:value-type"]="boolean",X["office:boolean-value"]=K.v?"true":"false";break;case"n":W=K.w||String(K.v||0),X["office:value-type"]="float",X["office:value"]=K.v||0;break;case"s":case"str":W=K.v==null?"":K.v,X["office:value-type"]="string";break;case"d":W=K.w||Xn(K.v).toISOString(),X["office:value-type"]="date",X["office:date-value"]=Xn(K.v).toISOString(),X["table:style-name"]="ce1";break;default:w.push(s);continue}var G=t(W);if(K.l&&K.l.Target){var oe=K.l.Target;oe=oe.charAt(0)=="#"?"#"+Y9(oe.slice(1)):oe,oe.charAt(0)!="#"&&!oe.match(/^\w+:/)&&(oe="../"+oe),G=ni("text:a",G,{"xlink:href":oe.replace(/&/g,"&amp;")})}w.push("          "+ni("table:table-cell",ni("text:p",G,{}),X)+`
`)}w.push(`        </table:table-row>
`)}return w.push(`      </table:table>
`),w.join("")},c=function(f,p){f.push(` <office:automatic-styles>
`),f.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),f.push(`   <number:month number:style="long"/>
`),f.push(`   <number:text>/</number:text>
`),f.push(`   <number:day number:style="long"/>
`),f.push(`   <number:text>/</number:text>
`),f.push(`   <number:year/>
`),f.push(`  </number:date-style>
`);var x=0;p.SheetNames.map(function(P){return p.Sheets[P]}).forEach(function(P){if(P&&P["!cols"]){for(var C=0;C<P["!cols"].length;++C)if(P["!cols"][C]){var F=P["!cols"][C];if(F.width==null&&F.wpx==null&&F.wch==null)continue;wh(F),F.ods=x;var L=P["!cols"][C].wpx+"px";f.push('  <style:style style:name="co'+x+`" style:family="table-column">
`),f.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+L+`"/>
`),f.push(`  </style:style>
`),++x}}});var w=0;p.SheetNames.map(function(P){return p.Sheets[P]}).forEach(function(P){if(P&&P["!rows"]){for(var C=0;C<P["!rows"].length;++C)if(P["!rows"][C]){P["!rows"][C].ods=w;var F=P["!rows"][C].hpx+"px";f.push('  <style:style style:name="ro'+w+`" style:family="table-row">
`),f.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+F+`"/>
`),f.push(`  </style:style>
`),++w}}}),f.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),f.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),f.push(`  </style:style>
`),f.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),f.push(` </office:automatic-styles>
`)};return function(p,x){var w=[Cs],P=Uf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),C=Uf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});x.bookType=="fods"?(w.push("<office:document"+P+C+`>
`),w.push(DD().replace(/office:document-meta/g,"office:meta"))):w.push("<office:document-content"+P+`>
`),c(w,p),w.push(`  <office:body>
`),w.push(`    <office:spreadsheet>
`);for(var F=0;F!=p.SheetNames.length;++F)w.push(l(p.Sheets[p.SheetNames[F]],p,F));return w.push(`    </office:spreadsheet>
`),w.push(`  </office:body>
`),x.bookType=="fods"?w.push("</office:document>"):w.push("</office:document-content>"),w.join("")}}();function zM(t,s){if(s.bookType=="fods")return j2(t,s);var r=Oy(),l="",c=[],f=[];return l="mimetype",Wi(r,l,"application/vnd.oasis.opendocument.spreadsheet"),l="content.xml",Wi(r,l,j2(t,s)),c.push([l,"text/xml"]),f.push([l,"ContentFile"]),l="styles.xml",Wi(r,l,kU(t,s)),c.push([l,"text/xml"]),f.push([l,"StylesFile"]),l="meta.xml",Wi(r,l,Cs+DD()),c.push([l,"text/xml"]),f.push([l,"MetadataFile"]),l="manifest.rdf",Wi(r,l,Z5(f)),c.push([l,"application/rdf+xml"]),l="META-INF/manifest.xml",Wi(r,l,K5(c)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Cc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Gx(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):_n(Eh(t))}function SU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):da(zo(t))}function CU(t,s){e:for(var r=0;r<=t.length-s.length;++r){for(var l=0;l<s.length;++l)if(t[r+l]!=s[l])continue e;return!0}return!1}function Sh(t){var s=t.reduce(function(c,f){return c+f.length},0),r=new Uint8Array(s),l=0;return t.forEach(function(c){r.set(c,l),l+=c.length}),r}function $2(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function AU(t,s){for(var r=(t[s+15]&127)<<7|t[s+14]>>1,l=t[s+14]&1,c=s+13;c>=s;--c)l=l*256+t[c];return(t[s+15]&128?-l:l)*Math.pow(10,r-6176)}function TU(t,s,r){var l=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,c=r/Math.pow(10,l-6176);t[s+15]|=l>>7,t[s+14]|=(l&127)<<1;for(var f=0;c>=1;++f,c/=256)t[s+f]=c&255;t[s+15]|=r>=0?0:128}function Jf(t,s){var r=s?s[0]:0,l=t[r]&127;e:if(t[r++]>=128&&(l|=(t[r]&127)<<7,t[r++]<128||(l|=(t[r]&127)<<14,t[r++]<128)||(l|=(t[r]&127)<<21,t[r++]<128)||(l+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(l+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(l+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return s&&(s[0]=r),l}function wn(t){var s=new Uint8Array(7);s[0]=t&127;var r=1;e:if(t>127){if(s[r-1]|=128,s[r]=t>>7&127,++r,t<=16383||(s[r-1]|=128,s[r]=t>>14&127,++r,t<=2097151)||(s[r-1]|=128,s[r]=t>>21&127,++r,t<=268435455)||(s[r-1]|=128,s[r]=t/256>>>21&127,++r,t<=34359738367)||(s[r-1]|=128,s[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;s[r-1]|=128,s[r]=t/16777216>>>21&127,++r}return s.slice(0,r)}function cs(t){var s=0,r=t[s]&127;e:if(t[s++]>=128){if(r|=(t[s]&127)<<7,t[s++]<128||(r|=(t[s]&127)<<14,t[s++]<128)||(r|=(t[s]&127)<<21,t[s++]<128))break e;r|=(t[s]&127)<<28}return r}function dn(t){for(var s=[],r=[0];r[0]<t.length;){var l=r[0],c=Jf(t,r),f=c&7;c=Math.floor(c/8);var p=0,x;if(c==0)break;switch(f){case 0:{for(var w=r[0];t[r[0]++]>=128;);x=t.slice(w,r[0])}break;case 5:p=4,x=t.slice(r[0],r[0]+p),r[0]+=p;break;case 1:p=8,x=t.slice(r[0],r[0]+p),r[0]+=p;break;case 2:p=Jf(t,r),x=t.slice(r[0],r[0]+p),r[0]+=p;break;case 3:case 4:default:throw new Error("PB Type ".concat(f," for Field ").concat(c," at offset ").concat(l))}var P={data:x,type:f};s[c]==null?s[c]=[P]:s[c].push(P)}return s}function Gs(t){var s=[];return t.forEach(function(r,l){r.forEach(function(c){c.data&&(s.push(wn(l*8+c.type)),c.type==2&&s.push(wn(c.data.length)),s.push(c.data))})}),Sh(s)}function hb(t,s){return(t==null?void 0:t.map(function(r){return s(r.data)}))||[]}function Na(t){for(var s,r=[],l=[0];l[0]<t.length;){var c=Jf(t,l),f=dn(t.slice(l[0],l[0]+c));l[0]+=c;var p={id:cs(f[1][0].data),messages:[]};f[2].forEach(function(x){var w=dn(x.data),P=cs(w[3][0].data);p.messages.push({meta:w,data:t.slice(l[0],l[0]+P)}),l[0]+=P}),(s=f[3])!=null&&s[0]&&(p.merge=cs(f[3][0].data)>>>0>0),r.push(p)}return r}function uu(t){var s=[];return t.forEach(function(r){var l=[];l[1]=[{data:wn(r.id),type:0}],l[2]=[],r.merge!=null&&(l[3]=[{data:wn(+!!r.merge),type:0}]);var c=[];r.messages.forEach(function(p){c.push(p.data),p.meta[3]=[{type:0,data:wn(p.data.length)}],l[2].push({data:Gs(p.meta),type:2})});var f=Gs(l);s.push(wn(f.length)),s.push(f),c.forEach(function(p){return s.push(p)})}),Sh(s)}function PU(t,s){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],l=Jf(s,r),c=[];r[0]<s.length;){var f=s[r[0]]&3;if(f==0){var p=s[r[0]++]>>2;if(p<60)++p;else{var x=p-59;p=s[r[0]],x>1&&(p|=s[r[0]+1]<<8),x>2&&(p|=s[r[0]+2]<<16),x>3&&(p|=s[r[0]+3]<<24),p>>>=0,p++,r[0]+=x}c.push(s.slice(r[0],r[0]+p)),r[0]+=p;continue}else{var w=0,P=0;if(f==1?(P=(s[r[0]]>>2&7)+4,w=(s[r[0]++]&224)<<3,w|=s[r[0]++]):(P=(s[r[0]++]>>2)+1,f==2?(w=s[r[0]]|s[r[0]+1]<<8,r[0]+=2):(w=(s[r[0]]|s[r[0]+1]<<8|s[r[0]+2]<<16|s[r[0]+3]<<24)>>>0,r[0]+=4)),c=[Sh(c)],w==0)throw new Error("Invalid offset 0");if(w>c[0].length)throw new Error("Invalid offset beyond length");if(P>=w)for(c.push(c[0].slice(-w)),P-=w;P>=c[c.length-1].length;)c.push(c[c.length-1]),P-=c[c.length-1].length;c.push(c[0].slice(-w,-w+P))}}var C=Sh(c);if(C.length!=l)throw new Error("Unexpected length: ".concat(C.length," != ").concat(l));return C}function La(t){for(var s=[],r=0;r<t.length;){var l=t[r++],c=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,s.push(PU(l,t.slice(r,r+c))),r+=c}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Sh(s)}function du(t){for(var s=[],r=0;r<t.length;){var l=Math.min(t.length-r,268435455),c=new Uint8Array(4);s.push(c);var f=wn(l),p=f.length;s.push(f),l<=60?(p++,s.push(new Uint8Array([l-1<<2]))):l<=256?(p+=2,s.push(new Uint8Array([240,l-1&255]))):l<=65536?(p+=3,s.push(new Uint8Array([244,l-1&255,l-1>>8&255]))):l<=16777216?(p+=4,s.push(new Uint8Array([248,l-1&255,l-1>>8&255,l-1>>16&255]))):l<=4294967296&&(p+=5,s.push(new Uint8Array([252,l-1&255,l-1>>8&255,l-1>>16&255,l-1>>>24&255]))),s.push(t.slice(r,r+l)),p+=l,c[0]=0,c[1]=p&255,c[2]=p>>8&255,c[3]=p>>16&255,r+=l}return Sh(s)}function DU(t,s,r,l){var c=Cc(t),f=c.getUint32(4,!0),p=(l>1?12:8)+$2(f&(l>1?3470:398))*4,x=-1,w=-1,P=NaN,C=new Date(2001,0,1);f&512&&(x=c.getUint32(p,!0),p+=4),p+=$2(f&(l>1?12288:4096))*4,f&16&&(w=c.getUint32(p,!0),p+=4),f&32&&(P=c.getFloat64(p,!0),p+=8),f&64&&(C.setTime(C.getTime()+c.getFloat64(p,!0)*1e3),p+=8);var F;switch(t[2]){case 0:break;case 2:F={t:"n",v:P};break;case 3:F={t:"s",v:s[w]};break;case 5:F={t:"d",v:C};break;case 6:F={t:"b",v:P>0};break;case 7:F={t:"n",v:P/86400};break;case 8:F={t:"e",v:0};break;case 9:if(x>-1)F={t:"s",v:r[x]};else if(w>-1)F={t:"s",v:s[w]};else if(!isNaN(P))F={t:"n",v:P};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return F}function MU(t,s,r){var l=Cc(t),c=l.getUint32(8,!0),f=12,p=-1,x=-1,w=NaN,P=NaN,C=new Date(2001,0,1);c&1&&(w=AU(t,f),f+=16),c&2&&(P=l.getFloat64(f,!0),f+=8),c&4&&(C.setTime(C.getTime()+l.getFloat64(f,!0)*1e3),f+=8),c&8&&(x=l.getUint32(f,!0),f+=4),c&16&&(p=l.getUint32(f,!0),f+=4);var F;switch(t[1]){case 0:break;case 2:F={t:"n",v:w};break;case 3:F={t:"s",v:s[x]};break;case 5:F={t:"d",v:C};break;case 6:F={t:"b",v:P>0};break;case 7:F={t:"n",v:P/86400};break;case 8:F={t:"e",v:0};break;case 9:if(p>-1)F={t:"s",v:r[p]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(c&31," : ").concat(t.slice(0,4)));break;case 10:F={t:"n",v:w};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(c&31," : ").concat(t.slice(0,4)))}return F}function kv(t,s){var r=new Uint8Array(32),l=Cc(r),c=12,f=0;switch(r[0]=5,t.t){case"n":r[1]=2,TU(r,c,t.v),f|=1,c+=16;break;case"b":r[1]=6,l.setFloat64(c,t.v?1:0,!0),f|=2,c+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,l.setUint32(c,s.indexOf(t.v),!0),f|=8,c+=4;break;default:throw"unsupported cell type "+t.t}return l.setUint32(8,f,!0),r.slice(0,c)}function Sv(t,s){var r=new Uint8Array(32),l=Cc(r),c=12,f=0;switch(r[0]=3,t.t){case"n":r[2]=2,l.setFloat64(c,t.v,!0),f|=32,c+=8;break;case"b":r[2]=6,l.setFloat64(c,t.v?1:0,!0),f|=32,c+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,l.setUint32(c,s.indexOf(t.v),!0),f|=16,c+=4;break;default:throw"unsupported cell type "+t.t}return l.setUint32(4,f,!0),r.slice(0,c)}function EU(t,s,r){switch(t[0]){case 0:case 1:case 2:case 3:return DU(t,s,r,t[0]);case 5:return MU(t,s,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function rr(t){var s=dn(t);return Jf(s[1][0].data)}function K2(t,s){var r=dn(s.data),l=cs(r[1][0].data),c=r[3],f=[];return(c||[]).forEach(function(p){var x=dn(p.data),w=cs(x[1][0].data)>>>0;switch(l){case 1:f[w]=Gx(x[3][0].data);break;case 8:{var P=t[rr(x[9][0].data)][0],C=dn(P.data),F=t[rr(C[1][0].data)][0],L=cs(F.meta[1][0].data);if(L!=2001)throw new Error("2000 unexpected reference to ".concat(L));var B=dn(F.data);f[w]=B[3].map(function(U){return Gx(U.data)}).join("")}break}}),f}function _U(t,s){var r,l,c,f,p,x,w,P,C,F,L,B,U,Y,Q=dn(t),N=cs(Q[1][0].data)>>>0,X=cs(Q[2][0].data)>>>0,W=((l=(r=Q[8])==null?void 0:r[0])==null?void 0:l.data)&&cs(Q[8][0].data)>0||!1,he,K;if((f=(c=Q[7])==null?void 0:c[0])!=null&&f.data&&s!=0)he=(x=(p=Q[7])==null?void 0:p[0])==null?void 0:x.data,K=(P=(w=Q[6])==null?void 0:w[0])==null?void 0:P.data;else if((F=(C=Q[4])==null?void 0:C[0])!=null&&F.data&&s!=1)he=(B=(L=Q[4])==null?void 0:L[0])==null?void 0:B.data,K=(Y=(U=Q[3])==null?void 0:U[0])==null?void 0:Y.data;else throw"NUMBERS Tile missing ".concat(s," cell storage");for(var le=W?4:1,G=Cc(he),oe=[],fe=0;fe<he.length/2;++fe){var pe=G.getUint16(fe*2,!0);pe<65535&&oe.push([fe,pe])}if(oe.length!=X)throw"Expected ".concat(X," cells, found ").concat(oe.length);var Te=[];for(fe=0;fe<oe.length-1;++fe)Te[oe[fe][0]]=K.subarray(oe[fe][1]*le,oe[fe+1][1]*le);return oe.length>=1&&(Te[oe[oe.length-1][0]]=K.subarray(oe[oe.length-1][1]*le)),{R:N,cells:Te}}function FU(t,s){var r,l=dn(s.data),c=(r=l==null?void 0:l[7])!=null&&r[0]?cs(l[7][0].data)>>>0>0?1:0:-1,f=hb(l[5],function(p){return _U(p,c)});return{nrows:cs(l[4][0].data)>>>0,data:f.reduce(function(p,x){return p[x.R]||(p[x.R]=[]),x.cells.forEach(function(w,P){if(p[x.R][P])throw new Error("Duplicate cell r=".concat(x.R," c=").concat(P));p[x.R][P]=w}),p},[])}}function NU(t,s,r){var l,c=dn(s.data),f={s:{r:0,c:0},e:{r:0,c:0}};if(f.e.r=(cs(c[6][0].data)>>>0)-1,f.e.r<0)throw new Error("Invalid row varint ".concat(c[6][0].data));if(f.e.c=(cs(c[7][0].data)>>>0)-1,f.e.c<0)throw new Error("Invalid col varint ".concat(c[7][0].data));r["!ref"]=Ui(f);var p=dn(c[4][0].data),x=K2(t,t[rr(p[4][0].data)][0]),w=(l=p[17])!=null&&l[0]?K2(t,t[rr(p[17][0].data)][0]):[],P=dn(p[3][0].data),C=0;P[1].forEach(function(F){var L=dn(F.data),B=t[rr(L[2][0].data)][0],U=cs(B.meta[1][0].data);if(U!=6002)throw new Error("6001 unexpected reference to ".concat(U));var Y=FU(t,B);Y.data.forEach(function(Q,N){Q.forEach(function(X,W){var he=Fi({r:C+N,c:W}),K=EU(X,x,w);K&&(r[he]=K)})}),C+=Y.nrows})}function LU(t,s){var r=dn(s.data),l={"!ref":"A1"},c=t[rr(r[2][0].data)],f=cs(c[0].meta[1][0].data);if(f!=6001)throw new Error("6000 unexpected reference to ".concat(f));return NU(t,c[0],l),l}function IU(t,s){var r,l=dn(s.data),c={name:(r=l[1])!=null&&r[0]?Gx(l[1][0].data):"",sheets:[]},f=hb(l[2],rr);return f.forEach(function(p){t[p].forEach(function(x){var w=cs(x.meta[1][0].data);w==6e3&&c.sheets.push(LU(t,x))})}),c}function OU(t,s){var r=gb(),l=dn(s.data),c=hb(l[1],rr);if(c.forEach(function(f){t[f].forEach(function(p){var x=cs(p.meta[1][0].data);if(x==2){var w=IU(t,p);w.sheets.forEach(function(P,C){mb(r,P,C==0?w.name:w.name+"_"+C,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Cv(t){var s,r,l,c,f={},p=[];if(t.FullPaths.forEach(function(w){if(w.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(w){if(w.name.match(/\.iwa$/)){var P;try{P=La(w.content)}catch(F){return console.log("?? "+w.content.length+" "+(F.message||F))}var C;try{C=Na(P)}catch(F){return console.log("## "+(F.message||F))}C.forEach(function(F){f[F.id]=F.messages,p.push(F.id)})}}),!p.length)throw new Error("File has no messages");var x=((c=(l=(r=(s=f==null?void 0:f[1])==null?void 0:s[0])==null?void 0:r.meta)==null?void 0:l[1])==null?void 0:c[0].data)&&cs(f[1][0].meta[1][0].data)==1&&f[1][0];if(x||p.forEach(function(w){f[w].forEach(function(P){var C=cs(P.meta[1][0].data)>>>0;if(C==1)if(!x)x=P;else throw new Error("Document has multiple roots")})}),!x)throw new Error("Cannot find Document root");return OU(f,x)}function RU(t,s,r){var l,c,f,p;if(!((l=t[6])!=null&&l[0])||!((c=t[7])!=null&&c[0]))throw"Mutation only works on post-BNC storages!";var x=((p=(f=t[8])==null?void 0:f[0])==null?void 0:p.data)&&cs(t[8][0].data)>0||!1;if(x)throw"Math only works with normal offsets";for(var w=0,P=Cc(t[7][0].data),C=0,F=[],L=Cc(t[4][0].data),B=0,U=[],Y=0;Y<s.length;++Y){if(s[Y]==null){P.setUint16(Y*2,65535,!0),L.setUint16(Y*2,65535);continue}P.setUint16(Y*2,C,!0),L.setUint16(Y*2,B,!0);var Q,N;switch(typeof s[Y]){case"string":Q=kv({t:"s",v:s[Y]},r),N=Sv({t:"s",v:s[Y]},r);break;case"number":Q=kv({t:"n",v:s[Y]},r),N=Sv({t:"n",v:s[Y]},r);break;case"boolean":Q=kv({t:"b",v:s[Y]},r),N=Sv({t:"b",v:s[Y]},r);break;default:throw new Error("Unsupported value "+s[Y])}F.push(Q),C+=Q.length,U.push(N),B+=N.length,++w}for(t[2][0].data=wn(w);Y<t[7][0].data.length/2;++Y)P.setUint16(Y*2,65535,!0),L.setUint16(Y*2,65535,!0);return t[6][0].data=Sh(F),t[3][0].data=Sh(U),w}function BU(t,s){if(!s||!s.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var l=Zr(r["!ref"]);l.s.r=l.s.c=0;var c=!1;l.e.c>9&&(c=!0,l.e.c=9),l.e.r>49&&(c=!0,l.e.r=49),c&&console.error("The Numbers writer is currently limited to ".concat(Ui(l)));var f=om(r,{range:l,header:1}),p=["~Sh33tJ5~"];f.forEach(function(qe){return qe.forEach(function(Ue){typeof Ue=="string"&&p.push(Ue)})});var x={},w=[],P=Ti.read(s.numbers,{type:"base64"});P.FileIndex.map(function(qe,Ue){return[qe,P.FullPaths[Ue]]}).forEach(function(qe){var Ue=qe[0],Ae=qe[1];if(Ue.type==2&&Ue.name.match(/\.iwa/)){var Ye=Ue.content,st=La(Ye),ht=Na(st);ht.forEach(function(vt){w.push(vt.id),x[vt.id]={deps:[],location:Ae,type:cs(vt.messages[0].meta[1][0].data)}})}}),w.sort(function(qe,Ue){return qe-Ue});var C=w.filter(function(qe){return qe>1}).map(function(qe){return[qe,wn(qe)]});P.FileIndex.map(function(qe,Ue){return[qe,P.FullPaths[Ue]]}).forEach(function(qe){var Ue=qe[0];if(qe[1],!!Ue.name.match(/\.iwa/)){var Ae=Na(La(Ue.content));Ae.forEach(function(Ye){Ye.messages.forEach(function(st){C.forEach(function(ht){Ye.messages.some(function(vt){return cs(vt.meta[1][0].data)!=11006&&CU(vt.data,ht[1])})&&x[ht[0]].deps.push(Ye.id)})})})}});for(var F=Ti.find(P,x[1].location),L=Na(La(F.content)),B,U=0;U<L.length;++U){var Y=L[U];Y.id==1&&(B=Y)}var Q=rr(dn(B.messages[0].data)[1][0].data);for(F=Ti.find(P,x[Q].location),L=Na(La(F.content)),U=0;U<L.length;++U)Y=L[U],Y.id==Q&&(B=Y);for(Q=rr(dn(B.messages[0].data)[2][0].data),F=Ti.find(P,x[Q].location),L=Na(La(F.content)),U=0;U<L.length;++U)Y=L[U],Y.id==Q&&(B=Y);for(Q=rr(dn(B.messages[0].data)[2][0].data),F=Ti.find(P,x[Q].location),L=Na(La(F.content)),U=0;U<L.length;++U)Y=L[U],Y.id==Q&&(B=Y);var N=dn(B.messages[0].data);{N[6][0].data=wn(l.e.r+1),N[7][0].data=wn(l.e.c+1);var X=rr(N[46][0].data),W=Ti.find(P,x[X].location),he=Na(La(W.content));{for(var K=0;K<he.length&&he[K].id!=X;++K);if(he[K].id!=X)throw"Bad ColumnRowUIDMapArchive";var le=dn(he[K].messages[0].data);le[1]=[],le[2]=[],le[3]=[];for(var G=0;G<=l.e.c;++G){var oe=[];oe[1]=oe[2]=[{type:0,data:wn(G+420690)}],le[1].push({type:2,data:Gs(oe)}),le[2].push({type:0,data:wn(G)}),le[3].push({type:0,data:wn(G)})}le[4]=[],le[5]=[],le[6]=[];for(var fe=0;fe<=l.e.r;++fe)oe=[],oe[1]=oe[2]=[{type:0,data:wn(fe+726270)}],le[4].push({type:2,data:Gs(oe)}),le[5].push({type:0,data:wn(fe)}),le[6].push({type:0,data:wn(fe)});he[K].messages[0].data=Gs(le)}W.content=du(uu(he)),W.size=W.content.length,delete N[46];var pe=dn(N[4][0].data);{pe[7][0].data=wn(l.e.r+1);var Te=dn(pe[1][0].data),De=rr(Te[2][0].data);W=Ti.find(P,x[De].location),he=Na(La(W.content));{if(he[0].id!=De)throw"Bad HeaderStorageBucket";var Me=dn(he[0].messages[0].data);for(fe=0;fe<f.length;++fe){var He=dn(Me[2][0].data);He[1][0].data=wn(fe),He[4][0].data=wn(f[fe].length),Me[2][fe]={type:Me[2][0].type,data:Gs(He)}}he[0].messages[0].data=Gs(Me)}W.content=du(uu(he)),W.size=W.content.length;var je=rr(pe[2][0].data);W=Ti.find(P,x[je].location),he=Na(La(W.content));{if(he[0].id!=je)throw"Bad HeaderStorageBucket";for(Me=dn(he[0].messages[0].data),G=0;G<=l.e.c;++G)He=dn(Me[2][0].data),He[1][0].data=wn(G),He[4][0].data=wn(l.e.r+1),Me[2][G]={type:Me[2][0].type,data:Gs(He)};he[0].messages[0].data=Gs(Me)}W.content=du(uu(he)),W.size=W.content.length;var tt=rr(pe[4][0].data);(function(){for(var qe=Ti.find(P,x[tt].location),Ue=Na(La(qe.content)),Ae,Ye=0;Ye<Ue.length;++Ye){var st=Ue[Ye];st.id==tt&&(Ae=st)}var ht=dn(Ae.messages[0].data);{ht[3]=[];var vt=[];p.forEach(function(ve,et){vt[1]=[{type:0,data:wn(et)}],vt[2]=[{type:0,data:wn(1)}],vt[3]=[{type:2,data:SU(ve)}],ht[3].push({type:2,data:Gs(vt)})})}Ae.messages[0].data=Gs(ht);var kt=uu(Ue),Kt=du(kt);qe.content=Kt,qe.size=qe.content.length})();var Ze=dn(pe[3][0].data);{var ft=Ze[1][0];delete Ze[2];var Je=dn(ft.data);{var dt=rr(Je[2][0].data);(function(){for(var qe=Ti.find(P,x[dt].location),Ue=Na(La(qe.content)),Ae,Ye=0;Ye<Ue.length;++Ye){var st=Ue[Ye];st.id==dt&&(Ae=st)}var ht=dn(Ae.messages[0].data);{delete ht[6],delete Ze[7];var vt=new Uint8Array(ht[5][0].data);ht[5]=[];for(var kt=0,Kt=0;Kt<=l.e.r;++Kt){var ve=dn(vt);kt+=RU(ve,f[Kt],p),ve[1][0].data=wn(Kt),ht[5].push({data:Gs(ve),type:2})}ht[1]=[{type:0,data:wn(l.e.c+1)}],ht[2]=[{type:0,data:wn(l.e.r+1)}],ht[3]=[{type:0,data:wn(kt)}],ht[4]=[{type:0,data:wn(l.e.r+1)}]}Ae.messages[0].data=Gs(ht);var et=uu(Ue),ut=du(et);qe.content=ut,qe.size=qe.content.length})()}ft.data=Gs(Je)}pe[3][0].data=Gs(Ze)}N[4][0].data=Gs(pe)}B.messages[0].data=Gs(N);var at=uu(L),Ie=du(at);return F.content=Ie,F.size=F.content.length,P}function XM(t){return function(r){for(var l=0;l!=t.length;++l){var c=t[l];r[c[0]]===void 0&&(r[c[0]]=c[1]),c[2]==="n"&&(r[c[0]]=Number(r[c[0]]))}}}function cb(t){XM([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function ub(t){XM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function VU(t){return Zi.WS.indexOf(t)>-1?"sheet":t==Zi.CS?"chart":t==Zi.DS?"dialog":t==Zi.MS?"macro":t&&t.length?t:"sheet"}function zU(t,s){if(!t)return 0;try{t=s.map(function(l){return l.id||(l.id=l.strRelID),[l.name,t["!id"][l.id].Target,VU(t["!id"][l.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function XU(t,s,r,l,c,f,p,x,w,P,C,F){try{f[l]=df(fa(t,r,!0),s);var L=Ps(t,s),B;switch(x){case"sheet":B=hY(L,s,c,w,f[l],P,C,F);break;case"chart":if(B=cY(L,s,c,w,f[l],P,C,F),!B||!B["!drawel"])break;var U=jd(B["!drawel"].Target,s),Y=Gf(U),Q=qz(fa(t,U,!0),df(fa(t,Y,!0),U)),N=jd(Q,U),X=Gf(N);B=R7(fa(t,N,!0),N,w,df(fa(t,X,!0),N),P,B);break;case"macro":B=uY(L,s,c,w,f[l],P,C,F);break;case"dialog":B=dY(L,s,c,w,f[l],P,C,F);break;default:throw new Error("Unrecognized sheet type "+x)}p[l]=B;var W=[];f&&f[l]&&fs(f[l]).forEach(function(he){var K="";if(f[l][he].Type==Zi.CMNT){K=jd(f[l][he].Target,s);var le=pY(Ps(t,K,!0),K,w);if(!le||!le.length)return;L2(B,le,!1)}f[l][he].Type==Zi.TCMNT&&(K=jd(f[l][he].Target,s),W=W.concat(Jz(Ps(t,K,!0),w)))}),W&&W.length&&L2(B,W,!0,w.people||[])}catch(he){if(w.WTF)throw he}}function _a(t){return t.charAt(0)=="/"?t.slice(1):t}function HU(t,s){if(kd(),s=s||{},cb(s),Ra(t,"META-INF/manifest.xml")||Ra(t,"objectdata.xml"))return W2(t,s);if(Ra(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Cv<"u"){if(t.FileIndex)return Cv(t);var r=Ti.utils.cfb_new();return t2(t).forEach(function(He){Wi(r,He,tD(t,He))}),Cv(r)}throw new Error("Unsupported NUMBERS file")}if(!Ra(t,"[Content_Types].xml"))throw Ra(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ra(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var l=t2(t),c=G5(fa(t,"[Content_Types].xml")),f=!1,p,x;if(c.workbooks.length===0&&(x="xl/workbook.xml",Ps(t,x,!0)&&c.workbooks.push(x)),c.workbooks.length===0){if(x="xl/workbook.bin",!Ps(t,x,!0))throw new Error("Could not find workbook");c.workbooks.push(x),f=!0}c.workbooks[0].slice(-3)=="bin"&&(f=!0);var w={},P={};if(!s.bookSheets&&!s.bookProps){if(ff=[],c.sst)try{ff=mY(Ps(t,_a(c.sst)),c.sst,s)}catch(He){if(s.WTF)throw He}s.cellStyles&&c.themes.length&&(w=gY(fa(t,c.themes[0].replace(/^\//,""),!0)||"",c.themes[0],s)),c.style&&(P=fY(Ps(t,_a(c.style)),c.style,w,s))}c.links.map(function(He){try{var je=df(fa(t,Gf(_a(He))),He);return xY(Ps(t,_a(He)),je,He,s)}catch{}});var C=lY(Ps(t,_a(c.workbooks[0])),c.workbooks[0],s),F={},L="";c.coreprops.length&&(L=Ps(t,_a(c.coreprops[0]),!0),L&&(F=MD(L)),c.extprops.length!==0&&(L=Ps(t,_a(c.extprops[0]),!0),L&&Q5(L,F,s)));var B={};(!s.bookSheets||s.bookProps)&&c.custprops.length!==0&&(L=fa(t,_a(c.custprops[0]),!0),L&&(B=t8(L,s)));var U={};if((s.bookSheets||s.bookProps)&&(C.Sheets?p=C.Sheets.map(function(je){return je.name}):F.Worksheets&&F.SheetNames.length>0&&(p=F.SheetNames),s.bookProps&&(U.Props=F,U.Custprops=B),s.bookSheets&&typeof p<"u"&&(U.SheetNames=p),s.bookSheets?U.SheetNames:s.bookProps))return U;p={};var Y={};s.bookDeps&&c.calcchain&&(Y=vY(Ps(t,_a(c.calcchain)),c.calcchain));var Q=0,N={},X,W;{var he=C.Sheets;F.Worksheets=he.length,F.SheetNames=[];for(var K=0;K!=he.length;++K)F.SheetNames[K]=he[K].name}var le=f?"bin":"xml",G=c.workbooks[0].lastIndexOf("/"),oe=(c.workbooks[0].slice(0,G+1)+"_rels/"+c.workbooks[0].slice(G+1)+".rels").replace(/^\//,"");Ra(t,oe)||(oe="xl/_rels/workbook."+le+".rels");var fe=df(fa(t,oe,!0),oe.replace(/_rels.*/,"s5s"));(c.metadata||[]).length>=1&&(s.xlmeta=yY(Ps(t,_a(c.metadata[0])),c.metadata[0],s)),(c.people||[]).length>=1&&(s.people=eX(Ps(t,_a(c.people[0])),s)),fe&&(fe=zU(fe,C.Sheets));var pe=Ps(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(Q=0;Q!=F.Worksheets;++Q){var Te="sheet";if(fe&&fe[Q]?(X="xl/"+fe[Q][1].replace(/[\/]?xl\//,""),Ra(t,X)||(X=fe[Q][1]),Ra(t,X)||(X=oe.replace(/_rels\/.*$/,"")+fe[Q][1]),Te=fe[Q][2]):(X="xl/worksheets/sheet"+(Q+1-pe)+"."+le,X=X.replace(/sheet0\./,"sheet.")),W=X.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&s.sheets!=null)switch(typeof s.sheets){case"number":if(Q!=s.sheets)continue e;break;case"string":if(F.SheetNames[Q].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var De=!1,Me=0;Me!=s.sheets.length;++Me)typeof s.sheets[Me]=="number"&&s.sheets[Me]==Q&&(De=1),typeof s.sheets[Me]=="string"&&s.sheets[Me].toLowerCase()==F.SheetNames[Q].toLowerCase()&&(De=1);if(!De)continue e}}XU(t,X,W,F.SheetNames[Q],Q,N,p,Te,s,C,w,P)}return U={Directory:c,Workbook:C,Props:F,Custprops:B,Deps:Y,Sheets:p,SheetNames:F.SheetNames,Strings:ff,Styles:P,Themes:w,SSF:Hn(Mi)},s&&s.bookFiles&&(t.files?(U.keys=l,U.files=t.files):(U.keys=[],U.files={},t.FullPaths.forEach(function(He,je){He=He.replace(/^Root Entry[\/]/,""),U.keys.push(He),U.files[He]=t.FileIndex[je]}))),s&&s.bookVBA&&(c.vba.length>0?U.vbaraw=Ps(t,_a(c.vba[0]),!0):c.defaults&&c.defaults.bin===lX&&(U.vbaraw=Ps(t,"xl/vbaProject.bin",!0))),U}function YU(t,s){var r=s||{},l="Workbook",c=Ti.find(t,l);try{if(l="/!DataSpaces/Version",c=Ti.find(t,l),!c||!c.content)throw new Error("ECMA-376 Encrypted file missing "+l);if(y6(c.content),l="/!DataSpaces/DataSpaceMap",c=Ti.find(t,l),!c||!c.content)throw new Error("ECMA-376 Encrypted file missing "+l);var f=w6(c.content);if(f.length!==1||f[0].comps.length!==1||f[0].comps[0].t!==0||f[0].name!=="StrongEncryptionDataSpace"||f[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+l);if(l="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",c=Ti.find(t,l),!c||!c.content)throw new Error("ECMA-376 Encrypted file missing "+l);var p=k6(c.content);if(p.length!=1||p[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+l);if(l="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",c=Ti.find(t,l),!c||!c.content)throw new Error("ECMA-376 Encrypted file missing "+l);C6(c.content)}catch{}if(l="/EncryptionInfo",c=Ti.find(t,l),!c||!c.content)throw new Error("ECMA-376 Encrypted file missing "+l);var x=A6(c.content);if(l="/EncryptedPackage",c=Ti.find(t,l),!c||!c.content)throw new Error("ECMA-376 Encrypted file missing "+l);if(x[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(x[1],c.content,r.password||"",r);if(x[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(x[1],c.content,r.password||"",r);throw new Error("File is password-protected")}function UU(t,s){return s.bookType=="ods"?zM(t,s):s.bookType=="numbers"?BU(t,s):s.bookType=="xlsb"?WU(t,s):GU(t,s)}function WU(t,s){ku=1024,t&&!t.SSF&&(t.SSF=Hn(Mi)),t&&t.SSF&&(kd(),jm(t.SSF),s.revssf=Km(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,gf?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r=s.bookType=="xlsb"?"bin":"xml",l=gM.indexOf(s.bookType)>-1,c=qy();ub(s=s||{});var f=Oy(),p="",x=0;if(s.cellXfs=[],Fh(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),p="docProps/core.xml",Wi(f,p,ED(t.Props,s)),c.coreprops.push(p),Sn(s.rels,2,p,Zi.CORE_PROPS),p="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var w=[],P=0;P<t.SheetNames.length;++P)(t.Workbook.Sheets[P]||{}).Hidden!=2&&w.push(t.SheetNames[P]);t.Props.SheetNames=w}for(t.Props.Worksheets=t.Props.SheetNames.length,Wi(f,p,ND(t.Props)),c.extprops.push(p),Sn(s.rels,3,p,Zi.EXT_PROPS),t.Custprops!==t.Props&&fs(t.Custprops||{}).length>0&&(p="docProps/custom.xml",Wi(f,p,LD(t.Custprops)),c.custprops.push(p),Sn(s.rels,4,p,Zi.CUST_PROPS)),x=1;x<=t.SheetNames.length;++x){var C={"!id":{}},F=t.Sheets[t.SheetNames[x-1]],L=(F||{})["!type"]||"sheet";switch(L){case"chart":default:p="xl/worksheets/sheet"+x+"."+r,Wi(f,p,wY(x-1,p,s,t,C)),c.sheets.push(p),Sn(s.wbrels,-1,"worksheets/sheet"+x+"."+r,Zi.WS[0])}if(F){var B=F["!comments"],U=!1,Y="";B&&B.length>0&&(Y="xl/comments"+x+"."+r,Wi(f,Y,CY(B,Y)),c.comments.push(Y),Sn(C,-1,"../comments"+x+"."+r,Zi.CMNT),U=!0),F["!legacy"]&&U&&Wi(f,"xl/drawings/vmlDrawing"+x+".vml",dM(x,F["!comments"])),delete F["!comments"],delete F["!legacy"]}C["!id"].rId1&&Wi(f,Gf(p),Lu(C))}return s.Strings!=null&&s.Strings.length>0&&(p="xl/sharedStrings."+r,Wi(f,p,SY(s.Strings,p,s)),c.strs.push(p),Sn(s.wbrels,-1,"sharedStrings."+r,Zi.SST)),p="xl/workbook."+r,Wi(f,p,bY(t,p)),c.workbooks.push(p),Sn(s.rels,1,p,Zi.WB),p="xl/theme/theme1.xml",Wi(f,p,ib(t.Themes,s)),c.themes.push(p),Sn(s.wbrels,-1,"theme/theme1.xml",Zi.THEME),p="xl/styles."+r,Wi(f,p,kY(t,p,s)),c.styles.push(p),Sn(s.wbrels,-1,"styles."+r,Zi.STY),t.vbaraw&&l&&(p="xl/vbaProject.bin",Wi(f,p,t.vbaraw),c.vba.push(p),Sn(s.wbrels,-1,"vbaProject.bin",Zi.VBA)),p="xl/metadata."+r,Wi(f,p,AY(p)),c.metadata.push(p),Sn(s.wbrels,-1,"metadata."+r,Zi.XLMETA),Wi(f,"[Content_Types].xml",PD(c,s)),Wi(f,"_rels/.rels",Lu(s.rels)),Wi(f,"xl/_rels/workbook."+r+".rels",Lu(s.wbrels)),delete s.revssf,delete s.ssf,f}function GU(t,s){ku=1024,t&&!t.SSF&&(t.SSF=Hn(Mi)),t&&t.SSF&&(kd(),jm(t.SSF),s.revssf=Km(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,gf?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r="xml",l=gM.indexOf(s.bookType)>-1,c=qy();ub(s=s||{});var f=Oy(),p="",x=0;if(s.cellXfs=[],Fh(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),p="docProps/core.xml",Wi(f,p,ED(t.Props,s)),c.coreprops.push(p),Sn(s.rels,2,p,Zi.CORE_PROPS),p="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var w=[],P=0;P<t.SheetNames.length;++P)(t.Workbook.Sheets[P]||{}).Hidden!=2&&w.push(t.SheetNames[P]);t.Props.SheetNames=w}t.Props.Worksheets=t.Props.SheetNames.length,Wi(f,p,ND(t.Props)),c.extprops.push(p),Sn(s.rels,3,p,Zi.EXT_PROPS),t.Custprops!==t.Props&&fs(t.Custprops||{}).length>0&&(p="docProps/custom.xml",Wi(f,p,LD(t.Custprops)),c.custprops.push(p),Sn(s.rels,4,p,Zi.CUST_PROPS));var C=["SheetJ5"];for(s.tcid=0,x=1;x<=t.SheetNames.length;++x){var F={"!id":{}},L=t.Sheets[t.SheetNames[x-1]],B=(L||{})["!type"]||"sheet";switch(B){case"chart":default:p="xl/worksheets/sheet"+x+"."+r,Wi(f,p,AM(x-1,s,t,F)),c.sheets.push(p),Sn(s.wbrels,-1,"worksheets/sheet"+x+"."+r,Zi.WS[0])}if(L){var U=L["!comments"],Y=!1,Q="";if(U&&U.length>0){var N=!1;U.forEach(function(X){X[1].forEach(function(W){W.T==!0&&(N=!0)})}),N&&(Q="xl/threadedComments/threadedComment"+x+"."+r,Wi(f,Q,Qz(U,C,s)),c.threadedcomments.push(Q),Sn(F,-1,"../threadedComments/threadedComment"+x+"."+r,Zi.TCMNT)),Q="xl/comments"+x+"."+r,Wi(f,Q,fM(U)),c.comments.push(Q),Sn(F,-1,"../comments"+x+"."+r,Zi.CMNT),Y=!0}L["!legacy"]&&Y&&Wi(f,"xl/drawings/vmlDrawing"+x+".vml",dM(x,L["!comments"])),delete L["!comments"],delete L["!legacy"]}F["!id"].rId1&&Wi(f,Gf(p),Lu(F))}return s.Strings!=null&&s.Strings.length>0&&(p="xl/sharedStrings."+r,Wi(f,p,eM(s.Strings,s)),c.strs.push(p),Sn(s.wbrels,-1,"sharedStrings."+r,Zi.SST)),p="xl/workbook."+r,Wi(f,p,EM(t)),c.workbooks.push(p),Sn(s.rels,1,p,Zi.WB),p="xl/theme/theme1.xml",Wi(f,p,ib(t.Themes,s)),c.themes.push(p),Sn(s.wbrels,-1,"theme/theme1.xml",Zi.THEME),p="xl/styles."+r,Wi(f,p,lM(t,s)),c.styles.push(p),Sn(s.wbrels,-1,"styles."+r,Zi.STY),t.vbaraw&&l&&(p="xl/vbaProject.bin",Wi(f,p,t.vbaraw),c.vba.push(p),Sn(s.wbrels,-1,"vbaProject.bin",Zi.VBA)),p="xl/metadata."+r,Wi(f,p,uM()),c.metadata.push(p),Sn(s.wbrels,-1,"metadata."+r,Zi.XLMETA),C.length>1&&(p="xl/persons/person.xml",Wi(f,p,tX(C)),c.people.push(p),Sn(s.wbrels,-1,"persons/person.xml",Zi.PEOPLE)),Wi(f,"[Content_Types].xml",PD(c,s)),Wi(f,"_rels/.rels",Lu(s.rels)),Wi(f,"xl/_rels/workbook."+r+".rels",Lu(s.wbrels)),delete s.revssf,delete s.ssf,f}function db(t,s){var r="";switch((s||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ya(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function jU(t,s){return Ti.find(t,"EncryptedPackage")?YU(t,s):LM(t,s)}function $U(t,s){var r,l=t,c=s||{};return c.type||(c.type=$i&&Buffer.isBuffer(t)?"buffer":"base64"),r=iD(l,c),HU(r,c)}function HM(t,s){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Ux(t.slice(r),s);default:break e}return td.to_workbook(t,s)}function KU(t,s){var r="",l=db(t,s);switch(s.type){case"base64":r=ya(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=bc(t);break;default:throw new Error("Unrecognized type "+s.type)}return l[0]==239&&l[1]==187&&l[2]==191&&(r=_n(r)),s.type="binary",HM(r,s)}function qU(t,s){var r=t;return s.type=="base64"&&(r=ya(r)),r=Jl.utils.decode(1200,r.slice(2),"str"),s.type="binary",HM(r,s)}function ZU(t){return t.match(/[^\x00-\x7F]/)?zo(t):t}function Av(t,s,r,l){return l?(r.type="string",td.to_workbook(t,r)):td.to_workbook(s,r)}function jx(t,s){_y();var r=s||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return jx(new Uint8Array(t),(r=Hn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var l=t,c=[0,0,0,0],f=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ou={},r.dateNF&&(Ou.dateNF=r.dateNF),r.type||(r.type=$i&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=$i?"buffer":"binary",l=GB(t),typeof Uint8Array<"u"&&!$i&&(r.type="array")),r.type=="string"&&(f=!0,r.type="binary",r.codepage=65001,l=ZU(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var p=new ArrayBuffer(3),x=new Uint8Array(p);if(x.foo="bar",!x.foo)return r=Hn(r),r.type="array",jx(Fy(l),r)}switch((c=db(l,r))[0]){case 208:if(c[1]===207&&c[2]===17&&c[3]===224&&c[4]===161&&c[5]===177&&c[6]===26&&c[7]===225)return jU(Ti.read(l,r),r);break;case 9:if(c[1]<=8)return LM(l,r);break;case 60:return Ux(l,r);case 73:if(c[1]===73&&c[2]===42&&c[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(c[1]===68)return i6(l,r);break;case 84:if(c[1]===65&&c[2]===66&&c[3]===76)return JD.to_workbook(l,r);break;case 80:return c[1]===75&&c[2]<9&&c[3]<9?$U(l,r):Av(t,l,r,f);case 239:return c[3]===60?Ux(l,r):Av(t,l,r,f);case 255:if(c[1]===254)return qU(l,r);if(c[1]===0&&c[2]===2&&c[3]===0)return dc.to_workbook(l,r);break;case 0:if(c[1]===0&&(c[2]>=2&&c[3]===0||c[2]===0&&(c[3]===8||c[3]===9)))return dc.to_workbook(l,r);break;case 3:case 131:case 139:case 140:return Yx.to_workbook(l,r);case 123:if(c[1]===92&&c[2]===114&&c[3]===116)return rM.to_workbook(l,r);break;case 10:case 13:case 32:return KU(l,r);case 137:if(c[1]===80&&c[2]===78&&c[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return t6.indexOf(c[0])>-1&&c[2]<=12&&c[3]<=31?Yx.to_workbook(l,r):Av(t,l,r,f)}function YM(t,s){switch(s.type){case"base64":case"binary":break;case"buffer":case"array":s.type="";break;case"file":return f0(s.file,Ti.write(t,{type:$i?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");default:throw new Error("Unrecognized type "+s.type)}return Ti.write(t,s)}function JU(t,s){var r=Hn(s||{}),l=UU(t,r);return QU(l,r)}function QU(t,s){var r={},l=$i?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(s.compression&&(r.compression="DEFLATE"),s.password)r.type=l;else switch(s.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");case"buffer":case"file":r.type=l;break;default:throw new Error("Unrecognized type "+s.type)}var c=t.FullPaths?Ti.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!s.compression}):t.generate(r);if(typeof Deno<"u"&&typeof c=="string"){if(s.type=="binary"||s.type=="base64")return c;c=new Uint8Array(Gm(c))}return s.password&&typeof encrypt_agile<"u"?YM(encrypt_agile(c,s.password),s):s.type==="file"?f0(s.file,c):s.type=="string"?_n(c):c}function eW(t,s){var r=s||{},l=ZY(t,r);return YM(l,r)}function Fo(t,s,r){r||(r="");var l=r+t;switch(s.type){case"base64":return Xf(zo(l));case"binary":return zo(l);case"string":return t;case"file":return f0(s.file,l,"utf8");case"buffer":return $i?El(l,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(l):Fo(l,{type:"binary"}).split("").map(function(c){return c.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function tW(t,s){switch(s.type){case"base64":return Xf(t);case"binary":return t;case"string":return t;case"file":return f0(s.file,t,"binary");case"buffer":return $i?El(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function ag(t,s){switch(s.type){case"string":case"base64":case"binary":for(var r="",l=0;l<t.length;++l)r+=String.fromCharCode(t[l]);return s.type=="base64"?Xf(r):s.type=="string"?_n(r):r;case"file":return f0(s.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+s.type)}}function UM(t,s){_y(),j7(t);var r=Hn(s||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var l=UM(t,r);return r.type="array",Gm(l)}var c=0;if(r.sheet&&(typeof r.sheet=="number"?c=r.sheet:c=t.SheetNames.indexOf(r.sheet),!t.SheetNames[c]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Fo(UY(t,r),r);case"slk":case"sylk":return Fo(ZD.from_sheet(t.Sheets[t.SheetNames[c]],r),r);case"htm":case"html":return Fo(OM(t.Sheets[t.SheetNames[c]],r),r);case"txt":return tW(WM(t.Sheets[t.SheetNames[c]],r),r);case"csv":return Fo(fb(t.Sheets[t.SheetNames[c]],r),r,"\uFEFF");case"dif":return Fo(JD.from_sheet(t.Sheets[t.SheetNames[c]],r),r);case"dbf":return ag(Yx.from_sheet(t.Sheets[t.SheetNames[c]],r),r);case"prn":return Fo(td.from_sheet(t.Sheets[t.SheetNames[c]],r),r);case"rtf":return Fo(rM.from_sheet(t.Sheets[t.SheetNames[c]],r),r);case"eth":return Fo(QD.from_sheet(t.Sheets[t.SheetNames[c]],r),r);case"fods":return Fo(zM(t,r),r);case"wk1":return ag(dc.sheet_to_wk1(t.Sheets[t.SheetNames[c]],r),r);case"wk3":return ag(dc.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ag(IM(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),eW(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return JU(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function iW(t){if(!t.bookType){var s={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=s[t.bookType]||t.bookType}}function nW(t,s,r){var l=r||{};return l.type="file",l.file=s,iW(l),UM(t,l)}function sW(t,s,r,l,c,f,p,x){var w=bs(r),P=x.defval,C=x.raw||!Object.prototype.hasOwnProperty.call(x,"raw"),F=!0,L=c===1?[]:{};if(c!==1)if(Object.defineProperty)try{Object.defineProperty(L,"__rowNum__",{value:r,enumerable:!1})}catch{L.__rowNum__=r}else L.__rowNum__=r;if(!p||t[r])for(var B=s.s.c;B<=s.e.c;++B){var U=p?t[r][B]:t[l[B]+w];if(U===void 0||U.t===void 0){if(P===void 0)continue;f[B]!=null&&(L[f[B]]=P);continue}var Y=U.v;switch(U.t){case"z":if(Y==null)break;continue;case"e":Y=Y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+U.t)}if(f[B]!=null){if(Y==null)if(U.t=="e"&&Y===null)L[f[B]]=null;else if(P!==void 0)L[f[B]]=P;else if(C&&Y===null)L[f[B]]=null;else continue;else L[f[B]]=C&&(U.t!=="n"||U.t==="n"&&x.rawNumbers!==!1)?Y:yl(U,Y,x);Y!=null&&(F=!1)}}return{row:L,isempty:F}}function om(t,s){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},l=0,c=1,f=[],p=0,x="",w={s:{r:0,c:0},e:{r:0,c:0}},P=s||{},C=P.range!=null?P.range:t["!ref"];switch(P.header===1?l=1:P.header==="A"?l=2:Array.isArray(P.header)?l=3:P.header==null&&(l=0),typeof C){case"string":w=hn(C);break;case"number":w=hn(t["!ref"]),w.s.r=C;break;default:w=C}l>0&&(c=0);var F=bs(w.s.r),L=[],B=[],U=0,Y=0,Q=Array.isArray(t),N=w.s.r,X=0,W={};Q&&!t[N]&&(t[N]=[]);var he=P.skipHidden&&t["!cols"]||[],K=P.skipHidden&&t["!rows"]||[];for(X=w.s.c;X<=w.e.c;++X)if(!(he[X]||{}).hidden)switch(L[X]=ts(X),r=Q?t[N][X]:t[L[X]+F],l){case 1:f[X]=X-w.s.c;break;case 2:f[X]=L[X];break;case 3:f[X]=P.header[X-w.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),x=p=yl(r,null,P),Y=W[p]||0,!Y)W[p]=1;else{do x=p+"_"+Y++;while(W[x]);W[p]=Y,W[x]=1}f[X]=x}for(N=w.s.r+c;N<=w.e.r;++N)if(!(K[N]||{}).hidden){var le=sW(t,w,N,L,l,f,Q,P);(le.isempty===!1||(l===1?P.blankrows!==!1:P.blankrows))&&(B[U++]=le.row)}return B.length=U,B}var q2=/"/g;function rW(t,s,r,l,c,f,p,x){for(var w=!0,P=[],C="",F=bs(r),L=s.s.c;L<=s.e.c;++L)if(l[L]){var B=x.dense?(t[r]||[])[L]:t[l[L]+F];if(B==null)C="";else if(B.v!=null){w=!1,C=""+(x.rawNumbers&&B.t=="n"?B.v:yl(B,null,x));for(var U=0,Y=0;U!==C.length;++U)if((Y=C.charCodeAt(U))===c||Y===f||Y===34||x.forceQuotes){C='"'+C.replace(q2,'""')+'"';break}C=="ID"&&(C='"ID"')}else B.f!=null&&!B.F?(w=!1,C="="+B.f,C.indexOf(",")>=0&&(C='"'+C.replace(q2,'""')+'"')):C="";P.push(C)}return x.blankrows===!1&&w?null:P.join(p)}function fb(t,s){var r=[],l=s??{};if(t==null||t["!ref"]==null)return"";var c=hn(t["!ref"]),f=l.FS!==void 0?l.FS:",",p=f.charCodeAt(0),x=l.RS!==void 0?l.RS:`
`,w=x.charCodeAt(0),P=new RegExp((f=="|"?"\\|":f)+"+$"),C="",F=[];l.dense=Array.isArray(t);for(var L=l.skipHidden&&t["!cols"]||[],B=l.skipHidden&&t["!rows"]||[],U=c.s.c;U<=c.e.c;++U)(L[U]||{}).hidden||(F[U]=ts(U));for(var Y=0,Q=c.s.r;Q<=c.e.r;++Q)(B[Q]||{}).hidden||(C=rW(t,c,Q,F,p,w,f,l),C!=null&&(l.strip&&(C=C.replace(P,"")),(C||l.blankrows!==!1)&&r.push((Y++?x:"")+C)));return delete l.dense,r.join("")}function WM(t,s){s||(s={}),s.FS="	",s.RS=`
`;var r=fb(t,s);return r}function aW(t){var s="",r,l="";if(t==null||t["!ref"]==null)return[];var c=hn(t["!ref"]),f="",p=[],x,w=[],P=Array.isArray(t);for(x=c.s.c;x<=c.e.c;++x)p[x]=ts(x);for(var C=c.s.r;C<=c.e.r;++C)for(f=bs(C),x=c.s.c;x<=c.e.c;++x)if(s=p[x]+f,r=P?(t[C]||[])[x]:t[s],l="",r!==void 0){if(r.F!=null){if(s=r.F,!r.f)continue;l=r.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(r.f!=null)l=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)l=""+r.v;else if(r.t=="b")l=r.v?"TRUE":"FALSE";else if(r.w!==void 0)l="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?l="'"+r.v:l=""+r.v}}w[w.length]=s+"="+l}return w}function GM(t,s,r){var l=r||{},c=+!l.skipHeader,f=t||{},p=0,x=0;if(f&&l.origin!=null)if(typeof l.origin=="number")p=l.origin;else{var w=typeof l.origin=="string"?is(l.origin):l.origin;p=w.r,x=w.c}var P,C={s:{c:0,r:0},e:{c:x,r:p+s.length-1+c}};if(f["!ref"]){var F=hn(f["!ref"]);C.e.c=Math.max(C.e.c,F.e.c),C.e.r=Math.max(C.e.r,F.e.r),p==-1&&(p=F.e.r+1,C.e.r=p+s.length-1+c)}else p==-1&&(p=0,C.e.r=s.length-1+c);var L=l.header||[],B=0;s.forEach(function(Y,Q){fs(Y).forEach(function(N){(B=L.indexOf(N))==-1&&(L[B=L.length]=N);var X=Y[N],W="z",he="",K=Fi({c:x+B,r:p+Q+c});P=Qf(f,K),X&&typeof X=="object"&&!(X instanceof Date)?f[K]=X:(typeof X=="number"?W="n":typeof X=="boolean"?W="b":typeof X=="string"?W="s":X instanceof Date?(W="d",l.cellDates||(W="n",X=Is(X)),he=l.dateNF||Mi[14]):X===null&&l.nullError&&(W="e",X=0),P?(P.t=W,P.v=X,delete P.w,delete P.R,he&&(P.z=he)):f[K]=P={t:W,v:X},he&&(P.z=he))})}),C.e.c=Math.max(C.e.c,x+L.length-1);var U=bs(p);if(c)for(B=0;B<L.length;++B)f[ts(B+x)+U]={t:"s",v:L[B]};return f["!ref"]=Ui(C),f}function oW(t,s){return GM(null,t,s)}function Qf(t,s,r){if(typeof s=="string"){if(Array.isArray(t)){var l=is(s);return t[l.r]||(t[l.r]=[]),t[l.r][l.c]||(t[l.r][l.c]={t:"z"})}return t[s]||(t[s]={t:"z"})}return typeof s!="number"?Qf(t,Fi(s)):Qf(t,Fi({r:s,c:r||0}))}function lW(t,s){if(typeof s=="number"){if(s>=0&&t.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var r=t.SheetNames.indexOf(s);if(r>-1)return r;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function gb(){return{SheetNames:[],Sheets:{}}}function mb(t,s,r,l){var c=1;if(!r)for(;c<=65535&&t.SheetNames.indexOf(r="Sheet"+c)!=-1;++c,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(l&&t.SheetNames.indexOf(r)>=0){var f=r.match(/(^.*?)(\d+)$/);c=f&&+f[2]||0;var p=f&&f[1]||r;for(++c;c<=65535&&t.SheetNames.indexOf(r=p+c)!=-1;++c);}if(MM(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=s,r}function hW(t,s,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var l=lW(t,s);switch(t.Workbook.Sheets[l]||(t.Workbook.Sheets[l]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[l].Hidden=r}function cW(t,s){return t.z=s,t}function jM(t,s,r){return s?(t.l={Target:s},r&&(t.l.Tooltip=r)):delete t.l,t}function uW(t,s,r){return jM(t,"#"+s,r)}function dW(t,s,r){t.c||(t.c=[]),t.c.push({t:s,a:r||"SheetJS"})}function fW(t,s,r,l){for(var c=typeof s!="string"?s:hn(s),f=typeof s=="string"?s:Ui(s),p=c.s.r;p<=c.e.r;++p)for(var x=c.s.c;x<=c.e.c;++x){var w=Qf(t,p,x);w.t="n",w.F=f,delete w.v,p==c.s.r&&x==c.s.c&&(w.f=r,l&&(w.D=!0))}return t}var og={encode_col:ts,encode_row:bs,encode_cell:Fi,encode_range:Ui,decode_col:Uy,decode_row:Yy,split_cell:S5,decode_cell:is,decode_range:Zr,format_cell:yl,sheet_add_aoa:bD,sheet_add_json:GM,sheet_add_dom:RM,aoa_to_sheet:Sd,json_to_sheet:oW,table_to_sheet:BM,table_to_book:yU,sheet_to_csv:fb,sheet_to_txt:WM,sheet_to_json:om,sheet_to_html:OM,sheet_to_formulae:aW,sheet_to_row_object_array:om,sheet_get_cell:Qf,book_new:gb,book_append_sheet:mb,book_set_sheet_visibility:hW,cell_set_number_format:cW,cell_set_hyperlink:jM,cell_set_internal_link:uW,cell_add_comment:dW,sheet_set_array_formula:fW,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const $M=Ci({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function KM(t,s){const r={},l=c=>()=>{if(!ws)return Promise.resolve(!0);const f=c==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(p=>{const x=parseInt(t[c]??0,10);r[c]=window.setTimeout(()=>{s==null||s(f),p(f)},x)})};return{runCloseDelay:l("closeDelay"),runOpenDelay:l("openDelay")}}const $x=Symbol.for("vuetify:v-menu"),gW=Ci({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...$M()},"v-overlay-activator");function mW(t,s){let{isActive:r,isTop:l}=s;const c=it();let f=!1,p=!1,x=!0;const w=_e(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),P=_e(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!w.value),{runOpenDelay:C,runCloseDelay:F}=KM(t,W=>{W===(t.openOnHover&&f||w.value&&p)&&!(t.openOnHover&&r.value&&!l.value)&&(r.value!==W&&(x=!0),r.value=W)}),L={click:W=>{W.stopPropagation(),c.value=W.currentTarget||W.target,r.value=!r.value},mouseenter:W=>{f=!0,c.value=W.currentTarget||W.target,C()},mouseleave:W=>{f=!1,F()},focus:W=>{wx&&!W.target.matches(":focus-visible")||(p=!0,W.stopPropagation(),c.value=W.currentTarget||W.target,C())},blur:W=>{p=!1,W.stopPropagation(),F()}},B=_e(()=>{const W={};return P.value&&(W.click=L.click),t.openOnHover&&(W.mouseenter=L.mouseenter,W.mouseleave=L.mouseleave),w.value&&(W.focus=L.focus,W.blur=L.blur),W}),U=_e(()=>{const W={};if(t.openOnHover&&(W.mouseenter=()=>{f=!0,C()},W.mouseleave=()=>{f=!1,F()}),t.closeOnContentClick){const he=Hi($x,null);W.click=()=>{r.value=!1,he==null||he.closeParents()}}return W}),Y=_e(()=>{const W={};return t.openOnHover&&(W.mouseenter=()=>{x&&(f=!0,x=!1,C())},W.mouseleave=()=>{f=!1,F()}),W});ui(l,W=>{W&&(t.openOnHover&&!f&&(!w.value||!p)||w.value&&!p&&(!t.openOnHover||!f))&&(r.value=!1)});const Q=it();Pr(()=>{Q.value&&on(()=>{const W=Q.value;c.value=aR(W)?W.$el:W})});const N=Qs("useActivator");let X;return ui(()=>!!t.activator,W=>{W&&ws?(X=gm(),X.run(()=>{pW(t,N,{activatorEl:c,activatorEvents:B})})):X&&X.stop()},{flush:"post",immediate:!0}),$r(()=>{X==null||X.stop()}),{activatorEl:c,activatorRef:Q,activatorEvents:B,contentEvents:U,scrimEvents:Y}}function pW(t,s,r){let{activatorEl:l,activatorEvents:c}=r;ui(()=>t.activator,(w,P)=>{if(P&&w!==P){const C=x(P);C&&p(C)}w&&on(()=>f())},{immediate:!0}),ui(()=>t.activatorProps,()=>{f()}),$r(()=>{p()});function f(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;w&&(Object.entries(c.value).forEach(C=>{let[F,L]=C;w.addEventListener(F,L)}),Object.keys(P).forEach(C=>{P[C]==null?w.removeAttribute(C):w.setAttribute(C,P[C])}))}function p(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;w&&(Object.entries(c.value).forEach(C=>{let[F,L]=C;w.removeEventListener(F,L)}),Object.keys(P).forEach(C=>{w.removeAttribute(C)}))}function x(){var C,F;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,P;if(w)if(w==="parent"){let L=(F=(C=s==null?void 0:s.proxy)==null?void 0:C.$el)==null?void 0:F.parentNode;for(;L.hasAttribute("data-no-activator");)L=L.parentNode;P=L}else typeof w=="string"?P=document.querySelector(w):"$el"in w?P=w.$el:P=w;return l.value=(P==null?void 0:P.nodeType)===Node.ELEMENT_NODE?P:null,l.value}}const tp=Ci({eager:Boolean},"lazy");function pb(t,s){const r=it(!1),l=_e(()=>r.value||t.eager||s.value);ui(s,()=>r.value=!0);function c(){t.eager||(r.value=!1)}return{isBooted:r,hasContent:l,onAfterLeave:c}}function Tv(t,s){return{x:t.x+s.x,y:t.y+s.y}}function vW(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Z2(t,s){if(t.side==="top"||t.side==="bottom"){const{side:r,align:l}=t,c=l==="left"?0:l==="center"?s.width/2:l==="right"?s.width:l,f=r==="top"?0:r==="bottom"?s.height:r;return Tv({x:c,y:f},s)}else if(t.side==="left"||t.side==="right"){const{side:r,align:l}=t,c=r==="left"?0:r==="right"?s.width:r,f=l==="top"?0:l==="center"?s.height/2:l==="bottom"?s.height:l;return Tv({x:c,y:f},s)}return Tv({x:s.width/2,y:s.height/2},s)}const qM={static:bW,connected:kW},xW=Ci({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in qM},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function yW(t,s){const r=it({}),l=it();ws&&(xc(()=>!!(s.isActive.value&&t.locationStrategy),f=>{var p,x;ui(()=>t.locationStrategy,f),$r(()=>{l.value=void 0}),typeof t.locationStrategy=="function"?l.value=(p=t.locationStrategy(s,t,r))==null?void 0:p.updateLocation:l.value=(x=qM[t.locationStrategy](s,t,r))==null?void 0:x.updateLocation}),window.addEventListener("resize",c,{passive:!0}),$r(()=>{window.removeEventListener("resize",c),l.value=void 0}));function c(f){var p;(p=l.value)==null||p.call(l,f)}return{contentStyles:r,updateLocation:l}}function bW(){}function wW(t){const s=sy(t);return s.x-=parseFloat(t.style.left||0),s.y-=parseFloat(t.style.top||0),s}function kW(t,s,r){_R(t.activatorEl.value)&&Object.assign(r.value,{position:"fixed"});const{preferredAnchor:c,preferredOrigin:f}=ny(()=>{const U=vx(s.location,t.isRtl.value),Y=s.origin==="overlap"?U:s.origin==="auto"?av(U):vx(s.origin,t.isRtl.value);return U.side===Y.side&&U.align===ov(Y).align?{preferredAnchor:dk(U),preferredOrigin:dk(Y)}:{preferredAnchor:U,preferredOrigin:Y}}),[p,x,w,P]=["minWidth","minHeight","maxWidth","maxHeight"].map(U=>_e(()=>{const Y=parseFloat(s[U]);return isNaN(Y)?1/0:Y})),C=_e(()=>{if(Array.isArray(s.offset))return s.offset;if(typeof s.offset=="string"){const U=s.offset.split(" ").map(parseFloat);return U.length<2&&U.push(0),U}return typeof s.offset=="number"?[s.offset,0]:[0,0]});let F=!1;const L=new ResizeObserver(()=>{F&&B()});ui([t.activatorEl,t.contentEl],(U,Y)=>{let[Q,N]=U,[X,W]=Y;X&&L.unobserve(X),Q&&L.observe(Q),W&&L.unobserve(W),N&&L.observe(N)},{immediate:!0}),$r(()=>{L.disconnect()});function B(){if(F=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>F=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const U=t.activatorEl.value.getBoundingClientRect(),Y=wW(t.contentEl.value),Q=Ug(t.contentEl.value),N=12;Q.length||(Q.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(Y.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),Y.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const X=Q.reduce((Te,De)=>{const Me=De.getBoundingClientRect(),He=new _u({x:De===document.documentElement?0:Me.x,y:De===document.documentElement?0:Me.y,width:De.clientWidth,height:De.clientHeight});return Te?new _u({x:Math.max(Te.left,He.left),y:Math.max(Te.top,He.top),width:Math.min(Te.right,He.right)-Math.max(Te.left,He.left),height:Math.min(Te.bottom,He.bottom)-Math.max(Te.top,He.top)}):He},void 0);X.x+=N,X.y+=N,X.width-=N*2,X.height-=N*2;let W={anchor:c.value,origin:f.value};function he(Te){const De=new _u(Y),Me=Z2(Te.anchor,U),He=Z2(Te.origin,De);let{x:je,y:tt}=vW(Me,He);switch(Te.anchor.side){case"top":tt-=C.value[0];break;case"bottom":tt+=C.value[0];break;case"left":je-=C.value[0];break;case"right":je+=C.value[0];break}switch(Te.anchor.align){case"top":tt-=C.value[1];break;case"bottom":tt+=C.value[1];break;case"left":je-=C.value[1];break;case"right":je+=C.value[1];break}return De.x+=je,De.y+=tt,De.width=Math.min(De.width,w.value),De.height=Math.min(De.height,P.value),{overflows:gk(De,X),x:je,y:tt}}let K=0,le=0;const G={x:0,y:0},oe={x:!1,y:!1};let fe=-1;for(;;){if(fe++>10){yx("Infinite loop detected in connectedLocationStrategy");break}const{x:Te,y:De,overflows:Me}=he(W);K+=Te,le+=De,Y.x+=Te,Y.y+=De;{const He=fk(W.anchor),je=Me.x.before||Me.x.after,tt=Me.y.before||Me.y.after;let Ze=!1;if(["x","y"].forEach(ft=>{if(ft==="x"&&je&&!oe.x||ft==="y"&&tt&&!oe.y){const Je={anchor:{...W.anchor},origin:{...W.origin}},dt=ft==="x"?He==="y"?ov:av:He==="y"?av:ov;Je.anchor=dt(Je.anchor),Je.origin=dt(Je.origin);const{overflows:at}=he(Je);(at[ft].before<=Me[ft].before&&at[ft].after<=Me[ft].after||at[ft].before+at[ft].after<(Me[ft].before+Me[ft].after)/2)&&(W=Je,Ze=oe[ft]=!0)}}),Ze)continue}Me.x.before&&(K+=Me.x.before,Y.x+=Me.x.before),Me.x.after&&(K-=Me.x.after,Y.x-=Me.x.after),Me.y.before&&(le+=Me.y.before,Y.y+=Me.y.before),Me.y.after&&(le-=Me.y.after,Y.y-=Me.y.after);{const He=gk(Y,X);G.x=X.width-He.x.before-He.x.after,G.y=X.height-He.y.before-He.y.after,K+=He.x.before,Y.x+=He.x.before,le+=He.y.before,Y.y+=He.y.before}break}const pe=fk(W.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${W.anchor.side} ${W.anchor.align}`,transformOrigin:`${W.origin.side} ${W.origin.align}`,top:ci(J2(le)),left:ci(J2(K)),minWidth:ci(pe==="y"?Math.min(p.value,U.width):p.value),maxWidth:ci(Q2(ga(G.x,p.value===1/0?0:p.value,w.value))),maxHeight:ci(Q2(ga(G.y,x.value===1/0?0:x.value,P.value)))}),{available:G,contentBox:Y}}return ui(()=>[c.value,f.value,s.offset,s.minWidth,s.minHeight,s.maxWidth,s.maxHeight],()=>B()),on(()=>{const U=B();if(!U)return;const{available:Y,contentBox:Q}=U;Q.height>Y.y&&requestAnimationFrame(()=>{B(),requestAnimationFrame(()=>{B()})})}),{updateLocation:B}}function J2(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function Q2(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Kx=!0;const lm=[];function SW(t){!Kx||lm.length?(lm.push(t),qx()):(Kx=!1,t(),qx())}let eS=-1;function qx(){cancelAnimationFrame(eS),eS=requestAnimationFrame(()=>{const t=lm.shift();t&&t(),lm.length?qx():Kx=!0})}const yg={none:null,close:TW,block:PW,reposition:DW},CW=Ci({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in yg}},"v-overlay-scroll-strategies");function AW(t,s){if(!ws)return;let r;Pr(async()=>{r==null||r.stop(),s.isActive.value&&t.scrollStrategy&&(r=gm(),await on(),r.active&&r.run(()=>{var l;typeof t.scrollStrategy=="function"?t.scrollStrategy(s,t,r):(l=yg[t.scrollStrategy])==null||l.call(yg,s,t,r)}))}),$r(()=>{r==null||r.stop()})}function TW(t){function s(r){t.isActive.value=!1}ZM(t.activatorEl.value??t.contentEl.value,s)}function PW(t,s){var p;const r=(p=t.root.value)==null?void 0:p.offsetParent,l=[...new Set([...Ug(t.activatorEl.value,s.contained?r:void 0),...Ug(t.contentEl.value,s.contained?r:void 0)])].filter(x=>!x.classList.contains("v-overlay-scroll-blocked")),c=window.innerWidth-document.documentElement.offsetWidth,f=(x=>oy(x)&&x)(r||document.documentElement);f&&t.root.value.classList.add("v-overlay--scroll-blocked"),l.forEach((x,w)=>{x.style.setProperty("--v-body-scroll-x",ci(-x.scrollLeft)),x.style.setProperty("--v-body-scroll-y",ci(-x.scrollTop)),x.style.setProperty("--v-scrollbar-offset",ci(c)),x.classList.add("v-overlay-scroll-blocked")}),$r(()=>{l.forEach((x,w)=>{const P=parseFloat(x.style.getPropertyValue("--v-body-scroll-x")),C=parseFloat(x.style.getPropertyValue("--v-body-scroll-y"));x.style.removeProperty("--v-body-scroll-x"),x.style.removeProperty("--v-body-scroll-y"),x.style.removeProperty("--v-scrollbar-offset"),x.classList.remove("v-overlay-scroll-blocked"),x.scrollLeft=-P,x.scrollTop=-C}),f&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function DW(t,s,r){let l=!1,c=-1,f=-1;function p(x){SW(()=>{var C,F;const w=performance.now();(F=(C=t.updateLocation).value)==null||F.call(C,x),l=(performance.now()-w)/(1e3/60)>2})}f=(typeof requestIdleCallback>"u"?x=>x():requestIdleCallback)(()=>{r.run(()=>{ZM(t.activatorEl.value??t.contentEl.value,x=>{l?(cancelAnimationFrame(c),c=requestAnimationFrame(()=>{c=requestAnimationFrame(()=>{p(x)})})):p(x)})})}),$r(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(f),cancelAnimationFrame(c)})}function ZM(t,s){const r=[document,...Ug(t)];r.forEach(l=>{l.addEventListener("scroll",s,{passive:!0})}),$r(()=>{r.forEach(l=>{l.removeEventListener("scroll",s)})})}function JM(){if(!ws)return it(!1);const{ssr:t}=Qr();if(t){const s=it(!1);return nn(()=>{s.value=!0}),s}else return it(!0)}function w0(){const s=Qs("useScopeId").vnode.scopeId;return{scopeId:s?{[s]:""}:void 0}}const tS=Symbol.for("vuetify:stack"),Vd=ji([]);function MW(t,s,r){const l=Qs("useStack"),c=!r,f=Hi(tS,void 0),p=ji({activeChildren:new Set});Tn(tS,p);const x=it(+s.value);xc(t,()=>{var F;const C=(F=Vd.at(-1))==null?void 0:F[1];x.value=C?C+10:+s.value,c&&Vd.push([l.uid,x.value]),f==null||f.activeChildren.add(l.uid),$r(()=>{if(c){const L=Di(Vd).findIndex(B=>B[0]===l.uid);Vd.splice(L,1)}f==null||f.activeChildren.delete(l.uid)})});const w=it(!0);c&&Pr(()=>{var F;const C=((F=Vd.at(-1))==null?void 0:F[0])===l.uid;setTimeout(()=>w.value=C)});const P=_e(()=>!p.activeChildren.size);return{globalTop:hd(w),localTop:P,stackStyles:_e(()=>({zIndex:x.value}))}}function EW(t){return{teleportTarget:_e(()=>{const r=t.value;if(r===!0||!ws)return;const l=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(l==null)return;let c=l.querySelector(":scope > .v-overlay-container");return c||(c=document.createElement("div"),c.className="v-overlay-container",l.appendChild(c)),c})}}function _W(t){const{modelValue:s,color:r,...l}=t;return ae(Ga,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&ae("div",ai({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},l),null)]})}const k0=Ci({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...gW(),...ko(),...tp(),...xW(),...CW(),...en(),...Dl()},"v-overlay"),bl=Lt()({name:"VOverlay",directives:{ClickOutside:MT},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...k0()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,s){let{slots:r,attrs:l,emit:c}=s;const f=Ei(t,"modelValue"),p=_e({get:()=>f.value,set:Je=>{Je&&t.disabled||(f.value=Je)}}),{teleportTarget:x}=EW(_e(()=>t.attach||t.contained)),{themeClasses:w}=mn(t),{rtlClasses:P,isRtl:C}=Cl(),{hasContent:F,onAfterLeave:L}=pb(t,p),B=ds(_e(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:U,localTop:Y,stackStyles:Q}=MW(p,Nt(t,"zIndex"),t._disableGlobalStack),{activatorEl:N,activatorRef:X,activatorEvents:W,contentEvents:he,scrimEvents:K}=mW(t,{isActive:p,isTop:Y}),{dimensionStyles:le}=So(t),G=JM(),{scopeId:oe}=w0();ui(()=>t.disabled,Je=>{Je&&(p.value=!1)});const fe=it(),pe=it(),{contentStyles:Te,updateLocation:De}=yW(t,{isRtl:C,contentEl:pe,activatorEl:N,isActive:p});AW(t,{root:fe,contentEl:pe,activatorEl:N,isActive:p,updateLocation:De});function Me(Je){c("click:outside",Je),t.persistent?ft():p.value=!1}function He(){return p.value&&U.value}ws&&ui(p,Je=>{Je?window.addEventListener("keydown",je):window.removeEventListener("keydown",je)},{immediate:!0});function je(Je){Je.key==="Escape"&&U.value&&(t.persistent?ft():p.value=!1)}const tt=rP();xc(()=>t.closeOnBack,()=>{x4(tt,Je=>{U.value&&p.value?(Je(!1),t.persistent?ft():p.value=!1):Je()})});const Ze=it();ui(()=>p.value&&(t.absolute||t.contained)&&x.value==null,Je=>{if(Je){const dt=gT(fe.value);dt&&dt!==document.scrollingElement&&(Ze.value=dt.scrollTop)}});function ft(){t.noClickAnimation||pe.value&&qh(pe.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:If})}return $t(()=>{var Je;return ae(bi,null,[(Je=r.activator)==null?void 0:Je.call(r,{isActive:p.value,props:ai({ref:X},dg(W.value),t.activatorProps)}),G.value&&ae(sC,{disabled:!x.value,to:x.value},{default:()=>[F.value&&ae("div",ai({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":p.value,"v-overlay--contained":t.contained},w.value,P.value],style:[Q.value,{top:ci(Ze.value)}],ref:fe},oe,l),[ae(_W,ai({color:B,modelValue:p.value&&!!t.scrim},dg(K.value)),null),ae(Vo,{appear:!0,persisted:!0,transition:t.transition,target:N.value,onAfterLeave:()=>{L(),c("afterLeave")}},{default:()=>{var dt;return[ln(ae("div",ai({ref:pe,class:["v-overlay__content",t.contentClass],style:[le.value,Te.value]},dg(he.value),t.contentProps),[(dt=r.default)==null?void 0:dt.call(r,{isActive:p})]),[[Ka,p.value],[Mr("click-outside"),{handler:Me,closeConditional:He,include:()=>[N.value]}]])]}})])]})])}),{activatorEl:N,animateClick:ft,contentEl:pe,globalTop:U,localTop:Y,updateLocation:De}}}),Pv=Symbol("Forwarded refs");function Co(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];return t[Pv]=r,new Proxy(t,{get(c,f){if(Reflect.has(c,f))return Reflect.get(c,f);for(const p of r)if(p.value&&Reflect.has(p.value,f)){const x=Reflect.get(p.value,f);return typeof x=="function"?x.bind(p.value):x}},getOwnPropertyDescriptor(c,f){const p=Reflect.getOwnPropertyDescriptor(c,f);if(p)return p;if(!(typeof f=="symbol"||f.startsWith("__"))){for(const x of r){if(!x.value)continue;const w=Reflect.getOwnPropertyDescriptor(x.value,f);if(w)return w;if("_"in x.value&&"setupState"in x.value._){const P=Reflect.getOwnPropertyDescriptor(x.value._.setupState,f);if(P)return P}}for(const x of r){let w=x.value&&Object.getPrototypeOf(x.value);for(;w;){const P=Reflect.getOwnPropertyDescriptor(w,f);if(P)return P;w=Object.getPrototypeOf(w)}}for(const x of r){const w=x.value&&x.value[Pv];if(!w)continue;const P=w.slice();for(;P.length;){const C=P.shift(),F=Reflect.getOwnPropertyDescriptor(C.value,f);if(F)return F;const L=C.value&&C.value[Pv];L&&P.push(...L)}}}}})}const vf=Lt()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...k0({origin:"center center",scrollStrategy:"block",transition:{component:Ym},zIndex:2400})},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{scopeId:c}=w0(),f=it();function p(w){var F,L;const P=w.relatedTarget,C=w.target;if(P!==C&&((F=f.value)!=null&&F.contentEl)&&((L=f.value)!=null&&L.globalTop)&&![document,f.value.contentEl].includes(C)&&!f.value.contentEl.contains(C)){const B=[...f.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(Q=>!Q.hasAttribute("disabled")&&!Q.matches('[tabindex="-1"]'));if(!B.length)return;const U=B[0],Y=B[B.length-1];P===U?Y.focus():U.focus()}}ws&&ui(()=>l.value&&t.retainFocus,w=>{w?document.addEventListener("focusin",p):document.removeEventListener("focusin",p)},{immediate:!0}),ui(l,async w=>{var P,C;await on(),w?(P=f.value.contentEl)==null||P.focus({preventScroll:!0}):(C=f.value.activatorEl)==null||C.focus({preventScroll:!0})});const x=_e(()=>ai({"aria-haspopup":"dialog","aria-expanded":String(l.value)},t.activatorProps));return $t(()=>{const[w]=bl.filterProps(t);return ae(bl,ai({ref:f,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}]},w,{modelValue:l.value,"onUpdate:modelValue":P=>l.value=P,"aria-role":"dialog","aria-modal":"true",activatorProps:x.value},c),{activator:r.activator,default:function(){for(var P=arguments.length,C=new Array(P),F=0;F<P;F++)C[F]=arguments[F];return ae(Cn,{root:!0},{default:()=>{var L;return[(L=r.default)==null?void 0:L.call(r,...C)]}})}})}),Co({},f)}});const QM=Lt()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ph({location:"bottom"}),...pd(),...Yn(),...Za(),...en(),...Ah(k0({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{locationStyles:c}=Dh(t),{positionClasses:f}=vd(t),{scopeId:p}=w0(),{themeClasses:x}=mn(t),{colorClasses:w,colorStyles:P,variantClasses:C}=Bc(t),{roundedClasses:F}=gs(t),L=it();ui(l,U),ui(()=>t.timeout,U),nn(()=>{l.value&&U()});let B=-1;function U(){window.clearTimeout(B);const Q=Number(t.timeout);!l.value||Q===-1||(B=window.setTimeout(()=>{l.value=!1},Q))}function Y(){window.clearTimeout(B)}return $t(()=>{const[Q]=bl.filterProps(t);return ae(bl,ai({ref:L,class:["v-snackbar",{"v-snackbar--active":l.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},f.value]},Q,{modelValue:l.value,"onUpdate:modelValue":N=>l.value=N,contentProps:ai({class:["v-snackbar__wrapper",x.value,w.value,F.value,C.value],style:[c.value,P.value],onPointerenter:Y,onPointerleave:U},Q.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},p),{default:()=>[Rc(!1,"v-snackbar"),r.default&&ae("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[r.default()]),r.actions&&ae(Cn,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[ae("div",{class:"v-snackbar__actions"},[r.actions()])]})],activator:r.activator})}),Co({},L)}}),eE=t=>(Nr("data-v-44483935"),t=t(),Lr(),t),FW={class:"page about"},NW={class:"about-title"},LW=eE(()=>pt("div",{class:"title1"},"  ",-1)),IW=eE(()=>pt("div",{class:"detail"},"          ,            . ",-1)),OW=yn({__name:"Grid",emits:["modelValue"],setup(t,{emit:s}){qa(),hs.registerPlugin(Ml);const r=it(!1),l=it(null),c=it(!1),f=it(""),p=it("success");function x(he,K){f.value=he,p.value=K,c.value=!0}const w=it(null),P=it(!1);function C(){w.value&&(F.value=w.value,w.value=null,P.value=!1,x("   .","success"))}const F=it([{id:"P-01",name:"Temperature",value:"72",status:"NORMAL",address:"PLC_D100",description:"Temperature Sensor"},{id:"P-02",name:"Pressure",value:"1.2bar",status:"ERROR",address:"PLC_D101",description:"Pressure Sensor"},{id:"P-03",name:"Flow",value:"15L/min",status:"NORMAL",address:"PLC_D102",description:"Flow Sensor"}]);function L(){const he=og.json_to_sheet(F.value),K=og.book_new();og.book_append_sheet(K,he,"Data"),nW(K,"equipment-parameters.xlsx")}const B=he=>{switch(he){case"NORMAL":return"green";case"ERROR":return"red";case"WARNING":return"yellow";default:return"grey"}},U=it(null);function Y(){var he;(he=U.value)==null||he.click()}function Q(he){const K=he.target;if(!K.files||K.files.length===0)return;const le=K.files[0],G=new FileReader;G.onload=oe=>{var He;const fe=(He=oe.target)==null?void 0:He.result;if(!fe)return;const pe=jx(fe,{type:"binary"}),Te=pe.SheetNames[0],De=pe.Sheets[Te],Me=og.sheet_to_json(De,{header:["id","name","value","status","address","description"],range:1,defval:"",blankrows:!0});if(Me.length>100){x("   100   .","warning"),K.value="";return}w.value=Me,P.value=!0,K.value=""},G.readAsBinaryString(le)}function N(){s("modelValue","grid",!1)}const X=[{title:"Id",key:"id"},{title:"Name",key:"name"},{title:"Value",key:"value"},{title:"Status",key:"status"},{title:"Address",key:"address"}],W=(he,K)=>{K!=null&&K.item&&setTimeout(()=>{l.value=K.item.columns,r.value=!r.value},150)};return it(""),it(!1),it(""),(he,K)=>{const le=Ec("v-data-table");return fi(),Gi("div",FW,[pt("div",NW,[LW,ae(xn,{icon:"",onClick:N},{default:Ut(()=>[ae(Bi,{icon:"mdi-close"})]),_:1})]),IW,ae(u0,{fluid:""},{default:Ut(()=>[ae(yh,null,{default:Ut(()=>[ae(Ho,{cols:"12"},{default:Ut(()=>[ae(xh,null,{default:Ut(()=>[ae(le,{headers:X,items:F.value,"items-per-page":10,"item-key":"id",density:"compact",hover:"",height:"48vh","fixed-header":"","onClick:row":W},{"item.status":Ut(({item:G})=>[ae(zc,{size:"small",color:B(G.props.title.status),variant:"flat"},{default:Ut(()=>[pi(sn(G.props.title.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),ae(yh,null,{default:Ut(()=>[ae(Ho,null,{default:Ut(()=>[pt("input",{ref_key:"fileInputRef",ref:U,type:"file",accept:".xlsx, .xls",hidden:"",onChange:Q},null,544),ae(xn,{color:"secondary",onClick:Y},{default:Ut(()=>[pi("Excel Import")]),_:1})]),_:1}),ae(Ho,{cols:"4"},{default:Ut(()=>[ae(xn,{color:"primary",onClick:L},{default:Ut(()=>[pi(" Excel Export ")]),_:1})]),_:1})]),_:1}),ae(QM,{modelValue:c.value,"onUpdate:modelValue":K[0]||(K[0]=G=>c.value=G),color:p.value,timeout:"1000"},{default:Ut(()=>[pi(sn(f.value),1)]),_:1},8,["modelValue","color"]),ae(vf,{modelValue:P.value,"onUpdate:modelValue":K[2]||(K[2]=G=>P.value=G),"max-width":"420"},{default:Ut(()=>[ae(xh,null,{default:Ut(()=>[ae(zm,null,{default:Ut(()=>[pi(" Import ")]),_:1}),ae(Qu,null,{default:Ut(()=>[pi("      .  ? ")]),_:1}),ae(gy,null,{default:Ut(()=>[ae(Ay),ae(xn,{variant:"text",onClick:K[1]||(K[1]=G=>P.value=!1)},{default:Ut(()=>[pi("  ")]),_:1}),ae(xn,{color:"primary",onClick:C},{default:Ut(()=>[pi("  ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(_r,{location:"right",width:"360",temporary:""},{default:Ut(()=>[r.value?(fi(),In(cB,{key:0,param:l.value,onClose:K[3]||(K[3]=G=>r.value=!1)},null,8,["param"])):zn("",!0)]),_:1})]),_:1})])}}});const tE=xr(OW,[["__scopeId","data-v-44483935"]]),vb=t=>(Nr("data-v-1b4a2a48"),t=t(),Lr(),t),RW=vb(()=>pt("strong",null,":",-1)),BW=vb(()=>pt("strong",null,":",-1)),VW=vb(()=>pt("strong",null,":",-1)),zW=yn({__name:"DiagramDetail",props:{param:null},emits:["close"],setup(t){return(s,r)=>(fi(),In(xh,{class:"diagram-detail"},{default:Ut(()=>[ae(zm,null,{default:Ut(()=>[pi("    "),ae(xn,{icon:"",onClick:r[0]||(r[0]=l=>s.$emit("close"))},{default:Ut(()=>[pi("  ")]),_:1})]),_:1}),ae(Ty),t.param?(fi(),In(Qu,{key:0},{default:Ut(()=>[pt("p",null,[RW,pi(" "+sn(t.param.name),1)]),pt("p",null,[BW,pi(" "+sn(t.param.address),1)]),pt("p",null,[VW,pi(" "+sn(t.param.description),1)])]),_:1})):(fi(),In(Qu,{key:1},{default:Ut(()=>[ae(by,{type:"info"},{default:Ut(()=>[pi(" .")]),_:1})]),_:1}))]),_:1}))}});const XW=xr(zW,[["__scopeId","data-v-1b4a2a48"]]);/**
 * @license GoJS
 * GoJS v3.1.3 JavaScript Library for Interactive Diagrams, https://gojs.net
 * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation, https://nwoods.com.
 * Copyright 1998-2025 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: https://gojs.net/3.1.3/license.html.
 * DO NOT MODIFY THIS FILE.  DO NOT DISTRIBUTE A MODIFIED COPY OF THE CONTENTS OF THIS FILE.
 */(function(){const t=typeof globalThis=="object"&&globalThis||typeof global=="object"&&global.global===global&&global||typeof self=="object"&&self.self===self&&self||{};t.requestAnimationFrame===void 0&&(t.setImmediate===void 0?t.requestAnimationFrame=ee=>t.setTimeout(ee,0):t.requestAnimationFrame=t.setImmediate);const Bs=class{static CP(i,e,n){let a=-1;return function(){const o=this,h=arguments;a!==-1&&Bs.wc(a),a=Bs.dn(()=>{a=-1,n||i.apply(o,h)},e),n&&!a&&i.apply(o,h)}}static dn(i,e){return t.setTimeout(i,e)}static wc(i){t.clearTimeout(i)}static Ni(i){return t.document.createElement(i)}static o(i){throw new Error(i)}static L(i,e){let n="The object is frozen, so its properties cannot be set: "+i.toString();e!==void 0&&(n+="  to value: "+e),Bs.o(n)}static se(i,e,n,a){}static s(i,e,n,a){}static CU(i,e,n){}static xc(i,e,n){(i===null||typeof i!="object")&&Bs.LL(e)}static S(i,e,n){}static LU(i,e,n){}static si(i,e,n,a){}static J(i,e,n,a){let o=Bs.LL(n);a!==void 0&&(o+="."+a),Bs.o(o+" is not in the range "+e+": "+i)}static Gi(i){}static dr(i,e){}static ne(i){t.console&&t.console.log(i)}static $(i){return i!==null&&typeof i=="object"}static st(i){return typeof i=="function"}static nt(){const i=Bs.LP.pop();return i===void 0?[]:i}static Z(i){i.length=0,Bs.LP.push(i)}static LL(i){return i===null?"*":typeof i=="string"?i:Bs.st(i)?i.name:""}static Hn(i){return Bs.st(i)?i.className?i.className:i.name:Bs.$(i)&&i.constructor?Bs.Hn(i.constructor):typeof i}static $a(i,e){return e==null||e===""?null:Bs.$(i)&&e in i||i[e]?i[e]:null}static toString(i){let e=i;return Bs.$(i)&&(i.text?e=i.text:i.name?e=i.name:i.key!==void 0?e=i.key:i.id!==void 0?e=i.id:i.constructor===Object&&(i.Text?e=i.Text:i.Name?e=i.Name:i.Key!==void 0?e=i.Key:i.Id!==void 0?e=i.Id:i.ID!==void 0&&(e=i.ID))),e===void 0?"undefined":e===null?"null":e.toString()}static jw(i,e){if(i.hasOwnProperty(e))return!0;let n=Object.getPrototypeOf(i);for(;n&&n!==Function;){if(n.hasOwnProperty(e))return!0;const a=n.TU;if(a&&a[e])return!0;n=Object.getPrototypeOf(n)}return!1}static zF(i){const e=[];let n=0;for(n=0;n<256;n++)e[n]=n;let a=0,o=0;for(n=0;n<256;n++)a=(a+e[n]+119)%256,o=e[n],e[n]=e[a],e[a]=o;n=0,a=0;let h="";for(let u=0;u<i.length;u++)n=(n+1)%256,a=(a+e[n])%256,o=e[n],e[n]=e[a],e[a]=o,h+=String.fromCharCode(i.charCodeAt(u)^e[(e[n]+e[a])%256]);return h}static XF(i){const e="0123456789abcdef",n=[];for(let u=0;u<256;u++)n[e.charAt(u>>4)+e.charAt(u&15)]=String.fromCharCode(u);i.length%2&&(i="0"+i);const a=[];let o=0;for(let u=0;u<i.length;u+=2)a[o++]=n[i.substring(u,u+2)];const h=a.join("");return h===""?"0":h}static We(i){return Bs.zF(Bs.XF(i))}};let s=Bs;E(s,"ur",t.navigator!==void 0&&t.navigator.platform!==void 0&&t.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i)!==null),E(s,"LP",[]),E(s,"AU",Object.freeze([])),E(s,"color1","@COLOR1"),E(s,"color2","@COLOR2"),E(s,"qw","32ab5ff3b26f42dc0ed90f21412913b5"),s.vfo="29e647fdb0";class r{constructor(){E(this,"AP");this.AP=[]}toString(){return this.AP.join("")}add(i){i!==""&&this.AP.push(i)}}class l{}const Lp=class{constructor(){E(this,"g");E(this,"key");E(this,"value");this.g=[]}[Symbol.iterator](){return this.g.values()}get iterator(){return this}reset(){}next(){return!1}hasNext(){return!1}first(){return null}any(){return!1}all(){return!0}each(){return this}map(i){return this}filter(){return this}get count(){return 0}Ml(){}toString(){return"EmptyIterator"}};let c=Lp;E(c,"instance",new Lp);class f{constructor(i){E(this,"key");E(this,"value");this.key=-1,this.value=i}[Symbol.iterator](){return[this.value].values()}get iterator(){return this}reset(){this.key=-1}next(){return this.key===-1?(this.key=0,!0):!1}hasNext(){return this.next()}first(){return this.key=0,this.value}any(i){return this.key=-1,i(this.value)}all(i){return this.key=-1,i(this.value)}each(i){return this.key=-1,i(this.value),this}map(i){return new f(i(this.value))}filter(i){return i(this.value)?new f(this.value):c.instance}get count(){return 1}Ml(){this.value=null}toString(){return"SingletonIterator("+this.value+")"}}class p{constructor(i){E(this,"jt");E(this,"Xs");E(this,"Gt");E(this,"Tt");E(this,"key");E(this,"value");this.jt=i,this.Xs=null,i.gr=null,this.Gt=i.rt,this.Tt=-1}[Symbol.iterator](){return this.Xs===null?this.jt.r.values():this.jt.r.filter(this.Xs).values()}get iterator(){return this}get predicate(){return this.Xs}set predicate(i){this.Xs=i}reset(){const i=this.jt;i.gr=null,this.Gt=i.rt,this.Tt=-1}next(){const i=this.jt;if(i.rt!==this.Gt&&this.key<0)return!1;const e=i.r,n=e.length;let a=++this.Tt;const o=this.Xs;if(o!==null)for(;a<n;){const h=e[a];if(o(h))return this.Tt=a,this.key=a,this.value=h,!0;a++}else{if(a<n)return this.key=a,this.value=e[a],!0;this.Ml()}return!1}hasNext(){return this.next()}first(){const i=this.jt;this.Gt=i.rt,this.Tt=0;const e=i.r,n=e.length,a=this.Xs;if(a!==null){let o=0;for(;o<n;){const h=e[o];if(a(h))return this.Tt=o,this.key=o,this.value=h,h;o++}return null}else if(n>0){const o=e[0];return this.key=0,this.value=o,o}else return null}any(i){const e=this.jt;e.gr=null;const n=e.rt;this.Tt=-1;const a=e.r,o=a.length,h=this.Xs;for(let u=0;u<o;u++){const m=a[u];if(!(h!==null&&!h(m))){if(i(m))return!0;e.rt!==n&&s.Gi(e)}}return!1}all(i){const e=this.jt;e.gr=null;const n=e.rt;this.Tt=-1;const a=e.r,o=a.length,h=this.Xs;for(let u=0;u<o;u++){const m=a[u];if(!(h!==null&&!h(m))){if(!i(m))return!1;e.rt!==n&&s.Gi(e)}}return!0}each(i){const e=this.jt;e.gr=null;const n=e.rt;this.Tt=-1;const a=e.r,o=a.length,h=this.Xs;for(let u=0;u<o;u++){const m=a[u];h!==null&&!h(m)||(i(m),e.rt!==n&&s.Gi(e))}return this}map(i){const e=this.jt;e.gr=null;const n=e.rt;this.Tt=-1;const a=[],o=e.r,h=o.length,u=this.Xs;for(let v=0;v<h;v++){const b=o[v];u!==null&&!u(b)||(a.push(i(b)),e.rt!==n&&s.Gi(e))}const m=new w;return m.r=a,m.Yi(),m.iterator}filter(i){const e=this.jt;e.gr=null;const n=e.rt;this.Tt=-1;const a=[],o=e.r,h=o.length,u=this.Xs;for(let v=0;v<h;v++){const b=o[v];u!==null&&!u(b)||(i(b)&&a.push(b),e.rt!==n&&s.Gi(e))}const m=new w;return m.r=a,m.Yi(),m.iterator}get count(){const i=this.Xs;if(i!==null){let e=0;const n=this.jt.r,a=n.length;for(let o=0;o<a;o++)i(n[o])&&e++;return e}else return this.jt.r.length}Ml(){this.key=-1,this.value=null,this.Gt=-1,this.Xs=null,this.jt.gr=this}toString(){return"ListIterator@"+this.Tt+"/"+this.jt.count}}class x{constructor(i){E(this,"jt");E(this,"Gt");E(this,"Tt");E(this,"key");E(this,"value");this.jt=i,i.pr=null,this.Gt=i.rt,this.Tt=i.r.length}[Symbol.iterator](){return this.jt.r.reverse().values()}get iterator(){return this}reset(){const i=this.jt;i.pr=null,this.Gt=i.rt,this.Tt=i.r.length}next(){const i=this.jt;if(i.rt!==this.Gt&&this.key<0)return!1;const e=--this.Tt;return e>=0?(this.key=e,this.value=i.r[e],!0):(this.Ml(),!1)}hasNext(){return this.next()}first(){const i=this.jt;this.Gt=i.rt;const e=i.r,n=e.length-1;if(this.Tt=n,n>=0){const a=e[n];return this.key=n,this.value=a,a}else return null}any(i){const e=this.jt;e.pr=null;const n=e.rt,a=e.r,o=a.length;this.Tt=o;for(let h=o-1;h>=0;h--){const u=a[h];if(i(u))return!0;e.rt!==n&&s.Gi(e)}return!1}all(i){const e=this.jt;e.pr=null;const n=e.rt,a=e.r,o=a.length;this.Tt=o;for(let h=o-1;h>=0;h--){const u=a[h];if(!i(u))return!1;e.rt!==n&&s.Gi(e)}return!0}each(i){const e=this.jt;e.pr=null;const n=e.rt,a=e.r,o=a.length;this.Tt=o;for(let h=o-1;h>=0;h--){const u=a[h];i(u),e.rt!==n&&s.Gi(e)}return this}map(i){const e=this.jt;e.pr=null;const n=e.rt,a=[],o=e.r,h=o.length;this.Tt=h;for(let m=h-1;m>=0;m--){const v=o[m];a.push(i(v)),e.rt!==n&&s.Gi(e)}const u=new w;return u.r=a,u.Yi(),u.iterator}filter(i){const e=this.jt;e.pr=null;const n=e.rt,a=[],o=e.r,h=o.length;this.Tt=h;for(let m=h-1;m>=0;m--){const v=o[m];i(v)&&a.push(v),e.rt!==n&&s.Gi(e)}const u=new w;return u.r=a,u.Yi(),u.iterator}get count(){return this.jt.r.length}Ml(){this.key=-1,this.value=null,this.Gt=-1,this.jt.pr=this}toString(){return"ListIteratorBackwards("+this.Tt+"/"+this.jt.count+")"}}class w{constructor(i){E(this,"f");E(this,"r");E(this,"rt");E(this,"gr");E(this,"pr");C.Je(this),this.f=!1,this.r=[],this.rt=0,this.gr=null,this.pr=null,i!==void 0&&this.addAll(i)}[Symbol.iterator](){return this.r.values()}Yi(){let i=this.rt;i++,i>999999999&&(i=0),this.rt=i}k(){return this.f=!0,this}ce(){return this.f=!1,this}toString(){return"List()#"+C.xs(this)}add(i){return this.f&&s.L(this,i),this.r.push(i),this.Yi(),this}push(i){this.add(i)}addAll(i){if(i===null)return this;this.f&&s.L(this);const e=this.r;if(i.first){const n=i.iterator;for(;n.next();)e.push(n.value)}else for(const n of i)e.push(n);return this.Yi(),this}clear(){this.f&&s.L(this),this.r.length=0,this.Yi()}contains(i){return this.has(i)}has(i){return i===null?!1:this.r.indexOf(i)!==-1}indexOf(i){return i===null?-1:this.r.indexOf(i)}elt(i){const e=this.r;return(i<0||i>=e.length)&&s.J(i,"0 <= i < length",w,"elt:i"),e[i]}get(i){return this.elt(i)}setElt(i,e){const n=this.r;(i<0||i>=n.length)&&s.J(i,"0 <= i < length",w,"setElt:i"),this.f&&s.L(this,i),n[i]=e}set(i,e){this.setElt(i,e)}first(){const i=this.r;return i.length===0?null:i[0]}last(){const i=this.r,e=i.length;return e>0?i[e-1]:null}pop(){this.f&&s.L(this);const i=this.r;if(i.length>0){const e=i.pop();return e===void 0?null:e}return null}any(i){const e=this.r,n=this.rt,a=e.length;for(let o=0;o<a;o++){if(i(e[o]))return!0;this.rt!==n&&s.Gi(this)}return!1}all(i){const e=this.r,n=this.rt,a=e.length;for(let o=0;o<a;o++){if(!i(e[o]))return!1;this.rt!==n&&s.Gi(this)}return!0}each(i){const e=this.r,n=this.rt,a=e.length;for(let o=0;o<a;o++)i(e[o]),this.rt!==n&&s.Gi(this);return this}map(i){const e=new w,n=[],a=this.r,o=this.rt,h=a.length;for(let u=0;u<h;u++)n.push(i(a[u])),this.rt!==o&&s.Gi(this);return e.r=n,e.Yi(),e}filter(i){const e=new w,n=[],a=this.r,o=this.rt,h=a.length;for(let u=0;u<h;u++){const m=a[u];i(m)&&n.push(m),this.rt!==o&&s.Gi(this)}return e.r=n,e.Yi(),e}insertAt(i,e){i<0&&s.J(i,">= 0",w,"insertAt:i"),this.f&&s.L(this,i);const n=this.r;i>=n.length?n.push(e):n.splice(i,0,e),this.Yi()}remove(i){return this.delete(i)}delete(i){if(i===null)return!1;this.f&&s.L(this,i);const e=this.r,n=e.indexOf(i);return n===-1?!1:(n===e.length-1?e.pop():e.splice(n,1),this.Yi(),!0)}removeAt(i){const e=this.r;(i<0||i>=e.length)&&s.J(i,"0 <= i < length",w,"removeAt:i"),this.f&&s.L(this,i),i===e.length-1?e.pop():e.splice(i,1),this.Yi()}removeRange(i,e){const n=this.r,a=n.length;if(i<0)i=0;else if(i>=a)return this;if(e<0)return this;if(e>=a&&(e=a-1),i>e)return this;this.f&&s.L(this);let o=i,h=e+1;for(;h<a;)n[o++]=n[h++];return n.length=a-(e-i+1),this.Yi(),this}copy(){const i=new w,e=this.r;return e.length>0&&(i.r=Array.prototype.slice.call(e)),i}toArray(){const i=this.r,e=this.count,n=new Array(e);for(let a=0;a<e;a++)n[a]=i[a];return n}get AL(){return this.r}toSet(){const i=new C,e=this.r,n=this.count;for(let a=0;a<n;a++)i.add(e[a]);return i}sort(i){return this.f&&s.L(this),this.r.sort(i),this.Yi(),this}sortRange(i,e,n){const a=this.r,o=a.length;e===void 0&&(e=0),n===void 0&&(n=o),this.f&&s.L(this);const h=n-e;if(h<=1)return this;if((e<0||e>=o-1)&&s.J(e,"0 <= from < length",w,"sortRange:from"),h===2){const u=a[e],m=a[e+1];return i(u,m)>0&&(a[e]=m,a[e+1]=u,this.Yi()),this}if(e===0)if(n>=o)a.sort(i);else{const u=a.slice(0,n);u.sort(i);for(let m=0;m<n;m++)a[m]=u[m]}else if(n>=o){const u=a.slice(e);u.sort(i);for(let m=e;m<o;m++)a[m]=u[m-e]}else{const u=a.slice(e,n);u.sort(i);for(let m=e;m<n;m++)a[m]=u[m-e]}return this.Yi(),this}reverse(){return this.f&&s.L(this),this.r.reverse(),this.Yi(),this}get count(){return this.r.length}get size(){return this.r.length}get length(){return this.r.length}get iterator(){if(this.r.length<=0)return c.instance;const i=this.gr;return i!==null?(i.reset(),i):new p(this)}get iteratorBackwards(){if(this.r.length<=0)return c.instance;const i=this.pr;return i!==null?(i.reset(),i):new x(this)}}class P{constructor(i){E(this,"Do");E(this,"oe");E(this,"key");E(this,"value");this.Do=i,this.oe=i.g.values()}[Symbol.iterator](){return this.Do.g.values()}get iterator(){return this}reset(){const i=this.Do;this.oe=i.g.values()}next(){const i=this.oe.next();return this.value=i.value,this.key=i.value,!i.done}hasNext(){return this.next()}first(){return this.Do.g.size===0?null:(this.oe=this.Do.g.values(),this.oe.next().value)}any(i){return this.Do.any(i)}all(i){return this.Do.all(i)}each(i){return this.Do.each(i),this}map(i){const e=new w;return this.Do.g.forEach(n=>e.add(i(n))),e.iterator}filter(i){const e=new w;return this.Do.g.forEach(n=>{i(n)&&e.add(n)}),e.iterator}get count(){return this.Do.count}Ml(){this.key=null,this.value=null,this.oe=null}toString(){return"SetIterator"}}const zl=class{constructor(i){E(this,"f");E(this,"g");this.f=!1,this.g=new Set,i!==void 0&&this.addAll(i)}[Symbol.iterator](){return this.g.values()}values(){return this.g.values()}k(){return this.f=!0,this}ce(){return this.f=!1,this}toString(){return"Set()#"+zl.xs(this)}add(i){return i===null?this:(this.g.add(i),this)}addAll(i){if(i===null)return this;if(this.f&&s.L(this),i.first){const e=i.iterator;for(;e.next();)this.g.add(e.value)}else for(const e of i)this.g.add(e);return this}has(i){return this.g.has(i)}contains(i){return this.has(i)}containsAll(i){if(i===null)return!0;if(i.first){const e=i.iterator;for(;e.next();)if(!this.has(e.value))return!1}else for(const e of i)if(!this.has(e))return!1;return!0}containsAny(i){if(i===null)return!0;if(i.first){const e=i.iterator;for(;e.next();)if(this.has(e.value))return!0}else for(const e of i)if(this.has(e))return!0;return!1}first(){return this.g.size===0?null:this.g.values().next().value}any(i){for(const e of this.g)if(i(e))return!0;return!1}all(i){for(const e of this.g)if(!i(e))return!1;return!0}each(i){for(const e of this.g)i(e);return this}map(i){const e=new zl;for(const n of this.g)e.add(i(n));return e}filter(i){const e=new zl;for(const n of this.g)i(n)&&e.add(n);return e}delete(i){return this.f&&s.L(this),this.g.delete(i)}remove(i){return this.delete(i)}removeAll(i){if(i===null)return this;if(this.f&&s.L(this),i.first){const e=i.iterator;for(;e.next();)this.delete(e.value)}else for(const e of i)this.delete(e);return this}retainAll(i){if(i===null)return this;if(this.count===0)return this;this.f&&s.L(this);const e=new zl;e.addAll(i);const n=[];if(i.first){const a=i.iterator;for(;a.next();){const o=a.value;e.has(o)||n.push(o)}}else for(const a of i)e.has(a)||n.push(a);return this.removeAll(n),this}clear(){this.f&&s.L(this),this.g.clear()}copy(){const i=new zl;return this.g.forEach(e=>i.add(e)),i}toArray(){return Array.from(this.g)}toList(){const i=new w;return this.g.forEach(e=>i.add(e)),i}get count(){return this.g.size}get size(){return this.g.size}get iterator(){return this.g.size<=0?c.instance:new P(this)}entries(){return this.g.entries()}keys(){return this.g.keys()}forEach(i,e){return this.g.forEach(i,e)}static Je(i){i.__gohashid=zl.Ww++}static xs(i){return i.__gohashid}};let C=zl;E(C,"Ww",1);class F{constructor(i){E(this,"q");E(this,"oe");E(this,"key");E(this,"value");this.q=i,this.oe=i.g.keys()}[Symbol.iterator](){return this.q.g.keys()}get iterator(){return this}reset(){const i=this.q;this.oe=i.g.keys()}next(){const i=this.oe.next();return this.value=i.value,this.key=i.value,!i.done}hasNext(){return this.next()}first(){return this.q.g.size===0?null:(this.oe=this.q.g.keys(),this.oe.next().value)}any(i){for(const e of this.q.g)if(i(e[0]))return!0;return!1}all(i){for(const e of this.q.g)if(!i(e[0]))return!1;return!0}each(i){for(const e of this.q.g)i(e[0]);return this}map(i){const e=this.q,n=new w;for(const a of e.g)n.add(i(a[0]));return n.iterator}filter(i){const e=this.q,n=new w;for(const a of e.g){const o=a[0];i(o)&&n.add(o)}return n.iterator}get count(){return this.q.size}Ml(){this.key=null,this.value=null,this.oe=null}toString(){return"MapKeySetIterator"}}class L extends C{constructor(e){super();E(this,"q");C.Je(this),this.f=!0,this.q=e}[Symbol.iterator](){return this.g.keys()}values(){return this.g.keys()}k(){return this}ce(){return this}toString(){return"MapKeySet("+this.q.toString()+")"}add(e){s.o("This Set is read-only: "+this.toString())}has(e){return this.q.has(e)}contains(e){return this.has(e)}delete(e){s.o("This Set is read-only: "+this.toString())}remove(e){return this.delete(e)}clear(){s.o("This Set is read-only: "+this.toString())}first(){return this.q.g.size===0?null:this.q.g.keys().next().value}any(e){for(const n of this.q.g)if(e(n[0]))return!0;return!1}all(e){for(const n of this.q.g)if(!e(n[0]))return!1;return!0}each(e){for(const n of this.q.g)e(n[0]);return this}map(e){const n=new C;for(const a of this.q.g)n.add(e(a[0]));return n}filter(e){const n=new C;for(const a of this.q.g){const o=a[0];e(o)&&n.add(o)}return n}copy(){return new L(this.q)}toSet(){const e=new C,n=this.q.g;for(const a of n)e.add(a[0]);return e}toArray(){const e=this.q.g,n=new Array(e.size);let a=0;for(const o of e)n[a]=o[0],a++;return n}toList(){const e=new w,n=this.q.g;for(const a of n)e.add(a[0]);return e}get count(){return this.q.size}get size(){return this.q.size}get iterator(){return this.q.size<=0?c.instance:new F(this.q)}}class B{constructor(i){E(this,"q");E(this,"oe");E(this,"key");E(this,"value");this.q=i,this.oe=i.g.values()}[Symbol.iterator](){return this.q.g.values()}get iterator(){return this}reset(){const i=this.q;this.oe=i.g.values()}next(){const i=this.oe.next();return this.value=i.value,this.key=i.value,!i.done}hasNext(){return this.next()}first(){return this.q.g.size===0?null:(this.oe=this.q.g.values(),this.oe.next().value)}any(i){for(const e of this.q.g)if(i(e[1]))return!0;return!1}all(i){for(const e of this.q.g)if(!i(e[1]))return!1;return!0}each(i){for(const e of this.q.g)i(e[1]);return this}map(i){const e=this.q,n=new w;for(const a of e.g)n.add(i(a[1]));return n.iterator}filter(i){const e=this.q,n=new w;for(const a of e.g){const o=a[1];i(o)&&n.add(o)}return n.iterator}get count(){return this.q.size}Ml(){this.key=null,this.value=null,this.oe=null}toString(){return"MapValueSetIterator"}}class U{constructor(i,e){E(this,"key");E(this,"value");this.key=i,this.value=e}toString(){return"{"+this.key+":"+this.value+"}"}}class Y{constructor(i){E(this,"q");E(this,"oe");E(this,"key");E(this,"value");this.q=i,this.oe=i.g.entries()}[Symbol.iterator](){return this.q.g.entries()}get iterator(){return this}reset(){const i=this.q;this.oe=i.g.entries()}next(){const i=this.oe.next();return i.done?(this.key=null,this.value=null,!1):(this.key=i.value[0],this.value=i.value[1],!0)}hasNext(){return this.next()}first(){if(this.q.g.size===0)return null;this.oe=this.q.g.entries();const i=this.oe.next().value;return this.key=i[0],this.value=i[1],new U(i[0],i[1])}any(i){return this.q.any(i)}all(i){return this.q.all(i)}each(i){return this.q.each(i),this}map(i){const e=new w;let n=null;return this.q.g.forEach((a,o)=>{n===null?n=new U(o,a):(n.key=o,n.value=a),e.add(i(n))}),e.iterator}filter(i){const e=new w;let n=null;return this.q.g.forEach((a,o)=>{n===null?n=new U(o,a):(n.key=o,n.value=a),i(n)&&(e.add(n),n=null)}),e.iterator}get count(){return this.q.size}Ml(){this.key=null,this.value=null,this.oe=null}toString(){return"MapIterator"}}class Q{constructor(i){E(this,"f");E(this,"g");C.Je(this),this.f=!1,this.g=new Map,i!==void 0&&this.addAll(i)}[Symbol.iterator](){return this.g.entries()}entries(){return this.g.entries()}k(){return this.f=!0,this}ce(){return this.f=!1,this}toString(){return"Map()#"+C.xs(this)}set(i,e){return this.f&&s.L(this,i),this.g.set(i,e),this}add(i,e){return this.set(i,e)}addAll(i){if(i===null)return this;if(this.f&&s.L(this),i instanceof Q){const e=i.iterator;for(;e.next();)this.g.set(e.key,e.value)}else if(i.first){const e=i.iterator;for(;e.next();){const n=e.value;this.g.set(n.key,n.value)}}else for(const e of i){const n=e;Array.isArray(n)?this.g.set(n[0],n[1]):this.g.set(n.key,n.value)}return this}first(){if(this.g.size===0)return null;const i=this.g.entries().next().value;return i?new U(i[0],i[1]):null}any(i){let e=null;for(const[n,a]of this.g)if(e===null?e=new U(n,a):(e.key=n,e.value=a),i(e))return!0;return!1}all(i){let e=null;for(const[n,a]of this.g)if(e===null?e=new U(n,a):(e.key=n,e.value=a),!i(e))return!1;return!0}each(i){let e=null;for(const[n,a]of this.g)e===null?e=new U(n,a):(e.key=n,e.value=a),i(e);return this}map(i){const e=new Q;let n=null;for(const[a,o]of this.g)n===null?n=new U(a,o):(n.key=a,n.value=o),e.set(a,i(n));return e}filter(i){const e=new Q;let n=null;for(const[a,o]of this.g)n===null?n=new U(a,o):(n.key=a,n.value=o),i(n)&&e.set(a,o);return e}has(i){return this.g.has(i)}contains(i){return this.has(i)}get(i){const e=this.g.get(i);return e===void 0?null:e}getValue(i){return this.get(i)}delete(i){return i===null?!1:(this.f&&s.L(this,i),this.g.delete(i))}remove(i){return this.delete(i)}clear(){this.f&&s.L(this),this.g.clear()}copy(){const i=new Q;return i.g=new Map(this.g),i}toArray(){const i=this.g,e=new Array(i.size);let n=0;for(const a of i)e[n]=new U(a[0],a[1]),n++;return e}toKeySet(){return new L(this)}get count(){return this.g.size}get size(){return this.g.size}get iterator(){return this.g.size<=0?c.instance:new Y(this)}get iteratorKeys(){return this.count<=0?c.instance:new F(this)}keys(){return this.g.keys()}get iteratorValues(){return this.count<=0?c.instance:new B(this)}values(){return this.g.values()}forEach(i,e){return this.g.forEach(i,e)}}const Ws=class{constructor(i,e){E(this,"px");E(this,"py");E(this,"f");i===void 0?(this.px=0,this.py=0):typeof i=="number"&&typeof e=="number"?(this.px=i,this.py=e):s.o("Invalid arguments to Point constructor: "+i+", "+e),this.f=!1}h(i){return this.px=i.px,this.py=i.py,this}e(i,e){return this.px=i,this.py=e,this}setTo(i,e){return this.px=i,this.py=e,this}set(i){return this.px=i.px,this.py=i.py,this}copy(){const i=new Ws;return i.px=this.px,i.py=this.py,i}kt(){return this.f=!0,Object.freeze(this),this}N(){return this.f||Object.isFrozen(this)?this:this.copy().k()}k(){return this.f||(this.f=!0),this}Jw(i){}static parse(i){if(typeof i=="string"){const e=i.split(" ");let n=0,a=0;for(;e[n]==="";)n++;let o=e[n++];o&&(a=parseFloat(o));let h=0;for(;e[n]==="";)n++;return o=e[n++],o&&(h=parseFloat(o)),new Ws(a,h)}else return new Ws}static stringify(i){return i.x.toString()+" "+i.y.toString()}static stringifyFixed(i){return e=>e.x.toFixed(i)+" "+e.y.toFixed(i)}toString(){return"Point("+this.x+","+this.y+")"}equals(i){return i instanceof Ws?this.px===i.x&&this.py===i.y:!1}equalTo(i,e){return this.px===i&&this.py===e}equalsApprox(i){return G.u(this.px,i.x)&&G.u(this.py,i.y)}add(i){return this.px+=i.x,this.py+=i.y,this}subtract(i){return this.px-=i.x,this.py-=i.y,this}offset(i,e){return this.px+=i,this.py+=e,this}rotate(i){if(i===0)return this;const e=this.px,n=this.py;if(e===0&&n===0)return this;let a=0,o=0;if(i=G.Ee(i),i===90)a=0,o=1;else if(i===180)a=-1,o=0;else if(i===270)a=0,o=-1;else{const h=i*Math.PI/180;a=Math.cos(h),o=Math.sin(h)}return this.px=a*e-o*n,this.py=o*e+a*n,this}scale(i,e){return this.px*=i,this.py*=e,this}distanceSquaredPoint(i){const e=i.x-this.px,n=i.y-this.py;return e*e+n*n}distanceSquared(i,e){const n=i-this.px,a=e-this.py;return n*n+a*a}normalize(){const i=this.px,e=this.py,n=Math.sqrt(i*i+e*e);return n>0&&(this.px=i/n,this.py=e/n),this}directionPoint(i){return this.TL(i.x-this.px,i.y-this.py)}direction(i,e){return this.TL(i-this.px,e-this.py)}TL(i,e){if(i===0)return e>0?90:e<0?270:0;if(e===0)return i>0?0:180;{if(isNaN(i)||isNaN(e))return 0;let n=Math.atan(Math.abs(e/i))*180/Math.PI;return i<0?e<0?n+=180:n=180-n:e<0&&(n=360-n),n}}static compareWithLineSegment(i,e,n,a,o,h){return G.ku(i,e,n,a,o,h)}compareWithLineSegmentPoint(i,e){return G.ku(i.x,i.y,e.x,e.y,this.x,this.y)}static intersectingLineSegments(i,e,n,a,o,h,u,m){return G.Pu(i,e,n,a,o,h,u,m)}projectOntoLineSegment(i,e,n,a){return G.Nl(i,e,n,a,this.px,this.py,this),this}projectOntoLineSegmentPoint(i,e){return G.Nl(i.x,i.y,e.x,e.y,this.px,this.py,this),this}snapToGrid(i,e,n,a){return G.tm(this.px,this.py,i,e,n,a,this),this}snapToGridPoint(i,e){return G.tm(this.px,this.py,i.x,i.y,e.width,e.height,this),this}setRectSpot(i,e){return this.px=i.x+e.x*i.width+e.offsetX,this.py=i.y+e.y*i.height+e.offsetY,this}setSpot(i,e,n,a,o){return this.px=i+o.x*n+o.offsetX,this.py=e+o.y*a+o.offsetY,this}v(i){return i.gt(this),this}Ki(i){return i.Ci(this),this}static distanceLineSegmentSquared(i,e,n,a,o,h){let u=o-n,m=h-a;const v=u*u+m*m,b=n-i,S=a-e,A=-b*u-S*m;if(A<=0||A>=v)return u=o-i,m=h-e,Math.min(b*b+S*S,u*u+m*m);{const M=u*S-m*b;return M*M/v}}static distanceSquared(i,e,n,a){const o=n-i,h=a-e;return o*o+h*h}static direction(i,e,n,a){const o=n-i,h=a-e;if(o===0)return h>0?90:h<0?270:0;if(h===0)return o>0?0:180;{if(isNaN(o)||isNaN(h))return 0;let u=Math.atan(Math.abs(h/o))*180/Math.PI;return o<0?h<0?u+=180:u=180-u:h<0&&(u=360-u),u}}get x(){return this.px}set x(i){this.px=i}get y(){return this.py}set y(i){this.py=i}isReal(){return isFinite(this.x)&&isFinite(this.y)}static l(){const i=Ws.$w.pop();return i===void 0?new Ws:i}static bs(i){const e=Ws.$w.pop();return e===void 0?i.copy():e.h(i)}static z(i,e){const n=Ws.$w.pop();return n===void 0?new Ws(i,e):(n.x=i,n.y=e,n)}static i(i){Ws.$w.push(i)}};let N=Ws;E(N,"gn",new Ws(0,0).kt()),E(N,"DL",new Ws(-1/0,-1/0).kt()),E(N,"vL",new Ws(1/0,1/0).kt()),E(N,"FL",new Ws(6,6).kt()),E(N,"mn",new Ws(NaN,NaN).kt()),E(N,"$w",[]);const Vs=class{constructor(i,e){E(this,"sw");E(this,"sh");E(this,"f");i===void 0?(this.sw=0,this.sh=0):typeof i=="number"&&(i>=0||isNaN(i))&&typeof e=="number"&&(e>=0||isNaN(e))?(this.sw=i,this.sh=e):s.o("Invalid arguments to Size constructor: "+i+", "+e),this.f=!1}h(i){return this.sw=i.sw,this.sh=i.sh,this}e(i,e){return this.sw=i,this.sh=e,this}setTo(i,e){return this.sw=i,this.sh=e,this}set(i){return this.sw=i.sw,this.sh=i.sh,this}copy(){const i=new Vs;return i.sw=this.sw,i.sh=this.sh,i}kt(){return this.f=!0,Object.freeze(this),this}N(){return this.f||Object.isFrozen(this)?this:this.copy().k()}k(){return this.f||(this.f=!0),this}Jw(i){}static parse(i){if(typeof i=="string"){const e=i.split(" ");let n=0,a=0;for(;e[n]==="";)n++;let o=e[n++];o&&(a=parseFloat(o));let h=0;for(;e[n]==="";)n++;return o=e[n++],o&&(h=parseFloat(o)),new Vs(a,h)}else return new Vs}static stringify(i){return i.width.toString()+" "+i.height.toString()}static stringifyFixed(i){return e=>e.width.toFixed(i)+" "+e.height.toFixed(i)}toString(){return"Size("+this.width+","+this.height+")"}equals(i){return i instanceof Vs?this.sw===i.width&&this.sh===i.height:!1}equalTo(i,e){return this.sw===i&&this.sh===e}equalsApprox(i){return G.u(this.sw,i.width)&&G.u(this.sh,i.height)}inflate(i,e){const n=this.width+i;this.sw=n>=0?n:0;const a=this.height+e;return this.sh=a>=0?a:0,this}get width(){return this.sw}set width(i){i<0&&s.J(i,">= 0",Vs,"width"),this.sw=i}get height(){return this.sh}set height(i){i<0&&s.J(i,">= 0",Vs,"height"),this.sh=i}isReal(){return isFinite(this.width)&&isFinite(this.height)}static l(){const i=Vs.IL.pop();return i===void 0?new Vs:i}static i(i){Vs.IL.push(i)}};let X=Vs;E(X,"bc",new Vs(0,0).kt()),E(X,"TP",new Vs(1,1).kt()),E(X,"RL",new Vs(6,6).kt()),E(X,"Su",new Vs(8,8).kt()),E(X,"OL",new Vs(10,10).kt()),E(X,"DP",new Vs(1/0,1/0).kt()),E(X,"Zw",new Vs(NaN,NaN).kt()),E(X,"IL",[]);const ir=class{constructor(i,e,n,a){E(this,"rx");E(this,"ry");E(this,"rw");E(this,"rh");E(this,"f");if(i===void 0)this.rx=0,this.ry=0,this.rw=0,this.rh=0;else if(typeof i=="number"&&typeof e=="number"&&typeof n=="number"&&(n>=0||isNaN(n))&&typeof a=="number"&&(a>=0||isNaN(a)))this.rx=i,this.ry=e,this.rw=n,this.rh=a;else if(i instanceof N){const o=i.x,h=i.y;if(e instanceof N){const u=e.x,m=e.y;this.rx=Math.min(o,u),this.ry=Math.min(h,m),this.rw=Math.abs(o-u),this.rh=Math.abs(h-m)}else e instanceof X?(this.rx=o,this.ry=h,this.rw=e.width,this.rh=e.height):s.o("Incorrect second argument supplied to Rect constructor "+e)}else s.o("Invalid arguments to Rect constructor: "+i+", "+e+", "+n+", "+a);this.f=!1}h(i){return this.rx=i.rx,this.ry=i.ry,this.rw=i.rw,this.rh=i.rh,this}e(i,e,n,a){return this.rx=i,this.ry=e,this.rw=n,this.rh=a,this}jn(i,e){return this.rw=i,this.rh=e,this}setTo(i,e,n,a){return this.rx=i,this.ry=e,this.rw=n,this.rh=a,this}set(i){return this.rx=i.rx,this.ry=i.ry,this.rw=i.rw,this.rh=i.rh,this}setPoint(i){return this.rx=i.x,this.ry=i.y,this}setSize(i){return this.rw=i.width,this.rh=i.height,this}copy(){const i=new ir;return i.rx=this.rx,i.ry=this.ry,i.rw=this.rw,i.rh=this.rh,i}kt(){return this.f=!0,Object.freeze(this),this}N(){return this.f||Object.isFrozen(this)?this:this.copy().k()}k(){return this.f||(this.f=!0),this}ce(){return this.f&&(Object.isFrozen(this)&&s.o("cannot thaw constant: "+this),this.f=!1),this}Jw(i){}static parse(i){if(typeof i=="string"){const e=i.split(" ");let n=0,a=0;for(;e[n]==="";)n++;let o=e[n++];o&&(a=parseFloat(o));let h=0;for(;e[n]==="";)n++;o=e[n++],o&&(h=parseFloat(o));let u=0;for(;e[n]==="";)n++;o=e[n++],o&&(u=parseFloat(o));let m=0;for(;e[n]==="";)n++;return o=e[n++],o&&(m=parseFloat(o)),new ir(a,h,u,m)}else return new ir}static stringify(i){return i.x.toString()+" "+i.y.toString()+" "+i.width.toString()+" "+i.height.toString()}static stringifyFixed(i){return e=>e.x.toFixed(i)+" "+e.y.toFixed(i)+" "+e.width.toFixed(i)+" "+e.height.toFixed(i)}toString(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"}equals(i){return i instanceof ir?this.rx===i.x&&this.ry===i.y&&this.rw===i.width&&this.rh===i.height:!1}equalTo(i,e,n,a){return this.rx===i&&this.ry===e&&this.rw===n&&this.rh===a}equalsApprox(i){return G.u(this.rx,i.x)&&G.u(this.ry,i.y)&&G.u(this.rw,i.width)&&G.u(this.rh,i.height)}equalsApproxTo(i,e,n,a){return G.u(this.rx,i)&&G.u(this.ry,e)&&G.u(this.rw,n)&&G.u(this.rh,a)}equalsApproxClose(i){return G.X(this.rx,i.x)&&G.X(this.ry,i.y)&&G.X(this.rw,i.width)&&G.X(this.rh,i.height)}containsPoint(i){return this.rx<=i.x&&this.rx+this.rw>=i.x&&this.ry<=i.y&&this.ry+this.rh>=i.y}containsRect(i){return this.rx<=i.x&&i.x+i.width<=this.rx+this.rw&&this.ry<=i.y&&i.y+i.height<=this.ry+this.rh}contains(i,e,n,a){return n===void 0&&(n=0),a===void 0&&(a=0),this.rx<=i&&i+n<=this.rx+this.rw&&this.ry<=e&&e+a<=this.ry+this.rh}offset(i,e){return this.rx+=i,this.ry+=e,this}inflate(i,e){return this.Qw(e,i,e,i)}addMargin(i){return this.Qw(i.top,i.right,i.bottom,i.left)}subtractMargin(i){return this.Qw(-i.top,-i.right,-i.bottom,-i.left)}grow(i,e,n,a){return this.Qw(i,e,n,a)}Qw(i,e,n,a){const o=this.rw;e+a<=-o?(this.rx+=o/2,this.rw=0):(this.rx-=a,this.rw+=e+a);const h=this.rh;return i+n<=-h?(this.ry+=h/2,this.rh=0):(this.ry-=i,this.rh+=i+n),this}intersectRect(i){return this.EL(i.x,i.y,i.width,i.height)}intersect(i,e,n,a){return this.EL(i,e,n,a)}EL(i,e,n,a){const o=Math.max(this.rx,i),h=Math.max(this.ry,e),u=Math.min(this.rx+this.rw,i+n),m=Math.min(this.ry+this.rh,e+a);return this.rx=o,this.ry=h,this.rw=Math.max(0,u-o),this.rh=Math.max(0,m-h),this}intersectsRect(i){return this.intersects(i.x,i.y,i.width,i.height)}intersects(i,e,n,a){let o=this.rw;const h=this.rx;if(o!==1/0&&n!==1/0&&(o+=h,n+=i,isNaN(n)||isNaN(o)||h>n||i>o))return!1;let u=this.rh;const m=this.ry;return!(u!==1/0&&a!==1/0&&(u+=m,a+=e,isNaN(a)||isNaN(u)||m>a||e>u))}UL(i,e){let n=this.rw,a=i.width+e+e;const o=this.rx,h=i.x-e;if(n+=o,a+=h,o>a||h>n)return!1;let u=this.rh,m=i.height+e+e;const v=this.ry,b=i.y-e;return u+=v,m+=b,!(v>m||b>u)}unionPoint(i){return this.re(i.x,i.y,0,0)}unionRect(i){return this.re(i.rx,i.ry,i.rw,i.rh)}union(i,e,n,a){return n===void 0&&(n=0),a===void 0&&(a=0),this.re(i,e,n,a)}re(i,e,n,a){const o=Math.min(this.rx,i),h=Math.min(this.ry,e),u=Math.max(this.rx+this.rw,i+n),m=Math.max(this.ry+this.rh,e+a);return this.rx=o,this.ry=h,this.rw=u-o,this.rh=m-h,this}setSpot(i,e,n){return this.rx=i-n.offsetX-n.x*this.rw,this.ry=e-n.offsetY-n.y*this.rh,this}nearestSideDirection(i,e){return G._w(this,i,e,!0)}nearestSideDirectionPoint(i){return G._w(this,i.x,i.y,!0)}static contains(i,e,n,a,o,h,u,m){return u===void 0&&(u=0),m===void 0&&(m=0),i<=o&&o+u<=i+n&&e<=h&&h+m<=e+a}static intersects(i,e,n,a,o,h,u,m){let v=n,b=u;const S=i,A=o;if(v+=S,b+=A,S>b||A>v)return!1;let M=a,O=m;const R=e,V=h;return M+=R,O+=V,!(R>O||V>M)}static intersectsLineSegment(i,e,n,a,o,h,u,m){return G.VL(i,e,n,a,o,h,u,m)}get x(){return this.rx}set x(i){this.rx=i}get y(){return this.ry}set y(i){this.ry=i}get width(){return this.rw}set width(i){i<0&&s.J(i,">= 0",ir,"width"),this.rw=i}get height(){return this.rh}set height(i){i<0&&s.J(i,">= 0",ir,"height"),this.rh=i}get left(){return this.rx}set left(i){this.rx=i}get top(){return this.ry}set top(i){this.ry=i}get right(){return this.rx+this.rw}set right(i){this.rx+=i-(this.rx+this.rw)}get bottom(){return this.ry+this.rh}set bottom(i){this.ry+=i-(this.ry+this.rh)}get position(){return new N(this.rx,this.ry)}set position(i){this.rx=i.x,this.ry=i.y}get size(){return new X(this.rw,this.rh)}set size(i){this.rw=i.width,this.rh=i.height}get center(){return new N(this.rx+this.rw/2,this.ry+this.rh/2)}set center(i){this.rx=i.x-this.rw/2,this.ry=i.y-this.rh/2}get centerX(){return this.rx+this.rw/2}set centerX(i){this.rx=i-this.rw/2}get centerY(){return this.ry+this.rh/2}set centerY(i){this.ry=i-this.rh/2}isReal(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)}isEmpty(){return this.width===0&&this.height===0}static l(){const i=ir.tx.pop();return i===void 0?new ir:i}static bs(i){const e=ir.tx.pop();return e===void 0?i.copy():e.h(i)}static z(i,e,n,a){const o=ir.tx.pop();return o===void 0?new ir(i,e,n,a):o.e(i,e,n,a)}static i(i){ir.tx.push(i)}};let W=ir;E(W,"em",new ir(0,0,0,0).kt()),E(W,"GF",new ir(NaN,NaN,NaN,NaN).kt()),E(W,"tx",[]);const Pa=class{constructor(i,e,n,a){E(this,"mt");E(this,"mr");E(this,"mb");E(this,"ml");i===void 0?(this.mt=0,this.mr=0,this.mb=0,this.ml=0):e===void 0?(e=i,n=i,a=i,this.mt=i,this.mr=e,this.mb=n,this.ml=a):n===void 0?(n=i,a=e,this.mt=i,this.mr=e,this.mb=n,this.ml=a):a!==void 0?(this.mt=i,this.mr=e,this.mb=n,this.ml=a):s.o("Invalid arguments to Margin constructor: "+i+", "+e+", "+n+", "+a)}setTo(i,e,n,a){return this.mt=i,this.mr=e,this.mb=n,this.ml=a,this}set(i){return this.mt=i.mt,this.mr=i.mr,this.mb=i.mb,this.ml=i.ml,this}copy(){const i=new Pa;return i.mt=this.mt,i.mr=this.mr,i.mb=this.mb,i.ml=this.ml,i}kt(){return Object.freeze(this),this}N(){return Object.isFrozen(this)?this:this.copy().kt()}Jw(i){}static parse(i){if(typeof i=="string"){const e=i.split(" ");let n=0,a=NaN;for(;e[n]==="";)n++;let o=e[n++];if(o&&(a=parseFloat(o)),isNaN(a))return new Pa;let h=NaN;for(;e[n]==="";)n++;if(o=e[n++],o&&(h=parseFloat(o)),isNaN(h))return new Pa(a);let u=NaN;for(;e[n]==="";)n++;if(o=e[n++],o&&(u=parseFloat(o)),isNaN(u))return new Pa(a,h);let m=NaN;for(;e[n]==="";)n++;return o=e[n++],o&&(m=parseFloat(o)),isNaN(m)?new Pa(a,h):new Pa(a,h,u,m)}else return new Pa}static stringify(i){return i.top.toString()+" "+i.right.toString()+" "+i.bottom.toString()+" "+i.left.toString()}static stringifyFixed(i){return e=>e.top.toFixed(i)+" "+e.right.toFixed(i)+" "+e.bottom.toFixed(i)+" "+e.left.toFixed(i)}toString(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"}equals(i){return i instanceof Pa?this.mt===i.top&&this.mr===i.right&&this.mb===i.bottom&&this.ml===i.left:!1}equalTo(i,e,n,a){return this.mt===i&&this.mr===e&&this.mb===n&&this.ml===a}equalsApprox(i){return G.u(this.mt,i.top)&&G.u(this.mr,i.right)&&G.u(this.mb,i.bottom)&&G.u(this.ml,i.left)}get top(){return this.mt}set top(i){this.mt=i}get right(){return this.mr}set right(i){this.mr=i}get bottom(){return this.mb}set bottom(i){this.mb=i}get left(){return this.ml}set left(i){this.ml=i}isReal(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)}};let he=Pa;E(he,"im",new Pa(0,0,0,0).kt()),E(he,"BL",new Pa(2,2,2,2).kt());const Yt=class{constructor(i,e,n,a){E(this,"sx");E(this,"sy");E(this,"ox");E(this,"oy");i===void 0?(this.sx=0,this.sy=0,this.ox=0,this.oy=0):(e===void 0&&(e=0),n===void 0&&(n=0),a===void 0&&(a=0),this.sx=i,this.sy=e,this.ox=n,this.oy=a)}setTo(i,e,n,a){return this.sx=i,this.sy=e,this.ox=n,this.oy=a,this}set(i){return this.sx=i.sx,this.sy=i.sy,this.ox=i.ox,this.oy=i.oy,this}copy(){const i=new Yt;return i.sx=this.sx,i.sy=this.sy,i.ox=this.ox,i.oy=this.oy,i}kt(){return Object.freeze(this),this}N(){return Object.isFrozen(this)?this:this.copy().kt()}Jw(i){}Hi(i){return this.sx=NaN,this.sy=NaN,this.ox=i,this.kt()}DU(i,e){(isNaN(i)||i>1||i<0)&&s.J(i,"0 <= "+e+" <= 1",Yt,e)}vU(i,e){(isNaN(i)||i===1/0||i===-1/0)&&s.J(i,"real number, not NaN or Infinity",Yt,e)}static parse(i){if(typeof i=="string"){if(i=i.trim(),i==="None")return Yt.None;if(i==="TopLeft")return Yt.TopLeft;if(i==="Top"||i==="TopCenter"||i==="MiddleTop")return Yt.TopCenter;if(i==="TopRight")return Yt.TopRight;if(i==="Left"||i==="LeftCenter"||i==="MiddleLeft")return Yt.LeftCenter;if(i==="Center")return Yt.Center;if(i==="Right"||i==="RightCenter"||i==="MiddleRight")return Yt.RightCenter;if(i==="BottomLeft")return Yt.BottomLeft;if(i==="Bottom"||i==="BottomCenter"||i==="MiddleBottom")return Yt.BottomCenter;if(i==="BottomRight")return Yt.BottomRight;if(i==="TopSide")return Yt.TopSide;if(i==="LeftSide")return Yt.LeftSide;if(i==="RightSide")return Yt.RightSide;if(i==="BottomSide")return Yt.BottomSide;if(i==="TopBottomSides")return Yt.TopBottomSides;if(i==="LeftRightSides")return Yt.LeftRightSides;if(i==="TopLeftSides")return Yt.TopLeftSides;if(i==="TopRightSides")return Yt.TopRightSides;if(i==="BottomLeftSides")return Yt.BottomLeftSides;if(i==="BottomRightSides")return Yt.BottomRightSides;if(i==="NotTopSide")return Yt.NotTopSide;if(i==="NotLeftSide")return Yt.NotLeftSide;if(i==="NotRightSide")return Yt.NotRightSide;if(i==="NotBottomSide")return Yt.NotBottomSide;if(i==="AllSides")return Yt.AllSides;if(i==="Default")return Yt.Default;const e=i.split(" ");let n=0,a=0;for(;e[n]==="";)n++;let o=e[n++];o!==void 0&&o.length>0&&(a=parseFloat(o));let h=0;for(;e[n]==="";)n++;o=e[n++],o!==void 0&&o.length>0&&(h=parseFloat(o));let u=0;for(;e[n]==="";)n++;o=e[n++],o!==void 0&&o.length>0&&(u=parseFloat(o));let m=0;for(;e[n]==="";)n++;return o=e[n++],o!==void 0&&o.length>0&&(m=parseFloat(o)),new Yt(a,h,u,m)}else return new Yt}static stringify(i){return i.isSpot()?i.x.toString()+" "+i.y.toString()+" "+i.offsetX.toString()+" "+i.offsetY.toString():i.toString()}static stringifyFixed(i){return e=>e.x.toFixed(i)+" "+e.y.toFixed(i)+" "+e.offsetX.toFixed(i)+" "+e.offsetY.toFixed(i)}toString(){return this.isSpot()?this.ox===0&&this.oy===0?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.equals(Yt.None)?"None":this.equals(Yt.TopLeft)?"TopLeft":this.equals(Yt.TopCenter)?"Top":this.equals(Yt.TopRight)?"TopRight":this.equals(Yt.LeftCenter)?"Left":this.equals(Yt.Center)?"Center":this.equals(Yt.RightCenter)?"Right":this.equals(Yt.BottomLeft)?"BottomLeft":this.equals(Yt.BottomCenter)?"Bottom":this.equals(Yt.BottomRight)?"BottomRight":this.equals(Yt.TopSide)?"TopSide":this.equals(Yt.LeftSide)?"LeftSide":this.equals(Yt.RightSide)?"RightSide":this.equals(Yt.BottomSide)?"BottomSide":this.equals(Yt.TopBottomSides)?"TopBottomSides":this.equals(Yt.LeftRightSides)?"LeftRightSides":this.equals(Yt.TopLeftSides)?"TopLeftSides":this.equals(Yt.TopRightSides)?"TopRightSides":this.equals(Yt.BottomLeftSides)?"BottomLeftSides":this.equals(Yt.BottomRightSides)?"BottomRightSides":this.equals(Yt.NotTopSide)?"NotTopSide":this.equals(Yt.NotLeftSide)?"NotLeftSide":this.equals(Yt.NotRightSide)?"NotRightSide":this.equals(Yt.NotBottomSide)?"NotBottomSide":this.equals(Yt.AllSides)?"AllSides":this.equals(Yt.Default)?"Default":"None"}equals(i){return i instanceof Yt?(this.sx===i.x||isNaN(this.sx)&&isNaN(i.x))&&(this.sy===i.y||isNaN(this.sy)&&isNaN(i.y))&&this.ox===i.offsetX&&this.oy===i.offsetY:!1}opposite(){return new Yt(.5-(this.sx-.5),.5-(this.sy-.5),-this.ox,-this.oy)}includesSide(i){if(!this.isSide())return!1;if(!i.isSide())if(i.equals(Yt.Left))i=Yt.LeftSide;else if(i.equals(Yt.Right))i=Yt.RightSide;else if(i.equals(Yt.Top))i=Yt.TopSide;else if(i.equals(Yt.Bottom))i=Yt.BottomSide;else return!1;const e=this.oy,n=i.offsetY;return(e&n)===n}get x(){return this.sx}set x(i){this.sx=i}get y(){return this.sy}set y(i){this.sy=i}get offsetX(){return this.ox}set offsetX(i){this.ox=i}get offsetY(){return this.oy}set offsetY(i){this.oy=i}isSpot(){return!isNaN(this.x)&&!isNaN(this.y)}isNoSpot(){return isNaN(this.x)||isNaN(this.y)}isSide(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===1&&this.offsetY!==0}isNone(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===0&&this.offsetY===0}isDefault(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===-1&&this.offsetY===0}};let K=Yt;E(K,"None",new Yt(0,0,0,0).Hi(0)),E(K,"Default",new Yt(0,0,-1,0).Hi(-1)),E(K,"TopLeft",new Yt(0,0,0,0).kt()),E(K,"TopCenter",new Yt(.5,0,0,0).kt()),E(K,"TopRight",new Yt(1,0,0,0).kt()),E(K,"LeftCenter",new Yt(0,.5,0,0).kt()),E(K,"Center",new Yt(.5,.5,0,0).kt()),E(K,"RightCenter",new Yt(1,.5,0,0).kt()),E(K,"BottomLeft",new Yt(0,1,0,0).kt()),E(K,"BottomCenter",new Yt(.5,1,0,0).kt()),E(K,"BottomRight",new Yt(1,1,0,0).kt()),E(K,"MiddleTop",Yt.TopCenter),E(K,"MiddleLeft",Yt.LeftCenter),E(K,"MiddleRight",Yt.RightCenter),E(K,"MiddleBottom",Yt.BottomCenter),E(K,"Top",Yt.TopCenter),E(K,"Left",Yt.LeftCenter),E(K,"Right",Yt.RightCenter),E(K,"Bottom",Yt.BottomCenter),E(K,"TopSide",new Yt(0,0,1,1).Hi(1)),E(K,"LeftSide",new Yt(0,0,1,2).Hi(1)),E(K,"RightSide",new Yt(0,0,1,4).Hi(1)),E(K,"BottomSide",new Yt(0,0,1,8).Hi(1)),E(K,"TopBottomSides",new Yt(0,0,1,9).Hi(1)),E(K,"LeftRightSides",new Yt(0,0,1,6).Hi(1)),E(K,"TopLeftSides",new Yt(0,0,1,3).Hi(1)),E(K,"TopRightSides",new Yt(0,0,1,5).Hi(1)),E(K,"BottomLeftSides",new Yt(0,0,1,10).Hi(1)),E(K,"BottomRightSides",new Yt(0,0,1,12).Hi(1)),E(K,"NotTopSide",new Yt(0,0,1,14).Hi(1)),E(K,"NotLeftSide",new Yt(0,0,1,13).Hi(1)),E(K,"NotRightSide",new Yt(0,0,1,11).Hi(1)),E(K,"NotBottomSide",new Yt(0,0,1,7).Hi(1)),E(K,"AllSides",new Yt(0,0,1,15).Hi(1)),E(K,"vP",new Yt(.156,.156).kt()),E(K,"FP",new Yt(.844,.844).kt());const tu=class{constructor(){E(this,"m11");E(this,"m12");E(this,"m21");E(this,"m22");E(this,"dx");E(this,"dy");this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0}set(i){return this.m11=i.m11,this.m12=i.m12,this.m21=i.m21,this.m22=i.m22,this.dx=i.dx,this.dy=i.dy,this}setTo(i,e,n,a,o,h){return this.m11=i,this.m12=e,this.m21=n,this.m22=a,this.dx=o,this.dy=h,this}copy(){const i=new tu;return i.m11=this.m11,i.m12=this.m12,i.m21=this.m21,i.m22=this.m22,i.dx=this.dx,i.dy=this.dy,i}toString(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"}equals(i){return this.m11===i.m11&&this.m12===i.m12&&this.m21===i.m21&&this.m22===i.m22&&this.dx===i.dx&&this.dy===i.dy}RP(){return this.dx===0&&this.dy===0&&this.m11===1&&this.m12===0&&this.m21===0&&this.m22===1}Ue(){return this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0,this}kc(i){const e=this.m11*i.m11+this.m21*i.m12,n=this.m12*i.m11+this.m22*i.m12,a=this.m11*i.m21+this.m21*i.m22,o=this.m12*i.m21+this.m22*i.m22;return this.dx=this.m11*i.dx+this.m21*i.dy+this.dx,this.dy=this.m12*i.dx+this.m22*i.dy+this.dy,this.m11=e,this.m12=n,this.m21=a,this.m22=o,this}zL(i){const e=1/(i.m11*i.m22-i.m12*i.m21),n=i.m22*e,a=-i.m12*e,o=-i.m21*e,h=i.m11*e,u=e*(i.m21*i.dy-i.m22*i.dx),m=e*(i.m12*i.dx-i.m11*i.dy),v=this.m11*n+this.m21*a,b=this.m12*n+this.m22*a,S=this.m11*o+this.m21*h,A=this.m12*o+this.m22*h;return this.dx=this.m11*u+this.m21*m+this.dx,this.dy=this.m12*u+this.m22*m+this.dy,this.m11=v,this.m12=b,this.m21=S,this.m22=A,this}ex(){const i=1/(this.m11*this.m22-this.m12*this.m21),e=this.m22*i,n=-this.m12*i,a=-this.m21*i,o=this.m11*i,h=i*(this.m21*this.dy-this.m22*this.dx),u=i*(this.m12*this.dx-this.m11*this.dy);return this.m11=e,this.m12=n,this.m21=a,this.m22=o,this.dx=h,this.dy=u,this}ks(i,e,n){if(i=G.Ee(i),i===0)return this;this.Gs(e,n);let a=0,o=0;if(i===90)a=0,o=1;else if(i===180)a=-1,o=0;else if(i===270)a=0,o=-1;else{const b=i*Math.PI/180;a=Math.cos(b),o=Math.sin(b)}const h=this.m11*a+this.m21*o,u=this.m12*a+this.m22*o,m=this.m11*-o+this.m21*a,v=this.m12*-o+this.m22*a;return this.m11=h,this.m12=u,this.m21=m,this.m22=v,this.Gs(-e,-n),this}Gs(i,e){return this.dx+=this.m11*i+this.m21*e,this.dy+=this.m12*i+this.m22*e,this}it(i,e){return e===void 0&&(e=i),this.m11*=i,this.m12*=i,this.m21*=e,this.m22*=e,this}YF(){if(this.m11===1&&this.m12===0)return 0;let i=Math.atan2(this.m12,this.m11)*180/Math.PI;return i<0&&(i+=360),i}gt(i){const e=i.x,n=i.y;return i.e(e*this.m11+n*this.m21+this.dx,e*this.m12+n*this.m22+this.dy)}Ci(i){const e=1/(this.m11*this.m22-this.m12*this.m21),n=this.m22*e,a=-this.m12*e,o=-this.m21*e,h=this.m11*e,u=i.x-this.dx,m=i.y-this.dy;return i.e(u*n+m*o,u*a+m*h)}Mu(i){const e=1/(this.m11*this.m22-this.m12*this.m21),n=this.m22*e,a=-this.m12*e,o=-this.m21*e,h=this.m11*e,u=e*(this.m21*this.dy-this.m22*this.dx),m=e*(this.m12*this.dx-this.m11*this.dy),v=i.x*1.25,b=i.y*1.2;return i.e(v*n+b*o+u,v*a+b*h+m)}sm(i){const e=i.x,n=i.y,a=e+i.width,o=n+i.height,h=this.m11,u=this.m12,m=this.m21,v=this.m22,b=this.dx,S=this.dy,A=e*h+n*m+b,M=e*u+n*v+S,O=a*h+n*m+b,R=a*u+n*v+S,V=e*h+o*m+b,q=e*u+o*v+S,J=a*h+o*m+b,re=a*u+o*v+S;let se=A,ne=A,xe=M,ye=M;return se=Math.min(se,O),ne=Math.max(ne,O),xe=Math.min(xe,R),ye=Math.max(ye,R),se=Math.min(se,V),ne=Math.max(ne,V),xe=Math.min(xe,q),ye=Math.max(ye,q),se=Math.min(se,J),ne=Math.max(ne,J),xe=Math.min(xe,re),ye=Math.max(ye,re),i.e(se,xe,ne-se,ye-xe),i}static l(){const i=tu.XL.pop();return i===void 0?new tu:i}static i(i){tu.XL.push(i)}};let le=tu;E(le,"XL",[]),E(le,"OP","54a702f3e53909c447824c6706603faf4c");const G={KF:"7da71ca0ad381e90",qn:4*((Math.sqrt(2)-1)/3),GL:[],ix:ee=>{if(ee<=0)return 0;let i=G.GL;if(i===null){i=[];for(let e=0;e<=2e3;e++)i[e]=Math.sqrt(e);G.GL=i}if(ee<1){const e=1/ee;return e<=2e3?1/i[e|0]:Math.sqrt(ee)}else return ee<=2e3?i[ee|0]:Math.sqrt(ee)},u:(ee,i)=>{const e=ee-i;return e<.5&&e>-.5},X:(ee,i)=>{const e=ee-i;return e<5e-8&&e>-5e-8},Ve:(ee,i,e,n,a,o,h)=>{a<=0&&(a=1e-6);let u=0,m=0,v=0,b=0;if(ee<e?(m=ee,u=e):(m=e,u=ee),i<n?(b=i,v=n):(b=n,v=i),ee===e)return b<=h&&h<=v&&ee-a<=o&&o<=ee+a;if(i===n)return m<=o&&o<=u&&i-a<=h&&h<=i+a;const S=u+a,A=m-a;if(A<=o&&o<=S){const M=v+a,O=b-a;if(O<=h&&h<=M)if(S-A>M-O)if(ee-e>a||e-ee>a){const R=(n-i)/(e-ee)*(o-ee)+i;if(R-a<=h&&h<=R+a)return!0}else return!0;else if(i-n>a||n-i>a){const R=(e-ee)/(n-i)*(h-i)+ee;if(R-a<=o&&o<=R+a)return!0}else return!0}return!1},nx:(ee,i,e,n,a,o,h,u,m,v,b,S)=>{if(!G.Ve(ee,i,h,u,S,e,n)||!G.Ve(ee,i,h,u,S,a,o)){const A=(ee+e)/2,M=(i+n)/2,O=(e+a)/2,R=(n+o)/2,V=(a+h)/2,q=(o+u)/2,J=(A+O)/2,re=(M+R)/2,se=(O+V)/2,ne=(R+q)/2,xe=(J+se)/2,ye=(re+ne)/2;return G.nx(ee,i,A,M,J,re,xe,ye,m,v,b,S)||G.nx(xe,ye,se,ne,V,q,h,u,m,v,b,S)}else return G.Ve(ee,i,h,u,S,v,b)},YL:(ee,i,e,n,a,o,h,u,m)=>{const v=(ee+e)/2,b=(i+n)/2,S=(e+a)/2,A=(n+o)/2,M=(a+h)/2,O=(o+u)/2,R=(v+S)/2,V=(b+A)/2,q=(S+M)/2,J=(A+O)/2;return m.e((R+q)/2,(V+J)/2),m},HF:(ee,i,e,n,a,o,h,u)=>{const m=(ee+e)/2,v=(i+n)/2,b=(e+a)/2,S=(n+o)/2,A=(a+h)/2,M=(o+u)/2,O=(m+b)/2,R=(v+S)/2,V=(b+A)/2,q=(S+M)/2;return N.direction(O,R,V,q)},Nu:(ee,i,e,n,a,o,h,u,m,v)=>{if(!G.Ve(ee,i,h,u,m,e,n)||!G.Ve(ee,i,h,u,m,a,o)){const b=(ee+e)/2,S=(i+n)/2,A=(e+a)/2,M=(n+o)/2,O=(a+h)/2,R=(o+u)/2,V=(b+A)/2,q=(S+M)/2,J=(A+O)/2,re=(M+R)/2,se=(V+J)/2,ne=(q+re)/2;G.Nu(ee,i,b,S,V,q,se,ne,m,v),G.Nu(se,ne,J,re,O,R,h,u,m,v)}else v.re(ee,i,0,0),v.re(h,u,0,0);return v},Wn:(ee,i,e,n,a,o,h,u,m,v)=>{if(!G.Ve(ee,i,h,u,m,e,n)||!G.Ve(ee,i,h,u,m,a,o)){const b=(ee+e)/2,S=(i+n)/2,A=(e+a)/2,M=(n+o)/2,O=(a+h)/2,R=(o+u)/2,V=(b+A)/2,q=(S+M)/2,J=(A+O)/2,re=(M+R)/2,se=(V+J)/2,ne=(q+re)/2;G.Wn(ee,i,b,S,V,q,se,ne,m,v),G.Wn(se,ne,J,re,O,R,h,u,m,v)}else v.length===0&&(v.push(ee),v.push(i)),v.push(h),v.push(u);return v},IP:(ee,i,e,n,a,o,h,u,m,v)=>{if(G.Ve(ee,i,a,o,v,e,n))return G.Ve(ee,i,a,o,v,u,m);{const b=(ee+e)/2,S=(i+n)/2,A=(e+a)/2,M=(n+o)/2,O=(b+A)/2,R=(S+M)/2;return G.IP(ee,i,b,S,O,R,h,u,m,v)||G.IP(O,R,A,M,a,o,h,u,m,v)}},EP:(ee,i,e,n,a,o,h,u)=>{if(G.Ve(ee,i,a,o,h,e,n))u.re(ee,i,0,0),u.re(a,o,0,0);else{const m=(ee+e)/2,v=(i+n)/2,b=(e+a)/2,S=(n+o)/2,A=(m+b)/2,M=(v+S)/2;G.EP(ee,i,m,v,A,M,h,u),G.EP(A,M,b,S,a,o,h,u)}return u},nm:(ee,i,e,n,a,o,h,u)=>{if(G.Ve(ee,i,a,o,h,e,n))u.length===0&&(u.push(ee),u.push(i)),u.push(a),u.push(o);else{const m=(ee+e)/2,v=(i+n)/2,b=(e+a)/2,S=(n+o)/2,A=(m+b)/2,M=(v+S)/2;G.nm(ee,i,m,v,A,M,h,u),G.nm(A,M,b,S,a,o,h,u)}return u},om:(ee,i,e,n,a,o,h,u,m,v,b,S,A,M)=>{if(!G.Ve(ee,i,h,u,A,e,n)||!G.Ve(ee,i,h,u,A,a,o)){const O=(ee+e)/2,R=(i+n)/2,V=(e+a)/2,q=(n+o)/2,J=(a+h)/2,re=(o+u)/2,se=(O+V)/2,ne=(R+q)/2,xe=(V+J)/2,ye=(q+re)/2,we=(se+xe)/2,ze=(ne+ye)/2;let Ce=1/0,Pe=!1,Fe=0,Re=0;if(G.om(ee,i,O,R,se,ne,we,ze,m,v,b,S,A,M)){const We=(M.x-m)**2+(M.y-v)**2;We<Ce&&(Ce=We,Pe=!0,Fe=M.x,Re=M.y)}if(G.om(we,ze,xe,ye,J,re,h,u,m,v,b,S,A,M)){const We=(M.x-m)**2+(M.y-v)**2;We<Ce&&(Ce=We,Pe=!0,Fe=M.x,Re=M.y)}return Pe&&(M.x=Fe,M.y=Re),Pe}else{if(!G.Pu(ee,i,h,u,m,v,b,S))return!1;const O=(ee-h)*(v-S)-(i-u)*(m-b);if(O===0)return!1;const R=((ee*u-i*h)*(m-b)-(ee-h)*(m*S-v*b))/O,V=((ee*u-i*h)*(v-S)-(i-u)*(m*S-v*b))/O;return M.e(R,V),!0}},rm:(ee,i,e,n,a,o,h,u,m,v,b,S,A)=>{let M=0;if(!G.Ve(ee,i,h,u,A,e,n)||!G.Ve(ee,i,h,u,A,a,o)){const O=(ee+e)/2,R=(i+n)/2,V=(e+a)/2,q=(n+o)/2,J=(a+h)/2,re=(o+u)/2,se=(O+V)/2,ne=(R+q)/2,xe=(V+J)/2,ye=(q+re)/2,we=(se+xe)/2,ze=(ne+ye)/2;M+=G.rm(ee,i,O,R,se,ne,we,ze,m,v,b,S,A),M+=G.rm(we,ze,xe,ye,J,re,h,u,m,v,b,S,A)}else{const O=(ee-h)*(v-S)-(i-u)*(m-b);if(O===0)return M;const R=((ee*u-i*h)*(m-b)-(ee-h)*(m*S-v*b))/O,V=((ee*u-i*h)*(v-S)-(i-u)*(m*S-v*b))/O;if(R>=b)return M;let q=0,J=0;if((m>b?m-b:b-m)<(v>S?v-S:S-v)){if(i<u?(q=i,J=u):(q=u,J=i),V<q||V>J)return M}else if(ee<h?(q=ee,J=h):(q=h,J=ee),R<q||R>J)return M;O>0?M++:O<0&&M--}return M},Nl:(ee,i,e,n,a,o,h)=>{if(G.X(ee,e)){let u=0,m=0;i<n?(u=i,m=n):(u=n,m=i);const v=o;return v<u?(h.e(ee,u),!1):v>m?(h.e(ee,m),!1):(h.e(ee,v),!0)}else if(G.X(i,n)){let u=0,m=0;ee<e?(u=ee,m=e):(u=e,m=ee);const v=a;return v<u?(h.e(u,i),!1):v>m?(h.e(m,i),!1):(h.e(v,i),!0)}else{const u=(e-ee)**2+(n-i)**2,m=((ee-a)*(ee-e)+(i-o)*(i-n))/u;if(m<-5e-6)return h.e(ee,i),!1;if(m>1.000005)return h.e(e,n),!1;{const v=ee+m*(e-ee),b=i+m*(n-i);return h.e(v,b),!0}}},vo:(ee,i,e,n,a,o,h,u,m)=>{if(G.u(ee,e)&&G.u(i,n))return m.e(ee,i),!1;if(G.X(a,h)){if(G.X(ee,e))return G.Nl(ee,i,e,n,a,o,m),!1;{const v=(n-i)/(e-ee)*(a-ee)+i;return G.Nl(ee,i,e,n,a,v,m)}}else{const v=(u-o)/(h-a);if(G.X(ee,e)){const b=v*(ee-a)+o;let S=0,A=0;return i<n?(S=i,A=n):(S=n,A=i),b<S?(m.e(ee,S),!1):b>A?(m.e(ee,A),!1):(m.e(ee,b),!0)}else{const b=(n-i)/(e-ee);if(G.X(v,b))return G.Nl(ee,i,e,n,a,o,m),!1;{const S=(b*ee-v*a+o-i)/(b-v);if(G.X(b,0)){let A=0,M=0;return ee<e?(A=ee,M=e):(A=e,M=ee),S<A?(m.e(A,i),!1):S>M?(m.e(M,i),!1):(m.e(S,i),!0)}else{const A=b*(S-ee)+i;return G.Nl(ee,i,e,n,S,A,m)}}}}},Cl:(ee,i,e,n,a,o,h,u,m)=>{let v=1e21,b=ee,S=i;if(G.vo(ee,i,ee,n,a,o,h,u,m)){const A=(m.x-a)**2+(m.y-o)**2;A<v&&(v=A,b=m.x,S=m.y)}if(G.vo(e,i,e,n,a,o,h,u,m)){const A=(m.x-a)**2+(m.y-o)**2;A<v&&(v=A,b=m.x,S=m.y)}if(G.vo(ee,i,e,i,a,o,h,u,m)){const A=(m.x-a)**2+(m.y-o)**2;A<v&&(v=A,b=m.x,S=m.y)}if(G.vo(ee,n,e,n,a,o,h,u,m)){const A=(m.x-a)**2+(m.y-o)**2;A<v&&(v=A,b=m.x,S=m.y)}return m.e(b,S),v<1e21},lx:(ee,i,e)=>G.VL(ee.x,ee.y,ee.width,ee.height,i.x,i.y,e.x,e.y),VL:(ee,i,e,n,a,o,h,u)=>{const m=ee,v=ee+e,b=i,S=i+n;if(a===h){let A=0,M=0;return o<u?(A=o,M=u):(A=u,M=o),m<=a&&a<=v&&A<=S&&M>=b}if(o===u){let A=0,M=0;return a<h?(A=a,M=h):(A=h,M=a),b<=o&&o<=S&&A<=v&&M>=m}return!!(W.contains(ee,i,e,n,a,o)||W.contains(ee,i,e,n,h,u)||G.Pu(m,b,v,b,a,o,h,u)||G.Pu(v,b,v,S,a,o,h,u)||G.Pu(v,S,m,S,a,o,h,u)||G.Pu(m,S,m,b,a,o,h,u))},Pu:(ee,i,e,n,a,o,h,u)=>ee===e&&i===n&&a===h&&o===u?ee===a&&i===o:G.ku(ee,i,e,n,a,o)*G.ku(ee,i,e,n,h,u)<=0&&G.ku(a,o,h,u,ee,i)*G.ku(a,o,h,u,e,n)<=0,ku:(ee,i,e,n,a,o)=>{const h=e-ee,u=n-i;let m=a-ee,v=o-i,b=m*u-v*h;return b===0&&(b=m*h+v*u,b>0&&(m-=h,v-=u,b=m*h+v*u,b<0&&(b=0))),b},_w(ee,i,e,n){n===void 0&&(n=!1);let a=0;const o=ee===null?i:(i-ee.x)/(ee.width>0?ee.width:1),h=ee===null?e:(e-ee.y)/(ee.height>0?ee.height:1);return o>h?o>1-h||(n||o<1-h?a=270:a=315):n||o<h?o>1-h?a=90:n||o<1-h?a=180:a=135:o<.5?a=225:o>.5&&(a=45),a},Ee:ee=>(ee>=360?ee-=360:ee<0&&(ee+=360),ee),jF:(ee,i)=>ee>i?Math.min(ee-i,Math.abs(ee-360-i)):i>ee?Math.min(i-ee,Math.abs(ee-(i-360))):0,KL:(ee,i,e,n,a,o)=>{const h=Math.PI;o||(n=n*(h/180),a=a*(h/180));const u=n>a?-1:1,m=1e-5,v=h*2,b=[],S=h/2;let A=n,M=Math.min(v,Math.abs(a-n));if(M<m){const O=A+u*Math.min(M,S),R=ee+e*Math.cos(A),V=i+e*Math.sin(A),q=ee+e*Math.cos(O),J=i+e*Math.sin(O),re=(R+q)/2,se=(V+J)/2;return b.push([R,V,re,se,re,se,q,J]),b}for(;M>m;){const O=A+u*Math.min(M,S);b.push(G.qF(e,A,O,ee,i)),M-=Math.abs(O-A),A=O}return b},qF:(ee,i,e,n,a)=>{const o=(e-i)/2,h=ee*Math.cos(o),u=ee*Math.sin(o),m=h,v=-u,b=m*m+v*v,S=b+m*h+v*u,A=4/3*(Math.sqrt(2*b*S)-S)/(m*u-v*h),M=m-A*v,O=v+A*m,R=M,V=-O,q=o+i,J=Math.cos(q),re=Math.sin(q);return[n+ee*Math.cos(i),a+ee*Math.sin(i),n+M*J-O*re,a+M*re+O*J,n+R*J-V*re,a+R*re+V*J,n+ee*Math.cos(e),a+ee*Math.sin(e)]},tm:(ee,i,e,n,a,o,h)=>{const u=a,m=o,v=Math.floor((ee-e)/u)*u+e,b=Math.floor((i-n)/m)*m+n;let S=v;v+u-ee<u/2&&(S=v+u);let A=b;return b+m-i<m/2&&(A=b+m),h.e(S,A),h},HL:(ee,i)=>{let e=Math.max(ee,i),n=Math.min(ee,i),a=1,o=1;do a=e%n,o=n,e=n,n=a;while(a>0);return o},WF:(ee,i,e,n)=>{const a=e<0,o=n<0;let h=0,u=0,m=0;ee<i?(u=1,m=0):(u=0,m=1);let v=0,b=0,S=0,A=0;return h=u,v=h===0?ee:i,S=h===0?e:n,(h===0?a:o)&&(S=-S),h=m,b=h===0?ee:i,A=h===0?e:n,(h===0?a:o)&&(A=-A),G.JF(v,b,S,A,0,0)},JF:(ee,i,e,n,a,o)=>{let h=0;if(n>0)if(e>0){const u=ee*ee,m=i*i,v=ee*e,b=i*n;let S=-m+b,A=-m+Math.sqrt(v*v+b*b),M=S;const O=9999999999;for(let q=0;q<O&&(M=.5*(S+A),!(M===S||M===A));++q){const J=v/(M+u),re=b/(M+m),se=J*J+re*re-1;if(se>0)S=M;else if(se<0)A=M;else break}a=u*e/(M+u),o=m*n/(M+m);const R=a-e,V=o-n;h=Math.sqrt(R*R+V*V)}else a=0,o=i,h=Math.abs(n-i);else{const u=ee*ee-i*i,m=ee*e;if(m<u){const v=m/u,b=v*v;a=ee*v,o=i*Math.sqrt(Math.abs(1-b));const S=a-e;h=Math.sqrt(S*S+o*o)}else a=ee,o=0,h=Math.abs(e-ee)}return h},Jn:{},lm:new l,yr:new l,wr:0,am:100};G.za=G.KF;var oe=(ee=>(ee[ee.Line=1]="Line",ee[ee.Rectangle=2]="Rectangle",ee[ee.Ellipse=3]="Ellipse",ee[ee.Path=4]="Path",ee))(oe||{}),fe=(ee=>(ee[ee.None=0]="None",ee[ee.Default=1]="Default",ee[ee.Fill=2]="Fill",ee[ee.Uniform=6]="Uniform",ee))(fe||{});const Rr=class{constructor(i,e){E(this,"n");E(this,"hm");E(this,"cm");E(this,"Pc");E(this,"Cu");E(this,"Lu");E(this,"$n");E(this,"Zn");E(this,"Qn");E(this,"W");E(this,"Li");E(this,"Ai");E(this,"ni");E(this,"oi");E(this,"Ys");E(this,"Sc");E(this,"Mc");C.Je(this),this.n=2,i===void 0&&(i=4),this.W=i,this.Li=0,this.Ai=0,this.ni=0,this.oi=0,i===4?this.Ys=new w:this.Ys=Rr.hx,this.hm=this.Ys.rt,this.cm=new W,this.Pc=null,this.Cu=null,this.Lu=NaN,this.$n=K.TopLeft,this.Zn=K.BottomRight,this.Sc=NaN,this.Mc=NaN,this.Qn=2,e&&Object.assign(this,e)}copy(){const i=new Rr;if(i.n=this.n&-2,i.W=this.W,i.Li=this.Li,i.Ai=this.Ai,i.ni=this.ni,i.oi=this.oi,this.W===4){const e=this.Ys.r,n=i.Ys;for(let a=0;a<e.length;a++){const o=e[a];n.add(o.copy())}i.Ys=n}else i.Ys=this.Ys;return i.hm=this.hm,i.cm.h(this.cm),i.Pc=this.Pc,i.Cu=this.Cu,i.Lu=this.Lu,i.$n=this.$n.N(),i.Zn=this.Zn.N(),i.Sc=this.Sc,i.Mc=this.Mc,i.Qn=this.Qn,i}get f(){return(this.n&1)!==0}set f(i){i?this.n|=1:this.n&=-2}get yt(){return(this.n&2)!==0}set yt(i){i?this.n|=2:this.n&=-3}k(){if(this.f=!0,this.type!==4)return this;const i=this.figures;i.k();for(const e of i)e.k();return this}equalsApprox(i){if(!(i instanceof Rr))return!1;if(this.type!==i.type)return this.type===1&&i.type===4?this.jL(i):i.type===1&&this.type===4?i.jL(this):!1;if(this.type===4){const e=this.figures.r,n=i.figures.r,a=e.length;if(a!==n.length)return!1;for(let o=0;o<a;o++){const h=e[o],u=n[o];if(!h.equalsApprox(u))return!1}return!0}else return G.u(this.startX,i.startX)&&G.u(this.startY,i.startY)&&G.u(this.endX,i.endX)&&G.u(this.endY,i.endY)}jL(i){if(this.type!==1||i.type!==4)return!1;if(i.figures.count===1){const e=i.figures.elt(0);if(e.segments.count===1&&G.u(this.startX,e.startX)&&G.u(this.startY,e.startY)){const n=e.segments.elt(0);if(n.type===2&&G.u(this.endX,n.endX)&&G.u(this.endY,n.endY))return!0}}return!1}static stringify(i){return i.toString()}static stringifyFixed(i){return e=>e.toString(i)}fe(i){i in oe?this.type=i:s.dr(this,i)}toString(i){i===void 0&&(i=-1);const e=a=>a===0?"0":a.toFixed(i);let n;switch(this.type){case 1:return i<0?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+e(this.startX)+" "+e(this.startY)+"L"+e(this.endX)+" "+e(this.endY);case 2:return n=new W(this.startX,this.startY,0,0),n.union(this.endX,this.endY,0,0),i<0?"M"+n.x.toString()+" "+n.y.toString()+"H"+n.right.toString()+"V"+n.bottom.toString()+"H"+n.left.toString()+"z":"M"+e(n.x)+" "+e(n.y)+"H"+e(n.right)+"V"+e(n.bottom)+"H"+e(n.left)+"z";case 3:if(n=new W(this.startX,this.startY,0,0),n.union(this.endX,this.endY,0,0),i<0){const u=n.left.toString()+" "+(n.y+n.height/2).toString(),m=n.right.toString()+" "+(n.y+n.height/2).toString();return"M"+u+"A"+(n.width/2).toString()+" "+(n.height/2).toString()+" 0 0 1 "+m+"A"+(n.width/2).toString()+" "+(n.height/2).toString()+" 0 0 1 "+u}else{const u=e(n.left)+" "+e(n.y+n.height/2),m=e(n.right)+" "+e(n.y+n.height/2);return"M"+u+"A"+e(n.width/2)+" "+e(n.height/2)+" 0 0 1 "+m+"A"+e(n.width/2)+" "+e(n.height/2)+" 0 0 1 "+u}case 4:let a="";const o=this.figures.r,h=o.length;for(let u=0;u<h;u++){const m=o[u];u>0&&(a+=" x "),m.isFilled&&(a+="F "),a+=m.toString(i)}return a;default:return oe[this.type]}}static fillPath(i){const e=i.split(/[Xx]/),n=e.length;let a="";for(let o=0;o<n;o++){const h=e[o];if(h.match(/[Ff]/)!==null){o===0?a+=h:a+="X"+(h[0]===" "?"":" ")+h;continue}a+=(o===0?"":"X ")+"F"+(h[0]===" "?"":" ")+h}return a}static parse(i,e){e===void 0&&(e=!1);const n=new RegExp("(["+Rr.fm+"])(["+Rr.fm+"])","gm"),a=new RegExp("(["+Rr.fm+"])([^s])","gm"),o=new RegExp("([^s])(["+Rr.fm+"])","gm");i=i.replace(/,/gm," "),i=i.replace(n,"$1 $2"),i=i.replace(n,"$1 $2"),i=i.replace(a,"$1 $2"),i=i.replace(o,"$1 $2"),i=i.replace(/([0-9])([+\-])/gm,"$1 $2"),i=i.replace(/[\s\r\t\n]+/gm," "),i=i.replace(/^\s+|\s+$/g,"");const h=i.split(" ");for(let Fe=0;Fe<h.length;Fe++){const Re=h[Fe];if(Re.match(/(\.[0-9]*)(\.)/gm)!==null){const We=s.nt();let Ke="",lt=!1;for(let ct=0;ct<Re.length;ct++){const rt=Re[ct];rt==="."&&!lt?(lt=!0,Ke+=rt):rt==="."?(We.push(Ke),Ke="."):Ke+=rt}We.push(Ke),h.splice(Fe,1);for(let ct=0;ct<We.length;ct++)h.splice(Fe+ct,0,We[ct]);Fe+=We.length-1,s.Z(We)}}let u=-1,m="",v="";const b=new N(0,0),S=new N(0,0),A=new N(0,0);let M=!0;function O(){return u>=se-1||h[u+1].match(Ce)!==null?!0:(M=!1,!1)}function R(){return u++,h[u]}function V(Fe){let Re=parseFloat(R()),We=parseFloat(R());m===m.toLowerCase()&&(Re=A.x+Re,We=A.y+We),Fe.e(Re,We)}function q(){return V(A),A}function J(){return V(S),S}function re(){const Fe=v.toLowerCase();return Fe==="c"||Fe==="s"||Fe==="q"||Fe==="t"?new N(2*A.x-S.x,2*A.y-S.y):new N(A.x,A.y)}const se=h.length,ne=qt.qL(null);let xe=!1,ye=!1,we=!1,ze=!0;const Ce=new RegExp("["+Rr.fm+"]");for(;!(u>=se-1);){if(v=m,m=R(),m==="")continue;M=!0;let Fe=!1;switch(m.toUpperCase()){case"X":ze=!0,xe=!1,ye=!1;break;case"M":const Re=q();for(ne.Ne===null||ze===!0?(ne.Au(Re.x,Re.y,xe,!1,!ye,we),ze=!1):ne.$F(Re.x,Re.y),b.h(A);!O();){const We=q();ne.Ks(We.x,We.y)}break;case"L":for(;!O();){const We=q();ne.Ks(We.x,We.y)}M&&(Fe=!0);break;case"H":for(;!O();)A.e((m===m.toLowerCase()?A.x:0)+parseFloat(R()),A.y),ne.Ks(A.x,A.y);break;case"V":for(;!O();)A.e(A.x,(m===m.toLowerCase()?A.y:0)+parseFloat(R())),ne.Ks(A.x,A.y);M&&(Fe=!0);break;case"C":for(;!O();){const We=new N;V(We);const Ke=J(),lt=q();ne.xr(We.x,We.y,Ke.x,Ke.y,lt.x,lt.y)}M&&(Fe=!0);break;case"S":for(;!O();){const We=re(),Ke=J(),lt=q();ne.xr(We.x,We.y,Ke.x,Ke.y,lt.x,lt.y)}M&&(Fe=!0);break;case"Q":for(;!O();){const We=J(),Ke=q();ne.Tu(We.x,We.y,Ke.x,Ke.y)}M&&(Fe=!0);break;case"T":for(;!O();){const We=re();S.h(We);const Ke=q();ne.Tu(We.x,We.y,Ke.x,Ke.y),S.h(Ke)}M&&(Fe=!0);break;case"B":for(;!O();){const We=parseFloat(R()),Ke=parseFloat(R());let lt=parseFloat(R()),ct=parseFloat(R());const rt=parseFloat(R());let bt=rt,Mt=!1;O()||(bt=parseFloat(R()),O()||(Mt=parseFloat(R())!==0)),m===m.toLowerCase()&&(lt+=A.x,ct+=A.y),ne.ZF(We,Ke,lt,ct,rt,bt,Mt)}M&&(Fe=!0);break;case"A":for(;!O();){const We=Math.abs(parseFloat(R())),Ke=Math.abs(parseFloat(R())),lt=parseFloat(R());let ct=!1,rt=!1,bt=0,Mt=0;const li=R();li.length===1?(ct=!!parseFloat(li),rt=!!parseFloat(R()),bt=parseFloat(R()),Mt=parseFloat(R())):li.length===2?(ct=!!parseFloat(li[0]),rt=!!parseFloat(li[1]),bt=parseFloat(R()),Mt=parseFloat(R())):(ct=!!parseFloat(li[0]),rt=!!parseFloat(li[1]),bt=parseFloat(li.slice(2)),Mt=parseFloat(R())),m===m.toLowerCase()&&(bt=A.x+bt,Mt=A.y+Mt),A.e(bt,Mt),ne.QF(We,Ke,lt,ct,rt,bt,Mt)}M&&(Fe=!0);break;case"Z":ne._F(),A.h(b);break;case"F":{let We="",Ke=1;for(;h[u+Ke];){if(h[u+Ke]==="0"){we=!0,Ke++;continue}if(h[u+Ke].match(/[Uu]/)!==null){Ke++;continue}if(h[u+Ke].match(Ce)===null){Ke++;continue}We=h[u+Ke];break}We.match(/[Mm]/)?xe=!0:ne.tR();break}case"U":{let We="",Ke=1;for(;h[u+Ke];){if(h[u+Ke].match(/[Ff]/)!==null){Ke++;continue}if(h[u+Ke].match(Ce)===null){Ke++;continue}We=h[u+Ke];break}We.match(/[Mm]/)?ye=!0:ne.eR(!1);break}default:if(m==="0"||m==="1")break;s.ne("Unknown geometry command: "+m);break}if(Fe){s.ne(`Bad geometry command: ${m}, next token: ${R()},
string: ${i}`);break}}const Pe=ne.um;if(qt.WL(ne),e){const Fe=Pe.figures.iterator;for(;Fe.next();){const Re=Fe.value;Re.isFilled=!0}}return Pe}static JL(i,e){const n=i.length,a=N.l();for(let o=0;o<n;o++){const h=i[o];a.x=h[0],a.y=h[1],e.gt(a),h[0]=a.x,h[1]=a.y,a.x=h[2],a.y=h[3],e.gt(a),h[2]=a.x,h[3]=a.y,a.x=h[4],a.y=h[5],e.gt(a),h[4]=a.x,h[5]=a.y,a.x=h[6],a.y=h[7],e.gt(a),h[6]=a.x,h[7]=a.y}N.i(a)}UP(){if(this.yt)return!0;if(this.type===4){const i=this.figures;if(this.hm!==i.rt)return!0;const e=this.figures.r,n=e.length;for(let a=0;a<n;a++)if(e[a].UP())return!0}return!1}cx(){if(this.yt=!1,this.Pc=null,this.Cu=null,this.Lu=NaN,this.type===4){const e=this.figures;this.hm=e.rt;const n=this.figures.r,a=n.length;for(let o=0;o<a;o++)n[o].iR()}const i=this.cm;isNaN(this.Sc)||isNaN(this.Mc)?i.e(0,0,0,0):i.e(0,0,this.Sc,this.Mc),this.$L(i,!1),i.re(0,0,0,0)}computeBoundsWithoutOrigin(){const i=new W;return this.$L(i,!0),i}$L(i,e){switch(this.type){case 1:case 2:case 3:e?i.e(this.Li,this.Ai,0,0):i.re(this.Li,this.Ai,0,0),i.re(this.ni,this.oi,0,0);break;case 4:const n=this.figures,a=n.r,o=n.length;for(let h=0;h<o;h++){const u=a[h];e&&h===0?i.e(u.startX,u.startY,0,0):i.re(u.startX,u.startY,0,0);const m=u.segments.r,v=m.length;let b=u.startX,S=u.startY;for(let A=0;A<v;A++){const M=m[A];switch(M.type){case 2:case 1:b=M.endX,S=M.endY,i.re(b,S,0,0);break;case 3:G.Nu(b,S,M.point1X,M.point1Y,M.point2X,M.point2Y,M.endX,M.endY,.5,i),b=M.endX,S=M.endY;break;case 4:G.EP(b,S,M.point1X,M.point1Y,M.endX,M.endY,.5,i),b=M.endX,S=M.endY;break;case 5:case 6:const O=M.type===5?M.Fo(u):M.Za(u,b,S),R=O.length;if(R===0){b=M.type===5?M.centerX:M.endX,S=M.type===5?M.centerY:M.endY,i.re(b,S,0,0);break}let V=null;for(let q=0;q<R;q++)V=O[q],G.Nu(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],.5,i);V!==null&&(b=V[6],S=V[7]);break;default:s.o("Unknown Segment type: "+M.type)}}}break;default:s.o("Unknown Geometry type: "+this.type)}}sR(i,e){const n=this.bounds;let a=i/n.width,o=e/n.height;return isFinite(a)||(a=1),isFinite(o)||(o=1),a===1&&o===1?this:this.copy().scale(a,o)}normalize(){this.f&&s.L(this);const i=this.computeBoundsWithoutOrigin();return this.offset(-i.x,-i.y),new N(-i.x,-i.y)}offset(i,e){return this.f&&s.L(this),this.v(1,0,0,1,i,e),this}scale(i,e){return this.f&&s.L(this),this.v(i,0,0,e,0,0),this}rotate(i,e,n){this.f&&s.L(this),e===void 0&&(e=0),n===void 0&&(n=0);const a=le.l();return a.Ue(),a.ks(i,e,n),this.v(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),le.i(a),this}v(i,e,n,a,o,h){let u=0,m=0;switch(this.type){case 1:case 2:case 3:u=this.Li,m=this.Ai,this.Li=u*i+m*n+o,this.Ai=u*e+m*a+h,u=this.ni,m=this.oi,this.ni=u*i+m*n+o,this.oi=u*e+m*a+h;break;case 4:const v=this.figures.r,b=v.length;for(let S=0;S<b;S++){const A=v[S];u=A.startX,m=A.startY,A.startX=u*i+m*n+o,A.startY=u*e+m*a+h;const M=A.segments.r,O=M.length;for(let R=0;R<O;R++){const V=M[R];switch(V.type){case 2:case 1:u=V.endX,m=V.endY,V.endX=u*i+m*n+o,V.endY=u*e+m*a+h;break;case 3:u=V.point1X,m=V.point1Y,V.point1X=u*i+m*n+o,V.point1Y=u*e+m*a+h,u=V.point2X,m=V.point2Y,V.point2X=u*i+m*n+o,V.point2Y=u*e+m*a+h,u=V.endX,m=V.endY,V.endX=u*i+m*n+o,V.endY=u*e+m*a+h;break;case 4:u=V.point1X,m=V.point1Y,V.point1X=u*i+m*n+o,V.point1Y=u*e+m*a+h,u=V.endX,m=V.endY,V.endX=u*i+m*n+o,V.endY=u*e+m*a+h;break;case 5:if(u=V.centerX,m=V.centerY,V.centerX=u*i+m*n+o,V.centerY=u*e+m*a+h,e!==0){let q=Math.atan2(e,i)*180/Math.PI;q<0&&(q+=360),V.startAngle+=q}i<0&&(V.startAngle=180-V.startAngle,V.sweepAngle=-V.sweepAngle),a<0&&(V.startAngle=-V.startAngle,V.sweepAngle=-V.sweepAngle),V.radiusX*=Math.sqrt(i*i+n*n),V.radiusY!==void 0&&(V.radiusY*=Math.sqrt(e*e+a*a));break;case 6:if(u=V.endX,m=V.endY,V.endX=u*i+m*n+o,V.endY=u*e+m*a+h,V.radiusX===0||V.radiusY===0)break;if(e!==0){let q=Math.atan2(e,i)*180/Math.PI;q<0&&(q+=360),V.xAxisRotation+=q}i<0&&(V.xAxisRotation=180-V.xAxisRotation,V.isClockwiseArc=!V.isClockwiseArc),a<0&&(V.xAxisRotation=-V.xAxisRotation,V.isClockwiseArc=!V.isClockwiseArc),V.radiusX*=Math.sqrt(i*i+n*n),V.radiusY*=Math.sqrt(e*e+a*a);break;default:s.o("Unknown Segment type: "+V.type)}}}break}return this.yt=!0,this}containsPoint(i,e){e===void 0&&(e=0);const n=this.Li,a=this.Ai,o=this.ni,h=this.oi;switch(this.type){case 1:return G.Ve(n,a,o,h,e,i.x,i.y);case 2:{const u=Math.min(n,o)-e,m=Math.min(a,h)-e,v=Math.abs(o-n)+e*2,b=Math.abs(h-a)+e*2,S=W.z(u,m,v,b),A=S.containsPoint(i);return W.i(S),A}case 3:{let u=Math.min(n,o)-e,m=Math.min(a,h)-e;const v=Math.abs(o-n)+e*2,b=Math.abs(h-a)+e*2,S=v/2,A=b/2;return S<=0||A<=0?!1:(u=i.x-(u+S),m=i.y-(m+A),u*u/(S*S)+m*m/(A*A)<=1)}case 4:return this.VP(i,e,!0,!1);default:return!1}}VP(i,e,n,a){const o=i.x,h=i.y,u=this.bounds.x-20,m=h;let v=0,b=0,S=0,A=0,M=0,O=0;const R=this.figures.r,V=R.length;for(let q=0;q<V;q++){const J=R[q],re=!J.isEvenOdd;if(J.isFilled){if(n&&J.BP(o,h,e))return!0}else{if(J.BP(o,h,a?e:e+2))return!0;continue}const se=J.segments;b=J.startX,S=J.startY;let ne=b,xe=S;const ye=se.r;let we=ye[0];for(let ze=0;ze<=se.length;ze++){let Ce;switch(ze!==se.length?(we=ye[ze],Ce=we.type,M=we.endX,O=we.endY):(Ce=2,M=ne,O=xe),Ce){case 1:{const Pe=this.fx(o,h,u,m,b,S,ne,xe);if(isNaN(Pe))return!0;v+=Pe,ne=M,xe=O;break}case 2:{const Pe=this.fx(o,h,u,m,b,S,M,O);if(isNaN(Pe))return!0;v+=Pe;break}case 3:A=G.rm(b,S,we.point1X,we.point1Y,we.point2X,we.point2Y,M,O,u,m,o,h,.5),v+=A;break;case 4:{const Pe=(b+2*we.point1X)/3,Fe=(S+2*we.point1Y)/3,Re=(we.point1X*2+M)/3,We=(we.point1Y*2+O)/3;A=G.rm(b,S,Pe,Fe,Re,We,M,O,u,m,o,h,.5),v+=A;break}case 5:case 6:{const Pe=we.type===5?we.Fo(J):we.Za(J,b,S),Fe=Pe.length;if(Fe===0){const We=this.fx(o,h,u,m,b,S,we.type===5?we.centerX:we.endX,we.type===5?we.centerY:we.endY);if(isNaN(We))return!0;v+=We;break}let Re=null;for(let We=0;We<Fe;We++){if(Re=Pe[We],We===0){const Ke=this.fx(o,h,u,m,b,S,Re[0],Re[1]);if(isNaN(Ke))return!0;v+=Ke}A=G.rm(Re[0],Re[1],Re[2],Re[3],Re[4],Re[5],Re[6],Re[7],u,m,o,h,.5),v+=A}Re!==null&&(M=Re[6],O=Re[7]);break}default:s.o("Unknown Segment type: "+we.type)}b=M,S=O}if(re){if(v!==0)return!0}else if(v%2!==0)return!0;v=0}return!1}fx(i,e,n,a,o,h,u,m){if(G.Ve(o,h,u,m,.05,i,e))return NaN;const v=(i-n)*(h-m);if(v===0)return 0;const b=((i*a-e*n)*(o-u)-(i-n)*(o*m-h*u))/v,S=(i*a-e*n)*(h-m)/v;if(b>=i)return 0;if((o>u?o-u:u-o)<(h>m?h-m:m-h)){if(h<m){if(S<h||S>m)return 0}else if(S<m||S>h)return 0}else if(o<u){if(b<o||b>u)return 0}else if(b<u||b>o)return 0;return v>0?1:-1}ZL(i,e,n){const a=this.figures.r,o=a.length;for(let h=0;h<o;h++)if(a[h].BP(i,e,n))return!0;return!1}getPointAlongPath(i,e){if(i<0?i=0:i>1&&(i=1),e===void 0&&(e=new N),this.type===1)return e.e(this.startX+i*(this.endX-this.startX),this.startY+i*(this.endY-this.startY)),e;const n=this.flattenedSegments,a=this.flattenedLengths,o=this.flattenedTotalLength,h=n.length,u=o*i;let m=0;for(let v=0;v<h;v++){const b=a[v],S=b.length;for(let A=0;A<S;A++){const M=b[A];if(m+M>=u){const O=u-m,R=M===0?0:O/M,V=n[v],q=V[A*2],J=V[A*2+1],re=V[A*2+2],se=V[A*2+3];return e.e(q+(re-q)*R,J+(se-J)*R),e}m+=M}}return e}getAngleAlongPath(i){if(i<0?i=0:i>1&&(i=1),this.type===1)return Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI;const e=this.flattenedSegments,n=this.flattenedLengths,a=this.flattenedTotalLength,o=e.length,h=a*i;let u=0;for(let m=0;m<o;m++){const v=n[m],b=v.length;for(let S=0;S<b;S++){const A=v[S];if(u+A>=h){const M=e[m],O=M[S*2],R=M[S*2+1],V=M[S*2+2],q=M[S*2+3];return Math.abs(V-O)<1&&Math.abs(q-R)<1?0:Math.abs(V-O)<1?q-R>=0?90:270:Math.abs(q-R)<1?V-O>=0?0:180:Math.atan2(q-R,V-O)*180/Math.PI}u+=A}}return NaN}getPointAndAngleAlongPath(i,e){if(i<0?i=0:i>1&&(i=1),e===void 0&&(e=[]),e.length=3,this.type===1)return e[0]=this.startX+i*(this.endX-this.startX),e[1]=this.startY+i*(this.endY-this.startY),e[2]=Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI,e;const n=this.flattenedSegments,a=this.flattenedLengths,o=this.flattenedTotalLength,h=n.length,u=o*i;let m=0;for(let v=0;v<h;v++){const b=a[v],S=b.length;for(let A=0;A<S;A++){const M=b[A];if(m+M>=u){const O=u-m,R=M===0?0:O/M,V=n[v],q=V[A*2],J=V[A*2+1],re=V[A*2+2],se=V[A*2+3];e[0]=q+(re-q)*R,e[1]=J+(se-J)*R;let ne;return Math.abs(re-q)<1&&Math.abs(se-J)<1?ne=0:Math.abs(re-q)<1?ne=se-J>=0?90:270:Math.abs(se-J)<1?ne=re-q>=0?0:180:ne=Math.atan2(se-J,re-q)*180/Math.PI,e[2]=ne,e}m+=M}}return e}getFractionForPoint(i){if(this.type===1){const e=this.startX,n=this.startY,a=this.endX,o=this.endY;if(e===a&&n===o)return 0;{const h=i.x,u=i.y;let m=0,v=0;if(e===a)return n<o?(m=n,v=o):(m=o,v=n),u<=m?m===n?0:1:u>=v?v===n?0:1:Math.abs(u-n)/(v-m);if(n===o)return e<a?(m=e,v=a):(m=a,v=e),h<=m?m===e?0:1:h>=v?v===e?0:1:Math.abs(h-e)/(v-m);{const b=(a-e)**2+(o-n)**2,S=N.l();G.Nl(e,n,a,o,h,u,S);const A=S.x,M=S.y;return N.i(S),Math.sqrt(((A-e)**2+(M-n)**2)/b)}}}else if(this.type===2){const e=this.startX,n=this.startY,a=this.endX,o=this.endY;if(e===a&&n===o)return 0;{const h=a-e,u=o-n,m=h*2+u*2;let v=i.x,b=i.y;v=Math.min(Math.max(v,e),a),b=Math.min(Math.max(b,n),o);const S=Math.abs(v-e),A=Math.abs(v-a),M=Math.abs(b-n),O=Math.abs(b-o),R=Math.min(S,A,M,O);if(R===M)return v/m;if(R===A)return(h+b)/m;if(R===O)return(h*2+u-v)/m;if(R===S)return(h*2+u*2-b)/m}}else{const e=this.flattenedSegments,n=this.flattenedLengths,a=this.flattenedTotalLength,o=N.l();let h=1/0,u=0,m=0;const v=e.length;let b=0,S=0;for(let M=0;M<v;M++){const O=e[M],R=n[M],V=O.length;for(let q=0;q<V;q+=2){const J=O[q],re=O[q+1];if(q===0){b=J,S=re;continue}G.Nl(b,S,J,re,i.x,i.y,o);const se=(o.x-i.x)**2+(o.y-i.y)**2;se<h&&(h=se,u=m,u+=Math.sqrt((o.x-b)**2+(o.y-S)**2)),m+=R[(q-2)/2],b=J,S=re}}N.i(o);const A=u/a;return A<0?0:A>1?1:A}return 0}get flattenedSegments(){return this.QL(),this.Pc}QL(){if(this.Pc===null){const i=this.Pc=[],e=this.Cu=[];this.nR(i,e)}}get flattenedLengths(){return this.QL(),this.Cu}get flattenedTotalLength(){let i=this.Lu;if(isNaN(i)){if(this.type===1){const e=Math.abs(this.endX-this.startX),n=Math.abs(this.endY-this.startY);i=Math.sqrt(e*e+n*n)}else if(this.type===2){const e=Math.abs(this.endX-this.startX),n=Math.abs(this.endY-this.startY);i=e*2+n*2}else{const e=this.flattenedLengths,n=e.length;i=0;for(let a=0;a<n;a++){const o=e[a],h=o.length;for(let u=0;u<h;u++)i+=o[u]}}this.Lu=i}return i}zP(i){const e=[];let n=0,a=0;const o=i.length;for(let h=0;h<o;h+=2){const u=i[h],m=i[h+1];if(h===0){n=u,a=m;continue}const v=Math.sqrt(N.distanceSquared(n,a,u,m));e.push(v),n=u,a=m}return e}nR(i,e){let n=[];const a=[];if(this.type===1)n.push(this.startX),n.push(this.startY),n.push(this.endX),n.push(this.endY),i.push(n),a.push(Math.sqrt((this.startX-this.endX)**2+(this.startY-this.endY)**2)),e.push(a);else if(this.type===2)n.push(this.startX),n.push(this.startY),n.push(this.endX),n.push(this.startY),n.push(this.endX),n.push(this.endY),n.push(this.startX),n.push(this.endY),n.push(this.startX),n.push(this.startY),i.push(n),a.push(Math.abs(this.startX-this.endX)),a.push(Math.abs(this.startY-this.endY)),a.push(Math.abs(this.startX-this.endX)),a.push(Math.abs(this.startY-this.endY)),e.push(a);else if(this.type===3){const o=new Te;o.startX=this.endX,o.startY=(this.startY+this.endY)/2;const h=new Me(5);h.startAngle=0,h.sweepAngle=360,h.centerX=(this.startX+this.endX)/2,h.centerY=(this.startY+this.endY)/2,h.radiusX=Math.abs(this.startX-this.endX)/2,h.radiusY=Math.abs(this.startY-this.endY)/2,o.add(h);const u=h.Fo(o),m=u.length;if(m===0)n.push(h.centerX),n.push(h.centerY);else{let v=o.startX,b=o.startY;for(let S=0;S<m;S++){const A=u[S];G.Wn(v,b,A[2],A[3],A[4],A[5],A[6],A[7],.5,n),v=A[6],b=A[7]}}i.push(n),e.push(this.zP(n))}else{const o=this.figures.iterator;for(;o.next();){const h=o.value;n=[],n.push(h.startX),n.push(h.startY);let u=h.startX,m=h.startY,v=u,b=m;const S=h.segments.r,A=S.length;for(let M=0;M<A;M++){const O=S[M];switch(O.type){case 1:n.length>=4&&(i.push(n),e.push(this.zP(n))),n=[],n.push(O.endX),n.push(O.endY),u=O.endX,m=O.endY,v=u,b=m;break;case 2:n.push(O.endX),n.push(O.endY),u=O.endX,m=O.endY;break;case 3:G.Wn(u,m,O.point1X,O.point1Y,O.point2X,O.point2Y,O.endX,O.endY,.5,n),u=O.endX,m=O.endY;break;case 4:G.nm(u,m,O.point1X,O.point1Y,O.endX,O.endY,.5,n),u=O.endX,m=O.endY;break;case 5:{const R=O.Fo(h),V=R.length;if(V===0){n.push(O.centerX),n.push(O.centerY),u=O.centerX,m=O.centerY;break}for(let q=0;q<V;q++){const J=R[q];G.Wn(u,m,J[2],J[3],J[4],J[5],J[6],J[7],.5,n),u=J[6],m=J[7]}break}case 6:{const R=O.Za(h,u,m),V=R.length,q=O.endX,J=O.endY;if(V===0){n.push(q),n.push(J),u=q,m=J;break}for(let re=0;re<V;re++){const se=R[re];G.Wn(u,m,se[2],se[3],se[4],se[5],se[6],se[7],.5,n),u=se[6],m=se[7]}break}default:s.o("Segment not of valid type: "+O.type)}O.isClosed&&(n.push(v),n.push(b))}n.length>=4&&(i.push(n),e.push(this.zP(n)))}}}get type(){return this.W}set type(i){this.W!==i&&(this.f&&s.L(this,i),this.W=i,i===4?this.Ys=new w:(Rr.hx===null&&(Rr.hx=new w().k()),this.Ys=Rr.hx),this.yt=!0)}get startX(){return this.Li}set startX(i){this.Li!==i&&(this.f&&s.L(this,i),this.Li=i,this.yt=!0)}get startY(){return this.Ai}set startY(i){this.Ai!==i&&(this.f&&s.L(this,i),this.Ai=i,this.yt=!0)}get endX(){return this.ni}set endX(i){this.ni!==i&&(this.f&&s.L(this,i),this.ni=i,this.yt=!0)}get endY(){return this.oi}set endY(i){this.oi!==i&&(this.f&&s.L(this,i),this.oi=i,this.yt=!0)}get figures(){return this.Ys}set figures(i){this.Ys!==i&&(this.f&&s.L(this,i),this.Ys=i,this.yt=!0)}add(i){return this.Ys.add(i),this}setSpots(i,e,n,a,o,h,u,m){return this.f&&s.L(this),this.$n=new K(i,e,o,h),this.Zn=new K(n,a,u,m),this}get spot1(){return this.$n}set spot1(i){this.f&&s.L(this,i),this.$n=i.N()}get spot2(){return this.Zn}set spot2(i){this.f&&s.L(this,i),this.Zn=i.N()}get defaultStretch(){return this.Qn}set defaultStretch(i){this.Qn=i}get bounds(){return this.UP()&&this.cx(),this.cm}polygonClosestSegment(i,e){if(e===void 0&&(e=10),this.type!==4)return null;const n=i.x,a=i.y;let o=1/0,h=0,u=0,m=0,v=0,b=0,S=0,A=0,M=0;return this.figures.each(O=>{let R=O.startX,V=O.startY;O.segments.each(q=>{let J=q.endX,re=q.endY,se=0;if(q.type===2)se=N.distanceLineSegmentSquared(n,a,R,V,J,re);else{R=q.endX,V=q.endY;return}se<o&&(o=se,h=m,u=v,b=R,S=V,A=J,M=re),R=J,V=re,v++,q.isClosed&&(J=O.startX,re=O.startY,se=N.distanceLineSegmentSquared(n,a,R,V,J,re),se<o&&(o=se,h=m,u=v,b=R,S=V,A=J,M=re),v++)}),m++,v=0}),o<e*e?{figi:h,segi:u,ax:b,ay:S,bx:A,by:M}:null}get polygonArea(){if(this.type===4){const i=this.figures.iterator;let e=0,n=0,a=0,o=0,h=0;for(;i.next();){const u=i.value;if(!u.isFilled)continue;e=u.startX,n=u.startY;const m=u.segments.iterator;for(;m.next();){const v=m.value;a=v.endX,o=v.endY,v.type===1||v.type!==5&&(h+=e*o-n*a),e=a,n=o}h+=e*u.startY-n*u.startX}return Math.abs(h)/2}else if(this.type===2){const i=Math.abs(this.startX-this.endX),e=Math.abs(this.startY-this.endY);return i*e}else if(this.type===3){const i=Math.abs(this.startX-this.endX),e=Math.abs(this.startY-this.endY);return Math.PI*i/2*e/2}else return 0}get polygonLength(){if(this.type===4){const i=this.figures.iterator;let e=0,n=0,a=0,o=0,h=0;for(;i.next();){const u=i.value;e=u.startX,n=u.startY;const m=u.segments.iterator;for(;m.next();){const b=m.value;a=b.endX,o=b.endY,b.type===1||b.type!==5&&(h+=Math.sqrt((a-e)*(a-e)+(o-n)*(o-n))),e=a,n=o}const v=u.segments.last();v&&v.isClosed&&(a=u.startX,o=u.startY,h+=Math.sqrt((a-e)*(a-e)+(o-n)*(o-n)))}return h}else if(this.type===2){const i=Math.abs(this.startX-this.endX),e=Math.abs(this.startY-this.endY);return i*2+e*2}else if(this.type===3){const i=Math.abs(this.startX-this.endX)/2,e=Math.abs(this.startY-this.endY)/2;if(i+e===0)return 0;const n=(i-e)*(i-e)/((i+e)*(i+e));let a=n,o=1+a/4;return a*=n,o+=a/64,a*=n,o+=a/256,a*=n,o+=a*25/16384,a*=n,o+=a*49/65536,a*=n,o+=a*441/1048576,Math.PI*(i+e)*o}else{const i=this.startX,e=this.startY,n=this.endX,a=this.endY;return Math.sqrt((n-i)*(n-i)+(a-e)*(a-e))}}static computeConvexHull(i){i.sort((a,o)=>a.x===o.x?o.y-a.y:o.x-a.x);const e=[];for(let a=0;a<i.length;a++){for(;e.length>=2&&i[a].compareWithLineSegmentPoint(e[e.length-2],e[e.length-1])>=0;)e.pop();e.push(i[a])}e.pop();const n=[];for(let a=i.length-1;a>=0;a--){for(;n.length>=2&&i[a].compareWithLineSegmentPoint(n[n.length-2],n[n.length-1])>=0;)n.pop();n.push(i[a])}return n.pop(),e.concat(n)}static generatePolygon(i,e,n){e===void 0&&(e=0),n===void 0&&(n=!0);const a=new Rr;if(i.length>1)if(e>0)if(n){i.push(i[0]),i.push(i[1]);let o=!0;const h=new Te(0,0,n,!1);for(let m=1;m<i.length;m++){const v=(i[m-1].x+i[m].x)/2,b=(i[m-1].y+i[m].y)/2,S=i[m-1].distanceSquaredPoint(i[m]),A=.5*e/Math.sqrt(S);if(A<.5){const M=i[m-1].x+(i[m].x-i[m-1].x)*A,O=i[m-1].y+(i[m].y-i[m-1].y)*A;if(o?(o=!1,h.startX=M,h.startY=O):h.add(new Me(3,M,O,i[m-1].x,i[m-1].y,i[m-1].x,i[m-1].y)),m<i.length-1){const R=i[m].x+(i[m-1].x-i[m].x)*A,V=i[m].y+(i[m-1].y-i[m].y)*A;h.add(new Me(2,R,V))}}else o?(o=!1,h.startX=v,h.startY=b):h.add(new Me(3,v,b,i[m-1].x,i[m-1].y,i[m-1].x,i[m-1].y))}const u=h.segments.last();u&&u.close(),a.add(h)}else{const o=new Te(i[0].x,i[0].y,!1,!1);for(let h=1;h<i.length;h++){const u=(i[h-1].x+i[h].x)/2,m=(i[h-1].y+i[h].y)/2,v=i[h-1].distanceSquaredPoint(i[h]),b=.5*e/Math.sqrt(v);if(b<.5){if(h>1){const M=i[h-1].x+(i[h].x-i[h-1].x)*b,O=i[h-1].y+(i[h].y-i[h-1].y)*b;o.add(new Me(3,M,O,i[h-1].x,i[h-1].y,i[h-1].x,i[h-1].y))}const S=i[h].x+(i[h-1].x-i[h].x)*b,A=i[h].y+(i[h-1].y-i[h].y)*b;o.add(new Me(2,S,A))}else h>1&&o.add(new Me(3,u,m,i[h-1].x,i[h-1].y,i[h-1].x,i[h-1].y));h===i.length-1&&o.add(new Me(2,i[h].x,i[h].y))}a.add(o)}else{const o=new Te(i[0].x,i[0].y,n,!1);for(let h=1;h<i.length;h++)o.add(new Me(2,i[h].x,i[h].y));if(n){const h=o.segments.last();h&&h.close()}a.add(o)}return a}};let pe=Rr;E(pe,"Line",1),E(pe,"Rectangle",2),E(pe,"Ellipse",3),E(pe,"Path",4),E(pe,"hx",new w().k()),E(pe,"fm","UuBbMmZzLlHhVvCcSsQqTtAaFfXx"),pe.stringify=pe.stringify,pe.stringifyFixed=pe.stringifyFixed,pe.fillPath=pe.fillPath,pe.parse=pe.parse;class Te{constructor(i,e,n,a,o){E(this,"n");E(this,"Li");E(this,"Ai");E(this,"Nc");E(this,"dm");E(this,"ji");n===void 0&&(n=!0),a===void 0&&(a=!0),o===void 0&&(o=!1),this.n=2|(n?4:0)|(a?8:0)|(o?16:0),i!==void 0?this.Li=i:this.Li=0,e!==void 0?this.Ai=e:this.Ai=0,this.Nc=new w,this.dm=this.Nc.rt,this.ji=null}copy(){const i=new Te;i.n=this.n&-2,i.Li=this.Li,i.Ai=this.Ai;const e=this.Nc.r,n=e.length,a=i.Nc;for(let o=0;o<n;o++){const h=e[o].copy();a.add(h)}return i.dm=this.dm,i.ji=this.ji,i}equalsApprox(i){if(!(i instanceof Te)||!G.u(this.startX,i.startX)||!G.u(this.startY,i.startY))return!1;const e=this.segments.r,n=i.segments.r,a=e.length;if(a!==n.length)return!1;for(let o=0;o<a;o++){const h=e[o],u=n[o];if(!h.equalsApprox(u))return!1}return!0}toString(i){i===void 0&&(i=-1);let e="";if(i<0)e="M"+this.startX.toString()+" "+this.startY.toString();else{const o=h=>h===0?"0":h.toFixed(i);e="M"+o(this.startX)+" "+o(this.startY)}const n=this.segments.r,a=n.length;for(let o=0;o<a;o++){const h=n[o];e+=" "+h.toString(i)}return e}get f(){return(this.n&1)!==0}set f(i){i?this.n|=1:this.n&=-2}get yt(){return(this.n&2)!==0}set yt(i){i?this.n|=2:this.n&=-3}k(){this.f=!0;const i=this.segments;i.k();const e=i.r,n=i.length;for(let a=0;a<n;a++)e[a].k();return this}UP(){if(this.yt)return!0;const i=this.segments;if(this.dm!==i.rt)return!0;for(const e of i)if(e.yt)return!0;return!1}iR(){this.yt=!1,this.ji=null;const i=this.segments;this.dm=i.rt;for(const e of i)e.yt=!1,e.Hs=null}get isFilled(){return(this.n&4)!==0}set isFilled(i){this.f&&s.L(this,i),i?this.n|=4:this.n&=-5}get isShadowed(){return(this.n&8)!==0}set isShadowed(i){this.f&&s.L(this,i),i?this.n|=8:this.n&=-9}get isEvenOdd(){return(this.n&16)!==0}set isEvenOdd(i){this.f&&s.L(this,i),i?this.n|=16:this.n&=-17}get startX(){return this.Li}set startX(i){this.f&&s.L(this,i),this.Li=i,this.ji=null,this.yt=!0}get startY(){return this.Ai}set startY(i){this.f&&s.L(this,i),this.Ai=i,this.ji=null,this.yt=!0}get segments(){return this.Nc}set segments(i){this.f&&s.L(this,i),this.Nc=i,this.ji=null,this.yt=!0}add(i){return this.Nc.add(i),this.ji=null,this}BP(i,e,n){const a=this;let o=a.startX,h=a.startY,u=o,m=h;const v=a.segments.r,b=v.length;for(let S=0;S<b;S++){const A=v[S];switch(A.type){case 1:u=A.endX,m=A.endY,o=A.endX,h=A.endY;break;case 2:if(G.Ve(o,h,A.endX,A.endY,n,i,e))return!0;o=A.endX,h=A.endY;break;case 3:if(G.nx(o,h,A.point1X,A.point1Y,A.point2X,A.point2Y,A.endX,A.endY,.5,i,e,n))return!0;o=A.endX,h=A.endY;break;case 4:if(G.IP(o,h,A.point1X,A.point1Y,A.endX,A.endY,.5,i,e,n))return!0;o=A.endX,h=A.endY;break;case 5:case 6:const M=A.type===5?A.Fo(a):A.Za(a,o,h),O=M.length,R=A.type===5?A.centerX:A.endX,V=A.type===5?A.centerY:A.endY;if(O===0){if(G.Ve(o,h,R,V,n,i,e))return!0;o=R,h=V;break}let q=null;for(let J=0;J<O;J++)if(q=M[J],J===0&&G.Ve(o,h,q[0],q[1],n,i,e)||G.nx(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],.5,i,e,n))return!0;q!==null&&(o=q[6],h=q[7]);break;default:s.o("Unknown Segment type: "+A.type)}if(A.isClosed&&(o!==u||h!==m)&&G.Ve(o,h,u,m,n,i,e))return!0}return!1}}var De=(ee=>(ee[ee.Move=1]="Move",ee[ee.Line=2]="Line",ee[ee.Bezier=3]="Bezier",ee[ee.QuadraticBezier=4]="QuadraticBezier",ee[ee.Arc=5]="Arc",ee[ee.SvgArc=6]="SvgArc",ee))(De||{});const iu=class{constructor(i,e,n,a,o,h,u,m){E(this,"W");E(this,"n");E(this,"ni");E(this,"oi");E(this,"pn");E(this,"Ll");E(this,"Al");E(this,"br");E(this,"Hs");if(C.Je(this),i===void 0&&(i=2),this.W=i,this.n=2,e!==void 0?this.ni=e:this.ni=0,n!==void 0?this.oi=n:this.oi=0,a===void 0&&(a=0),o===void 0&&(o=0),h===void 0&&(h=0),u===void 0&&(u=0),i===6){let v=h;v=v%360,v<0&&(v+=360),this.pn=v,this.Ll=0,this.Al=Math.max(a,0),this.br=Math.max(o,0),typeof u=="boolean"?u&&(this.isLargeArc=!0):typeof u=="number"&&u&&(this.isLargeArc=!0),m&&(this.isClockwiseArc=!0)}else this.pn=a,this.Ll=o,i===5&&(h=Math.max(h,0)),this.Al=h,typeof u=="number"?(i===5&&(u=Math.max(u,0)),this.br=u):this.br=0;this.Hs=null}copy(){const i=new iu;return i.W=this.W,i.n=this.n&-2,i.ni=this.ni,i.oi=this.oi,i.pn=this.pn,i.Ll=this.Ll,i.Al=this.Al,i.br=this.br,i}equalsApprox(i){if(!(i instanceof iu)||this.type!==i.type||this.isClosed!==i.isClosed)return!1;switch(this.type){case 1:case 2:return G.u(this.endX,i.endX)&&G.u(this.endY,i.endY);case 3:return G.u(this.endX,i.endX)&&G.u(this.endY,i.endY)&&G.u(this.point1X,i.point1X)&&G.u(this.point1Y,i.point1Y)&&G.u(this.point2X,i.point2X)&&G.u(this.point2Y,i.point2Y);case 4:return G.u(this.endX,i.endX)&&G.u(this.endY,i.endY)&&G.u(this.point1X,i.point1X)&&G.u(this.point1Y,i.point1Y);case 5:return G.u(this.startAngle,i.startAngle)&&G.u(this.sweepAngle,i.sweepAngle)&&G.u(this.centerX,i.centerX)&&G.u(this.centerY,i.centerY)&&G.u(this.radiusX,i.radiusX)&&G.u(this.radiusY,i.radiusY);case 6:return this.isClockwiseArc===i.isClockwiseArc&&this.isLargeArc===i.isLargeArc&&G.u(this.xAxisRotation,i.xAxisRotation)&&G.u(this.endX,i.endX)&&G.u(this.endY,i.endY)&&G.u(this.radiusX,i.radiusX)&&G.u(this.radiusY,i.radiusY);default:return!1}}fe(i){i in De?this.type=i:s.dr(this,i)}toString(i){i===void 0&&(i=-1);const e=a=>a===0?"0":a.toFixed(i);let n="";switch(this.type){case 1:i<0?n="M"+this.endX.toString()+" "+this.endY.toString():n="M"+e(this.endX)+" "+e(this.endY);break;case 2:i<0?n="L"+this.endX.toString()+" "+this.endY.toString():n="L"+e(this.endX)+" "+e(this.endY);break;case 3:i<0?n="C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():n="C"+e(this.point1X)+" "+e(this.point1Y)+" "+e(this.point2X)+" "+e(this.point2Y)+" "+e(this.endX)+" "+e(this.endY);break;case 4:i<0?n="Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():n="Q"+e(this.point1X)+" "+e(this.point1Y)+" "+e(this.endX)+" "+e(this.endY);break;case 5:i<0?n="B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():n="B"+e(this.startAngle)+" "+e(this.sweepAngle)+" "+e(this.centerX)+" "+e(this.centerY)+" "+e(this.radiusX)+" "+e(this.radiusY);break;case 6:i<0?n="A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():n="A"+e(this.radiusX)+" "+e(this.radiusY)+" "+e(this.xAxisRotation)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+e(this.endX)+" "+e(this.endY);break;default:n=De[this.type]}return n+(this.isClosed?"z":"")}get f(){return(this.n&1)!==0}set f(i){i?this.n|=1:this.n&=-2}get yt(){return(this.n&2)!==0}set yt(i){i?this.n|=2:this.n&=-3}k(){return this.f=!0,this}close(){return this.isClosed=!0,this}Fo(i){if(this.Hs!==null&&i.yt===!1)return this.Hs;const e=this.radiusX;let n=this.radiusY;if(n===void 0&&(n=e),e===0||n===0)return this.Hs=[],this.Hs;const a=this.pn,o=this.Ll,h=G.KL(0,0,e<n?e:n,this.startAngle,this.startAngle+this.sweepAngle,!1);if(e!==n){const m=le.l();m.Ue(),e<n?m.it(1,n/e):m.it(e/n,1),pe.JL(h,m),le.i(m)}const u=h.length;for(let m=0;m<u;m++){const v=h[m];v[0]+=a,v[1]+=o,v[2]+=a,v[3]+=o,v[4]+=a,v[5]+=o,v[6]+=a,v[7]+=o}return this.Hs=h,this.Hs}Za(i,e,n){if(this.Hs!==null&&i.yt===!1)return this.Hs;if(this.radiusX===0||this.radiusY===0)return this.Hs=[],this.Hs;const a=e,o=n;let h=this.Al,u=this.br;h===0&&(h=1e-4),u===0&&(u=1e-4);const m=this.pn*(Math.PI/180),v=this.isLargeArc,b=this.isClockwiseArc,S=this.ni,A=this.oi,M=Math.cos(m),O=Math.sin(m),R=M*(a-S)/2+O*(o-A)/2,V=-O*(a-S)/2+M*(o-A)/2,q=R*R/(h*h)+V*V/(u*u);q>1&&(h*=Math.sqrt(q),u*=Math.sqrt(q));let J=(v===b?-1:1)*Math.sqrt((h*h*u*u-h*h*V*V-u*u*R*R)/(h*h*V*V+u*u*R*R));isNaN(J)&&(J=0);let re=J*h*V/u,se=J*-u*R/h;isNaN(re)&&(re=0),isNaN(se)&&(se=0);const ne=(a+S)/2+M*re-O*se,xe=(o+A)/2+O*re+M*se,ye=(Vt,Gt)=>Math.sqrt(Vt*Vt+Gt*Gt),we=(Vt,Gt,zt,jt)=>(Vt*zt+Gt*jt)/(ye(Vt,Gt)*ye(zt,jt)),ze=(Vt,Gt,zt,jt)=>(Vt*jt<Gt*zt?-1:1)*Math.acos(we(Vt,Gt,zt,jt)),Ce=ze(1,0,(R-re)/h,(V-se)/u),Pe=(R-re)/h,Fe=(V-se)/u,Re=(-R-re)/h,We=(-V-se)/u;let Ke=ze(Pe,Fe,Re,We);const lt=we(Pe,Fe,Re,We);lt<=-1?Ke=Math.PI:lt>=1&&(Ke=0),!b&&Ke>0&&(Ke=Ke-2*Math.PI),b&&Ke<0&&(Ke=Ke+2*Math.PI);const ct=h>u?h:u,rt=h>u?1:h/u,bt=h>u?u/h:1,Mt=G.KL(0,0,ct,Ce,Ce+Ke,!0),li=le.l();return li.Ue(),li.Gs(ne,xe),li.ks(this.pn,0,0),li.it(rt,bt),pe.JL(Mt,li),le.i(li),this.Hs=Mt,this.Hs}get isClosed(){return(this.n&8)!==0}set isClosed(i){this.isClosed!==i&&(i?this.n|=8:this.n&=-9,this.yt=!0)}get type(){return this.W}set type(i){this.f&&s.L(this,i),this.W=i,this.yt=!0}get endX(){return this.ni}set endX(i){this.f&&s.L(this,i),this.ni=i,this.yt=!0}get endY(){return this.oi}set endY(i){this.f&&s.L(this,i),this.oi=i,this.yt=!0}get point1X(){return this.pn}set point1X(i){this.f&&s.L(this,i),this.pn=i,this.yt=!0}get point1Y(){return this.Ll}set point1Y(i){this.f&&s.L(this,i),this.Ll=i,this.yt=!0}get point2X(){return this.Al}set point2X(i){this.f&&s.L(this,i),this.Al=i,this.yt=!0}get point2Y(){return this.br}set point2Y(i){this.f&&s.L(this,i),this.br=i,this.yt=!0}get centerX(){return this.pn}set centerX(i){this.f&&s.L(this,i),this.pn=i,this.yt=!0}get centerY(){return this.Ll}set centerY(i){this.f&&s.L(this,i),this.Ll=i,this.yt=!0}get radiusX(){return this.Al}set radiusX(i){i<0&&s.J(i,">= zero",iu,"radiusX"),this.f&&s.L(this,i),this.Al=i,this.yt=!0}get radiusY(){return this.br}set radiusY(i){i<0&&s.J(i,">= zero",iu,"radiusY"),this.f&&s.L(this,i),this.br=i,this.yt=!0}get startAngle(){return this.ni}set startAngle(i){this.f&&s.L(this,i),i=i%360,i<0&&(i+=360),this.ni=i,this.yt=!0}get sweepAngle(){return this.oi}set sweepAngle(i){this.f&&s.L(this,i),i>360&&(i=360),i<-360&&(i=-360),this.oi=i,this.yt=!0}get isClockwiseArc(){return(this.n&4)!==0}set isClockwiseArc(i){this.f&&s.L(this,i),i?this.n|=4:this.n&=-5,this.yt=!0}get isLargeArc(){return(this.n&16)!==0}set isLargeArc(i){this.f&&s.L(this,i),i?this.n|=16:this.n&=-17,this.yt=!0}get xAxisRotation(){return this.pn}set xAxisRotation(i){this.f&&s.L(this,i),i=i%360,i<0&&(i+=360),this.pn=i,this.yt=!0}};let Me=iu;E(Me,"Move",1),E(Me,"Line",2),E(Me,"Bezier",3),E(Me,"QuadraticBezier",4),E(Me,"Arc",5),E(Me,"SvgArc",6);class He{constructor(){E(this,"a");E(this,"ux");E(this,"gx");E(this,"gm");E(this,"mm");E(this,"pm");E(this,"ym");E(this,"wm");E(this,"xm");E(this,"bm");E(this,"km");E(this,"Pm");E(this,"Sm");E(this,"Mm");E(this,"Ro");E(this,"Nm");E(this,"Cm");E(this,"Ps");E(this,"Ti");this.a=null,this.ux=new N(0,0).k(),this.gx=new N(0,0).k(),this.gm=0,this.mm=0,this.pm=1,this.ym="",this.wm="",this.xm=!1,this.bm=!1,this.km=0,this.Pm=0,this.Sm=!1,this.Mm=!1,this.Ro=!1,this.Nm=null,this.Cm=0,this.Ps=null,this.Ti=null}copy(){const i=new He;return this.clone(i)}clone(i){return i.a=this.a,i.ux.h(this.viewPoint),i.gx.h(this.documentPoint),i.gm=this.gm,i.mm=this.mm,i.pm=this.pm,i.ym=this.ym,i.wm=this.wm,i.xm=this.xm,i.bm=this.bm,i.km=this.km,i.Pm=this.Pm,i.Sm=this.Sm,i.Mm=this.Mm,i.Ro=this.Ro,i.Nm=this.Nm,i.Cm=this.Cm,i.Ps=this.Ps,i.Ti=this.Ti,i}toString(){let i="^";return this.modifiers!==0&&(i+="M:"+this.modifiers),this.button!==0&&(i+="B:"+this.button),this.key!==""&&(i+="K:"+this.key),this.clickCount!==0&&(i+="C:"+this.clickCount),this.delta!==0&&(i+="D:"+this.delta),this.handled&&(i+="h"),this.bubbles&&(i+="b"),this.documentPoint!==null&&(i+="@"+this.documentPoint.toString()),i}get diagram(){return this.a}set diagram(i){this.a=i}get viewPoint(){return this.ux}set viewPoint(i){this.ux.h(i)}get documentPoint(){return this.gx}set documentPoint(i){this.gx.h(i)}getMultiTouchViewPoint(i,e){const n=this.diagram;return n===null||n._L(this.event,i,e),e}getMultiTouchDocumentPoint(i,e){const n=this.diagram;return n===null||(n._L(this.event,i,e),e.h(n.transformViewToDoc(e))),e}get modifiers(){return this.gm}set modifiers(i){this.gm=i}get button(){return this.mm}set button(i){if(this.mm=i,this.event===null)switch(i){case 0:this.buttons=1;return;case 1:this.buttons=4;return;case 2:this.buttons=2;return}}get buttons(){return this.pm}set buttons(i){this.pm=i}get key(){return this.ym}set key(i){this.ym=i}get code(){return this.wm}set code(i){this.wm=i}get down(){return this.xm}set down(i){this.xm=i}get up(){return this.bm}set up(i){this.bm=i}get clickCount(){return this.km}set clickCount(i){this.km=i}get delta(){return this.Pm}set delta(i){this.Pm=i}get isMultiTouch(){return this.Sm}set isMultiTouch(i){this.Sm=i}get handled(){return this.Mm}set handled(i){this.Mm=i}get bubbles(){return this.Ro}set bubbles(i){this.Ro=i}get event(){return this.Nm}set event(i){this.Nm=i}get isTouchEvent(){const i=this.event;return i===null?!1:i.pointerType==="touch"||i.pointerType==="pen"}get timestamp(){return this.Cm}set timestamp(i){this.Cm=i}get targetDiagram(){return this.Ps}set targetDiagram(i){this.Ps=i}get targetObject(){return this.Ti}set targetObject(i){this.Ti=i}get control(){return(this.modifiers&1)!==0}set control(i){this.modifiers=i?this.modifiers|1:this.modifiers&-2}get shift(){return(this.modifiers&4)!==0}set shift(i){this.modifiers=i?this.modifiers|4:this.modifiers&-5}get alt(){return(this.modifiers&2)!==0}set alt(i){this.modifiers=i?this.modifiers|2:this.modifiers&-3}get meta(){return(this.modifiers&8)!==0}set meta(i){this.modifiers=i?this.modifiers|8:this.modifiers&-9}get left(){const i=this.event;return i!==null&&(i.type==="mousedown"||i.type==="mouseup"||i.type==="pointerdown"||i.type==="pointerup")?this.button===0:(this.buttons&1)!==0}set left(i){i?this.buttons|=1:this.buttons&=-2}get right(){const i=this.event;return i!==null&&(i.type==="mousedown"||i.type==="mouseup"||i.type==="pointerdown"||i.type==="pointerup")?this.button===2:(this.buttons&2)!==0}set right(i){i?this.buttons|=2:this.buttons&=-3}get middle(){const i=this.event;return i!==null&&(i.type==="mousedown"||i.type==="mouseup"||i.type==="pointerdown"||i.type==="pointerup")?this.button===1:(this.buttons&4)!==0}set middle(i){i?this.buttons|=4:this.buttons&=-5}get commandKey(){const i=this.code,e=this.key;return"cxvyzagCXVYZAG".includes(e)?e.toLowerCase():i==="KeyC"?"c":i==="KeyX"?"x":i==="KeyV"?"v":i==="KeyY"?"y":i==="KeyZ"?"z":i==="KeyA"?"a":i==="KeyG"?"g":i!==""?i:e}}class je{constructor(){E(this,"a");E(this,"Pt");E(this,"Lm");E(this,"Am");this.a=null,this.Pt="",this.Lm=null,this.Am=null}copy(){const i=new je;return i.a=this.a,i.Pt=this.Pt,i.Lm=this.Lm,i.Am=this.Am,i}toString(){let i="*"+this.name;return this.subject!==null&&(i+=":"+this.subject.toString()),this.parameter!==null&&(i+="("+this.parameter.toString()+")"),i}get diagram(){return this.a}set diagram(i){this.a=i}get name(){return this.Pt}set name(i){this.Pt=i}get subject(){return this.Lm}set subject(i){this.Lm=i}get parameter(){return this.Am}set parameter(i){this.Am=i}}var tt=(ee=>(ee[ee.Transaction=1]="Transaction",ee[ee.Property=2]="Property",ee[ee.Insert=3]="Insert",ee[ee.Remove=4]="Remove",ee))(tt||{});const Ip=class{constructor(){E(this,"Du");E(this,"Tm");E(this,"yn");E(this,"Ce");E(this,"a");E(this,"vu");E(this,"Cc");E(this,"Lc");E(this,"Ac");E(this,"Tc");this.Du=2,this.Tm="",this.yn="",this.Ce=null,this.a=null,this.vu=null,this.Cc=null,this.Lc=null,this.Ac=null,this.Tc=null}clear(){this.Ce=null,this.a=null,this.vu=null,this.Cc=null,this.Lc=null,this.Ac=null,this.Tc=null}copy(){const i=new Ip;i.Du=this.Du,i.Tm=this.Tm,i.yn=this.yn,i.Ce=this.Ce,i.a=this.a,i.vu=this.vu;let e=this.Cc;return s.$(e)&&s.st(e.copyFrozen)?i.Cc=e.copyFrozen():i.Cc=e,e=this.Lc,s.$(e)&&s.st(e.copyFrozen)?i.Lc=e.copyFrozen():i.Lc=e,e=this.Ac,s.$(e)&&s.st(e.copyFrozen)?i.Ac=e.copyFrozen():i.Ac=e,e=this.Tc,s.$(e)&&s.st(e.copyFrozen)?i.Tc=e.copyFrozen():i.Tc=e,i}fe(i){i in tt?this.change=i:s.dr(this,i)}toString(){let i="";return this.change===1?i+="* ":this.change===2?i+=this.model!==null?"!m":"!d":i+=(this.model!==null?"!m":"!d")+this.change,this.propertyName&&typeof this.propertyName=="string"&&(i+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(i+=" "+this.modelChange),i+=": ",this.change===1?this.oldValue!==null&&(i+=" "+this.oldValue):(this.object!==null&&(i+=s.toString(this.object)),this.oldValue!==null&&(i+="  old: "+s.toString(this.oldValue)),this.oldParam!==null&&(i+=" "+this.oldParam),this.newValue!==null&&(i+="  new: "+s.toString(this.newValue)),this.newParam!==null&&(i+=" "+this.newParam)),i}getValue(i){return i?this.oldValue:this.newValue}getParam(i){return i?this.oldParam:this.newParam}canUndo(){return this.model!==null||this.diagram!==null}undo(){this.canUndo()&&(this.model!==null?this.model.changeState(this,!0):this.diagram!==null&&this.diagram.tA(this,!0))}canRedo(){return this.model!==null||this.diagram!==null}redo(){this.canRedo()&&(this.model!==null?this.model.changeState(this,!1):this.diagram!==null&&this.diagram.tA(this,!1))}get model(){return this.Ce}set model(i){this.Ce=i}get diagram(){return this.a}set diagram(i){this.a=i}get change(){return this.Du}set change(i){this.Du=i}get modelChange(){return this.Tm}set modelChange(i){this.Tm=i}get propertyName(){return this.yn}set propertyName(i){this.yn=i}get isTransactionFinished(){return this.Du===1&&(this.yn==="CommittedTransaction"||this.yn==="FinishedUndo"||this.yn==="FinishedRedo")}get object(){return this.vu}set object(i){this.vu=i}get oldValue(){return this.Cc}set oldValue(i){this.Cc=i}get oldParam(){return this.Lc}set oldParam(i){this.Lc=i}get newValue(){return this.Ac}set newValue(i){this.Ac=i}get newParam(){return this.Tc}set newParam(i){this.Tc=i}};let Ze=Ip;E(Ze,"Transaction",1),E(Ze,"Property",2),E(Ze,"Insert",3),E(Ze,"Remove",4);class ft{constructor(){E(this,"eA");E(this,"Pt");E(this,"XP");this.eA=new w().k(),this.Pt="",this.XP=!1}toString(i){let e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(i!==void 0&&i>0){const n=this.changes.count;for(let a=0;a<n;a++){const o=this.changes.elt(a);o!==null&&(e+=`
  `+o.toString())}}return e}clear(){const i=this.changes;i.ce();for(let e=i.count-1;e>=0;e--){const n=i.elt(e);n!==null&&n.clear()}i.clear(),i.k()}canUndo(){return this.isComplete}undo(){if(this.canUndo())for(let i=this.changes.count-1;i>=0;i--){const e=this.changes.elt(i);e!==null&&e.undo()}}canRedo(){return this.isComplete}redo(){if(!this.canRedo())return;const i=this.changes.count;for(let e=0;e<i;e++){const n=this.changes.elt(e);n!==null&&n.redo()}}oR(i){const e=this.changes;for(let n=e.count-1;n>=i;n--){const a=e.elt(n);a!==null&&a.undo(),e.ce(),e.removeAt(n)}e.k()}thaw(){this.changes.ce()}optimize(){if(!this.isComplete)return;const i=this.changes;i.ce();const e=new Map;for(let a=0;a<i.count;a++){const o=i.elt(a);if(o===null||o.change!==2||!o.object)continue;let h=e.get(o.object);h||(h=new Map,e.set(o.object,h));const u=h.get(o.propertyName);u===void 0?h.set(o.propertyName,-1):(u>0&&i.setElt(u,null),h.set(o.propertyName,a))}let n=0;for(let a=0;a<i.count;a++){const o=i.elt(a);o!==null&&(a>n&&i.setElt(n,o),n++)}for(;i.length>n;)i.pop();i.k()}get changes(){return this.eA}get name(){return this.Pt}set name(i){this.Pt=i}get isComplete(){return this.XP}set isComplete(i){this.XP=i}}class Je{constructor(i){E(this,"mx");E(this,"Be");E(this,"iA");E(this,"js");E(this,"GP");E(this,"Dm");E(this,"Tl");E(this,"YP");E(this,"KP");E(this,"wn");E(this,"Dc");E(this,"yx");E(this,"qs");E(this,"wx");E(this,"xx");E(this,"vm");E(this,"kx");this.mx=new C,this.Be=!1,this.iA=new w().k(),this.js=-1,this.GP=999,this.qs=!1,this.Dm=null,this.Tl=0,this.YP=!1,this.KP=23,this.wn=new w().k(),this.Dc=new w,this.yx=!0,this.wx=!1,this.xx=!1,this.vm=!1,this.kx=!1,i&&Object.assign(this,i)}toString(i){let e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";let n=this.nestedTransactionNames.count;for(let a=0;a<n;a++)a>0&&(e+=" "),e+=this.nestedTransactionNames.elt(a);if(e+="]",i!==void 0&&i>0){n=this.history.count;for(let a=0;a<n;a++)e+=`
 `+this.history.elt(a).toString(i-1)}return e}clear(){const i=this.history;i.ce();for(let e=i.count-1;e>=0;e--){const n=i.elt(e);n!==null&&n.clear()}i.clear(),this.js=-1,i.k(),this.qs=!1,this.Dm=null,this.Tl=0,this.wn.ce(),this.wn.clear(),this.wn.k(),this.Dc.clear(),this.wx=!1,this.xx=!1,this.vm=!1,this.kx=!1}copyProperties(i){this.isEnabled=i.isEnabled,this.maxHistoryLength=i.maxHistoryLength,this.Fm=i.Fm}addModel(i){this.mx.add(i)}removeModel(i){this.mx.delete(i)}startTransaction(i){if(i===void 0&&(i=""),i===null&&(i=""),this.isUndoingRedoing)return!1;this.yx===!0&&(this.yx=!1,this.Tl++,this.Dl||this.vl("StartingFirstTransaction",i,this.currentTransaction),this.Tl>0&&this.Tl--),this.isEnabled&&(this.wn.ce(),this.wn.add(i),this.wn.k(),this.currentTransaction===null?this.Dc.add(0):this.Dc.add(this.currentTransaction.changes.count)),this.Tl++;const e=this.transactionLevel===1;return e&&(this.Dl||this.vl("StartedTransaction",i,this.currentTransaction)),e}commitTransaction(i){return i===void 0&&(i=""),this.sA(!0,i)}rollbackTransaction(){return this.sA(!1,"")}sA(i,e){if(this.isUndoingRedoing)return!1;this.Fm&&this.transactionLevel<1&&s.ne("Ending transaction without having started a transaction: "+e);const n=this.transactionLevel===1;let a=this.currentTransaction;n&&i&&(this.Dl||this.vl("CommittingTransaction",e,a));let o=0;if(this.transactionLevel>0&&(this.Tl--,this.isEnabled)){const h=this.wn.count;h>0&&(e===""&&(e=this.wn.elt(0)),this.wn.ce(),this.wn.removeAt(h-1),this.wn.k());const u=this.Dc.count;u>0&&(o=this.Dc.elt(u-1),this.Dc.removeAt(u-1))}if(n){if(i){if(this.vm=!1,a===null&&e!==""&&(a=this.currentTransaction),this.isEnabled&&a!==null){const h=a;h.isComplete||(h.isComplete=!0,h.name=e),this.discardHistoryAfterIndex();const u=this.history;u.ce();const m=this.maxHistoryLength;if(m>=0){if(m===0)u.clear();else if(u.count>=m){const v=u.elt(0);v!==null&&v.clear(),u.removeAt(0),this.js--}}m!==0&&(u.count===0||u.get(u.count-1)!==h)&&(u.add(h),this.js++),u.k(),a=h}this.Dl||this.vl("CommittedTransaction",e,a)}else{this.qs=!0;try{this.isEnabled&&a!==null&&(a.isComplete=!0,a.undo())}finally{this.Dl||this.vl("RolledBackTransaction",e,a),this.qs=!1}a!==null&&a.clear()}return this.Dm=null,this.Px&&this.clear(),this.Px=!1,this.Sx=!1,!0}else return this.isEnabled&&!i&&a!==null&&a.oR(o),!1}discardHistoryAfterIndex(){if(this.isUndoingRedoing||!this.canRedo())return;const i=this.history;i.ce();for(let e=i.count-1;e>this.historyIndex;e--){const n=i.elt(e);n!==null&&n.clear(),i.removeAt(e),this.vm=!0}i.k()}thaw(){this.history.ce()}canUndo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const i=this.transactionToUndo;return!!(i!==null&&i.canUndo())}undo(){if(!this.canUndo())return;const i=this.transactionToUndo;if(i!==null)try{this.qs=!0,this.vl("StartingUndo","Undo",i),this.js--,i.undo()}catch(e){s.ne("undo error: "+e.toString())}finally{this.vl("FinishedUndo","Undo",i),this.qs=!1}}canRedo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const i=this.transactionToRedo;return!!(i!==null&&i.canRedo())}redo(){if(!this.canRedo())return;const i=this.transactionToRedo;if(i!==null)try{this.qs=!0,this.vl("StartingRedo","Redo",i),this.js++,i.redo()}catch(e){s.ne("redo error: "+e.toString())}finally{this.vl("FinishedRedo","Redo",i),this.qs=!1}}vl(i,e,n){const a=new Ze;a.change=1,a.propertyName=i,a.object=n,a.oldValue=e;const o=this.models;for(;o.next();){const h=o.value;a.model=h,h.rR(a)}}handleChanged(i){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(i)){let e=this.currentTransaction;e===null&&(e=new ft,this.Dm=e);const n=i.copy(),a=e.changes;if(a.ce(),a.add(n),a.k(),this.Fm&&this.KP>0&&this.transactionLevel<=0&&!this.yx){const o=i.diagram;if(o!==null&&o.Qa===!1)return;s.ne("Change not within a transaction: "+n.toString()),this.KP--}}}skipsEvent(i){if(i===null||i.change===1)return!0;const e=i.object;if(e===null)return!1;if(e.layer!==void 0){const n=e.layer;if(n!==null&&n.isTemporary)return!0}else if(e.isTemporary)return!0;return!1}get models(){return this.mx.iterator}get isEnabled(){return this.Be}set isEnabled(i){this.Be=i}get transactionToUndo(){return this.historyIndex>=0&&this.historyIndex<=this.history.count-1?this.history.elt(this.historyIndex):null}get transactionToRedo(){return this.historyIndex<this.history.count-1?this.history.elt(this.historyIndex+1):null}get isUndoingRedoing(){return this.qs}get history(){return this.iA}get maxHistoryLength(){return this.GP}set maxHistoryLength(i){this.GP=i}get historyIndex(){return this.js}get currentTransaction(){return this.Dm}get transactionLevel(){return this.Tl}get isInTransaction(){return this.Tl>0}get Fm(){return this.YP}set Fm(i){this.YP=i}get nestedTransactionNames(){return this.wn}get Px(){return this.wx}set Px(i){this.wx=i}get Sx(){return this.xx}set Sx(i){this.xx=i}get Dl(){return this.kx}set Dl(i){this.kx=i}get isJustDiscarded(){return this.vm}}class dt{constructor(){E(this,"a");E(this,"Pt");E(this,"Be");E(this,"HP");E(this,"jP");E(this,"Rm");E(this,"nA");C.Je(this),this.a=Ft.Om(),this.Pt="",this.Be=!0,this.HP=!1,this.jP=null,this.nA=new He,this.Rm=-1}get diagram(){return this.a}set diagram(i){i instanceof Ft&&(this.a=i)}toString(){return this.name!==""?this.name+" Tool":s.Hn(this.constructor)}updateAdornments(i){}canStart(){return this.isEnabled}doStart(){}doActivate(){this.isActive=!0}doDeactivate(){this.isActive=!1}doStop(){}doCancel(){this.transactionResult=null,this.stopTool()}stopTool(){const i=this.diagram;i.currentTool===this&&(i.currentTool=null,i.currentCursor="")}doMouseDown(){!this.isActive&&this.canStart()&&this.doActivate()}doMouseMove(){}doMouseUp(){this.stopTool()}doMouseWheel(){}canStartMultiTouch(){return!0}standardPinchZoomStart(){const i=this.diagram,e=i.lastInput,n=e.getMultiTouchViewPoint(0,N.z(NaN,NaN)),a=e.getMultiTouchViewPoint(1,N.z(NaN,NaN));if(!n.isReal()||!a.isReal()){N.i(n),N.i(a);return}if(this.doCancel(),i.getInputOption("hasGestureZoom")){i.qP=i.scale;const o=a.x-n.x,h=a.y-n.y,u=Math.sqrt(o*o+h*h);i.WP=u,e.bubbles=!1}N.i(n),N.i(a)}standardPinchZoomMove(){const i=this.diagram,e=i.lastInput,n=e.getMultiTouchViewPoint(0,N.z(NaN,NaN)),a=e.getMultiTouchViewPoint(1,N.z(NaN,NaN));if(!n.isReal()||!a.isReal()){N.i(n),N.i(a);return}if(this.doCancel(),i.getInputOption("hasGestureZoom")){const o=a.x-n.x,h=a.y-n.y,u=Math.sqrt(o*o+h*h)/i.WP,m=new N((Math.min(a.x,n.x)+Math.max(a.x,n.x))/2,(Math.min(a.y,n.y)+Math.max(a.y,n.y))/2),v=i.qP*u,b=i.commandHandler;if(v!==i.scale&&b.canResetZoom(v)){const S=i.zoomPoint;i.zoomPoint=m,b.resetZoom(v),i.zoomPoint=S}e.bubbles=!1}N.i(n),N.i(a)}doKeyDown(){this.diagram.lastInput.code==="Escape"&&this.doCancel()}doKeyUp(){}startTransaction(i){return i===void 0&&(i=this.name),this.transactionResult=null,this.diagram.startTransaction(i)}stopTransaction(){const i=this.diagram;return this.transactionResult===null?i.rollbackTransaction():i.commitTransaction(this.transactionResult)}standardMouseSelect(){const i=this.diagram;if(!i.allowSelect)return;const e=i.lastInput,n=i.findPartAt(e.documentPoint,!1);if(n!==null){if(s.ur?e.meta:e.control){i.T("ChangingSelection",i.selection);let a=n;for(;a!==null&&!a.canSelect();)a=a.containingGroup;a!==null&&(a.isSelected=!a.isSelected),i.T("ChangedSelection",i.selection)}else if(e.shift){if(!n.isSelected){i.T("ChangingSelection",i.selection);let a=n;for(;a!==null&&!a.canSelect();)a=a.containingGroup;a!==null&&(a.isSelected=!0),i.T("ChangedSelection",i.selection)}}else if(!n.isSelected){let a=n;for(;a!==null&&!a.canSelect();)a=a.containingGroup;a!==null&&i.select(a)}}else e.left&&!(s.ur?e.meta:e.control)&&!e.shift&&i.clearSelection()}standardMouseClick(i,e){i===void 0&&(i=null),e===void 0&&(e=h=>{var u;return!((u=h.layer)!=null&&u.isTemporary)});const n=this.diagram,a=n.lastInput,o=n.findObjectAt(a.documentPoint,i,e);return a.targetObject=o,this.oA(o,a,n)}oA(i,e,n){if(e.handled=!1,i!==null&&!i.isEnabledObject())return!1;let a=0;e.left?e.clickCount===1?a=1:e.clickCount===2?a=2:a=1:e.right&&e.clickCount===1&&(a=3);let o="ObjectSingleClicked";if(i!==null){switch(a){case 1:o="ObjectSingleClicked";break;case 2:o="ObjectDoubleClicked";break;case 3:o="ObjectContextClicked";break}a!==0&&n.T(o,i)}else{switch(a){case 1:o="BackgroundSingleClicked";break;case 2:o="BackgroundDoubleClicked";break;case 3:o="BackgroundContextClicked";break}a!==0&&n.T(o)}if(i!==null)for(;i!==null;){let h=null;switch(a){case 1:h=i.click;break;case 2:h=i.doubleClick?i.doubleClick:i.click;break;case 3:h=i.contextClick;break}if(h!==null&&(h(e,i),e.handled))break;i=i.panel}else{let h=null;switch(a){case 1:h=n.click;break;case 2:h=n.doubleClick?n.doubleClick:n.click;break;case 3:h=n.contextClick;break}h!==null&&h(e)}return e.handled}standardMouseOver(){const i=this.diagram,e=i.lastInput;if(i.animationManager.ke===!0)return;const n=i.skipsUndoManager;i.skipsUndoManager=!0;let a=i.viewportBounds.containsPoint(e.documentPoint)?i.findObjectAt(e.documentPoint,null,null):null;e.event&&(e.event.type==="pointercancel"||e.event.type==="pointerout")&&(a=null),e.targetObject=a;let o=!1;if(a!==i.vc){let h=i.vc;const u=h;for(i.vc=a,this.rA(h,a),e.handled=!1;h!==null;){const m=h.mouseLeave;if(m!==null&&(a===h||a!==null&&a.isContainedBy(h)||(m(e,h,a),o=!0,e.handled)))break;h=h.panel}for(h=u,e.handled=!1;a!==null;){const m=a.mouseEnter;if(m!==null&&(h===a||h!==null&&h.isContainedBy(a)||(m(e,a,h),o=!0,e.handled)))break;a=a.panel}a=i.vc}if(a!==null){let h=a,u="";for(;h!==null&&(u=h.cursor,u==="");)h=h.panel;for(i.currentCursor=u,e.handled=!1,h=a;h!==null;){const m=h.mouseOver;if(m!==null&&(m(e,h),o=!0,e.handled))break;h=h.panel}}else{this.doUpdateCursor(null);const h=i.mouseOver;h!==null&&(h(e),o=!0)}o&&i.requestUpdate(),i.skipsUndoManager=n}doUpdateCursor(i){const e=this.diagram;e&&(e.currentCursor="")}rA(i,e){}standardMouseWheel(){const i=this.diagram,e=i.lastInput;let n=e.delta;if(n===0||!i.documentBounds.isReal())return;const a=i.commandHandler,o=i.toolManager.mouseWheelBehavior;if(a!==null&&(o===2&&!e.shift||o===1&&e.control)){if(n>0?a.canIncreaseZoom():a.canDecreaseZoom()){const h=i.zoomPoint;i.zoomPoint=e.viewPoint,n>0?a.increaseZoom():a.decreaseZoom(),i.zoomPoint=h}e.bubbles=!1}else if(o===2&&e.shift||o===1&&!e.control){const h=i.position.copy(),u=e.event,m=u.deltaMode;let v=u.deltaX,b=u.deltaY,S="pixel";if((v!==0||b!==0)&&!e.shift){switch(m){case 0:S="pixel";break;case 1:S="line";break;case 2:S="page";break}if(v!==0&&i.allowHorizontalScroll){const A=i.scrollHorizontalLineChange;v=v*(A/16),i.scroll(S,v>0?"right":"left",Math.abs(v))}if(b!==0&&i.allowVerticalScroll){const A=i.scrollVerticalLineChange;b=b*(A/16),i.scroll(S,b>0?"down":"up",Math.abs(b))}}else!e.shift&&i.allowVerticalScroll?(n=n*3*i.scrollVerticalLineChange,i.scroll(S,n>0?"up":"down",Math.abs(n))):e.shift&&i.allowHorizontalScroll&&(n=n*3*i.scrollHorizontalLineChange,i.scroll(S,n>0?"left":"right",Math.abs(n)));this.doWheelChange(i,h,e)}}doWheelChange(i,e,n){(!i.position.equals(e)||n.event.wheelDeltaX!==0)&&(n.bubbles=!1)}standardWaitAfter(i,e){e===void 0&&(e=this.diagram.lastInput),this.cancelWaitAfter();const n=this,a=e.clone(this.nA);this.Rm=s.dn(()=>n.doWaitAfter(a),i)}cancelWaitAfter(){this.Rm!==-1&&s.wc(this.Rm),this.Rm=-1}doWaitAfter(i){}findToolHandleAt(i,e){const n=this.diagram.findObjectAt(i,a=>{for(;a!==null&&!(a.panel instanceof Zt);)a=a.panel;return a});return n===null?null:n.part.category===e?n:null}isBeyondDragSize(i,e){const n=this.diagram;i===void 0&&(i=n.firstInput.viewPoint),e===void 0&&(e=n.lastInput.viewPoint);const a=n.toolManager.dragSize;let o=a.width,h=a.height;return n.firstInput.isTouchEvent&&(o+=6,h+=6),Math.abs(e.x-i.x)>o||Math.abs(e.y-i.y)>h}get name(){return this.Pt}set name(i){this.Pt=i}get isEnabled(){return this.Be}set isEnabled(i){this.Be=i}get isActive(){return this.HP}set isActive(i){this.HP=i}get transactionResult(){return this.jP}set transactionResult(i){this.jP=i}}var at=(ee=>(ee[ee.Scroll=1]="Scroll",ee[ee.Zoom=2]="Zoom",ee[ee.None=3]="None",ee))(at||{}),Ie=(ee=>(ee[ee.Zoom=1]="Zoom",ee[ee.Cancel=2]="Cancel",ee[ee.None=3]="None",ee))(Ie||{});class qe extends dt{constructor(e){super();E(this,"lA");E(this,"aA");E(this,"hA");E(this,"JP");E(this,"$P");E(this,"ZP");E(this,"QP");E(this,"_P");E(this,"tS");E(this,"eS");E(this,"Im");E(this,"_a");this.name="ToolManager",this.lA=new w,this.aA=new w,this.hA=new w,this.JP=850,this.$P=850,this.ZP=new X(2,2).kt(),this.QP=5e3,this._P=1,this.tS=1,this.eS=null,this.Im=null,this._a=-1,e&&Object.assign(this,e)}get mouseWheelBehavior(){return this._P}set mouseWheelBehavior(e){this._P=e}get gestureBehavior(){return this.tS}set gestureBehavior(e){this.tS=e}initializeStandardTools(){return this}updateAdornments(e){const n=this.currentToolTip;if(n instanceof Zt&&this.Im===e){const a=n.adornedObject;(e!==null?a!==null&&a.part===e:a===null)?this.showToolTip(n,a):this.hideToolTip()}}doMouseDown(){const e=this.diagram,n=e.lastInput;if(n.isTouchEvent&&this.gestureBehavior===2&&(n.bubbles=!1),n.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===3){n.bubbles=!0;return}if(this.gestureBehavior===2)return;if(e.currentTool.canStartMultiTouch()){e.currentTool.standardPinchZoomStart();return}}e.undoManager;const a=this.mouseDownTools.length;for(let o=0;o<a;o++){const h=this.mouseDownTools.elt(o);if(h.diagram=this.diagram,h.canStart()){e.doFocus(),e.currentTool=h,e.currentTool===h&&(h.isActive||h.doActivate(),h.doMouseDown());return}}e.lastInput.button===1&&(this.mouseWheelBehavior===1?this.mouseWheelBehavior=2:this.mouseWheelBehavior===2&&(this.mouseWheelBehavior=1)),this.doActivate(),this.standardWaitAfter(this.holdDelay,n)}doMouseMove(){const e=this.diagram,n=e.lastInput;if(n.isMultiTouch){if(this.gestureBehavior===3){n.bubbles=!0;return}if(this.gestureBehavior===2)return;if(e.currentTool.canStartMultiTouch()){e.currentTool.standardPinchZoomMove();return}}if(this.isActive){const o=this.mouseMoveTools.length;for(let h=0;h<o;h++){const u=this.mouseMoveTools.elt(h);if(u.diagram=this.diagram,u.canStart()){e.doFocus(),e.currentTool=u,e.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseMove());return}}}this.cA(e);const a=n.event;a!==null&&(a.type==="pointermove"||!a.cancelable)&&(n.bubbles=!0)}cA(e){this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.isActive?this.holdDelay:this.hoverDelay,e.lastInput)}rA(e,n){const a=this.currentToolTip;a!==null&&(n!==null&&a instanceof Zt&&(n===a||n.isContainedBy(a))||this.hideToolTip())}doWaitAfter(e){const n=this.diagram;if(!n.lR())return;const a=n.lastInput;if(n.lastInput=e,this.doMouseHover(),this.isActive||this.doToolTip(),e.isTouchEvent&&!n.lastInput.handled){const o=e.copy();o.button=2,n.lastInput=o,n.Mx=!0,n.doMouseUp()}n.lastInput=a}doMouseHover(){const e=this.diagram,n=e.lastInput;n.targetObject===null&&(n.targetObject=e.findObjectAt(n.documentPoint,null,null));let a=n.targetObject;if(a!==null)for(n.handled=!1;a!==null;){const o=this.isActive?a.mouseHold:a.mouseHover;if(o!==null&&(o(n,a),n.handled))break;a=a.panel}else{const o=this.isActive?e.mouseHold:e.mouseHover;o!==null&&o(n)}}doToolTip(){const e=this.diagram,n=e.lastInput;n.targetObject===null&&(n.targetObject=e.findObjectAt(n.documentPoint,null,null));let a=n.targetObject;if(a!==null){const o=this.currentToolTip;if(o instanceof Zt&&(a===o||a.isContainedBy(o)))return;for(;a!==null;){const h=a.toolTip;if(h!==null){this.showToolTip(h,a);return}a=a.panel}this.hideToolTip()}else{const o=e.toolTip;o!==null?this.showToolTip(o,null):this.hideToolTip()}}showToolTip(e,n){const a=this.diagram;if(e!==this.currentToolTip&&this.hideToolTip(),e instanceof Zt){e.layerName="Tool",e.selectable=!1,e.scale=1/a.scale,e.category="ToolTip",e.hasPlaceholder()&&(e.placeholder.scale=a.scale);const o=e.diagram;o!==null&&o!==a&&o.remove(e),a.add(e),n!==null?e.adornedObject=n:e.data=a.model,e.ensureBounds(),this.positionToolTip(e,n)}else e instanceof Ht&&e!==this.currentToolTip&&e.show!==null&&e.show(n,a,this);this.currentToolTip=e,this.extendToolTip(this.toolTipDuration)}positionToolTip(e,n){if(e.hasPlaceholder())return;const a=e,o=this.diagram,h=o.lastInput.documentPoint.copy(),u=a.measuredBounds,m=o.viewportBounds;o.lastInput.isTouchEvent&&(h.x-=u.width),h.x+u.width>m.right&&(h.x-=u.width+5/o.scale),h.x<m.x&&(h.x=m.x),h.y+20/o.scale+u.height>m.bottom?h.y-=u.height+5/o.scale:h.y+=20/o.scale,h.y<m.y&&(h.y=m.y),a.position=h}extendToolTip(e){e===void 0&&(e=3e3),this.currentToolTip!==null&&(this._a!==-1&&(s.wc(this._a),this._a=-1),e>0&&e!==1/0&&(this._a=s.dn(()=>this.hideToolTip(),e)))}hideToolTip(){this._a!==-1&&(s.wc(this._a),this._a=-1);const e=this.diagram,n=this.currentToolTip;n!==null&&(n instanceof Zt?(e.remove(n),this.Im!==null&&this.Im.removeAdornment(n.category),n.data=null,n.adornedObject=null):n instanceof Ht&&n.hide!==null&&n.hide(e,this),this.currentToolTip=null)}get currentToolTip(){return this.eS}set currentToolTip(e){this.eS=e,this.Im=e!==null&&e instanceof Zt?e.adornedPart:null}doMouseUp(){this.cancelWaitAfter();const e=this.diagram;if(this.isActive){const n=this.mouseUpTools.length;for(let a=0;a<n;a++){const o=this.mouseUpTools.elt(a);if(o.diagram=this.diagram,o.canStart()){e.doFocus(),e.currentTool=o,e.currentTool===o&&(o.isActive||o.doActivate(),o.doMouseUp());return}}}e.doFocus(),this.doDeactivate()}doMouseWheel(){this.standardMouseWheel()}doKeyDown(){const e=this.diagram;e.commandHandler!==null&&e.commandHandler.doKeyDown()}doKeyUp(){const e=this.diagram;e.commandHandler!==null&&e.commandHandler.doKeyUp()}findTool(e){let n=this.mouseDownTools.length;for(let a=0;a<n;a++){const o=this.mouseDownTools.elt(a);if(o.name===e)return o}n=this.mouseMoveTools.length;for(let a=0;a<n;a++){const o=this.mouseMoveTools.elt(a);if(o.name===e)return o}n=this.mouseUpTools.length;for(let a=0;a<n;a++){const o=this.mouseUpTools.elt(a);if(o.name===e)return o}return null}replaceTool(e,n){n!==null&&(n.diagram=this.diagram);let a=this.mouseDownTools.length;for(let o=0;o<a;o++){const h=this.mouseDownTools.elt(o);if(h.name===e)return n!==null?this.mouseDownTools.setElt(o,n):this.mouseDownTools.removeAt(o),h}a=this.mouseMoveTools.length;for(let o=0;o<a;o++){const h=this.mouseMoveTools.elt(o);if(h.name===e)return n!==null?this.mouseMoveTools.setElt(o,n):this.mouseMoveTools.removeAt(o),h}a=this.mouseUpTools.length;for(let o=0;o<a;o++){const h=this.mouseUpTools.elt(o);if(h.name===e)return n!==null?this.mouseUpTools.setElt(o,n):this.mouseUpTools.removeAt(o),h}return null}replaceStandardTool(e,n,a){this.Jt(e,n,a)}Jt(e,n,a){n!==null&&(n.name=e,n.diagram=this.diagram),this.findTool(e)?this.replaceTool(e,n):n!==null&&a.add(n)}get mouseDownTools(){return this.lA}get mouseMoveTools(){return this.aA}get mouseUpTools(){return this.hA}get hoverDelay(){return this.JP}set hoverDelay(e){this.JP=e}get holdDelay(){return this.$P}set holdDelay(e){this.$P=e}get dragSize(){return this.ZP}set dragSize(e){this.ZP=e.N()}get toolTipDuration(){return this.QP}set toolTipDuration(e){this.QP=e}get actionTool(){return this.findTool("Action")}set actionTool(e){this.Jt("Action",e,this.mouseDownTools)}get relinkingTool(){return this.findTool("Relinking")}set relinkingTool(e){this.Jt("Relinking",e,this.mouseDownTools)}get linkReshapingTool(){return this.findTool("LinkReshaping")}set linkReshapingTool(e){this.Jt("LinkReshaping",e,this.mouseDownTools)}get resizingTool(){return this.findTool("Resizing")}set resizingTool(e){this.Jt("Resizing",e,this.mouseDownTools)}get rotatingTool(){return this.findTool("Rotating")}set rotatingTool(e){this.Jt("Rotating",e,this.mouseDownTools)}get linkingTool(){return this.findTool("Linking")}set linkingTool(e){this.Jt("Linking",e,this.mouseMoveTools)}get draggingTool(){return this.findTool("Dragging")}set draggingTool(e){this.Jt("Dragging",e,this.mouseMoveTools)}get dragSelectingTool(){return this.findTool("DragSelecting")}set dragSelectingTool(e){this.Jt("DragSelecting",e,this.mouseMoveTools)}get panningTool(){return this.findTool("Panning")}set panningTool(e){this.Jt("Panning",e,this.mouseMoveTools)}get contextMenuTool(){return this.findTool("ContextMenu")}set contextMenuTool(e){this.Jt("ContextMenu",e,this.mouseUpTools)}get textEditingTool(){return this.findTool("TextEditing")}set textEditingTool(e){this.Jt("TextEditing",e,this.mouseUpTools)}get clickCreatingTool(){return this.findTool("ClickCreating")}set clickCreatingTool(e){this.Jt("ClickCreating",e,this.mouseUpTools)}get clickSelectingTool(){return this.findTool("ClickSelecting")}set clickSelectingTool(e){this.Jt("ClickSelecting",e,this.mouseUpTools)}}E(qe,"WheelScroll",1),E(qe,"WheelZoom",2),E(qe,"WheelNone",3),E(qe,"GestureZoom",1),E(qe,"GestureCancel",2),E(qe,"GestureNone",3);const Yi=class extends dt{constructor(e){super();E(this,"iS");E(this,"sS");E(this,"xn");E(this,"nS");E(this,"oS");E(this,"rS");E(this,"lS");E(this,"Fc");E(this,"Em");E(this,"aS");E(this,"th");E(this,"kr");E(this,"fA");E(this,"hS");E(this,"Fu");E(this,"Ru");E(this,"cS");E(this,"fS");E(this,"uS");E(this,"dS");this.name="Dragging",this.iS=!0,this.dS=!0,this.sS=!0,this.xn=null,this.nS=null,this.oS=null,this.rS=null,this.lS=!1,this.Fu=!1,this.Fc=new N(NaN,NaN),this.Em=new N,this.aS=!0,this.th=100,this.kr=[],this.fA=new C().k(),this.hS=new Ir,this.Ru=null,this.cS="copy",this.fS="",this.uS="no-drop",e&&Object.assign(this,e)}get isCopyEnabled(){return this.iS}set isCopyEnabled(e){this.iS=e}get copiesEffectiveCollection(){return this.sS}set copiesEffectiveCollection(e){this.sS=e}get dragOptions(){return this.hS}set dragOptions(e){this.hS=e}get isGridSnapEnabled(){return this.dragOptions.isGridSnapEnabled}set isGridSnapEnabled(e){this.dragOptions.isGridSnapEnabled=e}get isComplexRoutingRealtime(){return this.aS}set isComplexRoutingRealtime(e){this.aS=e;const n=this.diagram.findRouter("AvoidsLinks");n!==null&&(n.isRealtime=e)}get isGridSnapRealtime(){return this.dragOptions.isGridSnapRealtime}set isGridSnapRealtime(e){this.dragOptions.isGridSnapRealtime=e}get gridSnapCellSize(){return this.dragOptions.gridSnapCellSize}set gridSnapCellSize(e){this.dragOptions.gridSnapCellSize.equals(e)||(e=e.N(),this.dragOptions.gridSnapCellSize=e)}get gridSnapCellSpot(){return this.dragOptions.gridSnapCellSpot}set gridSnapCellSpot(e){this.dragOptions.gridSnapCellSpot.equals(e)||(e=e.N(),this.dragOptions.gridSnapCellSpot=e)}get gridSnapOrigin(){return this.dragOptions.gridSnapOrigin}set gridSnapOrigin(e){this.dragOptions.gridSnapOrigin.equals(e)||(e=e.N(),this.dragOptions.gridSnapOrigin=e)}get dragsLink(){return this.dragOptions.dragsLink}set dragsLink(e){this.dragOptions.dragsLink=e}get dragsTree(){return this.dragOptions.dragsTree}set dragsTree(e){this.dragOptions.dragsTree=e}get copyCursor(){return this.cS}set copyCursor(e){this.cS=e}get moveCursor(){return this.fS}set moveCursor(e){this.fS=e}get nodropCursor(){return this.uS}set nodropCursor(e){this.uS=e}get currentPart(){return this.nS}set currentPart(e){e!==null&&s.se(e,Et,Yi,"currentPart"),this.nS=e}get copiedParts(){return this.rS}set copiedParts(e){this.rS=e}get draggedParts(){return this.oS}set draggedParts(e){this.oS=e}get draggingParts(){return this.copiedParts!==null?this.copiedParts.toKeySet():this.draggedParts!==null?this.draggedParts.toKeySet():this.fA}get draggedLink(){return this.diagram.draggedLink}set draggedLink(e){e!==null&&s.se(e,yt,Yi,"draggedLink"),this.diagram.draggedLink=e}get isDragOutStarted(){return this.lS}set isDragOutStarted(e){this.lS=e}get startPoint(){return this.Em}set startPoint(e){this.Em.equals(e)||this.Em.h(e)}get delay(){return this.th}set delay(e){this.th=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||e.isReadOnly&&!e.allowDragOut||!e.allowMove&&!e.allowCopy&&!e.allowDragOut||!e.allowSelect)return!1;const n=e.lastInput;return!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-e.firstInput.timestamp<this.th)?!1:this.findDraggablePart()!==null}findDraggablePart(){const e=this.diagram;let n=e.findPartAt(e.firstInput.documentPoint,!1);if(n===null)return null;for(;n!==null&&!n.canSelect();)n=n.containingGroup;return n!==null&&(n.canMove()||n.canCopy())?n:null}standardMouseSelect(){const e=this.diagram;if(!e.allowSelect)return;let n=e.findPartAt(e.firstInput.documentPoint,!1);if(n!==null){for(;n!==null&&!n.canSelect();)n=n.containingGroup;if(this.currentPart=n,this.currentPart!==null&&!this.currentPart.isSelected){e.T("ChangingSelection",e.selection);const a=e.lastInput;!(s.ur?a.meta:a.control)&&!a.shift&&e.clearSelection(!0),this.currentPart.isSelected=!0,e.T("ChangedSelection",e.selection)}}}doActivate(){const e=this.diagram;this.Ru=null,this.currentPart===null&&this.standardMouseSelect();const n=this.currentPart;if(n===null||!n.canMove()&&!n.canCopy())return;e.cacheGroupExternalLinks(!0),Yi.le=null,this.isActive=!0,this.Fc.set(e.position),this.gS(e.selection),this.kr.length=0,e.animationManager.stopAnimation();const a=this.computeEffectiveCollection(e.selection,this.dragOptions);this.draggedParts=a,this.dS=!!this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,e.Ou=!0,e.getRenderingHint("temporaryPixelRatio")===!0&&e.avgSpf>30&&e.Cx(),e.uA(this.draggedParts),e.Iu=!0,this.startTransaction("Drag"),this.startPoint=e.firstInput.documentPoint,e.isMouseCaptured=!0,e.allowDragOut&&this.aR()}gS(e){if(!this.dragsLink)return;const n=this.diagram,a=n.model.Um(),o=e.first();a&&e.count===1&&o instanceof yt&&this.mayDragLink(o)?(this.draggedLink=o,this.draggedLink.canRelinkFrom()&&this.draggedLink.canRelinkTo()&&this.draggedLink.clearAdornments(),this.xn=n.toolManager.findTool("Relinking"),this.xn===null&&(this.xn=new ht,this.xn.diagram=n),this.xn.originalLink=this.draggedLink):(this.draggedLink=null,this.xn=null)}mayDragLink(e){const n=this.diagram;return n!==null&&n.allowRelink}computeEffectiveCollection(e,n){return this.diagram.commandHandler.computeEffectiveCollection(e,n)}Ws(e){return e===void 0?new ka(N.gn):this.isGridSnapEnabled?new ka(new N(Math.round(e.x*1e3)/1e3,Math.round(e.y*1e3)/1e3)):new ka(e.copy())}doDeactivate(){this.isActive=!1;const e=this.diagram;this.diagram.layout.isRealtime=this.dS,e.Iu=!1,e.Fl=!0,e.cacheGroupExternalLinks(!1),e.stopAutoScroll(),this.mS(),e.pS(this.draggedParts),this.Ru=null,this.currentPart=null,this.draggedParts=null,this.isDragOutStarted=!1,this.Fu=!1,Yi.hR(),this.dA(),this.Fc.e(NaN,NaN),Yi.eh!==null&&(Yi.eh.currentCursor=""),Yi.eh=null,Yi.le=null,this.Rl(),e.isMouseCaptured=!1,e.currentCursor="",e.Ou=!1,this.stopTransaction(),e.yS(!0)}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}mS(){const e=this.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0;const a=e.lastInput;this.gA(a,null),e.skipsUndoManager=n,this.kr.length=0}mA(){this.Rl(),this.wS();const e=this.diagram;this.Fc.isReal()&&(e.position=this.Fc),e.stopAutoScroll()}doCancel(){this.Rl(),this.wS();const e=this.diagram;this.Fc.isReal()&&(e.position=this.Fc),this.stopTool()}doKeyDown(){const e=this.diagram;if(!this.isActive)return;const n=e.lastInput,a=e.previousInput;n.code==="Escape"?this.doCancel():(n.code!==a.code||n.modifiers!==a.modifiers)&&this.doMouseMove()}doKeyUp(){this.isActive&&this.doMouseMove()}cR(e,n){let a=1/0,o=1/0,h=-1/0,u=-1/0;const m=e.iterator;for(;m.next();){const v=m.value;if(!v.isVisible())continue;const b=v.location,S=b.x,A=b.y;isNaN(S)||isNaN(A)||(S<a&&(a=S),A<o&&(o=A),S>h&&(h=S),A>u&&(u=A))}return a===1/0?n.e(0,0,0,0):n.e(a,o,h-a,u-o),n}xS(e){if(this.copiedParts!==null)return;const n=this.diagram;if(e&&(n.isReadOnly||n.isModelReadOnly)||this.draggedParts===null)return;const a=n.undoManager;a.isEnabled&&a.isInTransaction?a.currentTransaction!==null&&a.currentTransaction.changes.count>0&&(n.undoManager.rollbackTransaction(),n.startTransaction("Drag")):this.wS(),n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,this.startPoint=n.firstInput.documentPoint;const o=this.copiesEffectiveCollection?this.draggedParts.toKeySet():n.selection,h=n.copyParts(o,n,!0),u=new Q,m=this.draggedParts.iterator;for(;m.next();){const b=m.key;if(b.Di()&&b.canCopy()){const S=h.get(b);if(S===null)continue;S.location=b.location,S.ensureBounds(),u.set(S,this.Ws(S.location))}}const v=h.iterator;for(;v.next();){const b=v.value;b instanceof yt&&b.canCopy()&&u.set(b,this.Ws())}if(this.copiedParts=u,this.gS(u.toKeySet()),this.draggedLink!==null){const b=this.draggedLink,S=b.routeBounds;b.Pr(this.startPoint.x-(S.x+S.width/2),this.startPoint.y-(S.y+S.height/2))}this.doUpdateCursor(null)}Rl(){const e=this.diagram;if(this.copiedParts!==null){if(e.removeParts(this.copiedParts.toKeySet(),!1),this.copiedParts=null,this.draggedParts!==null){const n=this.draggedParts.iterator;for(;n.next();)if(n.key instanceof yt){const a=n.value;a.point=new N(0,0)}}this.doUpdateCursor(null)}e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,this.startPoint=e.firstInput.documentPoint}dA(){this.draggedLink!==null&&(this.dragsLink&&this.xn!==null&&(this.xn.stopDraggingMouseMove(),this.xn.originalLink=null),this.draggedLink=null,this.xn=null)}Rc(e,n){if(e===null)return;const a=this.diagram,o=this.startPoint,h=N.l();h.h(a.lastInput.documentPoint),this.moveParts(e,h.subtract(o),n),N.i(h),a.getRenderingHint("temporaryPixelRatio")===!0&&a.Ol===null&&a.avgSpf>30&&(a.Cx(),a.Eu())}moveParts(e,n,a){a===void 0&&(a=!1);const o=this.diagram;o!==null&&o.Lx(e,n,this.dragOptions,a)}wS(){if(this.draggedParts===null)return;const e=this.diagram;let n=this.draggedParts.iterator;for(;n.next();){const a=n.key;a.Di()&&(a.location=n.value.point)}for(n=this.draggedParts.iterator;n.next();){const a=n.key;if(a instanceof yt&&a.suspendsRouting){const o=n.value.point;this.draggedParts.set(a,this.Ws()),a.Pr(-o.x,-o.y)}}e.maybeUpdate()}fR(e){var a;if(e===null)return!0;const n=e.part;return!!(n===null||n instanceof Zt||(a=n.layer)!=null&&a.isTemporary||this.draggedParts&&this.draggedParts.has(n)||this.copiedParts&&this.copiedParts.has(n))}bS(e){const n=this.diagram;this.dragsLink&&(this.draggedLink!==null&&(this.draggedLink.fromNode=null,this.draggedLink.toNode=null),this.pA(!1));const a=this.findDragOverObject(e),o=n.lastInput;o.targetObject=a,this.doUpdateCursor(a);const h=n.skipsUndoManager;let u=!1;try{if(n.skipsUndoManager=!0,u=this.gA(o,a),!this.isActive&&Yi.le===null)return;const m=a!==null?a.part:null;if(m===null||n.handlesDragDropForTopLevelParts&&m.isTopLevel&&!(m instanceof Jt)){const v=n.mouseDragOver;v!==null&&(v(o),u=!0)}if(!this.isActive&&Yi.le===null||(this.doDragOver(e,a),!this.isActive&&Yi.le===null))return}finally{n.skipsUndoManager=h,u&&n.maybeUpdate()}this.Ru=a,!n.isReadOnly&&(n.allowMove||n.allowCopy)&&(n.allowHorizontalScroll||n.allowVerticalScroll)&&n.doAutoScroll(o.viewPoint)}findDragOverObject(e){return this.diagram.kS(e,null,n=>!this.fR(n))}doUpdateCursor(e){const n=this.diagram;(e===null||this.Ru!==e)&&(!this.diagram.currentTool.isActive||this.mayCopy()?n.currentCursor=this.copyCursor:this.mayMove()?n.currentCursor=this.moveCursor:this.mayDragOut()&&(n.currentCursor=this.nodropCursor))}gA(e,n){let a=!1,o=this.kr.length;const h=o>0?this.kr[0]:null;if(n===h)return!1;e.handled=!1;for(let m=0;m<o;m++){const v=this.kr[m],b=v.mouseDragLeave;if(b!==null&&(b(e,v,n),a=!0,e.handled))break}if(this.kr.length=0,!this.isActive&&Yi.le===null||n===null)return a;e.handled=!1;let u=n;for(;u!==null;)this.kr.push(u),u=this.yA(u);o=this.kr.length;for(let m=0;m<o;m++){const v=this.kr[m],b=v.mouseDragEnter;if(b!==null&&(b(e,v,h),a=!0,e.handled))break}return a}FU(e,n){var a;return e===null?!1:!!(e===n||e.isContainedBy(n)||n instanceof Jt&&!(e instanceof Jt)&&n.handlesDragDropForMembers&&((a=e.part)!=null&&a.isMemberOf(n)))}yA(e){const n=e.panel;if(n!==null)return n;if(e instanceof Et&&!(e instanceof Jt)){const a=e.containingGroup;if(a!==null&&a.handlesDragDropForMembers)return a}return null}wA(e,n){const a=this.diagram,o=this.xn;if(o===null)return null;const h=o.portGravity,u=a.findObjectsNear(e,h,S=>o.findValidLinkablePort(S,n)),m=N.l();let v=1/0,b=null;for(const S=u.iterator;S.next();){const A=S.value;if(A.part===null)continue;const M=A.getDocumentPoint(K.Center,m),O=e.distanceSquaredPoint(M);O<v&&(b=A,v=O)}return N.i(m),b}pA(e){const n=this.draggedLink;if(n!==null){if(n.pointsCount<2)return;const a=this.diagram;if(a.isReadOnly)return;const o=this.xn;if(o===null)return;let h=null,u=null;n.fromNode===null&&(h=this.wA(n.getPoint(0),!1),h!==null&&(u=h.part));let m=null,v=null;n.toNode===null&&(m=this.wA(n.getPoint(n.pointsCount-1),!0),m!==null&&(v=m.part)),o.isValidLink(u,h,v,m)?e?(n.defaultFromPoint=n.getPoint(0),n.defaultToPoint=n.getPoint(n.pointsCount-1),n.suspendsRouting=!1,n.fromNode=u,h!==null&&(n.fromPortId=h.portId),n.toNode=v,m!==null&&(n.toPortId=m.portId),n.fromPort!==a.PS&&a.T("LinkRelinked",n,a.PS),n.toPort!==a.SS&&a.T("LinkRelinked",n,a.SS)):o.doDraggingMouseMove(u,h,v,m):o.doDraggingMouseMove(null,null,null,null)}}doDragOver(e,n){}xA(e){const n=this.diagram;this.dragsLink&&this.pA(!0),this.mS();const a=this.findDragOverObject(e),o=n.lastInput;if(o.targetObject=a,a!==null){o.handled=!1;let v=a;for(;v!==null;){const b=v.mouseDrop;if(b!==null&&(b(o,v),o.handled))break;this.uR(o,v),v=this.yA(v)}}else{const v=n.mouseDrop;v!==null&&v(o)}if(!this.isActive&&Yi.le===null)return;const h=this.copiedParts||this.draggedParts;if(h!==null){const v=h.iterator;for(;v.next();){const b=v.key;b instanceof Ct&&b.linksConnected.each(S=>S.suspendsRouting=!1)}}if(this.doDropOnto(e,a),!this.isActive&&Yi.le===null)return;const u=W.l(),m=n.selection.iterator;for(;m.next();){const v=m.value;v instanceof Ct&&this.dR(n,v,u)}W.i(u)}uR(e,n){const a=this.diagram,o=n.part;if(a.handlesDragDropForTopLevelParts&&o!==null&&o.isTopLevel&&!(o instanceof Jt)){const h=a.mouseDrop;h!==null&&h(e)}}dR(e,n,a){if(!n.canAvoid())return;let o=!1;a=n.getAvoidableRect(a),e.viewportBounds.containsRect(a)&&(o=!0);const h=this.copiedParts||this.draggedParts;if(h===null)return;const u=e.MS(a,v=>v.part,v=>v instanceof yt,!0,v=>v instanceof yt,o);if(u.count===0)return;const m=u.iterator;for(;m.next();){const v=m.value;h.has(v)&&h.has(n)||!v.isMemberOf(n)&&v.isAvoiding&&v.$t()}}doDropOnto(e,n){}doMouseMove(){if(!this.isActive)return;const e=this.diagram,n=e.lastInput;this.simulatedMouseMove(n.event,n.documentPoint,n.targetDiagram)||this.currentPart!==null&&this.draggedParts!==null&&(this.mayCopy()?(this.xS(!1),this.Rc(this.copiedParts,!1)):this.mayMove()?(this.Rl(),this.Rc(this.draggedParts,!0)):this.mayDragOut()?(this.xS(!1),this.Rc(this.copiedParts,!1)):this.Rl(),this.bS(e.lastInput.documentPoint))}doMouseUp(){var h;if(!this.isActive)return;const e=this.diagram,n=e.lastInput;if(this.simulatedMouseUp(n.event,n.documentPoint,n.targetDiagram))return;let a=!1;const o=this.mayCopy();if(o&&this.copiedParts!==null?(this.Rl(),this.xS(!0),this.Rc(this.copiedParts,!1),this.copiedParts!==null&&(e.T("ChangingSelection",e.selection),e.clearSelection(!0),this.copiedParts.iteratorKeys.each(u=>{u.isSelected=!0}))):(a=!0,this.Rl(),this.mayMove()&&(this.Rc(this.draggedParts,!0),this.bS(e.lastInput.documentPoint))),this.Fu=!0,this.xA(e.lastInput.documentPoint),this.isActive){const u=o&&this.copiedParts,m=u?(h=this.copiedParts)==null?void 0:h.toKeySet():this.draggedParts?this.draggedParts.toKeySet():null;this.copiedParts=null,a&&this.gR(),e.invalidateDocumentBounds(),e.pS(this.draggedParts),this.transactionResult=u?"Copy":"Move",e.T(u?"SelectionCopied":"SelectionMoved",m)}this.stopTool(),o&&e.T("ChangedSelection",e.selection)}simulatedMouseMove(e,n,a){if(Yi.le===null)return!1;const o=Yi.le.diagram;a instanceof Ft||(a=null);const h=Yi.eh;if(a!==h){if(h!==null&&h!==o){h.stopAutoScroll(),Yi.le.isDragOutStarted=!1;const m=h.toolManager.findTool("Dragging");m!==null&&m.doSimulatedDragLeave()}if(Yi.eh=a,a!==null&&a!==o){Yi.le.mA();const m=a.toolManager.findTool("Dragging");m!==null&&(m.bA(),m.doSimulatedDragEnter())}this.doUpdateCursor(null)}if(a===null||a===o||!a.allowDrop||a.isReadOnly||!a.allowInsert)return!1;const u=a.toolManager.findTool("Dragging");if(u!==null){let m=n;e!==null&&(e.targetTouches!==void 0&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),m=a.getMouse(e)),a.lastInput.documentPoint=m,a.lastInput.viewPoint=a.transformDocToView(m),a.lastInput.down=!1,a.lastInput.up=!1,u.doSimulatedDragOver()}return!0}simulatedMouseUp(e,n,a){if(Yi.le===null)return!1;const o=Yi.eh,h=Yi.le.diagram;if(a===null)return Yi.le.doCancel(),!0;if(a!==o){if(o!==null){const m=o.toolManager.findTool("Dragging");if(o!==null&&o!==h&&m!==null)return o.stopAutoScroll(),Yi.le.isDragOutStarted=!1,m.doSimulatedDragLeave(),!1}Yi.eh=a;const u=a.toolManager.findTool("Dragging");u!==null&&(Yi.le.mA(),u.bA(),u.doSimulatedDragEnter())}if(a!==this.diagram){let u=n;e!==null?(e.targetTouches!==void 0&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),u=a.getMouse(e)):u===null&&(u=new N),a.lastInput.documentPoint=u,a.lastInput.viewPoint=a.transformDocToView(u),a.lastInput.down=!1,a.lastInput.up=!0;const m=a.toolManager.findTool("Dragging");m!==null&&m.doSimulatedDrop();const v=Yi.le;if(v!==null){const b=v.mayCopy();v.transactionResult=b?"Copy":"Move",v.stopTool()}return!0}return!1}gR(){if(this.draggedParts===null)return;const e=this.draggedParts.iterator;for(;e.next();){const n=e.key;if(n instanceof Ct){const a=n.containingGroup;a!==null&&a.hasPlaceholder()&&!this.draggedParts.has(a)&&a.placeholder.c()}}}mayCopy(){if(!this.isCopyEnabled)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowCopy||!(s.ur?e.lastInput.alt:e.lastInput.control))return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayDragOut(){if(!this.isCopyEnabled)return!1;const e=this.diagram;if(!e.allowDragOut||!e.allowCopy||e.allowMove)return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayMove(){const e=this.diagram;if(e.isReadOnly||!e.allowMove)return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canMove())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canMove())}bA(){Yi.Nx.has(this)||Yi.Nx.add(this)}static hR(){if(Yi.Nx.count>0){const e=Yi.Nx,n=e.length;for(let a=0;a<n;a++){const o=e.elt(a);o.dA(),o.Rl(),o.mS(),o.diagram.stopAutoScroll()}e.clear()}}mR(e,n,a){return!this.Fu&&this.draggedParts!==null&&!this.draggedParts.has(e)?(a.h(n),!0):!1}get draggingSource(){return Yi.le}mayDragIn(){const e=this.diagram;if(!e.allowDrop||e.isReadOnly||e.isModelReadOnly||!e.allowInsert)return!1;const n=Yi.le;return!(n===null||n.diagram.model.dataFormat!==e.model.dataFormat)}doSimulatedDragEnter(){if(!this.mayDragIn())return;const e=this.diagram;e.animationManager.stopAnimation(),e.Sr(),e.animationManager.stopAnimation();const n=Yi.le;n!==null&&(this.diagram.Ou=!0,e.lastInput.event===null&&(e.lastInput.event=n.diagram.lastInput.event)),this.doUpdateCursor(null)}doSimulatedDragLeave(){const e=Yi.le;e!==null&&e.doSimulatedDragOut(),this.diagram.Ou=!1,this.doCancel()}doSimulatedDragOver(){const e=this.diagram;e.animationManager.Uu=!0;const n=Yi.le;if(n!==null&&n.draggedParts!==null){if(!this.mayDragIn())return;this.kA(n.draggedParts.toKeySet(),!1,e.firstInput),this.Rc(this.copiedParts,!1),this.bS(e.lastInput.documentPoint)}e.animationManager.Uu=!1}doSimulatedDrop(){const e=this.diagram,n=Yi.le;if(n!==null){const a=n.diagram;if(n.Fu=!0,this.Rl(),n.draggedParts===null||!this.mayDragIn())return;e.animationManager.Uu=!0,e.T("ChangingSelection",e.selection),this.startTransaction("Drop"),this.kA(n.draggedParts.toKeySet(),!0,e.lastInput),this.Rc(this.copiedParts,!1);const o=new C;this.copiedParts!==null&&(e.clearSelection(!0),this.copiedParts.iteratorKeys.each(h=>{h.isSelected=!0,o.add(h)})),this.xA(e.lastInput.documentPoint),e.invalidateDocumentBounds(),this.copiedParts!==null&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,e.doFocus(),e.Ou=!1,e.T("ExternalObjectsDropped",o,a),this.stopTransaction(),e.T("ChangedSelection",e.selection)}e.animationManager.Uu=!1}kA(e,n,a){if(this.copiedParts!==null)return;const o=this.diagram;if(o.isReadOnly||o.isModelReadOnly)return;o.skipsUndoManager=!n,o.partManager.addsToTemporaryLayer=!n,this.startPoint=a.documentPoint;const h=o.copyParts(e,o,!0),u=W.l();this.cR(e,u);const m=u.x+u.width/2,v=u.y+u.height/2;W.i(u);const b=this.Em,S=new Q,A=N.l(),M=e.iterator;for(;M.next();){const R=M.value;if(R instanceof yt&&R.canCopy()){const V=h.get(R);if(V===null)continue;V.points=R.points,V.Pr(b.x-m,b.y-v),V.suspendsRouting=!0,S.set(V,this.Ws())}}const O=e.iterator;for(;O.next();){const R=O.value;if(R.Di()&&R.canCopy()){const V=h.get(R);if(V===null)continue;const q=R.location;A.e(b.x-(m-q.x),b.y-(v-q.y)),V.location=A,V.ensureBounds(),S.set(V,this.Ws(A))}}if(N.i(A),this.copiedParts=S,this.gS(S.toKeySet()),this.draggedLink!==null){const R=this.draggedLink,V=R.routeBounds;R.Pr(this.startPoint.x-(V.x+V.width/2),this.startPoint.y-(V.y+V.height/2))}this.doUpdateCursor(null)}aR(){this.isDragOutStarted=!0,this.Fu=!1,Yi.le=this,Yi.eh=this.diagram,this.doSimulatedDragOut()}doSimulatedDragOut(){const e=this.diagram;!this.mayCopy()&&!this.mayMove()?e.currentCursor=this.nodropCursor:e.currentCursor="",this.Ru=null}computeMove(e,n,a,o){const h=this.diagram;return h!==null?h.computeMove(e,n,this.dragOptions,o):new N}};let Ue=Yi;E(Ue,"Nx",new w),E(Ue,"le",null),E(Ue,"eh",null),qe.prototype.doCancel=function(){Ue.le!==null&&Ue.le.doCancel(),dt.prototype.doCancel.call(this)};class Ae extends dt{constructor(){super();E(this,"NS");E(this,"CS");E(this,"Il");E(this,"LS");E(this,"AS");E(this,"ih");E(this,"TS");E(this,"nh");E(this,"DS");E(this,"vS");E(this,"FS");E(this,"RS");E(this,"OS");E(this,"IS");E(this,"PA");E(this,"ES");E(this,"El");E(this,"US");this.NS=100,this.CS=!1,this.Il="pointer",this.LS=new yt({layerName:"Tool"}).add(new ke({isPanelMain:!0,stroke:"blue"}).theme("stroke","tempLink"),new ke({toArrow:"Standard",fill:"blue",stroke:"blue"}).theme("fill","tempLink").theme("stroke","tempLink")).It(),this.ih=new ke("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:X.TP}).theme("stroke","tempPort"),this.AS=new Ct({selectable:!1,layerName:"Tool"}).add(this.ih).It(),this.nh=new ke("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:X.TP}).theme("stroke","tempPort"),this.TS=new Ct({selectable:!1,layerName:"Tool"}).add(this.nh).It(),this.DS=null,this.vS=null,this.FS=null,this.RS=null,this.OS=null,this.IS=!0,this.PA=new Q,this.ES=null,this.El=null,this.US=null}doStop(){this.diagram.stopAutoScroll(),this.originalLink=null,this.originalFromNode=null,this.originalFromPort=null,this.originalToNode=null,this.originalToPort=null,this.validPortsCache.clear(),this.targetPort=null}get portGravity(){return this.NS}set portGravity(e){e>=0&&(this.NS=e)}get isUnconnectedLinkValid(){return this.CS}set isUnconnectedLinkValid(e){this.CS=e}get linkingCursor(){return this.Il}set linkingCursor(e){this.Il=e}get temporaryLink(){return this.LS}set temporaryLink(e){e.It(),this.LS=e}get temporaryFromNode(){return this.AS}set temporaryFromNode(e){e.It(),this.AS=e,e&&(this.ih=e.port)}get temporaryFromPort(){return this.ih}set temporaryFromPort(e){if(this.ih!==null){const n=this.ih.panel;if(n!==null){const a=n.D.indexOf(this.ih);n.removeAt(a),n.insertAt(a,e)}}this.ih=e}get temporaryToNode(){return this.TS}set temporaryToNode(e){e.It(),this.TS=e,e&&(this.nh=e.port)}get temporaryToPort(){return this.nh}set temporaryToPort(e){if(this.nh!==null){const n=this.nh.panel;if(n!==null){const a=n.D.indexOf(this.nh);n.removeAt(a),n.insertAt(a,e)}}this.nh=e}get originalLink(){return this.DS}set originalLink(e){this.DS=e}get originalFromNode(){return this.vS}set originalFromNode(e){this.vS=e}get originalFromPort(){return this.FS}set originalFromPort(e){this.FS=e}get originalToNode(){return this.RS}set originalToNode(e){this.RS=e}get originalToPort(){return this.OS}set originalToPort(e){this.OS=e}get isForwards(){return this.IS}set isForwards(e){this.IS=e}get validPortsCache(){return this.PA}get targetPort(){return this.ES}set targetPort(e){this.ES=e}copyPortProperties(e,n,a,o,h){if(e===null||n===null||a===null||o===null)return;const u=n.getDocumentScale(),m=X.l();m.width=n.naturalBounds.width*u,m.height=n.naturalBounds.height*u,o.desiredSize=m,X.i(m),h?(o.toSpot=n.toSpot,o.toEndSegmentLength=n.toEndSegmentLength):(o.fromSpot=n.fromSpot,o.fromEndSegmentLength=n.fromEndSegmentLength),a.locationSpot=K.Center;const v=N.l();a.location=n.getDocumentPoint(K.Center,v),N.i(v),o.angle=n.getDocumentAngle(),this.portTargeted!==null&&this.portTargeted(e,n,a,o,h)}setNoTargetPortProperties(e,n,a){n!==null&&(n.desiredSize=X.TP,n.fromSpot=K.None,n.toSpot=K.None),e!==null&&(e.location=this.diagram.lastInput.documentPoint),this.portTargeted!==null&&this.portTargeted(null,null,e,n,a)}doMouseDown(){this.isActive&&this.doMouseMove()}doMouseMove(){if(this.isActive){const e=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null&&this.targetPort.part instanceof Ct){const n=this.targetPort.part;this.isForwards?this.copyPortProperties(n,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(n,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(e.lastInput.viewPoint)}}findValidLinkablePort(e,n){if(e===null)return null;const a=e.part;if(!(a instanceof Ct))return null;for(;e!==null;){const o=n?e.toLinkable:e.fromLinkable;if(o===!0&&(e.portId!==null||e instanceof Ct)&&(n?this.isValidTo(a,e):this.isValidFrom(a,e)))return e;if(o===!1)return null;e=e.panel}return null}findTargetPort(e){const n=this.diagram,a=n.lastInput.documentPoint;let o=this.portGravity;const h=n.findObjectsNear(a,o,b=>this.findValidLinkablePort(b,e),null,!0);let u=1/0,m=null;const v=h.iterator;for(;v.next();){const b=v.value,S=b.part;if(!(S instanceof Ct))continue;const A=b.getDocumentPoint(K.Center,N.l()),M=a.x-A.x,O=a.y-A.y;N.i(A);const R=M*M+O*O;if(R<u){const V=this.validPortsCache.get(b);V!==null?V&&(m=b,u=R):e&&this.isValidLink(this.originalFromNode,this.originalFromPort,S,b)||!e&&this.isValidLink(S,b,this.originalToNode,this.originalToPort)?(this.validPortsCache.set(b,!0),m=b,u=R):this.validPortsCache.set(b,!1)}}if(m!==null){const b=m.part;if(b instanceof Ct&&(b.layer===null||b.layer.allowLink))return m}return null}isValidFrom(e,n){if(e===null||n===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(e.layer!==null&&!e.layer.allowLink||n.fromLinkable!==!0))return!1;const a=n.fromMaxLinks;if(a<1/0){if(this.originalLink!==null&&e===this.originalFromNode&&n===this.originalFromPort)return!0;let o=n.portId;if(o===null&&(o=""),e.findLinksOutOf(o).count>=a)return!1}return!0}isValidTo(e,n){if(e===null||n===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(e.layer!==null&&!e.layer.allowLink||n.toLinkable!==!0))return!1;const a=n.toMaxLinks;if(a<1/0){if(this.originalLink!==null&&e===this.originalToNode&&n===this.originalToPort)return!0;let o=n.portId;if(o===null&&(o=""),e.findLinksInto(o).count>=a)return!1}return!0}isInSameNode(e,n){if(e===null||n===null)return!1;if(e===n)return!0;const a=e.part,o=n.part;return a!==null&&a===o}isLinked(e,n){if(e===null||n===null)return!1;const a=e.part;if(!(a instanceof Ct))return!1;let o=e.portId;o===null&&(o="");const h=n.part;if(!(h instanceof Ct))return!1;let u=n.portId;u===null&&(u="");const m=h.findLinksInto(u);for(;m.next();){const v=m.value;if(v.fromNode===a&&v.fromPortId===o)return!0}return!1}isValidLink(e,n,a,o){if(!this.isValidFrom(e,n)||!this.isValidTo(a,o)||n!==null&&o!==null&&(!(n.fromLinkableSelfNode&&o.toLinkableSelfNode)&&this.isInSameNode(n,o)||!(n.fromLinkableDuplicates&&o.toLinkableDuplicates)&&this.isLinked(n,o))||this.originalLink!==null&&(e!==null&&this.isLabelDependentOnLink(e,this.originalLink)||a!==null&&this.isLabelDependentOnLink(a,this.originalLink))||e!==null&&a!==null&&(e.data===null&&a.data!==null||e.data!==null&&a.data===null)||!this.isValidCycle(e,a,this.originalLink))return!1;let h;return e!==null&&n!==null&&(h=e.linkValidation,h!==null&&!h(e,n,a,o,this.originalLink))||a!==null&&o!==null&&(h=a.linkValidation,h!==null&&!h(e,n,a,o,this.originalLink))?!1:(h=this.linkValidation,h!==null?h(e,n,a,o,this.originalLink):!0)}isLabelDependentOnLink(e,n){if(e===null)return!1;const a=e.labeledLink;if(a===null)return!1;if(a===n)return!0;const o=new C;return o.add(e),this.VS(a,n,o)}VS(e,n,a){if(e===n)return!0;const o=e.fromNode;if(o!==null&&o.labeledLink&&(a.add(o),this.VS(o.labeledLink,n,a)))return!0;const h=e.toNode;return!!(h!==null&&h.labeledLink&&(a.add(h),this.VS(h.labeledLink,n,a)))}isValidCycle(e,n,a){if(a===void 0&&(a=null),e===null||n===null)return this.isUnconnectedLinkValid;const o=this.diagram;let h=1;if(o&&(o.model.Vm()?h=o.isTreePathToChildren?5:6:h=o.validCycle),h===1)return!0;if(h===5){const u=a||this.temporaryLink;if(u!==null&&!u.isTreeLink)return!0;const m=n.linksConnected;for(;m.next();){const v=m.value;if(v!==a&&v.isTreeLink&&v.toNode===n)return!1}return!this.Vu(e,n,a,!0)}else if(h===6){const u=a||this.temporaryLink;if(u!==null&&!u.isTreeLink)return!0;const m=e.linksConnected;for(;m.next();){const v=m.value;if(v!==a&&v.isTreeLink&&v.fromNode===e)return!1}return!this.Vu(e,n,a,!0)}else{if(h===2)return!this.pR(e,n,a);if(h===3)return!this.Vu(e,n,a,!1);if(h===4)return!this.yR(e,n,a)}return!0}Vu(e,n,a,o){if(e===n)return!0;if(e===null||n===null)return!1;const h=e.linksConnected;for(;h.next();){const u=h.value;if(u===a||o&&!u.isTreeLink||u.toNode!==e)continue;const m=u.fromNode;if(!(m===e||m===null)&&this.Vu(m,n,a,o))return!0}return!1}pR(e,n,a){if(e===n)return!0;const o=new Set;return o.add(n),this.SA(o,e,n,a)}SA(e,n,a,o){if(n===a)return!0;if(n===null||a===null||e.has(n))return!1;e.add(n);const h=n.linksConnected;for(;h.next();){const u=h.value;if(u===o||u.toNode!==n)continue;const m=u.fromNode;if(!(m===n||m===null)&&this.SA(e,m,a,o))return!0}return!1}yR(e,n,a){if(e===n)return!0;const o=new Set;return o.add(n),this.MA(o,e,n,a)}MA(e,n,a,o){if(n===a)return!0;if(n===null||a===null||e.has(n))return!1;e.add(n);const h=n.linksConnected;for(;h.next();){const u=h.value;if(u===o)continue;const m=u.fromNode,v=u.toNode,b=m===n?v:m;if(!(b===n||b===null)&&this.MA(e,b,a,o))return!0}return!1}get linkValidation(){return this.El}set linkValidation(e){this.El=e}get portTargeted(){return this.US}set portTargeted(e){this.US=e}}var Ye=(ee=>(ee[ee.Either=1]="Either",ee[ee.ForwardsOnly=2]="ForwardsOnly",ee[ee.BackwardsOnly=3]="BackwardsOnly",ee))(Ye||{});const E0=class extends Ae{constructor(e){super();E(this,"BS");E(this,"zS");E(this,"P");E(this,"XS");this.name="Linking",this.BS={},this.zS=null,this.P=1,this.XS=null,e&&Object.assign(this,e)}get archetypeLinkData(){return this.BS}set archetypeLinkData(e){e!==null&&s.xc(e,E0,"archetypeLinkData"),this.BS=e}get archetypeLabelNodeData(){return this.zS}set archetypeLabelNodeData(e){e!==null&&s.xc(e,E0,"archetypeLabelNodeData"),this.zS=e}get direction(){return this.P}set direction(e){this.P=e}get startObject(){return this.XS}set startObject(e){this.XS=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||e.isModelReadOnly||!e.allowLink||!e.model.Ax()||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize()?!1:this.findLinkablePort()!==null}findLinkablePort(){const e=this.diagram;let n=this.startObject;if(n===null&&(n=e.findObjectAt(e.firstInput.documentPoint,null,null)),n===null)return null;const a=n.part;if(!(a instanceof Ct))return null;const o=this.direction;if(o===1||o===2){const h=this.findValidLinkablePort(n,!1);if(h!==null)return this.isForwards=!0,h;if(this.startObject===a){const u=a.port;if(this.findValidLinkablePort(u,!1))return this.isForwards=!0,u}}if(o===1||o===3){const h=this.findValidLinkablePort(n,!0);if(h!==null)return this.isForwards=!1,h;if(this.startObject===a){const u=a.port;if(this.findValidLinkablePort(u,!0))return this.isForwards=!1,u}}return null}doActivate(){const e=this.diagram,n=this.findLinkablePort();if(n===null){this.stopTool();return}if(this.startTransaction(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.isForwards){this.temporaryToNode!==null&&(this.temporaryToNode.location=e.lastInput.documentPoint),this.originalFromPort=n;const a=this.originalFromPort.part;a instanceof Ct&&(this.originalFromNode=a),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else{this.temporaryFromNode!==null&&(this.temporaryFromNode.location=e.lastInput.documentPoint),this.originalToPort=n;const a=this.originalToPort.part;a instanceof Ct&&(this.originalToNode=a),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)}e.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.ensureBounds(),e.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.ensureBounds(),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.$t(),e.add(this.temporaryLink)),this.isActive=!0}doDeactivate(){this.isActive=!1;const e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.startObject=null}doMouseUp(){if(this.isActive){const e=this.diagram;this.transactionResult=null;let n=null,a=null,o=null,h=null,u=null;try{this.targetPort=this.findTargetPort(this.isForwards);const m=this.targetPort;if(m!==null){const v=m.part;v instanceof Ct&&(this.isForwards?(this.originalFromNode!==null&&(n=this.originalFromNode,a=this.originalFromPort),o=v,h=m):(n=v,a=m,this.originalToNode!==null&&(o=this.originalToNode,h=this.originalToPort)))}else this.isForwards?this.originalFromNode!==null&&this.isUnconnectedLinkValid&&(n=this.originalFromNode,a=this.originalFromPort):this.originalToNode!==null&&this.isUnconnectedLinkValid&&(o=this.originalToNode,h=this.originalToPort);n!==null||o!==null?(u=this.insertLink(n,a,o,h),u!==null?(m===null&&(this.isForwards?u.defaultToPoint=e.lastInput.documentPoint:u.defaultFromPoint=e.lastInput.documentPoint),e.allowSelect&&(e.T("ChangingSelection",e.selection),e.clearSelection(!0),u.isSelected=!0),this.transactionResult=this.name,e.T("LinkDrawn",u)):this.doNoLink(n,a,o,h)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),u&&e.allowSelect&&e.T("ChangedSelection",e.selection)}}}isNewTreeLink(){const e=this.archetypeLinkData;if(e===null)return!0;if(e instanceof yt)return e.isTreeLink;const n=this.diagram;if(n===null)return!0;const a=n.partManager.getLinkCategoryForData(e),o=n.partManager.findLinkTemplateForCategory(a);return o!==null?o.isTreeLink:!0}insertLink(e,n,a,o){return this.diagram.partManager.insertLink(e,n,a,o)}doNoLink(e,n,a,o){}};let st=E0;E(st,"Either",1),E(st,"ForwardsOnly",2),E(st,"BackwardsOnly",3);class ht extends Ae{constructor(e){super();E(this,"NA",null);E(this,"CA",null);E(this,"GS",null);E(this,"YS",null);E(this,"Ss");E(this,"KS");this.name="Relinking",this.fromHandleArchetype=new ke("Diamond",{desiredSize:X.Su,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:0}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.toHandleArchetype=new ke("Diamond",{desiredSize:X.Su,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:-1}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.Ss=null,this.KS=new W,e&&Object.assign(this,e)}updateAdornments(e){if(e===null||!(e instanceof yt))return;let n="RelinkFrom",a=null;if(e.isSelected&&!this.diagram.isReadOnly){const o=e.selectionObject;o!==null&&e.canRelinkFrom()&&e.actualBounds.isReal()&&e.isVisible()&&o.actualBounds.isReal()&&o.isVisibleObject()&&(a=e.findAdornment(n),a===null&&(a=this.makeAdornment(o,!1),e.addAdornment(n,a)))}if(a===null&&e.removeAdornment(n),n="RelinkTo",a=null,e.isSelected&&!this.diagram.isReadOnly){const o=e.selectionObject;o!==null&&e.canRelinkTo()&&e.actualBounds.isReal()&&e.isVisible()&&o.actualBounds.isReal()&&o.isVisibleObject()&&(a=e.findAdornment(n),a===null?(a=this.makeAdornment(o,!0),e.addAdornment(n,a)):a.c())}a===null&&e.removeAdornment(n)}makeAdornment(e,n){let a=n?this.YS:this.GS;return a&&(a=a.copy(),a.adornedObject=e),a}get fromHandleArchetype(){return this.NA}set fromHandleArchetype(e){e!==null&&s.se(e,oi,ht,"fromHandleArchetype"),this.NA=e,e!==null?this.GS=new Zt(j.Link).add(e).It():this.GS=null}get toHandleArchetype(){return this.CA}set toHandleArchetype(e){e!==null&&s.se(e,oi,ht,"toHandleArchetype"),this.CA=e,e!==null?this.YS=new Zt(j.Link).add(e).It():this.YS=null}get handle(){return this.Ss}set handle(e){e!==null&&(e.part instanceof Zt||s.o("new handle is not in an Adornment: "+e)),this.Ss=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowRelink||!e.model.Ax()||!e.lastInput.left)return!1;let n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom");return n===null&&(n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo")),n!==null}doActivate(){const e=this.diagram;if(this.originalLink===null){let a=this.handle;if(a===null&&(a=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom"),a===null&&(a=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo"))),a===null)return;const o=a.part;if(!(o instanceof Zt)||!(o.adornedPart instanceof yt))return;this.handle=a,this.isForwards=o===null||o.category==="RelinkTo",this.originalLink=o.adornedPart}const n=this.originalLink;n!==null&&(this.startTransaction(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.originalFromPort=n.fromPort,this.originalFromNode=n.fromNode,this.originalToPort=n.toPort,this.originalToNode=n.toNode,this.KS.set(n.actualBounds),n.pointsCount>0&&(n.fromNode===null&&(this.temporaryFromPort!==null&&(this.temporaryFromPort.desiredSize=X.bc),this.temporaryFromNode!==null&&(this.temporaryFromNode.location=n.getPoint(0))),n.toNode===null&&(this.temporaryToPort!==null&&(this.temporaryToPort.desiredSize=X.bc),this.temporaryToNode!==null&&(this.temporaryToNode.location=n.getPoint(n.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),e.add(this.temporaryFromNode),e.add(this.temporaryToNode),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(n,this.temporaryLink),this.temporaryLink.$t(),e.add(this.temporaryLink)),this.isActive=!0)}copyLinkProperties(e,n){if(e===null||n===null)return;n.adjusting=e.adjusting,n.corner=e.corner;let a=e.curve;(a===11||a===10)&&(a=0),n.curve=a,n.curviness=e.curviness,n.isTreeLink=e.isTreeLink,n.points=e.points,n.routing=e.routing,n.smoothness=e.smoothness,n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength,n.fromShortLength=e.fromShortLength,n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength,n.toShortLength=e.toShortLength}doDeactivate(){this.isActive=!1;const e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.handle=null}doMouseUp(){if(this.isActive){const e=this.diagram;this.transactionResult=null;let n=this.originalFromNode,a=this.originalFromPort,o=this.originalToNode,h=this.originalToPort,u=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null){const m=this.targetPort.part;m instanceof Ct&&(this.isForwards?(o=m,h=this.targetPort):(n=m,a=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?(o=null,h=null):(n=null,a=null):u=null;u!==null?(this.reconnectLink(u,this.isForwards?o:n,this.isForwards?h:a,this.isForwards),this.targetPort===null&&(this.isForwards?u.defaultToPoint=e.lastInput.documentPoint:u.defaultFromPoint=e.lastInput.documentPoint,u.$t()),this.transactionResult=this.name,e.T("LinkRelinked",u,this.isForwards?this.originalToPort:this.originalFromPort)):this.originalLink!==null&&this.doNoRelink(this.originalLink,this.isForwards),this.originalLink!==null&&this.originalLink.invalidateOtherJumpOvers(this.KS)}finally{this.stopTool()}}}reconnectLink(e,n,a,o){const h=a!==null&&a.portId!==null?a.portId:"";return o?(e.toNode=n,e.toPortId=h):(e.fromNode=n,e.fromPortId=h),!0}doNoRelink(e,n){}doDraggingMouseMove(e,n,a,o){e!==null?(this.copyPortProperties(e,n,this.temporaryFromNode,this.temporaryFromPort,!1),this.diagram.add(this.temporaryFromNode)):this.diagram.remove(this.temporaryFromNode),a!==null?(this.copyPortProperties(a,o,this.temporaryToNode,this.temporaryToPort,!0),this.diagram.add(this.temporaryToNode)):this.diagram.remove(this.temporaryToNode)}stopDraggingMouseMove(){this.diagram.remove(this.temporaryFromNode),this.diagram.remove(this.temporaryToNode)}}var vt=(ee=>(ee[ee.None=0]="None",ee[ee.Horizontal=1]="Horizontal",ee[ee.Vertical=2]="Vertical",ee[ee.All=3]="All",ee))(vt||{});class kt extends dt{constructor(e){super();E(this,"Mr");E(this,"HS");E(this,"jS");E(this,"Ss");E(this,"Tx");E(this,"qS");E(this,"Bm");this.name="LinkReshaping",this.Mr=new ke("Rectangle",{desiredSize:X.RL,fill:"lightblue",stroke:"dodgerblue"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.HS=new ke("Diamond",{desiredSize:X.Su,fill:"lightblue",stroke:"dodgerblue",cursor:"move"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.jS=3,this.Ss=null,this.Tx=null,this.qS=new N,this.Bm=new w,e&&Object.assign(this,e)}getReshapingBehavior(e){return e?e.Nr:0}setReshapingBehavior(e,n){e.Nr=n}updateAdornments(e){if(e===null||!(e instanceof yt))return;let n=null;if(e.isSelected&&!this.diagram.isReadOnly){const a=e.path;a!==null&&e.canReshape()&&e.actualBounds.isReal()&&e.isVisible()&&a.actualBounds.isReal()&&a.isVisibleObject()&&(n=e.findAdornment(this.name),(n===null||n.WS!==e.pointsCount||n.JS!==e.resegmentable)&&(n=this.makeAdornment(a),n!==null&&(n.WS=e.pointsCount,n.JS=e.resegmentable,e.addAdornment(this.name,n))))}n===null&&e.removeAdornment(this.name)}makeAdornment(e){const n=e.part,a=n.points,o=n.pointsCount,h=n.isOrthogonal;let u=null;if(a!==null&&o>1){u=new Zt,u.type=j.Link;const m=n.firstPickIndex,v=n.lastPickIndex,b=h?1:0;if(n.resegmentable&&n.computeCurve()!==9)for(let S=m+b;S<v-b;S++){const A=this.makeResegmentHandle(e,S);A!==null&&(A.segmentIndex=S,A.segmentFraction=.5,A.fromMaxLinks=999,u.add(A))}for(let S=m+1;S<v;S++){const A=this.makeHandle(e,S);if(A!==null){if(A.segmentIndex=S,S!==m)if(S===m+1&&h){const M=n.getPoint(m);let O=n.getPoint(m+1);G.u(M.x,O.x)&&G.u(M.y,O.y)?(O=n.getPoint(m-1),G.u(M.x,O.x)?(this.setReshapingBehavior(A,2),A.cursor="n-resize"):G.u(M.y,O.y)&&(this.setReshapingBehavior(A,1),A.cursor="w-resize")):G.u(M.x,O.x)?(this.setReshapingBehavior(A,2),A.cursor="n-resize"):G.u(M.y,O.y)&&(this.setReshapingBehavior(A,1),A.cursor="w-resize")}else if(S===v-1&&h){let M=n.getPoint(v-1);const O=n.getPoint(v);G.u(M.x,O.x)&&G.u(M.y,O.y)?(M=n.getPoint(v+1),G.u(M.x,O.x)?(this.setReshapingBehavior(A,2),A.cursor="n-resize"):G.u(M.y,O.y)&&(this.setReshapingBehavior(A,1),A.cursor="w-resize")):G.u(M.x,O.x)?(this.setReshapingBehavior(A,2),A.cursor="n-resize"):G.u(M.y,O.y)&&(this.setReshapingBehavior(A,1),A.cursor="w-resize")}else S===v||(this.setReshapingBehavior(A,3),A.cursor="move");u.add(A)}}u.adornedObject=e}return u}makeHandle(e,n){const a=this.handleArchetype;return a===null?null:a.copy().$S()}get handleArchetype(){return this.Mr}set handleArchetype(e){this.Mr=e}makeResegmentHandle(e,n){const a=this.midHandleArchetype;return a===null?null:a.copy().$S()}get midHandleArchetype(){return this.HS}set midHandleArchetype(e){this.HS=e}get handle(){return this.Ss}set handle(e){e!==null&&(e.part instanceof Zt||s.o("new handle is not in an Adornment: "+e)),this.Ss=e}get adornedLink(){return this.Tx}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowReshape||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;if(this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle===null)return;const n=this.handle.part.adornedPart;if(n instanceof yt){if(this.Tx=n,e.isMouseCaptured=!0,this.startTransaction(this.name),n.resegmentable&&this.handle.fromMaxLinks===999){const a=n.points.copy(),o=this.getResegmentingPoint();if(a.insertAt(this.handle.segmentIndex+1,o),n.isOrthogonal&&a.insertAt(this.handle.segmentIndex+1,o),n.points=a,n.invalidateAdornments(),n.updateAdornments(),this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name),this.handle===null){this.doDeactivate();return}}this.qS=n.getPoint(this.handle.segmentIndex),this.Bm=n.points.copy(),this.isActive=!0}}doDeactivate(){this.stopTransaction(),this.handle=null,this.Tx=null;const e=this.diagram;e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){const e=this.adornedLink;e!==null&&(e.points=this.Bm),this.stopTool()}getResegmentingPoint(){return this.handle===null?this.diagram.lastInput.documentPoint:this.handle.getDocumentPoint(K.Center)}doMouseMove(){const e=this.diagram;if(this.isActive){const n=this.computeReshape(e.lastInput.documentPoint);this.reshape(n)}}doMouseUp(){const e=this.diagram;if(this.isActive){const n=this.computeReshape(e.lastInput.documentPoint);this.reshape(n);const a=this.adornedLink;if(a!==null&&a.resegmentable&&this.handle!==null){const o=this.handle.segmentIndex,h=a.getPoint(o-1),u=a.getPoint(o),m=a.getPoint(o+1);if(a.isOrthogonal){if(o>a.firstPickIndex+1&&o<a.lastPickIndex-1){let v=a.getPoint(o-2);if(this.isWithinResegmentingDistance(h,u)&&(this.isInLineOrtho(v,h,u,m,!0)||this.isInLineOrtho(v,h,u,m,!1))){const b=a.points.copy();this.isInLineOrtho(v,h,u,m,!0)?(b.setElt(o-2,new N(v.x,(m.y+v.y)/2)),b.setElt(o+1,new N(m.x,(m.y+v.y)/2))):(b.setElt(o-2,new N((m.x+v.x)/2,v.y)),b.setElt(o+1,new N((m.x+v.x)/2,m.y))),b.removeAt(o),b.removeAt(o-1),a.points=b,a.invalidateAdornments()}else if(v=a.getPoint(o+2),this.isWithinResegmentingDistance(u,m)&&(this.isInLineOrtho(h,u,m,v,!0)||this.isInLineOrtho(h,u,m,v,!1))){const b=a.points.copy();this.isInLineOrtho(h,u,m,v,!0)?(b.setElt(o-1,new N(h.x,(h.y+v.y)/2)),b.setElt(o+2,new N(v.x,(h.y+v.y)/2))):(b.setElt(o-1,new N((h.x+v.x)/2,h.y)),b.setElt(o+2,new N((h.x+v.x)/2,v.y))),b.removeAt(o+1),b.removeAt(o),a.points=b,a.invalidateAdornments()}}}else{const v=N.l();if(G.Nl(h.x,h.y,m.x,m.y,u.x,u.y,v)&&v.distanceSquaredPoint(u)<this.resegmentingDistance*this.resegmentingDistance){const b=a.points.copy();b.removeAt(o),a.points=b,a.invalidateAdornments()}N.i(v)}}e.invalidateDocumentBounds(),this.transactionResult=this.name,e.T("LinkReshaped",this.adornedLink,this.Bm)}this.stopTool()}isWithinResegmentingDistance(e,n){return Math.abs(e.x-n.x)<this.resegmentingDistance&&Math.abs(e.y-n.y)<this.resegmentingDistance}isInLineOrtho(e,n,a,o,h){return h?Math.abs(e.y-n.y)<this.resegmentingDistance&&Math.abs(n.y-a.y)<this.resegmentingDistance&&Math.abs(a.y-o.y)<this.resegmentingDistance:Math.abs(e.x-n.x)<this.resegmentingDistance&&Math.abs(n.x-a.x)<this.resegmentingDistance&&Math.abs(a.x-o.x)<this.resegmentingDistance}get resegmentingDistance(){return this.jS}set resegmentingDistance(e){this.jS=e}reshape(e){const n=this.adornedLink;if(n===null)return;const a=this.handle;if(a===null)return;n.startRoute();let o=a.segmentIndex;const h=this.getReshapingBehavior(a);if(n.isOrthogonal)if(o===n.firstPickIndex+1){const u=n.firstPickIndex+1;h===2?(n.setPointAt(u,n.getPoint(u-1).x,e.y),n.setPointAt(u+1,n.getPoint(u+2).x,e.y)):h===1&&(n.setPointAt(u,e.x,n.getPoint(u-1).y),n.setPointAt(u+1,e.x,n.getPoint(u+2).y))}else if(o===n.lastPickIndex-1){const u=n.lastPickIndex-1;h===2?(n.setPointAt(u-1,n.getPoint(u-2).x,e.y),n.setPointAt(u,n.getPoint(u+1).x,e.y)):h===1&&(n.setPointAt(u-1,e.x,n.getPoint(u-2).y),n.setPointAt(u,e.x,n.getPoint(u+1).y))}else{let u=o;const m=n.getPoint(u);if(!e.equalsApprox(m)){const v=n.getPoint(u-2),b=n.getPoint(u-1),S=n.getPoint(u+1),A=n.getPoint(u+2);G.u(m.x,S.x)&&G.u(S.y,A.y)?n.setPointAt(u+1,e.x,S.y):G.u(m.y,S.y)&&G.u(S.x,A.x)&&n.setPointAt(u+1,S.x,e.y),G.u(m.x,b.x)&&G.u(b.y,v.y)?n.setPointAt(u-1,e.x,b.y):G.u(m.y,b.y)&&G.u(b.x,v.x)&&n.setPointAt(u-1,b.x,e.y)}n.setPointAt(o,e.x,e.y)}else{n.setPointAt(o,e.x,e.y);let u=n.fromNode,m=n.fromPort;if(u!==null){const S=u.findVisibleNode();S!==null&&S!==u&&(u=S,m=u.port)}if(o===1&&m!==null&&n.computeSpot(!0,m).isNoSpot()){const S=m.getDocumentPoint(K.Center,N.l()),A=n.getLinkPointFromPoint(u,m,S,e,!0,N.l());n.setPointAt(0,A.x,A.y),N.i(S),N.i(A)}let v=n.toNode,b=n.toPort;if(v!==null){const S=v.findVisibleNode();S!==null&&S!==v&&(v=S,b=v.port)}if(o===n.pointsCount-2&&b!==null&&n.computeSpot(!1,b).isNoSpot()){const S=b.getDocumentPoint(K.Center,N.l()),A=n.getLinkPointFromPoint(v,b,S,e,!1,N.l());n.setPointAt(n.pointsCount-1,A.x,A.y),N.i(S),N.i(A)}}n.commitRoute()}computeReshape(e){const n=this.adornedLink;if(n===null)return e;const a=this.handle;if(a===null)return e;const o=a.segmentIndex;switch(this.getReshapingBehavior(a)){case 3:return e;case 2:{const h=n.getPoint(o);return new N(h.x,e.y)}case 1:{const h=n.getPoint(o);return new N(e.x,h.y)}default:case 0:return n.getPoint(o)}}get originalPoint(){return this.qS}get originalPoints(){return this.Bm}}E(kt,"None",0),E(kt,"Horizontal",1),E(kt,"Vertical",2),E(kt,"All",3);class Kt extends dt{constructor(e){super();E(this,"Cr");E(this,"Lr");E(this,"Oo");E(this,"Oc");E(this,"ZS");E(this,"Ms");E(this,"Mr");E(this,"Ss");E(this,"zm");E(this,"QS");E(this,"Ic");E(this,"Dx");E(this,"vx");E(this,"Fx");this.name="Resizing",this.Cr=new X(1,1).k(),this.Lr=new X(9999,9999).k(),this.Oo=new X(NaN,NaN).k(),this.Oc=!1,this.ZS=!0,this.Ms=null,this.Mr=new ke("Rectangle",{alignmentFocus:K.Center,desiredSize:X.RL,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.Ss=null,this.zm=new N,this.QS=new X,this.Ic=new N,this.Dx=new X(0,0),this.vx=new X(1/0,1/0),this.Fx=new X(1,1),e&&Object.assign(this,e)}updateAdornments(e){if(e!==null){if(e.Ar()){const n=e.rotateObject;if(n===e||n===e.path||n.isPanelMain)return}if(e.isSelected&&!this.diagram.isReadOnly){const n=e.resizeObject;let a=e.findAdornment(this.name);if(n!==null&&e.canResize()&&e.actualBounds.isReal()&&e.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()&&((a===null||a.adornedObject!==n)&&(a=this.makeAdornment(n)),a!==null)){const o=n.getDocumentAngle();e.Ul()&&this.updateResizeHandles(a,o),e.addAdornment(this.name,a);return}}e.removeAdornment(this.name)}}makeAdornment(e){var o;let n=null;const a=(o=e.part)==null?void 0:o.resizeAdornmentTemplate;if(a){if(n=a.copy(),n===null)return null}else{n=new Zt,n.type=j.Spot,n.locationSpot=K.Center;const h=new Or;h.isPanelMain=!0,n.add(h);let u=this.makeHandle(e,K.TopLeft);u!==null&&n.add(u),u=this.makeHandle(e,K.TopRight),u!==null&&n.add(u),u=this.makeHandle(e,K.BottomRight),u!==null&&n.add(u),u=this.makeHandle(e,K.BottomLeft),u!==null&&n.add(u),u=this.makeHandle(e,K.MiddleTop),u!==null&&n.add(u),u=this.makeHandle(e,K.MiddleRight),u!==null&&n.add(u),u=this.makeHandle(e,K.MiddleBottom),u!==null&&n.add(u),u=this.makeHandle(e,K.MiddleLeft),u!==null&&n.add(u)}return n.adornedObject=e,n}makeHandle(e,n){const a=this.handleArchetype;if(a===null)return null;const o=a.copy().$S();return o.alignment=n,o}updateResizeHandles(e,n){if(e!==null){if(!e.alignment.isDefault()&&(e.cursor==="pointer"||e.cursor.indexOf("resize")>0))this.wR(e,n);else if(e instanceof j){const a=e.elements;for(;a.next();){const o=a.value;this.updateResizeHandles(o,n)}}}}wR(e,n){let a=e.alignment;a.isNoSpot()&&(a=K.Center);let o=n;if(a.x<=0)a.y<=0?o+=225:a.y>=1?o+=135:o+=180;else if(a.x>=1)a.y<=0?o+=315:a.y>=1&&(o+=45);else if(a.y<=0)o+=270;else if(a.y>=1)o+=90;else return;o=G.Ee(o),o<22.5?e.cursor="e-resize":o<67.5?e.cursor="se-resize":o<112.5?e.cursor="s-resize":o<157.5?e.cursor="sw-resize":o<202.5?e.cursor="w-resize":o<247.5?e.cursor="nw-resize":o<292.5?e.cursor="n-resize":o<337.5?e.cursor="ne-resize":e.cursor="e-resize"}get handleArchetype(){return this.Mr}set handleArchetype(e){this.Mr=e}get handle(){return this.Ss}set handle(e){e!==null&&(e.part instanceof Zt||s.o("new handle is not in an Adornment: "+e)),this.Ss=e}get adornedObject(){return this.Ms}set adornedObject(e){e!==null&&e.part instanceof Zt&&s.o("new handle must not be in an Adornment: "+e),this.Ms=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowResize||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle!==null&&(this.adornedObject=this.handle.part.adornedObject,this.adornedObject!==null&&this.adornedObject.part!==null&&(e.isMouseCaptured=!0,e.animationManager.stopAnimation(),e.Iu=!0,this.startTransaction(this.name),this.zm.set(this.adornedObject.getDocumentPoint(this.handle.alignment.opposite())),this.Ic.set(this.adornedObject.part.location),this.QS.set(this.adornedObject.desiredSize),this.Fx=this.computeCellSize(),this.Dx=this.computeMinSize(),this.vx=this.computeMaxSize(),this.isActive=!0))}doDeactivate(){const e=this.diagram;e.Iu=!1,e.Fl=!0,this.stopTransaction(),this.handle=null,this.Ms=null,e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){this.adornedObject!==null&&this.adornedObject.part!==null&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()}doMouseMove(){const e=this.diagram;if(!this.isActive||this.adornedObject===null||this.handle===null)return;const n=this.Dx,a=this.vx,o=this.Fx,h=e.lastInput.documentPoint,u=this.adornedObject.getLocalPoint(h,N.l()),m=this.computeReshape(),v=this.computeResize(u,this.handle.alignment,n,a,o,m);this.resize(v),e.maybeUpdate(),N.i(u)}doMouseUp(){const e=this.diagram;if(this.isActive&&this.adornedObject!==null&&this.handle!==null){const n=this.Dx,a=this.vx,o=this.Fx,h=this.adornedObject.getLocalPoint(e.lastInput.documentPoint,N.l()),u=this.computeReshape(),m=this.computeResize(h,this.handle.alignment,n,a,o,u);this.resize(m),N.i(h),e.invalidateDocumentBounds(),this.transactionResult=this.name,e.T("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()}resize(e){const n=this.diagram,a=this.adornedObject;if(a===null)return;a.desiredSize=e.size;const o=a.part;if(o===null||this.handle===null)return;o.ensureBounds();const h=a.getDocumentPoint(this.handle.alignment.opposite());if(o instanceof Jt){const u=new w;u.add(o);let m;!this.dragsMembers&&!o.hasPlaceholder()&&(m=new Ir,m.dragsMembers=!1),n.moveParts(u,this.oppositePoint.copy().subtract(h),!0,m)}else o.location=o.location.copy().subtract(h).add(this.oppositePoint);n.maybeUpdate()}computeResize(e,n,a,o,h,u){if(this.adornedObject===null)return W.em;n.isNoSpot()&&(n=K.Center);const m=this.adornedObject.naturalBounds,v=m.x,b=m.y,S=m.x+m.width,A=m.y+m.height;let M=1;if(!u){let V=m.width,q=m.height;V<=0&&(V=1),q<=0&&(q=1),M=q/V}const O=N.l();G.tm(e.x,e.y,v,b,h.width,h.height,O);const R=m.copy();return n.x<=0?n.y<=0?(R.x=Math.max(O.x,S-o.width),R.x=Math.min(R.x,S-a.width),R.width=Math.max(S-R.x,a.width),R.y=Math.max(O.y,A-o.height),R.y=Math.min(R.y,A-a.height),R.height=Math.max(A-R.y,a.height),u||(R.height/R.width>=1?(R.height=Math.max(Math.min(M*R.width,o.height),a.height),R.width=R.height/M):(R.width=Math.max(Math.min(R.height/M,o.width),a.width),R.height=M*R.width),R.x=S-R.width,R.y=A-R.height)):n.y>=1?(R.x=Math.max(O.x,S-o.width),R.x=Math.min(R.x,S-a.width),R.width=Math.max(S-R.x,a.width),R.height=Math.max(Math.min(O.y-b,o.height),a.height),u||(R.height/R.width>=1?(R.height=Math.max(Math.min(M*R.width,o.height),a.height),R.width=R.height/M):(R.width=Math.max(Math.min(R.height/M,o.width),a.width),R.height=M*R.width),R.x=S-R.width)):(R.x=Math.max(O.x,S-o.width),R.x=Math.min(R.x,S-a.width),R.width=S-R.x,u||(R.height=Math.max(Math.min(M*R.width,o.height),a.height),R.width=R.height/M,R.y=b+.5*(A-b-R.height))):n.x>=1?n.y<=0?(R.width=Math.max(Math.min(O.x-v,o.width),a.width),R.y=Math.max(O.y,A-o.height),R.y=Math.min(R.y,A-a.height),R.height=Math.max(A-R.y,a.height),u||(R.height/R.width>=1?(R.height=Math.max(Math.min(M*R.width,o.height),a.height),R.width=R.height/M):(R.width=Math.max(Math.min(R.height/M,o.width),a.width),R.height=M*R.width),R.y=A-R.height)):n.y>=1?(R.width=Math.max(Math.min(O.x-v,o.width),a.width),R.height=Math.max(Math.min(O.y-b,o.height),a.height),u||(R.height/R.width>=1?(R.height=Math.max(Math.min(M*R.width,o.height),a.height),R.width=R.height/M):(R.width=Math.max(Math.min(R.height/M,o.width),a.width),R.height=M*R.width))):(R.width=Math.max(Math.min(O.x-v,o.width),a.width),u||(R.height=Math.max(Math.min(M*R.width,o.height),a.height),R.width=R.height/M,R.y=b+.5*(A-b-R.height))):n.y<=0?(R.y=Math.max(O.y,A-o.height),R.y=Math.min(R.y,A-a.height),R.height=A-R.y,u||(R.width=Math.max(Math.min(R.height/M,o.width),a.width),R.height=M*R.width,R.x=v+.5*(S-v-R.width))):n.y>=1&&(R.height=Math.max(Math.min(O.y-b,o.height),a.height),u||(R.width=Math.max(Math.min(R.height/M,o.width),a.width),R.height=M*R.width,R.x=v+.5*(S-v-R.width))),N.i(O),R}computeReshape(){let e=0;return this.adornedObject instanceof ke&&(e=this.adornedObject._S()),!(e===6||this.diagram.lastInput.shift)}computeMinSize(){if(this.adornedObject===null)return X.bc;const e=this.adornedObject.minSize.copy(),n=this.minSize;return!isNaN(n.width)&&n.width>e.width&&(e.width=n.width),!isNaN(n.height)&&n.height>e.height&&(e.height=n.height),e}computeMaxSize(){if(this.adornedObject===null)return X.DP;const e=this.adornedObject.maxSize.copy(),n=this.maxSize;return!isNaN(n.width)&&n.width<e.width&&(e.width=n.width),!isNaN(n.height)&&n.height<e.height&&(e.height=n.height),e}computeCellSize(){var h;const e=new X(NaN,NaN),n=(h=this.adornedObject)==null?void 0:h.part;if(n){const u=n.resizeCellSize;!isNaN(u.width)&&u.width>0&&(e.width=u.width),!isNaN(u.height)&&u.height>0&&(e.height=u.height)}let a=this.cellSize;isNaN(e.width)&&!isNaN(a.width)&&a.width>0&&(e.width=a.width),isNaN(e.height)&&!isNaN(a.height)&&a.height>0&&(e.height=a.height);const o=this.diagram;if((isNaN(e.width)||isNaN(e.height))&&o){const u=o.grid;u!==null&&u.visible&&this.isGridSnapEnabled&&(a=u.gridCellSize,isNaN(e.width)&&!isNaN(a.width)&&a.width>0&&(e.width=a.width),isNaN(e.height)&&!isNaN(a.height)&&a.height>0&&(e.height=a.height))}return(isNaN(e.width)||e.width===0||e.width===1/0)&&(e.width=1),(isNaN(e.height)||e.height===0||e.height===1/0)&&(e.height=1),e}get minSize(){return this.Cr}set minSize(e){if(!this.Cr.equals(e)){let n=e.width;isNaN(n)&&(n=0);let a=e.height;isNaN(a)&&(a=0),this.Cr.e(n,a)}}get maxSize(){return this.Lr}set maxSize(e){if(!this.Lr.equals(e)){let n=e.width;isNaN(n)&&(n=1/0);let a=e.height;isNaN(a)&&(a=1/0),this.Lr.e(n,a)}}get cellSize(){return this.Oo}set cellSize(e){this.Oo.equals(e)||this.Oo.h(e)}get isGridSnapEnabled(){return this.Oc}set isGridSnapEnabled(e){this.Oc=e}get dragsMembers(){return this.ZS}set dragsMembers(e){this.ZS=e}get oppositePoint(){return this.zm}set oppositePoint(e){this.zm.equals(e)||this.zm.h(e)}get originalDesiredSize(){return this.QS}get originalLocation(){return this.Ic}}class ve extends dt{constructor(e){super();E(this,"tM");E(this,"eM");E(this,"Ms",null);E(this,"Mr",null);E(this,"Rx",null);E(this,"Ss",null);E(this,"iM");E(this,"Xm");E(this,"Ic");E(this,"sM");E(this,"nM");this.name="Rotating",this.tM=45,this.eM=2,this.Ic=new N,this.Ms=null,this.handleArchetype=new ke("Ellipse",{desiredSize:X.Su,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.Ss=null,this.iM=0,this.Xm=new N(NaN,NaN),this.sM=0,this.nM=50,e&&Object.assign(this,e)}updateAdornments(e){if(e!==null){if(e.Ar()){const n=e.rotateObject;if(n===e||n===e.path||n.isPanelMain)return}if(e.isSelected&&!this.diagram.isReadOnly){const n=e.rotateObject;if(n!==null&&e.canRotate()&&e.actualBounds.isReal()&&e.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()){let a=e.findAdornment(this.name);if((a===null||a.adornedObject!==n)&&(a=this.makeAdornment(n)),a!==null){a.angle=n.getDocumentAngle(),a.hasPlaceholder()||(a.location=this.computeAdornmentLocation(n)),e.addAdornment(this.name,a);return}}}e.removeAdornment(this.name)}}makeAdornment(e){var o;let n=null;const a=(o=e.part)==null?void 0:o.rotateAdornmentTemplate;return a?n=a.copy():this.Rx!==null&&(n=this.Rx.copy()),n===null?null:(n.adornedObject=e,n)}get handleArchetype(){return this.Mr}set handleArchetype(e){this.Mr=e,e!==null?this.Rx=new Zt(j.Position,{locationSpot:K.Center}).add(e).It():this.Rx=null}get handle(){return this.Ss}set handle(e){e!==null&&(e.part instanceof Zt||s.o("new handle is not in an Adornment: "+e)),this.Ss=e}get adornedObject(){return this.Ms}set adornedObject(e){e!==null&&e.part instanceof Zt&&s.o("new handle must not be in an Adornment: "+e),this.Ms=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowRotate||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;if(this.adornedObject===null){if(this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle===null)return;this.adornedObject=this.handle.part.adornedObject}this.adornedObject===null||this.adornedObject.part===null||(e.isMouseCaptured=!0,e.delaysLayout=!0,this.startTransaction(this.name),this.iM=this.adornedObject.angle,this.Xm=this.computeRotationPoint(this.adornedObject),this.Ic=this.adornedObject.part.location.copy(),this.isActive=!0)}computeRotationPoint(e){const n=e.part;if(n!==null){const a=n.locationObject;if(n.rotationSpot.isSpot())return e.getDocumentPoint(n.rotationSpot);if(e===n||e===a)return a.getDocumentPoint(n.locationSpot)}return e.getDocumentPoint(K.Center)}computeAdornmentLocation(e){let n=this.rotationPoint;n.isReal()||(n=this.computeRotationPoint(e));const a=e.getLocalPoint(n);let o=this.handleAngle;o=G.Ee(o),o=Math.round(Math.round(o/45)*45);const h=this.handleDistance;return o===0?a.x=e.naturalBounds.width+h:o===45?(a.x=e.naturalBounds.width+h,a.y=e.naturalBounds.height+h):o===90?a.y=e.naturalBounds.height+h:o===135?(a.x=-h,a.y=e.naturalBounds.height+h):o===180?a.x=-h:o===225?(a.x=-h,a.y=-h):o===270?a.y=-h:o===315&&(a.x=e.naturalBounds.width+h,a.y=-h),e.getDocumentPoint(a)}doDeactivate(){const e=this.diagram;this.stopTransaction(),this.handle=null,this.Ms=null,this.Xm=new N(NaN,NaN),e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){const e=this.diagram;e.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()}doMouseMove(){const e=this.diagram;if(this.isActive){const n=this.computeRotate(e.lastInput.documentPoint);this.rotate(n)}}doMouseUp(){const e=this.diagram;if(this.isActive){e.delaysLayout=!1;const n=this.computeRotate(e.lastInput.documentPoint);this.rotate(n),e.invalidateDocumentBounds(),this.transactionResult=this.name,e.T("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()}rotate(e){const n=this.adornedObject;if(n===null||n.part===null)return;n.angle=e;const a=n.part;a.ensureBounds();const o=a.locationObject,h=a.rotateObject;if(o===h||o.isContainedBy(h)){const u=this.Ic.copy();a.location=u.subtract(this.rotationPoint).rotate(e-this.originalAngle).add(this.rotationPoint)}this.diagram.maybeUpdate()}computeRotate(e){var u;let n=this.rotationPoint.directionPoint(e)-this.handleAngle;const a=(u=this.adornedObject)==null?void 0:u.panel;a&&(n-=a.getDocumentAngle()),n=G.Ee(n);const o=Math.min(Math.abs(this.snapAngleMultiple),180),h=Math.min(Math.abs(this.snapAngleEpsilon),o/2);return!this.diagram.lastInput.shift&&o>0&&h>0&&(n%o<h?n=Math.floor(n/o)*o:n%o>o-h&&(n=(Math.floor(n/o)+1)*o)),G.Ee(n)}get snapAngleMultiple(){return this.tM}set snapAngleMultiple(e){this.tM=e}get snapAngleEpsilon(){return this.eM}set snapAngleEpsilon(e){this.eM=e}get originalAngle(){return this.iM}get rotationPoint(){return this.Xm}set rotationPoint(e){this.Xm=e.copy()}get handleAngle(){return this.sM}set handleAngle(e){this.sM=e}get handleDistance(){return this.nM}set handleDistance(e){this.nM=e}}class et extends dt{constructor(i){super(),this.name="ClickSelecting",i&&Object.assign(this,i)}canStart(){return!(!this.isEnabled||this.isBeyondDragSize())}doMouseUp(){this.isActive&&(this.standardMouseSelect(),this.standardMouseClick()||this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()}}class ut extends dt{constructor(e){super();E(this,"Ec");this.name="Action",this.Ec=null,e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram,n=e.lastInput,a=e.findObjectAt(n.documentPoint,o=>{for(;o.panel!==null;){if(o.isActionable)return o;o=o.panel}return o});return a!==null&&a.isActionable?(this.Ec=a,e.vc=e.findObjectAt(n.documentPoint,null,null),!0):!1}doMouseDown(){if(!this.isActive)this.canStart()&&this.doActivate();else{const e=this.diagram.lastInput,n=this.Ec;if(n===null)return;e.targetObject=n,n.actionDown!==null&&n.actionDown(e,n)}}doMouseMove(){if(this.isActive){const e=this.diagram.lastInput,n=this.Ec;if(n===null)return;e.targetObject=n,n.actionMove!==null&&n.actionMove(e,n)}}doMouseUp(){if(this.isActive){const e=this.diagram.lastInput,n=this.Ec;if(n===null)return;e.targetObject=n,n.actionUp!==null&&n.actionUp(e,n),this.standardMouseClick(a=>{for(;a.panel!==null;){if(a.isActionable&&a===n)return a;a=a.panel}return a},a=>a===n)}this.stopTool()}doCancel(){const e=this.diagram.lastInput,n=this.Ec;n!==null&&(e.targetObject=n,n.actionCancel!==null&&n.actionCancel(e,n),this.stopTool())}doStop(){this.Ec=null}}class xt extends dt{constructor(e){super();E(this,"Vl");E(this,"oM");E(this,"Oc");E(this,"rM");this.name="ClickCreating",this.Vl=null,this.oM=!0,this.Oc=!1,this.rM=new N(0,0),e&&Object.assign(this,e)}canStart(){if(!this.isEnabled||this.archetypeNodeData===null)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(e.lastInput.clickCount===1&&(this.rM=e.lastInput.viewPoint.copy()),e.lastInput.clickCount!==2||this.isBeyondDragSize(this.rM))return!1}else if(e.lastInput.clickCount!==1)return!1;return!(e.currentTool!==this&&e.findPartAt(e.lastInput.documentPoint,!0)!==null)}doMouseUp(){const e=this.diagram;this.isActive&&this.insertPart(e.lastInput.documentPoint),this.stopTool()}insertPart(e){const n=this.diagram,a=this.archetypeNodeData;if(a===null)return null;let o=null;try{if(n.T("ChangingSelection",n.selection),this.startTransaction(this.name),a instanceof Et)a.Di()&&(a.It(),o=a.copy(),o!==null&&n.add(o));else if(a!==null){const h=n.model.copyNodeData(a);n.model.addNodeData(h),o=n.findPartForData(h)}if(o!==null){const h=N.z(e.x,e.y);this.isGridSnapEnabled&&this.diagram.lM(o,e,h),o.location=h,n.allowSelect&&(n.clearSelection(!0),o.isSelected=!0),N.i(h)}n.invalidateDocumentBounds(),this.transactionResult=this.name,n.T("PartCreated",o)}finally{this.stopTransaction(),n.T("ChangedSelection",n.selection)}return o}get archetypeNodeData(){return this.Vl}set archetypeNodeData(e){e!==null&&s.xc(e,xt,"archetypeNodeData"),this.Vl=e}get isDoubleClick(){return this.oM}set isDoubleClick(e){this.oM=e}get isGridSnapEnabled(){return this.Oc}set isGridSnapEnabled(e){this.Oc=e}}class wt extends dt{constructor(e){super();E(this,"th");E(this,"aM");E(this,"Bl");this.name="DragSelecting",this.th=175,this.aM=!1,this.Bl=new Et({layerName:"Tool",selectable:!1}).add(new ke("Rectangle",{name:"SHAPE",fill:null,stroke:"magenta"}).theme("stroke","dragSelect")).It(),e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(!e.allowSelect)return!1;const n=e.lastInput;return!(!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.timestamp-e.firstInput.timestamp<this.delay||e.findPartAt(n.documentPoint,!0)!==null))}doActivate(){const e=this.diagram;this.isActive=!0,e.isMouseCaptured=!0,e.skipsUndoManager=!0,this.box&&e.add(this.box),this.doMouseMove()}doDeactivate(){const e=this.diagram;e.stopAutoScroll(),this.box&&e.remove(this.box),e.skipsUndoManager=!1,e.isMouseCaptured=!1,this.isActive=!1}doMouseMove(){const e=this.diagram;if(this.isActive&&this.box!==null){const n=this.computeBoxBounds();let a=this.box.findObject("SHAPE");a===null&&(a=this.box.findMainElement());const o=X.l().e(n.width,n.height);a!==null&&(a.desiredSize=o),this.box.Uc(n.x,n.y,!1),X.i(o),(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(e.lastInput.viewPoint)}}doMouseUp(){if(this.isActive){const e=this.diagram;this.box&&e.remove(this.box);try{e.currentCursor="wait",e.T("ChangingSelection",e.selection),this.selectInRect(this.computeBoxBounds()),e.T("ChangedSelection",e.selection)}finally{e.currentCursor=""}}this.stopTool()}computeBoxBounds(){const e=this.diagram;return new W(e.firstInput.documentPoint,e.lastInput.documentPoint)}selectInRect(e){const n=this.diagram,a=n.lastInput,o=n.findPartsIn(e,this.isPartialInclusion);if(s.ur?a.meta:a.control)if(a.shift){const h=o.iterator;for(;h.next();){const u=h.value;u.isSelected&&(u.isSelected=!1)}}else{const h=o.iterator;for(;h.next();){const u=h.value;u.isSelected=!u.isSelected}}else if(a.shift){const h=o.iterator;for(;h.next();){const u=h.value;u.isSelected||(u.isSelected=!0)}}else{const h=new w,u=n.selection.iterator;for(;u.next();){const b=u.value;o.has(b)||h.add(b)}const m=h.iterator;for(;m.next();){const b=m.value;b.isSelected=!1}const v=o.iterator;for(;v.next();){const b=v.value;b.isSelected||(b.isSelected=!0)}}}get delay(){return this.th}set delay(e){this.th=e}get isPartialInclusion(){return this.aM}set isPartialInclusion(e){this.aM=e}get box(){return this.Bl}set box(e){e!==null&&e.It(),this.Bl=e}}class gt extends dt{constructor(e){super();E(this,"Ox");E(this,"LA");E(this,"Ro");E(this,"hM");this.name="Panning",this.Ox=new N,this.LA=new N,this.Ro=!1;const n=this;this.hM=()=>{const a=n.diagram;a!==null&&a.Le(t.document,"scroll",n.hM,!1),n.stopTool()},e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return!(!e.allowHorizontalScroll&&!e.allowVerticalScroll||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())}doActivate(){const e=this.diagram;this.Ro?(e.lastInput.bubbles=!0,e.Et(t.document,"scroll",this.hM,!1)):(e.currentCursor="move",e.isMouseCaptured=!0,this.Ox.h(e.position)),this.isActive=!0}doDeactivate(){const e=this.diagram;e.currentCursor="",e.isMouseCaptured=!1,this.isActive=!1}doCancel(){const e=this.diagram;e.position=this.Ox,e.isMouseCaptured=!1,this.stopTool()}doMouseMove(){this.AA()}doMouseUp(){this.AA(),this.stopTool()}AA(){const e=this.diagram;if(this.isActive&&e){if(this.Ro){e.lastInput.bubbles=!0;return}const n=e.position,a=e.firstInput.documentPoint,o=e.lastInput.documentPoint;let h=n.x+a.x-o.x,u=n.y+a.y-o.y;e.allowHorizontalScroll||(h=n.x),e.allowVerticalScroll||(u=n.y),e.position=this.LA.e(h,u)}}get bubbles(){return this.Ro}set bubbles(e){this.Ro=e}get originalPosition(){return this.Ox}}class Ht{constructor(i){E(this,"Ix");E(this,"Ex");E(this,"cM");E(this,"fM");this.Ix=null,this.Ex=null,this.cM=null,this.fM=null,i&&Object.assign(this,i)}get mainElement(){return this.cM}set mainElement(i){this.cM=i}get show(){return this.Ix}set show(i){this.Ix!==i&&(this.Ix=i)}get hide(){return this.Ex}set hide(i){this.Ex!==i&&(this.Ex=i)}get valueFunction(){return this.fM}set valueFunction(i){this.fM=i}}class _t{constructor(i,e,n){E(this,"ue");E(this,"Ux");E(this,"Vc");this.ue=i,this.Ux=e,this.Vc=n}}const Wn=class extends dt{constructor(e){super();E(this,"uM");E(this,"Vx");E(this,"dM");E(this,"gM");E(this,"Bx");E(this,"zx");E(this,"Gm");this.name="ContextMenu",this.uM=null,this.Vx=null,this.dM=null,this.gM=new N,this.Bx=null,this.Gm=!1;const n=this;this.zx=()=>n.stopTool(),e&&Object.assign(this,e)}xR(){const e=new Ht;e.show=(m,v,b)=>b.showDefaultContextMenu(),e.hide=(m,v)=>v.hideDefaultContextMenu(),Wn.Bu=e;const n=this;this.zx=()=>n.stopTool();const a=s.Ni("div"),o=s.Ni("div");a.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",o.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";const h=s.Ni("style");t.document.getElementsByTagName("head")[0].appendChild(h),h.sheet.insertRule(".goCXul { list-style: none; }",0),h.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),h.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);const u=this.diagram;u!==null&&(u.Et(a,"contextmenu",Wn.oh,!1),u.Et(a,"selectstart",Wn.oh,!1),u.Et(o,"contextmenu",Wn.oh,!1)),a.className="goCXforeground",o.className="goCXbackground",t.document.body&&(t.document.body.appendChild(a),t.document.body.appendChild(o)),Wn.Ym=a,Wn.Km=o,Wn.mM=!0}static oh(e){return e.preventDefault(),!1}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return this.isBeyondDragSize()||!e.lastInput.right||e.lastInput.clickCount>1?!1:!!(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu!==null||this.findObjectWithContextMenu()!==null)}doStart(){const e=this.diagram;this.gM.set(e.firstInput.documentPoint)}doStop(){this.hideContextMenu(),this.currentObject=null,this.Gm=!1}findObjectWithContextMenu(e){e===void 0&&(e=null);const n=this.diagram,a=n.lastInput;let o=null;if(e instanceof Ft||(e instanceof oi?o=e:o=n.findObjectAt(a.documentPoint,null,h=>{var u;return!((u=h.layer)!=null&&u.isTemporary)})),o!==null){let h=o;for(;h!==null;){if(h.contextMenu!==null)return h;h=h.panel}if(n.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return o.part}else if(n.contextMenu!==null)return n;return null}doActivate(){}doMouseDown(){if(super.doMouseDown(),this.isActive&&this.currentContextMenu instanceof Zt){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.canStart()&&(e.doActivate(),e.doMouseDown(),e.doDeactivate())}this.diagram.toolManager.mouseDownTools.has(this)&&this.doContextClick()}doMouseUp(){if(this.isActive&&this.currentContextMenu instanceof Zt){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.canStart()&&(e.doActivate(),e.doCancel(),e.doDeactivate())}this.doContextClick()}doContextClick(){const e=this.diagram;if(!this.isActive)this.canStart()&&(this.openMenu(!0),this.isActive||this.stopTool());else{const n=this.currentContextMenu;if(n===null)return;let a=null;n instanceof Ht||(a=e.findObjectAt(e.lastInput.documentPoint,null,null),a!==null&&a.isContainedBy(n)&&this.standardMouseClick(null,null)),this.maybeStopTool(a)}}maybeStopTool(e){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())}openMenu(e,n){if(n===void 0&&(n=null),this.Gm)return;this.Gm=!0;let a=!1;if(n instanceof Ft){const o=this.diagram.lastInput;o.targetObject=null,a=this.oA(null,o,this.diagram)}else e&&this.standardMouseSelect(),a=this.standardMouseClick();if(this.Gm=!1,!a){this.isActive=!0;const o=Wn.Bu;if(n===null&&(n=this.findObjectWithContextMenu()),n!==null){const h=n.contextMenu;h!==null?(this.currentObject=n instanceof oi?n:null,this.showContextMenu(h,this.currentObject)):o!==null&&this.showContextMenu(o,this.currentObject)}else o!==null&&this.showContextMenu(o,null);this.currentContextMenu instanceof Zt&&!this.currentContextMenu.visible&&this.stopTool()}}doMouseMove(){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()}showContextMenu(e,n){const a=this.diagram;if(e!==this.currentContextMenu&&this.hideContextMenu(),e instanceof Zt){const o=e;o.layerName="Tool",o.selectable=!1,o.scale=1/a.scale,o.category=this.name,o.hasPlaceholder()&&(o.placeholder.scale=a.scale);const h=o.diagram;h!==null&&h!==a&&h.remove(o),a.add(o),n!==null?o.adornedObject=n:o.data=a.model,o.ensureBounds(),this.positionContextMenu(o,n)}else e instanceof Ht&&e.show!==null&&e.show(n,a,this);this.currentContextMenu=e}positionContextMenu(e,n){if(e.hasPlaceholder())return;const a=e,o=this.diagram,h=o.lastInput.documentPoint.copy(),u=a.measuredBounds,m=o.viewportBounds;o.lastInput.isTouchEvent&&(h.x-=u.width),h.x+u.width>m.right&&(h.x-=u.width+5/o.scale),h.x<m.x&&(h.x=m.x),h.y+u.height>m.bottom&&(h.y-=u.height+5/o.scale),h.y<m.y&&(h.y=m.y),a.position=h}hideContextMenu(){const e=this.diagram,n=this.currentContextMenu;n!==null&&(n instanceof Zt?(e.remove(n),this.Vx!==null&&this.Vx.removeAdornment(n.category),n.data=null,n.adornedObject=null):n instanceof Ht&&(n.hide!==null?n.hide(e,this):n.mainElement!==null&&(n.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())}bR(){const e=this,n=new w;return n.add(new _t("Copy",a=>a.commandHandler.copySelection(),a=>a.commandHandler.canCopySelection())),n.add(new _t("Cut",a=>a.commandHandler.cutSelection(),a=>a.commandHandler.canCutSelection())),n.add(new _t("Delete",a=>a.commandHandler.deleteSelection(),a=>a.commandHandler.canDeleteSelection())),n.add(new _t("Paste",a=>a.commandHandler.pasteSelection(e.mouseDownPoint),a=>a.commandHandler.canPasteSelection(e.mouseDownPoint))),n.add(new _t("Select All",a=>a.commandHandler.selectAll(),a=>a.commandHandler.canSelectAll())),n.add(new _t("Undo",a=>a.commandHandler.undo(),a=>a.commandHandler.canUndo())),n.add(new _t("Redo",a=>a.commandHandler.redo(),a=>a.commandHandler.canRedo())),n.add(new _t("Scroll To Part",a=>a.commandHandler.scrollToPart(),a=>a.commandHandler.canScrollToPart())),n.add(new _t("Zoom To Fit",a=>a.commandHandler.zoomToFit(),a=>a.commandHandler.canZoomToFit())),n.add(new _t("Reset Zoom",a=>a.commandHandler.resetZoom(),a=>a.commandHandler.canResetZoom())),n.add(new _t("Group Selection",a=>a.commandHandler.groupSelection(),a=>a.commandHandler.canGroupSelection())),n.add(new _t("Ungroup Selection",a=>a.commandHandler.ungroupSelection(),a=>a.commandHandler.canUngroupSelection())),n.add(new _t("Edit Text",a=>a.commandHandler.editTextBlock(),a=>a.commandHandler.canEditTextBlock())),n}showDefaultContextMenu(){const e=this.diagram;this.Bx===null&&(this.Bx=this.bR()),Wn.Ym.innerHTML="",Wn.Km.addEventListener("pointerdown",this.zx,!1);const n=this,a=s.Ni("ul");a.className="goCXul",Wn.Ym.appendChild(a),a.innerHTML="";const o=this.Bx.iterator;for(;o.next();){const h=o.value,u=h.Ux,m=h.Vc;if(!s.st(u)||s.st(m)&&!m(e))continue;const v=s.Ni("li");v.className="goCXli";const b=s.Ni("a");b.className="goCXa",b.href="#",b.Ux=u,b.addEventListener("pointerdown",function(S){return this.Ux(e),n.stopTool(),S.preventDefault(),!1},!1),b.textContent=h.ue,v.appendChild(b),a.appendChild(v)}Wn.Ym.style.display="block",Wn.Km.style.display="block"}hideDefaultContextMenu(){if(this.currentContextMenu===null||this.currentContextMenu!==Wn.Bu)return;Wn.Ym.style.display="none",Wn.Km.style.display="none";const e=this.diagram;e!==null&&e.Le(Wn.Km,"pointerdown",this.zx,!1),this.currentContextMenu=null}doMouseWheel(){this.standardMouseWheel()}get currentContextMenu(){return this.uM}set currentContextMenu(e){this.uM=e,this.Vx=e instanceof Zt?e.adornedPart:null}get defaultTouchContextMenu(){return Wn.mM===!1&&Wn.Bu===null&&Ft.isUsingDOM()&&this.xR(),Wn.Bu}set defaultTouchContextMenu(e){e===null&&(Wn.mM=!0),Wn.Bu=e}get currentObject(){return this.dM}set currentObject(e){this.dM=e}get mouseDownPoint(){return this.gM}};let Wt=Wn;E(Wt,"Bu",null),E(Wt,"mM",!1),E(Wt,"Km"),E(Wt,"Ym");var Rt=(ee=>(ee[ee.LostFocus=1]="LostFocus",ee[ee.MouseDown=2]="MouseDown",ee[ee.Tab=3]="Tab",ee[ee.Enter=4]="Enter",ee))(Rt||{}),vi=(ee=>(ee[ee.SingleClick=1]="SingleClick",ee[ee.SingleClickSelected=2]="SingleClickSelected",ee[ee.DoubleClick=3]="DoubleClick",ee))(vi||{}),di=(ee=>(ee[ee.None=1]="None",ee[ee.Active=2]="Active",ee[ee.Editing=3]="Editing",ee[ee.Validating=4]="Validating",ee[ee.Invalid=5]="Invalid",ee[ee.Validated=6]="Validated",ee))(di||{});const Do=class extends dt{constructor(e){super();E(this,"vi");E(this,"pM");E(this,"yM");E(this,"zl");E(this,"Gt");E(this,"wM");E(this,"xM");E(this,"bM");E(this,"Xx");E(this,"Gx");this.name="TextEditing",this.vi=new Se,this.pM=null,this.yM=2,this.zl=null,this.Gt=1,this.wM=1,this.xM=!0,this.bM=null,this.Xx=new Ht,this.Gx=null,this.kR(this.Xx),e&&Object.assign(this,e)}kR(e){if(!Ft.isUsingDOM())return;const n=s.Ni("textarea");this.Gx=n;const a=this;n.addEventListener("input",function(o){if(a.textBlock===null)return;const h=a.measureTemporaryTextBlock(this.value),u=this.textScale;this.style.width=20+Math.max(a.textBlock.measuredBounds.width,h.measuredBounds.width)*u+"px",this.rows=Math.max(a.textBlock.lineCount,h.lineCount)},!1),n.addEventListener("keydown",function(o){if(o.isComposing||a.textBlock===null)return;const h=o.key;if(h==="Enter"){a.textBlock.isMultiline===!1&&o.preventDefault(),a.acceptText(4);return}else if(h==="Tab"){a.acceptText(3),o.preventDefault();return}else h==="Escape"&&(a.doCancel(),a.diagram!==null&&a.diagram.doFocus())},!1),n.addEventListener("focus",function(o){a.PR(o)},!1),n.addEventListener("blur",function(o){a.SR(o)},!1),e.valueFunction=()=>n.value,e.mainElement=n,e.show=(o,h,u)=>{if(!(o instanceof Se)||!h||!h.div||!(u instanceof Do))return;if(u.state===5){n.style.border="3px solid red",n.focus();return}const m=o.getDocumentPoint(K.Center),v=h.position,b=h.scale;let S=o.getDocumentScale()*b;S<u.minimumEditorScale&&(S=u.minimumEditorScale);const A=o.naturalBounds.width*S+6,M=o.naturalBounds.height*S+2,O=(m.x-v.x)*b,R=(m.y-v.y)*b,V=o.verticalAlignment,q=(o.lineHeight+o.spacingAbove+o.spacingBelow)*o.lineCount*S,J=.5*M-.5*q,re=V.y*M-V.y*q+V.offsetY-J-q/2;n.value=o.text,h.div.style.font=o.font;const se=1;n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=S*100+"%",n.style.lineHeight="normal",n.style.width=A+"px",n.style.left=(O-A/2|0)-se+"px",n.style.top=(R+re|0)-se+"px",n.style.textAlign=o.textAlign,n.style.margin="0",n.style.padding=se+"px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=o.lineCount,n.textScale=S,n.className="goTXarea",h.div.appendChild(n),n.focus(),u.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))},e.hide=(o,h)=>{o.div&&o.div.removeChild(n)}}get textBlock(){return this.pM}set textBlock(e){this.pM=e}get currentTextEditor(){return this.bM}set currentTextEditor(e){this.bM=e}get defaultTextEditor(){return this.Xx}set defaultTextEditor(e){this.Xx=e}get starting(){return this.yM}set starting(e){this.yM=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||e.isReadOnly||Do.Bc&&Do.Bc!==this&&(Do.Bc.acceptText(2),Do.Bc&&Do.Bc!==this)||!e.lastInput.left||this.isBeyondDragSize())return!1;const n=e.lastInput.documentPoint,a=e.findObjectAt(n);if(a===null||!(a instanceof Se)||!a.editable||a.part===null||!a.part.canEdit())return!1;const o=a.part;return!(o===null||this.starting===2&&!o.isSelected||this.starting===3&&e.lastInput.clickCount<2)}doStart(){Do.Bc=this,this.textBlock!==null&&this.doActivate()}doActivate(){if(this.isActive)return;const e=this.diagram;if(e===null)return;let n=this.textBlock;if(n===null&&(n=e.findObjectAt(e.lastInput.documentPoint)),n===null||!(n instanceof Se)||(this.textBlock=n,n.part===null))return;e.animationManager.stopAnimation(),this.isActive=!0,this.Gt=2;let a=this.defaultTextEditor;n.textEditor!==null&&(a=n.textEditor),this.vi=this.textBlock.copy();const o=new W(this.textBlock.getDocumentPoint(K.TopLeft),this.textBlock.getDocumentPoint(K.BottomRight));e.scrollToRect(o),a!==null&&a.show!==null&&a.show(n,e,this),this.currentTextEditor=a}doCancel(){this.stopTool()}doMouseUp(){this.canStart()&&this.doActivate()}doMouseDown(){this.isActive&&this.acceptText(2)}acceptText(e){switch(e){case 2:this.Gt===6?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.Gt===2||this.Gt===5||this.Gt===3)&&(this.Gt=4,this.TA());break;case 1:case 4:case 3:if(e===4&&this.textBlock!==null&&this.textBlock.isMultiline===!0)return;(this.Gt===2||this.Gt===5||this.Gt===3)&&(this.Gt=4,this.TA());break}}TA(){const e=this.textBlock,n=this.diagram,a=this.currentTextEditor;if(e!==null&&a!==null){const o=e.text;let h="";if(a.valueFunction!==null&&(h=a.valueFunction()),!this.isValidText(e,o,h)){this.Gt=5,this.doError(o,h);return}this.startTransaction(this.name),this.Gt=6,this.transactionResult=this.name,e.text=h,this.doSuccess(o,h),n!==null&&n.T("TextEdited",e,o),this.stopTransaction(),this.stopTool(),n!==null&&n.doFocus()}}doError(e,n){const a=this.textBlock;if(a===null)return;a.errorFunction!==null&&a.errorFunction(this,e,n);const o=this.currentTextEditor;o!==null&&o.show!==null&&o.show(a,this.diagram,this)}doSuccess(e,n){const a=this.textBlock;a!==null&&a.textEdited!==null&&a.textEdited(a,e,n)}doDeactivate(){const e=this.diagram;if(e!==null){if(this.Gt=1,this.currentTextEditor!==null){const n=this.currentTextEditor;n!==null&&n.hide!==null&&n.hide(e,this)}this.textBlock=null,this.isActive=!1}}doStop(){Do.Bc=null}PR(e){if(this.currentTextEditor===null||this.state===1)return;const n=this.Gx;this.Gt===2&&(this.Gt=3),s.st(n.select)&&this.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}SR(e){if(this.currentTextEditor===null||this.state===1)return;const n=this.Gx;s.st(n.focus)&&n.focus(),s.st(n.select)&&this.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}isValidText(e,n,a){const o=this.textValidation;if(o!==null&&!o(e,n,a))return!1;const h=e.textValidation;return!(h!==null&&!h(e,n,a))}get textValidation(){return this.zl}set textValidation(e){this.zl=e}get minimumEditorScale(){return this.wM}set minimumEditorScale(e){this.wM=e}get selectsTextOnActivate(){return this.xM}set selectsTextOnActivate(e){this.xM=e}get state(){return this.Gt}set state(e){this.Gt!==e&&(this.Gt=e)}measureTemporaryTextBlock(e){const n=this.vi;return n.text=e,this.textBlock!==null&&n.ht(this.textBlock.Xl,1/0),n}};let ei=Do;E(ei,"LostFocus",1),E(ei,"MouseDown",2),E(ei,"Tab",3),E(ei,"Enter",4),E(ei,"SingleClick",1),E(ei,"SingleClickSelected",2),E(ei,"DoubleClick",3),E(ei,"StateNone",1),E(ei,"StateActive",2),E(ei,"StateEditing",3),E(ei,"StateValidating",4),E(ei,"StateInvalid",5),E(ei,"StateValidated",6),E(ei,"Bc",null);var Si=(ee=>(ee[ee.Default=1]="Default",ee[ee.AnimateLocations=2]="AnimateLocations",ee[ee.None=3]="None",ee))(Si||{});const _0=class{constructor(i){E(this,"a");E(this,"Ae");E(this,"Be");E(this,"Tr");E(this,"_n");E(this,"Io");E(this,"kM");E(this,"PM");E(this,"Hm");E(this,"Yx");E(this,"ke");E(this,"zc");E(this,"bn");E(this,"jm");E(this,"lh");E(this,"Kx");E(this,"qm");E(this,"Hx");E(this,"Xc");E(this,"Uu");E(this,"Wm");this.a=Ft.Om(),this.Ae=!1,this.Hm=!1,this.Yx=!1,this.ke=!1,this.zc=!1,this.Hx=!0,this.Xc=1,this.Uu=!1,this.Be=!0,this.Tr=!0,this.Io=600,this.kM=!1,this.PM=!1,this._n=new C,this.bn=new Oi,this.jm=new Oi,this.bn.Ns=this,this.lh=new C,this.Kx=new C,this.qm=new C,this.Wm=new C,i&&Object.assign(this,i)}Eo(i){this.a=i}RU(){return this.a}canStart(i){return!0}Gl(i){return!this.Be||!this.canStart(i)?!1:(this._n.add(i),this.defaultAnimation.isAnimating&&this.stopAnimation(),this.a.Te(),this.ke=!0,!0)}getBundleAnimation(){return this.jm}SM(){if(!this.Be||(this.jm.yi.count>0&&this.jm.start(),!this.ke))return;const i=this.bn,e=this.a,n=this._n.has("Model");if(n&&(this.zc=!0,this.Xc===1?(i.isViewportUnconstrained=!0,i.yi.clear(),i.add(e,"position",e.position.copy().offset(0,-200),e.position),i.add(e,"opacity",0,1)):this.Xc===3&&i.yi.clear(),this.Xc===2&&e.jx.equals(e.ct)?this.Hx=!0:this.Hx=!1,e.T("InitialAnimationStarting",this)),n&&!this.Tr||i.yi.count===0){this._n.clear(),this.ke=!1,i.yi.clear(),i.qx(e),this.zc=!1,e.C();return}this._n.clear(),e.Dr=!1;const a=i.yi.get(e);e.autoScale!==1&&a!==null&&(delete a.ae.scale,delete a.Cs.scale);const o=this;t.requestAnimationFrame(()=>{o.ke===!1||i.Ae||(e.getRenderingHint("temporaryPixelRatio")&&e.Cx(),e.MM(),o.ke=!1,i.start(),i.Ae&&(o.zu(),e.invalidateDocumentBounds(),i.DA(0),e.Sr(!0),o.Xu(),e.T("AnimationStarting",o)))})}NM(){return this._n.has("Trigger")&&this._n.count===1}vA(i,e,n,a){this.isTicking||this.NM()||i instanceof yt&&(i.fromNode!==null||i.toNode!==null)||this.bn.add(i,"position",e,n,a)}Wx(i){return this.bn.Wx(i)}CM(i){return this.bn.CM(i)}MR(i){const e=this.lh,n=this;function a(){if(n.qm.count>0&&(e.addAll(n.qm),n.qm.clear(),n.Ae=!0),n.Ae===!1||e.count===0){n.Yx=!1;return}n.Kx.addAll(e);const o=n.Kx.iterator;for(;o.next();){const h=o.value;h.Ae!==!1&&(h.NR()?h.FA(!1):h.Gc=!0)}if(n.Kx.clear(),n.Ae===!1){t.requestAnimationFrame(a);return}n.zu(),n.a.Sr(),n.Xu(),t.requestAnimationFrame(a)}this.Ae?this.RA(i):(this.Ae=!0,this.Yx?this.RA(i):(this.Yx=!0,e.add(i),t.requestAnimationFrame(()=>a())))}RA(i){this.qm.add(i)}CR(){const i=this.lh.iterator;for(;i.next();)i.value.Gc=!1}zu(){if(this.Hm)return;const i=this.a;this.kM=i.skipsUndoManager,this.PM=i.wi,i.skipsUndoManager=!0,i.wi=!0,this.Hm=!0}Xu(){const i=this.a;i.skipsUndoManager=this.kM,i.wi=this.PM,this.Hm=!1}stopAnimation(i){const e=this.bn;if(this.ke===!0&&(this.ke=!1,this.zc=!1,this._n.clear(),e.LR()&&this.a.requestUpdate()),!this.Ae){e.yi.clear(),e.qx(this.a);return}if(e.Gu(!0),e.qx(null),i===!0){const n=this.lh.toArray();for(let a=0;a<n.length;a++)n[a].Gu(!0)}}Gu(i){this.lh.delete(i),this.lh.count===0&&(this.Ae=!1,this.a.requestUpdate()),i===this.defaultAnimation&&this.a.T("AnimationFinished",this)}Yc(i,e){this.ke&&(!this._n.has("Expand Tree")&&!this._n.has("Expand SubGraph")||(this.bn.Yc(i,e),this.OA(i)))}Kc(i,e){this.ke&&(!this._n.has("Collapse Tree")&&!this._n.has("Collapse SubGraph")||(this.bn.Kc(i,e),this.bn.LM(e,"position",e.position,e.position),this.OA(i)))}IA(i,e){!this.ke||i.equals(e)||this.NM()||(this.a.Qa||(i=e.copy()),this.bn.LM(this.a,"position",i,e))}EA(i,e){this.ke&&(this.NM()||this.bn.add(this.a,"scale",i,e))}AM(i,e){i.Fi&&(i.vr=e,this.Wm.add(i))}OA(i){const e=i.findLinksConnected();for(;e.next();){const n=e.value;n.Fi&&(n.vr=n.points.copy(),this.Wm.add(n))}}get isEnabled(){return this.Be}set isEnabled(i){this.Be=i,i&&this.lh.each(e=>{!e.isAnimating&&e.runCount===1/0&&e.start()})}get duration(){return this.Io}set duration(i){i<1&&s.J(i,">= 1",_0,"duration"),this.Io=i}get isAnimating(){return this.Ae}get isTicking(){return this.Hm}get isInitial(){return this.Tr}set isInitial(i){this.Tr=i}get defaultAnimation(){return this.bn}get activeAnimations(){return this.lh}get initialAnimationStyle(){return this.Xc}set initialAnimationStyle(i){this.Xc=i}static defineAnimationEffect(i,e){_0.Jx.set(i,e)}static TM(i,e,n,a,o){i===null&&(i=[0,0,0,0]),e===null&&(e=[0,0,0,0]);let h=i[0],u=i[1];const m=i[2],v=i[3];let b=e[0],S=e[1];const A=e[2],M=e[3];m===0||m===100?(h=b,u=S):(A===0||A===100)&&(b=h,S=u),Math.abs(b-h)>180&&(b>h?h+=360:b+=360);const O=o(n,h,b-h,a)%360,R=o(n,u,S-u,a),V=o(n,m,A-m,a),q=o(n,v,M-v,a);return"hsla("+O+", "+R+"%, "+V+"%, "+q+")"}};let mi=_0;E(mi,"Jx",new Q),E(mi,"Default",1),E(mi,"AnimateLocations",2),E(mi,"None",3);{const ee=mi.Jx,i=(e,n,a,o,h,u)=>{e.position=new N(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u))};ee.set("position:diagram",i),ee.set("position",i),ee.set("position:part",(e,n,a,o,h,u)=>{h<u?e.Uc(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u),!1):e.position=new N(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u))}),ee.set("location",(e,n,a,o,h,u)=>{h<u?e.Uc(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u),!0):e.location=new N(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u))}),ee.set("position:placeholder",(e,n,a,o,h,u)=>{h<u?e.Uc(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u),!1):e.position=new N(o(h,n.x,a.x-n.x,u),o(h,n.y,a.y-n.y,u))}),ee.set("position:nodeCollapse",(e,n,a,o,h,u)=>{const m=e.actualBounds,v=a.actualBounds,b=v.x+v.width/2-m.width/2,S=v.y+v.height/2-m.height/2;h<u?e.Uc(o(h,n.x,b-n.x,u),o(h,n.y,S-n.y,u),!1):e.position=new N(o(h,n.x,b-n.x,u),o(h,n.y,S-n.y,u))}),ee.set("desiredSize",(e,n,a,o,h,u)=>{e.desiredSize=new X(o(h,n.width,a.width-n.width,u),o(h,n.height,a.height-n.height,u))}),ee.set("width",(e,n,a,o,h,u)=>{e.width=o(h,n,a-n,u)}),ee.set("height",(e,n,a,o,h,u)=>{e.height=o(h,n,a-n,u)}),ee.set("fill",(e,n,a,o,h,u)=>{e.fill=mi.TM(n,a,h,u,o)}),ee.set("stroke",(e,n,a,o,h,u)=>{e.stroke=mi.TM(n,a,h,u,o)}),ee.set("strokeWidth",(e,n,a,o,h,u)=>{e.strokeWidth=o(h,n,a-n,u)}),ee.set("strokeDashOffset",(e,n,a,o,h,u)=>{e.strokeDashOffset=o(h,n,a-n,u)}),ee.set("background",(e,n,a,o,h,u)=>{e.background=mi.TM(n,a,h,u,o)}),ee.set("opacity",(e,n,a,o,h,u)=>{e.opacity=o(h,n,a-n,u)}),ee.set("scale",(e,n,a,o,h,u)=>{e.scale=o(h,n,a-n,u)}),ee.set("angle",(e,n,a,o,h,u)=>{e.angle=o(h,n,a-n,u)})}const Xl=class{constructor(i){E(this,"$x");E(this,"Jm");E(this,"Ae");E(this,"Yu");E(this,"Io");E(this,"Ls");E(this,"UA");E(this,"Hc");E(this,"yi");E(this,"Zx");E(this,"ae");E(this,"to");E(this,"Ku");E(this,"jc");E(this,"Qx");E(this,"_x");E(this,"Gc");E(this,"DM");E(this,"tb");E(this,"Ns");E(this,"a");E(this,"vM");E(this,"FM");E(this,"RM");this.a=null,this.Ns=null,this.DM=null,this.tb=null,this.vM=!1,this.Ae=!1,this.Gc=!1,this.ae=0,this.to=0,this.$x=Xl.EaseInOutQuad,this.Jm=Xl.EaseInOutQuad,this.Ku=!1,this.jc=!1,this.Qx=1,this._x=0,this.Io=NaN,this.Ls=NaN,this.FM=0,this.Yu=null,this.UA=N.gn,this.yi=new Q,this.Zx=new Q,this.Hc=new C,this.RM=1,i&&Object.assign(this,i)}suspend(){this.Gc=!0}advanceTo(i,e){e&&(this.Gc=!1),this.Ku&&i>=this.Ls&&(this.jc=!0,i=i-this.Ls),this.FM=i,this.FA(!0),this.Ns.zu(),this.a.Sr(),this.Ns.Xu(),this.a.redraw()}qx(i){if(this.Zx.clear(),this.jc=!1,this._x=0,this.Ls=NaN,this.Hc.count>0&&this.Hc.clear(),i!==null){const e=i.links;for(;e.next();)e.value.vr=null}}LR(){return this.yi.count>0}start(){if(this.yi.count===0)return this;if(this.Ae)return this;let i=this.a;const e=this.yi.iterator;for(;e.next();){const a=e.key;i===null&&(a instanceof Ft?i=a:a instanceof oi&&(i=a.diagram))}if(i!==null)this.a=i,this.Ns=i.animationManager;else return this;const n=this.Ns;return n.isEnabled===!1?this:(this.Ls=isNaN(this.Io)?n.duration:this.Io,this.Jm=this.$x,n.zc&&n.Xc===1&&this===n.defaultAnimation&&(this.Jm=Xl.EaseOutExpo,this.Ls=isNaN(this.Io)?n.duration===600?900:n.duration:this.Io),this.RM=i.scrollMode,this.isViewportUnconstrained&&(i.ah=2),n.zu(),this.Hc.each(a=>{a.data=null,i.add(a)}),n.Xu(),this.Ae=!0,this.ae=+new Date,this.to=this.ae+this.Ls,n.MR(this),this)}addTemporaryPart(i,e){return i.Di()?(this.Hc.add(i),this.a=e,this):this}add(i,e,n,a,o){if(this.a===null&&(i instanceof Ft?this.a=i:i instanceof oi&&i.diagram!==null&&(this.a=i.diagram)),i instanceof Et){if(!i.isAnimated)return this;e==="position"&&(e="position:part")}return this.LM(i,e,n,a,o),this}LM(i,e,n,a,o){const h=this.yi;let u,m,v;if(i instanceof Ft&&e==="position"&&(e="position:diagram"),(e==="fill"||e==="stroke"||e==="background")&&(Le.Uo(n),Le.OM(),n=[Le.ze.n0,Le.ze.n1,Le.ze.n2,Le.ze.n3],Le.Uo(a),Le.OM(),a=[Le.ze.n0,Le.ze.n1,Le.ze.n2,Le.ze.n3]),h.has(i))u=h.get(i),m=u.ae,v=u.Cs,m[e]===void 0&&(m[e]=this.Hu(n)),v[e]=this.Hu(a);else{if(e==="position"&&n.equalsApprox(a))return;m={},v={},m[e]=this.Hu(n),v[e]=this.Hu(a),u=new _i(m,v,o),h.set(i,u)}const b=m[e];b instanceof N&&!b.isReal()&&b.h(this.UA),o&&e.indexOf("position:")===0&&i instanceof Et?u.eb.location=this.Hu(i.location):o&&(u.eb[e]=this.Hu(n))}Hu(i){return i instanceof N||i instanceof X?i.copy():i}AR(i){const e=this.yi;if(e.has(i)){const n=e.get(i);n.ib=!0}}Wx(i){if(!this.Ae)return!1;const e=this.yi.get(i);return e!==null&&e.ib}CM(i){if(!this.Ae)return!1;const e=this.yi.get(i);return e!==null&&!!(e.ae.position||e.ae["position:part"]||e.ae.location)}NR(){if(this.Hc.count>0)return!0;const i=this.yi.iterator;for(;i.next();){const e=i.key;if(e instanceof oi&&e.diagram!==null||e instanceof Ft)return!0}return!1}FA(i){if(this.Gc&&!i)return;const e=this.Ns;if(this.Ae===!1)return;const n=+new Date;let a=n>this.to?this.Ls:n-this.ae;i&&(a=this.FM,a<this.Ls?(this.ae=+new Date-a,this.to=this.ae+this.Ls):a=this.Ls),e.zu(),this.DA(a),this.a.Sr(!0),e.Xu(),n>this.to&&(this.Ku&&!this.jc?(this.ae=+new Date,this.to=this.ae+this.Ls,this.jc=!0):this.Gu(!1))}DA(i){const e=this.Ls,n=this.yi.iterator,a=this.jc;for(;n.next();){const o=n.key;if(o instanceof oi&&o.diagram===null)continue;const h=n.value,u=a?h.Cs:h.ae,m=a?h.ae:h.Cs,v=mi.Jx;for(const b in m)b==="position"&&(m["position:placeholder"]||m["position:nodeCollapse"])||v.get(b)!==null&&v.get(b)(o,u[b],m[b],this.Jm,i,e,this)}}stop(){return this.Ae?(this.Gu(!0),this):this}Gu(i){if(this.tb!==null&&this.tb.TR(this.DM),!this.Ae)return;const e=this.a,n=this.Ns;n.zc=!1,this.Ae=!1,this.Gc=!1,n.zu();const a=this.yi,o=this.Hc.iterator;for(;o.next();)e.remove(o.value);const h=this.Ku,u=a.iterator,m=mi.Jx;for(;u.next();){const b=u.key,S=u.value,A=h?S.Cs:S.ae,M=h?S.ae:S.Cs,O=S.eb;for(const R in M)if(m.get(R)!==null){let V=R;S.sb&&(V==="position:nodeCollapse"||V==="position:placeholder")&&(V="position"),m.get(V)(b,A[R],O[R]!==void 0?O[R]:S.sb?A[R]:M[R],this.Jm,this.Ls,this.Ls,this)}S.sb&&O.location!==void 0&&b instanceof Et&&(b.location=O.location),S.ib&&b instanceof Et&&b.Xe(!1)}this._x++;const v=!i&&this.Qx>this._x;if(!v&&(this===n.jm||this===n.defaultAnimation)&&this.yi.clear(),e.nb.clear(),e.yS(!1),e.invalidateDocumentBounds(),e.C(),e.Sr(!0),n.defaultAnimation===this){const b=n.Wm.iterator;for(;b.next();)b.value.DR();n.Wm.clear()}if(e.Sr(!0),this.isViewportUnconstrained&&(e.scrollMode=this.RM),n.Xu(),v){this.jc=!1,this.start();return}this.qx(null),e.VA(),n.Gu(this),this.Yu&&this.Yu(this),e.requestUpdate()}Yc(i,e){const n=e.actualBounds;let a=null;if(e instanceof Jt&&(a=e.placeholder),a!==null&&a.visible){const o=a.getDocumentPoint(K.TopLeft),h=a.padding;o.x+=h.left,o.y+=h.top,this.add(i,"position",o,i.position,!1)}else this.add(i,"position",new N(n.x+n.width/2,n.y+n.height/2),i.position,!1);this.add(i,"scale",.01,i.scale,!1),i instanceof Jt&&this.vR(i,e)}vR(i,e){const n=i.memberParts;for(;n.next();){const a=n.value;a instanceof Ct&&this.Yc(a,e)}}Kc(i,e){if(!i.isVisible())return;let n=null;if(e instanceof Jt&&(n=e.placeholder),n!==null&&n.visible){const a=n.getDocumentPoint(K.TopLeft),o=n.padding;a.x+=o.left,a.y+=o.top,this.add(i,"position:placeholder",i.position,a,!0)}else this.add(i,"position:nodeCollapse",i.position,e,!0);this.add(i,"scale",i.scale,.01,!0),this.AR(i),i instanceof Jt&&this.FR(i,e)}FR(i,e){const n=i.memberParts;for(;n.next();){const a=n.value;a instanceof Ct&&this.Kc(a,e)}}get duration(){return this.Io}set duration(i){s.s(i,"number",Xl,"duration"),i<1&&s.J(i,">= 1",Xl,"duration"),this.Io=i}get reversible(){return this.Ku}set reversible(i){this.Ku=i}get runCount(){return this.Qx}set runCount(i){i>0?this.Qx=i:s.o("Animation.runCount value must be a positive integer.")}get finished(){return this.Yu}set finished(i){this.Yu!==i&&(i!==null&&s.S(i,Xl,"finished"),this.Yu=i)}get easing(){return this.$x}set easing(i){this.$x=i}get isViewportUnconstrained(){return this.vM}set isViewportUnconstrained(i){this.vM=i}get isAnimating(){return this.Ae}getTemporaryState(i){let e=this.Zx.get(i);return e===null&&(e={},this.Zx.set(i,e)),e}};let Oi=Xl;E(Oi,"EaseLinear",(i,e,n,a)=>n*i/a+e),E(Oi,"EaseInOutQuad",(i,e,n,a)=>(i/=a/2,i<1?n/2*i*i+e:-n/2*(--i*(i-2)-1)+e)),E(Oi,"EaseInQuad",(i,e,n,a)=>n*(i/=a)*i+e),E(Oi,"EaseOutQuad",(i,e,n,a)=>-n*(i/=a)*(i-2)+e),E(Oi,"EaseInExpo",(i,e,n,a)=>i===0?e:n*Math.pow(2,10*(i/a-1))+e),E(Oi,"EaseOutExpo",(i,e,n,a)=>i===a?e+n:n*(-Math.pow(2,-10*i/a)+1)+e);class _i{constructor(i,e,n){E(this,"ae");E(this,"Cs");E(this,"eb");E(this,"sb");E(this,"ib");this.ae=i,this.Cs=e,this.eb={},this.sb=n,this.ib=!1}}var Ji=(ee=>(ee[ee.Default=1]="Default",ee[ee.Immediate=2]="Immediate",ee[ee.Bundled=3]="Bundled",ee))(Ji||{});const Op=class{constructor(i,e,n){E(this,"Ti");E(this,"yn");E(this,"ju");E(this,"qc");this.Ti=null,this.yn=i,this.ju=n||1,this.qc=null,e!==void 0&&(this.qc=e,n===void 0&&(this.ju=2))}copy(){const i=new Op(this.yn);i.ju=this.ju;const e=this.qc;if(e!==null){const n={};e.duration!==void 0&&(n.duration=e.duration),e.finished!==void 0&&(n.finished=e.finished),e.easing!==void 0&&(n.easing=e.easing),i.qc=n}return i}get propertyName(){return this.yn}set propertyName(i){this.yn=i}get animationSettings(){return this.qc}set animationSettings(i){this.qc=i}RR(i){const e=this.qc;e!==null&&(e.duration&&(i.duration=e.duration),e.finished&&(i.finished=e.finished),e.easing&&(i.easing=e.easing))}get startCondition(){return this.ju}set startCondition(i){this.ju=i}};let wi=Op;E(wi,"Default",1),E(wi,"Immediate",2),E(wi,"Bundled",3);class Ri{constructor(i){E(this,"a");E(this,"Pt");E(this,"Zt");E(this,"Fr");E(this,"Yl");E(this,"Kl");E(this,"Hl");E(this,"jl");E(this,"ql");E(this,"Wl");E(this,"Jl");E(this,"$l");E(this,"Zl");E(this,"Ql");E(this,"_l");E(this,"ta");E(this,"Vc");E(this,"ea");E(this,"ob");E(this,"$m");E(this,"qu");E(this,"Ct");C.Je(this),this.a=null,this.Ct=new w,this.Pt="",this.Zt=1,this.Fr=!1,this.Yl=!0,this.Kl=!0,this.Hl=!0,this.jl=!0,this.ql=!0,this.Wl=!0,this.Jl=!0,this.$l=!0,this.Zl=!0,this.Ql=!0,this._l=!0,this.ta=!0,this.Vc=!0,this.ea=!0,this.ob=!0,this.$m=!1,this.qu=[],i&&Object.assign(this,i)}OR(){const i=this.Ct;for(let e=0;e<i.length;e++)i.r[e].IM(null);i.clear(),this.qu.length=0}Eo(i){this.a=i}toString(i){i===void 0&&(i=0);const e='Layer "'+this.name+'"';if(i<=0)return e;let n=0,a=0,o=0,h=0,u=0;const m=this.Ct.iterator;for(;m.next();){const b=m.value;b instanceof Jt?o++:b instanceof Ct?a++:b instanceof yt?h++:b instanceof Zt?u++:n++}let v="";if(n>0&&(v+=n+" Parts "),a>0&&(v+=a+" Nodes "),o>0&&(v+=o+" Groups "),h>0&&(v+=h+" Links "),u>0&&(v+=u+" Adornments "),i>1){const b=this.Ct.iterator;for(;b.next();){const S=b.value;v+=`
    `+S.toString();const A=S.data;A!==null&&C.xs(A)&&(v+=" #"+C.xs(A)),S instanceof Ct?v+=" "+s.toString(A):S instanceof yt&&(v+=" "+s.toString(S.fromNode)+" "+s.toString(S.toNode))}}return e+" "+this.Ct.count+": "+v}findObjectAt(i,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),this.ea===!1)return null;let a=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(i)&&(a=!0);const o=N.l(),h=this.Ct.r,u=h.length;for(let m=u;m--;){const v=h[m];if(a===!0&&v.Ul()===!1||!v.isVisible())continue;o.h(i),o.Ki(v.Js);let b=v.BA(o,e,n);if(b!==null&&(e!==null&&(b=e(b)),b!==null&&(n===null||n(b))))return N.i(o),b}return N.i(o),null}findObjectsAt(i,e,n,a){if(e===void 0&&(e=null),n===void 0&&(n=null),!(a instanceof w)&&!(a instanceof C)&&(a=new C),this.ea===!1)return a;let o=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(i)&&(o=!0);const h=N.l(),u=this.Ct.r,m=u.length;for(let v=m;v--;){const b=u[v];if(o===!0&&b.Ul()===!1||!b.isVisible())continue;h.h(i),h.Ki(b.Js);let S=b;b.zA(h,e,n,a)&&(e!==null&&(S=e(S)),S!==null&&(n===null||n(S))&&a.add(S))}return N.i(h),a}findObjectsIn(i,e,n,a,o){if(e===void 0&&(e=null),n===void 0&&(n=null),a===void 0&&(a=!1),!(o instanceof w)&&!(o instanceof C)&&(o=new C),this.ea===!1)return o;let h=!1;this.diagram!==null&&this.diagram.viewportBounds.containsRect(i)&&(h=!0);const u=this.Ct.r,m=u.length;for(let v=m;v--;){const b=u[v];if(h===!0&&b.Ul()===!1||!b.isVisible())continue;let S=b;b.Zm(i,e,n,a,o)&&(e!==null&&(S=e(S)),S!==null&&(n===null||n(S))&&o.add(S))}return o}MS(i,e,n,a,o,h,u){if(this.ea===!1)return o;const m=this.Ct.r,v=m.length;for(let b=v;b--;){const S=m[b];if(u===!0&&S.Ul()===!1||!h(S)||!S.isVisible())continue;let A=S;S.Zm(i,e,n,a,o)&&(e!==null&&(A=e(A)),A!==null&&(n===null||n(A))&&o.add(A))}return o}findObjectsNear(i,e,n,a,o,h){if(n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0),o!==!1&&o!==!0&&((o instanceof w||o instanceof C)&&(h=o),o=!0),!(h instanceof w)&&!(h instanceof C)&&(h=new C),this.ea===!1)return h;let u=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(i)&&(u=!0);const m=N.l(),v=N.l(),b=this.Ct.r,S=b.length;for(let A=S;A--;){const M=b[A];if(u===!0&&M.Ul()===!1||!M.isVisible())continue;m.h(i),m.Ki(M.Js),v.e(i.x+e,i.y),v.Ki(M.Js);let O=M;M.XA(m,v,n,a,o,h)&&(n!==null&&(O=n(O)),O!==null&&(a===null||a(O))&&h.add(O))}return N.i(m),N.i(v),h}EM(){return this.Ct.r}As(i,e){if(!this.visible)return;const n=this.Ct.r,a=n.length;if(a===0)return;const o=s.nt(),h=s.nt();for(let u=0;u<a;u++){const m=n[u];if(m.UM=u,m instanceof yt){if(m.Fi===!1)continue}else if(m instanceof Zt&&m.adornedPart!==null)continue;const v=m.actualBounds;m.isVisible()&&v.UL(e,10)?(m.As(!0),o.push(m)):(m.As(!1),m.adornments!==null&&m.adornments.count>0&&h.push(m))}for(let u=0;u<o.length;u++){const m=o[u];m.VM();const v=m.adornments;for(;v.next();){const b=v.value;b.ht(1/0,1/0),b.Ut(),b.As(!0)}}for(let u=0;u<h.length;u++)h[u].VM();s.Z(o),s.Z(h)}Wu(i){let e=1;return this.Zt!==1&&(e=i.globalAlpha,i.globalAlpha=e*this.Zt),e}GA(i,e){for(let n=0;n<e;n++)i[n].Wc()}Ge(i,e,n){if(!this.visible||this.Zt===0||(n===void 0&&(n=!0),!n&&this.isTemporary))return;const a=this.Ct.r,o=a.length;if(o===0)return;i.Fr&&this.GA(a,o);const h=this.Wu(i),u=this.qu;u.length=0;const m=e.scale,v=W.l();for(let b=0;b<o;b++){const S=a[b];this.Qm(i,S,e,u,m,v,!0)}W.i(v),i.Fr&&this.GA(a,o),i.globalAlpha=h}OU(i,e,n){if(!this.visible||this.Zt===0)return;const a=this.Ct.r,o=a.length;if(o===0)return;const h=this.Wu(i),u=this.qu;u.length=0;const m=e.scale,v=W.l();for(let b=0;b<o;b++){const S=a[b];n.has(S)||this.Qm(i,S,e,u,m,v,!0)}W.i(v),i.globalAlpha=h}IR(i,e,n,a){if(!this.visible||this.Zt===0||!a&&this.isTemporary)return;const o=this.Ct.r,h=o.length;if(h===0)return;const u=this.Wu(i),m=this.qu;m.length=0;const v=e.scale,b=W.l();for(let S=0;S<h;S++){const A=o[S];n.has(A)&&this.Qm(i,A,e,m,v,b,!1)}W.i(b),i.globalAlpha=u}ER(i,e,n,a,o){if(!this.visible||this.opacity===0)return;const h=this.diagram.grid.part;if(!a&&this.isTemporary){if(o&&h.layer===this){const u=this.Wu(i);h.Ge(i,n),i.globalAlpha=u}}else{const u=this.Wu(i),m=n.scale,v=W.l(),b=this.Ct.r,S=b.length;for(let A=0;A<S;A++){const M=b[A];!o&&M===h||this.Qm(i,M,n,null,m,v,!1)}W.i(v),i.globalAlpha=u}}IU(i,e,n){if(!this.visible||this.Zt===0)return;const a=this.Wu(i),o=this.qu;o.length=0;const h=e.scale,u=W.l(),m=this.Ct.r,v=m.length,b=n.length;for(let S=0;S<v;S++){const A=m[S],M=A.hh(A.actualBounds);this.UR(M,n,b,h)&&this.Qm(i,A,e,o,h,u,!0)}W.i(u),i.globalAlpha=a}Qm(i,e,n,a,o,h,u){if(u&&!e.Ul()){i.removePartFromView(e);return}if(a!==null&&e instanceof yt&&(e.isOrthogonal&&a.push(e),e.Fi===!1)){i.removePartFromView(e);return}let m=!1,v=e.containingGroup;for(;v!==null;)m?v.he!==null&&h.intersectRect(v.he):v.he!==null&&(m=!0,h.h(v.he)),v=v.containingGroup;const b=e.actualBounds;let S=!1;if(m&&e.isVisible()){if(!h.intersectsRect(b)){i.removePartFromView(e);return}S=!h.containsRect(b)}S&&(i.save(),i instanceof ns?i.partClipRect=h.copy():(i.beginPath(),i.rect(h.x,h.y,h.width,h.height),i.clip())),b.width*o>n._m||b.height*o>n._m?e.Ge(i,n):this.VR(i,e,n),S&&(i.restore(),i.clearContextCache(!0))}VR(i,e,n){if(i instanceof ns){e.Ge(i,n);return}const a=e.actualBounds,o=e.naturalBounds;if(a.width===0||a.height===0||isNaN(a.x)||isNaN(a.y)||!e.isVisible())return;const h=e.v;if(e.background===null){e.kn(i,"rgba(0,0,0,0.3)",!0,!1,o,a),i.fillRect(a.x,a.y,a.width,a.height);return}if(i.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),e.kn(i,e.background,!0,!1,o,a),i.fillRect(0,0,o.width/2,o.height/2),!h.RP()){const u=1/(h.m11*h.m22-h.m12*h.m21);i.transform(h.m22*u,-h.m12*u,-h.m21*u,h.m11*u,u*(h.m21*h.dy-h.m22*h.dx),u*(h.m12*h.dx-h.m11*h.dy))}}UR(i,e,n,a){const o=2/a,h=4/a;for(let u=0;u<n;u++){const m=e[u];if(!(m.width===0||m.height===0)&&i.intersects(m.x-o,m.y-o,m.width+h,m.height+h))return!0}return!1}t(i,e,n,a,o){const h=this.diagram;h!==null&&h.raiseChangedEvent(2,i,this,e,n,a,o)}ch(i,e,n){const a=this.Ct;if(e.IM(this),i>=a.count)i=a.count;else if(a.elt(i)===e)return-1;a.insertAt(i,e),e.tp(n);const o=this.diagram;return o!==null&&(n?o.C():o.ch(e)),this.rb(i,e),i}ri(i,e,n){if(!n&&e.layer!==this&&e.layer!==null)return e.layer.ri(i,e,n);const a=this.Ct;if(i<0||i>=a.length){if(i=a.indexOf(e),i<0)return-1}else if(a.elt(i)!==e&&(i=a.indexOf(e),i<0))return-1;e.ep(n),a.removeAt(i);const o=this.diagram;return o!==null&&(n?o.C():o.ri(e)),e.IM(null),i}rb(i,e){i=this.BR(i,e),e instanceof Jt&&this.zR(i,e),e.svg!==null&&e.svg.remove()}BR(i,e){const n=e.zOrder;if(isNaN(n))return i;const a=this.Ct,o=a.count;if(o<=1)return i;if(i<0&&(i=a.indexOf(e)),i<0)return-1;let h=i-1,u=NaN;for(;h>=0&&(u=a.elt(h).zOrder,!!isNaN(u));)h--;let m=i+1,v=NaN;for(;m<o&&(v=a.elt(m).zOrder,!!isNaN(v));)m++;if(!isNaN(u)&&u>n)for(;;){if(h===-1||u<=n)return h++,h===i?i:(a.removeAt(i),a.insertAt(h,e),h);for(u=NaN;--h>=0&&(u=a.elt(h).zOrder,!!isNaN(u)););}else if(!isNaN(v)&&v<n)for(;;){if(m===o||v>=n)return m--,m===i?i:(a.removeAt(i),a.insertAt(m,e),m);for(v=NaN;++m<o&&(v=a.elt(m).zOrder,!!isNaN(v)););}return i}zR(i,e){if(e===null||!isNaN(e.zOrder))return;this.XR(i,e);const n=e.containingGroup;n!==null&&this.rb(-1,n)}XR(i,e){if(e.memberParts.count===0)return;let n=-1;const a=this.Ct.r,o=a.length;for(let h=0;h<o;h++){const u=a[h];if(u===e&&(i=h,n>=0)||n<0&&u.containingGroup===e&&(n=h,i>=0))break}if(!(n<0)&&n<i){const h=this.Ct;h.removeAt(i),h.insertAt(n,e)}}get parts(){return this.Ct.iterator}get partsBackwards(){return this.Ct.iteratorBackwards}get diagram(){return this.a}get name(){return this.Pt}set name(i){const e=this.Pt;if(e!==i){const n=this.diagram;if(n!==null){e===""&&s.o("Cannot rename default Layer to: "+i);const o=n.layers;for(;o.next();)o.value.name===i&&s.o("Layer.name is already present in this diagram: "+i)}this.Pt=i,this.t("name",e,i);const a=this.Ct.iterator;for(;a.next();){const o=a.value;o.layerName=this.Pt}}}get opacity(){return this.Zt}set opacity(i){const e=this.Zt;if(e!==i){(i<0||i>1)&&s.J(i,"0 <= value <= 1",Ri,"opacity"),this.Zt=i;const n=this.diagram;n!==null&&n.C(),this.t("opacity",e,i)}}get isViewportAligned(){return this.$m}set isViewportAligned(i){const e=this.$m;e!==i&&(this.$m=i,this.diagram&&(this.YA(),this.diagram.C()),this.t("isViewportAligned",e,i),i&&(this.isInDocumentBounds=!1))}YA(){if(!this.$m)return;const i=this.diagram;if(i===null)return;const e=this.Ct.r,n=e.length,a=i.wt,o=i.xt;for(let h=0;h<n;h++){const u=e[h],m=u.naturalBounds.width,v=u.naturalBounds.height;let b=u.alignment;(b.isDefault()||!b.isSpot())&&(b=K.BottomRight);let S=u.alignmentFocus;S.isDefault()&&(S=new K(b.x,b.y));const A=b.x*a+b.offsetX-(S.x*m+S.offsetX),M=b.y*o+b.offsetY-(S.y*v+S.offsetY),O=N.z(A,M);i.GR(O),u.Uc(O.x,O.y,!0),N.i(O),u.it=1/i.scale}}get isTemporary(){return this.Fr}set isTemporary(i){const e=this.Fr;e!==i&&(this.Fr=i,this.t("isTemporary",e,i))}get visible(){return this.Vc}set visible(i){const e=this.Vc;if(e!==i){this.Vc=i;const n=this.Ct.iterator;for(;n.next();)n.value.Xe(i);const a=this.diagram;a!==null&&a.C(),this.t("visible",e,i)}}get pickable(){return this.ea}set pickable(i){const e=this.ea;e!==i&&(this.ea=i,this.t("pickable",e,i))}get isInDocumentBounds(){return this.ob}set isInDocumentBounds(i){const e=this.ob;e!==i&&(this.ob=i,this.diagram!==null&&this.diagram.invalidateDocumentBounds(),this.t("isInDocumentBounds",e,i))}get allowCopy(){return this.Yl}set allowCopy(i){const e=this.Yl;e!==i&&(this.Yl=i,this.t("allowCopy",e,i))}get allowDelete(){return this.Kl}set allowDelete(i){const e=this.Kl;e!==i&&(this.Kl=i,this.t("allowDelete",e,i))}get allowTextEdit(){return this.Hl}set allowTextEdit(i){const e=this.Hl;e!==i&&(this.Hl=i,this.t("allowTextEdit",e,i))}get allowGroup(){return this.jl}set allowGroup(i){const e=this.jl;e!==i&&(this.jl=i,this.t("allowGroup",e,i))}get allowUngroup(){return this.ql}set allowUngroup(i){const e=this.ql;e!==i&&(this.ql=i,this.t("allowUngroup",e,i))}get allowLink(){return this.Wl}set allowLink(i){const e=this.Wl;e!==i&&(this.Wl=i,this.t("allowLink",e,i))}get allowRelink(){return this.Jl}set allowRelink(i){const e=this.Jl;e!==i&&(this.Jl=i,this.t("allowRelink",e,i))}get allowMove(){return this.$l}set allowMove(i){const e=this.$l;e!==i&&(this.$l=i,this.t("allowMove",e,i))}get allowReshape(){return this.Zl}set allowReshape(i){const e=this.Zl;e!==i&&(this.Zl=i,this.t("allowReshape",e,i))}get allowResize(){return this.Ql}set allowResize(i){const e=this.Ql;e!==i&&(this.Ql=i,this.t("allowResize",e,i))}get allowRotate(){return this._l}set allowRotate(i){const e=this._l;e!==i&&(this._l=i,this.t("allowRotate",e,i))}get allowSelect(){return this.ta}set allowSelect(i){const e=this.ta;e!==i&&(this.ta=i,this.t("allowSelect",e,i))}}var ms=(ee=>(ee[ee.None=1]="None",ee[ee.Uniform=2]="Uniform",ee[ee.UniformToFill=3]="UniformToFill",ee))(ms||{}),fn=(ee=>(ee[ee.All=1]="All",ee[ee.NotDirected=2]="NotDirected",ee[ee.NotDirectedFast=3]="NotDirectedFast",ee[ee.NotUndirected=4]="NotUndirected",ee[ee.DestinationTree=5]="DestinationTree",ee[ee.SourceTree=6]="SourceTree",ee))(fn||{}),kr=(ee=>(ee[ee.Document=1]="Document",ee[ee.Infinite=2]="Infinite",ee))(kr||{}),ps=(ee=>(ee[ee.TreeParent=1]="TreeParent",ee[ee.AllParents=2]="AllParents",ee[ee.AnyParents=3]="AnyParents",ee))(ps||{});const At=class{constructor(i,e){E(this,"Ns");E(this,"qt");E(this,"BM");E(this,"lb");E(this,"Rr");E(this,"Ju");E(this,"ab");E(this,"hb");E(this,"cb");E(this,"fb");E(this,"ub");E(this,"db");E(this,"fh");E(this,"ah");E(this,"gb");E(this,"pb");E(this,"yb");E(this,"ia");E(this,"Jc");E(this,"Or");E(this,"ip");E(this,"wb");E(this,"xb");E(this,"$u");E(this,"eo");E(this,"Ir");E(this,"uh");E(this,"Vo");E(this,"sp");E(this,"$c");E(this,"np");E(this,"Zc");E(this,"Zu");E(this,"Er");E(this,"io");E(this,"zM");E(this,"XM");E(this,"bb");E(this,"kb");E(this,"GM");E(this,"Pb");E(this,"YM");E(this,"KM");E(this,"HM");E(this,"Sb");E(this,"op");E(this,"Ur");E(this,"Vr");E(this,"Br");E(this,"zr");E(this,"Xr");E(this,"Gr");E(this,"Mb");E(this,"Yr");E(this,"Nb");E(this,"Kr");E(this,"Hr");E(this,"jr");E(this,"qr");E(this,"Cb");E(this,"jM");E(this,"Bo");E(this,"qM");E(this,"Lb");E(this,"Ab");E(this,"WM");E(this,"Ce");E(this,"JM");E(this,"Qc");E(this,"$M");E(this,"js");E(this,"zo");E(this,"Be");E(this,"Tb");E(this,"Yl");E(this,"Kl");E(this,"Db");E(this,"vb");E(this,"Hl");E(this,"jl");E(this,"ql");E(this,"Fb");E(this,"Wl");E(this,"Jl");E(this,"$l");E(this,"Zl");E(this,"Ql");E(this,"_l");E(this,"ta");E(this,"Rb");E(this,"Ob");E(this,"ZM");E(this,"Qu");E(this,"_u");E(this,"Ib");E(this,"Eb");E(this,"Ub");E(this,"Vb");E(this,"rp");E(this,"Bb");E(this,"zb");E(this,"Xb");E(this,"Qt");E(this,"KA");E(this,"Gb");E(this,"HA");E(this,"td");E(this,"Pn");E(this,"so");E(this,"li");E(this,"no");E(this,"jA");E(this,"sa");E(this,"QM");E(this,"_M");E(this,"lp");E(this,"Yb");E(this,"ed");E(this,"ap");E(this,"Kb");E(this,"Wr");E(this,"na");E(this,"dh");E(this,"t2");E(this,"e2");E(this,"hp");E(this,"Hb");E(this,"jb");E(this,"ls");E(this,"sd");E(this,"cp");E(this,"nd");E(this,"Xo");E(this,"_c");E(this,"fp");E(this,"Jr");E(this,"gh");E(this,"i2");E(this,"dp");E(this,"Ht");E(this,"v");E(this,"qi");E(this,"Dr");E(this,"Ye");E(this,"Ts");E(this,"s2");E(this,"oa");E(this,"$r");E(this,"Fl");E(this,"Zr");E(this,"mh");E(this,"tf");E(this,"o2");E(this,"od");E(this,"ph");E(this,"rd");E(this,"zt");E(this,"ra");E(this,"ct");E(this,"it");E(this,"ld");E(this,"wt");E(this,"xt");E(this,"lt");E(this,"ef");E(this,"Mx");E(this,"qb");E(this,"yh");E(this,"sf");E(this,"Wb");E(this,"Jb");E(this,"gp");E(this,"YR");E(this,"KR");E(this,"$e");E(this,"Ol");E(this,"_m");E(this,"mp");E(this,"l2");E(this,"a2");E(this,"qA");E(this,"pp");E(this,"HR");E(this,"jR");E(this,"qR");E(this,"$b");E(this,"WR");E(this,"JR");E(this,"$R");E(this,"wh");E(this,"WA");E(this,"la");E(this,"xh");E(this,"bh");E(this,"kh");E(this,"Ph");E(this,"Eu");E(this,"oh");E(this,"Wt");E(this,"Nt");E(this,"nf");E(this,"qP");E(this,"WP");E(this,"vc");E(this,"Zt");E(this,"Iu");E(this,"Qb");E(this,"_b");E(this,"ad");E(this,"t1");E(this,"e1");E(this,"yp");E(this,"f2");E(this,"wp");E(this,"xp");E(this,"bp");E(this,"jx");E(this,"u2");E(this,"d2");E(this,"of");E(this,"kp");E(this,"Pp");if(At.qw||(At.OP(),At.qw=!0),C.Je(this),At.$A(this),this.Ht=!0,this.Nt=null,this.wt=0,this.xt=0,this.lt=null,At.isUsingDOM()){const a=this,o=()=>{a.Le(t.document,"DOMContentLoaded",o,!1),a.setRTL()};t.document.body!==null?this.setRTL():a.Et(t.document,"DOMContentLoaded",o,!1)}this.ef=null,At.g2("Model",Po);const n=this;return this.JM=a=>n.partManager.doModelDataChanged(a),this.Qc=a=>n.partManager.doModelChanged(a),this.Wb=null,this.Jb=null,this.ZA(),this.model=Ki.m2(),this.themeManager=new eu,this.Bo=!0,this.QA(),this.layout=new Rs,this.Bo=!1,this.HR=null,this.jR=null,this.qR=null,this.$b=null,this.WR=null,this.JR=null,this.$R=null,this.wh=null,this.WA=null,this.la=null,this.xh=null,this.bh=null,this.kh=null,this.Ph=null,this.Eu=()=>{},this.oh=null,this.nd=!1,this.nf=new Zo(this),i!==void 0&&(typeof i=="string"||t.Element&&i instanceof Element?this.p2(i):e=i),e&&this.setProperties(e),this.Ht=!1,this.requestUpdate(),this}lR(){return this.lt!==null}get renderer(){return this._c}set renderer(i){if(this instanceof eo)return;i===""&&(i="default");const e=i.toLowerCase(),n=this._c;if(e===n)return;this._c=e;let a=null;e==="default"||e==="canvas"?(a=this.Xo.get("svg"),a!==null&&a.bt.remove(),this.lt&&(this.Wt=this.lt._t,this.Wt.clearContextCache(!0))):e==="svg"?(this.Xo.has("svg")?a=this.Xo.get("svg"):(a=new Us(this,t.document),this.addRenderer("svg",a)),this.div!==null&&(a.bt.role="img",this.div.appendChild(a.bt)),this.lt&&(this.Wt=a._t,this.lt._t.setTransform(this.$e,0,0,this.$e,0,0),this.lt._t.clearRect(0,0,this.wt,this.xt))):e==="debug"&&(this.Xo.has("SVG")||(a=new Us(this,t.document),this.addRenderer("SVG",a),a.bt.style.backgroundColor="whitesmoke",this.div!==null&&this.div.after(a.bt))),this.Ht||this.redraw()}ZA(){if(this.of=new w,this.setupRouters(),this.Ns=new mi,this.Ns.Eo(this),this.qt=17,this.BM=!1,this.ld=!1,this.lb="default",this.zt=new w,this.Xo){const i=this.Xo.get("svg");i!==null&&i.bt.remove(),this.lt&&(this.Wt=this.lt._t,this.Wt.clearContextCache(!0))}this.Xo=new Q,this._c="default",this.resetRenderingHints(),this.ZR(),this.Zt=1,this.ct=new N(NaN,NaN).k(),this.jx=new N(NaN,NaN),this.it=1,this.dp=1,this.ab=new N(NaN,NaN).k(),this.hb=NaN,this.cb=1e-4,this.fb=100,this.v=new le,this.ub=new N(NaN,NaN).k(),this.db=new W(NaN,NaN,NaN,NaN).k(),this.fh=new he(0,0,0,0).kt(),this.ah=1,this.gb=!1,this.pb=null,this.yb=null,this.ia=1,this.Jc=K.Default,this.Or=1,this.ip=K.Default,this.wb=K.None,this.xb=K.None,this.qi=!0,this.$u=!1,this.eo=new Set,this.Ir=new C,this.uh=new C,this.Vo=!1,this.ra=new Q,this.od=!0,this.sp=250,this.$c=-1,this.np=new he(16,16,16,16).kt(),this.Dr=!1,this.Zc=!1,this.Zu=!0,this.fp=new He,this.fp.diagram=this,this.Jr=new He,this.Jr.diagram=this,this.gh=new He,this.gh.diagram=this,this.Er=null,this.io=null,this.Mx=!1,this.QR(),this.Zr=new C,this.bb=!0,this.kb=1,this.GM=!1,this.Pb=1,this.Sb="auto",this.op="auto",this.Ur=null,this.Vr=null,this.Br=null,this.zr=null,this.Xr=null,this.Gr=null,this.Mb=null,this.Yr=null,this.Nb=!1,this.Kr=null,this.Hr=null,this.jr=null,this.qr=null,this.Cb=!1,this.qb={},this.yh=[null,null],this.Bo=!1,this.qM=!1,this.Lb=!1,this.Ab=!1,this.WM=!0,this.Ts=!1,this.ph=!1,this.$M=!0,this.js=-2,this.oa=new Q,this.rd=new w,this.zo=!1,this.Be=!0,this.Tb=!0,this.Yl=!0,this.Kl=!0,this.Db=!1,this.vb=!0,this.Hl=!0,this.jl=!0,this.ql=!0,this.Fb=!0,this.Wl=!0,this.Jl=!0,this.$l=!0,this.Zl=!0,this.Ql=!0,this._l=!0,this.ta=!0,this.Rb=!0,this.Ob=!0,this.ZM=!1,this.sf=!1,this.Qu=!0,this._u=!0,this.Ib=!0,this.Eb=!0,this.Ub=16,this.Vb=16,this.rp=!1,this.Bb=!1,this.zb=0,this.Xb=0,this.Qt=new he(5).kt(),this.KA=new C().k(),this.Gb=999999999,this.HA=new C().k(),this.mh=!0,this.td=!0,this.tf=!0,this.Pn=!1,this.so=!1,this.$r=!0,this.Fl=!1,this.no=!1,this.jA=new C,this.o2=new C,this.sa=null,this.QM=new X(yt._A,yt.tT),this._M=999,this.lp=!1,this.qP=1,this.WP=0,this.Ye={scale:1,position:new N,bounds:new W,canvasSize:new X,newCanvasSize:new X,isScroll:!1},this.Ye.canvasSize=this.Ye.canvasSize,this.Ye.newCanvasSize=this.Ye.newCanvasSize,this.Ye.isScroll=!1,this.Yb=new W(NaN,NaN,NaN,NaN).k(),this.ed=new X(NaN,NaN).k(),this.ap=new W(NaN,NaN,NaN,NaN).k(),this.Kb=!1,this.kp=null,this.Pp=null,this._R(),this.ls=null,this.sd=!1,this.vc=null,this.partManager=new Po,this.toolManager=new qe,this.toolManager.initializeStandardTools(),this.defaultTool=this.toolManager,this.currentTool=this.defaultTool,this._b=null,this.ad=new Ir,this.t1=null,this.e1=null,this.Qb=!1,this.Iu=!1,this.commandHandler=new Sa,this.xp=null,this.bp=N.mn,this.u2=!1,this.$e=1,this.Ol=null,this._m=1,this.yp=0,this.f2=[0,0,0,0,0],this.wp=0,this.mp=1,this.l2=0,this.a2=new N,this.qA=500,this.cp=new N,this.pp=!1}static isUsingDOM(){return At.eT}static setDocument(i){t.document=i}static useDOM(i){At.eT=i?t.document!==void 0:!1}clear(){this.animationManager.stopAnimation(),this.model.clear(),At.iT(),this.sT(!1),this.rd.clear(),this.nT(),this.sa=null,this.invalidateDocumentBounds(),this.ensureBounds(),this.C()}sT(i){this.animationManager.stopAnimation(!0),this.clearSelection(),this.clearHighlighteds();const e=this.skipsUndoManager,n=this.Ce!==null&&this.Ce!==void 0;n&&(this.skipsUndoManager=!0);let a=null;this.ls!==null&&(a=this.ls.part,a!==null&&this.remove(a));const o=[],h=this.zt.length;if(i){for(let u=0;u<h;u++){const m=this.zt.r[u].parts;for(;m.next();){const v=m.value;v!==a&&v.data===null&&o.push(v)}}for(let u=0;u<o.length;u++){const m=o[u];this.remove(m)}}for(let u=0;u<h;u++)this.zt.r[u].OR();return this.partManager.clear(),this.eo.clear(),this.Ir.clear(),this.uh.clear(),this.ra.clear(),this.Zr.clear(),this.vc=null,this.rd.clear(),this.nT(),s.LP=[],a!==null&&(this.add(a),this.partManager.parts.delete(a)),n&&(this.skipsUndoManager=e),o}static iT(){At.Sp=null,At.i1=""}static EU(){return null}reset(){this.clear(),this.Ht=!0,this.ZA(),this.themeManager=new eu,this.aa(),this.Bo=!0,this.QA(),this.layout=new Rs,this.Bo=!1,this.model=Ki.m2(),this.model.undoManager=new Je,this.nd=!1,this.Ht=!1,this.C()}_R(){this.Wr=new Q,this.t2=new Ct().add(new Se({stroke:"black",font:"10pt sans-serif"}).bind("text","",s.toString).theme("stroke","text").theme("font","normal")),this.Wr.set("",this.t2),this.Wr.set("Comment",new Ct().add(new Se({stroke:"brown",font:"10pt sans-serif"}).bind("text","",s.toString).theme("stroke","comment").theme("font","normal"))),this.Wr.set("LinkLabel",new Ct({selectable:!1,avoidable:!1}).add(new ke("Ellipse",{fill:"black",stroke:null,desiredSize:new X(3,3).kt()}).theme("fill","link"))),this.dh=new Q,this.s2=new Jt(j.Vertical,{selectionObjectName:"GROUPPANEL"}).add(new Se({stroke:"black",font:"bold 12pt sans-serif"}).bind("text","",s.toString).theme("stroke","text").theme("font","bold"),new j(j.Auto,{name:"GROUPPPANEL"}).add(new ke({fill:"rgba(128,128,128,0.2)",stroke:"black",strokeWidth:1}).theme("fill","group").theme("stroke","outline").theme("strokeWidth","group"),new Or({padding:5}).theme("padding","group"))),this.dh.set("",this.s2),this.na=new Q,this.e2=new yt().add(new ke({isPanelMain:!0,stroke:"black"}).theme("stroke","link"),new ke({toArrow:"Standard",fill:"black",stroke:null,strokeWidth:0}).theme("toArrow").theme("fill","link")),this.na.set("",this.e2),this.na.set("Comment",new yt().add(new ke({isPanelMain:!0,stroke:"brown"}).theme("stroke","comment"))),this.hp=new Zt(j.Auto).add(new ke({fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"),new Or({margin:1.5}).theme("margin","selection","numbers",null,i=>i?new he(i/2):1.5)).freezeBindings(),this.Hb=this.hp,this.jb=new Zt(j.Link).add(new ke({isPanelMain:!0,fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection")).freezeBindings()}setRTL(i){let e=i===void 0?this.div:i;e===null&&(e=t.document.body);const n=s.Ni("div");n.dir="rtl",n.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",n.textContent="A",e.appendChild(n);let a="reverse";n.scrollLeft>0?a="default":(n.scrollLeft=1,n.scrollLeft===0&&(a="negative")),e.removeChild(n),this.lb=a}setScrollWidth(i){let e=i===void 0?this.div:i;e===null&&(e=t.document.body);let n=0;if(At.isUsingDOM()){let a=At.c2,o=At.h2;a===null&&(At.c2=s.Ni("p"),a=At.c2,a.style.width="100%",a.style.height="200px",a.style.boxSizing="content-box",At.h2=s.Ni("div"),o=At.h2,o.style.position="absolute",o.style.visibility="hidden",o.style.width="200px",o.style.height="150px",o.style.boxSizing="content-box",o.appendChild(a)),o.style.overflow="hidden",e.appendChild(o);const h=a.offsetWidth;o.style.overflow="scroll";let u=a.offsetWidth;h===u&&(u=o.clientWidth),e.removeChild(o),n=h-u,n===0&&!s.ur&&(n=11)}this.qt=n,this.BM=!0}fe(i){i in ms?this.autoScale=i:s.dr(this,i)}toString(i){i===void 0&&(i=0);let e="";this.div&&this.div.id&&(e=this.div.id);let n='Diagram "'+e+'"';if(i<=0)return n;const a=this.zt.iterator;for(;a.next();){const o=a.value;n+=`
  `+o.toString(i-1)}return n}static $A(i){At.Zb=i}static Om(){return At.Zb}static fromDiv(i){let e=i;if(typeof i=="string"&&(e=t.document.getElementById(i)),e instanceof HTMLDivElement){const n=At.Wi.get(e);if(n)return n}return null}get div(){return this.Nt}set div(i){if(i!==null&&s.se(i,HTMLDivElement,At,"div"),this.Nt!==i){const e=this.Nt;if(e!==null){if(At.Wi.delete(e),e.goDiagram=void 0,e.go=void 0,e.innerHTML="",this.lt!==null){const a=this.lt.bt;this.Le(a,"pointermove",this.xh,!1),this.Le(a,"pointerdown",this.la,!1),this.Le(a,"pointerup",this.bh,!1),this.Le(a,"pointerout",this.kh,!1),this.Le(a,"pointercancel",this.Ph,!1),this.lt.dispose()}this.ef&&(this.ef.disconnect(),this.ef=null);const n=this.toolManager;n!==null&&(n.mouseDownTools.each(a=>a.cancelWaitAfter()),n.mouseMoveTools.each(a=>a.cancelWaitAfter()),n.mouseUpTools.each(a=>a.cancelWaitAfter())),n.cancelWaitAfter(),this.currentTool.doCancel(),this.lt=null,this.Le(t,"resize",this.$b,!1),this.Le(t,"wheel",this.wh,!0),At.Om()===this&&At.$A(null)}else this.la===null&&(this.no=!1);if(this.Nt=null,i!==null){const n=At.Wi.get(i);n&&(n.div=null),this.p2(i),this.Eu(),this.themeManager&&this.themeManager.tO()}else this.themeManager&&this.themeManager.eO()}}setupRouters(){this.of.push(new l_)}p2(i){const e=this;if(!At.isUsingDOM())return;i==null&&s.o("Diagram setup requires an argument DIV."),e.Nt!==null&&s.o("Diagram has already completed setup."),typeof i=="string"?e.Nt=t.document.getElementById(i):i instanceof HTMLDivElement?e.Nt=i:s.o("No DIV or DIV id supplied: "+i),e.Nt===null&&s.o("Invalid DIV id; could not get element with id: "+i);const n=At.Wi.get(e.Nt);if(n&&n!==this&&s.o("Invalid div id; div already has a Diagram associated with it."),!e.ef&&t.ResizeObserver){const S=t.ResizeObserver,A=s.CP(()=>e.requestUpdate(),250,!1);e.ef=new S(()=>A()),e.ef.observe(e.Nt)}t.getComputedStyle(e.Nt,null).position==="static"&&(e.Nt.style.position="relative");let a=5;const o="rgba(2"+a+"5, 255, 255, 0)";a--,e.Nt.style["-webkit-tap-highlight-color"]=o,e.Nt.innerHTML="",At.Wi.set(e.Nt,e),e.Nt.goDiagram=e,e.Nt.go=t.go;const h=new Ca(e);h.style!==void 0&&(h.style.position="absolute",h.style.top="0px",h.style.left="0px",t.getComputedStyle(e.Nt,null).getPropertyValue("direction")==="rtl"&&(e.ld=!0),h.style.zIndex="2",h.style.userSelect="none",h.style.MozUserSelect="none",h.style.touchAction="none",h.style.letterSpacing="normal !important",h.style.wordSpacing="normal !important",h.style.lang="unknown"),h.bt.setAttribute("role","application"),e.lt=h,e.Wt=h._t;const u=e.Wt;e.$e=e.computePixelRatio(),e.viewSize.isReal()||(e.wt=e.Nt.clientWidth||1,e.xt=e.Nt.clientHeight||1),e.oT(e.wt,e.xt);const m=e;e.Nt.insertBefore(h.bt,e.Nt.firstChild);const v=new Ca(null);if(v.width=1,v.height=1,e.YR=v,e.KR=v._t,At.isUsingDOM()){const S=s.Ni("div"),A=s.Ni("div");S.style.position="absolute",S.style.overflow="auto",S.style.width=e.wt+"px",S.style.height=e.xt+"px",S.style.zIndex="1",A.style.position="absolute",A.style.width="1px",A.style.height="1px",e.Nt.appendChild(S),S.appendChild(A),S.onscroll=At.iO,S.addEventListener("pointerdown",At.sO),S.a=e,S.nO=!0,S.oO=!0,e.Wb=S,e.Jb=A}e.Eu=s.CP(()=>{e.Ol=null,e.C()},300,!1),e.$b=s.CP(()=>{e.MM()},250,!1),e.oh=S=>(S.preventDefault(),!1),e.wh=S=>{if(!m.isEnabled)return;const A=m.rf(S,!0);A.bubbles=!0;let M=0,O=0;A.delta=0,S.deltaX!==void 0?(S.deltaX!==0&&(M=S.deltaX>0?1:-1),S.deltaY!==0&&(O=S.deltaY>0?1:-1),A.delta=Math.abs(S.deltaX)>Math.abs(S.deltaY)?-M:-O):S.wheelDeltaX!==void 0?(S.wheelDeltaX!==0&&(M=S.wheelDeltaX>0?-1:1),S.wheelDeltaY!==0&&(O=S.wheelDeltaY>0?-1:1),A.delta=Math.abs(S.wheelDeltaX)>Math.abs(S.wheelDeltaY)?-M:-O):S.wheelDelta!==void 0&&S.wheelDelta!==0&&(A.delta=S.wheelDelta>0?1:-1),m.doMouseWheel(),m.Sh(A,S)},e.WA=S=>{if(!m.isEnabled)return;e.sf=!1,m.rf(S,!0);const A=m.currentTool;A.cancelWaitAfter(),A.standardMouseOver()},e.la=S=>{if(!m.isEnabled)return;e.sf=!0;const A=m.qb;A[S.pointerId]===void 0&&(A[S.pointerId]=S);const M=m.yh;let O=!1;if(M[0]!==null&&(M[0].pointerId===S.pointerId||M[0].pointerType!==S.pointerType))M[0]=S;else if(M[1]!==null&&M[1].pointerId===S.pointerId)M[1]=S,O=!0;else if(M[0]===null)M[0]=S;else if(M[1]===null)M[1]=S,O=!0;else{S.preventDefault();return}const R=S.pointerType==="touch"||S.pointerType==="pen";R&&(m.Mx=!1,m.pp=!0);const V=m.rO(S,S,O),q=m.a2,J=R?25:10;if(S.timeStamp-m.l2<m.qA&&!(Math.abs(q.x-S.screenX)>J||Math.abs(q.y-S.screenY)>J)?m.mp++:m.mp=1,V.clickCount=m.mp,m.l2=S.timeStamp,m.a2.setTo(S.screenX,S.screenY),m.doMouseDown(),S.button===1){S.preventDefault();return}m.Sh(V,S)},e.xh=S=>{if(!m.isEnabled)return;e.sf=!0;const A=m.yh;if(A[0]!==null&&(A[0].pointerId===S.pointerId||A[0].pointerType!==S.pointerType))A[0]=S;else if(A[1]!==null&&A[1].pointerId===S.pointerId){A[1]=S;return}else if(A[0]===null)A[0]=S;else return;if(A[0].pointerId!==S.pointerId)return;const M=m.lO(S,S,A[1]!==null);m.doMouseMove(),m.Sh(M,S)},e.bh=S=>{if(!m.isEnabled)return;e.sf=!0;const A=S.pointerType==="touch"||S.pointerType==="pen",M=m.qb;if(A&&m.Mx){delete M[S.pointerId],S.preventDefault();return}const O=m.yh;if(O[0]!==null&&(O[0].pointerId===S.pointerId||O[0].pointerType!==S.pointerType))O[0]=null;else if(O[1]!==null&&O[1].pointerId===S.pointerId){O[1]=null;return}else return;const R=m.w2(S,!1,!0,!1,!0,!1);let V=t.document.elementFromPoint(S.clientX,S.clientY)||null;V!==null&&V.shadowRoot&&(V=V.shadowRoot.elementFromPoint(S.clientX,S.clientY)||null),V!==null&&V.a instanceof At&&V.a!==m&&V.a.Mp(S,R),V===null&&(V=S.target),m.Mp(S,R),R.clickCount=m.mp,R.targetDiagram=m.s1(S,V),R.targetObject=null,m.doMouseUp(),m.Sh(R,S),A&&(m.pp=!1)},e.kh=S=>{if(!m.isEnabled)return;e.sf=!1;const A=m.qb;A[S.pointerId]&&delete A[S.pointerId];const M=m.yh;if(M[0]!==null&&M[0].pointerId===S.pointerId&&(M[0]=null),M[1]!==null&&M[1].pointerId===S.pointerId&&(M[1]=null),S.pointerType==="touch"||S.pointerType==="pen")return;const O=m.currentTool;O.cancelWaitAfter(),O.standardMouseOver()},e.Ph=S=>{const A=m.yh;A[0]!==null&&A[0].pointerId===S.pointerId?(A[0]=null,m.pp=!1):A[1]!==null&&A[1].pointerId===S.pointerId&&(A[1]=null)};const b=u;if(e.gp=b.F[s.We("7eba17a4ca3b1a8346")][s.We("78a118b7")](b.F,At.Mh,a,a),u.clearContextCache(!0),e.aO(),this._c==="svg"){const S=this.Xo.get("svg");this.Nt&&this.Nt.appendChild(S.bt),this.Wt=S._t}}addEventListener(i,e,n,a){i.addEventListener(e,n,{capture:a,passive:!1})}Et(i,e,n,a){i.addEventListener(e,n,{capture:a,passive:!1})}removeEventListener(i,e,n,a){i.removeEventListener(e,n,{capture:a})}Le(i,e,n,a){i.removeEventListener(e,n,{capture:a})}aO(){const i=this;let e=this.lt.bt;e instanceof HTMLCanvasElement||(e=i.div),this.Et(e,"pointerdown",i.la,!1),this.Et(e,"pointermove",i.xh,!1),this.Et(e,"pointerup",i.bh,!1),this.Et(e,"pointerout",i.kh,!1),this.Et(e,"pointercancel",i.Ph,!1),this.Et(e,"pointerenter",i.hO,!1),this.Et(e,"pointerleave",i.cO,!1),this.Et(e,"wheel",i.wh,!1),this.Et(e,"keydown",i.fO,!1),this.Et(e,"keyup",i.uO,!1),this.Et(e,"blur",i.dO,!1),this.Et(e,"focus",i.gO,!1),this.Et(e,"selectstart",n=>(n.preventDefault(),!1),!1),this.Et(e,"contextmenu",n=>(n.preventDefault(),!1),!1),this.Et(t,"resize",i.$b,!1)}Cx(){this.yp>30&&(this.Ol=1)}yS(i){this.Ol!==null&&(this.Ol=null,i&&this.Eu(),this.yp=0,this.f2=[0,0,0,0,0],this.wp=0)}computePixelRatio(){return this.Ol!==null?this.Ol:t.devicePixelRatio||1}get avgSpf(){return this.yp}doMouseDown(){this.currentTool.doMouseDown()}doMouseMove(){this.currentTool.doMouseMove()}doMouseUp(){this.currentTool.doMouseUp()}doMouseWheel(){this.currentTool.doMouseWheel()}doKeyDown(){const i=this.commandHandler;if(!this.toggleKeyboardControl()){if((i.isFocusEnabled||i.isVirtualPointerEnabled)&&i.doVirtualFocusKeyDown()){const e=this.lastInput;e.bubbles=!1;const n=e.event;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelable!==!1&&n.preventDefault());return}this.currentTool.doKeyDown()}}toggleKeyboardControl(){const i=this.lastInput,e=i.commandKey;if((i.control||i.meta)&&i.alt&&(e==="Enter"||e==="NumpadEnter")){const n=this.commandHandler,a=n.isFocusEnabled||n.isVirtualPointerEnabled;return n.isFocusEnabled=!a,n.isVirtualPointerEnabled=!a,n.focus=n.findFirstFocus(),this.T("FocusOrVirtualPointerEnabledChanged"),!0}return!1}doKeyUp(){const i=this.commandHandler;if((i.isFocusEnabled||i.isVirtualPointerEnabled)&&i.doVirtualFocusKeyUp()){const e=this.lastInput;e.bubbles=!1;const n=e.event;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelable!==!1&&n.preventDefault());return}this.currentTool.doKeyUp()}doFocus(){this.focus()}focus(){if(this.lt)if(this.scrollsPageOnFocus)this.lt.focus();else{const i=t.scrollX,e=t.scrollY;this.lt.focus(),t.scrollTo(i,e)}}gO(i){const e=At.Wi.get(this);e&&e.T("GainedFocus")}dO(i){const e=At.Wi.get(this);e&&e.T("LostFocus")}MM(){if(this.lt===null)return;const i=this.Nt;if(i===null||i.clientWidth===0||i.clientHeight===0)return;this.BM||this.setScrollWidth();const e=this.so?this.qt:0,n=this.Pn?this.qt:0,a=this.$e;if(this.$e=this.computePixelRatio(),this.$e!==a&&(this.$u=!0,this.requestUpdate()),i.clientWidth!==this.wt+e||i.clientHeight!==this.xt+n){this.Nh(),this.qi=!0;const o=this.layout;o!==null&&o.isViewportSized&&this.autoScale===1&&(this.Zc=!0,o.p()),this.Ts||this.requestUpdate()}}QA(){let i=0,e=new Ri;e.name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Qr(e,i++),e=new Ri,e.name="ViewportBackground",e.isViewportAligned=!0,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Qr(e,i++),e=new Ri,e.name="Background",this.Qr(e,i++),e=new Ri,e.name="",this.Qr(e,i++),e=new Ri,e.name="Foreground",this.Qr(e,i++),e=new Ri,e.name="ViewportForeground",e.isViewportAligned=!0,e.isTemporary=!0,e.isInDocumentBounds=!1,this.Qr(e,i++),e=new Ri,e.name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,this.Qr(e,i++),e=new Ri,e.name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,this.Qr(e,i++)}rT(){const i=new j(j.Grid,{name:"GRID"}).add(new ke("LineH",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new ke("LineV",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new ke("LineH",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new ke("LineV",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new ke("LineH",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor"),new ke("LineV",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor")),e=new Et({layerName:"Grid",zOrder:0,isInDocumentBounds:!1,isAnimated:!1,pickable:!1,locationObjectName:"GRID"}).add(i);return this.add(e),this.partManager.parts.delete(e),i.visible=!1,i}static iO(){const i=At.Wi.get(this.parentElement||this);if(i){if(i.Bb){i.Bb=!1;return}if(!i.isEnabled){i.lT();return}i.diagramScroll(this)}}static sO(i){if(!this.a.isEnabled){this.a.updateScroll();return}this.a.zb=i.target.scrollTop,this.a.Xb=i.target.scrollLeft}diagramScroll(i){if(this.lt===null)return;const e=this.Wb,n=this.Jb;this.rp=!0;let a=this.documentBounds,o=this.viewportBounds;const h=this.fh;let u=a.x-h.left,m=a.y-h.top;const v=a.width+h.left+h.right,b=a.height+h.top+h.bottom;let S=a.right+h.right,A=a.bottom+h.bottom,M=o.x,O=o.y;const R=o.width,V=o.height;let q=o.right,J=o.bottom;const re=this.scale;let se,ne=i.scrollLeft;if(this.ld)switch(this.lb){case"negative":ne=ne+i.scrollWidth-i.clientWidth;break;case"reverse":ne=i.scrollWidth-ne-i.clientWidth;break}const xe=ne;if(R<v||V<b){se=N.z(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Xb!==xe&&(se.x=xe/re+u,this.Xb=xe),this.allowVerticalScroll&&this.zb!==i.scrollTop&&(se.y=i.scrollTop/re+m,this.zb=i.scrollTop),this.position=se,N.i(se),this.rp=!1,this.td=!1;return}if(se=N.l(),i.nO&&this.allowHorizontalScroll&&(u<M&&(this.position=se.e(xe+u,this.position.y)),S>q)){const ye=e.scrollWidth-this.wt;this.position=se.e(-ye+xe-this.wt/re+S,this.position.y)}if(i.oO&&this.allowVerticalScroll&&(m<O&&(this.position=se.e(this.position.x,i.scrollTop+m)),A>J)){const ye=e.scrollHeight-this.xt;this.position=se.e(this.position.x,-ye+i.scrollTop-this.xt/re+A)}N.i(se),this.ha(),this.rp=!1,this.td=!1,a=this.documentBounds,o=this.viewportBounds,S=a.right,q=o.right,A=a.bottom,J=o.bottom,u=a.x,M=o.x,m=a.y,O=o.y,R>=v&&u>=M&&S<=q&&(n.style.width="1px"),V>=b&&m>=O&&A<=J&&(n.style.height="1px")}computeBounds(i){return i===void 0&&(i=new W),this.Te(),this.aT(i)}aT(i){if(this.fixedBounds.isReal())return i.h(this.fixedBounds),i.addMargin(this.Qt),i;let e=!0;const n=this.zt.r,a=n.length;for(let o=0;o<a;o++){const h=n[o];if(!h.visible||!h.isInDocumentBounds)continue;const u=h.Ct.r,m=u.length;for(let v=0;v<m;v++){const b=u[v];if(!b.isInDocumentBounds||!b.isVisible())continue;const S=b.actualBounds;S.isReal()&&(e?(e=!1,i.h(S)):i.unionRect(S))}}return e&&i.e(0,0,0,0),i.addMargin(this.Qt),i}computePartsBounds(i,e){e===void 0&&(e=!1);let n;if(Array.isArray(i))for(let a=0;a<i.length;a++){const o=i[a];!e&&o instanceof yt||(o.ensureBounds(),n===void 0?n=o.actualBounds.copy():n.unionRect(o.actualBounds))}else{const a=i.iterator;for(;a.next();){const o=a.value;!e&&o instanceof yt||(o.ensureBounds(),n===void 0?n=o.actualBounds.copy():n.unionRect(o.actualBounds))}}return n===void 0?new W(NaN,NaN,0,0):n}$s(i){if(!i&&!this.no||this.Ht||this.lt===null||!this.documentBounds.isReal())return;if(this.Ht=!0,i){const A=this.initialPosition;if(A.isReal()){this.Ht=!1,this.position=A;return}let M=this.initialDocumentSpot,O=this.initialViewportSpot;M.isNoSpot()&&(M=K.TopLeft),O.isNoSpot()&&(O=K.TopLeft);const R=N.l();R.setRectSpot(this.documentBounds,M);const V=this.viewportBounds,q=W.z(0,0,V.width,V.height),J=N.l();J.setRectSpot(q,O),J.e(R.x-J.x,R.y-J.y),this.Ht=!1,this.position=J,W.i(q),N.i(J)}let e=this.ia;i&&this.Or!==1&&(e=this.Or);const n=e!==1?this.hd(e):this.scale,a=this.ct.x,o=this.ct.y,h=this.wt/n,u=this.xt/n;let m=this.Jc;const v=this.ip;if(i&&!m.isSpot()&&(v.isSpot()||v.isDefault())){const A=this.initialDocumentSpot.isSpot()&&this.initialViewportSpot.isSpot();m=v.isDefault()&&!A?K.Center:v}this.b2(this.documentBounds,h,u,m,i);const b=this.scale;this.scale=n,this.Ht=!1;const S=this.viewportBounds;S.equalsApproxTo(a,o,h,u)||this.onViewportBoundsChanged(new W(a,o,h,u),S,b,!1)}hd(i){const e=this.dp;if(this.lt===null)return e;if(i===1)return this.scale;this.ensureBounds();const n=this.documentBounds;if(!n.isReal())return e;const a=n.width,o=n.height,h=this.wt+(this.so?this.qt:0),u=this.xt+(this.Pn?this.qt:0);let m=h/a,v=u/o;const b=this.fh,S=b.left+b.right!==0,A=b.top+b.bottom!==0;(S||A)&&(v===m?(v=(u-this.qt)/o,m=(h-this.qt)/a):v>m?v=(u-this.qt)/o:m=(h-this.qt)/a);let M=0;return i===2?M=Math.min(v,m):i===3&&(v>m?M=(u-this.qt)/o:M=(h-this.qt)/a),M>e&&(M=e),M<this.minScale&&(M=this.minScale),M>this.maxScale&&(M=this.maxScale),M}zoomToFit(){const i=this.ah;this.ah=1,this.scale=this.hd(2),this.alignDocument(K.Center,K.Center),i!==1&&(this.$s(!1),this.b2(this.documentBounds,this.wt/this.it,this.xt/this.it,this.Jc,!1)),this.ah=i}zoomToRect(i,e){e===void 0&&(e=2);const n=i.width,a=i.height;if(n===0||a===0||isNaN(n)&&isNaN(a))return;let o=1;if(e===2||e===3)if(isNaN(n))o=this.viewportBounds.height*this.scale/a;else if(isNaN(a))o=this.viewportBounds.width*this.scale/n;else{const h=this.wt,u=this.xt;e===3?u/a>h/n?o=(u-(this.Pn?this.qt:0))/a:o=(h-(this.so?this.qt:0))/n:o=Math.min(u/a,h/n)}this.scale=o,this.position=new N(i.x,i.y)}get mO(){return this.Ht}set mO(i){this.Ht=i}alignDocument(i,e){this.ensureBounds();const n=this.documentBounds,a=this.viewportBounds;this.position=new N(n.x+(i.x*n.width+i.offsetX)-(e.x*a.width-e.offsetX),n.y+(i.y*n.height+i.offsetY)-(e.y*a.height-e.offsetY))}focusObject(i){if(i instanceof oi){this.xp=i;const e=N.l();this.bp=this.transformDocToView(i.getDocumentPoint(K.TopLeft,e)),N.i(e)}else this.xp=null,this.bp=N.mn}b2(i,e,n,a,o){const h=N.z(this.ct.x,this.ct.y);let u=h.x,m=h.y;if(this.xp!==null){let v=N.l();v=this.xp.getDocumentPoint(K.TopLeft,v),u=v.x-this.bp.x/this.scale,m=v.y-this.bp.y/this.scale,a=K.None,N.i(v)}if(o||this.scrollMode===1){a.isSpot()&&(e>i.width&&(u=i.x+(a.x*i.width+a.offsetX)-(a.x*e-a.offsetX)),n>i.height&&(m=i.y+(a.y*i.height+a.offsetY)-(a.y*n-a.offsetY)));const v=this.fh,b=e-i.width;if(e<i.width+v.left+v.right){let A=u+e/2;A=Math.min(A,i.right+Math.max(b,v.right)-e/2),A=Math.max(A,i.left-Math.max(b,v.left)+e/2),u=A-e/2}else u>i.left?u=i.left:u<i.right-e&&(u=i.right-e);const S=n-i.height;if(n<i.height+v.top+v.bottom){let A=m+n/2;A=Math.min(A,i.bottom+Math.max(S,v.bottom)-n/2),A=Math.max(A,i.top-Math.max(S,v.top)+n/2),m=A-n/2}else m>i.top?m=i.top:m<i.bottom-n&&(m=i.bottom-n)}if(h.x=isFinite(u)?u:-this.Qt.left,h.y=isFinite(m)?m:-this.Qt.top,this.positionComputation!==null){const v=this.positionComputation(this,h);h.x=v.x,h.y=v.y}this.Ns.IA(this.ct,h),this.ct.e(h.x,h.y),this.Np(),this.aa(),this.pO(),N.i(h)}findPartAt(i,e){if(e===void 0&&(e=!0),e){const n=this.kS(i,a=>a.part,a=>a.canSelect());if(n instanceof Et)return n}else{const n=this.kS(i,a=>a.part);if(n instanceof Et)return n}return null}findObjectAt(i,e,n){e===void 0&&(e=null),n===void 0&&(n=null),this.Te();const a=this.zt.iteratorBackwards;for(;a.next();){const o=a.value;if(!o.visible)continue;const h=o.findObjectAt(i,e,n);if(h!==null)return h}return null}kS(i,e,n){e===void 0&&(e=null),n===void 0&&(n=null),this.Te();const a=this.zt.iteratorBackwards;for(;a.next();){const o=a.value;if(!o.visible||o.isTemporary)continue;const h=o.findObjectAt(i,e,n);if(h!==null)return h}return null}findPartsAt(i,e,n){return e===void 0&&(e=!0),this.yO(i,a=>a.part,e?a=>a instanceof Et&&a.canSelect():null,n)}yO(i,e,n,a){e===void 0&&(e=null),n===void 0&&(n=null),!(a instanceof w)&&!(a instanceof C)&&(a=new C),this.Te();const o=this.zt.iteratorBackwards;for(;o.next();){const h=o.value;!h.visible||h.isTemporary||h.findObjectsAt(i,e,n,a)}return a}findObjectsAt(i,e,n,a){e===void 0&&(e=null),n===void 0&&(n=null),!(a instanceof w)&&!(a instanceof C)&&(a=new C),this.Te();const o=this.zt.iteratorBackwards;for(;o.next();){const h=o.value;h.visible&&h.findObjectsAt(i,e,n,a)}return a}findPartsIn(i,e,n,a){return e===void 0&&(e=!1),n===void 0&&(n=!0),this.wO(i,null,o=>o instanceof Et&&(!n||o.canSelect()),e,a)}findObjectsIn(i,e,n,a,o){e===void 0&&(e=null),n===void 0&&(n=null),a===void 0&&(a=!1),!(o instanceof w)&&!(o instanceof C)&&(o=new C),this.Te();const h=this.zt.iteratorBackwards;for(;h.next();){const u=h.value;u.visible&&u.findObjectsIn(i,e,n,a,o)}return o}MS(i,e,n,a,o,h){const u=new C;this.Te();const m=this.zt.iteratorBackwards;for(;m.next();){const v=m.value;v.visible&&v.MS(i,e,n,a,u,o,h)}return u}wO(i,e,n,a,o){e===void 0&&(e=null),n===void 0&&(n=null),a===void 0&&(a=!1),!(o instanceof w)&&!(o instanceof C)&&(o=new C),this.Te();const h=this.zt.iteratorBackwards;for(;h.next();){const u=h.value;!u.visible||u.isTemporary||u.findObjectsIn(i,e,n,a,o)}return o}findPartsNear(i,e,n,a,o){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.xO(i,e,null,h=>h instanceof Et&&(!a||h.canSelect()),n,o)}findObjectsNear(i,e,n,a,o,h){n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0),o!==!1&&o!==!0&&((o instanceof w||o instanceof C)&&(h=o),o=!0),!(h instanceof w)&&!(h instanceof C)&&(h=new C),this.Te();const u=this.zt.iteratorBackwards;for(;u.next();){const m=u.value;m.visible&&m.findObjectsNear(i,e,n,a,o,h)}return h}xO(i,e,n,a,o,h){n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0),o!==!1&&o!==!0&&((o instanceof w||o instanceof C)&&(h=o),o=!0),!(h instanceof w)&&!(h instanceof C)&&(h=new C),this.Te();const u=this.zt.iteratorBackwards;for(;u.next();){const m=u.value;!m.visible||m.isTemporary||m.findObjectsNear(i,e,n,a,o,h)}return h}acceptEvent(i){return this.rf(i,i instanceof MouseEvent)}rf(i,e){const n=this.Jr;this.Jr=this.gh,this.gh=n,n.diagram=this,n.event=i,e?this.Mp(i,n):(n.viewPoint=this.Jr.viewPoint,n.documentPoint=this.Jr.documentPoint);let a=0;const o=i;return o.ctrlKey&&(a+=1),o.altKey&&(a+=2),o.shiftKey&&(a+=4),o.metaKey&&(a+=8),n.modifiers=a,n.button=o.button,o.buttons!==void 0&&(n.buttons=o.buttons),s.ur&&o.button===0&&o.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=i.timeStamp,n.isMultiTouch=!1,n.targetDiagram=this.s1(i,i.target),n.targetObject=null,n}s1(i,e){if(e===null)return null;const n=At.Wi.get(e);if(n)return n;let a=i.path;if(!a&&s.st(i.composedPath)&&(a=i.composedPath()),a&&a[0]){const o=At.Wi.get(a[0]);if(o)return o}return null}rO(i,e,n){const a=this.w2(i,!0,!1,!1,!0,n);return this.Mp(e,a),a.targetDiagram=this.s1(i,i.target),a.targetObject=null,n||a.clone(this.fp),a}lO(i,e,n){const a=this.w2(i,!1,!1,!1,!1,n);let o=t.document.elementFromPoint(e.clientX,e.clientY)||null;o!==null&&o.shadowRoot&&(o=o.shadowRoot.elementFromPoint(e.clientX,e.clientY)||null);let h=this,u=i;if(o){const m=this.s1(i,o);m&&(u=e,h=m)}return a.targetDiagram=h,this.Mp(u,a),a.targetObject=null,a}w2(i,e,n,a,o,h){const u=this.Jr;this.Jr=this.gh,this.gh=u,u.diagram=this,u.clickCount=1,u.delta=0;let m=0;return i.ctrlKey&&(m+=1),i.altKey&&(m+=2),i.shiftKey&&(m+=4),i.metaKey&&(m+=8),u.modifiers=m,u.event=i,u.timestamp=i.timeStamp,u.button=n?this.firstInput.button:i.button,u.buttons=i.buttons,s.ur&&i.button===0&&i.ctrlKey&&(u.button=2),u.down=e,u.up=n,u.handled=a,u.bubbles=o,u.isMultiTouch=h,u}Sh(i,e){return i.bubbles?!0:(e.stopPropagation!==void 0&&e.stopPropagation(),e.cancelable!==!1&&e.preventDefault(),e.cancelBubble=!0,!1)}fO(i){const e=At.Wi.get(this);if(!e||!e.isEnabled)return!1;const n=e.rf(i,!1);return n.key=i.key,n.code=i.code,n.down=!0,e.doKeyDown(),e.Sh(n,i)}uO(i){const e=At.Wi.get(this);if(!e||!e.isEnabled)return!1;const n=e.rf(i,!1);return n.key=i.key,n.code=i.code,n.up=!0,e.doKeyUp(),e.Sh(n,i)}hO(i){const e=At.Wi.get(this);if(!e||!e.isEnabled)return!1;const n=e.rf(i,!0);return e.mouseEnter!==null&&e.mouseEnter(n),e.currentTool.standardMouseOver(),e.Sh(n,i)}cO(i){const e=At.Wi.get(this);if(!e||!e.isEnabled)return!1;const n=e.rf(i,!0);return e.mouseLeave!==null&&e.mouseLeave(n),e.Sh(n,i)}getMouse(i){const e=this.lt;if(e===null)return new N(0,0);const n=e.getBoundingClientRect(),a=(i.clientX-n.left)*(this.wt/n.width),o=(i.clientY-n.top)*(this.xt/n.height);return new N(a,o).Ki(this.v)}Mp(i,e){const n=this.lt;let a=0,o=0;if(n!==null){const u=n.getBoundingClientRect();a=(i.clientX-u.left)*(this.wt/u.width),o=(i.clientY-u.top)*(this.xt/u.height)}e.viewPoint.e(a,o);const h=N.z(a,o);this.v.Ci(h),e.documentPoint.h(h),N.i(h)}_L(i,e,n){let a;if(this.yh[0]!==null)a=this.yh[e];else return;const o=this.lt;if(o!==null){const h=o.getBoundingClientRect();n.e((a.clientX-h.left)*(this.wt/h.width),(a.clientY-h.top)*(this.xt/h.height))}}invalidateDocumentBounds(){this.mh||(this.mh=!0,this.requestUpdate(!1))}bO(){this.Ts||this.Te(),this.ensureBounds()}redraw(){this.Ht||this.Ts||(this.C(),this.maybeUpdate())}isUpdateRequested(){return this.Dr}delayInitialization(i){i===void 0&&(i=null);const e=this.animationManager,n=e.isEnabled;e.stopAnimation(),e.isEnabled=!1,this.Sr(),this.no=!1,this.jx=new N(NaN,NaN),e.isEnabled=n,this.Ts=!0;const a=this;i!==null&&s.dn(()=>{a.Ts=!1,e.Gl("Model"),i(a)},1)}requestUpdate(i){if(i===void 0&&(i=!1),this.Dr===!0||this.Ht||i===!1&&this.Ts)return;this.Dr=!0;const e=this;t.requestAnimationFrame(()=>{e.Dr&&e.maybeUpdate()})}maybeUpdate(){this.Zu&&!this.Dr||(this.Zu&&(this.Zu=!1),this.Sr())}k2(i,e){!this.td||this.Ht||this.animationManager.defaultAnimation.isAnimating||this.lT()||(i&&this.Te(),e&&this.$s(!1))}Sr(i){if(this.Ts||(this.Dr=!1,this.Nt===null&&!this.ed.isReal()))return;this.Ts=!0;const e=this.animationManager,n=this.rd;if(!e.isAnimating&&n.length!==0){const S=n.r,A=S.length;for(let M=0;M<A;M++){const O=S[M];O.xi(!1),O.c()}n.clear()}const a=this.o2;a.count>0&&(a.each(S=>S.P2()),a.clear());let o=!1,h=!1;e.defaultAnimation.isAnimating&&(h=!0,o=this.skipsUndoManager,this.skipsUndoManager=!0),e.ke||this.MM(),i||this.k2(!1,!0);const u=!this.undoManager.isUndoingRedoing&&(this.Fl||this.of.count!==0&&this.Ir.size!==0),m=!this.no||this.$r;this.Te(!0);let v=!1;(m||u)&&(this.no?this.S2(!this.Zc,u):(this.startTransaction("Initial Layout"),e.isEnabled===!1&&e.stopAnimation(),this.S2(!1,u)),v=m),this.Zc=!1,this.Fl=!1,this.Te(),this.ls!==null&&(this.ls.visible&&!this.sd&&(this.ca(),this.sd=!0),!this.ls.visible&&this.sd&&(this.sd=!1)),this.Lb||this.bO(),i||this.k2(!0,!1);let b=!1;if(v){const S=W.l();S.h(this.viewportBounds),this.no||(this.no=!0,b=!0,this.skipsUndoManager||(this.undoManager.Px=!0),this.undoManager.Sx=!0,this.kO()),this.PO(),this.Te(!1),i||this.k2(!0,!0),W.i(S)}else if(e.zc&&e.Hx){if(this.Or!==1)this.scale=this.hd(this.Or);else if(this.ia!==1)this.scale=this.hd(this.ia);else{const S=this.initialScale;isFinite(S)&&S>0&&(this.scale=S)}this.$s(!0)}v&&b&&this.commitTransaction("Initial Layout"),i||this.Ge(this.Wt),h&&(this.skipsUndoManager=o),this.Ts=!1}get Qa(){return this.no}kO(){if(this.Or!==1)this.scale=this.hd(this.Or);else if(this.ia!==1)this.scale=this.hd(this.ia);else{const e=this.initialScale;isFinite(e)&&e>0&&(this.scale=e)}this.$s(!0);const i=this.zt.r;this.As(i,i.length,this,this.viewportBounds),this.T("InitialLayoutCompleted"),this.jx.h(this.ct),this.ca()}PO(){this.T("LayoutCompleted")}Cp(i){this.eo.add(i)}addInvalidRoute(i){this.Vo?this.uh.add(i):this.Ir.add(i)}Te(i){if(this.eo.size!==0&&!(!this.Ts&&this.animationManager.isTicking)){if(this.Ts||(this.Fl=!0),i){this.hT(this.eo);return}for(let e=0;e<23&&this.eo.size!==0;e++){const n=new Set(this.eo);this.eo.clear(),this.P2(n,this.eo)}this.nodes.each(e=>{e instanceof Jt&&e.cT(!1)})}}hT(i,e){for(const n of i)!n.Di()||n instanceof Jt||(n._r()?(n.ht(1/0,1/0),n.Ut()):e&&e.add(n));for(const n of i)if(n instanceof Jt){if(!n.isVisible())continue;this.o1(n)}}P2(i,e){this.hT(i,e);for(const n of i){if(!(n instanceof yt))continue;const a=n;a.isVisible()&&(a._r()?(a.ht(1/0,1/0),a.Ut()):e.add(a))}for(const n of i)n instanceof Zt&&n.isVisible()&&(n._r()?(n.ht(1/0,1/0),n.Ut()):e.add(n))}cd(i){const e=i instanceof At,n=e?i.links:i.memberParts,a=this.eo;if(e)this.Te(!0);else{for(;n.next();){const o=n.value;a.has(o)&&(!o.Di()||o instanceof Jt||o._r()&&(o.ht(1/0,1/0),o.Ut()))}for(n.reset();n.next();){const o=n.value;if(a.has(o)&&o instanceof Jt){if(!o.isVisible())continue;this.o1(o)}}n.reset()}for(;n.next();){const o=n.value;o instanceof yt&&a.has(o)&&o.isVisible()&&o._r()&&(o.ht(1/0,1/0),o.Ut())}}o1(i){const e=s.nt(),n=s.nt(),a=i.memberParts;for(;a.next();){const h=a.value;h.isVisible()&&(h instanceof Jt?(h.Go()||h.as()||h.fa())&&this.o1(h):h instanceof yt?h.fromNode===i||h.toNode===i?n.push(h):e.push(h):(h.ht(1/0,1/0),h.Ut()))}let o=e.length;for(let h=0;h<o;h++){const u=e[h];u.ht(1/0,1/0),u.Ut()}s.Z(e),i.ht(1/0,1/0),i.Ut(),o=n.length;for(let h=0;h<o;h++){const u=n[h];u.ht(1/0,1/0),u.Ut()}s.Z(n)}As(i,e,n,a){if(!(!this.tf&&!this.animationManager.isAnimating)){for(let o=0;o<e;o++)i[o].As(n,a);this.Te()}}Ge(i){this.Nt!==null&&(this.lt===null&&s.o("No canvas specified"),this._c==="svg"?this.SO(i):this.MO(i))}MO(i){const e=this.animationManager;if(e.ke||e.isAnimating&&!e.isTicking)return;const n=new Date;if(this.Lp(),this.Nt&&this.Nt.style.opacity==="0")return;const a=i!==this.Wt,o=this.zt.r,h=o.length,u=this;if(this.As(o,h,u,u.viewportBounds),a)i.clearContextCache(!0),this.ha();else if(!this.qi&&!e.isAnimating)return;const m=this.v,v=this.$e;i.setTransform(v,0,0,v,0,0),i.clearRect(0,0,this.wt,this.xt),this.Zt!==1&&(i.globalAlpha=this.Zt),this.M2(i);for(let O=0;O<h;O++)i.setTransform(v,0,0,v,0,0),i.transform(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),i.commitTransform(),o[O].Ge(i,u);let b=!1;this.nf?this.nf.Mh(this,i)&&(b=this.gp()):b=!0,b&&(le.prototype.Ci=le.prototype.Mu),a?(this.Wt.clearContextCache(!0),this.ha()):(this.tf=!1,this.qi=!1);const S=+new Date-+n,A=!1,M=this.f2;if(this.Ol===null){M[this.wp]=S,this.wp=(this.wp+1)%M.length;let O=0;for(let R=0;R<M.length;R++)O+=M[R];this.yp=O/M.length}this.Zt!==1&&(i.globalAlpha=1)}SO(i){if(this.Nt===null)return;const e=this.animationManager;if(e.ke||e.isAnimating&&!e.isTicking)return;this.Lp();const n=this.wt,a=this.xt;i.surface.resize(n,a,n,a);const o=this.zt.r,h=o.length,u=this;if(this.As(o,h,u,u.viewportBounds),!this.qi&&!e.isAnimating)return;const m=this.v;i.lastDrawnPart=null,i.setDiagramPosScale(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),this.Zt!==1&&(i.globalAlpha=this.Zt),this.M2(i);const v=this.$e,b=this.lt._t;b.setTransform(v,0,0,v,0,0),b.clearRect(0,0,this.wt,this.xt);for(let A=0;A<h;A++)o[A].Ge(i,u);let S=!1;this.nf?this.nf.Mh(this,b)&&(S=this.gp()):S=!0,S&&(le.prototype.Ci=le.prototype.Mu),this.tf=!1,this.qi=!1}l1(i,e,n,a,o,h,u,m,v){h===void 0&&(h=null),u===void 0&&(u=null),m===void 0&&(m=!1),v===void 0&&(v=!1),this.Lp(),i.clearContextCache(!0),this.ha(),this.ph=!0;const b=this.it;this.it=a;const S=this,A=this.zt.r,M=A.length;try{const O=new W(o.x,o.y,n.width/a,n.height/a),R=O.copy();R.addMargin(e),this.ca(R),this.Te(),this.As(A,M,S,O),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height),u!==null&&u!==""&&(i.fillStyle=u,i.fillBackground(0,0,n.width,n.height));const V=le.l();V.Ue(),V.Gs(e.left,e.top),V.it(a),(o.x!==0||o.y!==0)&&V.Gs(-o.x,-o.y),i.setTransform(V.m11,V.m12,V.m21,V.m22,V.dx,V.dy),i.commitTransform(),i instanceof ns&&i.setDiagramPosScale(V.m11,V.m12,V.m21,V.m22,V.dx,V.dy),le.i(V),this.M2(i),i.globalAlpha=this.Zt;const q=this.findLayer("Grid");if(h){const J=new C,re=h.iterator;for(re.reset();re.next();){const se=re.value;se instanceof Et&&(!v&&se.layer===q||(se.Wc(),J.add(se)))}for(let se=0;se<M;se++)A[se].IR(i,S,J,m);J.each(se=>se.Wc())}else for(let J=0;J<M;J++){const re=A[J];re===q?v&&re.Ge(i,S,!0):re.Ge(i,S,m)}this.ph=!1,this.nf&&this.Wt&&this.nf.Mh(this,this.Wt)&&this.gp()}finally{this.it=b,i.clearContextCache(!0),this.ha(),this.As(A,M,S,S.viewportBounds),this.ca(),this.Wt instanceof ns&&(this.Wt.diagramGroup.replaceChildren(),this.redraw())}}getRenderingHint(i){return this.Rr[i]}setRenderingHint(i,e){i==="minDrawingLength"&&(this._m=e),this.Rr[i]=e,this.redraw()}resetRenderingHints(){this.Rr=new l,this.Rr.drawShadows=!0,this.Rr.textGreeking=!0,this.Rr.viewportOptimizations=!s.ur,this.Rr.temporaryPixelRatio=!0,this.Rr.pictureRatioOptimization=!0,this.Rr.minDrawingLength=1,this._m=1}M2(i){const e=this.Rr;if(e===null)return;if(e.imageSmoothingEnabled!==void 0){const a=!!e.imageSmoothingEnabled;i.setImageSmoothingEnabled(a)}const n=e.defaultFont;n!=null&&(i.font=n)}getInputOption(i){return this.Ju[i]}setInputOption(i,e){this.Ju[i]=e}ZR(){this.Ju=new l,this.Ju.extraTouchArea=10,this.Ju.extraTouchThreshold=10,this.Ju.hasGestureZoom=!0}set(i){return i?(Object.assign(this,i),this):this}attach(i){return this.setProperties(i)}setProperties(i){return At.Ap(this,i),this}static Ap(i,e){if(!e)return;const n=i instanceof j,a=i instanceof At;for(const o in e){o===""&&s.o("Setting properties requires non-empty property names");let h=i,u=o;if(n||a){const v=o.indexOf(".");if(v>0){const b=o.substring(0,v);n?h=i.findObject(b):(h=i[b],h==null&&(h=i.toolManager[b])),s.$(h)?u=o.substring(v+1):s.o("Unable to find object named: "+b+" in "+i.toString()+" when trying to set property: "+o)}}if(u[0]!=="_"&&!s.jw(h,u))if(a&&u==="ModelChanged"){i.addModelChangedListener(e[u]);continue}else if(a&&u==="Changed"){i.addChangedListener(e[u]);continue}else if(a&&s.jw(i.toolManager,u))h=i.toolManager;else if(a&&i.fT(u)){i.addDiagramListener(u,e[u]);continue}else if(i instanceof Ki&&u==="Changed"){i.addChangedListener(e[u]);continue}else s.o('Trying to set undefined property "'+u+'" on object: '+h.toString());const m=e[o];h[u]=m,u[0]==="_"&&h instanceof oi&&h.addCopyProperty(u)}}VA(){if(this.ra.count!==0&&!(this.undoManager.transactionLevel>1)){for(;this.ra.count>0;){const i=this.ra;this.ra=new Q;const e=i.iterator;for(;e.next();){const n=e.key;n.invalidateOtherJumpOvers(e.value),n.ai()}}this.C()}}C(i){if(i===void 0)this.qi=!0,this.requestUpdate();else{const e=this.viewportBounds;i.isReal()&&e.intersectsRect(i)&&(this.qi=!0,this.requestUpdate())}this.T("InvalidateDraw")}invalidateViewport(i,e){if(this.qi!==!0){if(this.qi=!0,this._c==="svg"){this.maybeUpdate();return}this.getRenderingHint("temporaryPixelRatio")===!0?(this.Cx(),this.maybeUpdate(),this.yS(!0)):this.maybeUpdate()}}Nh(){this.td=!0}ha(){this.tf=!0}Lp(){this.$u!==!1&&(this.$u=!1,this.oT(this.wt,this.xt))}oT(i,e){this.aa();const n=this.$e,a=i*n,o=e*n;this.lt.resize(a,o,i,e)&&(this.qi=!0,this.Wt.clearContextCache(!0))}lT(){const i=this.lt;if(i===null||this.ed.isReal())return!0;const e=this.wt,n=this.xt,a=this.Nt;let o=!1,h=this.so?this.qt:0,u=this.Pn?this.qt:0,m=a.clientWidth||e+h,v=a.clientHeight||n+u;const b=this.viewportBounds,S=b.x,A=b.y,M=b.width,O=b.height;if((m!==e+h||v!==n+u)&&(this.so=!1,this.Pn=!1,h=0,u=0,this.wt=m,this.xt=v,this.$u=!0,o=!0,this.aa()),!this.no||!this.viewportBounds.isReal())return!0;const R=this.Wb,V=this.Jb;if(this.td=!1,!o&&!this.so&&!this.Pn&&!this.Qu&&!this._u)return!0;const q=this.documentBounds;let J=0,re=0,se=0,ne=0;const xe=b.width,ye=b.height,we=this.fh;this.contentAlignment.isSpot()?(q.width>xe&&(J=we.left,re=we.right),q.height>ye&&(se=we.top,ne=we.bottom)):(J=we.left,re=we.right,se=we.top,ne=we.bottom);const ze=q.width+J+re,Ce=q.height+se+ne,Pe=this.scale,Fe=Pe;let Re=ze>m/Pe,We=Ce>v/Pe;if(!o&&!this.so&&!this.Pn&&!Re&&!We)return!0;const Ke=q.x-J,lt=b.x,ct=q.right+re;let rt=b.right+h;const bt=q.y-se,Mt=b.y,li=q.bottom+ne;let Vt=b.bottom+u,Gt="1px",zt="1px";if(this.scrollMode===1&&(Re||We)){if(Re&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let Ot=1;Ke+1<lt&&(Ot=Math.max((lt-Ke)*Pe+this.wt,Ot)),ct>rt+1&&(Ot=Math.max((ct-rt)*Pe+this.wt,Ot)),xe+h+1<ze&&(Ot=Math.max((ze-xe)*Pe+this.wt,Ot)),Gt=Ot.toString()+"px"}if(We&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let Ot=1;bt+1<Mt&&(Ot=Math.max((Mt-bt)*Pe+this.xt,Ot)),li>Vt+1&&(Ot=Math.max((li-Vt)*Pe+this.xt,Ot)),ye+u+1<Ce&&(Ot=Math.max((Ce-ye)*Pe+this.xt,Ot)),zt=Ot.toString()+"px"}}let jt=Gt!=="1px",xi=zt!=="1px";if(!(jt&&xi)&&(jt||xi)){if(Re=!(ze<xe+h),We=!(Ce<ye+u),xi&&(rt-=this.qt),jt&&(Vt-=this.qt),Re&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let Qt=1;Ke+1<lt&&(Qt=Math.max((lt-Ke)*Pe+this.wt,Qt)),ct>rt+1&&(Qt=Math.max((ct-rt)*Pe+this.wt,Qt)),xe+1<ze&&(Qt=Math.max((ze-xe)*Pe+this.wt,Qt)),Gt=Qt.toString()+"px"}jt=Gt!=="1px";let Ot=this.xt;if(jt!==this.Pn&&(Ot=jt?this.xt-this.qt:this.xt+this.qt),We&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let Qt=1;bt+1<Mt&&(Qt=Math.max((Mt-bt)*Pe+Ot,Qt)),li>Vt+1&&(Qt=Math.max((li-Vt)*Pe+Ot,Qt)),ye+1<Ce&&(Qt=Math.max((Ce-ye)*Pe+Ot,Qt)),zt=Qt.toString()+"px"}xi=zt!=="1px"}if(this.rp&&!(jt!==this.Pn||xi!==this.so))return(e!==this.wt||n!==this.xt)&&this.maybeUpdate(),!1;if(jt!==this.Pn&&(Gt==="1px"?this.xt=this.xt+this.qt:this.xt=Math.max(this.xt-this.qt,1),o=!0),this.Pn=jt,V.style.width=Gt,xi!==this.so&&(zt==="1px"?this.wt=this.wt+this.qt:this.wt=Math.max(this.wt-this.qt,1),o=!0,this.ld)){const Ot=N.l();xi?(i.style.left=this.qt+"px",this.position=Ot.e(this.ct.x+this.qt/this.scale,this.ct.y)):(i.style.left="0px",this.position=Ot.e(this.ct.x-this.qt/this.scale,this.ct.y)),N.i(Ot)}o&&this.aa(),this.so=xi,V.style.height=zt,this.Bb=!0,o&&(this.$u=!0);let gi=R.scrollLeft;if(this.hasHorizontalScrollbar&&this.allowHorizontalScroll&&(xe+1<ze?gi=(this.position.x-Ke)*Pe:Ke+1<lt?gi=R.scrollWidth-R.clientWidth:ct>rt+1&&(gi=this.position.x*Pe)),this.ld)switch(this.lb){case"negative":gi=-(R.scrollWidth-gi-R.clientWidth);break;case"reverse":gi=R.scrollWidth-gi-R.clientWidth;break}if(R.scrollLeft=gi,this.hasVerticalScrollbar&&this.allowVerticalScroll&&(ye+1<Ce?R.scrollTop=(this.position.y-bt)*Pe:bt+1<Mt?R.scrollTop=R.scrollHeight-R.clientHeight:li>Vt+1&&(R.scrollTop=this.position.y*Pe)),m=this.wt,v=this.xt,R.style.width=m+(this.so?this.qt:0)+"px",R.style.height=v+(this.Pn?this.qt:0)+"px",e!==m||n!==v||this.animationManager.ke){const Ot=W.z(S,A,M,O);return this.onViewportBoundsChanged(Ot,this.viewportBounds,Fe,o),W.i(Ot),!1}return!0}add(i){const e=i.diagram;if(e===this)return;e!==null&&s.o("Cannot add part "+i.toString()+" to "+this.toString()+". It is already a part of "+e.toString());let n=this.findLayer(i.layerName);if(n===null&&(n=this.findLayer("")),n===null&&s.o('Cannot add a Part when unable find a Layer named "'+i.layerName+'" and there is no default Layer'),i.layer===n)return;const a=n.ch(99999999,i,i.diagram===this);a>=0&&this.raiseChangedEvent(3,"parts",n,null,i,null,a),n.isTemporary||this.invalidateDocumentBounds(),i.invalidateLayout(1);const o=i.layerChanged;o!==null&&o(i,null,n)}ch(i){this.partManager.ch(i);const e=this;At.isUsingDOM()&&i.Sn(n=>e.uT(n)),i.data||i.Yo(),i.hasPlaceholder()&&i.c(),i.data!==null&&i.Sn(n=>e.partManager.N2(n,null)),(i.as()===!0||i.fa()===!0)&&this.Cp(i),i.dT(!0,this),i instanceof Ct&&i.canAvoid()&&this.fd(i),i.gT()?(i.actualBounds.isReal()&&this.C(i.hh(i.actualBounds)),this.invalidateDocumentBounds()):i.isVisible()&&i.actualBounds.isReal()&&this.C(i.hh(i.actualBounds)),this.kp!==null&&this.kp(this,i),this.requestUpdate()}ri(i){i.clearAdornments(),this.partManager.ri(i);const e=this;i.data!==null&&i.Sn(n=>e.partManager.C2(n,e)),this.eo.delete(i),i instanceof yt?this.Ir.delete(i):i instanceof Ct&&i.canAvoid()&&this.fd(i),i.gT()?(i.actualBounds.isReal()&&this.C(i.hh(i.actualBounds)),this.invalidateDocumentBounds()):i.isVisible()&&i.actualBounds.isReal()&&this.C(i.hh(i.actualBounds)),this.Pp!==null&&this.Pp(this,i),this.requestUpdate()}remove(i){this.L2(i,!0)}L2(i,e){const n=i.layer;if(n===null||n.diagram!==this)return;i.isSelected=!1,i.isHighlighted=!1,i.invalidateLayout(2),e&&i.lf();const a=n.ri(-1,i,!1);a>=0&&this.raiseChangedEvent(4,"parts",n,i,null,a,null);const o=i.layerChanged;o!==null&&o(i,n,null)}removeParts(i,e){if(e===void 0&&(e=!1),Array.isArray(i)){const n=i.length;for(let a=0;a<n;a++){const o=i[a];e&&!o.canDelete()||this.remove(o)}}else{const n=new C;n.addAll(i);const a=n.iterator;for(;a.next();){const o=a.value;e&&!o.canDelete()||this.remove(o)}}}copyParts(i,e,n){n===void 0&&(n=!1);let a=null;const o=e||this,h=o.model;let u=!1,m=!1;try{h.Vm()&&(u=h.copiesParentKeyOfNodeData,h.copiesParentKeyOfNodeData=o.commandHandler.copiesParentKey),(h.Um()||h.a1())&&(m=h.copiesGroupKeyOfNodeData,h.copiesGroupKeyOfNodeData=o.commandHandler.copiesGroupKey),a=this.partManager.copyParts(i,e,n)}finally{h.Vm()&&(h.copiesParentKeyOfNodeData=u),(h.Um()||h.a1())&&(h.copiesGroupKeyOfNodeData=m)}return a}moveParts(i,e,n,a){if(n===void 0&&(n=!1),a===void 0&&(a=this.Tp()),this.toolManager===null)return;const o=new Q;if(i!==null)if(Array.isArray(i))for(let h=0;h<i.length;h++)this.tl(o,i[h],n,a);else{const h=i.iterator;for(;h.next();)this.tl(o,h.value,n,a)}else{let h=this.parts;for(;h.next();){const u=h.value;this.tl(o,u,n,a)}for(h=this.nodes;h.next();){const u=h.value;this.tl(o,u,n,a)}for(h=this.links;h.next();){const u=h.value;this.tl(o,u,n,a)}}this.Lx(o,e,a,n)}tl(i,e,n,a,o){if(!i.has(e)&&(o===void 0&&(o=!1),!(n&&!o&&!e.canMove()&&!e.canCopy())))if(a===void 0&&(a=this.Tp()),e instanceof Ct){if(i.set(e,this.Ws(a,e,e.location)),e instanceof Jt&&(e.hasPlaceholder()||a.dragsMembers)){const u=e.memberParts;for(;u.next();){const m=u.value;this.tl(i,m,n,a,a.groupsAlwaysMove)}}const h=e.linksConnected;for(;h.next();){const u=h.value;if(i.has(u))continue;const m=u.fromNode,v=u.toNode;m!==null&&i.has(m)&&v!==null&&i.has(v)&&this.tl(i,u,n,a)}if(a.dragsTree){const u=e.findTreeChildrenNodes();for(;u.next();){const m=u.value;this.tl(i,m,n,a)}}}else if(e instanceof yt){i.set(e,this.Ws(a,e));const h=e.labelNodes;for(;h.next();){const u=h.value;this.tl(i,u,n,a)}}else e instanceof Zt||i.set(e,this.Ws(a,e,e.location))}Lx(i,e,n,a){if(i===null||i.count===0)return;const o=N.l(),h=N.l();h.h(e),isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0);const u=this.Qb;u||this.uA(i);const m=s.nt(),v=s.nt(),b=i.iterator;let S=N.l();for(;b.next();){const V=b.key,q=b.value;if(V.Di()){const J=this.mT(V,i);if(J!==null)m.push(new $c(V,q,J));else if(!a||V.canMove()){const re=q.point;o.h(re),this.computeMove(V,o.add(h),n,S),V.location=S,q.shifted===void 0&&(q.shifted=new N),q.shifted.h(S.subtract(re))}}else b.key instanceof yt&&v.push(new U(b.key,b.value))}N.i(S);const A=m.length;for(let V=0;V<A;V++){const q=m[V],J=q.pT.point;o.h(J),q.h1.shifted===void 0&&(q.h1.shifted=new N),q.Ri.location=o.add(q.h1.shifted)}const M=N.l(),O=N.l(),R=v.length;for(let V=0;V<R;V++){const q=v[V],J=q.key;if(J instanceof yt){if(J.suspendsRouting){J.vr=null;const re=J.fromNode,se=J.toNode;if(this.draggedLink!==null&&n.dragsLink){const ne=q.value.point;if(J.dragComputation===null){i.set(J,this.Ws(n,J,h));const xe=h.x-ne.x,ye=h.y-ne.y;J.Pr(xe,ye)}else{const xe=N.z(0,0),ye=J.getPoint(0);ye&&ye.isReal()&&xe.h(ye),S=N.l().h(xe).add(h);let we=S;n.isGridSnapEnabled&&(n.isGridSnapRealtime||this.lastInput.up)&&(we=N.l(),this.lM(J,S,we,n)),S.h(J.dragComputation(J,S,we)).subtract(xe),i.set(J,this.Ws(n,J,S));const ze=S.x-ne.x,Ce=S.y-ne.y;J.Pr(ze,Ce),N.i(xe),N.i(S),we!==S&&N.i(we)}}else{if(re!==null){M.h(re.location);const ne=i.get(re);ne!==null&&M.subtract(ne.point)}if(se!==null){O.h(se.location);const ne=i.get(se);ne!==null&&O.subtract(ne.point)}if(re!==null&&se!==null)if(M.equalsApprox(O)){const ne=q.value.point,xe=o;xe.h(M),xe.subtract(ne),i.set(J,this.Ws(n,J,M)),J.Pr(xe.x,xe.y)}else J.suspendsRouting=!1,J.$t();else{const ne=q.value.point;let xe;re!==null?xe=M:se!==null?xe=O:xe=h,i.set(J,this.Ws(n,J,xe));const ye=xe.x-ne.x,we=xe.y-ne.y;J.Pr(ye,we)}}}else if(J.fromNode===null||J.toNode===null){const re=q.value.point;i.set(J,this.Ws(n,J,h));const se=h.x-re.x,ne=h.y-re.y;J.Pr(se,ne)}}}N.i(o),N.i(h),N.i(M),N.i(O),s.Z(m),s.Z(v),u||(this.Te(),this.pS(i))}computeMove(i,e,n,a){if(a===void 0&&(a=new N),a.h(e),i===null)return a;let o=e;const h=n.isGridSnapEnabled;h&&(n.isGridSnapRealtime||this.lastInput.up)&&(o=N.l(),this.lM(i,e,o,n));const u=i.dragComputation!==null?i.dragComputation(i,e,o):o,m=i.minLocation;let v=m.x;isNaN(v)&&(v=h?Math.round(i.location.x*1e3)/1e3:i.location.x);let b=m.y;isNaN(b)&&(b=h?Math.round(i.location.y*1e3)/1e3:i.location.y);const S=i.maxLocation;let A=S.x;isNaN(A)&&(A=h?Math.round(i.location.x*1e3)/1e3:i.location.x);let M=S.y;return isNaN(M)&&(M=h?Math.round(i.location.y*1e3)/1e3:i.location.y),a.e(Math.max(v,Math.min(u.x,A)),Math.max(b,Math.min(u.y,M))),o!==e&&N.i(o),a}Tp(){const i=this.toolManager.findTool("Dragging");return i instanceof Ue?i.dragOptions:this.ad}lM(i,e,n,a){if(a===void 0&&(a=this.Tp()),n.h(e),i===null)return n;const o=this.grid,h=a.gridSnapCellSize;let u=h.width,m=h.height;const v=a.gridSnapOrigin;let b=v.x,S=v.y;const A=a.gridSnapCellSpot;if(o!==null){const O=o.gridCellSize;isNaN(u)&&(u=O.width),isNaN(m)&&(m=O.height);const R=o.gridOrigin;isNaN(b)&&(b=R.x),isNaN(S)&&(S=R.y)}const M=N.z(0,0);return M.setSpot(0,0,u,m,A),G.tm(e.x,e.y,b+M.x,S+M.y,u,m,n),N.i(M),n}uA(i){if(i===null)return;this.Qb=!0;const e=i.iterator;for(;e.next();){const n=e.key;n instanceof yt&&(n.suspendsRouting=!0)}}pS(i){if(i===null)return;const e=i.iterator;for(;e.next();){const n=e.key;n instanceof yt&&(n.suspendsRouting=!1,n.yT()&&n.$t())}this.Qb=!1}get draggedLink(){return this._b}set draggedLink(i){this._b!==i&&(this._b=i,i!==null&&(this.t1=i.fromPort,this.e1=i.toPort))}get PS(){return this.t1}set PS(i){this.t1=i}get SS(){return this.e1}set SS(i){this.e1=i}mT(i,e){const n=i.containingGroup;if(n!==null){let a=this.mT(n,e);if(a!==null||(a=e.get(n),a!==null))return a}return null}Ws(i,e,n){if(n===void 0)return new ka(N.gn);let a=i.isGridSnapEnabled;return!i.groupsSnapMembers&&e.containingGroup!==null&&(a=!1),a?new ka(new N(Math.round(n.x*1e3)/1e3,Math.round(n.y*1e3)/1e3)):new ka(n.copy())}A2(i,e){if(i.diagram!==null&&i.diagram!==this&&s.o("Cannot share a Layer with another Diagram: "+i+" of "+i.diagram),e===null?i.diagram!==null&&s.o("Cannot add an existing Layer to this Diagram again: "+i):(e.diagram!==this&&s.o("Existing Layer must be in this Diagram: "+e+" not in "+e.diagram),i===e&&s.o("Cannot move a Layer before or after itself: "+i)),i.diagram===this)return;const n=i.name,a=this.zt,o=a.count;for(let h=0;h<o;h++)a.elt(h).name===n&&s.o("Cannot add Layer with the name '"+n+"'; a Layer with the same name is already present in this Diagram.")}addLayer(i){this.A2(i,null),i.Eo(this);const e=this.zt;let n=e.count-1;if(!i.isTemporary)for(;n>=0&&e.elt(n).isTemporary;)n--;return e.insertAt(n+1,i),this.Ce!==null&&this.raiseChangedEvent(3,"layers",this,null,i,null,n+1),this.C(),this.invalidateDocumentBounds(),this}addLayerBefore(i,e){this.A2(i,e),i.Eo(this);const n=this.zt,a=n.indexOf(i);a>=0&&(n.delete(i),this.Ce!==null&&this.raiseChangedEvent(4,"layers",this,i,null,a,null));const o=n.count;let h;for(h=0;h<o;h++)if(n.elt(h)===e){n.insertAt(h,i);break}return this.Ce!==null&&this.raiseChangedEvent(3,"layers",this,null,i,null,h),this.C(),a<0&&this.invalidateDocumentBounds(),this}addLayerAfter(i,e){this.A2(i,e),i.Eo(this);const n=this.zt,a=n.indexOf(i);a>=0&&(n.delete(i),this.Ce!==null&&this.raiseChangedEvent(4,"layers",this,i,null,a,null));const o=n.count;let h;for(h=0;h<o;h++)if(n.elt(h)===e){n.insertAt(h+1,i);break}return this.Ce!==null&&this.raiseChangedEvent(3,"layers",this,null,i,null,h+1),this.C(),a<0&&this.invalidateDocumentBounds(),this}Qr(i,e){i.Eo(this),this.zt.insertAt(e,i)}wT(i){this.zt.removeAt(i)}removeLayer(i){if(i.diagram!==this&&s.o("Cannot remove a Layer from another Diagram: "+i+" of "+i.diagram),i.name==="")return;const e=this.zt,n=e.indexOf(i);if(e.delete(i)){const a=i.Ct.copy().iterator;for(;a.next();){const o=a.value,h=o.layerName;h!==i.name?o.layerName=h:o.layerName=""}this.Ce!==null&&this.raiseChangedEvent(4,"layers",this,i,null,n,null),this.C(),this.invalidateDocumentBounds()}}findLayer(i){const e=this.layers;for(;e.next();){const n=e.value;if(n.name===i)return n}return null}findRouter(i){for(const e of this.of)if(e.name===i)return e;return null}addModelChangedListener(i){return s.S(i,At,"addModelChangedListener:listener"),this.io===null&&(this.io=new w),this.io.add(i),this.model&&this.model.addChangedListener(i),this}removeModelChangedListener(i){s.S(i,At,"removeModelChangedListener:listener"),this.io!==null&&(this.io.delete(i),this.io.count===0&&(this.io=null)),this.model.removeChangedListener(i)}addChangedListener(i){return s.S(i,At,"addChangedListener:listener"),this.Er===null&&(this.Er=new w),this.Er.add(i),this}removeChangedListener(i){s.S(i,At,"removeChangedListener:listener"),this.Er!==null&&(this.Er.delete(i),this.Er.count===0&&(this.Er=null))}T2(i){if(!this.skipsUndoManager&&!this.model.skipsUndoManager&&this.model.undoManager.handleChanged(i),i.change!==1&&(this.isModified=!0),this.Er!==null){const e=this.Er,n=e.length;for(let a=0;a<n;a++)e.elt(a)(i)}}raiseChangedEvent(i,e,n,a,o,h,u){h===void 0&&(h=null),u===void 0&&(u=null);const m=new Ze;m.diagram=this,m.change=i,m.propertyName=e,m.object=n,m.oldValue=a,m.oldParam=h,m.newValue=o,m.newParam=u,this.T2(m)}raiseChanged(i,e,n,a,o){this.raiseChangedEvent(2,i,this,e,n,a,o)}t(i,e,n,a,o){this.raiseChangedEvent(2,i,this,e,n,a,o)}get partAdded(){return this.kp}set partAdded(i){this.partAdded!==i&&(this.kp=i)}get partRemoved(){return this.Pp}set partRemoved(i){this.partRemoved!==i&&(this.Pp=i)}get animationManager(){return this.Ns}get undoManager(){return this.Ce.undoManager}get skipsUndoManager(){return this.Bo}set skipsUndoManager(i){s.s(i,"boolean",At,"skipsUndoManager"),this.Bo=i,this.Ce.skipsUndoManager=i}get delaysLayout(){return this.Ab}set delaysLayout(i){this.Ab=i}tA(i,e){var a,o;if(i===null||i.diagram!==this)return;const n=this.wi;try{this.wi=!0;const h=i.change;if(h===2){const u=i.object,m=i.propertyName,v=i.getValue(e);if(i.diagram.model.et(u,m,v),u instanceof oi){const b=u.part;b!==null&&(b.invalidateAdornments(),b instanceof yt&&((a=b.fromNode)==null||a.Ze(b.fromPort),(o=b.toNode)==null||o.Ze(b.toPort)))}this.isModified=!0}else if(h===3){const u=i.object,m=i.newParam,v=i.newValue;if(u instanceof j)if(typeof m=="number"&&v instanceof oi){e?u.ri(m):u.insertAt(m,v);const b=u.part;b!==null&&b.invalidateAdornments()}else typeof m=="number"&&v instanceof be&&(v.isRow?u.xT(m,e?void 0:v):u.bT(m,e?void 0:v));else if(u instanceof Ri){const b=i.oldParam===!0;typeof m=="number"&&v instanceof Et&&(e?(b||(v.isSelected=!1,v.isHighlighted=!1,v.invalidateAdornments()),u.ri(b?m:-1,v,b)):u.ch(m,v,b))}else u instanceof At?typeof m=="number"&&v instanceof Ri&&(e?this.wT(m):this.Qr(v,m)):s.o("unknown ChangeType.Insert object: "+i.toString());this.isModified=!0}else if(h===4){const u=i.object,m=i.oldParam,v=i.oldValue;if(u instanceof j)typeof m=="number"&&v instanceof oi?e?u.insertAt(m,v):u.ri(m):typeof m=="number"&&v instanceof be&&(v.isRow?u.xT(m,e?v:void 0):u.bT(m,e?v:void 0));else if(u instanceof Ri){const b=i.newParam===!0;typeof m=="number"&&v instanceof Et&&(e?u.Ct.indexOf(v)<0&&u.ch(m,v,b):(b||(v.isSelected=!1,v.isHighlighted=!1,v.invalidateAdornments()),u.ri(b?m:-1,v,b)))}else u instanceof At?typeof m=="number"&&v instanceof Ri&&(e?this.Qr(v,m):this.wT(m)):s.o("unknown ChangeType.Remove object: "+i.toString());this.isModified=!0}else h===1||s.o("unknown ChangedEvent: "+i.toString())}finally{this.wi=n}}startTransaction(i){return this.undoManager.startTransaction(i)}commitTransaction(i){return this.undoManager.commitTransaction(i)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(i,e){let n=e;n===void 0&&(n="");const a=this.skipsUndoManager;n===null&&(this.skipsUndoManager=!0,n=""),this.undoManager.startTransaction(n);let o=!1;try{i(this),o=!0}finally{o?this.undoManager.commitTransaction(n):this.undoManager.rollbackTransaction(),this.skipsUndoManager=a}}updateAllTargetBindings(i){this.partManager.updateAllTargetBindings(i)}updateAllThemeBindings(){if(this.partManager.updateAllThemeBindings(),this.ls!==null){const i=this.ls.part;i!==null&&i.Yo()}}setDivBackground(i){this.div&&(this.div.style.backgroundColor=i)}updateAllRelationshipsFromData(){this.partManager.updateAllRelationshipsFromData()}Np(){const i=this.v,e=this.it,n=this.ct;i.Ue(),e!==1&&i.it(e),(n.x!==0||n.y!==0)&&i.Gs(-n.x,-n.y)}kT(i,e){const n=this.animationManager;if(this.Ht||this.Ts){this.it=e,this.aa(),this.C(),this.Nh(),n.EA(i,this.it),this.Np();return}if(this.lt===null){this.it=e,this.Np();return}this.Ht=!0;const a=this.viewportBounds.copy(),o=this.wt,h=this.xt;let u=this.zoomPoint.x,m=this.zoomPoint.y;const v=this.contentAlignment;isNaN(u)&&(v.isSide()?v.includesSide(K.LeftSide)?u=0:v.includesSide(K.RightSide)&&(u=o-1):v.isSpot()?u=v.x*(o-1):u=o/2),isNaN(m)&&(v.isSide()?v.includesSide(K.TopSide)?m=0:v.includesSide(K.BottomSide)&&(m=h-1):v.isSpot()?m=v.y*(h-1):m=h/2),this.scaleComputation!==null&&!this.animationManager.defaultAnimation.isAnimating&&(e=this.scaleComputation(this,e)),e<this.minScale&&(e=this.minScale),e>this.maxScale&&(e=this.maxScale);const b=N.z(this.ct.x+u/i-u/e,this.ct.y+m/i-m/e);this.position=b,N.i(b),this.it=e,this.Np(),this.aa(),this.Ht=!1,this.onViewportBoundsChanged(a,this.viewportBounds,i,!1),this.$s(!1),n.EA(i,this.it),this.C()}pO(){const i=this.zt.r;for(let e=0;e<i.length;e++)i[e].YA()}onViewportBoundsChanged(i,e,n,a){if(i.equals(e))return;a===void 0&&(a=!1),a||this.Nh(),this.ha();const o=this.layout;o!==null&&o.isViewportSized&&this.autoScale===1&&(i.width!==e.width||i.height!==e.height)&&o.p();const h=this.currentTool;this.sf===!0&&h instanceof qe&&!this.animationManager.isTicking&&(this.lastInput.documentPoint=this.transformViewToDoc(this.lastInput.viewPoint),h.cA(this)),this.Ht||this.invalidateViewport(i,e),this.ca(),this.Ye.scale=n,this.Ye.position.x=i.x,this.Ye.position.y=i.y,this.Ye.bounds.h(i),this.Ye.canvasSize.width=Math.round(i.width*n),this.Ye.canvasSize.height=Math.round(i.height*n),this.Ye.newCanvasSize.width=this.wt,this.Ye.newCanvasSize.height=this.xt,this.Ye.isScroll=a,this.T("ViewportBoundsChanged",this.Ye,i),this.isVirtualized&&this.links.each(u=>{u.isAvoiding&&u.actualBounds.intersectsRect(e)&&u.$t()})}ca(i){const e=this.ls;if(e===null||!e.visible||e.part===null||e.layer===null)return;const n=i!==void 0?i:this.Yb;if(!n.isReal())return;const a=n.width,o=n.height;if(e.scale=1,e.angle=0,e.layer.isViewportAligned)e.width=a*this.scale,e.height=o*this.scale,e.part.alignment=K.TopLeft;else{e.Pe===null&&(e.Pe=new ce);const h=e.Pe.af;if(!h.isReal())return;e.width=a+h.width*2,e.height=o+h.height*2;const u=N.l();G.tm(n.x,n.y,0,0,h.width,h.height,u),u.offset(-h.width,-h.height),e.part.location=u,N.i(u)}}clearSelection(i){i===void 0&&(i=!1);const e=this.selection;if(e.count===0)return;i||this.T("ChangingSelection",e);const n=e.toArray(),a=n.length;for(let o=0;o<a;o++){const h=n[o];h.isSelected=!1}e.ce(),e.clear(),e.k(),i||this.T("ChangedSelection",e)}select(i){i!==null&&i.diagram===this&&(!i.isSelected||this.selection.count>1)&&(this.T("ChangingSelection",this.selection),this.clearSelection(!0),i.isSelected=!0,this.T("ChangedSelection",this.selection))}selectCollection(i){if(this.T("ChangingSelection",this.selection),this.clearSelection(!0),Array.isArray(i)){const e=i.length;for(let n=0;n<e;n++){const a=i[n];a instanceof Et||s.o("Diagram.selectCollection given something that is not a Part: "+a),a.isSelected=!0}}else{const e=i.iterator;for(;e.next();){const n=e.value;n instanceof Et||s.o("Diagram.selectCollection given something that is not a Part: "+n),n.isSelected=!0}}this.T("ChangedSelection",this.selection)}clearHighlighteds(){const i=this.highlighteds;if(i.count>0){const e=i.toArray(),n=e.length;for(let a=0;a<n;a++){const o=e[a];o.isHighlighted=!1}i.ce(),i.clear(),i.k()}}highlight(i){i!==null&&i.diagram===this&&(!i.isHighlighted||this.highlighteds.count>1)&&(this.clearHighlighteds(),i.isHighlighted=!0)}highlightCollection(i){const e=new C().addAll(i),n=this.highlighteds.copy().removeAll(e).iterator;for(;n.next();){const o=n.value;o.isHighlighted=!1}const a=e.iterator;for(;a.next();){const o=a.value;o instanceof Et||s.o("Diagram.highlightCollection given something that is not a Part: "+o),o.isHighlighted=!0}}scroll(i,e,n){n===void 0&&(n=1);const a=e==="up"||e==="down";let o=0;const h=N.l();if(i==="pixel")o=n;else if(i==="line")o=n*(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if(i==="page"){let m=a?this.viewportBounds.height:this.viewportBounds.width;if(m*=this.scale,m!==0){const v=Math.max(m-(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0);o=n*v}}else if(i==="document"){const m=this.documentBounds,v=this.viewportBounds;e==="up"?this.position=h.e(v.x,m.y):e==="left"?this.position=h.e(m.x,v.y):e==="down"?this.position=h.e(v.x,m.bottom-v.height):e==="right"&&(this.position=h.e(m.right-v.width,v.y)),N.i(h);return}else s.o("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+i);o/=this.scale;const u=this.position;e==="up"?this.position=h.e(u.x,u.y-o):e==="down"?this.position=h.e(u.x,u.y+o):e==="left"?this.position=h.e(u.x-o,u.y):e==="right"?this.position=h.e(u.x+o,u.y):s.o("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),N.i(h)}scrollToRect(i){const e=this.viewportBounds;if(e.containsRect(i))return;const n=i.center;n.x-=e.width/2,n.y-=e.height/2,this.position=n}centerRect(i){const e=this.viewportBounds,n=i.center;n.x-=e.width/2,n.y-=e.height/2,this.position=n}transformDocToView(i){return i.copy().v(this.v)}transformViewToDoc(i){return i.copy().Ki(this.v)}GR(i){return i.Ki(this.v)}get opacity(){return this.Zt}set opacity(i){const e=this.Zt;e!==i&&(s.s(i,"number",At,"opacity"),(i<0||i>1)&&s.J(i,"0 <= value <= 1",At,"opacity"),this.Zt=i,this.t("opacity",e,i),this.C())}get validCycle(){return this.Pb}set validCycle(i){const e=this.Pb;e!==i&&(this.Pb=i,this.t("validCycle",e,i))}get layers(){return this.zt.iterator}get isModelReadOnly(){const i=this.Ce;return i===null?!1:i.isReadOnly}set isModelReadOnly(i){const e=this.Ce;e!==null&&(e.isReadOnly=i)}get isReadOnly(){return this.zo}set isReadOnly(i){const e=this.zo;e!==i&&(s.s(i,"boolean",At,"isReadOnly"),this.zo=i,this.t("isReadOnly",e,i))}get isEnabled(){return this.Be}set isEnabled(i){const e=this.Be;e!==i&&(s.s(i,"boolean",At,"isEnabled"),this.Be=i,this.t("isEnabled",e,i))}get allowClipboard(){return this.Tb}set allowClipboard(i){const e=this.Tb;e!==i&&(s.s(i,"boolean",At,"allowClipboard"),this.Tb=i,this.t("allowClipboard",e,i))}get allowCopy(){return this.Yl}set allowCopy(i){const e=this.Yl;e!==i&&(s.s(i,"boolean",At,"allowCopy"),this.Yl=i,this.t("allowCopy",e,i))}get allowDelete(){return this.Kl}set allowDelete(i){const e=this.Kl;e!==i&&(s.s(i,"boolean",At,"allowDelete"),this.Kl=i,this.t("allowDelete",e,i))}get allowDragOut(){return this.Db}set allowDragOut(i){const e=this.Db;e!==i&&(s.s(i,"boolean",At,"allowDragOut"),this.Db=i,this.t("allowDragOut",e,i))}get allowDrop(){return this.vb}set allowDrop(i){const e=this.vb;e!==i&&(s.s(i,"boolean",At,"allowDrop"),this.vb=i,this.t("allowDrop",e,i))}get allowTextEdit(){return this.Hl}set allowTextEdit(i){const e=this.Hl;e!==i&&(s.s(i,"boolean",At,"allowTextEdit"),this.Hl=i,this.t("allowTextEdit",e,i))}get allowGroup(){return this.jl}set allowGroup(i){const e=this.jl;e!==i&&(s.s(i,"boolean",At,"allowGroup"),this.jl=i,this.t("allowGroup",e,i))}get allowUngroup(){return this.ql}set allowUngroup(i){const e=this.ql;e!==i&&(s.s(i,"boolean",At,"allowUngroup"),this.ql=i,this.t("allowUngroup",e,i))}get allowInsert(){return this.Fb}set allowInsert(i){const e=this.Fb;e!==i&&(s.s(i,"boolean",At,"allowInsert"),this.Fb=i,this.t("allowInsert",e,i))}get allowLink(){return this.Wl}set allowLink(i){const e=this.Wl;e!==i&&(s.s(i,"boolean",At,"allowLink"),this.Wl=i,this.t("allowLink",e,i))}get allowRelink(){return this.Jl}set allowRelink(i){const e=this.Jl;e!==i&&(s.s(i,"boolean",At,"allowRelink"),this.Jl=i,this.t("allowRelink",e,i))}get allowMove(){return this.$l}set allowMove(i){const e=this.$l;e!==i&&(s.s(i,"boolean",At,"allowMove"),this.$l=i,this.t("allowMove",e,i))}get allowReshape(){return this.Zl}set allowReshape(i){const e=this.Zl;e!==i&&(s.s(i,"boolean",At,"allowReshape"),this.Zl=i,this.t("allowReshape",e,i))}get allowResize(){return this.Ql}set allowResize(i){const e=this.Ql;e!==i&&(s.s(i,"boolean",At,"allowResize"),this.Ql=i,this.t("allowResize",e,i))}get allowRotate(){return this._l}set allowRotate(i){const e=this._l;e!==i&&(s.s(i,"boolean",At,"allowRotate"),this._l=i,this.t("allowRotate",e,i))}get allowSelect(){return this.ta}set allowSelect(i){const e=this.ta;e!==i&&(s.s(i,"boolean",At,"allowSelect"),this.ta=i,this.t("allowSelect",e,i))}get allowUndo(){return this.Rb}set allowUndo(i){const e=this.Rb;e!==i&&(s.s(i,"boolean",At,"allowUndo"),this.Rb=i,this.t("allowUndo",e,i))}get allowZoom(){return this.Ob}set allowZoom(i){const e=this.Ob;e!==i&&(s.s(i,"boolean",At,"allowZoom"),this.Ob=i,this.t("allowZoom",e,i))}get hasVerticalScrollbar(){return this._u}set hasVerticalScrollbar(i){const e=this._u;e!==i&&(s.s(i,"boolean",At,"hasVerticalScrollbar"),this._u=i,this.Nh(),this.C(),this.t("hasVerticalScrollbar",e,i),this.$s(!1))}get hasHorizontalScrollbar(){return this.Qu}set hasHorizontalScrollbar(i){const e=this.Qu;e!==i&&(s.s(i,"boolean",At,"hasHorizontalScrollbar"),this.Qu=i,this.Nh(),this.C(),this.t("hasHorizontalScrollbar",e,i),this.$s(!1))}get allowHorizontalScroll(){return this.Ib}set allowHorizontalScroll(i){const e=this.Ib;e!==i&&(s.s(i,"boolean",At,"allowHorizontalScroll"),this.Ib=i,this.t("allowHorizontalScroll",e,i),this.$s(!1))}get allowVerticalScroll(){return this.Eb}set allowVerticalScroll(i){const e=this.Eb;e!==i&&(s.s(i,"boolean",At,"allowVerticalScroll"),this.Eb=i,this.t("allowVerticalScroll",e,i),this.$s(!1))}get scrollHorizontalLineChange(){return this.Ub}set scrollHorizontalLineChange(i){const e=this.Ub;e!==i&&(s.s(i,"number",At,"scrollHorizontalLineChange"),i<0&&s.J(i,">= 0",At,"scrollHorizontalLineChange"),this.Ub=i,this.t("scrollHorizontalLineChange",e,i))}get scrollVerticalLineChange(){return this.Vb}set scrollVerticalLineChange(i){const e=this.Vb;e!==i&&(s.s(i,"number",At,"scrollVerticalLineChange"),i<0&&s.J(i,">= 0",At,"scrollVerticalLineChange"),this.Vb=i,this.t("scrollVerticalLineChange",e,i))}get lastInput(){return this.gh}set lastInput(i){this.gh=i}get previousInput(){return this.Jr}set previousInput(i){this.Jr=i}get firstInput(){return this.fp}set firstInput(i){this.fp=i}get currentCursor(){return this.Sb}set currentCursor(i){if(i===""&&(i=this.op),this.Sb!==i){s.s(i,"string",At,"currentCursor");const e=this.lt,n=this.Nt;if(e===null||n===null)return;this.Sb=i;const a=e.style.cursor;e.style.cursor=i,n.style.cursor=i,e.style.cursor===a&&(e.style.cursor="-webkit-"+i,n.style.cursor="-webkit-"+i,e.style.cursor===a&&(e.style.cursor="-moz-"+i,n.style.cursor="-moz-"+i,e.style.cursor===a&&(e.style.cursor=i,n.style.cursor=i)))}}get defaultCursor(){return this.op}set defaultCursor(i){i===""&&(i="auto");const e=this.op;e!==i&&(s.s(i,"string",At,"defaultCursor"),this.op=i,this.t("defaultCursor",e,i))}get click(){return this.Ur}set click(i){const e=this.Ur;e!==i&&(i!==null&&s.S(i,At,"click"),this.Ur=i,this.t("click",e,i))}get doubleClick(){return this.Vr}set doubleClick(i){const e=this.Vr;e!==i&&(i!==null&&s.S(i,At,"doubleClick"),this.Vr=i,this.t("doubleClick",e,i))}get contextClick(){return this.Br}set contextClick(i){const e=this.Br;e!==i&&(i!==null&&s.S(i,At,"contextClick"),this.Br=i,this.t("contextClick",e,i))}get mouseOver(){return this.zr}set mouseOver(i){const e=this.zr;e!==i&&(i!==null&&s.S(i,At,"mouseOver"),this.zr=i,this.t("mouseOver",e,i))}get mouseHover(){return this.Xr}set mouseHover(i){const e=this.Xr;e!==i&&(i!==null&&s.S(i,At,"mouseHover"),this.Xr=i,this.t("mouseHover",e,i))}get mouseHold(){return this.Gr}set mouseHold(i){const e=this.Gr;e!==i&&(i!==null&&s.S(i,At,"mouseHold"),this.Gr=i,this.t("mouseHold",e,i))}get mouseDragOver(){return this.Mb}set mouseDragOver(i){const e=this.Mb;e!==i&&(i!==null&&s.S(i,At,"mouseDragOver"),this.Mb=i,this.t("mouseDragOver",e,i))}get mouseDrop(){return this.Yr}set mouseDrop(i){const e=this.Yr;e!==i&&(this.Yr=i,this.t("mouseDrop",e,i))}get handlesDragDropForTopLevelParts(){return this.Nb}set handlesDragDropForTopLevelParts(i){const e=this.Nb;e!==i&&(s.s(i,"boolean",At,"handlesDragDropForTopLevelParts"),this.Nb=i,this.t("handlesDragDropForTopLevelParts",e,i))}get mouseEnter(){return this.Kr}set mouseEnter(i){const e=this.Kr;e!==i&&(i!==null&&s.S(i,At,"mouseEnter"),this.Kr=i,this.t("mouseEnter",e,i))}get mouseLeave(){return this.Hr}set mouseLeave(i){const e=this.Hr;e!==i&&(i!==null&&s.S(i,At,"mouseLeave"),this.Hr=i,this.t("mouseLeave",e,i))}get toolTip(){return this.jr}set toolTip(i){const e=this.jr;e!==i&&(this.jr=i,this.t("toolTip",e,i))}get contextMenu(){return this.qr}set contextMenu(i){const e=this.qr;e!==i&&(this.qr=i,this.t("contextMenu",e,i))}get commandHandler(){return this.jM}set commandHandler(i){const e=this.jM;e!==i&&(e&&e.doStop(),this.jM=i,i.Eo(this),i.doStart())}get toolManager(){return this.YM}set toolManager(i){this.YM!==i&&(this.YM=i,i.diagram=this)}get defaultTool(){return this.KM}set defaultTool(i){const e=this.KM;e!==i&&(this.KM=i,i.diagram=this,this.currentTool===e&&(this.currentTool=i))}get currentTool(){return this.HM}set currentTool(i){const e=this.HM;e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),i===null&&(i=this.defaultTool),i!==null&&(this.HM=i,i.diagram=this,i.doStart())}get selection(){return this.KA}get maxSelectionCount(){return this.Gb}set maxSelectionCount(i){const e=this.Gb;if(e!==i)if(s.s(i,"number",At,"maxSelectionCount"),i>=0&&!isNaN(i)){if(this.Gb=i,this.t("maxSelectionCount",e,i),!this.undoManager.isUndoingRedoing){const n=this.selection.count-i;if(n>0){this.T("ChangingSelection",this.selection);const a=this.selection.toArray();for(let o=0;o<n;o++)a[o].isSelected=!1;this.T("ChangedSelection",this.selection)}}}else s.J(i,">= 0",At,"maxSelectionCount")}get nodeSelectionAdornmentTemplate(){return this.hp}set nodeSelectionAdornmentTemplate(i){const e=this.hp;e!==i&&(this.hp=i.It(),this.t("nodeSelectionAdornmentTemplate",e,i))}get groupSelectionAdornmentTemplate(){return this.Hb}set groupSelectionAdornmentTemplate(i){const e=this.Hb;e!==i&&(this.Hb=i.It(),this.t("groupSelectionAdornmentTemplate",e,i))}get linkSelectionAdornmentTemplate(){return this.jb}set linkSelectionAdornmentTemplate(i){const e=this.jb;e!==i&&(this.jb=i.It(),this.t("linkSelectionAdornmentTemplate",e,i))}get highlighteds(){return this.HA}get isModified(){const i=this.undoManager;return i.isEnabled?i.currentTransaction!==null?!0:this.nd&&this.js!==i.historyIndex:this.nd}set isModified(i){if(this.nd!==i){s.s(i,"boolean",At,"isModified"),this.nd=i;const e=this.undoManager;!i&&e.isEnabled&&(this.js=e.historyIndex),i||this.PT()}}PT(){const i=this.isModified;this.$M!==i&&(this.$M=i,this.T("Modified"))}get model(){return this.Ce}set model(i){const e=this.Ce;if(e!==i){this.currentTool.doCancel(),e&&e.undoManager!==i.undoManager&&e.undoManager.isInTransaction&&s.o("Do not replace a Diagram.model while a transaction is in progress.");const n=this.sT(!0);this.no=!1,this.Zu=!0,this.js=-2,this.Dr=!1;const a=this.Ht;this.Ht=!0,this.animationManager.Gl("Model"),e&&(this.io!==null&&this.io.each(o=>e.removeChangedListener(o)),e.removeChangedListener(this.Qc)),this.Ce=i,this.partManager=this.NO(this.Ce.type),this.initializePartManager(this.partManager);for(let o=0;o<n.length;o++)this.add(n[o]);i.addChangedListener(this.JM),this.partManager.D2(),i.removeChangedListener(this.JM),i.addChangedListener(this.Qc),this.io!==null&&this.io.each(o=>i.addChangedListener(o)),this.Ht=a,this.invalidateDocumentBounds(),this.Ht||this.C(),e&&i.undoManager.copyProperties(e.undoManager)}}get themeManager(){return this.d2}set themeManager(i){const e=this.d2;e!==i&&(e&&e.removeDiagram(this),this.d2=i,i!==null&&i.addDiagram(this))}initializePartManager(i){}static g2(i,e){At.JA.set(i,e)}static get licenseKey(){return At.v2.last()}static set licenseKey(i){At.v2.add(i.replace(/\s/g,""))}static get version(){return At.CO}NO(i){const e=At.JA.get(i);return e!==null?new e:new Po}get G(){return this.WM}set G(i){this.WM=i}get nb(){return this.jA}LO(i){if(i.model!==this.model)return;const e=i.change,n=i.propertyName;if(e===1&&n[0]==="S"){if(n==="StartingFirstTransaction"){const a=this,o=this.toolManager;o.mouseDownTools.each(h=>h.diagram=a),o.mouseMoveTools.each(h=>h.diagram=a),o.mouseUpTools.each(h=>h.diagram=a),this.routers.each(h=>h.diagram=a),!this.Ts&&!this.no&&(this.Zc=!0,this.Zu&&(this.Dr=!0))}else if(n==="StartingUndo"||n==="StartingRedo"){const a=this.animationManager;this.skipsUndoManager||(a.defaultAnimation.isAnimating&&a.stopAnimation(),a.getBundleAnimation().isAnimating&&a.getBundleAnimation().stop()),this.T("ChangingSelection",this.selection)}else if(n==="StartedTransaction"){const a=this.animationManager;a.defaultAnimation.isAnimating&&!this.skipsUndoManager&&a.stopAnimation()}return}if(this.G){this.G=!1;try{if(i.modelChange===""&&e===1){(n==="FinishedUndo"||n==="FinishedRedo")&&(this.T("ChangedSelection",this.selection),this.Te());const a=this.animationManager;n==="RolledBackTransaction"&&a.stopAnimation(),this.VA(),this.Zc=!0,this.maybeUpdate(),(this.undoManager.transactionLevel===0||this.undoManager.transactionLevel===1)&&a.SM(),n==="CommittedTransaction"&&this.undoManager.isJustDiscarded&&(this.js=Math.min(this.js,this.undoManager.historyIndex-1)),(n==="CommittedTransaction"||n==="RolledBackTransaction")&&this.undoManager.Sx&&s.dn(()=>{this.isModified=!1},1);const o=i.isTransactionFinished;if(o&&(this.PT(),this.nb.clear(),this.animationManager.CR()),!this.Cb&&o&&this.lastInput.targetDiagram){this.Cb=!0;const h=this;s.dn(()=>{h.currentTool.standardMouseOver(),h.Cb=!1},10)}}}finally{this.G=!0}}}get wi(){return this.qM}set wi(i){this.qM=i}get Ou(){return this.Lb}set Ou(i){this.Lb=i}uT(i){const e=i.D.r;for(const n of e)n instanceof nt&&this.F2(n)}F2(i){const e=i.element;if(e===null||!t.HTMLImageElement||!(e instanceof HTMLImageElement)||(e.hs instanceof C&&e.hs.add(this),i.AO(),!e.Dp))return;const n=e.getAttribute("src")||"",a=this.oa.get(n);if(a===null){nt.ST(i,e);const o=[];o.push(i),this.oa.set(n,o)}else{for(let o=0;o<a.length;o++)if(a[o]===i)return;a.push(i)}}TO(i){const e=i.D.r,n=e.length;for(let a=0;a<n;a++)this.R2(e[a])}R2(i){if(!(i instanceof nt))return;const e=i.element;if(e===null||!t.HTMLImageElement||!(e instanceof HTMLImageElement)||!e.Dp)return;const n=e.getAttribute("src")||"",a=this.oa.get(n);if(a!==null){for(let o=0;o<a.length;o++)if(a[o]===i){a.splice(o,1),a.length===0&&(this.oa.delete(n),nt.DO(e),e.hs instanceof C&&e.hs.delete(this));return}}}nT(){nt.clearCache(),this.oa.clear()}rebuildParts(){this.partManager.rebuildParts()}Kc(i,e){this.Ns.Kc(i,e)}Yc(i,e){this.Ns.Yc(i,e)}findPartForKey(i){return this.partManager.findPartForKey(i)}findNodeForKey(i){return this.partManager.findNodeForKey(i)}findLinkForKey(i){return this.partManager.findLinkForKey(i)}findPartForData(i){return this.partManager.findPartForData(i)}findNodeForData(i){return this.partManager.findNodeForData(i)}findLinkForData(i){return this.partManager.findLinkForData(i)}findNodesByExample(...i){return this.partManager.findNodesByExample(...i)}findLinksByExample(...i){return this.partManager.findLinksByExample(...i)}get nodeTemplate(){return this.Wr.get("")}set nodeTemplate(i){const e=this.Wr.get("");e!==i&&(this.Wr.set("",i),this.t("nodeTemplate",e,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get nodeTemplateMap(){return this.Wr}set nodeTemplateMap(i){const e=this.Wr;e!==i&&(this.Wr=i,this.t("nodeTemplateMap",e,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplate(){return this.dh.get("")}set groupTemplate(i){const e=this.dh.get("");e!==i&&(this.dh.set("",i),this.t("groupTemplate",e,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplateMap(){return this.dh}set groupTemplateMap(i){const e=this.dh;e!==i&&(this.dh=i,this.t("groupTemplateMap",e,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplate(){return this.na.get("")}set linkTemplate(i){const e=this.na.get("");e!==i&&(this.na.set("",i),this.t("linkTemplate",e,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplateMap(){return this.na}set linkTemplateMap(i){const e=this.na;e!==i&&(this.na=i,this.t("linkTemplateMap",e,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get isMouseCaptured(){return this.ZM}set isMouseCaptured(i){const e=this.lt;if(e===null)return;const n=e.bt;n instanceof SVGElement||(i?(this.lastInput.bubbles=!1,this.Le(n,"pointermove",this.xh,!1),this.Le(n,"pointerdown",this.la,!1),this.Le(n,"pointerup",this.bh,!1),this.Le(n,"pointerout",this.kh,!1),this.Le(n,"pointercancel",this.Ph,!1),this.Et(t,"pointermove",this.xh,!0),this.Et(t,"pointerdown",this.la,!0),this.Et(t,"pointerup",this.bh,!0),this.Et(t,"pointerout",this.kh,!0),this.Et(t,"pointercancel",this.Ph,!0),this.Le(n,"wheel",this.wh,!1),this.Et(t,"wheel",this.wh,!0),this.Et(t,"selectstart",this.oh,!1)):(this.Le(t,"pointermove",this.xh,!0),this.Le(t,"pointerdown",this.la,!0),this.Le(t,"pointerup",this.bh,!0),this.Le(t,"pointerout",this.kh,!0),this.Le(t,"pointercancel",this.Ph,!0),this.Et(n,"pointermove",this.xh,!1),this.Et(n,"pointerdown",this.la,!1),this.Et(n,"pointerup",this.bh,!1),this.Et(n,"pointerout",this.kh,!1),this.Et(n,"pointercancel",this.Ph,!1),this.Le(t,"wheel",this.wh,!0),this.Le(t,"selectstart",this.oh,!1),this.Et(n,"wheel",this.wh,!1)),this.ZM=i)}get position(){return this.ct}set position(i){if(this.ct.equals(i))return;const e=N.l().h(this.ct),n=this.viewportBounds.copy();if(this.ct.h(i),this.animationManager.IA(e,this.ct),!this.Ht&&!(this.lt===null&&!this.ed.isReal())){this.Ht=!0;const a=this.scale,o=this.wt/a,h=this.xt/a;this.b2(this.ap,o,h,this.Jc,!1),this.Ht=!1}else this.aa(),this.Np();if(!this.Ht){const a=this.viewportBounds;this.onViewportBoundsChanged(n,a,this.it,!1)}N.i(e)}get initialPosition(){return this.ab}set initialPosition(i){this.ab.equals(i)||(this.ab=i.N())}get initialScale(){return this.hb}set initialScale(i){this.hb!==i&&(s.s(i,"number",At,"initialScale"),this.hb=i)}get grid(){return this.ls===null&&(this.ls=this.rT()),this.ls}set grid(i){let e=this.ls;if(e!==i){e===null&&(this.ls=this.rT(),e=this.ls),i.type!==j.Grid&&s.o("Diagram.grid must be a Panel of type Panel.Grid");const n=e.panel;n!==null&&n.remove(e),this.ls=i,i.name="GRID",n!==null&&n.add(i),this.sd=!1,this.C(),this.t("grid",e,i)}}get viewportBounds(){return this.Yb}aa(){const i=this.Yb,e=this.ct,n=this.it;i.e(e.x,e.y,Math.max(this.wt,0)/n,Math.max(this.xt,0)/n),this.ha()}get viewSize(){return this.ed}set viewSize(i){const e=this.viewSize;if(!e.equals(i)){i=i.N(),this.ed=i;let n=0,a=0;i.isReal()?(n=i.width,a=i.height):this.Nt!==null&&(n=this.Nt.clientWidth||1,a=this.Nt.clientHeight||1),this.wt=n,this.xt=a,this.aa(),this.invalidateDocumentBounds(),this.t("viewSize",e,i),this.C()}}get fixedBounds(){return this.db}set fixedBounds(i){const e=this.db;e.equals(i)||((i.width===-1/0||i.height===1/0||i.height===-1/0)&&s.o("fixedBounds width/height must not be Infinity"),i=i.N(),this.db=i,this.invalidateDocumentBounds(),this.t("fixedBounds",e,i))}get scrollMargin(){return this.fh}set scrollMargin(i){typeof i=="number"&&(i=new he(i));const e=this.fh;e.equals(i)||(i=i.N(),this.fh=i,this.t("scrollMargin",e,i),this.Eu())}get scrollMode(){return this.ah}set scrollMode(i){const e=this.ah;e!==i&&(this.ah=i,i===1&&this.$s(!1),this.t("scrollMode",e,i),this.Nh(),this.C())}get scrollsPageOnFocus(){return this.gb}set scrollsPageOnFocus(i){const e=this.gb;e!==i&&(s.s(i,"boolean",At,"scrollsPageOnFocus"),this.gb=i,this.t("scrollsPageOnFocus",e,i))}get positionComputation(){return this.pb}set positionComputation(i){const e=this.pb;e!==i&&(i!==null&&s.S(i,At,"positionComputation"),this.pb=i,this.$s(!1),this.t("positionComputation",e,i))}get scaleComputation(){return this.yb}set scaleComputation(i){const e=this.yb;e!==i&&(i!==null&&s.S(i,At,"scaleComputation"),this.yb=i,this.kT(this.scale,this.scale),this.t("scaleComputation",e,i))}get documentBounds(){return this.ap}MT(i){this.mh=!1;let e=this.ap;e.equals(i)||(e=e.copy(),this.ap.h(i),this.$s(!1),this.T("DocumentBoundsChanged",void 0,e),this.Nh(),this.C())}ensureBounds(){if(this.mh){const i=W.l();this.MT(this.computeBounds(i)),W.i(i)}}get isVirtualized(){return this.Kb}set isVirtualized(i){const e=this.Kb;e!==i&&(s.s(i,"boolean",At,"isVirtualized"),this.Kb=i,this.t("isVirtualized",e,i))}get scale(){return this.it}set scale(i){const e=this.it;e!==i&&this.kT(e,i)}get defaultScale(){return this.dp}set defaultScale(i){this.dp=i}get autoScale(){return this.ia}set autoScale(i){const e=this.ia;e!==i&&(this.ia=i,this.t("autoScale",e,i),i!==1&&this.$s(!1))}get initialAutoScale(){return this.Or}set initialAutoScale(i){const e=this.Or;e!==i&&(this.Or=i,this.t("initialAutoScale",e,i))}get initialViewportSpot(){return this.xb}set initialViewportSpot(i){const e=this.xb;e!==i&&(i.isSpot()||s.o("initialViewportSpot must be a specific Spot: "+i),this.xb=i,this.t("initialViewportSpot",e,i))}get initialDocumentSpot(){return this.wb}set initialDocumentSpot(i){const e=this.wb;e!==i&&(i.isSpot()||s.o("initialViewportSpot must be a specific Spot: "+i),this.wb=i,this.t("initialDocumentSpot",e,i))}get minScale(){return this.cb}set minScale(i){const e=this.cb;e!==i&&(i>0?(this.cb=i,this.t("minScale",e,i),i>this.scale&&(this.scale=i)):s.J(i,"> 0",At,"minScale"))}get maxScale(){return this.fb}set maxScale(i){const e=this.fb;e!==i&&(i>0?(this.fb=i,this.t("maxScale",e,i),i<this.scale&&(this.scale=i)):s.J(i,"> 0",At,"maxScale"))}get zoomPoint(){return this.ub}set zoomPoint(i){this.ub.equals(i)||(i=i.N(),this.ub=i)}get contentAlignment(){return this.Jc}set contentAlignment(i){const e=this.Jc;e.equals(i)||(i=i.N(),this.Jc=i,this.t("contentAlignment",e,i),this.$s(!1))}get initialContentAlignment(){return this.ip}set initialContentAlignment(i){const e=this.ip;e.equals(i)||(i=i.N(),this.ip=i,this.t("initialContentAlignment",e,i))}get padding(){return this.Qt}set padding(i){typeof i=="number"&&(i=new he(i));const e=this.Qt;e.equals(i)||(i=i.N(),this.Qt=i,this.invalidateDocumentBounds(),this.t("padding",e,i))}get partManager(){return this.i2}set partManager(i){const e=this.i2;e!==i&&(i.diagram!==null&&s.o("Cannot share PartManagers between Diagrams: "+i.toString()),e&&e.Eo(null),this.i2=i,i.Eo(this))}get nodes(){return this.partManager.nodes.iterator}get links(){return this.partManager.links.iterator}get parts(){return this.partManager.parts.iterator}findTopLevelNodesAndLinks(){const i=new C,e=this.nodes;for(;e.next();){const a=e.value;a.isTopLevel&&i.add(a)}const n=this.links;for(;n.next();){const a=n.value;a.isTopLevel&&i.add(a)}return i.iterator}findTopLevelGroups(){return this.Zr.iterator}get routers(){return this.of}doLinkRouting(i){this.Vo=!0;const e=this.of.r;for(let n=0;n<e.length;n++)e[n].canRoute(i)&&e[n].routeLinks(this.Ir,i);this.Vo=!1}get layout(){return this.li}set layout(i){const e=this.li;e!==i&&(this.li=i,i.diagram=this,i.group=null,this.$r=!0,this.t("layout",e,i),this.requestUpdate())}layoutDiagram(i){this.Te(),i&&this.c1(!0),this.Ts?this.S2(!1,this.Fl||this.of.count!==0&&this.eo.size!==0):(this.Zc=!0,this.Sr())}c1(i){const e=this.Zr.iterator;for(;e.next();)this.NT(e.value,i);this.layout&&(i?this.layout.isValidLayout=!1:this.layout.p())}NT(i,e){if(i===null)return;const n=i.Ch.iterator;for(;n.next();){const a=n.value;this.NT(a,e)}i.layout!==null&&(e?i.layout.isValidLayout=!1:i.layout.p())}S2(i,e){if(this.Ab)return;const n=this.G;this.G=!0;const a="Layout",o=this.undoManager.transactionLevel,h=this.layout,u=this.animationManager;try{o===0&&(this.undoManager.Dl=!0,this.startTransaction(a)),o<=1&&!u.defaultAnimation.isAnimating&&!u.ke&&(i||u.Gl(a)),this.$r=!1;let m=this.Zr.iterator;for(;m.next();)this.cd(m.value),this.CT(m.value,i,o,e);let v=!1;if(h.isValidLayout||(!i||h.isRealtime||h.isRealtime===null||o===0?(h.doLayout(this),this.cd(this),v=!0,h.isValidLayout=!0):this.$r=!0),v||this.cd(this),this.doLinkRouting(this),this.Ir.clear(),this.uh.size!==0){for(let b=0;b<23&&this.uh.size!==0;b++){for(m=this.Zr.iterator;m.next();)this.LT(m.value);const S=this.Ir;this.Ir=this.uh,this.uh=S,this.cd(this),this.doLinkRouting(this)}this.Ir.clear(),this.uh.clear()}}finally{const m=this.undoManager.Dl;o===0&&(this.commitTransaction(a),this.undoManager.Dl=!1),m&&(o===0||o===1)&&u.SM(),this.$r&&(this.$r=!h.isValidLayout),this.G=n}}CT(i,e,n,a){const o=i.Ch.iterator;for(;o.next();)this.CT(o.value,e,n,a);const h=i.layout;h!==null&&!h.isValidLayout?!e||h.isRealtime||n===0?(i.Lh=!i.location.isReal(),h.doLayout(i),i.invalidateLayout(32),this.o1(i),this.cd(i),this.doLinkRouting(i),h.isValidLayout=!0):(this.doLinkRouting(i),this.$r=!0):a&&this.doLinkRouting(i)}LT(i){const e=i.Ch.iterator;for(;e.next();)this.LT(e.value);this.cd(i),this.doLinkRouting(i)}get isTreePathToChildren(){return this.bb}set isTreePathToChildren(i){const e=this.bb;if(e!==i&&(s.s(i,"boolean",At,"isTreePathToChildren"),this.bb=i,this.t("isTreePathToChildren",e,i),!this.undoManager.isUndoingRedoing)){const n=this.nodes;for(;n.next();)n.value.vp()}}findTreeRoots(){const i=new w,e=this.nodes;for(;e.next();){const n=e.value;n.isTopLevel&&n.findTreeParentLink()===null&&i.add(n)}return i.iterator}get treeCollapsePolicy(){return this.kb}set treeCollapsePolicy(i){const e=this.kb;e!==i&&(i!==1&&i!==2&&i!==3&&s.o("Unknown Diagram.treeCollapsePolicy: "+i),this.kb=i,this.t("treeCollapsePolicy",e,i))}get isCollapsingExpanding(){return this.GM}set isCollapsingExpanding(i){this.GM=i}QR(){const i=new Q,e=new Q;function n(a){const o=a.toLowerCase(),h=new w;i.set(a,h),i.set(o,h),e.set(a,a),e.set(o,a)}n("InitialAnimationStarting"),n("AnimationStarting"),n("AnimationFinished"),n("BackgroundSingleClicked"),n("BackgroundDoubleClicked"),n("BackgroundContextClicked"),n("ClipboardChanged"),n("ClipboardPasted"),n("DocumentBoundsChanged"),n("ExternalObjectsDropped"),n("FocusOrVirtualPointerEnabledChanged"),n("GainedFocus"),n("InitialLayoutCompleted"),n("LayoutCompleted"),n("LinkDrawn"),n("LinkRelinked"),n("LinkReshaped"),n("LostFocus"),n("Modified"),n("ObjectSingleClicked"),n("ObjectDoubleClicked"),n("ObjectContextClicked"),n("PartCreated"),n("PartResized"),n("PartRotated"),n("SelectionMoved"),n("SelectionCopied"),n("SelectionDeleting"),n("SelectionDeleted"),n("SelectionGrouped"),n("SelectionUngrouped"),n("ChangingSelection"),n("ChangedSelection"),n("SubGraphCollapsed"),n("SubGraphExpanded"),n("TextEdited"),n("ThemeChanged"),n("TreeCollapsed"),n("TreeExpanded"),n("ViewportBoundsChanged"),n("InvalidateDraw"),this.zM=i,this.XM=e}fT(i){const e=this.XM.get(i);return e!==null?e:this.XM.get(i.toLowerCase())}O2(i){let e=this.zM.get(i);if(e!==null)return e;const n=i.toLowerCase();if(e=this.zM.get(n),e!==null)return e;s.o("Unknown DiagramEvent name: "+i)}addDiagramListener(i,e){s.s(i,"string",At,"addDiagramListener:name"),s.S(e,At,"addDiagramListener:listener");const n=this.O2(i);return n!==null&&n.add(e),this}removeDiagramListener(i,e){s.s(i,"string",At,"removeDiagramListener:name"),s.S(e,At,"addDiagramListener:listener");const n=this.O2(i);n!==null&&n.delete(e)}raiseDiagramEvent(i,e,n){this.T(i,e,n)}T(i,e,n){const a=this.O2(i),o=new je;o.diagram=this;const h=this.fT(i);h!==null&&(o.name=h),e!==void 0&&(o.subject=e),n!==void 0&&(o.parameter=n);const u=a.length;if(u===1)a.elt(0)(o);else if(u!==0){const m=a.toArray();for(let v=0;v<u;v++){const b=m[v];b(o)}}}isUnoccupied(i,e){return this.getPositions(!1,null,e||null).isUnoccupied(i.x,i.y,i.width,i.height)}computeOccupiedArea(i){return this.isVirtualized?this.viewportBounds.copy():this.mh?this.aT(i):i.h(this.documentBounds)}getPositions(i,e,n){let a=this.sa;a===null&&(this.sa=a=new bn(this.avoidanceCellSize));let o=e;if(a.Ko||a.Ah!==o||a.I2!==n){if(a.E2=Math.max(a.hf+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.width)),a.U2=Math.max(a.hf+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.height)),o!==null&&(o=this.AT(o)),o===null){const h=W.l();this.computeOccupiedArea(h),h.inflate(100,100),a.f1(h);const u=this.nodes;for(;u.next();){const m=u.value,v=m.layer;v===null||!v.visible||v.isTemporary||this.V2(m,n,h)}W.i(h)}else{if(o.memberParts.count>0){const m=this.computePartsBounds(o.memberParts,!1);m.inflate(20,20),a.f1(m)}const h=W.l(),u=o.memberParts;for(;u.next();){const m=u.value;m instanceof Ct&&this.V2(m,n,h)}W.i(h)}a.Ah=o,a.I2=n,a.Ko=!1}else i&&a.TT();return a}get avoidanceCellSize(){return this.QM}set avoidanceCellSize(i){this.sa=null,this.QM=new X(Math.max(1,i.width),Math.max(1,i.height))}get avoidanceLimit(){return this._M}set avoidanceLimit(i){this._M=Math.max(1,i)}AT(i){return i.canAvoid()?i:i.containingGroup!==null?this.AT(i.containingGroup):null}V2(i,e,n){if(i===e||!i.isVisible())return;const a=i.canAvoid();if(a){const o=i.getAvoidableRect(n);this.sa.vO(o.x,o.y,o.width,o.height)}if(i instanceof Jt&&(!a||i.avoidableMembers)){const o=i.memberParts;for(;o.next();){const h=o.value;h instanceof Ct&&this.V2(h,e,n)}}}fd(i){this.sa!==null&&!this.sa.Ko&&(i===void 0||i.canAvoid())&&(this.sa.Ko=!0)}get autoScrollInterval(){return this.sp}set autoScrollInterval(i){const e=this.sp;e!==i&&(this.sp=i,this.t("autoScrollInterval",e,i))}get autoScrollRegion(){return this.np}set autoScrollRegion(i){typeof i=="number"&&(i=new he(i));const e=this.np;e.equals(i)||(i=i.N(),this.np=i,this.invalidateDocumentBounds(),this.t("autoScrollRegion",e,i))}doAutoScroll(i){this.cp.h(i);const e=N.l();this.computeAutoScrollPosition(this.cp,e).equalsApprox(this.position)?this.stopAutoScroll():this.DT(),N.i(e)}DT(){if(this.$c!==-1)return;const i=this.sp,e=this;this.$c=s.dn(()=>{if(e.$c===-1||(e.stopAutoScroll(),e.lastInput.event===null))return;const n=N.l(),a=e.computeAutoScrollPosition(e.cp,n);if(!a.equalsApprox(e.position)){e.position=a,e.lastInput.documentPoint=e.transformViewToDoc(e.cp),e.doMouseMove(),e.mh=!0;const o=W.l();e.computeBounds(o),o.unionRect(e.documentBounds),e.MT(o),W.i(o),e.qi=!0,e.maybeUpdate(),e.DT()}N.i(n)},i)}stopAutoScroll(){this.$c!==-1&&(s.wc(this.$c),this.$c=-1)}computeAutoScrollPosition(i,e){let n=this.position;e===void 0&&(e=new N),e.h(n);const a=this.np;if(a.top<=0&&a.left<=0&&a.right<=0&&a.bottom<=0)return e;const o=this.viewportBounds,h=this.scale,u=W.z(0,0,o.width*h,o.height*h),m=N.z(0,0);if(i.x>=u.x&&i.x<u.x+a.left&&this.allowHorizontalScroll){let v=Math.max(this.scrollHorizontalLineChange,1);v=v|0,m.x-=v,i.x<u.x+a.left/2&&(m.x-=v),i.x<u.x+a.left/4&&(m.x-=4*v)}else if(i.x<=u.x+u.width&&i.x>u.x+u.width-a.right&&this.allowHorizontalScroll){let v=Math.max(this.scrollHorizontalLineChange,1);v=v|0,m.x+=v,i.x>u.x+u.width-a.right/2&&(m.x+=v),i.x>u.x+u.width-a.right/4&&(m.x+=4*v)}if(i.y>=u.y&&i.y<u.y+a.top&&this.allowVerticalScroll){let v=Math.max(this.scrollVerticalLineChange,1);v=v|0,m.y-=v,i.y<u.y+a.top/2&&(m.y-=v),i.y<u.y+a.top/4&&(m.y-=4*v)}else if(i.y<=u.y+u.height&&i.y>u.y+u.height-a.bottom&&this.allowVerticalScroll){let v=Math.max(this.scrollVerticalLineChange,1);v=v|0,m.y+=v,i.y>u.y+u.height-a.bottom/2&&(m.y+=v),i.y>u.y+u.height-a.bottom/4&&(m.y+=4*v)}return m.equalsApprox(N.gn)||(e.x=n.x+m.x/h,e.y=n.y+m.y/h),W.i(u),N.i(m),e}makeSvg(i){this.Xo.has("SVG")||this.addRenderer("SVG",new Us(this,t.document));const e=new Us(this,t.document,!0);i===void 0&&(i={});const n=this;function a(o,h){const u=n.vT(o,"SVG",e),m=u!==null?u.svg:null,v=o.svgFinished;return m&&v&&v(m),s.st(h)?(h(m),null):m}return this.FT(a,i)}makeSVG(i){return this.makeSvg(i)}addRenderer(i,e){this.Xo.set(i,e)}removeRenderer(i){this.Xo.delete(i)}cacheGroupExternalLinks(i){this.u2=i,i||this.nodes.each(e=>{e instanceof Jt&&(e.Fp=null)})}FT(i,e){const n=e.callback;let a=!0;const o=this.oa.iterator;for(;o.next();)if(!o.value[0].Mn){a=!1;break}if(!s.st(n)||a)return i(e,n,this);const h=this;function u(){const b=+new Date;for(a=!0,o.reset();o.next();)if(!o.value[0].Mn){a=!1;break}if(a||b-v>m){i(e,n,h);return}t.requestAnimationFrame(u)}const m=e.callbackTimeout||300,v=+new Date;return t.requestAnimationFrame(()=>u()),null}makeImage(i){return At.isUsingDOM()?(i===void 0&&(i={}),i.returnType="Image",this.makeImageData(i)):null}makeImageData(i){return i===void 0&&(i={}),this.FT(this.FO,i)}FO(i,e,n){const a=n.vT(i,"canvas",null);if(a===null)return null;const o=a.F.canvas;let h=null;if(o!==null){let u=i.returnType;switch(u===void 0?u="string":u=u.toLowerCase(),u){case At.img+"data":h=a.getImageData(0,0,o.width,o.height);break;case At.img:const m=(i.document||document).createElement("img");m.src=o.toDataURL(i.type,i.details),h=m;break;case"blob":{const v=o;return s.st(e)||(h="",s.o('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.')),s.st(v.toBlob)?(v.toBlob(e,i.type,i.details),"toBlob"):(e(null),null)}case"string":default:h=o.toDataURL(i.type,i.details)}}return s.st(e)?(e(h),null):h}vT(i,e,n){this.animationManager.stopAnimation(),this.maybeUpdate(),s.$(i)||s.o("properties argument must be an Object.");let a=!1,o=i.size||null,h=i.scale||null;i.scale!==void 0&&isNaN(i.scale)&&(h="NaN");let u=i.maxSize;i.maxSize===void 0&&(a=!0,e==="SVG"?u=new X(1/0,1/0):u=new X(2e3,2e3));const m=i.position||null;let v=i.parts||null;Array.isArray(v)&&(v=new w(v));let b=i.padding===void 0?1:i.padding;const S=i.background||null;let A=i.omitTemporary;A===void 0&&(A=!0);const M=i.document||t.document,O=i.elementFinished||null;let R=i.showTemporary;R===void 0&&(R=!A);let V=i.showGrid;V===void 0&&(V=R),o!==null&&isNaN(o.width)&&isNaN(o.height)&&(o=null),typeof b=="number"?b=new he(b):b instanceof he||s.o("MakeImage padding must be a Margin or a number."),b.left=Math.max(b.left,0),b.right=Math.max(b.right,0),b.top=Math.max(b.top,0),b.bottom=Math.max(b.bottom,0),this.Wt&&this.Wt.clearContextCache(!0);const q=new Ca(null,M,void 0,!0),J=q._t;if(!(o||h||v||m))return q.width=this.wt+Math.ceil(b.left+b.right),q.height=this.xt+Math.ceil(b.top+b.bottom),e==="SVG"?n===null?null:(n.resize(q.width,q.height,q.width,q.height),n.el=M,n.ud=O,this.l1(n._t,b,new X(q.width,q.height),this.it,this.ct,v,S,R,V),n._t):(this.od=!1,this.l1(J,b,new X(q.width,q.height),this.it,this.ct,v,S,R,V),this.od=!0,q._t);const re=this.dp,se=this.documentBounds.copy();if(se.subtractMargin(this.Qt),R){const Fe=this.zt.r,Re=Fe.length;for(let We=0;We<Re;We++){const Ke=Fe[We];if(!Ke.visible||!Ke.isTemporary)continue;const lt=Ke.Ct.r,ct=lt.length;for(let rt=0;rt<ct;rt++){const bt=lt[rt];if(!bt.isInDocumentBounds||!bt.isVisible())continue;const Mt=bt.actualBounds;Mt.isReal()&&se.unionRect(Mt)}}}let ne=new N(se.x,se.y);if(v!==null){const Fe=new W(0,0,0,0);let Re=!0;const We=v.iterator;for(We.reset();We.next();){const Ke=We.value;if(!(Ke instanceof Et))continue;const lt=Ke.layer;if(lt!==null&&!lt.visible||lt!==null&&!R&&lt.isTemporary||!Ke.isVisible())continue;const ct=Ke.actualBounds;ct.isReal()&&(Re?(Re=!1,Fe.h(ct)):Fe.unionRect(ct))}se.width=Fe.width,se.height=Fe.height,ne.x=Fe.x,ne.y=Fe.y}m!==null&&m.isReal()&&(ne=m,h||(h=re));let xe=0,ye=0;b!==null&&(xe=b.left+b.right,ye=b.top+b.bottom);let we=0,ze=0;o!==null&&(we=o.width,ze=o.height,isFinite(we)&&(we=Math.max(0,we-xe)),isFinite(ze)&&(ze=Math.max(0,ze-ye)));let Ce=0,Pe=0;if(o!==null&&h!==null?(h==="NaN"&&(h=re),o.isReal()?(Ce=we,Pe=ze):isNaN(ze)?(Ce=we,Pe=se.height*h):(Ce=se.width*h,Pe=ze)):o!==null?o.isReal()?(h=Math.min(we/se.width,ze/se.height),Ce=we,Pe=ze):isNaN(ze)?(h=we/se.width,Ce=we,Pe=se.height*h):(h=ze/se.height,Ce=se.width*h,Pe=ze):h!==null?h==="NaN"&&u.isReal()?(h=Math.min((u.width-xe)/se.width,(u.height-ye)/se.height),h>re?(h=re,Ce=se.width,Pe=se.height):(Ce=u.width,Pe=u.height)):(Ce=se.width*h,Pe=se.height*h):(h=re,Ce=se.width,Pe=se.height),b!==null?(Ce+=xe,Pe+=ye):b=new he(0),u!==null){let Fe=u.width,Re=u.height;e!=="SVG"&&a&&At.RO,isNaN(Fe)&&(Fe=2e3),isNaN(Re)&&(Re=2e3),isFinite(Fe)&&(Ce=Math.min(Ce,Fe)),isFinite(Re)&&(Pe=Math.min(Pe,Re))}return q.width=Math.ceil(Ce),q.height=Math.ceil(Pe),e==="SVG"?n===null?null:(n.resize(q.width,q.height,q.width,q.height),n.el=M,n.ud=O,this.l1(n._t,b,new X(Math.ceil(Ce),Math.ceil(Pe)),h,ne,v,S,R,V),n._t):(this.od=!1,this.l1(J,b,new X(Math.ceil(Ce),Math.ceil(Pe)),h,ne,v,S,R,V),this.od=!0,q._t)}};let Ft=At;E(Ft,"Zb",null),E(Ft,"JA",new Q),E(Ft,"h2"),E(Ft,"c2",null),E(Ft,"eT",t.document!==void 0),E(Ft,"Wi",new WeakMap),E(Ft,"Sp",null),E(Ft,"i1",""),E(Ft,"None",1),E(Ft,"Uniform",2),E(Ft,"UniformToFill",3),E(Ft,"CycleAll",1),E(Ft,"CycleNotDirected",2),E(Ft,"CycleNotDirectedFast",3),E(Ft,"CycleNotUndirected",4),E(Ft,"CycleDestinationTree",5),E(Ft,"CycleSourceTree",6),E(Ft,"DocumentScroll",1),E(Ft,"InfiniteScroll",2),E(Ft,"TreeParentCollapsed",1),E(Ft,"AllParentsCollapsed",2),E(Ft,"AnyParentsCollapsed",3),E(Ft,"v2",new w),E(Ft,"CO","3.1.3"),E(Ft,"img","image"),E(Ft,"RO",!1),E(Ft,"Mh",null),E(Ft,"B2","5da73c80a36555d5038e4972187c3cae51fd22"),E(Ft,"OO","5da73c80a36555d503aa5c72106c30b35bb2006b9cd041b259"),E(Ft,"qw",!1),E(Ft,"OP",()=>{if(At.B2[5]===void 0&&(le.prototype.Ci=le.prototype.Mu),!At.isUsingDOM())return;const i=s.Ni("canvas");i.width=350;const e=i.getContext("2d"),n=s.We("7ca11abfd022028846"),a="7ca11abfd7330390",o=[At.B2,s.qw+"4ae6247590da4bb21c324ba3a84e385776",le.OP+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",G.za];e.scale(2,2);const h=8;for(let u=1;u<5;u++)e[s.We(a)](s.We(o[u-1]),h,u*15);e[n]=s.We("39f046ebb36e4b");for(let u=1;u<5;u++)e[s.We(a)](s.We(o[u-1]),h,u*15);(o.length!==4||o[0][0]!=="5"||o[3][0]!=="7")&&(le.prototype.Ci=le.prototype.Mu),At.Mh=i}),E(Ft,"IO",()=>{if(At.B2[5]===void 0&&(le.prototype.Ci=le.prototype.Mu),!At.isUsingDOM())return;const i=s.Ni("canvas"),e=i.getContext("2d"),n=s.We("7ca11abfd022028846"),a="7ca11abfd7330390",o=[At.OO,G.za],h=5;e.scale(2,2);for(let u=1;u<3;u++)e[s.We(a)](s.We(o[u-1]),h,u*11);e[n]=s.We("39f046ebb36e4b");for(let u=1;u<3;u++)e[s.We(a)](s.We(o[u-1]),h,u*11);(o.length!==2||o[0][0]!=="5")&&(le.prototype.Ci=le.prototype.Mu),At.Mh=i});class Zo{constructor(i){E(this,"RT");E(this,"OT");E(this,"z2");E(this,"bi");if(this.RT=null,this.OT="63ad05bbe23a1786468a4c741b6d2",this.z2="@onz",this.OT===this._tk){this.z2=!0,this.bi=this.z2;return}this.bi=null}EO(i,e){let n="f";const a=t[s.We("76a715b2f73f148a")][s.We("72ba13b5")]||"",o=s.We;if(this.bi=!0,!Ft.isUsingDOM())return;let h=Ft[o("76a115b6ed251eaf4692")];if(!h){const m=a[o("76ad18b4f73e")];for(let b=a[o("73a612b6fb191d")](o("35e7"))+2;b<m;b++)n+=a[b];const v=n[o("73a612b6fb191d")](o("7da71ca0ad381e90"));this.bi=!(v>=0&&v<n[o("73a612b6fb191d")](o("35")));return}const u=Ft.v2.iterator;for(;u.next();){h=u.value;const m=o(h).split(o("39e9")),v=m.length===7?1:0;if(m.length===1&&h.includes(o("5b8b3797c61b32a7"))){if(Ft.IO(),!i.lt)return;i.gp=i.lt._t.F[s.We("7eba17a4ca3b1a8346")][s.We("78a118b7")](i.lt._t.F,Ft.Mh,4,4)}if(m.length<6)return;const b=o(m[1+v]).split(".");if(m[4+v]!=="7da71ca0")return;const S=o(s[o("6cae19")]).split(".");if(!(b[0]>S[0]||b[0]===S[0]&&b[1]>=S[1]))continue;const A="73a612b6fb191d",M=t[o("74a900bae4370f8b51")][o("6fbb13a1c2311e8a57")].toLowerCase(),O=M[o(A)](o("3aad1ab6e022098b4dc4")),R=o(m[2+v]);if(O>-1){const Ce=M[o(A)](R.toLowerCase()+"/");if(this.bi=!(Ce>-1&&Ce<O),!this.bi)return}const V=a[o("76ad18b4f73e")];for(let Ce=a[o(A)](o("35e7"))+2;Ce<V;Ce++)n+=a[Ce];let q=n[o(A)](R);if(q<0&&R!==o("7da71ca0ad381e90")&&(q=n[o(A)](o("76a715b2ef3e149757"))),q<0&&(q=n[o(A)](o("76a715b2ef3e149757"))),q<0&&(q=n[o(A)](o("2bfa41fdb3784bca12"))),q<0&&(q=a[o(A)](o("7baa19a6f76c1988428554"))),q<0&&(q=a[o(A)](o("7ea902b2b9221e9c57c45767196566"))),this.bi=!(q>=0&&q<n[o(A)](o("35"))||n[o(A)](o("35"))===-1),!this.bi||a[o(A)](o("7fb002b6ed25128b4da25b2e"))&&(this.bi=!(a[o(A)](R)>-1),!this.bi))return;const J=t[s.We("76a715b2f73f148a")][s.We("69ad17a1e03e")],re=J[o(A)](o("7fb002b6ed25128b4da25b2e"));if(re>-1&&(this.bi=!(J[o(A)](R)>re),!this.bi))return;const se=R;if(se[0]!=="#")continue;const ne=s.Ni("div");let xe=m[0+v].replace(/[A-Za-z]/g,"");for(;xe.length<4;)xe+="9";const ye=xe;xe=xe.substring(xe.length-4);const we=parseInt(S[0]),ze=parseInt(S[1]);if(we>3||we===3&&ze>=1){const Ce=parseInt(ye)%40+30,Pe=parseInt(se.substring(1,5),16);if(yt.IT===Ce+Pe){this.bi=!1;return}}else{let Ce="";const Pe=["gsh","gsf"],Fe=["Header","Background","Display","Feedback"];if(Ce+=Pe[parseInt(xe.substring(0,1),10)%2],Ce+=Fe[parseInt(xe.substring(0,1),10)%4],ne[o("79a417a0f0181a8946")]=Ce,t.document[o("78a712aa")]){t.document[o("78a712aa")][o("7bb806b6ed32388c4a875b")](ne);const Re=t.getComputedStyle(ne).getPropertyValue(o("78a704b7e62456904c9b12701b6532a8")),We=t.getComputedStyle(ne).getPropertyValue(o("75b817b0ea2202"));if(t.document[o("78a712aa")][o("68ad1bbcf533388c4a875b")](ne),!Re)continue;const Ke=t[o("77a902b0eb1b1e804a8a")],lt="0."+parseInt(ye,10)%100;if(We===lt||Re.indexOf(parseInt(se[1]+se[2],16).toString())!==-1&&Re.indexOf(parseInt(se[3]+se[4],16).toString())!==-1){this.bi=!1;return}else if(Ke&&Ke(o("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches){Ce="."+Ce;for(let ct=0;ct<t.document.styleSheets.length;ct++){const rt=t.document.styleSheets[ct].rules||t.document.styleSheets[ct].cssRules;for(const bt in rt)if(Ce===rt[bt].selectorText){this.bi=!1;return}}}}else this.bi=null,e&&(this.bi=!1)}}}Mh(i,e){return e.setTransform(i.$e/2,0,0,i.$e/2,0,0),e.commitTransform(),this.bi===null&&this.EO(i,!0),0<this.bi&&this!==this.RT}}class ka{constructor(i){E(this,"X2");E(this,"G2");this.X2=i===void 0?new N:i,this.G2=new N}get point(){return this.X2}set point(i){this.X2=i}get shifted(){return this.G2}set shifted(i){this.G2=i}}class $c{constructor(i,e,n){E(this,"Ri");E(this,"pT");E(this,"h1");this.Ri=i,this.pT=e,this.h1=n}}class Ir{constructor(i){E(this,"isGridSnapEnabled");E(this,"isGridSnapRealtime");E(this,"gridSnapCellSize");E(this,"gridSnapCellSpot");E(this,"gridSnapOrigin");E(this,"dragsLink");E(this,"dragsTree");E(this,"groupsSnapMembers");E(this,"groupsAlwaysMove");E(this,"dragsMembers");this.Ue(),i&&Object.assign(this,i)}Ue(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new X(NaN,NaN).k(),this.gridSnapCellSpot=K.TopLeft,this.gridSnapOrigin=new N(NaN,NaN).k(),this.dragsLink=!1,this.dragsTree=!1,this.groupsSnapMembers=!1,this.groupsAlwaysMove=!0,this.dragsMembers=!0}}class Kc extends Ft{constructor(i,e){let n;return i===void 0||typeof i=="string"||t.Element&&i instanceof Element?n=i:s.$(i)&&(e=i),super(n),this.ET(),e&&this.setProperties(e),this}ET(){this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=K.TopCenter,this.layout=new Aa}setupRouters(){}reset(){super.reset(),this.ET()}}class eo extends Ft{constructor(e,n){let a;e===void 0||typeof e=="string"||t.Element&&e instanceof Element?a=e:s.$(e)&&(n=e);super(a);E(this,"u1");E(this,"d1");E(this,"g1");E(this,"m1");E(this,"Rp");E(this,"cf");E(this,"Bl");E(this,"Y2");E(this,"K2");E(this,"p1");E(this,"H2");return this.animationManager.isEnabled=!1,this.Ht=!0,this.u1=null,this.Qu=!1,this._u=!1,this.d1=!0,this.g1=!0,this.m1=0,this.Rp=!1,this.cf=null,this.setRenderingHint("drawShadows",!1),this.Bl=new Et({selectable:!0,selectionAdorned:!1,selectionObjectName:"BOXSHAPE",locationObjectName:"BOXSHAPE",resizeObjectName:"BOXSHAPE",cursor:"move"}).add(new ke({name:"BOXSHAPE",fill:"transparent",stroke:"magenta",strokeWidth:2}).theme("stroke","overviewBox")).It(),this.allowCopy=!1,this.allowDelete=!1,this.allowDrop=!1,this.allowSelect=!0,this.autoScrollRegion=new he(0,0,0,0),this.ct.e(0,0),this.toolManager.Jt("Dragging",new Jo,this.toolManager.mouseMoveTools),this.click=()=>{const o=this.observed;if(o===null)return;const h=o.viewportBounds,u=this.lastInput.documentPoint;o.position=new N(u.x-h.width/2,u.y-h.height/2)},this.Y2=o=>{this.invalidateDocumentBounds(),this.Op()},this.K2=o=>{this.observed!==null&&(this.invalidateDocumentBounds(),this.C())},this.p1=o=>{this.updateDelay<1?this.C():this.Rp||(this.Rp=!0,s.dn(()=>this.redraw(),this.updateDelay))},this.H2=o=>{this.observed!==null&&this.Op()},this.autoScale=2,this.Ht=!1,n&&this.setProperties(n),this}setupRouters(){}computePixelRatio(){return 1}redraw(){this.Rp&&this.updateDelay>=1&&(this.Rp=!1,this.UO()),super.redraw()}Ge(){if(this.Nt===null&&s.o("No div specified"),this.lt===null&&s.o("No canvas specified"),this.lt instanceof Us||(this.box.VM(),!this.qi))return;const e=this.observed;if(e===null||e.animationManager.defaultAnimation.isAnimating||!e.Qa)return;this.Lp();const n=this.lt,a=this.Wt;if(a.clearContextCache(!0),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.width,n.height),this.updateDelay<1)this.UT();else if(this.cf!==null){a.drawImage(this.cf.bt,0,0);const u=this.v;a.scale(this.$e,this.$e),a.transform(u.m11,u.m12,u.m21,u.m22,u.dx,u.dy),a.commitTransform()}const o=this.zt.r,h=o.length;for(let u=0;u<h;u++)o[u].Ge(a,this);this.tf=!1,this.qi=!1}UO(){const e=this.lt,n=this.Wt;if(!(e===null||n===null)){if(this.Lp(),this.cf===null){const a=new Ca(null);a.width=e.width,a.height=e.height,this.cf=a}try{this.lt=this.cf,this.Wt=this.lt._t,this.Wt.clearContextCache(!0),this.Wt.setTransform(1,0,0,1,0,0),this.Wt.clearRect(0,0,this.lt.width,this.lt.height),this.UT()}finally{this.lt=e,this.Wt=n}}}UT(){const e=this.observed;if(e===null)return;const n=this.drawsTemporaryLayers,a=this.drawsGrid&&n,o=e.grid;if(a&&o!==null&&o.visible&&!(isNaN(o.width)||isNaN(o.height))){const A=W.l().h(this.viewportBounds).unionRect(e.viewportBounds);e.ca(A),W.i(A),e.Te()}const h=this.v,u=this.Wt;u.scale(this.$e,this.$e),u.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),u.commitTransform();const m=this.viewportBounds,v=e.zt.r,b=v.length,S=this.zt.r;this.As(S,S.length,this,this.viewportBounds);for(let A=0;A<b;A++)v[A].ER(u,m,this,n,a)}get observed(){return this.u1}set observed(e){const n=this.u1;if(e!==null&&s.se(e,Ft,eo,"observed"),e instanceof eo&&s.o("Overview.observed Diagram may not be an Overview itself: "+e),n!==e){if(n!==null&&this.VO(n),this.u1=e,e!==null&&this.BO(e),this.invalidateDocumentBounds(),e===null){this.cf=null;const a=this.lt,o=this.Wt;a&&o&&(o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width,a.height))}else this.p1(null),this.Op(),this.C();this.t("observed",n,e)}}get box(){return this.Bl}set box(e){const n=this.Bl;n!==e&&(e.It(),this.Bl=e,this.remove(n),this.add(this.Bl),this.Op(),this.t("box",n,e))}get drawsTemporaryLayers(){return this.d1}set drawsTemporaryLayers(e){this.d1!==e&&(this.d1=e,this.redraw())}get drawsGrid(){return this.g1}set drawsGrid(e){this.g1!==e&&(this.g1=e,this.redraw())}get updateDelay(){return this.m1}set updateDelay(e){e<0&&(e=0),this.m1!==e&&(this.m1=e)}BO(e){e!==null&&(e.addDiagramListener("ViewportBoundsChanged",this.Y2),e.addDiagramListener("DocumentBoundsChanged",this.K2),e.addDiagramListener("InvalidateDraw",this.p1),e.addDiagramListener("AnimationFinished",this.H2),this.add(this.box))}VO(e){e!==null&&(this.remove(this.box),e.removeDiagramListener("ViewportBoundsChanged",this.Y2),e.removeDiagramListener("DocumentBoundsChanged",this.K2),e.removeDiagramListener("InvalidateDraw",this.p1),e.removeDiagramListener("AnimationFinished",this.H2))}Op(){const e=this.box,n=this.observed;if(n===null)return;this.qi=!0;const a=n.viewportBounds,o=e.selectionObject,h=X.l();h.e(a.width,a.height),o.desiredSize=h,X.i(h);const u=2/this.scale;o instanceof ke&&(o.strokeWidth=u),e.location=new N(a.x-u/2,a.y-u/2),e.isSelected=!0}computeBounds(){const e=this.observed;if(e===null)return W.em;const n=e.documentBounds.copy();return n.unionRect(e.viewportBounds),n}invalidateViewport(e,n){this.qi!==!0&&(this.qi=!0,this.requestUpdate())}onViewportBoundsChanged(e,n,a,o){this.Ht||(this.ha(),this.C(),this.Nh(),this.invalidateDocumentBounds(),this.Op(),this.Ye.scale=a,this.Ye.position.x=e.x,this.Ye.position.y=e.y,this.Ye.bounds.h(e),this.Ye.isScroll=o,this.T("ViewportBoundsChanged",this.Ye,e))}}class Jo extends Ue{constructor(){super();E(this,"ua");this.ua=N.mn}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||!e.allowMove||!e.allowSelect)return!1;const n=e.observed;if(n===null)return!1;const a=e.lastInput;if(!a.left||e.currentTool!==this&&(!this.isBeyondDragSize()||a.isTouchEvent&&a.timestamp-e.firstInput.timestamp<this.delay))return!1;if(this.findDraggablePart()===null){const o=n.viewportBounds;this.ua=new N(o.width/2,o.height/2);const h=e.firstInput.documentPoint;n.position=new N(h.x-this.ua.x,h.y-this.ua.y)}return!0}doActivate(){this.ua=N.mn,super.doActivate()}doUpdateCursor(e){const n=this.diagram,a=n.box;a!==null&&a.cursor&&(n.currentCursor=a.cursor)}moveParts(e,n,a){const o=this.diagram,h=o.observed;if(h===null)return;const u=o.box;if(u===null)return;if(!this.ua.isReal()){const v=o.firstInput.documentPoint,b=u.location;this.ua=new N(v.x-b.x,v.y-b.y)}const m=o.lastInput.documentPoint;h.position=new N(m.x-this.ua.x,m.y-this.ua.y)}}const qn=class{constructor(i){E(this,"a");E(this,"w1","go._clipboard");E(this,"b1","go._clipboardFormat");E(this,"j2");E(this,"q2");E(this,"W2");E(this,"J2");E(this,"$2");E(this,"Z2");E(this,"Q2");E(this,"_2");E(this,"tN");E(this,"da");E(this,"eN");E(this,"k1");E(this,"P1");E(this,"S1");E(this,"M1");E(this,"iN");E(this,"Ho");E(this,"sN");E(this,"nN");E(this,"Ip");E(this,"oN");E(this,"N1");E(this,"rN");E(this,"C1");E(this,"lN");E(this,"aN");E(this,"dd");E(this,"Ep");E(this,"Up");E(this,"hN");E(this,"Qc");E(this,"cN");E(this,"fN");E(this,"uN");E(this,"dN");E(this,"gN");E(this,"gd");E(this,"mN");E(this,"Oi");E(this,"Ps");E(this,"L1");E(this,"Vp");E(this,"BT",["ArrowRight","ArrowDown","ArrowLeft","ArrowUp"]);C.Je(this),this.a=Ft.Om(),this.j2=!0,this.q2=!0,this.W2=!0,this.J2=!1,this.$2=!1,this.Z2=!1,this.Q2=!1,this._2="memory",this.tN=null,this.da=null,this.eN=1.05,this.k1=NaN,this.P1=N.mn,this.S1=NaN,this.M1=W.em,this.iN=!1,this.Ho=null,this.sN=200,this.nN=!1,this.Ip=new Zt("Auto",{layerName:"Tool",pickable:!1,selectable:!1}).add(new j("Spot").add(new ke({name:"SHAPE",fill:null,stroke:"lime",strokeWidth:4}).bindObject("stroke","adornedPart",e=>e.isSelected?"darkcyan":"lime"),new ke({name:"SHAPE2",stretch:2,fill:null,stroke:"magenta",strokeWidth:4,strokeDashArray:[4,4]})),new Or({padding:4})),this.oN=null,this.N1="",this.rN="",this.C1=s.ur,this.lN=!1,this.aN=!1,this.dd=new Et({layerName:"Tool",isInDocumentBounds:!1,locationObjectName:"CIRCLE",locationSpot:K.Center,pickable:!1,selectable:!1}).add(new ke("Circle",{isGeometryPositioned:!0,width:30,height:30,fill:null,stroke:"darkcyan",strokeWidth:6,visible:!1}).bind("visible","down"),new ke({isGeometryPositioned:!0,geometryString:"M15 0L15 30",stroke:"magenta"}),new ke({isGeometryPositioned:!0,geometryString:"M0 15L30 15",stroke:"magenta"}),new ke("Circle",{name:"CIRCLE",isGeometryPositioned:!0,width:20,height:20,fill:null,stroke:"magenta",position:new N(5,5)}),new ke({isGeometryPositioned:!0,geometry:qn.VT,fill:null,stroke:"cyan",strokeWidth:4}).bind("geometry","button",qn.GO),new Se({position:new N(12,0),font:"bold 10pt sans-serif"}).bind("text","clickCount",e=>e>1?e.toString():""),new Se({position:new N(0,16)}).bind("text","modifiers",qn.YO)).freezeBindings(),this.Ep=10,this.Up=1,this.hN=null,this.Qc=e=>this.KO(e),this.cN=e=>this.HO(e),this.fN=e=>this.jO(e),this.uN=e=>this.qO(e),this.dN=null,this.gN="distance",this.gd=null,this.mN=0,this.Oi={},this.Ps=null,this.L1=!1,this.Vp=null,this.yN(),this.dd.data=this.Oi,i&&Object.assign(this,i)}toString(){return"CommandHandler"}get diagram(){return this.a}Eo(i){this.a=i}doStart(){const i=this.a;i&&(i.addModelChangedListener(this.Qc),i.addDiagramListener("ViewportBoundsChanged",this.cN),i.addDiagramListener("GainedFocus",this.fN),i.addDiagramListener("LostFocus",this.uN))}doStop(){const i=this.a;i&&(i.removeDiagramListener("ViewportBoundsChanged",this.cN),i.removeDiagramListener("GainedFocus",this.fN),i.removeDiagramListener("LostFocus",this.uN),i.removeModelChangedListener(this.Qc))}doKeyDown(){const i=this.a,e=i.lastInput,n=e.control||e.meta,a=e.shift,o=e.alt,h=e.commandKey;n&&(h==="Insert"||h==="c")?this.canCopySelection()&&this.copySelection():n&&h==="x"||a&&h==="Delete"?this.canCutSelection()&&this.cutSelection():n&&h==="v"||a&&h==="Insert"?this.canPasteSelection()&&this.pasteSelection():n&&h==="y"||n&&a&&h==="z"||o&&a&&h==="Backspace"?this.canRedo()&&this.redo():n&&h==="z"||o&&h==="Backspace"?this.canUndo()&&this.undo():h==="Delete"||h==="Backspace"?this.canDeleteSelection()&&this.deleteSelection():n&&h==="a"?this.canSelectAll()&&this.selectAll():h==="Escape"?this.canStopCommand()&&this.stopCommand():this.BT.indexOf(h)>=0?this.WO(h,n,a):h==="PageUp"?a&&i.allowHorizontalScroll?i.scroll("page","left"):i.allowVerticalScroll&&i.scroll("page","up"):h==="PageDown"?a&&i.allowHorizontalScroll?i.scroll("page","right"):i.allowVerticalScroll&&i.scroll("page","down"):h==="Home"?n&&i.allowVerticalScroll?i.scroll("document","up"):!n&&i.allowHorizontalScroll&&i.scroll("document","left"):h==="End"?n&&i.allowVerticalScroll?i.scroll("document","down"):!n&&i.allowHorizontalScroll&&i.scroll("document","right"):h==="Space"?this.canScrollToPart()&&this.scrollToPart():h==="Minus"||h==="NumpadSubtract"?this.canDecreaseZoom()&&this.decreaseZoom():h==="Equal"||h==="NumpadAdd"?this.canIncreaseZoom()&&this.increaseZoom():n&&h==="Digit0"?this.canResetZoom()&&this.resetZoom():a&&h==="z"?this.canZoomToFit()&&this.zoomToFit():n&&!a&&h==="g"?this.canGroupSelection()&&this.groupSelection():n&&a&&h==="g"?this.canUngroupSelection()&&this.ungroupSelection():h==="F2"?this.canEditTextBlock()&&this.editTextBlock():h==="ContextMenu"||a&&h==="F10"||n&&a&&h==="Backslash"?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0}doKeyUp(){const i=this.a.lastInput;i.bubbles=!0}stopCommand(){const i=this.a,e=i.currentTool;if(e instanceof qe){if(e.currentToolTip!==null){e.hideToolTip();return}i.allowSelect&&i.clearSelection()}e!==null&&e.doCancel()}canStopCommand(){return!0}selectAll(){const i=this.a;i.C();try{i.currentCursor="wait",i.T("ChangingSelection",i.selection);const e=i.parts;for(;e.next();){const o=e.value;o.canSelect()&&!o.layer.isTemporary&&(o.isSelected=!0)}const n=i.nodes;for(;n.next();){const o=n.value;o.canSelect()&&!o.layer.isTemporary&&(o.isSelected=!0)}const a=i.links;for(;a.next();){const o=a.value;o.canSelect()&&!o.layer.isTemporary&&(o.isSelected=!0)}}finally{i.T("ChangedSelection",i.selection),i.currentCursor=""}}canSelectAll(){return this.a.allowSelect}deleteSelection(){const i=this.a;try{i.currentCursor="wait",i.T("ChangingSelection",i.selection),i.startTransaction("Delete"),i.T("SelectionDeleting",i.selection);const e=new C,n=i.selection.iterator;for(;n.next();){const a=n.value;Et.ga(e,a,!0,this.deletesTree?1/0:0,this.deletesConnectedLinks?null:!1,o=>o.canDelete())}i.removeParts(e,!0),i.T("SelectionDeleted",e)}finally{i.commitTransaction("Delete"),i.T("ChangedSelection",i.selection),i.currentCursor=""}}canDeleteSelection(){const i=this.a;return!(i.isReadOnly||i.isModelReadOnly||!i.allowDelete||i.selection.count===0)}copySelection(){const i=this.a;try{const e=new C,n=i.selection.iterator;for(;n.next();){const a=n.value;Et.ga(e,a,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,o=>o.canCopy())}this.copyToClipboard(e)}finally{}}canCopySelection(){const i=this.a;return!(!i.allowCopy||!i.allowClipboard||i.selection.count===0)}cutSelection(){this.copySelection(),this.deleteSelection()}canCutSelection(){const i=this.a;return!(i.isReadOnly||i.isModelReadOnly||!i.allowCopy||!i.allowDelete||!i.allowClipboard||i.selection.count===0)}copyToClipboard(i){const e=this.a,n=this.storageLocation==="systemClipboard";if(n||this.storageLocation!=="memory")try{if(i===null)if(n&&t.navigator.clipboard)t.navigator.clipboard.writeText("");else{const o=t[this.storageLocation];if(!o)return;o.setItem(this.w1,""),o.setItem(this.b1,"")}else{const o=new Ft;if(o.isTreePathToChildren=e.isTreePathToChildren,o.toolManager.draggingTool.dragsLink=e.toolManager.draggingTool.dragsLink,o.model=e.model.copy(),e.copyParts(i,o,!1),n&&t.navigator.clipboard)t.navigator.clipboard.writeText(o.model.toJson());else{const h=t[this.storageLocation];if(!h)return;h.setItem(this.w1,o.model.toJson()),h.setItem(this.b1,o.model.dataFormat)}}e.T("ClipboardChanged",i);return}catch{return}let a=null;if(i===null)Ft.iT();else{let o=null;try{o=e.copyParts(i,null,!0)}finally{a=new w,o!==null&&a.addAll(o.iteratorValues),Ft.Sp=a,Ft.i1=e.model.dataFormat}}e.T("ClipboardChanged",a)}pasteFromClipboard(){const i=this.a;if(this.storageLocation!=="memory"){const o=new C;try{const h=t[this.storageLocation];if(!h)return o;const u=h.getItem(this.w1),m=h.getItem(this.b1);if(u===null||u===""||m!==i.model.dataFormat)return o;{const v=new Ft;v.model=Ki.fromJson(u);const b=new C;b.addAll(v.parts).addAll(v.nodes).addAll(v.links);const S=i.copyParts(b,i,!1);return new C().addAll(S.iteratorValues)}}catch{return o}}const e=new C,n=Ft.Sp;if(n===null||Ft.i1!==i.model.dataFormat)return e;let a=null;try{a=i.copyParts(n,i,!1)}finally{if(a!==null){const o=a.iterator;for(;o.next();){const h=o.value,u=o.key;h.location.isReal()||(u.location.isReal()?h.location=u.location:!h.position.isReal()&&u.position.isReal()&&(h.position=u.position)),e.add(h)}}}return e}async pasteSelectionAsync(i){const e=this.a;if(t.navigator.clipboard===void 0){s.ne('Cannot paste with storageLocation "clipboard", window.isSecureContext may be false.');return}try{e.currentCursor="wait",e.T("ChangingSelection",e.selection),e.startTransaction("Paste");let n=null;const a=await t.navigator.clipboard.readText();try{const h=a;if(!(h===null||h==="")){const u=new Ft;u.model=Ki.fromJson(h);const m=new C;m.addAll(u.parts).addAll(u.nodes).addAll(u.links);const v=e.copyParts(m,e,!1);n=new C().addAll(v.iteratorValues)}}catch{}if(n===null)return;n.count>0&&e.clearSelection(!0);const o=n.iterator;for(;o.next();){const h=o.value;h.isSelected=!0}if(i){const h=e.computePartsBounds(e.selection);if(h.isReal()){const u=this.computeEffectiveCollection(e.selection,e.ad);e.Lx(u,new N(i.x-h.centerX,i.y-h.centerY),e.ad,!1)}}e.T("ClipboardPasted",n)}finally{e.commitTransaction("Paste"),e.T("ChangedSelection",e.selection),e.currentCursor=""}}pasteSelection(i){if(this.storageLocation==="systemClipboard"){this.pasteSelectionAsync(i);return}const e=this.a;try{e.currentCursor="wait",e.T("ChangingSelection",e.selection),e.startTransaction("Paste");const n=this.pasteFromClipboard();n.count>0&&e.clearSelection(!0);const a=n.iterator;for(;a.next();){const o=a.value;o.isSelected=!0}if(i){const o=e.computePartsBounds(e.selection);if(o.isReal()){const h=this.computeEffectiveCollection(e.selection,e.ad);e.Lx(h,new N(i.x-o.centerX,i.y-o.centerY),e.ad,!1)}}e.T("ClipboardPasted",n)}finally{e.commitTransaction("Paste"),e.T("ChangedSelection",e.selection),e.currentCursor=""}}canPasteSelection(i){const e=this.a;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowClipboard)return!1;if(this.storageLocation==="systemClipboard")return!0;if(this.storageLocation!=="memory")try{const n=t[this.storageLocation];if(!n)return!1;const a=n.getItem(this.w1),o=n.getItem(this.b1);return!(a===null||a===""||o!==e.model.dataFormat)}catch{return!1}return!(Ft.Sp===null||Ft.Sp.count===0||Ft.i1!==e.model.dataFormat)}undo(){this.a.undoManager.undo()}canUndo(){const i=this.a;return i.isReadOnly||i.isModelReadOnly?!1:i.allowUndo&&i.undoManager.canUndo()}redo(){this.a.undoManager.redo()}canRedo(){const i=this.a;return i.isReadOnly||i.isModelReadOnly?!1:i.allowUndo&&i.undoManager.canRedo()}decreaseZoom(i){i===void 0&&(i=1/this.zoomFactor);const e=this.a;if(e.autoScale!==1)return;const n=e.scale*i;n<e.minScale||n>e.maxScale||(e.scale=n)}canDecreaseZoom(i){i===void 0&&(i=1/this.zoomFactor);const e=this.a;if(e.autoScale!==1)return!1;const n=e.scale*i;return n<e.minScale||n>e.maxScale?!1:e.allowZoom}increaseZoom(i){i===void 0&&(i=this.zoomFactor);const e=this.a;if(e.autoScale!==1)return;const n=e.scale*i;n<e.minScale||n>e.maxScale||(e.scale=n)}canIncreaseZoom(i){i===void 0&&(i=this.zoomFactor);const e=this.a;if(e.autoScale!==1)return!1;const n=e.scale*i;return n<e.minScale||n>e.maxScale?!1:e.allowZoom}resetZoom(i){i===void 0&&(i=this.defaultScale);const e=this.a;i<e.minScale||i>e.maxScale||(e.scale=i)}canResetZoom(i){i===void 0&&(i=this.defaultScale);const e=this.a;return i<e.minScale||i>e.maxScale?!1:e.allowZoom}zoomToFit(i){const e=this.a,n=e.animationManager;n.stopAnimation(),e.redraw();const a=e.position.copy(),o=e.scale;if(n.Gl("Zoom To Fit"),!i&&this.isZoomToFitRestoreEnabled&&o===this.S1&&!isNaN(this.k1)&&this.P1.isReal()&&e.documentBounds.equals(this.M1))e.scale=this.k1,e.position=this.P1,this.S1=NaN,this.M1=W.em;else{if(this.k1=o,this.P1=a,i){const h=i.copy();if(h.width>0&&h.height>0){const u=e.viewportBounds,m=u.width*o,v=u.height*o,b=Math.min(m/h.width,v/h.height),S=m/b,A=v/b;h.width<S&&(h.x-=(S-h.width)/2),h.height<A&&(h.y-=(A-h.height)/2)}e.zoomToRect(h,2)}else e.zoomToFit();this.S1=e.scale,this.M1=e.documentBounds.copy()}n.SM()}canZoomToFit(i){return this.a.allowZoom}WO(i,e,n){const a=this.a;i==="ArrowUp"?a.allowVerticalScroll&&(e?a.scroll("pixel","up"):a.scroll("line","up")):i==="ArrowDown"?a.allowVerticalScroll&&(e?a.scroll("pixel","down"):a.scroll("line","down")):i==="ArrowLeft"?a.allowHorizontalScroll&&(e?a.scroll("pixel","left"):a.scroll("line","left")):i==="ArrowRight"&&a.allowHorizontalScroll&&(e?a.scroll("pixel","right"):a.scroll("line","right"))}scrollToPart(i){i===void 0&&(i=null),i!==null&&s.se(i,Et,qn,"part");const e=this.a;if(e.ensureBounds(),i===null){try{this.Ho!==null&&(this.Ho.next()?i=this.Ho.value:this.Ho=null)}catch{this.Ho=null}i===null&&(e.highlighteds.count>0?this.Ho=e.highlighteds.iterator:e.selection.count>0&&(this.Ho=e.selection.iterator),this.Ho!==null&&this.Ho.next()&&(i=this.Ho.value))}if(i!==null){const n=e.animationManager;n.Gl("Scroll To Part");const a=this.scrollToPartPause;if(a>0){const o=this.ff(i,[i]);if(o.length===1)e.startTransaction(),e.centerRect(i.actualBounds),e.commitTransaction("Scroll To Part");else{const h=()=>{e.startTransaction();let m=o.pop();for(;o.length>0&&m instanceof Ct&&m.isTreeExpanded&&(!(m instanceof Jt)||m.isSubGraphExpanded);)m=o.pop();o.length>0?(m instanceof Et&&e.scrollToRect(m.actualBounds),m instanceof Ct&&!m.isTreeExpanded&&(m.isTreeExpanded=!0),m instanceof Jt&&!m.isSubGraphExpanded&&(m.isSubGraphExpanded=!0)):(m instanceof Et&&e.centerRect(m.actualBounds),e.removeDiagramListener("LayoutCompleted",u)),e.commitTransaction("Scroll To Part")},u=()=>{s.dn(h,(n.isEnabled?n.duration:0)+a)};e.addDiagramListener("LayoutCompleted",u),h()}}else{const o=e.position.copy();e.centerRect(i.actualBounds),o.equalsApprox(e.position)&&n.stopAnimation()}}}ff(i,e){if(i.isVisible())return e;if(i instanceof Zt){const n=i.adornedPart;n!==null&&this.ff(n,e)}else if(i instanceof yt){const n=i.fromNode;n!==null&&this.ff(n,e);const a=i.toNode;a!==null&&this.ff(a,e)}else{if(i instanceof Ct){const a=i.labeledLink;a!==null&&this.ff(a,e);const o=i.findTreeParentNode();o!==null&&(!o.isTreeExpanded&&!o.wasTreeExpanded&&e.push(o),this.ff(o,e))}const n=i.containingGroup;n!==null&&(!n.isSubGraphExpanded&&!n.wasSubGraphExpanded&&e.push(n),this.ff(n,e))}return e}canScrollToPart(i){if(i===void 0&&(i=null),i!==null&&!(i instanceof Et))return!1;const e=this.a;return e.selection.count===0&&e.highlighteds.count===0?!1:e.allowHorizontalScroll&&e.allowVerticalScroll}collapseTree(i){i===void 0&&(i=null);const e=this.a,n="Collapse Tree";try{e.startTransaction(n),e.animationManager.Gl(n);const a=new w;if(i!==null&&i.isTreeExpanded)i.collapseTree(),a.add(i);else if(i===null){const o=e.selection.iterator;for(;o.next();){const h=o.value;h instanceof Ct&&h.isTreeExpanded&&(h.collapseTree(),a.add(h))}}e.T("TreeCollapsed",a)}finally{e.commitTransaction(n)}}canCollapseTree(i){i===void 0&&(i=null);const e=this.a;if(e.isReadOnly)return!1;if(i!==null){if(!(i instanceof Ct)||!i.isTreeExpanded)return!1;if(i.findTreeChildrenLinks().count>0)return!0}else{const n=e.selection.iterator;for(;n.next();){const a=n.value;if(a instanceof Ct){if(!a.isTreeExpanded)continue;if(a.findTreeChildrenLinks().count>0)return!0}}}return!1}expandTree(i){i===void 0&&(i=null);const e=this.a,n="Expand Tree";try{e.startTransaction(n),e.animationManager.Gl(n);const a=new w;if(i!==null&&!i.isTreeExpanded)i.expandTree(),a.add(i);else if(i===null){const o=e.selection.iterator;for(;o.next();){const h=o.value;h instanceof Ct&&(h.isTreeExpanded||(h.expandTree(),a.add(h)))}}e.T("TreeExpanded",a)}finally{e.commitTransaction(n)}}canExpandTree(i){i===void 0&&(i=null);const e=this.a;if(e.isReadOnly)return!1;if(i!==null){if(!(i instanceof Ct)||i.isTreeExpanded)return!1;if(i.findTreeChildrenLinks().count>0)return!0}else{const n=e.selection.iterator;for(;n.next();){const a=n.value;if(a instanceof Ct){if(a.isTreeExpanded)continue;if(a.findTreeChildrenLinks().count>0)return!0}}}return!1}groupSelection(){const i=this.a,e=i.model;if(!e.uf())return;const n=this.archetypeGroupData;if(n===null)return;let a=null;try{i.currentCursor="wait",i.T("ChangingSelection",i.selection),i.startTransaction("Group");const o=new w,h=i.selection.iterator;for(;h.next();){const b=h.value;b.Di()&&b.canGroup()&&o.add(b)}const u=new w,m=o.iterator;for(;m.next();){const b=m.value;let S=!1;const A=o.iterator;for(;A.next();){const M=A.value;if(b.isMemberOf(M)){S=!0;break}}S||u.add(b)}const v=u.first();if(v!==null){let b=v.containingGroup;if(b!==null)for(;b!==null;){let S=!1;const A=u.iterator;for(;A.next();)if(!A.value.isMemberOf(b)){S=!0;break}if(S)b=b.containingGroup;else break}if(n instanceof Jt)n.It(),a=n.copy(),a!==null&&i.add(a);else if(e.isGroupForData(n)){const S=e.copyNodeData(n);e.addNodeData(S),a=i.findNodeForData(S)}if(a!==null){b!==null&&this.isValidMember(b,a)&&(a.containingGroup=b);const S=u.iterator;for(;S.next();){const A=S.value;this.isValidMember(a,A)&&(A.containingGroup=a)}i.clearSelection(!0),a.isSelected=!0}}i.T("SelectionGrouped",a)}finally{i.commitTransaction("Group"),i.T("ChangedSelection",i.selection),i.currentCursor=""}}canGroupSelection(){const i=this.a;if(i.isReadOnly||i.isModelReadOnly||!i.allowInsert||!i.allowGroup||!i.model.uf()||this.archetypeGroupData===null)return!1;const e=i.selection.iterator;for(;e.next();){const n=e.value;if(n.Di()&&n.canGroup())return!0}return!1}wN(i){const e=s.nt();if(Array.isArray(i))i.forEach(o=>{o instanceof yt||o instanceof Et&&e.push(o)});else{const o=i.iterator;for(;o.next();){const h=o.value;h instanceof yt||h instanceof Et&&e.push(h)}}const n=new C,a=e.length;for(let o=0;o<a;o++){const h=e[o];let u=!0;for(let m=0;m<a;m++)if(h.isMemberOf(e[m])){u=!1;break}u&&n.add(h)}return s.Z(e),n}isValidMember(i,e){if(e===null||i===e||e instanceof yt)return!1;let n;return i!==null&&(i===e||i.isMemberOf(e)||(n=i.memberValidation,n!==null&&!n(i,e))||i.data===null&&e.data!==null||i.data!==null&&e.data===null)?!1:(n=this.memberValidation,n!==null?n(i,e):!0)}ungroupSelection(i){i===void 0&&(i=null);const e=this.a,n=e.model;if(n.uf())try{e.currentCursor="wait",e.T("ChangingSelection",e.selection),e.startTransaction("Ungroup");const a=new w;if(i!==null)a.add(i);else{const h=e.selection.iterator;for(;h.next();){const u=h.value;u instanceof Jt&&u.canUngroup()&&a.add(u)}}const o=new w;if(a.count>0){e.clearSelection(!0);const h=a.iterator;for(;h.next();){const u=h.value;u.expandSubGraph();const m=u.containingGroup,v=m!==null&&m.data!==null?n.getKeyForNodeData(m.data):void 0;o.addAll(u.memberParts);const b=o.iterator;for(;b.next();){const S=b.value;if(S.isSelected=!0,S instanceof yt)continue;const A=S.data;A!==null?n.setGroupForData(A,v):S.containingGroup=m}e.remove(u)}}e.T("SelectionUngrouped",a,o)}finally{e.commitTransaction("Ungroup"),e.T("ChangedSelection",e.selection),e.currentCursor=""}}canUngroupSelection(i){i===void 0&&(i=null);const e=this.a;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.uf())return!1;if(i!==null){if(!(i instanceof Jt))return!1;if(i.canUngroup())return!0}else{const n=e.selection.iterator;for(;n.next();){const a=n.value;if(a instanceof Jt&&a.canUngroup())return!0}}return!1}addTopLevelParts(i,e){const n=this.wN(i);let a=!0;const o=n.iterator;for(;o.next();){const h=o.value;h.containingGroup!==null&&(!e||this.isValidMember(null,h)?h.containingGroup=null:a=!1)}return a}collapseSubGraph(i){i===void 0&&(i=null);const e=this.a,n="Collapse SubGraph";try{e.startTransaction(n),e.animationManager.Gl(n);const a=new w;if(i!==null&&i.isSubGraphExpanded)i.collapseSubGraph(),a.add(i);else if(i===null){const o=e.selection.iterator;for(;o.next();){const h=o.value;h instanceof Jt&&h.isSubGraphExpanded&&(h.collapseSubGraph(),a.add(h))}}e.T("SubGraphCollapsed",a)}finally{e.commitTransaction(n)}}canCollapseSubGraph(i){i===void 0&&(i=null);const e=this.a;if(e.isReadOnly)return!1;if(i!==null)return!(!(i instanceof Jt)||!i.isSubGraphExpanded);{const n=e.selection.iterator;for(;n.next();){const a=n.value;if(a instanceof Jt&&a.isSubGraphExpanded)return!0}}return!1}expandSubGraph(i){i===void 0&&(i=null);const e=this.a,n="Expand SubGraph",a=new w;try{if(e.startTransaction(n),e.animationManager.Gl(n),i!==null&&!i.isSubGraphExpanded)i.expandSubGraph(),a.add(i);else if(i===null){const o=e.selection.iterator;for(;o.next();){const h=o.value;h instanceof Jt&&(h.isSubGraphExpanded||(h.expandSubGraph(),a.add(h)))}}e.T("SubGraphExpanded",a)}finally{for(const o of a)this.zT(e,o);i&&this.zT(e,i),e.commitTransaction(n)}}zT(i,e){for(const n of e.memberParts)n instanceof Ct&&i.Yc(n,e)}canExpandSubGraph(i){i===void 0&&(i=null);const e=this.a;if(e.isReadOnly)return!1;if(i!==null)return!(!(i instanceof Jt)||i.isSubGraphExpanded);{const n=e.selection.iterator;for(;n.next();){const a=n.value;if(a instanceof Jt&&!a.isSubGraphExpanded)return!0}}return!1}editTextBlock(i){i===void 0&&(i=null),i!==null&&s.se(i,Se,qn,"editTextBlock");const e=this.a,n=e.toolManager.findTool("TextEditing");if(n!==null){if(i===null){let a=null;const o=e.selection.iterator;for(;o.next();){const h=o.value;if(h.canEdit()){a=h;break}}if(a===null)return;i=a.findInVisualTree(h=>h instanceof Se&&h.editable)}i!==null&&(e.currentTool=null,n.textBlock=i,e.currentTool=n)}}canEditTextBlock(i){i===void 0&&(i=null);const e=this.a;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||e.toolManager.findTool("TextEditing")===null)return!1;if(i!==null){if(!(i instanceof Se))return!1;const n=i.part;if(n!==null&&n.canEdit())return!0}else{const n=e.selection.iterator;for(;n.next();){const a=n.value;if(a.canEdit()&&(i=a.findInVisualTree(o=>o instanceof Se&&o.editable),i!==null))return!0}}return!1}showContextMenu(i){const e=this.a,n=e.toolManager.findTool("ContextMenu");if(n===null)return;i===void 0&&(i=null),i===null&&(e.selection.count>0?i=e.selection.first():i=e);const a=n.findObjectWithContextMenu(i);if(a!==null){const o=e.lastInput;let h;if(a instanceof oi?h=a.getDocumentPoint(K.Center):e.viewportBounds.containsPoint(o.documentPoint)?h=N.mn:h=e.viewportBounds.center,h.isReal()){const u=new He;u.diagram=e,u.viewPoint=e.transformDocToView(h),u.documentPoint=h,u.button=2,u.up=!0,e.lastInput=u}e.currentTool=n,n.openMenu(!1,a)}}canShowContextMenu(i){const e=this.a,n=e.toolManager.findTool("ContextMenu");return!(n===null||(i===void 0&&(i=null),i===null&&(e.selection.count>0?i=e.selection.first():i=e),n.findObjectWithContextMenu(i)===null))}downloadSvg(i){const e=this.a,n={scale:1,background:e.div?e.div.style.backgroundColor:"white",name:this.JO("svg")};i&&Object.assign(n,i);const a=e.makeSvg(n);if(a!==null){const o=new XMLSerializer().serializeToString(a);this.$O(n.name,"image/svg+xml",o)}}downloadSVG(i){this.downloadSvg(i)}canDownloadSvg(i){return this.a!==null}$O(i,e,n){let a=null,o=null;try{const h=new Blob([n],{type:e});a=t.URL.createObjectURL(h),o=s.Ni("a"),o.style.display="none",o.href=a,o.download=i,t.document.body.appendChild(o),requestAnimationFrame(()=>{try{o!==null&&o.click()}finally{a!==null&&t.URL.revokeObjectURL(a),o!==null&&t.document.body.removeChild(o)}})}catch{a!==null&&t.URL.revokeObjectURL(a),o!==null&&t.document.body.removeChild(o)}}JO(i){const e="."+i;let n=this.diagram.model.name;return n?n.endsWith(e)&&(n=n.substring(0,n.length-e.length)):n="diagram",n+=e,n}get copiesClipboardData(){return this.j2}set copiesClipboardData(i){this.j2=!!i}get copiesConnectedLinks(){return this.q2}set copiesConnectedLinks(i){this.q2=!!i}get deletesConnectedLinks(){return this.W2}set deletesConnectedLinks(i){this.W2=!!i}get copiesTree(){return this.J2}set copiesTree(i){this.J2=!!i}get deletesTree(){return this.$2}set deletesTree(i){this.$2=!!i}get copiesParentKey(){return this.Z2}set copiesParentKey(i){this.Z2=!!i}get copiesGroupKey(){return this.Q2}set copiesGroupKey(i){this.Q2=!!i}get storageLocation(){return this._2}set storageLocation(i){i||(i="memory"),i!=="memory"&&i!=="sessionStorage"&&i!=="localStorage"&&i!=="systemClipboard"&&s.o("Invalid new value for CommandHandler.storageLocation: "+i),this._2=i}get archetypeGroupData(){return this.tN}set archetypeGroupData(i){i!==null&&s.xc(i,qn,"archetypeGroupData"),this.a,this.tN=i}get memberValidation(){return this.da}set memberValidation(i){i!==null&&s.S(i,qn,"memberValidation"),this.da=i}get defaultScale(){return this.diagram.defaultScale}set defaultScale(i){this.diagram.defaultScale=i}get zoomFactor(){return this.eN}set zoomFactor(i){i>1||s.o("zoomFactor must be larger than 1.0, not: "+i),this.eN=i}get isZoomToFitRestoreEnabled(){return this.iN}set isZoomToFitRestoreEnabled(i){this.iN=!!i}get scrollToPartPause(){return this.sN}set scrollToPartPause(i){this.sN=i}computeEffectiveCollection(i,e){const n=this.a,a=n.toolManager.findTool("Dragging"),o=n.currentTool===a;e===void 0&&(e=n.Tp());const h=new Q;if(i===null)return h;let u=i.iterator;for(;u.next();){const m=u.value;n.tl(h,m,o,e)}if(n.draggedLink!==null&&e.dragsLink)return h;for(u=i.iterator;u.next();){const m=u.value;if(m instanceof yt){const v=m.fromNode;if(v!==null&&!h.has(v))h.delete(m);else{const b=m.toNode;b!==null&&!h.has(b)&&h.delete(m)}}}return h}static getModifierNames(){return qn.md}static setModifierNames(i){qn.md=i}static YO(i){let e="";return i&1&&(e+=qn.md[0]||""),i&4&&(e+=qn.md[1]||""),i&2&&(e+=qn.md[2]||""),i&8&&(e+=qn.md[3]||""),e}static GO(i){return i===1?qn.zO:i===2?qn.XO:qn.VT}static pN(i,e,n){var a=new N(n,0).rotate(i-e/2),o=new pe().add(new Te(-n,-n)).add(new Te(n,n)).add(new Te(a.x,a.y).add(new Me(5,i-e/2,e,0,0,n,n)));return o.offset(n,n),o}KO(i){i.isTransactionFinished&&this.updateFocusBox()}HO(i){if(i.subject.scale===this.diagram.scale)return;const e=4/this.diagram.scale,n=this.focusBox.findObject("SHAPE");n!==null&&(n.strokeWidth=e);const a=this.focusBox.findObject("SHAPE2");a!==null&&(a.strokeWidth=e,a.strokeDashArray=[e,e]);const o=this.focusBox.placeholder;o!==null&&(o.padding=e)}jO(i){this.focus===null?s.dn(()=>{this.focus=this.findFirstFocus()},500):this.onFocusChanged(this.focus,this.focus)}qO(i){this.isVirtualPointerShown=!1}get isFocusEnabled(){return this.nN}set isFocusEnabled(i){i=!!i;const e=this.isFocusEnabled;i!==e&&(i||(this.isVirtualPointerShown=!1,this.dN=this.focus,this.focus=null),this.nN=i,i&&(this.focus=this.dN,this.updateFocusBox()))}get focusBox(){return this.Ip}set focusBox(i){if(!(i instanceof Zt))return;const e=this.Ip;if(i!==e&&(this.Ip=i,e.adornedObject!==null)){const n=e.adornedPart;n!==null&&n.removeAdornment("Focus"),i.adornedObject=e.adornedObject,n!==null&&n.addAdornment("Focus",i)}}get focus(){return this.Ip.adornedObject}set focus(i){const e=this.focus;if(i!==e){const n=this.a;if(!n||!this.isFocusEnabled||i!==null&&i.diagram!==n)return;n.currentTool instanceof Wt||this.cancelVirtualPointer();const a=this.focusBox.adornedPart;a&&a.removeAdornment("Focus"),i===null?(this.gd=null,this.virtualPointerLocation=n.viewportBounds.center,this.focusBox.adornedObject=null):(this.virtualPointerLocation=i.getDocumentPoint(K.Center),this.focusBox.adornedObject=i,this.updateFocusBox()),this.onFocusChanged(e,i)}}onFocusChanged(i,e){const n=this.a;if(n&&(this.focusChanged!==null?this.focusChanged(i,e,this):this.ZO(this.describe(i,e)),e!==null&&e.part!==null)){const a=e.getDocumentBounds();n.viewportBounds.containsRect(a)||(e instanceof Et?n.commandHandler.scrollToPart(e):n.scrollToRect(a))}}get focusChanged(){return this.oN}set focusChanged(i){i!==null&&s.S(i,qn,"focusChanged"),this.oN=i}get liveElementId(){return this.N1||this.rN}set liveElementId(i){const e=this.N1;i!==e&&(this.N1=i,this.xN())}xN(){var o;const i=this.diagram;if(!i||!Ft.isUsingDOM())return;const e=(o=i.lt)==null?void 0:o.bt;if(!e)return;const n=this.liveElementId,a=t.document.getElementById(n);this.isUsingAriaLive?(e.removeAttribute("aria-labelledby"),a&&a.setAttribute("aria-live","polite")):(n&&e.setAttribute("aria-labelledby",n),a&&a.removeAttribute("aria-live"))}get isUsingAriaLive(){return this.C1}set isUsingAriaLive(i){const e=this.C1;i!==e&&(this.C1=i,this.xN())}ZO(i){const e=this.diagram;if(!e||!Ft.isUsingDOM()||!e.div)return;let n=this.liveElementId;if(!n){const o=s.Ni("span"),h=o.style;for(h.opacity="0",h.position="absolute",h.right="-9999px",h.bottom="-9999px",h.width="0px",h.height="0px",h.overflow="hidden",h.border="0",n=(e.div.id||"diagram")+"_aria";t.document.getElementById(n);)n+=Math.floor(Math.random()*10);o.id=n,this.rN=n,e.div.appendChild(o),this.xN()}const a=t.document.getElementById(n);a&&(a.textContent=i)}describe(i,e){var h,u;let n="";e instanceof Ct?e instanceof Jt?n="Group":n="Node":e instanceof yt?n="Link":e instanceof Et?n="Part":e&&(e.click?n="button":e instanceof Se&&e.editable&&(n="editable"),e.portId!==null&&(n&&(n+=" "),n+="port",e.portId&&(n+=" "+e.portId)));const a=this.bN(e);a&&(n+=" "+a);const o=e;if(i&&o instanceof yt&&o.fromNode&&o.toNode){if(i instanceof Ct&&i.part===o.fromNode||i instanceof yt&&i.fromNode===o.fromNode){n+=" to "+this.bN(o.toNode,!0);const m=(h=o.toPort)==null?void 0:h.portId;m&&(n+=" port "+m)}else if(i instanceof Ct&&i.part===o.toNode||i instanceof yt&&i.toNode===o.toNode){n+=" from "+this.bN(o.fromNode,!0);const m=(u=o.fromPort)==null?void 0:u.portId;m&&(n+=" port "+m)}}return n}bN(i,e){if(e===void 0&&(e=!1),!i)return"";if(i instanceof Se&&i.text)return i.text;if(i instanceof j){let n="";return i instanceof Et&&i.text&&(n=i.text),e&&n||i.walkVisualTreeFrom(i,(a,o)=>{o.isVisibleObject()&&o instanceof Se&&o.text&&(!e||!n)&&n!==o.text&&(n+=" "+o.text)}),n}return""}updateFocusBox(){var e,n;const i=this.focus;if(i!==null)if(i.diagram!==null&&(i instanceof Et?i.isVisible():i.isVisibleObject()&&((e=i.part)!=null&&e.isVisible())))this.focusBox.adornedObject=i,(n=i.part)==null||n.addAdornment("Focus",this.focusBox);else{let a=null;if(i instanceof Et||(a=i.part),a instanceof Et&&a.isVisible())this.focus=a;else{if(a instanceof Ct&&!a.isVisible()){const o=a.findTreeParentNode();if(o!==null)a=o;else{const h=a.labeledLink;h!==null&&(a=h)}}for(;a instanceof Et&&!a.isVisible();)a=a.containingGroup;a instanceof Et&&a.isVisible()?this.focus=a:this.focus=null}}}findFirstFocus(){const i=this.a;if(i===null||!i.isEnabled)return null;if(this.focus!==null)return this.focus;if(this.isFocusEnabled)if(i.selection.count>0)this.focus=i.selection.first();else{const e=this.XT(i.isTreePathToChildren).first();if(e!==null)return e}return null}get isVirtualPointerEnabled(){return this.lN}set isVirtualPointerEnabled(i){i=!!i;const e=this.isVirtualPointerEnabled;if(i!==e&&(this.lN=i,i)){const n=this.Vp;n&&(this.Vp=null,n.commandHandler.Ps=null,n.commandHandler.cancelVirtualPointer())}}get isVirtualPointerShown(){return this.aN}set isVirtualPointerShown(i){i=!!i;const e=this.isVirtualPointerShown;if(i!==e){const n=this.a;if(!n||!this.isVirtualPointerEnabled)return;this.aN=i;const a=this.focus;i?this.virtualPointerBox.diagram===null&&(this.virtualPointerLocation.isReal()||(a!==null?this.virtualPointerLocation=a.getDocumentPoint(K.Center):this.virtualPointerLocation=n.viewportBounds.center),n.add(this.virtualPointerBox),this.ma()):this.virtualPointerBox.diagram!==null&&(n.remove(this.virtualPointerBox),this.ma())}}cancelVirtualPointer(){const i=this.a;i&&(this.yN(),this.isVirtualPointerShown=!1,i.currentTool.doCancel(),this.isVirtualPointerDown=!1,this.kN())}kN(){const i=this.Ps;if(i!==null){this.Ps=null;const e=i.commandHandler;e.Ps=null,e.Vp=null,e.isVirtualPointerShown=!1,e.isVirtualPointerDown=!1,e.yN(),this.L1&&(e.isVirtualPointerEnabled=!1),this.L1=!1}}yN(){this.Oi.button=0,this.Oi.modifiers=0,this.Oi.clickCount=1,this.Oi.down=!1,this.ma()}ma(){this.virtualPointerChanged!==null&&this.virtualPointerChanged(this.virtualPointerBox,this),this.updateVirtualPointer()}updateVirtualPointer(){const i=this.virtualPointerBox.diagram;i&&(this.virtualPointerBox.scale=1/i.scale),this.virtualPointerBox.updateTargetBindings()}get virtualPointerBox(){return this.dd}set virtualPointerBox(i){if(!(i instanceof Et))return;const e=this.dd;i!==e&&(e!==null&&(i.location=e.location,e.diagram!==null&&e.diagram.remove(e)),this.dd=i,this.isVirtualPointerShown&&this.diagram&&(this.diagram.add(i),i.data=e.data),this.ma())}get virtualPointerChanged(){return this.hN}set virtualPointerChanged(i){i!==null&&s.S(i,qn,"virtualPointerChanged"),this.hN=i}get virtualPointerLocation(){return this.virtualPointerBox.location}set virtualPointerLocation(i){this.virtualPointerLocation.equals(i)||this.GT(i.x,i.y)}get isVirtualPointerDown(){return this.virtualPointerBox.data?this.virtualPointerBox.data.down:!1}set isVirtualPointerDown(i){i=!!i;const e=this.isVirtualPointerDown;if(i!==e){const n=this.a;if(!n||!this.isVirtualPointerEnabled||(this.virtualPointerBox.data===null&&(this.dd.data=this.Oi),this.virtualPointerBox.data.down=i,this.ma(),!this.isVirtualPointerShown))return;const a=n.lastInput,o=new He;o.diagram=n,this.YT(o,i),i?o.down=!0:o.up=!0,o.clickCount=1,o.button=this.Oi.button,o.modifiers=this.Oi.modifiers,i&&(n.firstInput=o.copy()),this.pd(o,!0),i||this.Oi.clickCount===2&&(o.clickCount=2,o.down=!0,o.up=!1,this.pd(o,!0),o.down=!1,o.up=!0,this.pd(o,!0),this.KT(1)),n.lastInput=a}}get virtualPointerShiftMove(){return this.Ep}set virtualPointerShiftMove(i){this.Ep=i}get virtualPointerControlMove(){return this.Up}set virtualPointerControlMove(i){this.Up=i}Bp(i,e){this.GT(this.virtualPointerLocation.x+i,this.virtualPointerLocation.y+e)}GT(i,e){this.virtualPointerBox.moveTo(i,e,!0);const n=this.a;if(!n||!this.isVirtualPointerEnabled||!this.isVirtualPointerShown)return;n.ensureBounds();const a=n.lastInput,o=new He;o.diagram=n,this.YT(o,this.isVirtualPointerDown),o.button=this.Oi.button,o.modifiers=this.Oi.modifiers,this.pd(o,!0),n.lastInput=a,this.isVirtualPointerDown&&(n.remove(this.virtualPointerBox),n.add(this.virtualPointerBox)),this.ma()}YT(i,e){const n=this.a;if(n){if(i.targetDiagram=n,i.documentPoint=this.virtualPointerLocation,n.allowDragOut){const a=n.div.getBoundingClientRect(),o=n.transformDocToView(this.virtualPointerLocation),h=a.x+o.x,u=a.y+o.y;let m=t.document.elementFromPoint(h,u)||null;m instanceof HTMLCanvasElement&&(m=m.parentElement),m!==null&&m.shadowRoot&&(m=m.shadowRoot.elementFromPoint(h,u)||null,m instanceof HTMLCanvasElement&&(m=m.parentElement));let v=null;if(m instanceof HTMLElement&&(v=Ft.Wi.get(m))&&v!==n&&v.div){const b=v.div.getBoundingClientRect(),S=new N(o.x-(b.x-a.x),o.y-(b.y-a.y));this.Ps!==null&&this.Ps!==v&&this.kN(),i.targetDiagram=v,i.viewPoint=S,i.documentPoint=v.transformViewToDoc(S),i.viewPoint=v.transformDocToView(i.documentPoint),this.Ps=v;const A=v.commandHandler;this.L1=!A.isVirtualPointerEnabled,A.isVirtualPointerEnabled=!0,A.isVirtualPointerDown=e,A.virtualPointerLocation=i.documentPoint,A.isVirtualPointerShown=!0,A.Vp=n;return}}this.Ps!==null&&this.kN(),i.viewPoint=n.transformDocToView(i.documentPoint)}}pd(i,e){this.doVirtualPointerEvent(i,e)}doVirtualPointerEvent(i,e){const n=this.a;n&&(i.timestamp=Date.now(),n.lastInput=i,e&&(i.up?n.doMouseUp():i.down?n.doMouseDown():n.doMouseMove()),this.onVirtualPointerEvent(i,e))}onVirtualPointerEvent(i,e){const n=this.a;n&&(i.up?this.isVirtualPointerDown&&!n.viewportBounds.containsPoint(this.virtualPointerLocation)&&(this.virtualPointerLocation=this.focus instanceof oi?this.focus.getDocumentPoint(K.Center):n.viewportBounds.center):i.down)}doVirtualFocusKeyDown(){const i=this.a;if(!i)return!1;const e=i.lastInput,n=e.commandKey;if(this.isVirtualPointerEnabled&&(n==="ShiftLeft"||n==="ShiftRight"))return this.isVirtualPointerShown=!0,!0;if(this.BT.indexOf(n)>=0)if(e.shift&&this.isVirtualPointerShown){const a=this.A1(n),o=e.control||e.meta?this.Up:this.Ep;a===270?this.Bp(0,-o):a===90?this.Bp(0,o):a===180?this.Bp(-o,0):this.Bp(o,0)}else this.QO();else if(e.shift&&this.isVirtualPointerShown&&(n==="Numpad1"||n==="Numpad2"||n==="Numpad3"||n==="Numpad4"||n==="Numpad6"||n==="Numpad7"||n==="Numpad8"||n==="Numpad9")){const a=e.control||e.meta?this.Up:this.Ep;let o=0;n==="Numpad1"||n==="Numpad4"||n==="Numpad7"?o=-a:(n==="Numpad3"||n==="Numpad6"||n==="Numpad9")&&(o=a);let h=0;n==="Numpad7"||n==="Numpad8"||n==="Numpad9"?h=-a:(n==="Numpad1"||n==="Numpad2"||n==="Numpad3")&&(h=a),this.Bp(o,h)}else if(n==="Enter"||n==="NumpadEnter"||n==="Numpad5")e.shift&&this.isVirtualPointerShown?this.isVirtualPointerDown=!this.isVirtualPointerDown:this._O();else if(n==="Escape")this.tI();else if(n==="Space")this.eI();else if(n==="ContextMenu"||e.shift&&n==="F10"||(e.control||e.meta)&&e.shift&&n==="Backslash")this.iI();else if(e.shift&&n==="c")this.T1(1);else if(e.shift&&n==="a")this.T1(2);else if(e.shift&&n==="KeyS")this.T1(4);else if(e.shift&&n==="KeyM")this.T1(8);else if(e.shift&&n==="Digit1")this.D1(0);else if(e.shift&&n==="Digit2")this.D1(1);else if(e.shift&&n==="Digit3")this.D1(2);else if(e.shift&&n==="Numpad0"){const a=this.Oi.button;this.D1(a===2?0:2)}else if(e.shift&&(n==="KeyD"||n==="NumpadDecimal")){const a=this.Oi.clickCount;this.KT(a===2?1:2)}else if(e.shift&&n==="KeyF"){const a=this.nextFocusFormula;this.nextFocusFormula=a==="distance"?"linear":"distance"}else if(e.shift&&n==="y")this.isUsingAriaLive=!this.isUsingAriaLive;else return!1;return!0}doVirtualFocusKeyUp(){const i=this.a;if(!i)return!1;const e=i.lastInput.commandKey;return this.isVirtualPointerEnabled&&(e==="ShiftLeft"||e==="ShiftRight")&&(this.isVirtualPointerShown=!1),!0}A1(i){switch(i){case"ArrowDown":return 90;case"ArrowLeft":return 180;case"ArrowUp":return 270;default:return 0}}T1(i){const e=this.Oi.modifiers;this.Oi.modifiers=e&i?e&~i:e|i,this.ma()}KT(i){this.Oi.clickCount=i,this.ma()}D1(i){this.Oi.button=i,this.ma()}QO(){const i=this.a;if(!i)return;const e=i.lastInput,n=this.focus;if(n===null){const a=this.XT(i.isTreePathToChildren).first();a!==null&&(this.focus=a)}else if(n instanceof yt)this.sI(n);else if(n instanceof Ct)this.nI(n);else{n instanceof Et&&(this.gd=null);const a=this.A1(e.commandKey);a===270?this.focus=this.findNextFocus(270):a===90?this.focus=this.findNextFocus(90):a===180?this.focus=this.findNextFocus(180):this.focus=this.findNextFocus(0)}}sI(i){const e=this.a;if(!e)return;const n=e.lastInput,a=this.A1(n.commandKey);let o=null;const h=this.gd;if(h!==null){const u=this.mN;if(a===u)o=i.getOtherNode(h);else if(a===G.Ee(u+180))o=h;else{let m=u===0||u===180?90:0,v=u===0||u===180?270:180;if(a===m){const b=this.PN(h,u,!0),S=b.indexOf(i);S>=0&&S<b.count-1&&(this.focus=b.elt(S+1))}else if(a===v){const b=this.PN(h,u,!0),S=b.indexOf(i);S>0&&(this.focus=b.elt(S-1))}}}else{const u=i.fromNode,m=i.toNode;if(!u||!m)return;a===270?o=u.location.y<m.location.y?u:m:a==90?o=u.location.y>m.location.y?u:m:a===180?o=u.location.x<m.location.x?u:m:o=u.location.x>m.location.x?u:m}for(;o!==null&&!o.isVisible();)o=o.containingGroup;o!==null&&(this.focus=o)}nI(i){const e=this.a;if(!e)return;const n=e.lastInput,a=this.A1(n.commandKey);if(n.control||n.meta){const o=this.PN(i,a,!0).first();o&&(this.gd=i,this.mN=a,this.focus=o)}else this.gd=null,this.focus=this.findNextFocus(a)}PN(i,e,n){if(i===null)return new w;const a=i.actualBounds;if(!a.isReal())return new w;const o=new Set;(i instanceof Jt?i.findExternalLinksConnected():i.findLinksConnected()).each(u=>{var b,S;if(!u.isVisible())return;let m=null;if(u.fromNode===i?m=u.toNode:u.toNode===i?m=u.fromNode:i instanceof Jt&&((b=u.fromNode)!=null&&b.isMemberOf(i)?m=u.toNode:(S=u.toNode)!=null&&S.isMemberOf(i)&&(m=u.fromNode)),m===null||m.isMemberOf(i))return;for(;m!==null&&!m.isVisible();)m=m.containingGroup;if(m===null)return;const v=m.location;if(v.isReal()&&!(e===270&&(m!==i?v.y>=a.top:u.midPoint.y>=a.top))){if(e===90&&(m!==i?v.y<=a.bottom:u.midPoint.y<=a.bottom)||e===180&&(m!==i?v.x>=a.left:u.midPoint.x>=a.left)||e===0&&(m!==i?v.x<=a.right:u.midPoint.x<=a.right))return;n&&u.actualBounds.isReal()?o.add(u):o.add(m)}});const h=new w(o);return e===90||e===270?h.sort((u,m)=>u.actualBounds.centerX-m.actualBounds.centerX):h.sort((u,m)=>u.actualBounds.centerY-m.actualBounds.centerY),h}findNextFocus(i){i=G.Ee(i);const e=this.focus,n=e instanceof Ct?e.location:e.getDocumentPoint(K.Center);let a=1/0,o=e;const h=(u,m,v,b)=>{if(this.nextFocusFormula==="linear"){let S=1/0;i===0&&v>n.x||i===180&&v<n.x?S=Math.abs(v-n.x):(i===90&&b>n.y||i===270&&b<n.y)&&(S=Math.abs(b-n.y)),S<a&&(a=S,o=u)}else{if(i===0&&(m.right<n.x||(m.centerX-n.x)**2>a)||i===90&&(m.bottom<n.y||(m.centerY-n.y)**2>a)||i===180&&(m.x>n.x||(n.x-m.centerX)**2>a)||i===270&&(m.y>n.y||(n.y-m.centerY)**2>a))return;const S=n.direction(v,b),A=G.jF(i,S);if(i===90||i===270?A<=45:A<45){const M=n.distanceSquared(v,b);M<a&&(a=M,o=u)}}};if(e instanceof Et&&e.diagram!==null){const u=e.containingGroup;u!==null?u.memberParts.each(m=>{m===e||m instanceof yt||!m.isVisible()||h(m,m.actualBounds,m.location.x,m.location.y)}):(e.diagram.nodes.each(m=>{m===e||!m.isTopLevel||!m.isVisible()||h(m,m.actualBounds,m.location.x,m.location.y)}),e.diagram.parts.each(m=>{m===e||!m.isTopLevel||!m.isVisible()||h(m,m.actualBounds,m.location.x,m.location.y)}))}else if(e.part!==null){const u=new W;this.SN(e.part).each(m=>{m!==e&&(m.getDocumentBounds(u),h(m,u,u.centerX,u.centerY))})}return o}get nextFocusFormula(){return this.gN}set nextFocusFormula(i){this.gN=i}_O(){const i=this.a;if(!i)return;const e=i.currentTool;if(e instanceof Wt){const o=e.currentObject;this.v1(this.focus),e.maybeStopTool(this.focus),i.currentTool instanceof Wt||(this.focus=o);return}const n=this.focus,a=i.lastInput;if(n===null)a.control||a.meta?this.v1(null):this.focus=this.findFirstFocus();else if(n instanceof Et)if(a.control||a.meta)this.v1(n);else{const o=this.SN(n);if(o.count>0)this.focus=o.first();else if(n instanceof yt&&n.isLabeledLink){const h=n.labelNodes.first();h!==null&&h.isVisible()&&(this.focus=h)}else if(n instanceof Jt&&n.isSubGraphExpanded){const h=n.memberParts.first();h!==null&&h.isVisible()&&(this.focus=h)}}else this.v1(n)}XT(i){const e=new w,n=this.a;if(!n)return e;let a=0;for(;e.count===0&&a<n.nodes.count;){const o=n.nodes;for(;o.next();){const h=o.value;h.isTopLevel&&h.isVisible()&&(i?h.findNodesInto():h.findNodesOutOf()).count===a&&e.add(h)}a++}return e}SN(i){return i instanceof Et?this.Sn(i,new w):new w}Sn(i,e){return!(i instanceof Et)&&i.isVisibleObject()&&i.isEnabledObject()&&(i.contextMenu||i.click||i instanceof Se&&i.editable||i.part instanceof Ct&&i.portId!==null&&(i.portId!==""||i.part.ports.count>1)||i.toolTip)&&e.add(i),i instanceof j&&i.elements.each(n=>this.Sn(n,e)),e}v1(i){const e=this.a;if(!e)return;const n=e.lastInput,a=i instanceof oi?i:e;if(a.click){const o=new He;o.diagram=e,o.documentPoint=i instanceof oi?i.getDocumentPoint(K.Center):e.viewportBounds.center,o.viewPoint=e.transformDocToView(o.documentPoint),o.button=0,o.clickCount=1,o.targetObject=i,this.pd(o,!1),a instanceof oi?a.click(o,a):a.click(o),e.lastInput=n}else a instanceof Se&&a.editable?this.editTextBlock(a):this.HT(i)}tI(){const i=this.a;if(!i)return;const e=i.currentTool;if(e instanceof qe&&e.currentToolTip!==null){e.hideToolTip();return}else if(e instanceof Wt){const n=e.currentObject;e.doKeyDown(),this.focus=n;return}if(this.focus instanceof Et){const n=this.focus;n instanceof Ct&&n.labeledLink!==null?this.focus=n.labeledLink:n.containingGroup!==null?this.focus=n.containingGroup:this.focus=null}else if(this.focus instanceof oi){const n=this.focus.part;if(n instanceof yt&&n.isLabeledLink){const a=n.labelNodes.first();if(a!==null&&a.isVisible()){this.focus=a;return}}else if(n instanceof Jt&&n.isSubGraphExpanded){const a=n.memberParts.first();if(a!==null&&a.isVisible()){this.focus=a;return}}this.focus=n}else this.cancelVirtualPointer(),this.stopCommand()}eI(){const i=this.a;if(i)if(i.lastInput.shift&&this.isVirtualPointerShown){const e=i.findPartAt(this.virtualPointerLocation);e!==null&&(e===this.focus?this.jT():this.focus=e)}else this.jT()}jT(){const i=this.a;if(!i)return;const e=i.lastInput,n=this.focus;if(n instanceof Et){let a=n.part;if(e.control||e.meta){for(i.raiseDiagramEvent("ChangingSelection",i.selection);a!==null&&!a.canSelect();)a=a.containingGroup;a!==null&&(a.isSelected=!a.isSelected),i.raiseDiagramEvent("ChangedSelection",i.selection)}else if(e.shift){if(a!==null&&!a.isSelected){for(i.raiseDiagramEvent("ChangingSelection",i.selection);a!==null&&!a.canSelect();)a=a.containingGroup;a!==null&&(a.isSelected=!0),i.raiseDiagramEvent("ChangedSelection",i.selection)}}else if(a!==null&&!a.isSelected){for(;a!==null&&!a.canSelect();)a=a.containingGroup;a!==null&&i.select(a)}}this.HT(n),this.onFocusChanged(n,n)}HT(i){const e=this.a;if(!e)return;e.toolManager.hideToolTip();const n=e.lastInput;let a=i instanceof oi?i:e;for(;a instanceof oi&&!a.toolTip;)a=a.panel;if(a&&a.toolTip){const o=new He;o.diagram=e,o.documentPoint=i!==null?i.getDocumentPoint(K.Center):e.viewportBounds.center,o.viewPoint=e.transformDocToView(o.documentPoint),o.targetObject=i,this.pd(o,!1),e.toolManager.showToolTip(a.toolTip,i),e.lastInput=n}}iI(){const i=this.a;if(!i)return;const e=this.focus;if(this.canShowContextMenu(e)){this.showContextMenu(e);const n=i.toolManager.contextMenuTool.currentContextMenu;if(n instanceof Zt){const a=this.SN(n);a.count>0&&(this.focus=a.first())}}}};let Sa=qn;E(Sa,"md",["Ctrl","Shft","Alt","Meta"]),E(Sa,"VT",qn.pN(230,40,15)),E(Sa,"zO",qn.pN(270,40,15)),E(Sa,"XO",qn.pN(310,40,15));var Ll=(ee=>(ee[ee.None=0]="None",ee[ee.Default=1]="Default",ee[ee.Vertical=4]="Vertical",ee[ee.Horizontal=5]="Horizontal",ee[ee.Fill=2]="Fill",ee))(Ll||{}),Il=(ee=>(ee[ee.None=0]="None",ee[ee.Along=21]="Along",ee[ee.Plus90=22]="Plus90",ee[ee.Minus90=23]="Minus90",ee[ee.Opposite=24]="Opposite",ee[ee.Upright=25]="Upright",ee[ee.Plus90Upright=26]="Plus90Upright",ee[ee.Minus90Upright=27]="Minus90Upright",ee[ee.Upright45=28]="Upright45",ee))(Il||{}),qc=(ee=>(ee[ee.None=0]="None",ee[ee.Vertical=1]="Vertical",ee[ee.Horizontal=2]="Horizontal",ee[ee.Both=3]="Both",ee))(qc||{});const Vi=class{constructor(){E(this,"n");E(this,"zp");E(this,"Xp");E(this,"pa");E(this,"w");E(this,"ya");E(this,"ft");E(this,"ct");E(this,"hi");E(this,"Zt");E(this,"Gp");E(this,"Zs");E(this,"Lt");E(this,"cs");E(this,"il");E(this,"wa");E(this,"Se");E(this,"Th");E(this,"it");E(this,"Xt");E(this,"sl");E(this,"De");E(this,"Ke");E(this,"yd");E(this,"de");E(this,"wd");E(this,"Ot");E(this,"he");E(this,"nl");E(this,"F1");E(this,"xa");E(this,"df");C.Je(this),this.n=30723,this.Zt=1,this.Gp="",this.Zs=null,this.Lt=null,this.ct=new N(NaN,NaN).k(),this.cs=X.Zw,this.il=new le,this.wa=new le,this.Se=null,this.Th=1,this.it=1,this.Xt=0,this.sl=he.im,this.hi=new W(NaN,NaN,NaN,NaN).k(),this.De=new W(NaN,NaN,NaN,NaN).k(),this.Ke=new W(0,0,NaN,NaN).k(),this.yd=null,this.zp=null,this.ft=null,this.de=K.Default,this.wd=K.Default,this.Xp=0,this.pa=0,this.Ot=null,this.w=null,this.ya=null,this.he=null,this.F1=null,this.xa=null,this.nl=null,this.df=null}cloneProtected(i){i.n=(this.n|2048|4096)&-32769,i.Zt=this.Zt,i.Gp=this.Gp,i.Lt=this.Lt,i.ct.h(this.ct),i.cs=this.cs.N(),this.Se!==null?i.Se=this.Se.copy():i.Se=null,i.it=this.it,i.Xt=this.Xt,i.sl=this.sl.N(),i.hi.h(this.hi),i.De.h(this.De),i.Ke.h(this.Ke),i.zp=this.zp,this.ft!==null&&(i.ft=this.ft.copy()),i.de=this.de.N(),i.wd=this.wd.N(),i.Xp=this.Xp,i.pa=this.pa,this.Ot!==null&&(i.Ot=this.Ot.copy()),this.w!==null&&(this.w.me?i.w=this.w:i.w=this.w.copy()),this.ya!==null&&(i.ya=this.ya.slice()),this.he!==null&&(i.he=this.he.copy())}addCopyProperty(i){let e=this.ya;if(!Array.isArray(e))e=[],this.ya=e;else for(let n=0;n<e.length;n++)if(e[n]===i)return;e.push(i)}jo(i){i.yd=null,i.nl=null,i.c()}clone(){const i=new this.constructor;if(this.cloneProtected(i),this.ya!==null)for(let e=0;e<this.ya.length;e++){const n=this.ya[e];i[n]=this[n]}return i}copy(){return this.clone()}$S(){const i=this.ve;if(i!==null){this.ve=null;for(const e of i)e.xd()&&(e.isToData?this.themeData(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter):e.isToObject?this.themeObject(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter,e.sourceName):e.isToModel?this.themeModel(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter):this.theme(e.targetProperty,e.sourceProperty,e.themeSource,e.converter,e.themeConverter))}return this}fe(i){i in Il?this.segmentOrientation=i:i in Ll?this.stretch=i:s.dr(this,i)}toString(){return s.Hn(this.constructor)+"#"+C.xs(this)}ba(){this.w!==null&&(this.w.me=!0)}Yt(){return this.w===null?this.w=new to:this.w.me&&(this.w=this.w.copy()),this.w}Ji(){if(this.ft===null){const i=new P0;i.Dh=K.None,i.vh=K.None,i.Fh=10,i.Rh=10,i.Oh=0,i.Ih=0,this.ft=i}return this.ft}raiseChangedEvent(i,e,n,a,o,h,u){const m=this.part;if(m!==null){m.gf(i,e,n,a,o,h,u),n===this&&i===2&&this.mf()&&this.Eh(m,e);const v=this.diagram;if(this.Ds!==null&&v!==null&&v.Qa&&!v.undoManager.isUndoingRedoing&&!v.animationManager.Uu){const b=this.Ds.get(e);if(b!==null&&v.animationManager.isEnabled&&!v.animationManager.isTicking){this.df===null&&(this.df=new Q);let S=v.undoManager.transactionLevel===0;if(b.startCondition===2?S=!0:b.startCondition===3&&(S=!1),S){const A=new Oi;b.RR(A);const M=this.df.get(b);M!==null&&M.stop(),this.df.set(b,A),A.tb=this,A.DM=b,A.add(this,e,a,o),A.start()}else v.animationManager.getBundleAnimation().add(this,e,a,o)}}if(this instanceof j&&n===m&&m.MN()&&m.data!==null){const b=this.D.r,S=b.length;for(let A=0;A<S;A++){const M=b[A];M instanceof j&&M.Sn(O=>{O.data!==null&&O.MN()&&O.updateTargetBindings(e)})}}}}TR(i){this.df&&this.df.delete(i)}Yo(){if(this.diagram!==null&&this.findBindingPanel()===null&&this.ve!==null){const i=this.diagram.model,e=this.ve.iterator;for(;e.next();){const n=e.value;if(!n.isToTheme)continue;let a=null;const o=n.sourceName;n.isToObject&&(a=this.qT(o));let h=this;const u=n.targetId;u!==-1&&(h=this.Yp(u),h===null)||(o==="/"?a=h.part:o==="."?a=h:o===".."&&(a=h.panel),n.updateTarget(h,a,void 0,i))}}}Eh(i,e){const n=this.findBindingPanel();if(n!==null){const a=i.diagram,o=this.ve.iterator;for(;o.next();){const h=o.value;let u=null;if(h.isToObject){if(u=h.WT(n,this),u===null)continue;h.updateSource(this,u,e,null)}else if(h.isToModel)a!==null&&!a.wi&&h.updateSource(this,a.model.modelData,e,n);else if(!h.isToTheme){const m=n.data;if(m===null)continue;a!==null&&!a.wi&&h.updateSource(this,m,e,n)}if(u===this){const m=h.targetId,v=n.Yp(m);v!==null&&h.updateTarget(v,u,e,a==null?void 0:a.model)}}}}Yp(i){return this.oo===i?this:null}qT(i){let e;return i===""?e=this:i==="/"?e=this:i==="."?e=this:i===".."?e=this:e=this.part.findObject(i),e}get oo(){return this.w!==null?this.w.oo:-1}set oo(i){this.oo!==i&&(this.w===null&&(this.w=new to),this.w.oo=i)}get ve(){return this.w!==null?this.w.ve:null}set ve(i){this.ve!==i&&(this.w===null&&(this.w=new to),this.w.ve=i)}get ro(){return this.w!==null?this.w.ro:null}set ro(i){this.ro!==i&&(this.w===null&&(this.w=new to),this.w.ro=i)}raiseChanged(i,e,n){this.raiseChangedEvent(2,i,this,e,n)}t(i,e,n){this.raiseChangedEvent(2,i,this,e,n)}lo(i,e,n,a){const o=this.hi;if(o.e(i,e,n,a),this.it!==1||this.Xt!==0){this.Se===null&&(this.Se=new le);const h=this.Se;h.Ue(),this.Kp(h,i,e,n,a),h.sm(o)}}JT(i,e,n){return this.pickable===!1?!1:(n.kc(this.v),e?this.intersectsRect(i,n):this.containedInRect(i,n))}$T(i,e,n){if(this.pickable===!1)return!1;const a=this.naturalBounds,o=i.distanceSquaredPoint(e);return n?N.distanceLineSegmentSquared(i.x,i.y,0,0,0,a.height)<=o||N.distanceLineSegmentSquared(i.x,i.y,0,a.height,a.width,a.height)<=o||N.distanceLineSegmentSquared(i.x,i.y,a.width,a.height,a.width,0)<=o||N.distanceLineSegmentSquared(i.x,i.y,a.width,0,0,0)<=o:i.distanceSquared(0,0)<=o&&i.distanceSquared(0,a.height)<=o&&i.distanceSquared(a.width,0)<=o&&i.distanceSquared(a.width,a.height)<=o}Nn(){return!0}containsPoint(i){const e=N.l();e.h(i),this.v.gt(e);const n=this.actualBounds;if(!n.isReal())return N.i(e),!1;const a=this.diagram;if(a!==null&&a.pp){const h=a.getInputOption("extraTouchThreshold"),u=a.getInputOption("extraTouchArea"),m=u/2,v=this.naturalBounds,b=this.getDocumentScale()*a.scale,S=1/b;if(v.width*b<h&&v.height*b<h){const A=W.contains(n.x-m*S,n.y-m*S,n.width+u*S,n.height+u*S,e.x,e.y);return N.i(e),A}}let o=!1;return(this instanceof Zt||this instanceof ke?W.contains(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.containsPoint(e))&&(this.he&&!this.he.containsPoint(e)?o=!1:this.Lt!==null&&this.Ke.containsPoint(i)?o=!0:o=this.ka(i)),N.i(e),o}ka(i){const e=this.naturalBounds;return W.contains(0,0,e.width,e.height,i.x,i.y)}containsRect(i){if(this.angle===0)return this.actualBounds.containsRect(i);const e=this.naturalBounds,n=W.z(0,0,e.width,e.height),a=this.v;let o=!1;const h=N.z(i.x,i.y);return n.containsPoint(a.Ci(h))&&(h.e(i.x,i.bottom),n.containsPoint(a.Ci(h))&&(h.e(i.right,i.bottom),n.containsPoint(a.Ci(h))&&(h.e(i.right,i.y),n.containsPoint(a.Ci(h))&&(o=!0)))),N.i(h),W.i(n),o}containedInRect(i,e){if(e===void 0)return i.containsRect(this.actualBounds);const n=this.naturalBounds,a=e;let o=!1;const h=N.z(0,0);return i.containsPoint(a.gt(h))&&(h.e(0,n.height),i.containsPoint(a.gt(h))&&(h.e(n.width,n.height),i.containsPoint(a.gt(h))&&(h.e(n.width,0),i.containsPoint(a.gt(h))&&(o=!0)))),N.i(h),o}intersectsRect(i,e){if(e===void 0&&(e=this.v,this.angle===0))return i.intersectsRect(this.actualBounds);const n=this.naturalBounds,a=e,o=N.z(0,0),h=N.z(0,n.height),u=N.z(n.width,n.height),m=N.z(n.width,0);let v=!1;if(i.containsPoint(a.gt(o))||i.containsPoint(a.gt(h))||i.containsPoint(a.gt(u))||i.containsPoint(a.gt(m)))v=!0;else{const b=W.z(0,0,n.width,n.height),S=N.z(i.x,i.y);b.containsPoint(a.Ci(S))?v=!0:(S.e(i.x,i.bottom),b.containsPoint(a.Ci(S))?v=!0:(S.e(i.right,i.bottom),b.containsPoint(a.Ci(S))?v=!0:(S.e(i.right,i.y),b.containsPoint(a.Ci(S))&&(v=!0)))),N.i(S),W.i(b),v||(G.lx(i,o,h)||G.lx(i,h,u)||G.lx(i,u,m)||G.lx(i,m,o))&&(v=!0)}return N.i(o),N.i(h),N.i(u),N.i(m),v}getDocumentPoint(i,e){if(e===void 0&&(e=new N),i instanceof K){const n=i,a=this.naturalBounds;return e.e(n.x*a.width+n.offsetX,n.y*a.height+n.offsetY),this.Js.gt(e),e}else return e.set(i),this.Js.gt(e),e}getDocumentBounds(i){i===void 0&&(i=new W);const e=this.naturalBounds,n=this.Js,a=N.z(0,0).v(n);return i.e(a.x,a.y,0,0),a.e(e.width,0).v(n),i.re(a.x,a.y,0,0),a.e(e.width,e.height).v(n),i.re(a.x,a.y,0,0),a.e(0,e.height).v(n),i.re(a.x,a.y,0,0),N.i(a),i}getDocumentAngle(){return this.Js.YF()}getDocumentScale(){if(this.Hp()===!1)return this.Th;const i=this.it;return this.panel!==null?i*this.panel.getDocumentScale():i}getLocalPoint(i,e){return e===void 0&&(e=new N),e.h(i),this.Js.Ci(e),e}getNearestIntersectionPoint(i,e,n){return this.pf(i.x,i.y,e.x,e.y,n)}pf(i,e,n,a,o){const h=this.v,u=1/(h.m11*h.m22-h.m12*h.m21),m=h.m22*u,v=-h.m12*u,b=-h.m21*u,S=h.m11*u,A=u*(h.m21*h.dy-h.m22*h.dx),M=u*(h.m12*h.dx-h.m11*h.dy),O=i*m+e*b+A,R=i*v+e*S+M,V=n*m+a*b+A,q=n*v+a*S+M;o.e(0,0);const J=this.naturalBounds,re=G.Cl(0,0,J.width,J.height,O,R,V,q,o);return o.v(h),re}ht(i,e,n,a){if(this.Go()===!1)return;const o=this.sl,h=o.right+o.left,u=o.top+o.bottom;i=Math.max(i-h,0),e=Math.max(e-u,0),n=n||0,a=a||0,n=Math.max(n-h,0),a=Math.max(a-u,0);const m=this.angle;let v=0;const b=this.desiredSize,S=this.jp();m===90||m===270?(i=isFinite(b.height)?b.height+S:i,e=isFinite(b.width)?b.width+S:e):(i=isFinite(b.width)?b.width+S:i,e=isFinite(b.height)?b.height+S:e);let A=n||0,M=a||0;const O=this instanceof j;switch(this.Qs(!0)){case 0:A=0,M=0,O&&(i=1/0,e=1/0);break;case 2:isFinite(i)&&i>n&&(A=i),isFinite(e)&&e>a&&(M=e);break;case 5:isFinite(i)&&i>n&&(A=i),M=0,O&&(e=1/0);break;case 4:isFinite(e)&&e>a&&(M=e),A=0,O&&(i=1/0);break}const R=this.maxSize,V=this.minSize;A>R.width&&V.width<R.width&&(A=R.width),M>R.height&&V.height<R.height&&(M=R.height),n=Math.max(A,V.width),a=Math.max(M,V.height),R.width<n&&(n=Math.min(V.width,n)),R.height<a&&(a=Math.min(V.height,a)),i=Math.min(R.width,i),e=Math.min(R.height,e),i=Math.max(n,i),e=Math.max(a,e),(m===90||m===270)&&(v=i,i=e,e=v,v=n,n=a,a=v),this.hi.ce(),this.bd(i,e,n,a),this.hi.k(),this.hi.isReal()||s.o("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.hi.toString()),this.xi(!1)}bd(i,e,n,a){}_s(){return!1}Ut(i,e,n,a,o){this.yf();const h=W.l();h.h(this.De),this.De.ce(),this.as()===!1?this.De.e(i,e,n,a):this.Pa(i,e,n,a),this.De.k(),o===void 0?this.he=null:this.he=o;let u=!1;if(o!==void 0)u=!0;else{let m=this.panel;if(m!==null&&m.ol()&&(m=m.panel),m!==null){const v=m.Ke,b=this.measuredBounds,S=e+b.height,A=i+b.width;if(u=!(0<=i+.05&&A<=v.width+.05&&0<=e+.05&&S<=v.height+.05),this instanceof Se){const M=this.naturalBounds;(this.qp>M.height||this.pe>M.width)&&(u=!0)}}}u?this.n|=256:this.n&=-257,this.De.isReal()||s.o("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.De.toString()),this.kd(h,this.De),this.ao(!1),W.i(h)}Pa(i,e,n,a){}commonArrange(i,e,n,a){if(this.De.e(i,e,n,a),this.desiredSize.isReal())return;const o=this.hi,h=this.sl,u=h.right+h.left,m=h.top+h.bottom,v=o.width+u,b=o.height+m;n+=u,a+=m;let S=this.Qs(!0);switch(v===n&&b===a&&(S=0),S){case 0:(v>n||b>a)&&(this.xi(!0),this.ht(v>n?n:v,b>a?a:b,0,0));break;case 2:this.xi(!0),this.ht(n,a,0,0);break;case 5:this.xi(!0),this.ht(n,b,0,0);break;case 4:this.xi(!0),this.ht(v,a,0,0);break}}kd(i,e){const n=this.part;n!==null&&n.diagram!==null&&((n.selectionObject===this||n.resizeObject===this||n.rotateObject===this)&&n.NN(!0),this.C(),!i.equalsApproxClose(e)&&(n.Sa(),this.Wp(n)))}Wp(i){this.portId!==null&&(i.NN(!0),i instanceof Ct&&i.invalidateConnectedLinks(void 0,this))}get shadowVisible(){return this.w!==null?this.w.Jp:null}set shadowVisible(i){const e=this.shadowVisible;e!==i&&(this.Yt().Jp=i,this.$i(!0),this.C(),this.t("shadowVisible",e,i))}oI(i,e){const n=this.naturalBounds,a=this.wa,o=a.m11,h=a.m21,u=a.dx,m=a.m12,v=a.m22,b=a.dy;let S=0,A=0,M=S,O=A;S=M*o+O*h+u,A=M*m+O*v+b;let R=S,V=A,q=0,J=0;M=n.width+e,O=0,S=M*o+O*h+u,A=M*m+O*v+b;let re=Math.min(R,S),se=Math.min(V,A);q=Math.max(R+q,S)-re,J=Math.max(V+J,A)-se,R=re,V=se,M=n.width+e,O=n.height+e,S=M*o+O*h+u,A=M*m+O*v+b,re=Math.min(R,S),se=Math.min(V,A),q=Math.max(R+q,S)-re,J=Math.max(V+J,A)-se,R=re,V=se,M=0,O=n.height+e,S=M*o+O*h+u,A=M*m+O*v+b,re=Math.min(R,S),se=Math.min(V,A),q=Math.max(R+q,S)-re,J=Math.max(V+J,A)-se,R=re,V=se;const ne=i.viewportBounds,xe=ne.x,ye=ne.y,we=ne.width,ze=ne.height;return R>we+xe||xe>q+R||V>ze+ye||ye>J+V}Ge(i,e){if(this.rI(i,e)||!this.visible)return;const n=this.opacity;if(n===0)return;let a=1;n!==1&&(a=i.globalAlpha,i.globalAlpha=a*n);let o="";this.filter!==""&&(o=i.filter,i.filter=this.filter);const h=this.v,u=this.panel;this.Hp()===!0&&this.R1();const m=this.part;let v=!1,b=0;if(m&&e.getRenderingHint("drawShadows")&&(v=m.isShadowed,v)){const V=m.shadowOffset;b=Math.max(V.y,V.x)*e.scale*e.$e}const S=this instanceof j&&this.ol(),A=this.De;if(S&&(this.ZT(v,i,!1,u),this.lI(i,e),this.QT(v,i,!1,u),this._T(v,i,!1)),S||!S&&(A.width===0||A.height===0||isNaN(A.x)||isNaN(A.y))){n!==1&&(i.globalAlpha=a),this.filter!==""&&(i.filter=o);return}const M=this._s();if(!e.ph&&M&&this.oI(e,b)){n!==1&&(i.globalAlpha=a),this.filter!==""&&(i.filter=o);return}let O=(this.n&256)!==0;if(i.clipInsteadOfFill&&(O=!1),this instanceof Se&&(i.font=this.font),O){const V=u.Nn()?u.naturalBounds:u.actualBounds;let q=Math.max(A.x,V.x),J=Math.max(A.y,V.y),re=Math.min(A.right,V.right)-q,se=Math.min(A.bottom,V.bottom)-J;const ne=this.he;if(ne!==null&&(q=ne.x,J=ne.y,re=ne.width,se=ne.height),q>A.width+A.x||A.x>V.width+V.x){n!==1&&(i.globalAlpha=a),this.filter!==""&&(i.filter=o);return}i.save(),i.beginPath(),i.rect(q,J,re,se),i.clip()}if(M){if(!m.isVisible()){n!==1&&(i.globalAlpha=a),this.filter!==""&&(i.filter=o);return}if(v){const V=m.shadowOffset;i.shadowsSet(V.x*e.scale*this.scale*e.$e,V.y*e.scale*this.scale*e.$e,m.shadowBlur),i.shadowsOn(),i.shadowColor=m.shadowColor}}const R=this.naturalBounds;if(i.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.ZT(v,i,M,u),this.Lt!==null&&(i.commitTransform(),this.O1(i,R,A)),this.QT(v,i,M,u),this.Ma(i,e),this._T(v,i,M),O&&(i.restore(),i.clearContextCache(this instanceof j)),!h.RP()){const V=1/(h.m11*h.m22-h.m12*h.m21);i.transform(h.m22*V,-h.m12*V,-h.m21*V,h.m11*V,V*(h.m21*h.dy-h.m22*h.dx),V*(h.m12*h.dx-h.m11*h.dy))}n!==1&&(i.globalAlpha=a),this.filter!==""&&(i.filter=o)}ZT(i,e,n,a){i&&this.shadowVisible===!0?e.shadowsOn():i&&this.shadowVisible===!1&&e.shadowsOff(),i&&this.I1(a)&&this.shadowVisible===null&&e.shadowsOff()}QT(i,e,n,a){i&&(this.Lt!==null||this.I1(a))?(this.E1(!0),this.shadowVisible===null&&e.shadowsOff()):this.E1(!1)}_T(i,e,n){i&&this.CN()===!0&&e.shadowsOn(),n&&i&&e.shadowsOff()}aI(i,e,n){const a=this.part;let o=!1;a&&i.getRenderingHint("drawShadows")&&(o=a.isShadowed),e.clipInsteadOfFill&&(o=!1),this._s()&&o&&e.shadowsOn(),o&&this.shadowVisible===!0?e.shadowsOn():o&&this.shadowVisible===!1&&e.shadowsOff();const h=this.panel;if(o&&this.I1(h)&&this.shadowVisible===null&&e.shadowsOff(),e.rl){const u=i.computePixelRatio(),m=`drop-shadow(${e.shadowOffsetX/u}px ${e.shadowOffsetY/u}px ${e.shadowBlur/u/2}px ${e.shadowColor})`;this.background!==null&&n.Lt.setAttributeNS(null,"filter",m)}return o&&(this.Lt!==null||this.I1(h))?(this.E1(!0),this.shadowVisible===null&&e.shadowsOff()):this.E1(!1),o}hI(i,e,n,a){if(n.rl){const o=e.computePixelRatio(),h=`drop-shadow(${n.shadowOffsetX/o}px ${n.shadowOffsetY/o}px ${n.shadowBlur/o/2}px ${n.shadowColor})`;this.LN(i,h)}a&&this.CN()===!0&&n.shadowsOn(),this._s()&&n.shadowsOff()}I1(i){return i===null?!1:(i.ol()&&(i=i.panel),i.CN()||(i.type===j.Auto||i.type===j.Spot)&&i.findMainElement()!==this)}LN(i,e){}O1(i,e,n){const a=this.jp(),o=e.x,h=e.y,u=e.width+a,m=e.height+a;this.kn(i,this.Lt,!0,!1,e,n),this.Lt instanceof Le&&this.Lt.type===3?(i.beginPath(),i.rect(o-a/2,h-a/2,u,m),i.fillContext(this.Lt,!1,null)):i.fillRect(o-a/2,h-a/2,u,m)}tD(i,e){let n=i.cI(this);const a=i.xa!==null?i.xa:i.svg;if(a!==null&&n!==-1){for(;n!==0&&!i.elt(n-1).isVisibleObject();)n--;if(n===0)this.fI(i,e,a);else{const o=i.elt(n-1).svg;o!==null?o.after(e):a.appendChild(e)}}}fI(i,e,n){if(i.type===j.Table){const a=n.getElementsByClassName("gojs-ts"),o=a.length!==0?a[0]:null;o!==null&&o.after(e)}else n.Lt?n.Lt.after(e):n.prepend(e)}rI(i,e){if(!(i instanceof ns))return!1;if(!this.visible||this.opacity===0)return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;const n=this.De;if(this._s()&&(!this.isVisible()||n.width===0||n.height===0||isNaN(n.x)||isNaN(n.y)))return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;i.setCurrentTransform(1,0,0,1,0,0);const a=this.panel,o=this.Pd(i);if(this.wf(i,e,o))return this.eD(this.svg),this.svg.parentElement!==null?(this._s()&&(i.lastDrawnPart=this.svg),!0):(this._s()?(i.lastDrawnPart!==null?i.lastDrawnPart.after(this.svg):i.diagramGroup.prepend(this.svg),i.lastDrawnPart=this.svg):a&&this.tD(a,this.svg),!0);if(this.$i(!1),this._s()&&this.isShadowed){const R=this.shadowOffset;i.shadowsSet(R.x*e.scale*this.scale*e.$e,R.y*e.scale*this.scale*e.$e,this.shadowBlur),i.shadowsOn(),i.shadowColor=this.shadowColor}this instanceof Se&&(i.font=this.font),i.currentElement=null;const h=this.v,u=this instanceof j,m=this instanceof j?this.ol():!1,v=this.svg;if(this.Hp()===!0&&this.R1(),i.outerGroup=!1,o)if(i.outerGroup=!0,u&&m)i.newGroup(1,0,0,1,0,0),this.svg=i.lastCreatedElement;else if(u&&this.isClipping){const R=this.findMainElement();let V=0,q=0;R!==null&&(V=R.actualBounds.x,q=R.actualBounds.y),i.newGroup(h.m11,h.m12,h.m21,h.m22,h.dx+V,h.dy+q),this.svg=i.lastCreatedElement,R!==null&&i.createOrUpdateClipGroup(this,R.actualBounds),i.currentElement=i.lastCreatedElement}else u?(i.newGroup(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.svg=i.lastCreatedElement):i.newGroup(1,0,0,1,0,0);const b=this.naturalBounds;u||i.setCurrentTransform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.background!==null&&(u?(m&&i.setCurrentTransform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.O1(i,b,n),m&&i.setCurrentTransform(1,0,0,1,0,0)):(i.setCurrentTransform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.O1(i,b,n)),i.currentElement.Lt=i.lastCreatedElement,i.currentElement.prepend(i.lastCreatedElement));const S=this.aI(e,i,i.currentElement);this.Ma(i,e),u&&i.endGroup(),i.outerGroup&&i.endGroup();const A=i.surface.ud,M=u?this.svg:i.currentElement;if(v!==null&&v.parentNode!==null&&M!==v&&(this.panel===null||v.parentNode===this.panel.svg)){const R=this.svg.getAttribute("filter");return R!==null&&M.setAttribute("filter",R),this.filter!==""&&M.setAttributeNS(null,"filter",this.filter),v.replaceWith(M),this.svg=M,M!==null&&this.$p(i,a,n,M),!0}if(this.svg=M,A!==null&&M===null&&i.dummyGroup(),M===null)return!0;this.$p(i,a,n,M),this.hI(M,e,i,S);const O=this._s()?this.opacity*i.globalAlpha:this.opacity;if(O!==1&&M.setAttributeNS(null,"opacity",O.toString()),this.filter!==""&&M.setAttributeNS(null,"filter",this.filter),this._s()){if(v!==null&&M!==v&&v.parentNode===i.diagramGroup){const R=v.getAttribute("filter");R!==null&&M.setAttribute("filter",R),v.replaceWith(M)}else i.lastDrawnPart?i.lastDrawnPart.after(M):i.diagramGroup.prepend(M);i.lastDrawnPart=M}else a!==null&&this.tD(a,M);return A!==null&&A(this,M),this.eD(M),!0}eD(i){const e=this,n=i.dataset;e instanceof Vi&&(e.portId!==null&&(n.portId=e.portId),e instanceof j&&(isNaN(e.itemIndex)||(n.itemIndex=e.itemIndex.toString()),e instanceof Et&&(n.className=s.Hn(e),e.key!==void 0&&(n.key=e.key.toString()),e.containingGroup!==null&&(n.group=e.containingGroup.key.toString()),e instanceof yt&&(e.fromNode!==null&&e.fromNode.key!==void 0&&(n.fromKey=e.fromNode.key.toString()),e.fromPortId!==""&&(n.fromPortId=e.fromPortId),e.toNode!==null&&e.toNode.key!==void 0&&(n.toKey=e.toNode.key.toString()),e.toPortId!==""&&(n.toPortId=e.toPortId)))))}$p(i,e,n,a){let o=(this.n&256)!==0;if(i.clipInsteadOfFill&&(o=!1),!o){a.removeAttributeNS(null,"clip-path");return}const h=e.Nn()?e.naturalBounds:e.actualBounds;let u=Math.max(n.x,h.x),m=Math.max(n.y,h.y),v=Math.min(n.right,h.right)-u,b=Math.min(n.bottom,h.bottom)-m;const S=this.he;S!==null&&(u=S.x,m=S.y,v=S.width,b=S.height);const A=W.z(u,m,Math.max(v,0),Math.max(b,0));if(this instanceof j){const M=le.l();M.set(this.v),M.ex(),M.sm(A),le.i(M)}a.setAttributeNS(null,"clip-path",`path('      M ${A.x},${A.y}       L ${A.width+A.x} ${A.y}       L ${A.width+A.x} ${A.height+A.y}       L ${A.x} ${A.height+A.y} z') view-box`),W.i(A)}uI(){if(this.svg===null)return;const i=this.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),e=this.svg.ownerDocument;if(i!==null)for(const n of i){const a=e.getElementById(n.split("#")[1].slice(0,-1));a!==null&&a.remove()}this.svg.remove()}lI(i,e){const n=this.De,a=this.Ke,o=this.Lt;o!==null&&i.commitTransform(),o!==null&&(this.kn(i,o,!0,!1,a,n),o instanceof Le&&o.type===3?(i.beginPath(),i.rect(n.x,n.y,n.width,n.height),i.fillContext(o,!1,null)):i.fillRect(n.x,n.y,n.width,n.height)),this.Ma(i,e)}Ma(i,e){}xf(){this.$i(!0)}wf(i,e,n){const a=this.svg;if(this.dI()){if(this.xf(),this.$i(!1),a===null)return!1;const S=a.getAttribute("clip-path");if(S!==null&&S.includes("url")){const A=i.svg.getElementById(S.split("#")[1].slice(0,-1));A!==null&&A.remove()}return a.getAttribute("filter")&&a.removeAttribute("filter"),!1}if(a===null)return!1;if(!this.visible)return a.remove(),!1;if(a.nodeName!=="g"&&n||a.nodeName==="g"&&!n)return!1;const o=this.v,h="matrix("+o.m11+", "+o.m12+", "+o.m21+", "+o.m22+", "+o.dx+", "+o.dy+")",u=this instanceof j,m=u?this.ol():!1;if(!(u&&m))if(this instanceof nt){const S=this.U1;i.setCurrentTransform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),S!==null&&i.amendImageTransform(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7]),n?a.lastElementChild.setAttributeNS(null,"transform",i.getCurrentTransform()):a.setAttributeNS(null,"transform",i.getCurrentTransform())}else if(n&&!u)if(this instanceof ke){const S=a.getElementsByTagName("path");for(let A=0;A<S.length;A++)S[A].setAttributeNS(null,"transform",h)}else if(this instanceof Se){const S=a.getElementsByTagName("text"),A=typeof this.stroke=="string"?this.stroke:null;for(let M=0;M<S.length;M++)S[M].setAttributeNS(null,"transform",h),A&&S[M].setAttributeNS(null,"fill",A)}else(a.lastElementChild||a).setAttributeNS(null,"transform",h);else if(u&&this.isClipping&&this.xa){const S=this.findMainElement(),A=S!==null?S.actualBounds.x:0,M=S!==null?S.actualBounds.y:0;this.xa.setAttributeNS(null,"transform","matrix(1,0,0,1,"+-A+", "+-M+")"),a.setAttributeNS(null,"transform","matrix("+o.m11+", "+o.m12+", "+o.m21+", "+o.m22+", "+(o.dx+A)+", "+(o.dy+M)+")")}else a.setAttributeNS(null,"transform",h);const v=this._s()?this.opacity*i.globalAlpha:this.opacity;v===1?a.removeAttribute("opacity"):a.setAttributeNS(null,"opacity",v.toString()),i.setCurrentTransform(1,0,0,1,0,0);const b=this.xa?this.xa:this.F1;if(this.background!==null||b.Lt!==void 0){const S=b.Lt;if(this.background===null)i.removeOldGradient(this,b.Lt,"fill"),b.Lt.remove(),b.Lt=void 0;else{if((m||n&&!(this instanceof j))&&i.setCurrentTransform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),this.O1(i,this.naturalBounds,this.actualBounds),b.Lt){i.removeOldGradient(this,b.Lt,"fill");const A=b.Lt.getAttribute("filter");A!==null&&i.lastCreatedElement.setAttribute("filter",A),b.Lt.replaceWith(i.lastCreatedElement)}else b.prepend(i.lastCreatedElement);b.Lt=i.lastCreatedElement}S&&i.removeOldGradient(this,S,"fill")}return this.$p(i,this.panel,this.actualBounds,a),!0}Pd(i){if(this.background!==null)return!0;let e=(this.n&256)!==0;return i.clipInsteadOfFill&&(e=!1),!!e}static UU(i,e,n,a,o,h,u){let m=.001;const v=h.length;i.moveTo(e,n);let b=a-e;const S=o-n;b===0&&(b=.001);const A=S/b;let M=Math.sqrt(b*b+S*S),O=0,R=!0;m=h[O%v];let V=u!==0;for(;M>=.1;){if(V){for(m=h[O++%v],m-=u;m<0;)m+=h[O++%v],R=!R;V=!1}else m=h[O++%v];m>M&&(m=M);let q=Math.sqrt(m*m/(1+A*A));b<0&&(q=-q),e+=q,n+=A*q,R?i.lineTo(e,n):i.moveTo(e,n),M-=m,R=!R}}kn(i,e,n,a,o,h){let u=1,m=1;if(typeof e=="string"){n?i.fillStyle=e:i.strokeStyle=e;return}else if(e.type===1){n?i.fillStyle=e.color:i.strokeStyle=e.color;return}let v;const b=this.jp();u=o.width,m=o.height,a?(u=h.width,m=h.height):n||(u+=b,m+=b);const S=i instanceof Ao;if(S&&e.Cn&&(e.type===4||e.bf===u&&e.V1===m))v=e.Cn;else{let A=0,M=0,O=0,R=0,V=0,q=0,J=0,re=0;if(a?(J=h.x,re=h.y):n||(J-=b/2,re-=b/2),A=e.start.x*u+e.start.offsetX+J,M=e.start.y*m+e.start.offsetY+re,O=e.end.x*u+e.end.offsetX+J,R=e.end.y*m+e.end.offsetY+re,e.type===2)v=i.createLinearGradient(A,M,O,R);else if(e.type===3)q=isNaN(e.endRadius)?Math.max(u,m)/2:e.endRadius,isNaN(e.startRadius)?(V=0,q=Math.max(u,m)/2):V=e.startRadius,v=i.createRadialGradient(A,M,V,O,R,q);else if(e.type===4)try{v=i.createPattern(e.pattern,"repeat")}catch{v=null}else s.si(e.type,"Brush type");if(e.type!==4){const se=e.colorStops;if(se!==null){const ne=se.iterator;for(;ne.next();)v.addColorStop(ne.key,ne.value)}}if(S&&(e.Cn=v,v!==null&&(e.bf=u,e.V1=m),v===null&&e.type===4&&e.bf!==-1)){e.bf=-1;const se=this.diagram;se!==null&&e.bf===-1&&s.dn(()=>{se.redraw()},600)}}n?i.fillStyle=v:i.strokeStyle=v}isContainedBy(i){return i instanceof j?this.gI(this,i):!1}gI(i,e){if(i===e||e===null)return!1;let n=i.panel;for(;n!==null;){if(n===e)return!0;n=n.panel}return!1}isVisibleObject(){if(!this.visible)return!1;const i=this.panel;return i!==null?i.isVisibleObject():!0}isEnabledObject(){let i=this instanceof j?this:this.panel;for(;i!==null&&i.isEnabled;)i=i.panel;return i===null}get enabledChanged(){return this.w!==null?this.w.Zp:null}set enabledChanged(i){const e=this.enabledChanged;e!==i&&(i!==null&&s.S(i,Vi,"enabledChanged"),this.Yt().Zp=i,this.t("enabledChanged",e,i))}R1(){if(this.B1()===!0){const i=this.il;if(i.Ue(),!this.De.isReal()||!this.hi.isReal()){this.Sd(!1);return}if(i.Gs(this.De.x-this.hi.x,this.De.y-this.hi.y),this.scale!==1||this.angle!==0){const e=this.naturalBounds;this.Kp(i,e.x,e.y,e.width,e.height)}this.Sd(!1),this.Uh(!0)}if(this.Hp()===!0){const i=this.panel;if(i===null)this.wa.set(this.il),this.Th=this.scale;else if(i.Js!==null){const e=this.wa;e.Ue(),i.Nn()?e.kc(i.wa):i.panel!==null&&e.kc(i.panel.wa),e.kc(this.il),this.Th=this.scale*i.Th}this.Uh(!1)}}Kp(i,e,n,a,o){if(this.it!==1&&i.it(this.it),this.Xt===0)return;const h=N.l();h.setSpot(e,n,a,o,K.Center),i.ks(this.Xt,h.x,h.y),N.i(h)}c(i){if(this.Go())return;i===void 0&&(i=!1),this.xi(!0),this.ao(!0);const e=this.panel;e!==null&&!i&&e.c()}kf(){this.Go()||(this.xi(!0),this.ao(!0))}Pf(i){if(this.as())return;const e=this.panel;!i&&e!==null&&e.c(),this.ao(!0)}yf(){this.B1()===!1&&(this.Sd(!0),this.Uh(!0))}AN(){this.Uh(!0)}C(){const i=this.part;i!==null&&i.C()}Qs(i){const e=this.stretch,n=this.panel;if(n===null)return this.qo(e===1?0:e,i);if(n.type===j.Table)return this.Qp(n.getRowDefinition(this.row),n.getColumnDefinition(this.column),i);if(n.type===j.Auto&&n.findMainElement()===this)return this.qo(2,i);if(e===1){if(n.type===j.Spot&&n.findMainElement()===this)return this.qo(2,i);const a=n.defaultStretch;return a===1?this.qo(0,i):this.qo(a,i)}return this.qo(e,i)}Qp(i,e,n){const a=this.stretch;if(a!==1)return this.qo(a,n);let o=null,h=null;switch(i.stretch){case 1:case 5:break;case 4:h=!0;break;case 2:h=!0;break}switch(e.stretch){case 1:case 4:break;case 5:o=!0;break;case 2:o=!0;break}const u=this.panel.defaultStretch;return o===null&&(o=u===5||u===2),h===null&&(h=u===4||u===2),o===!0&&h===!0?this.qo(2,n):o===!0?this.qo(5,n):h===!0?this.qo(4,n):this.qo(0,n)}qo(i,e){if(e)return i;if(i===0)return 0;const n=this.desiredSize;if(n.isReal())return 0;const a=!isNaN(n.width),o=!isNaN(n.height),h=this.angle;if(a)if(h!==90&&h!==270){if(i===5)return 0;if(i===2)return 4}else{if(i===4)return 0;if(i===2)return 5}if(o)if(h!==90&&h!==270){if(i===4)return 0;if(i===2)return 5}else{if(i===5)return 0;if(i===2)return 4}return i}get segmentOrientation(){return this.Ot!==null?this.Ot._p:0}set segmentOrientation(i){const e=this.segmentOrientation;e!==i&&(this.Ot===null&&(this.Ot=new Rl),this.Ot._p=i,this.c(),this.t("segmentOrientation",e,i),i===0&&(this.angle=0))}mI(){this.segmentOrientation=21}get segmentIndex(){return this.Ot!==null?this.Ot.t0:-1/0}set segmentIndex(i){i=Math.round(i);const e=this.segmentIndex;e!==i&&(this.Ot===null&&(this.Ot=new Rl),this.Ot.t0=i,this.c(),this.t("segmentIndex",e,i))}get segmentFraction(){return this.Ot!==null?this.Ot.e0:0}set segmentFraction(i){i<0?i=0:i>1&&(i=1);const e=this.segmentFraction;e!==i&&(this.Ot===null&&(this.Ot=new Rl),this.Ot.e0=i,this.c(),this.t("segmentFraction",e,i))}get segmentOffset(){return this.Ot!==null?this.Ot.i0:N.gn}set segmentOffset(i){const e=this.segmentOffset;e.equals(i)||(i=i.N(),this.Ot===null&&(this.Ot=new Rl),this.Ot.i0=i,this.c(),this.t("segmentOffset",e,i))}get stretch(){return this.w!==null?this.w.ho:1}set stretch(i){const e=this.stretch;e!==i&&(this.Yt().ho=i,this.c(),this.t("stretch",e,i))}get name(){return this.w!==null?this.w.Pt:""}set name(i){const e=this.name;e!==i&&(this.Yt().Pt=i,this.part!==null&&this.part.s0(),this.t("name",e,i))}get opacity(){return this.Zt}set opacity(i){i<0?i=0:i>1&&(i=1);const e=this.opacity;if(e!==i){this.Zt=i,this.t("opacity",e,i);const n=this.diagram,a=this.part;n!==null&&a!==null&&n.C(a.hh(a.actualBounds))}}get filter(){return this.Gp}set filter(i){const e=this.filter;if(e!==i){this.Gp=i,this.$i(!0),this.t("filter",e,i);const n=this.diagram,a=this.part;n!==null&&a!==null&&n.C(a.hh(a.actualBounds))}}get visible(){return(this.n&1)!==0}set visible(i){const e=(this.n&1)!==0;if(e!==i){this.n=this.n^1,this.xf(),this.t("visible",e,i);const n=this.panel;n!==null?n.c():this._s()&&this.Xe(i),this.C(),this.iD()}}get pickable(){return(this.n&2)!==0}set pickable(i){const e=(this.n&2)!==0;e!==i&&(this.n=this.n^2,this.t("pickable",e,i))}get fromLinkableDuplicates(){return(this.n&4)!==0}set fromLinkableDuplicates(i){const e=(this.n&4)!==0;e!==i&&(this.n=this.n^4,this.t("fromLinkableDuplicates",e,i))}get fromLinkableSelfNode(){return(this.n&8)!==0}set fromLinkableSelfNode(i){const e=(this.n&8)!==0;e!==i&&(this.n=this.n^8,this.t("fromLinkableSelfNode",e,i))}get toLinkableDuplicates(){return(this.n&16)!==0}set toLinkableDuplicates(i){const e=(this.n&16)!==0;e!==i&&(this.n=this.n^16,this.t("toLinkableDuplicates",e,i))}get toLinkableSelfNode(){return(this.n&32)!==0}set toLinkableSelfNode(i){const e=(this.n&32)!==0;e!==i&&(this.n=this.n^32,this.t("toLinkableSelfNode",e,i))}get isPanelMain(){return(this.n&64)!==0}set isPanelMain(i){const e=(this.n&64)!==0;e!==i&&(this.n=this.n^64,this.c(),this.t("isPanelMain",e,i))}get isActionable(){return(this.n&128)!==0}set isActionable(i){const e=(this.n&128)!==0;e!==i&&(this.n=this.n^128,this.t("isActionable",e,i))}get background(){return this.Lt}set background(i){const e=this.background;e!==i&&(i!==null&&Le.Md(i,"GraphObject.background"),i instanceof Le&&i.k(),this.Lt=i,this.C(),this.t("background",e,i))}CN(){return(this.n&512)!==0}E1(i){i?this.n|=512:this.n&=-513}mf(){return(this.n&1024)!==0}TN(i){i?this.n|=1024:this.n&=-1025}B1(){return(this.n&2048)!==0}Sd(i){i?this.n|=2048:this.n&=-2049}Hp(){return(this.n&4096)!==0}Uh(i){i?this.n|=4096:this.n&=-4097}Go(){return(this.n&8192)!==0}xi(i){i?this.n|=8192:this.n&=-8193}as(){return(this.n&16384)!==0}ao(i){i?this.n|=16384:this.n&=-16385}dI(){return(this.n&32768)!==0}$i(i){i?this.n|=32768:this.n&=-32769}get part(){if(this._s())return this;if(this.nl!==null)return this.nl;let i=this;for(i=i.panel;i;){if(i instanceof Et)return this.nl=i,i;i=i.panel}return null}get svg(){return this.F1}set svg(i){this.F1=i}Wc(){this.svg=null}get panel(){return this.Zs}Vh(i){this.Zs=i,this.svg!==null&&this.svg.remove()}get layer(){const i=this.part;return i!==null?i.layer:null}get diagram(){const i=this.part;return i!==null?i.diagram:null}get position(){return this.ct}set position(i){const e=i.x,n=i.y,a=this.position,o=a.x,h=a.y;o!==e&&(!isNaN(o)||!isNaN(e))||h!==n&&(!isNaN(h)||!isNaN(n))?(i=i.copy(),this.DN(i,o,h)&&this.t("position",new N(o,h),i.copy())):this.vN()}vN(){}DN(i,e,n){return this.ct=i,this.Pf(),!0}Uc(i,e,n){this.ct.x===i&&this.ct.y===e||(this.ct.e(i,e),this.yf())}get actualBounds(){return this.De}get scale(){return this.it}set scale(i){const e=this.scale;e!==i&&(i<=0&&s.o("GraphObject.scale for "+this+" must be greater than zero, not: "+i),this.it=i,this.c(),this.t("scale",e,i))}get angle(){return this.Xt}set angle(i){const e=this.angle;if(e!==i){if(i=i%360,i<0&&(i+=360),e===i)return;this.Xt=i,this.iD(),this.c(),this.t("angle",e,i)}}get desiredSize(){return this.cs}set desiredSize(i){const e=i.width,n=i.height,a=this.desiredSize,o=a.width,h=a.height;if((o!==e&&(!isNaN(o)||!isNaN(e))||h!==n&&(!isNaN(h)||!isNaN(n)))&&(i=i.N(),this.cs=i,this.c(),this instanceof ke&&this.ai(),this.t("desiredSize",a,i),this.mf())){const u=this.part;u!==null&&(this.Eh(u,"width"),this.Eh(u,"height"))}}get width(){return this.cs.width}set width(i){const e=this.cs.width;if(e!==i&&(!isNaN(e)||!isNaN(i))){const n=this.cs,a=new X(i,this.cs.height).k();if(this.cs=a,this.c(),this instanceof ke&&this.ai(),this.t("desiredSize",n,a),this.mf()){const o=this.part;o!==null&&this.Eh(o,"width")}}}get height(){return this.cs.height}set height(i){const e=this.cs.height;if(e!==i&&(!isNaN(e)||!isNaN(i))){const n=this.cs,a=new X(this.cs.width,i).k();if(this.cs=a,this.c(),this instanceof ke&&this.ai(),this.t("desiredSize",n,a),this.mf()){const o=this.part;o!==null&&this.Eh(o,"height")}}}get minSize(){return this.w!==null?this.w.Cr:X.bc}set minSize(i){const e=this.minSize;e.equals(i)||(i=i.copy(),isNaN(i.width)&&(i.width=0),isNaN(i.height)&&(i.height=0),i.k(),this.Yt().Cr=i,this.c(),this.t("minSize",e,i))}get maxSize(){return this.w!==null?this.w.Lr:X.DP}set maxSize(i){const e=this.maxSize;e.equals(i)||(i=i.copy(),isNaN(i.width)&&(i.width=1/0),isNaN(i.height)&&(i.height=1/0),i.k(),this.Yt().Lr=i,this.c(),this.t("maxSize",e,i))}get measuredBounds(){return this.hi}get naturalBounds(){return this.Ke}jp(){return 0}get margin(){return this.sl}set margin(i){typeof i=="number"&&(i=new he(i));const e=this.sl;e.equals(i)||(i=i.N(),this.sl=i,this.c(),this.t("margin",e,i))}get v(){return this.B1()===!0&&this.R1(),this.il}get Js(){return this.Hp()===!0&&this.R1(),this.wa}trigger(i,e,n){let a=null;return typeof i=="string"?a=new wi(i,e,n):a=i,a.Ti=this,this.Ds===null&&(this.Ds=new Q),this.Ds.set(a.propertyName,a),this}get Ds(){return this.w!==null?this.w.Ds:null}set Ds(i){this.Ds!==i&&(this.Yt().Ds=i)}get Nr(){return this.w!==null?this.w.Nr:0}set Nr(i){this.Nr!==i&&(this.Yt().Nr=i)}get alignment(){return this.de}set alignment(i){const e=this.alignment;e.equals(i)||(i.isNoSpot()&&!i.isDefault()&&s.o("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+i),i=i.N(),this.de=i,this.Pf(),this.t("alignment",e,i))}get column(){return this.pa}set column(i){i=Math.round(i);const e=this.column;e!==i&&(i<0&&s.J(i,">= 0",Vi,"column"),this.pa=i,this.c(),this.t("column",e,i),this.svg!==null&&this.svg.remove())}get columnSpan(){return this.w!==null?this.w.o0:1}set columnSpan(i){i=Math.round(i);const e=this.columnSpan;e!==i&&(i<1&&s.J(i,">= 1",Vi,"columnSpan"),this.Yt().o0=i,this.c(),this.t("columnSpan",e,i))}get row(){return this.Xp}set row(i){i=Math.round(i);const e=this.row;e!==i&&(i<0&&s.J(i,">= 0",Vi,"row"),this.Xp=i,this.c(),this.t("row",e,i),this.svg!==null&&this.svg.remove())}get rowSpan(){return this.w!==null?this.w.r0:1}set rowSpan(i){i=Math.round(i);const e=this.rowSpan;e!==i&&(i<1&&s.J(i,">= 1",Vi,"rowSpan"),this.Yt().r0=i,this.c(),this.t("rowSpan",e,i))}get spanAllocation(){return this.w!==null?this.w.l0:null}set spanAllocation(i){const e=this.spanAllocation;e!==i&&(i!==null&&s.S(i,Vi,"spanAllocation"),this.Yt().l0=i,this.c(),this.t("spanAllocation",e,i))}get alignmentFocus(){return this.wd}set alignmentFocus(i){const e=this.alignmentFocus;e.equals(i)||(i=i.N(),this.wd=i,this.c(),this.t("alignmentFocus",e,i))}get portId(){return this.zp}set portId(i){const e=this.portId;if(e!==i){const n=this.part;n!==null&&!(n instanceof Ct)&&s.o("Cannot set portID on a Link: "+i);const a=n;e!==null&&a!==null&&a.FN(this),this.zp=i,i!==null&&a!==null&&(a.Ln=!0,a.sD(this)),this.t("portId",e,i)}}Bh(){const i=this.part;if(i instanceof Ct&&(this.portId!==null||this===i.port)){const e=i.diagram;e!==null&&!e.undoManager.isUndoingRedoing&&i.invalidateConnectedLinks(void 0,this)}}iD(){const i=this.diagram;i===null||i.undoManager.isUndoingRedoing||(this instanceof j?this instanceof Ct?this.invalidateConnectedLinks():this.walkVisualTreeFrom(this,e=>{e.Bh()}):this.Bh())}get toSpot(){return this.ft!==null?this.ft.vh:K.None}set toSpot(i){const e=this.toSpot;e.equals(i)||(i=i.N(),this.Ji().vh=i,this.t("toSpot",e,i),this.Bh())}get toEndSegmentLength(){return this.ft!==null?this.ft.Rh:10}set toEndSegmentLength(i){const e=this.toEndSegmentLength;e!==i&&(i<0&&s.J(i,">= 0",Vi,"toEndSegmentLength"),this.Ji().Rh=i,this.t("toEndSegmentLength",e,i),this.Bh())}get toShortLength(){return this.ft!==null?this.ft.Ih:0}set toShortLength(i){const e=this.toShortLength;e!==i&&(this.Ji().Ih=i,this.t("toShortLength",e,i),this.Bh())}get toLinkable(){return this.ft!==null?this.ft.a0:null}set toLinkable(i){const e=this.toLinkable;e!==i&&(this.Ji().a0=i,this.t("toLinkable",e,i))}get toMaxLinks(){return this.ft!==null?this.ft.h0:1/0}set toMaxLinks(i){const e=this.toMaxLinks;e!==i&&(i<0&&s.J(i,">= 0",Vi,"toMaxLinks"),this.Ji().h0=i,this.t("toMaxLinks",e,i))}get fromSpot(){return this.ft!==null?this.ft.Dh:K.None}set fromSpot(i){const e=this.fromSpot;e.equals(i)||(i=i.N(),this.Ji().Dh=i,this.t("fromSpot",e,i),this.Bh())}get fromEndSegmentLength(){return this.ft!==null?this.ft.Fh:10}set fromEndSegmentLength(i){const e=this.fromEndSegmentLength;e!==i&&(i<0&&s.J(i,">= 0",Vi,"fromEndSegmentLength"),this.Ji().Fh=i,this.t("fromEndSegmentLength",e,i),this.Bh())}get fromShortLength(){return this.ft!==null?this.ft.Oh:0}set fromShortLength(i){const e=this.fromShortLength;e!==i&&(this.Ji().Oh=i,this.t("fromShortLength",e,i),this.Bh())}get fromLinkable(){return this.ft!==null?this.ft.c0:null}set fromLinkable(i){const e=this.fromLinkable;e!==i&&(this.Ji().c0=i,this.t("fromLinkable",e,i))}get fromMaxLinks(){return this.ft!==null?this.ft.f0:1/0}set fromMaxLinks(i){const e=this.fromMaxLinks;e!==i&&(i<0&&s.J(i,">= 0",Vi,"fromMaxLinks"),this.Ji().f0=i,this.t("fromMaxLinks",e,i))}get cursor(){return this.w!==null?this.w.Il:""}set cursor(i){const e=this.cursor;e!==i&&(s.s(i,"string",Vi,"cursor"),this.Yt().Il=i,this.t("cursor",e,i))}get click(){return this.w!==null?this.w.Ur:null}set click(i){const e=this.click;e!==i&&(i!==null&&s.S(i,Vi,"click"),this.Yt().Ur=i,this.t("click",e,i))}get doubleClick(){return this.w!==null?this.w.Vr:null}set doubleClick(i){const e=this.doubleClick;e!==i&&(i!==null&&s.S(i,Vi,"doubleClick"),this.Yt().Vr=i,this.t("doubleClick",e,i))}get contextClick(){return this.w!==null?this.w.Br:null}set contextClick(i){const e=this.contextClick;e!==i&&(i!==null&&s.S(i,Vi,"contextClick"),this.Yt().Br=i,this.t("contextClick",e,i))}get mouseEnter(){return this.w!==null?this.w.Kr:null}set mouseEnter(i){const e=this.mouseEnter;e!==i&&(i!==null&&s.S(i,Vi,"mouseEnter"),this.Yt().Kr=i,this.t("mouseEnter",e,i))}get mouseLeave(){return this.w!==null?this.w.Hr:null}set mouseLeave(i){const e=this.mouseLeave;e!==i&&(i!==null&&s.S(i,Vi,"mouseLeave"),this.Yt().Hr=i,this.t("mouseLeave",e,i))}get mouseOver(){return this.w!==null?this.w.zr:null}set mouseOver(i){const e=this.mouseOver;e!==i&&(i!==null&&s.S(i,Vi,"mouseOver"),this.Yt().zr=i,this.t("mouseOver",e,i))}get mouseHover(){return this.w!==null?this.w.Xr:null}set mouseHover(i){const e=this.mouseHover;e!==i&&(i!==null&&s.S(i,Vi,"mouseHover"),this.Yt().Xr=i,this.t("mouseHover",e,i))}get mouseHold(){return this.w!==null?this.w.Gr:null}set mouseHold(i){const e=this.mouseHold;e!==i&&(i!==null&&s.S(i,Vi,"mouseHold"),this.Yt().Gr=i,this.t("mouseHold",e,i))}get mouseDragEnter(){return this.w!==null?this.w.u0:null}set mouseDragEnter(i){const e=this.mouseDragEnter;e!==i&&(i!==null&&s.S(i,Vi,"mouseDragEnter"),this.Yt().u0=i,this.t("mouseDragEnter",e,i))}get mouseDragLeave(){return this.w!==null?this.w.d0:null}set mouseDragLeave(i){const e=this.mouseDragLeave;e!==i&&(i!==null&&s.S(i,Vi,"mouseDragLeave"),this.Yt().d0=i,this.t("mouseDragLeave",e,i))}get mouseDrop(){return this.w!==null?this.w.Yr:null}set mouseDrop(i){const e=this.mouseDrop;e!==i&&(i!==null&&s.S(i,Vi,"mouseDrop"),this.Yt().Yr=i,this.t("mouseDrop",e,i))}get actionDown(){return this.w!==null?this.w.g0:null}set actionDown(i){const e=this.actionDown;e!==i&&(i!==null&&s.S(i,Vi,"actionDown"),this.Yt().g0=i,this.t("actionDown",e,i))}get actionMove(){return this.w!==null?this.w.m0:null}set actionMove(i){const e=this.actionMove;e!==i&&(i!==null&&s.S(i,Vi,"actionMove"),this.Yt().m0=i,this.t("actionMove",e,i))}get actionUp(){return this.w!==null?this.w.p0:null}set actionUp(i){const e=this.actionUp;e!==i&&(i!==null&&s.S(i,Vi,"actionUp"),this.Yt().p0=i,this.t("actionUp",e,i))}get actionCancel(){return this.w!==null?this.w.y0:null}set actionCancel(i){const e=this.actionCancel;e!==i&&(i!==null&&s.S(i,Vi,"actionCancel"),this.Yt().y0=i,this.t("actionCancel",e,i))}get toolTip(){return this.w!==null?this.w.jr:null}set toolTip(i){const e=this.toolTip;e!==i&&(this.Yt().jr=i,this.t("toolTip",e,i))}get contextMenu(){return this.w!==null?this.w.qr:null}set contextMenu(i){const e=this.contextMenu;e!==i&&(this.Yt().qr=i,this.t("contextMenu",e,i))}findBindingPanel(){let i=this instanceof j?this:this.panel;for(;i!==null;){if(i.RN())return i;i=i.panel}return null}bind(i,e,n,a){return this.Sf(i,e,n,a),this}bindTwoWay(i,e,n,a){return this.Sf(i,e,n,a).makeTwoWay(),this}bindModel(i,e,n,a){return this.Sf(i,e,n,a).ofModel(),this}bindObject(i,e,n,a,o){return this.Sf(i,e,n,a).ofObject(o),this}theme(i,e,n,a,o){return this.Na(i,e,n,a,o),this}themeData(i,e,n,a,o){return this.Na(i,e,n,a,o).ofData(),this}themeObject(i,e,n,a,o,h){return this.Na(i,e,n,a,o).ofObject(h),this}themeModel(i,e,n,a,o){return this.Na(i,e,n,a,o).ofModel(),this}Sf(i,e,n,a){let o=null;return typeof i=="string"?o=new so(i,e,n,a):o=i,this.w0(o),o}Na(i,e,n,a,o){let h=null;return typeof i=="string"?h=new Jc(i,e,n,a,o):h=i,this.w0(h),h}w0(i){i.Ti=this;const e=this.findBindingPanel();e!==null&&e.nD()&&s.o("Cannot add a Binding to a template that has already been copied: "+i),this.ve===null&&(this.ve=new w),this.ve.add(i)}set(i){return i?(Object.assign(this,i),this):this}attach(i){return Vi.ON(this,i),this}apply(i,...e){return i.apply(this,[this,...e]),this}setProperties(i){return Ft.Ap(this,i),this}static make(i,...e){let n=arguments,a=null,o=null;if(s.st(i))o=i;else if(typeof i=="string"){const u=Vi.z1.get(i);s.st(u)?(n=Array.prototype.slice.call(n),a=u(n),s.$(a)||s.o('GraphObject.make invoked object builder "'+i+'", but it did not return an Object')):o=t.go[i]}a===null&&((o==null||!o.constructor)&&s.o("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+i),a=new o);let h=1;if(a instanceof Ft&&n.length>1){const u=a,m=n[1];(typeof m=="string"||m instanceof HTMLDivElement)&&(u.p2(m),h++)}for(let u=h;u<n.length;u++){const m=n[u];m===void 0?s.o("Undefined value at argument "+u+" for object being constructed by GraphObject.make: "+a):a&&Vi.ON(a,m)}return a}static ON(i,e){if(typeof e=="number")Vi.pI(i,e);else if(typeof e=="string")Vi.yI(i,e);else if(e instanceof Vi)i instanceof j||s.o("A GraphObject can only be added to a Panel, not to: "+i),i.add(e);else if(e instanceof be){let n=null;e.isRow&&s.st(i.getRowDefinition)?n=i.getRowDefinition(e.index):!e.isRow&&s.st(i.getColumnDefinition)&&(n=i.getColumnDefinition(e.index)),n instanceof be?n.X1(e):s.o("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+i)}else if(e instanceof Ve){const n=i;n.type=e}else if(e instanceof so)i instanceof Vi||i instanceof be?i.bind(e):s.o("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+i);else if(e instanceof wi)i instanceof Vi?i.trigger(e):s.o("An AnimationTrigger can only be applied to a GraphObject, not to: "+i);else if(e instanceof Te)i instanceof pe&&i.type===4?i.figures.add(e):s.o("A PathFigure can only be added to a Path Geometry, not to: "+i);else if(e instanceof Me)i instanceof Te?i.segments.add(e):s.o("A PathSegment can only be added to a PathFigure, not to: "+i);else if(e instanceof Rs)i instanceof Ft||i instanceof Jt?i.layout=e:s.o("A Layout can only be assigned to a Diagram or a Group, not to: "+i);else if(Array.isArray(e))for(let n=0;n<e.length;n++){const a=e[n];Vi.ON(i,a)}else s.$(e)?Vi.wI(i,e):s.o('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+i)}static yI(i,e){if(i instanceof Se)i.text=e;else if(i instanceof ke)i.figure=e;else if(i instanceof nt)i.source=e;else if(i instanceof j){const n=Ve.fs.get(e);n!==null&&(i.type=n)}else if(i instanceof Le){const n=s.$a(Ee,e);n!==null?i.type=n:s.o("Unknown Brush type as an argument to GraphObject.make: "+e)}else if(i instanceof pe){const n=s.$a(oe,e);n!==null&&(i.type=n)}else if(i instanceof Me){const n=s.$a(De,e);n!==null&&(i.type=n)}}static pI(i,e){s.st(i.fe)?i.fe(e):s.dr(i,e)}static wI(i,e){if(i instanceof Le){const n=new l;for(const a in e){const o=parseFloat(a);isNaN(o)?n[a]=e[a]:i.addColorStop(o,e[a])}Ft.Ap(i,n)}else if(i instanceof be){if(e.row!==void 0){const a=e.row;(a==null||a===1/0||isNaN(a)||a<0)&&s.o("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+a),i.isRow=!0,i.index=a}else if(e.column!==void 0){const a=e.column;(a==null||a===1/0||isNaN(a)||a<0)&&s.o("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+a),i.isRow=!1,i.index=a}const n=new l;for(const a in e)a==="row"||a==="column"||(n[a]=e[a]);Ft.Ap(i,n)}else Ft.Ap(i,e)}static build(i,e,...n){const a=Vi.z1.get(i);if(s.st(a)){const o=a([i].concat(n));if(o instanceof Vi)return e&&o.setProperties(e),o}s.o('GraphObject.build invoked object builder "'+i+'", but it did not return an Object')}static defineBuilder(i,e){s.s(i,"string",Vi,"defineBuilder:name"),s.S(e,Vi,"defineBuilder:func"),i.toLowerCase(),Vi.z1.set(i,e)}static isBuilderDefined(i){return Vi.z1.has(i)}static takeBuilderArgument(i,e,n){n===void 0&&(n=null);const a=i[1];return(s.st(n)?n(a):typeof a=="string")?(i.splice(1,1),a):(e===void 0&&s.o("no "+(s.st(n)?"satisfactory":"string")+" argument for GraphObject builder "+i[0]),e)}};let oi=Vi;E(oi,"None",0),E(oi,"Default",1),E(oi,"Fill",2),E(oi,"Vertical"),E(oi,"Horizontal"),E(oi,"Uniform",6),E(oi,"UniformToFill",7),E(oi,"FlipVertical",1),E(oi,"FlipHorizontal",2),E(oi,"FlipBoth",3),E(oi,"z1",new Q),oi.Vertical=4,oi.Horizontal=5,oi.defineBuilder("Button",ee=>{const i="#f5f5f5",e="#737373",n="#d4d4d4",a="#737373",o="#a3a3a3",h=2.76142374915397,u=2.761423749153969,m=new j(j.Auto,{isActionable:!0,enabledChanged:(v,b)=>{if(v instanceof j){const S=v.findObject("ButtonBorder");if(S!==null)if(v._buttonFillNormal===void 0&&(v._buttonFillNormal=S.fill),b){let A=null;v.layer!==null&&v.diagram!==null&&v.isVisibleObject()&&(A=v.layer.findObjectAt(v.diagram.lastInput.documentPoint)),A===v||A!==null&&A.isContainedBy(v)?S.fill=v._buttonFillOver:S.fill=v._buttonFillNormal}else S.fill=v._buttonFillDisabled}},cursor:"pointer"}).attach({_buttonFillNormal:void 0,_buttonStrokeNormal:void 0,_buttonFillOver:n,_buttonStrokeOver:a,_buttonFillDisabled:o}).add(new ke("RoundedRectangle",{name:"ButtonBorder",spot1:new K(0,0,h,u),spot2:new K(1,1,-h,-u),parameter1:2,fill:i,stroke:e}));return m.mouseEnter=(v,b,S)=>{if(!b.isEnabledObject()||!(b instanceof j))return;const A=b.findObject("ButtonBorder");A instanceof ke&&(b._buttonFillNormal===void 0&&(b._buttonFillNormal=A.fill),A.fill=b._buttonFillOver,b._buttonStrokeNormal===void 0&&(b._buttonStrokeNormal=A.stroke),A.stroke=b._buttonStrokeOver)},m.mouseLeave=(v,b,S)=>{if(!b.isEnabledObject()||!(b instanceof j))return;const A=b.findObject("ButtonBorder");A instanceof ke&&(b._buttonFillNormal!==void 0&&(A.fill=b._buttonFillNormal),b._buttonStrokeNormal!==void 0&&(A.stroke=b._buttonStrokeNormal))},m}),oi.defineBuilder("TreeExpanderButton",ee=>{const i=oi.build("Button");return i.attach({_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine",visible:!1}),i.add(new ke("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:X.Su}).bindObject("figure","isTreeExpanded",(e,n)=>{const a=n.panel;return e?a._treeExpandedFigure:a._treeCollapsedFigure})),i.bindObject("visible","isTreeLeaf",e=>!e),i.click=(e,n)=>{let a=n.part;if(a instanceof Zt&&(a=a.adornedPart),!(a instanceof Ct))return;const o=a.diagram;if(o===null)return;const h=o.commandHandler;if(a.isTreeExpanded){if(!h.canCollapseTree(a))return}else if(!h.canExpandTree(a))return;e.handled=!0,a.isTreeExpanded?h.collapseTree(a):h.expandTree(a)},i}),oi.defineBuilder("SubGraphExpanderButton",ee=>{const i=oi.build("Button");return i.attach({_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"}),i.add(new ke("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:X.Su}).bindObject("figure","isSubGraphExpanded",(e,n)=>{const a=n.panel;return e?a._subGraphExpandedFigure:a._subGraphCollapsedFigure})),i.click=(e,n)=>{let a=n.part;if(a instanceof Zt&&(a=a.adornedPart),!(a instanceof Jt))return;const o=a.diagram;if(o===null)return;const h=o.commandHandler;if(a.isSubGraphExpanded){if(!h.canCollapseSubGraph(a))return}else if(!h.canExpandSubGraph(a))return;e.handled=!0,a.isSubGraphExpanded?h.collapseSubGraph(a):h.expandSubGraph(a)},i}),oi.defineBuilder("ToolTip",ee=>new Zt(j.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new N(0,2),mouseOver:(i,e)=>{const n=i.diagram.toolManager;n.extendToolTip(n.toolTipDuration)}}).add(new ke("RoundedRectangle",{name:"Border",parameter1:1,fill:"#f5f5f5",strokeWidth:0,spot1:new K(0,0,4,6),spot2:new K(1,1,-4,-4)}))),oi.defineBuilder("ContextMenu",ee=>new Zt(j.Vertical,{background:"#f5f5f5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new N(0,2)}).bindObject("background","",i=>i.adornedPart!==null&&i.hasPlaceholder()?null:"#f5f5f5")),oi.defineBuilder("ContextMenuButton",ee=>{const i=oi.build("Button");i.stretch=5;const e=i.findObject("ButtonBorder");return e instanceof ke&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new K(0,0,4,6),e.spot2=new K(1,1,-4,-4)),i}),oi.defineBuilder("PanelExpanderButton",ee=>{const i=oi.takeBuilderArgument(ee,"COLLAPSIBLE"),e=oi.build("Button");e.attach({_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8","ButtonBorder.fill":"rgba(0, 0, 0, 0)",_buttonFillNormal:"rgba(0, 0, 0, 0)","ButtonBorder.stroke":null,_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null}),e.add(new ke({name:"ButtonIcon",strokeWidth:2}).bindObject("geometryString","visible",a=>a?e._buttonExpandedFigure:e._buttonCollapsedFigure,void 0,i));const n=e.findObject("ButtonBorder");return n instanceof ke&&(n.stroke=null,n.fill="rgba(0, 0, 0, 0)"),e.click=(a,o)=>{if(!(o instanceof j))return;const h=o.diagram;if(h===null||h.isReadOnly)return;let u=o.findBindingPanel();if(u===null&&(u=o.part),u!==null){const m=u.findObject(i);m!==null&&(a.handled=!0,h.startTransaction("Collapse/Expand Panel"),m.visible=!m.visible,h.commitTransaction("Collapse/Expand Panel"))}},e}),oi.defineBuilder("CheckBoxButton",ee=>{const i=oi.takeBuilderArgument(ee),e=oi.build("Button",{desiredSize:new X(14,14)});e.attach({"ButtonBorder.spot1":new K(0,0,1,1),"ButtonBorder.spot2":new K(1,1,-1,-1)});const n=new ke({name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:2,geometryStretch:6,visible:!1});return i!==""&&n.bindTwoWay("visible",i),e.add(n),e.click=(a,o)=>{if(!(o instanceof j))return;const h=a.diagram;if(h===null||h.isReadOnly||i!==""&&h.model.isReadOnly)return;a.handled=!0;const u=o.findObject("ButtonIcon");h.startTransaction("checkbox"),u!==null&&(u.visible=!u.visible),s.st(o._doClick)&&o._doClick(a,o),h.commitTransaction("checkbox")},e}),oi.defineBuilder("CheckBox",ee=>{const i=oi.takeBuilderArgument(ee),e=oi.build("CheckBoxButton",{name:"Button",isActionable:!1,margin:new he(0,1,0,0)},i),n=new j("Horizontal",{isActionable:!0,cursor:e.cursor,margin:new he(1),mouseEnter:e.mouseEnter,mouseLeave:e.mouseLeave,click:e.click}).attach({_buttonFillNormal:e._buttonFillNormal,_buttonStrokeNormal:e._buttonStrokeNormal,_buttonFillOver:e._buttonFillOver,_buttonStrokeOver:e._buttonStrokeOver,_buttonFillDisabled:e._buttonFillDisabled,_buttonClick:e.click});return n.add(e),e.mouseEnter=null,e.mouseLeave=null,e.click=null,n}),oi.defineBuilder("AutoRepeatButton",ee=>{const i=oi.takeBuilderArgument(ee,50,u=>typeof u=="number"),e=oi.takeBuilderArgument(ee,500,u=>typeof u=="number");function n(u,m){o(u,m),m.click&&(m.Nd=s.dn(()=>a(u,m),e))}function a(u,m){m.Nd&&s.wc(m.Nd),m.click&&(m.Nd=s.dn(()=>{m.click&&(m.click(u,m),a(u,m))},i))}function o(u,m){m.Nd&&(s.wc(m.Nd),m.Nd=void 0)}const h=oi.build("Button");return h.actionDown=(u,m)=>n(u,m),h.actionUp=(u,m)=>o(u,m),h.actionCancel=(u,m)=>o(u,m),h}),oi.defineBuilder("ToggleSwitch",function(ee){const i=oi.takeBuilderArgument(ee);i||s.o("ToggleSwitch must be data-bound to a property name, not: "+i);const e=oi.takeBuilderArgument(ee,!1,u=>typeof u=="boolean"),n="gray",a="transparent",o="white",h=new j("Auto",{width:e?15:28,height:e?28:15}).attach({_buttonFillOff:n,_buttonBorderOff:a,_buttonIconFillOff:o,_buttonFillOn:"green",_buttonBorderOn:"transparent",_buttonIconFillOn:"white"}).add(new ke("Capsule",{name:"ButtonBorder",fill:n,stroke:a,strokeWidth:1}).bind("fill",i,(u,m)=>u?m.panel._buttonFillOn:m.panel._buttonFillOff).bind("stroke",i,(u,m)=>u?m.panel._buttonBorderOn:m.panel._buttonBorderOff)).add(new ke("Circle",{name:"ButtonIcon",width:11,height:11,fill:o,stroke:null,alignment:e?K.Bottom:K.Left}).bind("fill",i,(u,m)=>u?m.panel._buttonIconFillOn:m.panel._buttonIconFillOff).bind("alignment",i,u=>u?e?K.Top:K.Right:e?K.Bottom:K.Left));return h.click=function(u,m){if(!m.isEnabledObject())return;const v=u.diagram;if(v===null||v.isReadOnly||i!==""&&v.model.isReadOnly)return;u.handled=!0;const b=m.findBindingPanel();b!==null&&(v.startTransaction("toggle switch"),v.model.set(b.data,i,!b.data[i]),typeof m._doClick=="function"&&m._doClick(u,m),v.commitTransaction("toggle switch"))},h}),oi.defineBuilder("Toggle",function(ee){const i=oi.takeBuilderArgument(ee),e=oi.build("ToggleSwitch",{name:"Button"},i),n=new j("Horizontal",{cursor:e.cursor,margin:1,mouseEnter:e.mouseEnter,mouseLeave:e.mouseLeave,click:e.click}).attach({_buttonClick:e.click}).add(e);return e.mouseEnter=null,e.mouseLeave=null,e.click=null,n});class to{constructor(){E(this,"me");E(this,"Pt");E(this,"oo");E(this,"ve");E(this,"ro");E(this,"vs");E(this,"Il");E(this,"Ur");E(this,"Vr");E(this,"Br");E(this,"Kr");E(this,"Hr");E(this,"zr");E(this,"Xr");E(this,"Gr");E(this,"u0");E(this,"d0");E(this,"Yr");E(this,"g0");E(this,"m0");E(this,"p0");E(this,"y0");E(this,"jr");E(this,"qr");E(this,"Zp");E(this,"l0");E(this,"Ds");E(this,"Cr");E(this,"Lr");E(this,"ho");E(this,"r0");E(this,"o0");E(this,"Nr");E(this,"Jp");E(this,"x0");E(this,"b0");this.me=!1,this.Pt="",this.oo=-1,this.ve=null,this.ro=null,this.vs=null,this.Il="",this.Ur=null,this.Vr=null,this.Br=null,this.Kr=null,this.Hr=null,this.zr=null,this.Xr=null,this.Gr=null,this.u0=null,this.d0=null,this.Yr=null,this.g0=null,this.m0=null,this.p0=null,this.y0=null,this.jr=null,this.qr=null,this.Zp=null,this.l0=null,this.Ds=null,this.Cr=X.bc,this.Lr=X.DP,this.ho=1,this.r0=1,this.o0=1,this.Nr=0,this.Jp=null,this.x0=null,this.b0="category"}copy(){const i=new to;return i.Pt=this.Pt,i.oo=this.oo,i.ve=this.ve,i.vs=this.vs,i.Il=this.Il,i.Ur=this.Ur,i.Vr=this.Vr,i.Br=this.Br,i.Kr=this.Kr,i.Hr=this.Hr,i.zr=this.zr,i.Xr=this.Xr,i.Gr=this.Gr,i.u0=this.u0,i.d0=this.d0,i.Yr=this.Yr,i.g0=this.g0,i.m0=this.m0,i.p0=this.p0,i.y0=this.y0,i.jr=this.jr,i.qr=this.qr,i.Zp=this.Zp,i.l0=this.l0,i.Ds=this.Ds,i.Cr=this.Cr.N(),i.Lr=this.Lr.N(),i.ho=this.ho,i.r0=this.r0,i.o0=this.o0,i.Nr=this.Nr,i.Jp=this.Jp,i.x0=this.x0,i.b0=this.b0,i}}class Ol{constructor(){E(this,"m");this.m=[1,0,0,1,0,0]}copy(){const i=new Ol;return i.m[0]=this.m[0],i.m[1]=this.m[1],i.m[2]=this.m[2],i.m[3]=this.m[3],i.m[4]=this.m[4],i.m[5]=this.m[5],i}translate(i,e){this.m[4]+=this.m[0]*i+this.m[2]*e,this.m[5]+=this.m[1]*i+this.m[3]*e}scale(i,e){this.m[0]*=i,this.m[1]*=i,this.m[2]*=e,this.m[3]*=e}rotate(i,e,n){if(i=G.Ee(i),i===0)return;this.translate(e,n);let a=0,o=0;if(i===90)a=0,o=1;else if(i===180)a=-1,o=0;else if(i===270)a=0,o=-1;else{const b=i*Math.PI/180;a=Math.cos(b),o=Math.sin(b)}const h=this.m[0]*a+this.m[2]*o,u=this.m[1]*a+this.m[3]*o,m=this.m[0]*-o+this.m[2]*a,v=this.m[1]*-o+this.m[3]*a;this.m[0]=h,this.m[1]=u,this.m[2]=m,this.m[3]=v,this.translate(-e,-n)}}class io{constructor(i){E(this,"type");E(this,"x1");E(this,"y1");E(this,"r1");E(this,"x2");E(this,"y2");E(this,"r2");E(this,"colors");E(this,"pattern");this.type=i,this.x1=0,this.y1=0,this.r1=0,this.x2=0,this.y2=0,this.r2=0,this.colors=[],this.pattern=null}addColorStop(i,e){this.colors.push({offset:i,color:e})}}class Us{constructor(i,e,n){E(this,"bt");E(this,"_t");E(this,"el");E(this,"ud");E(this,"IN");const a=e===void 0?t.document:e;this.el=a,this.IN="http://www.w3.org/2000/svg";const o="http://www.w3.org/2000/xmlns/";a!==void 0&&(this.bt=this.makeElement("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",n||(this.style.position="absolute"),this.bt.setAttributeNS(o,"xmlns",this.IN),this.bt.setAttributeNS(o,"xmlns:xlink","http://www.w3.org/1999/xlink")),this.ud=null,this._t=new ns(this,n)}resize(i,e,n,a){return this.width!==i||this.height!==e?(this.width=i,this.height=e,this.style.width=n+"px",this.style.height=a+"px",this.bt.setAttributeNS(null,"width",n+"px"),this.bt.setAttributeNS(null,"height",a+"px"),this.bt.setAttributeNS(null,"viewBox","0 0 "+n+" "+a),this._t.EN.firstElementChild.setAttributeNS(null,"width",n+"px"),this._t.EN.firstElementChild.setAttributeNS(null,"height",a+"px"),!0):!1}makeElement(i,e,n){const a=this.el.createElementNS(this.IN,i);if(s.$(e))for(const o in e)a.setAttributeNS(o==="href"?"http://www.w3.org/1999/xlink":"",o,e[o]);return n!==void 0&&(a.textContent=n),a}getBoundingClientRect(){return this.bt.getBoundingClientRect()}focus(){this.bt.focus()}get width(){return parseInt(this.bt.getAttribute("width")||"1")}set width(i){this.bt.setAttribute("width",i+"px")}get height(){return parseInt(this.bt.getAttribute("height")||"1")}set height(i){this.bt.setAttribute("height",i+"px")}dispose(){this.el=null}get style(){return this.bt.style}}class ns{constructor(i,e){E(this,"Mf");E(this,"Nf");E(this,"An");E(this,"Fe");E(this,"Zi");E(this,"fillStyle");E(this,"font");E(this,"globalAlpha");E(this,"lineCap");E(this,"lineDashOffset");E(this,"lineJoin");E(this,"lineWidth");E(this,"miterLimit");E(this,"shadowBlur");E(this,"shadowColor");E(this,"shadowOffsetX");E(this,"shadowOffsetY");E(this,"strokeStyle");E(this,"textAlign");E(this,"imageSmoothingEnabled");E(this,"clipInsteadOfFill");E(this,"lastCreatedElement");E(this,"Cf");E(this,"Lf");E(this,"surface");E(this,"svg");E(this,"EN");E(this,"oD");E(this,"G1");E(this,"Wo");E(this,"Ca");E(this,"zh");E(this,"currentElement");E(this,"clipPathGroup");E(this,"diagramGroup");E(this,"lastDrawnPart");E(this,"currentPath");E(this,"outerGroup");E(this,"pathAttributes");E(this,"rl");E(this,"Fr");E(this,"filter");E(this,"letterSpacing");E(this,"wordSpacing");E(this,"partClipRect");if(this.surface=i,this.svg=i.bt,this.Cf=[],this.Lf=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetX=0,this.shadowOffsetY=0,this.rl=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Mf=0,this.Nf=0,this.An=0,this.lastCreatedElement=null,this.currentElement=null,this.Fe=[],this.pathAttributes={},this.G1=!1,this.Wo=null,this.Ca=0,this.oD={},this.Fr=!!e,this.filter="",this.partClipRect=null,this.Zi=new Ol,this.letterSpacing="0px",this.wordSpacing="0px",i.el===null||i.el===void 0)return;this.clipPathGroup=this.newGroup2(),this.diagramGroup=this.newGroup2("gojs-diagram"),this.lastDrawnPart=null,this.currentPath=null;const n=C.Ww++,a=this.makeElement("clipPath",{id:"mainClip"+n}),o={x:0,y:0,width:i.width,height:i.height};a.appendChild(this.makeElement("rect",o)),this.EN=a,this.svg.appendChild(this.clipPathGroup),this.clipPathGroup.appendChild(this.diagramGroup),this.svg.appendChild(a),this.clipPathGroup.setAttributeNS(null,"clip-path","url(#mainClip"+n+")")}setDiagramPosScale(i,e,n,a,o,h){this.diagramGroup===void 0?this.newGroup(i,e,n,a,o,h):this.diagramGroup.setAttribute("transform","matrix("+i+", "+e+", "+n+", "+a+", "+o+", "+h+")")}resetInnerSVG(){this.diagramGroup!==null&&(this.diagramGroup.innerHTML="")}arc(i,e,n,a,o,h,u,m){const v=2*Math.PI,b=1e-6,S=v-b,A=n*Math.cos(a),M=n*Math.sin(a),O=i+A,R=e+M,V=h?0:1;let q=h?a-o:o-a;(Math.abs(u-O)>b||Math.abs(m-R)>b)&&this.Fe.push(["L",O,+R]),q<0&&(q=q%v+v),q>S?(this.Fe.push(["A",n,n,0,1,V,i-A,e-M]),this.Fe.push(["A",n,n,0,1,V,O,R])):q>b&&this.Fe.push(["A",n,n,0,+(q>=Math.PI),V,i+n*Math.cos(o),e+n*Math.sin(o)])}beginPath(){this.Fe=[],this.pathAttributes={stroke:"none",fill:"none"}}endPath(i){this.xI(this.Fe,this.Zi,i||0)}bezierCurveTo(i,e,n,a,o,h){this.Fe.push(["C",i,e,n,a,o,h])}clearRect(i,e,n,a){}clip(){this.pathAttributes.clipPath=!0}closePath(){this.Fe.push(["z"])}createLinearGradient(i,e,n,a){const o=new io("linear");return o.x1=i,o.y1=e,o.x2=n,o.y2=a,o}createPattern(i,e){let n="";i instanceof HTMLCanvasElement&&(n=i.toDataURL()),i instanceof HTMLImageElement&&(n=i.getAttribute("src"));const a=this.oD;if(a[n])return"url(#"+a[n]+")";const o="PATTERN"+C.Ww++,h={width:i.width,height:i.height,id:o,patternUnits:"userSpaceOnUse"},u={x:0,y:0,width:i.width,height:i.height,href:n},m=this.makeElement("pattern",h);return m.appendChild(this.makeElement(Ft.img,u)),this.svg.appendChild(m),a[n]=o,"url(#"+o+")"}createRadialGradient(i,e,n,a,o,h){const u=new io("radial");return u.x1=i,u.y1=e,u.r1=n,u.x2=a,u.y2=o,u.r2=h,u}amendImageTransform(i,e,n,a,o,h,u,m){const v=u/n,b=m/a;(o!==0||h!==0)&&this.Zi.translate(o,h),(v!==1||b!==1)&&this.Zi.scale(v,b),(i!==0||e!==0)&&this.Zi.translate(-i,-e)}drawImage(i,e,n,a,o,h,u,m,v){let b="",S=i.width,A=i.height;typeof i.toDataURL=="function"?i.toDataURL():(b=i.getAttribute("src"),S=i.naturalWidth,A=i.naturalHeight),a===void 0&&(h=e,u=n,m=a=S,v=o=A),a=a||0,o=o||0,h=h||0,u=u||0,m=m||0,v=v||0,this.amendImageTransform(e,n,a,o,h,u,m,v);const M={x:0,y:0,width:S||a,height:A||o,href:b};!G.X(a,m)||!G.X(o,v)?M.preserveAspectRatio="none":b.toLowerCase().indexOf(".svg")===-1&&b.toLowerCase().indexOf("data:image/svg")===-1&&(M.preserveAspectRatio="xMidYMid slice"),(e!==0||n!==0||a!==S||o!==A)&&(a+=e,o+=n,M["clip-path"]=`path('M ${e},${n} L ${a} ${n} L ${a} ${o} L ${e} ${o} z')`),this.processCommon(Ft.img,M,this.Zi),this.Cd(Ft.img,M)}fill(i,e){i&&(this.pathAttributes["fill-rule"]="evenodd"),this.setFill(this.pathAttributes)}fillContext(i,e,n){this.clipInsteadOfFill?this.clip():this.fill(e,n)}createOrUpdateClipGroup(i,e){const n=this.newGroup(1,0,0,1,-e.x,-e.y);n.setAttributeNS(null,"class","spotClip"),i.xa=n}fillRect(i,e,n,a){this.addRect("fill",[i,e,n,a],this.Zi)}fillBackground(i,e,n,a){const o={x:i,y:e,width:n,height:a};this.processCommon("fill",o,this.Zi),this.setFill(o),this.svg.prepend(this.makeElement("rect",o))}fillText(i,e,n){this.addText("fill",[i,e,n],this.Zi)}lineTo(i,e){this.Fe.push(["L",i,e])}moveTo(i,e){this.Fe.push(["M",i,e])}quadraticCurveTo(i,e,n,a){this.Fe.push(["Q",i,e,n,a])}rect(i,e,n,a){this.Fe.push(["M",i,e],["L",i+n,e],["L",i+n,e+a],["L",i,e+a],["z"])}restore(){this.Zi=this.Cf.pop(),this.Fe=this.Cf.pop();const i=this.Cf.pop();this.fillStyle=i.fillStyle,this.font=i.font,this.globalAlpha=i.globalAlpha,this.lineCap=i.lineCap,this.lineDashOffset=i.lineDashOffset,this.lineJoin=i.lineJoin,this.lineWidth=i.lineWidth,this.miterLimit=i.miterLimit,this.shadowBlur=i.shadowBlur,this.shadowColor=i.shadowColor,this.shadowOffsetX=i.shadowOffsetX,this.shadowOffsetY=i.shadowOffsetY,this.strokeStyle=i.strokeStyle,this.textAlign=i.textAlign,this.partClipRect=i.partClipRect,this.letterSpacing=i.letterSpacing,this.wordSpacing=i.wordSpacing}save(){const i={fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,partClipRect:this.partClipRect};this.Cf.push(i);const e=[];for(let n=0;n<this.Fe.length;n++)e.push(this.Fe[n]);this.Cf.push(e),this.Cf.push(this.Zi.copy())}setTransform(i,e,n,a,o,h){i===1&&e===0&&n===0&&a===1&&o===0&&h===0||this.newGroup(i,e,n,a,o,h)}setCurrentTransform(i,e,n,a,o,h){this.Zi.m=[i,e,n,a,o,h]}getCurrentTransform(){const i=this.Zi.m;return"matrix("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+", "+i[4]+", "+i[5]+")"}scale(i,e){this.Zi.scale(i,e)}translate(i,e){this.Zi.translate(i,e)}transform(i,e,n,a,o,h){}commitTransform(){}stroke(){this.setStroke(this.pathAttributes)}strokeContext(){this.clipInsteadOfFill||this.stroke()}strokeRect(i,e,n,a){this.addRect("stroke",[i,e,n,a],this.Zi)}makeElement(i,e,n){return this.surface.makeElement(i,e,n)}Cd(i,e,n){const a=this.makeElement(i,e,n);return this.currentElement!==null?this.currentElement.appendChild(a):this.currentElement=a,this.lastCreatedElement=a,a}processCommon(i,e,n){if(i==="fill"?this.setFill(e):i==="stroke"&&this.setStroke(e),n!==null){const a=n.m;e.transform="matrix("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}}setFill(i){if(this.fillStyle instanceof io){i.fill=this.addGradient(this.fillStyle,"fill");return}if(/^rgba\(/.test(this.fillStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);i.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",i["fill-opacity"]=e[4]}else i.fill=this.fillStyle}setFillOrStrokeInPlace(i,e){const n=e?"fill":"stroke";if(this.fillStyle instanceof io){i.setAttributeNS(null,"fill",this.addGradient(this.fillStyle,n));return}if(/^rgba\(/.test(this.fillStyle)){const a=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);i.setAttributeNS(null,n,"rgb("+a[1]+","+a[2]+","+a[3]+")"),i.setAttributeNS(null,n+"-opacity",a[4])}else i.setAttributeNS(null,n,this.fillStyle)}setStroke(i){if(this.strokeStyle instanceof io)i.stroke=this.addGradient(this.strokeStyle,"stroke");else if(/^rgba\(/.test(this.strokeStyle)){const e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.strokeStyle);i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]}else i.stroke=this.strokeStyle;i["stroke-width"]=this.lineWidth,i["stroke-linecap"]=this.lineCap,i["stroke-linejoin"]=this.lineJoin,i["stroke-miterlimit"]=this.miterLimit,this.G1&&(i["stroke-dasharray"]=this.Wo.toString(),i["stroke-dashoffset"]=this.Ca)}addGradient(i,e){let n="";const a=this.currentPath!==null?this.currentPath.getAttribute(e):null;if(a!==null&&a.indexOf("GRAD")!==-1){n=a.split("#")[1].slice(0,-1);const m=this.svg.getElementById(n);m!==null&&m.remove()}else n="GRAD"+C.Ww++;let o;if(i.type==="linear"){const m={x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,id:n,gradientUnits:"userSpaceOnUse"};o=this.makeElement("linearGradient",m)}else if(i.type==="radial"){const m={x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,r1:i.r1,r2:i.r2,id:n};o=this.makeElement("radialGradient",m)}else s.o("invalid gradient");const h=i.colors.sort((m,v)=>m.offset>v.offset?1:-1),u=h.length;for(let m=0;m<u;m++){const v=h[m],b=v.color;o.appendChild(this.makeElement("stop",{offset:v.offset,"stop-color":b}))}return this.svg.appendChild(o),"url(#"+n+")"}addRect(i,e,n){const a={x:e[0],y:e[1],width:e[2],height:e[3]};this.processCommon(i,a,n),this.Cd("rect",a)}addText(i,e,n){let a=this.textAlign;a==="left"?a="start":a==="right"?a="end":a==="center"&&(a="middle");const o={x:e[1],y:e[2],style:"font: "+this.font,"text-anchor":a};o["letter-spacing"]=this.letterSpacing,o["word-spacing"]=this.wordSpacing,this.processCommon(i,o,n),this.Cd("text",o,e[0])}xI(i,e,n){const a=this.bI(i),o=this.pathAttributes;if(o.clipPath){this.Lf.length>1&&this.Lf[this.Lf.length-2].setAttributeNS(null,"clip-path",'path("'+a+'") view-box');return}if(o.d=a,this.processCommon("",o,e),this.currentPath!==null){const h=this.currentPath;if(h.nodeName!=="g")for(const u in o)u!=="transform"&&h.setAttributeNS(null,u,o[u]);else{const u=h.getElementsByTagName("path");for(const m in o)m!=="transform"&&u[n].setAttributeNS(null,m,o[m])}}else this.Cd("path",o)}bI(i){const e=[];for(let n=0;n<i.length;n++){const a=i[n].slice(),o=[a.shift()];if(o[0]==="A")o.push(a.shift()+","+a.shift(),a.shift(),a.shift()+","+a.shift(),a.shift()+","+a.shift());else for(;a.length;)o.push(a.shift()+","+a.shift());e.push(o.join(" "))}return e.join(" ")}newGroup(i,e,n,a,o,h){const u=new Ol;u.m=[i,e,n,a,o,h];const m={};this.processCommon("g",m,u);const v=this.Cd("g",m);return this.Lf.push(v),v}newGroup2(i){const e={};i&&(e.class=i);const n=this.Cd("g",e);return this.Lf.push(n),n}endGroup(){return this.Lf.pop()}dummyGroup(){return this.newGroup2(),this.endGroup()}shadowsSet(i,e,n){this.Mf=i,this.Nf=e,this.An=n}shadowsOff(){this.rl=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.rl=!0,this.shadowOffsetX=this.Mf,this.shadowOffsetY=this.Nf,this.shadowBlur=this.An}enableDash(i,e){this.G1=!0,this.Wo=i,this.Ca=e}disableDash(){this.G1=!1}clearContextCache(i){}setImageSmoothingEnabled(i){}rotate(i){this.Zi.rotate(i*57.2958,0,0)}getImageData(i,e,n,a){return null}measureText(i){return null}removeOldGradient(i,e,n){const a=e.getAttribute(n);if(a===null)return;const o=a.split("#");if(o.length===1)return;const h=this.svg.getElementById(o[1].slice(0,-1));if(h!==null){const u=new RegExp(h.id,"g");this.svg.innerHTML.match(u).length===1&&h.remove()}}removePartFromView(i){i.svg!==null&&i.svg.parentNode===this.diagramGroup&&i.svg.remove()}}class Ca{constructor(i,e,n,a){E(this,"bt");E(this,"_t");E(this,"el");E(this,"ud");const o=e===void 0?t.document:e;this.el=o,this.ud=null;const h=o.createElement("canvas");h.tabIndex=0,this.bt=h,this._t=new Ao(h,n,a),i&&Ft.Wi.set(h,i)}resize(i,e,n,a){return this.width!==i||this.height!==e?(this.width=i,this.height=e,this.style.width=n+"px",this.style.height=a+"px",!0):!1}toDataURL(i,e){return this.bt.toDataURL(i,e)}getBoundingClientRect(){return this.bt.getBoundingClientRect()}focus(){this.bt.focus()}get width(){return this.bt.width}set width(i){this.bt.width=i}get height(){return this.bt.height}set height(i){this.bt.height=i}dispose(){Ft.Wi.delete(this.bt),this.el=null}get style(){return this.bt.style}}const Rp=class{constructor(i,e,n){E(this,"F");E(this,"Y1");E(this,"K1");E(this,"H1");E(this,"clipInsteadOfFill");E(this,"Mf");E(this,"Nf");E(this,"An");E(this,"zh");E(this,"rl");E(this,"Fr");i.getContext||s.o("Browser does not support HTML Canvas Element"),this.F=i.getContext("2d",e),this.Y1="",this.K1="",this.H1="",this.clipInsteadOfFill=!1,this.Mf=0,this.Nf=0,this.An=0,this.rl=!1,this.zh=new le,this.Fr=!!n}createOrUpdateClipGroup(i,e){}setImageSmoothingEnabled(i){this.F.imageSmoothingEnabled=i}get fillStyle(){return this.F.fillStyle}set fillStyle(i){this.H1!==i&&(this.F.fillStyle=i,this.H1=i)}get font(){return this.F.font}set font(i){this.Y1!==i&&(this.F.font=i,this.Y1=i)}get globalAlpha(){return this.F.globalAlpha}set globalAlpha(i){this.F.globalAlpha=i}get lineCap(){return this.F.lineCap}set lineCap(i){this.F.lineCap=i}get lineDashOffset(){return this.F.lineDashOffset}set lineDashOffset(i){this.F.lineDashOffset=i}get lineJoin(){return this.F.lineJoin}set lineJoin(i){this.F.lineJoin=i}get lineWidth(){return this.F.lineWidth}set lineWidth(i){this.F.lineWidth=i}get miterLimit(){return this.F.miterLimit}set miterLimit(i){this.F.miterLimit=i}get shadowBlur(){return this.F.shadowBlur}set shadowBlur(i){this.F.shadowBlur=i}get shadowColor(){return this.F.shadowColor}set shadowColor(i){this.F.shadowColor=i}get shadowOffsetX(){return this.F.shadowOffsetX}set shadowOffsetX(i){this.F.shadowOffsetX=i}get shadowOffsetY(){return this.F.shadowOffsetY}set shadowOffsetY(i){this.F.shadowOffsetY=i}get strokeStyle(){return this.F.strokeStyle}set strokeStyle(i){this.K1!==i&&(this.F.strokeStyle=i,this.K1=i)}get textAlign(){return this.F.textAlign}set textAlign(i){this.F.textAlign=i}get imageSmoothingEnabled(){return this.F.imageSmoothingEnabled}set imageSmoothingEnabled(i){this.F.imageSmoothingEnabled=i}get filter(){return this.F.filter}set filter(i){i===""?this.F.filter="none":this.F.filter=i}get letterSpacing(){return this.F.letterSpacing}set letterSpacing(i){this.F.letterSpacing=i}get wordSpacing(){return this.F.wordSpacing}set wordSpacing(i){this.F.wordSpacing=i}arc(i,e,n,a,o,h,u,m){this.F.arc(i,e,n,a,o,h)}beginPath(){this.F.beginPath()}endPath(){}bezierCurveTo(i,e,n,a,o,h){this.F.bezierCurveTo(i,e,n,a,o,h)}clearRect(i,e,n,a){this.commitTransform(),this.F.clearRect(i,e,n,a)}clip(i){i?this.F.clip(i):this.F.clip()}closePath(){this.F.closePath()}createLinearGradient(i,e,n,a){return this.F.createLinearGradient(i,e,n,a)}createPattern(i,e){return this.F.createPattern(i,e)}createRadialGradient(i,e,n,a,o,h){return this.F.createRadialGradient(i,e,n,a,o,h)}drawImage(i,e,n,a,o,h,u,m,v){a===void 0?this.F.drawImage(i,e,n):this.F.drawImage(i,e,n,a,o,h,u,m,v)}fill(i,e){e?this.F.fill(e,i?"evenodd":"nonzero"):this.F.fill(i?"evenodd":"nonzero")}fillRect(i,e,n,a){this.F.fillRect(i,e,n,a)}fillBackground(i,e,n,a){this.F.fillRect(i,e,n,a)}fillText(i,e,n){this.F.fillText(i,e,n)}getImageData(i,e,n,a){return this.F.getImageData(i,e,n,a)}lineTo(i,e){this.F.lineTo(i,e)}measureText(i){return this.F.measureText(i)}moveTo(i,e){this.F.moveTo(i,e)}quadraticCurveTo(i,e,n,a){this.F.quadraticCurveTo(i,e,n,a)}rect(i,e,n,a){this.F.rect(i,e,n,a)}restore(){this.F.restore()}save(){this.commitTransform(),this.F.save()}rotate(i){this.zh.ks(i*57.2958,0,0)}setTransform(i,e,n,a,o,h){this.zh.setTo(i,e,n,a,o,h)}scale(i,e){this.zh.it(i,e)}translate(i,e){this.zh.Gs(i,e)}stroke(i){i?this.F.stroke(i):this.F.stroke()}transform(i,e,n,a,o,h){if(i===1&&e===0&&n===0&&a===1&&o===0&&h===0)return;const u=this.zh,m=u.m11*i+u.m21*e,v=u.m12*i+u.m22*e,b=u.m11*n+u.m21*a,S=u.m12*n+u.m22*a;u.dx=u.m11*o+u.m21*h+u.dx,u.dy=u.m12*o+u.m22*h+u.dy,u.m11=m,u.m12=v,u.m21=b,u.m22=S}commitTransform(){const i=this.zh;this.F.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy)}fillContext(i,e,n){this.radialFill(i,e,n)||this.fillOrClip(e,n)}radialFill(i,e,n){if(!(i instanceof Le)||i.type!==3)return!1;const a=i.bf,o=i.V1;return o>a?(this.scale(a/o,1),this.translate((o-a)/2,0)):a>o&&(this.scale(1,o/a),this.translate(0,(a-o)/2)),this.fillOrClip(e,n),o>a?(this.translate(-(o-a)/2,0),this.scale(1/(a/o),1)):a>o&&(this.translate(0,-(a-o)/2),this.scale(1,1/(o/a))),!0}strokeContext(){this.clipInsteadOfFill||this.stroke()}fillOrClip(i,e){this.clipInsteadOfFill?this.clip(e):this.fill(i,e)}shadowsSet(i,e,n){this.Mf=i,this.Nf=e,this.An=n}shadowsOff(){this.rl=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.rl=!0,this.shadowOffsetX=this.Mf,this.shadowOffsetY=this.Nf,this.shadowBlur=this.An}enableDash(i,e){const n=this.F;n.setLineDash!==void 0&&(n.setLineDash(i),n.lineDashOffset=e)}disableDash(){const i=this.F;i.setLineDash!==void 0&&(i.setLineDash(Rp.EmptyArray),i.lineDashOffset=0)}clearContextCache(i){i&&(this.Y1=""),this.K1="",this.H1=""}removePartFromView(i){}};let Ao=Rp;E(Ao,"EmptyArray",Object.freeze([]));var Ee=(ee=>(ee[ee.Solid=1]="Solid",ee[ee.Linear=2]="Linear",ee[ee.Radial=3]="Radial",ee[ee.Pattern=4]="Pattern",ee))(Ee||{}),Ge=(ee=>(ee[ee.Lab=1]="Lab",ee[ee.HSL=2]="HSL",ee[ee.Oklch=3]="Oklch",ee))(Ge||{});class Xe{constructor(){E(this,"n0");E(this,"n1");E(this,"n2");E(this,"n3");this.n0=0,this.n1=0,this.n2=0,this.n3=0}}const Qe=class{constructor(i,e){E(this,"f");E(this,"W");E(this,"Xh");E(this,"ae");E(this,"Cs");E(this,"k0");E(this,"P0");E(this,"Jo");E(this,"S0");E(this,"Cn");E(this,"bf");E(this,"V1");if(C.Je(this),this.f=!1,i===void 0)this.W=1,this.Xh="black";else if(typeof i=="string"){const a=s.$a(Ee,i);a!==null?(this.W=a,this.Xh="black"):(this.W=1,this.Xh=i)}else Object.keys(Ee).hasOwnProperty(i)?(this.W=i,this.Xh="black"):typeof i=="object"&&(this.W=1,e=i);const n=this.W;if(n===2?(this.ae=K.TopCenter,this.Cs=K.BottomCenter):n===3?(this.ae=K.Center,this.Cs=K.Center):(this.ae=K.None,this.Cs=K.None),this.k0=0,this.P0=NaN,this.Jo=null,this.S0=null,this.Cn=null,this.bf=0,this.V1=0,e){const a={};for(const o in e)isFinite(parseFloat(o))?this.addColorStop(parseFloat(o),e[o]):a[o]=e[o];Object.assign(this,a)}}copy(){const i=new Qe;return i.W=this.W,i.Xh=this.Xh,i.ae=this.ae.N(),i.Cs=this.Cs.N(),i.k0=this.k0,i.P0=this.P0,this.Jo!==null&&(i.Jo=this.Jo.copy()),i.S0=this.S0,i}k(){return this.f=!0,this.Jo!==null&&this.Jo.k(),this}fe(i){i in Ee?this.type=i:s.dr(this,i)}toString(){let i="Brush(";if(this.type===1)i+=this.color;else if(this.type===2?i+="Linear ":this.type===3?i+="Radial ":this.type===4?i+="Pattern ":i+="(unknown) ",i+=this.start+" "+this.end,this.colorStops!==null){const e=this.colorStops.iterator;for(;e.next();){const n=e.key,a=e.value;i+=" "+n+":"+a}}return i+=")",i}addColorStop(i,e){return this.f&&s.L(this),(typeof i!="number"||!isFinite(i)||i>1||i<0)&&s.J(i,"0 <= loc <= 1",Qe,"addColorStop:loc"),s.s(e,"string",Qe,"addColorStop:color"),this.Jo===null&&(this.Jo=new Q),this.Jo.set(i,e),this.W===1&&(this.type=2),this.Cn=null,this}get type(){return this.W}set type(i){this.f&&s.L(this,i),this.W=i,this.start.isNoSpot()&&(i===2?this.start=K.TopCenter:i===3&&(this.start=K.Center)),this.end.isNoSpot()&&(i===2?this.end=K.BottomCenter:i===3&&(this.end=K.Center)),this.Cn=null}get color(){return this.Xh}set color(i){this.f&&s.L(this,i),this.Xh=i,this.Cn=null}get start(){return this.ae}set start(i){this.f&&s.L(this,i),this.ae=i.N(),this.Cn=null}get end(){return this.Cs}set end(i){this.f&&s.L(this,i),this.Cs=i.N(),this.Cn=null}get startRadius(){return this.k0}set startRadius(i){this.f&&s.L(this,i),i<0&&s.J(i,">= zero",Qe,"startRadius"),this.k0=i,this.Cn=null}get endRadius(){return this.P0}set endRadius(i){this.f&&s.L(this,i),i<0&&s.J(i,">= zero",Qe,"endRadius"),this.P0=i,this.Cn=null}get colorStops(){return this.Jo}set colorStops(i){this.f&&s.L(this,i),this.Jo=i,this.Cn=null}get pattern(){return this.S0}set pattern(i){this.f&&s.L(this,i),this.S0=i,this.Cn=null}static randomColor(i,e){i===void 0&&(i=128),e===void 0&&(e=Math.max(i,255));const n=Math.abs(e-i);let a=Math.floor(i+Math.random()*n).toString(16),o=Math.floor(i+Math.random()*n).toString(16),h=Math.floor(i+Math.random()*n).toString(16);return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),h.length<2&&(h="0"+h),"#"+a+o+h}static isValidColor(i){return t.CSS?t.CSS.supports("color",i):!0}static lighten(i){return Qe.lightenBy(i)}lightenBy(i,e){this.f&&s.L(this);const n=i===void 0||typeof i!="number"?.2:i,a=e===void 0?3:e;if(this.type===1)Qe.Uo(this.color),this.color=Qe.Ld(n,a);else if((this.type===2||this.type===3)&&this.colorStops!==null){const o=this.colorStops.iterator;for(;o.next();)Qe.Uo(o.value),this.addColorStop(o.key,Qe.Ld(n,a))}return this}static lightenBy(i,e,n){const a=e===void 0||typeof e!="number"?.2:e,o=n===void 0?3:n;return Qe.Uo(i),Qe.Ld(a,o)}static darken(i){return Qe.darkenBy(i)}darkenBy(i,e){this.f&&s.L(this);const n=i===void 0||typeof i!="number"?.2:i,a=e===void 0?3:e;if(this.type===1)Qe.Uo(this.color),this.color=Qe.Ld(-n,a);else if((this.type===2||this.type===3)&&this.colorStops!==null){const o=this.colorStops.iterator;for(;o.next();)Qe.Uo(o.value),this.addColorStop(o.key,Qe.Ld(-n,a))}return this}static darkenBy(i,e,n){const a=e===void 0||typeof e!="number"?.2:e,o=n===void 0?3:n;return Qe.Uo(i),Qe.Ld(-a,o)}static mix(i,e,n){Qe.Uo(i);const a=Qe.Y.n0,o=Qe.Y.n1,h=Qe.Y.n2,u=Qe.Y.n3;Qe.Uo(e),n===void 0&&(n=.5);const m=Math.round((Qe.Y.n0-a)*n+a),v=Math.round((Qe.Y.n1-o)*n+o),b=Math.round((Qe.Y.n2-h)*n+h),S=Math.round((Qe.Y.n3-u)*n+u);return`rgba(${m}, ${v}, ${b}, ${S})`}isDark(){if(this.type===1)return Qe.isDark(this.color);if((this.type===2||this.type===3)&&this.colorStops!==null){const i=this.colorStops;if(this.type===3){const m=i.first();return m?Qe.isDark(m.value):!1}if(i.get(.5)!==null)return Qe.isDark(i.get(.5));if(i.count===2){const m=i.toArray();return Qe.isDark(Qe.mix(m[0].value,m[1].value))}const e=i.iterator;let n=-1,a=-1,o=1,h=1;for(;e.next();){const m=e.key,v=Math.abs(.5-e.key);o>h&&v<o?(n=m,o=v):h>=o&&v<h&&(a=m,h=v)}if(n>a){let m=n;n=a,a=m,m=o,o=h,h=m}const u=a-n;return Qe.isDark(Qe.mix(i.get(n),i.get(a),1-h/u))}return!1}static isDark(i){return i?i instanceof Qe?i.isDark():(Qe.Uo(i),(299*Qe.Y.n0+587*Qe.Y.n1+114*Qe.Y.n2)/1e3<128):!1}static Ld(i,e){switch(e){case 1:return Qe.kI(),Qe.co.n0=Math.min(100,Math.max(0,Qe.co.n0+100*i)),Qe.SI(),"rgba("+Qe.Y.n0+", "+Qe.Y.n1+", "+Qe.Y.n2+", "+Qe.Y.n3+")";case 2:return Qe.OM(),Qe.ze.n2=Math.min(100,Math.max(0,Qe.ze.n2+100*i)),"hsla("+Qe.ze.n0+", "+Qe.ze.n1+"%, "+Qe.ze.n2+"%, "+Qe.ze.n3+")";case 3:return Qe.MI(),Qe.fo.n0=Math.min(100,Math.max(0,Qe.fo.n0+100*i)),Qe.NI(),"rgba("+Qe.Y.n0+", "+Qe.Y.n1+", "+Qe.Y.n2+", "+Qe.Y.n3+")";default:s.o("Unknown color space: "+e)}}static Uo(i){Qe.M0===!1&&(Qe.M0=!0,Qe.us=Ft.isUsingDOM()?new Ca(null,void 0,{willReadFrequently:!0})._t:null);const e=Qe.us;if(e===null)return;e.clearRect(0,0,1,1),e.fillStyle="#000000";const n=e.fillStyle;if(e.fillStyle=i,e.fillStyle!==n){e.fillRect(0,0,1,1);const a=e.getImageData(0,0,1,1).data;Qe.Y.n0=a[0],Qe.Y.n1=a[1],Qe.Y.n2=a[2],Qe.Y.n3=a[3]/255}else e.fillStyle="#FFFFFF",e.fillStyle,e.fillStyle=i,e.fillStyle,Qe.Y.n0=0,Qe.Y.n1=0,Qe.Y.n2=0,Qe.Y.n3=1}static OM(){const i=Qe.Y.n0/255,e=Qe.Y.n1/255,n=Qe.Y.n2/255,a=Math.max(i,e,n),o=Math.min(i,e,n),h=a-o;let u,m;const v=(a+o)/2;if(h===0)u=m=0;else{switch(a){case i:u=(e-n)/h%6;break;case e:u=(n-i)/h+2;break;case n:u=(i-e)/h+4;break;default:u=0;break}u*=60,u<0&&(u+=360),m=h/(1-Math.abs(2*v-1))}Qe.ze.n0=Math.round(u),Qe.ze.n1=Math.round(m*100),Qe.ze.n2=Math.round(v*100),Qe.ze.n3=Qe.Y.n3}static VU(){const i=Qe.ze.n0,e=Qe.ze.n1/100,n=Qe.ze.n2/100;let a,o,h;const u=(1-Math.abs(2*n-1))*e,m=i/60,v=u*(1-Math.abs(m%2-1));m>=0&&m<1?(a=u,o=v,h=0):m>=1&&m<2?(a=v,o=u,h=0):m>=2&&m<3?(a=0,o=u,h=v):m>=3&&m<4?(a=0,o=v,h=u):m>=4&&m<5?(a=v,o=0,h=u):(a=u,o=0,h=v);const b=n-.5*u;a+=b,o+=b,h+=b,Qe.Y.n0=Math.round(a*255),Qe.Y.n1=Math.round(o*255),Qe.Y.n2=Math.round(h*255),Qe.Y.n3=Qe.ze.n3}static kI(){Qe.rD(),Qe.CI()}static SI(){Qe.LI(),Qe.lD()}static UN(i){return i/=255,i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}static VN(i){return i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055}static rD(){const i=Qe.UN(Qe.Y.n0),e=Qe.UN(Qe.Y.n1),n=Qe.UN(Qe.Y.n2);Qe.At.n0=.4124564*i+.3575761*e+.1804375*n,Qe.At.n1=.2126729*i+.7151522*e+.072175*n,Qe.At.n2=.0193339*i+.119192*e+.9503041*n,Qe.At.n3=Qe.Y.n3}static lD(){const i=3.2404542*Qe.At.n0+-1.5371385*Qe.At.n1+-.4985314*Qe.At.n2,e=-.969266*Qe.At.n0+1.8760108*Qe.At.n1+.041556*Qe.At.n2,n=.0556434*Qe.At.n0+-.2040259*Qe.At.n1+1.0572252*Qe.At.n2;Qe.Y.n0=Qe.VN(i)*255,Qe.Y.n1=Qe.VN(e)*255,Qe.Y.n2=Qe.VN(n)*255,Qe.Y.n3=Qe.At.n3,Qe.Y.n0=Math.round(Qe.Y.n0),Qe.Y.n0>255?Qe.Y.n0=255:Qe.Y.n0<0&&(Qe.Y.n0=0),Qe.Y.n1=Math.round(Qe.Y.n1),Qe.Y.n1>255?Qe.Y.n1=255:Qe.Y.n1<0&&(Qe.Y.n1=0),Qe.Y.n2=Math.round(Qe.Y.n2),Qe.Y.n2>255?Qe.Y.n2=255:Qe.Y.n2<0&&(Qe.Y.n2=0)}static zN(i){return i>Qe.BN?Math.pow(i,1/3):(Qe.j1*i+16)/116}static CI(){const i=Qe.zN(Qe.At.n0*100/Qe.Ad[0]),e=Qe.zN(Qe.At.n1*100/Qe.Ad[1]),n=Qe.zN(Qe.At.n2*100/Qe.Ad[2]);Qe.co.n0=116*e-16,Qe.co.n1=500*(i-e),Qe.co.n2=200*(e-n),Qe.co.n3=Qe.At.n3}static aD(i){const e=i*i*i;return e>Qe.BN?e:(116*i-16)/Qe.j1}static LI(){const i=(Qe.co.n0+16)/116,e=Qe.co.n1/500+i,n=i-Qe.co.n2/200;Qe.At.n0=Qe.Ad[0]/100*Qe.aD(e),Qe.At.n1=Qe.Ad[1]/100*(Qe.co.n0>Qe.j1*Qe.BN?Math.pow(i,3):Qe.co.n0/Qe.j1),Qe.At.n2=Qe.Ad[2]/100*Qe.aD(n),Qe.At.n3=Qe.co.n3}static AI(){let i=.8190224*Qe.At.n0+.3619062*Qe.At.n1+-.1288737*Qe.At.n2,e=.03298366*Qe.At.n0+.9292868*Qe.At.n1+.03614466*Qe.At.n2,n=.04817719*Qe.At.n0+.2642395*Qe.At.n1+.6335478*Qe.At.n2;i=Math.cbrt(i),e=Math.cbrt(e),n=Math.cbrt(n),Qe.ge.n0=.2104542*i+.7936177*e+-.004072046*n,Qe.ge.n1=1.977998*i+-2.428592*e+.4505937*n,Qe.ge.n2=.02590403*i+.7827717*e+-.8086757*n,Qe.ge.n3=Qe.At.n3,Qe.ge.n0*=100}static TI(){Qe.ge.n0/=100;let i=.9999999*Qe.ge.n0+.3963377*Qe.ge.n1+.2158037*Qe.ge.n2,e=1.000000009*Qe.ge.n0+-.1055613*Qe.ge.n1+-.06385417*Qe.ge.n2,n=1.00000005*Qe.ge.n0+-.08948418*Qe.ge.n1+-1.291485*Qe.ge.n2;i=i**3,e=e**3,n=n**3,Qe.At.n0=1.2268798*i+-.5578149*e+.281391*n,Qe.At.n1=-.04057576*i+1.112286*e+-.07171106*n,Qe.At.n2=-.07637294*i+-.4214933*e+1.586924*n,Qe.At.n3=Qe.ge.n3}static DI(){const i=Math.atan2(Qe.ge.n2,Qe.ge.n1)*180/Math.PI;Qe.fo.n0=Qe.ge.n0,Qe.fo.n1=Math.sqrt(Qe.ge.n1**2+Qe.ge.n2**2),Qe.fo.n2=i>=0?i:i+360,Qe.fo.n3=Qe.ge.n3}static vI(){Qe.ge.n0=Qe.fo.n0,Qe.ge.n1=Qe.fo.n1*Math.cos(Qe.fo.n2*Math.PI/180),Qe.ge.n2=Qe.fo.n1*Math.sin(Qe.fo.n2*Math.PI/180),Qe.ge.n3=Qe.fo.n3}static MI(){Qe.rD(),Qe.AI(),Qe.DI()}static NI(){Qe.vI(),Qe.TI(),Qe.lD()}static Md(i,e){typeof i=="string"||i instanceof Qe||s.o("Value for "+e+" must be a color string or a Brush, not "+i)}};let Le=Qe;E(Le,"BN",216/24389),E(Le,"j1",24389/27),E(Le,"Ad",[95.047,100,108.883]),E(Le,"Solid",1),E(Le,"Linear",2),E(Le,"Radial",3),E(Le,"Pattern",4),E(Le,"Lab",1),E(Le,"HSL",2),E(Le,"us",null),E(Le,"M0",!1),E(Le,"Y",new Xe),E(Le,"ze",new Xe),E(Le,"At",new Xe),E(Le,"co",new Xe),E(Le,"ge",new Xe),E(Le,"fo",new Xe);const Bp=class{constructor(){E(this,"Pt","Base")}static Tn(i,e){e.name=i,Bp.fs.set(i,e)}get name(){return this.Pt}set name(i){this.Pt=i}get classType(){return j}measure(i,e,n,a,o,h,u){}measureElement(i,e,n,a,o){i.ht(e,n,a,o)}arrange(i,e,n){}arrangeElement(i,e,n,a,o,h){i.Ut(e,n,a,o,h)}remeasureObject(i){i.kf()}Ge(i,e,n){}};let Ve=Bp;E(Ve,"fs",new Q);class $e extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=a.length,v=i.$o();for(let b=0;b<m;b++){const S=a[b];if(!S.visible&&S!==v)continue;const A=S.margin,M=A.right+A.left,O=A.top+A.bottom;S.ht(e,n,h,u);const R=S.measuredBounds,V=Math.max(R.width+M,0),q=Math.max(R.height+O,0);let J=S.position.x,re=S.position.y;if(isFinite(J)||(J=0),isFinite(re)||(re=0),S instanceof ke&&S.isGeometryPositioned){const se=S.strokeWidth/2;J-=se,re-=se}o.re(J,re,V,q)}}arrange(i,e,n){const a=e.length,o=i.padding,h=n.x-o.left,u=n.y-o.top;for(let m=0;m<a;m++){const v=e[m],b=v.measuredBounds,S=v.margin,A=v.position.x,M=v.position.y;let O=isNaN(A)?-h:A-h,R=isNaN(M)?-u:M-u;if(v instanceof ke&&v.isGeometryPositioned){const V=v.strokeWidth/2;O-=V,R-=V}v.visible&&v.Ut(O+S.left,R+S.top,b.width,b.height)}}}Ve.Tn("Position",new $e);class mt extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=a.length,v=s.nt(),b=i.$o();for(let A=0;A<m;A++){const M=a[A];if(!M.visible&&M!==b)continue;const O=M.Qs(!1);if(O!==0&&O!==5){v.push(M);continue}M.ht(1/0,n,0,u);const R=M.margin,V=M.measuredBounds,q=Math.max(V.width+R.right+R.left,0),J=Math.max(V.height+R.top+R.bottom,0);o.jn(o.width+q,Math.max(o.height,J))}const S=v.length;i.desiredSize.height?n=Math.min(i.desiredSize.height,i.maxSize.height):o.height!==0&&(n=Math.min(o.height,i.maxSize.height));for(let A=0;A<S;A++){const M=v[A];if(!M.visible&&M!==b)continue;const O=M.margin,R=O.right+O.left,V=O.top+O.bottom;M.ht(1/0,n,0,u);const q=M.measuredBounds,J=Math.max(q.width+R,0),re=Math.max(q.height+V,0);o.width+=J,o.height=Math.max(o.height,re)}s.Z(v)}arrange(i,e,n){const a=e.length,o=i.padding,h=o.top,u=i.isOpposite;let m=u?n.width:o.left;for(let v=0;v<a;v++){const b=h,S=e[v];if(!S.visible)continue;const A=S.measuredBounds,M=S.margin,O=M.top+M.bottom,R=h+o.bottom;let V=A.height;const q=S.Qs(!1);(isNaN(S.desiredSize.height)&&q===2||q===4)&&(V=Math.max(n.height-O-R,0));const J=V+O+R;let re=S.alignment;re.isDefault()&&(re=i.defaultAlignment),re.isSpot()||(re=K.Center),u&&(m-=A.width+M.left+M.right),S.Ut(m+re.offsetX+M.left,b+re.offsetY+M.top+(n.height*re.y-J*re.y),A.width,V),u||(m+=A.width+M.left+M.right)}}}Ve.Tn("Horizontal",new mt);class me extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=a.length,v=s.nt(),b=i.$o();for(let A=0;A<m;A++){const M=a[A];if(!M.visible&&M!==b)continue;const O=M.Qs(!1);if(O!==0&&O!==4){v.push(M);continue}M.ht(e,1/0,h,0);const R=M.margin,V=M.measuredBounds,q=Math.max(V.width+R.right+R.left,0),J=Math.max(V.height+R.top+R.bottom,0);o.jn(Math.max(o.width,q),o.height+J)}const S=v.length;i.desiredSize.width?e=Math.min(i.desiredSize.width,i.maxSize.width):o.width!==0&&(e=Math.min(o.width,i.maxSize.width));for(let A=0;A<S;A++){const M=v[A];if(!M.visible&&M!==b)continue;const O=M.margin,R=O.right+O.left,V=O.top+O.bottom;M.ht(e,1/0,h,0);const q=M.measuredBounds,J=Math.max(q.width+R,0),re=Math.max(q.height+V,0);o.width=Math.max(o.width,J),o.height+=re}s.Z(v)}arrange(i,e,n){const a=e.length,o=i.padding,h=o.left,u=i.isOpposite;let m=u?n.height:o.top;for(let v=0;v<a;v++){const b=h,S=e[v];if(!S.visible)continue;const A=S.measuredBounds,M=S.margin,O=M.left+M.right,R=h+o.right;let V=A.width;const q=S.Qs(!1);(isNaN(S.desiredSize.width)&&q===2||q===5)&&(V=Math.max(n.width-O-R,0));const J=V+O+R;let re=S.alignment;re.isDefault()&&(re=i.defaultAlignment),re.isSpot()||(re=K.Center),u&&(m-=A.height+M.bottom+M.top),S.Ut(b+re.offsetX+M.left+(n.width*re.x-J*re.x),m+re.offsetY+M.top,V,A.height),u||(m+=A.height+M.bottom+M.top)}}}Ve.Tn("Vertical",new me);const F0=class extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=a.length;if(m===0)return;const v=i.findMainElement();let b=v.margin,S=0,A=0;const M=b.right+b.left,O=b.top+b.bottom;v.ht(e,n,h,u);let R=v.measuredBounds,V=R.width,q=R.height,J=Math.max(V+M,0),re=Math.max(q+O,0);const se=i.isClipping;se&&v.jp()!==0&&!F0.hD&&(F0.hD=!0,s.ne("Main Shape for Spot Panel with isClipping = true must have a zero strokeWidth: "+i.toString()));const ne=W.z(-b.left,-b.top,J,re);let xe=W.z(0,0,V,q);this.XN(v,xe,!0),V=xe.width,q=xe.height;let ye=!0;const we=i.$o();let ze;for(let Ce=0;Ce<m;Ce++){const Pe=a[Ce];let Fe=e,Re=n;if(Pe===v||!Pe.visible&&Pe!==we)continue;b=Pe.margin;let We=b.left,Ke=b.top;switch(S=b.right+b.left,A=b.top+b.bottom,ze=Pe.Qs(!1),ze){case 2:Fe=V,Re=q,S=0,A=0,We=0,Ke=0;break;case 5:Fe=V,S=0,We=0;break;case 4:Re=q,A=0,Ke=0;break}Pe.ht(Fe,Re,0,0),R=Pe.measuredBounds,J=Math.max(R.width+S,0),re=Math.max(R.height+A,0);let lt=Pe.alignment;lt.isDefault()&&(lt=i.defaultAlignment),lt.isSpot()||(lt=K.Center);let ct=Pe.alignmentFocus;ct.isDefault()&&(ct=K.Center);let rt=null;Pe instanceof j&&Pe.uo!==""&&(rt=Pe.findObject(Pe.uo),rt===Pe&&(rt=null));let bt=xe.x-We,Mt=xe.y-Ke;if(rt!==null){Pe.Ut(0,0,R.width,R.height);const li=rt.actualBounds,Vt=N.z(li.x+(ct.x*li.width-ct.offsetX),li.y+(ct.y*li.height-ct.offsetY));for(rt=rt.panel;rt!==null&&rt!==Pe;)rt.v.gt(Vt),rt=rt.panel;bt+=lt.x*V+lt.offsetX-Vt.x,Mt+=lt.y*q+lt.offsetY-Vt.y,N.i(Vt)}else bt+=lt.x*V+lt.offsetX-(ct.x*R.width+ct.offsetX),Mt+=lt.y*q+lt.offsetY-(ct.y*R.height+ct.offsetY);ye?(ye=!1,o.e(bt,Mt,J,re)):o.re(bt,Mt,J,re)}switch(ye?o.h(ne):se?o.intersect(xe.x,xe.y,xe.width,xe.height):o.re(ne.x,ne.y,ne.width,ne.height),W.i(ne),W.i(xe),ze=v.stretch,ze===1&&(ze=v.Qs(!1)),ze){case 0:return;case 2:if(!isFinite(e)&&!isFinite(n))return;break;case 5:if(!isFinite(e))return;break;case 4:if(!isFinite(n))return;break}R=v.measuredBounds,V=R.width,q=R.height,J=Math.max(V+M,0),re=Math.max(q+O,0),b=v.margin,xe=W.z(-b.left,-b.top,J,re),this.XN(v,xe,!0),V=xe.width,q=xe.height;for(let Ce=0;Ce<m;Ce++){const Pe=a[Ce];if(Pe===v||!Pe.visible&&Pe!==we)continue;b=Pe.margin,S=b.right+b.left,A=b.top+b.bottom,R=Pe.measuredBounds,J=Math.max(R.width+S,0),re=Math.max(R.height+A,0);let Fe=Pe.alignment;Fe.isDefault()&&(Fe=i.defaultAlignment),Fe.isSpot()||(Fe=K.Center);let Re=Pe.alignmentFocus;Re.isDefault()&&(Re=K.Center),ye?(ye=!1,o.e(Fe.x*V+Fe.offsetX-(Re.x*R.width+Re.offsetX)-b.left,Fe.y*q+Fe.offsetY-(Re.y*R.height+Re.offsetY)-b.top,J,re)):o.re(Fe.x*V+Fe.offsetX-(Re.x*R.width+Re.offsetX)-b.left,Fe.y*q+Fe.offsetY-(Re.y*R.height+Re.offsetY)-b.top,J,re)}ye?o.h(ne):se?o.intersect(xe.x,xe.y,xe.width,xe.height):o.re(ne.x,ne.y,ne.width,ne.height),W.i(xe)}arrange(i,e,n){const a=e.length;if(a===0)return;const o=i.findMainElement(),h=o.measuredBounds,u=h.width,m=h.height,v=i.padding,b=v.left,S=v.top;let A=b-n.x,M=S-n.y;o.Ut(A,M,u,m);const O=W.z(0,0,u,m);this.XN(o,O,!1);for(let R=0;R<a;R++){const V=e[R];if(V===o)continue;const q=V.measuredBounds,J=q.width,re=q.height;let se=V.alignment;se.isDefault()&&(se=i.defaultAlignment),se.isSpot()||(se=K.Center);let ne=V.alignmentFocus;ne.isDefault()&&(ne=K.Center);let xe=null;if(V instanceof j&&V.uo!==""&&(xe=V.findObject(V.uo),xe===V&&(xe=null)),xe!==null){const ye=xe.actualBounds,we=N.z(ye.x+(ne.x*ye.width-ne.offsetX),ye.y+(ne.y*ye.height-ne.offsetY));for(xe=xe.panel;xe!==null&&xe!==V;)xe.v.gt(we),xe=xe.panel;A=se.x*O.width+se.offsetX-we.x,M=se.y*O.height+se.offsetY-we.y,N.i(we)}else A=se.x*O.width+se.offsetX-(ne.x*J+ne.offsetX),M=se.y*O.height+se.offsetY-(ne.y*re+ne.offsetY);A+=O.x-n.x,M+=O.y-n.y,V.visible&&V.Ut(b+A,S+M,J,re)}W.i(O)}XN(i,e,n){let a=null;if(i instanceof j&&i.uo!==""&&(a=i.findObject(i.uo),a===i&&(a=null)),a!==null)for(n&&i.Ut(0,0,e.width,e.height),e.h(a.actualBounds),a=a.panel;a!==null&&a!==i;)a.v.sm(e),a=a.panel}};let d=F0;E(d,"hD",!1),Ve.Tn("Spot",new d);class g extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=a.length;if(m===0)return;const v=i.findMainElement();let b=v.margin,S=e,A=n;const M=b.right+b.left,O=b.top+b.bottom;v.ht(e,n,h,u);let R=v.measuredBounds,V=0,q=null;v instanceof ke&&(q=v,V=q.strokeWidth*q.scale);let J=Math.max(R.width+M,0),re=Math.max(R.height+O,0),se=i.GN(v);const ne=se.x*J+se.offsetX,xe=se.y*re+se.offsetY;let ye=i.YN(v);const we=ye.x*J+ye.offsetX,ze=ye.y*re+ye.offsetY;isFinite(e)&&(S=Math.max(Math.abs(ne-we)-V,0)),isFinite(n)&&(A=Math.max(Math.abs(xe-ze)-V,0));let Ce=0,Pe=0;h>0&&(Ce=Math.max(Math.abs(se.x*h+se.offsetX-(ye.x*h+ye.offsetX))-V,0)),u>0&&(Pe=Math.max(Math.abs(se.y*u+se.offsetY-(ye.y*u+ye.offsetY))-V,0));const Fe=X.l();Fe.e(0,0);const Re=i.$o();for(let ct=0;ct<m;ct++){const rt=a[ct];if(rt===v||!rt.visible&&rt!==Re)continue;b=rt.margin;const bt=b.right+b.left,Mt=b.top+b.bottom;rt.ht(S,A,Ce,Pe),R=rt.measuredBounds,J=Math.max(R.width+bt,0),re=Math.max(R.height+Mt,0),Fe.e(Math.max(J,Fe.width),Math.max(re,Fe.height))}if(m===1){R=v.measuredBounds,o.width=J,o.height=re,X.i(Fe);return}se=i.GN(v),ye=i.YN(v);let We=0,Ke=0;ye.x!==se.x&&ye.y!==se.y&&(We=Fe.width/Math.abs(ye.x-se.x),Ke=Fe.height/Math.abs(ye.y-se.y)),X.i(Fe),V=0,q!==null&&(V=q.strokeWidth*q.scale,q._S()===6&&(We=Ke=Math.max(We,Ke))),We+=Math.abs(se.offsetX)+Math.abs(ye.offsetX)+V,Ke+=Math.abs(se.offsetY)+Math.abs(ye.offsetY)+V;let lt=v.stretch;switch(lt===1&&(lt=v.Qs(!1)),lt){case 0:h=0,u=0;break;case 2:isFinite(e)&&(We=e),isFinite(n)&&(Ke=n);break;case 5:isFinite(e)&&(We=e),u=0;break;case 4:h=0,isFinite(n)&&(Ke=n);break}v.kf(),v.ht(We,Ke,h,u),o.width=v.measuredBounds.width+M,o.height=v.measuredBounds.height+O}arrange(i,e,n){const a=e.length;if(a===0)return;const o=i.findMainElement(),h=o.measuredBounds,u=W.l();u.e(0,0,1,1);let m=o.margin;const v=m.left,b=m.top,S=i.padding,A=S.left,M=S.top;let O=v,R=b,V=h.width,q=h.height;o.Ut(A+O,M+R,V,q);const J=i.GN(o),re=i.YN(o),se=0+J.x*h.width+J.offsetX,ne=0+J.y*h.height+J.offsetY,xe=0+re.x*h.width+re.offsetX,ye=0+re.y*h.height+re.offsetY;u.x=se,u.y=ne,u.re(xe,ye,0,0),u.x+=v+A,u.y+=b+M;for(let we=0;we<a;we++){const ze=e[we];if(ze===o)continue;const Ce=ze.measuredBounds;m=ze.margin;const Pe=Math.max(Ce.width+m.right+m.left,0),Fe=Math.max(Ce.height+m.top+m.bottom,0);let Re=ze.alignment;Re.isDefault()&&(Re=i.defaultAlignment),Re.isSpot()||(Re=K.Center),O=u.width*Re.x+Re.offsetX-Pe*Re.x+m.left+u.x,R=u.height*Re.y+Re.offsetY-Fe*Re.y+m.top+u.y,V=u.width,q=u.height,ze.visible&&(W.contains(u.x,u.y,u.width,u.height,O,R,Ce.width,Ce.height)?ze.Ut(O,R,Ce.width,Ce.height):ze.Ut(O,R,Ce.width,Ce.height,new W(u.x,u.y,u.width,u.height)))}W.i(u)}}Ve.Tn("Auto",new g);class y extends Ve{constructor(){super(),this.name="Table"}measure(i,e,n,a,o,h,u){let m=a.length;const v=s.nt(),b=s.nt();for(let Bt=0;Bt<m;Bt++){const Tt=a[Bt],ii=Tt instanceof j?Tt:null;if(ii!==null&&ii.ol()&&Tt.visible){b.push(ii);const Pi=ii.D.r,Dn=Pi.length;for(let Bn=0;Bn<Dn;Bn++){const Gn=Pi[Bn];ii.type===j.TableRow?Gn.row=Tt.row:ii.type===j.TableColumn&&(Gn.column=Tt.column),v.push(Gn)}}else v.push(Tt)}m=v.length,m===0&&(i.getRowDefinition(0),i.getColumnDefinition(0));const S=[];for(let Bt=0;Bt<m;Bt++){const Tt=v[Bt];Tt.visible&&(Tt.xi(!0),Tt.ao(!0),S[Tt.row]||(S[Tt.row]=[]),S[Tt.row][Tt.column]||(S[Tt.row][Tt.column]=[]),S[Tt.row][Tt.column].push(Tt))}s.Z(v);const A=s.nt(),M=s.nt(),O=s.nt(),R={count:0},V={count:0};let q=e,J=n;const re=i.Qi,se=i._i;let ne;m=re.length;for(let Bt=0;Bt<m;Bt++)ne=re[Bt],ne!==void 0&&(ne.actual=0,ne.Re=0);m=se.length;for(let Bt=0;Bt<m;Bt++)ne=se[Bt],ne!==void 0&&(ne.actual=0,ne.Re=0);let xe=S.length,ye=0;for(let Bt=0;Bt<xe;Bt++)S[Bt]&&(ye=Math.max(ye,S[Bt].length));const we=Math.min(i.topIndex,xe-1),ze=Math.min(i.leftIndex,ye-1);let Ce=0,Pe;xe=S.length;const Fe=i.$o();for(let Bt=0;Bt<xe;Bt++){if(!S[Bt])continue;ye=S[Bt].length;const Tt=i.getRowDefinition(Bt);Tt.actual=0,Tt.Re=0;for(let ii=0;ii<ye;ii++){if(!S[Bt][ii])continue;const Pi=i.getColumnDefinition(ii);A[ii]===void 0&&(Pi.actual=0,Pi.Re=0,A[ii]=!0);const Dn=S[Bt][ii],Bn=Dn.length;for(let Gn=0;Gn<Bn;Gn++){const Jn=Dn[Gn];if(!Jn.visible&&Jn!==Fe)continue;const ro=Jn.rowSpan>1,Vr=Jn.columnSpan>1;(ro||Vr)&&!(Bt<we)&&!(ii<ze)&&M.push(Jn);const na=Jn.margin,rs=na.right+na.left,Fs=na.top+na.bottom;Pe=Jn.Qp(Tt,Pi,!1);const Ma=Jn.desiredSize,qi=!isNaN(Ma.width),Mo=!isNaN(Ma.height);if(Pe!==0&&!(qi&&Mo)&&!(Bt<we)&&!(ii<ze)&&(!Vr&&R[ii]===void 0&&(Pe===2||Pe===5)&&(R[ii]=-1,R.count++),!ro&&V[Bt]===void 0&&(Pe===2||Pe===4)&&(V[Bt]=-1,V.count++),!ro&&!Vr&&O.push(Jn)),Jn.ht(1/0,1/0,0,0),Bt<we||ii<ze)continue;const nr=Jn.measuredBounds,ao=Math.max(nr.width+rs,0),el=Math.max(nr.height+Fs,0);if(Jn.rowSpan===1&&(Pe===0||Pe===5)){ne=i.getRowDefinition(Bt);const oo=ne.computeEffectiveSpacing(),_d=ne.j===0;Ce=Math.max(el-ne.actual,0),Ce+(_d?oo:0)>J&&(Ce=Math.max(J-oo,0)),ne.Re=ne.Re+Ce,ne.actual=ne.j+Ce,J=Math.max(J-(Ce+(_d?oo:0)),0)}if(Jn.columnSpan===1&&(Pe===0||Pe===4)){ne=i.getColumnDefinition(ii);const oo=ne.computeEffectiveSpacing(),_d=ne.j===0;Ce=Math.max(ao-ne.actual,0),Ce+(_d?oo:0)>q&&(Ce=Math.max(q-oo,0)),ne.Re=ne.Re+Ce,ne.actual=ne.j+Ce,q=Math.max(q-(Ce+(_d?oo:0)),0)}(ro||Vr)&&Jn.kf()}}}s.Z(A);let Re=0,We=0;m=i.columnCount;for(let Bt=0;Bt<m;Bt++){const Tt=se[Bt];Tt!==void 0&&(Re+=isNaN(Tt.ki)?Tt.Re:Tt.ki,Tt.Re!==0&&(Re+=Tt.computeEffectiveSpacing()))}m=i.rowCount;for(let Bt=0;Bt<m;Bt++){const Tt=re[Bt];Tt!==void 0&&(We+=isNaN(Tt.ki)?Tt.Re:Tt.ki,Tt.Re!==0&&(We+=Tt.computeEffectiveSpacing()))}q=Math.max(e-Re,0),J=Math.max(n-We,0);let Ke=J,lt=q;m=O.length;for(let Bt=0;Bt<m;Bt++){const Tt=O[Bt],ii=i.getRowDefinition(Tt.row),Pi=i.getColumnDefinition(Tt.column),Dn=Tt.measuredBounds,Bn=Tt.margin,Gn=Bn.right+Bn.left,Jn=Bn.top+Bn.bottom;Pi.Re===0&&R[Tt.column]!==void 0?R[Tt.column]=Math.max(Dn.width+Gn,R[Tt.column]):R[Tt.column]=null,ii.Re===0&&V[Tt.row]!==void 0?V[Tt.row]=Math.max(Dn.height+Jn,V[Tt.row]):V[Tt.row]=null}let ct=0,rt=0,bt;for(bt in V)bt!=="count"&&(ct+=V[bt]);for(bt in R)bt!=="count"&&(rt+=R[bt]);const Mt=X.l();for(let Bt=0;Bt<m;Bt++){const Tt=O[Bt];if(!Tt.visible&&Tt!==Fe)continue;const ii=i.getRowDefinition(Tt.row),Pi=i.getColumnDefinition(Tt.column);let Dn=0;isFinite(Pi.width)?Dn=Pi.width:(isFinite(q)&&R[Tt.column]!==null?rt===0?Dn=Pi.actual+q:Dn=R[Tt.column]/rt*lt:R[Tt.column]!==null?Dn=q:Dn=Pi.actual||q,Dn=Math.max(0,Dn-Pi.computeEffectiveSpacing()));let Bn=0;switch(isFinite(ii.height)?Bn=ii.height:(isFinite(J)&&V[Tt.row]!==null?ct===0?Bn=ii.actual+J:Bn=V[Tt.row]/ct*Ke:V[Tt.row]!==null?Bn=J:Bn=ii.actual||J,Bn=Math.max(0,Bn-ii.computeEffectiveSpacing())),Mt.e(Math.max(Pi.minimum,Math.min(Dn,Pi.maximum)),Math.max(ii.minimum,Math.min(Bn,ii.maximum))),Pe=Tt.Qp(ii,Pi,!1),Pe){case 5:Mt.height=Math.max(Mt.height,ii.actual+J);break;case 4:Mt.width=Math.max(Mt.width,Pi.actual+q);break}const Gn=Tt.margin,Jn=Gn.right+Gn.left,ro=Gn.top+Gn.bottom;Tt.kf();let Vr=Pi.minimum,na=ii.minimum;const rs=Tt.measuredBounds;rs.width===0&&R[Tt.column]!==null&&(Vr=Math.max(Vr,R[Tt.column])),rs.height===0&&V[Tt.row]!==null&&(na=Math.max(Vr,V[Tt.row])),Tt.ht(Mt.width,Mt.height,Vr,na);const Fs=Tt.measuredBounds;let Ma=Math.max(Fs.width+Jn,0),qi=Math.max(Fs.height+ro,0);isFinite(q)&&(Ma=Math.min(Ma,Mt.width)),isFinite(J)&&(qi=Math.min(qi,Mt.height));let Mo=0;Mo=ii.actual,ii.actual=Math.max(ii.actual,qi),ii.Re=Math.max(ii.Re,qi),Ce=ii.actual-Mo,J=Math.max(J-Ce,0),V[Tt.row]===null&&(Ke=Math.max(Ke-Ce,0)),Mo=Pi.actual,Pi.actual=Math.max(Pi.actual,Ma),Pi.Re=Math.max(Pi.Re,Ma),Ce=Pi.actual-Mo,q=Math.max(q-Ce,0),R[Tt.column]===null&&(lt=Math.max(lt-Ce,0))}s.Z(O);const li=X.l(),Vt=s.nt(),Gt=s.nt();if(m=M.length,m!==0)for(let Bt=0;Bt<xe;Bt++){if(!S[Bt])continue;ye=S[Bt].length;const Tt=i.getRowDefinition(Bt);Vt[Bt]=Tt.actual;for(let ii=0;ii<ye;ii++){if(!S[Bt][ii])continue;const Pi=i.getColumnDefinition(ii);Gt[ii]=Pi.actual}}for(let Bt=0;Bt<m;Bt++){const Tt=M[Bt];if(!Tt.visible&&Tt!==Fe)continue;const ii=i.getRowDefinition(Tt.row),Pi=i.getColumnDefinition(Tt.column);switch(Mt.e(Math.max(Pi.minimum,Math.min(e,Pi.maximum)),Math.max(ii.minimum,Math.min(n,ii.maximum))),Pe=Tt.Qp(ii,Pi,!1),Pe){case 2:Gt[Pi.index]!==0&&(Mt.width=Math.min(Mt.width,Gt[Pi.index])),Vt[ii.index]!==0&&(Mt.height=Math.min(Mt.height,Vt[ii.index]));break;case 5:Gt[Pi.index]!==0&&(Mt.width=Math.min(Mt.width,Gt[Pi.index]));break;case 4:Vt[ii.index]!==0&&(Mt.height=Math.min(Mt.height,Vt[ii.index]));break}isFinite(Pi.width)&&(Mt.width=Pi.width),isFinite(ii.height)&&(Mt.height=ii.height),li.e(0,0);let Dn=Pi.minimum,Bn=ii.minimum;for(let qi=1;qi<Tt.rowSpan&&!(Tt.row+qi>=i.rowCount);qi++){if(ne=i.getRowDefinition(Tt.row+qi),Ce=0,Pe===2||Pe===4){if(ne.j===0)continue;Ce=Math.max(ne.minimum,ne.j===0?ne.maximum:Math.min(ne.j,ne.maximum))}else Ce=Math.max(ne.minimum,isNaN(ne.ki)?ne.maximum:Math.min(ne.ki,ne.maximum));li.height+=Ce,Bn+=ne.minimum}for(let qi=1;qi<Tt.columnSpan&&!(Tt.column+qi>=i.columnCount);qi++){if(ne=i.getColumnDefinition(Tt.column+qi),Ce=0,Pe===2||Pe===5){if(ne.j===0)continue;Ce=Math.max(ne.minimum,ne.j===0?ne.maximum:Math.min(ne.j,ne.maximum))}else Ce=Math.max(ne.minimum,isNaN(ne.ki)?ne.maximum:Math.min(ne.ki,ne.maximum));li.width+=Ce,Dn+=ne.minimum}Mt.width+=li.width,Mt.height+=li.height;const Gn=Tt.margin,Jn=Gn.right+Gn.left,ro=Gn.top+Gn.bottom;Tt.ht(Mt.width,Mt.height,Dn,Bn);const Vr=Tt.measuredBounds,na=Math.max(Vr.width+Jn,0),rs=Math.max(Vr.height+ro,0);let Fs=0;for(let qi=0;qi<Tt.rowSpan&&!(Tt.row+qi>=i.rowCount);qi++)ne=i.getRowDefinition(Tt.row+qi),Fs+=ne.total||0;if(Fs<rs){let qi=rs-Fs;const Mo=rs-Fs;if(Tt.spanAllocation!==null){const nr=Tt.spanAllocation;for(let ao=0;ao<Tt.rowSpan&&!(qi<=0||Tt.row+ao>=i.rowCount);ao++){ne=i.getRowDefinition(Tt.row+ao);const el=ne.j||0,oo=nr(Tt,ne,Mo);ne.actual=Math.min(ne.maximum,el+oo),ne.j!==el&&(qi-=ne.j-el)}}for(;qi>0&&ne!==void 0;){const nr=ne.j||0;if(isNaN(ne.height)&&ne.maximum>nr&&(ne.actual=Math.min(ne.maximum,nr+qi),ne.j!==nr&&(qi-=ne.j-nr)),ne.index===0)break;ne=i.getRowDefinition(ne.index-1)}}let Ma=0;for(let qi=0;qi<Tt.columnSpan&&!(Tt.column+qi>=i.columnCount);qi++)ne=i.getColumnDefinition(Tt.column+qi),Ma+=ne.total||0;if(Ma<na){let qi=na-Ma;const Mo=na-Ma;if(Tt.spanAllocation!==null){const nr=Tt.spanAllocation;for(let ao=0;ao<Tt.columnSpan&&!(qi<=0||Tt.column+ao>=i.columnCount);ao++){ne=i.getColumnDefinition(Tt.column+ao);const el=ne.j||0,oo=nr(Tt,ne,Mo);ne.actual=Math.min(ne.maximum,el+oo),ne.j!==el&&(qi-=ne.j-el)}}for(;qi>0&&ne!==void 0;){const nr=ne.j||0;if(isNaN(ne.width)&&ne.maximum>nr&&(ne.actual=Math.min(ne.maximum,nr+qi),ne.j!==nr&&(qi-=ne.j-nr)),ne.index===0)break;ne=i.getColumnDefinition(ne.index-1)}}}s.Z(M),X.i(li),X.i(Mt),Vt!==void 0&&s.Z(Vt),Gt!==void 0&&s.Z(Gt);let zt=0,jt=0;const xi=i.desiredSize,gi=i.maxSize;Pe=i.Qs(!0),Re=0,We=0;let Ot=0,Qt=0;m=i.columnCount;for(let Bt=0;Bt<m;Bt++)if(se[Bt]!==void 0){if(ne=i.getColumnDefinition(Bt),isFinite(ne.width)){Ot+=ne.width,Ot+=ne.computeEffectiveSpacing();continue}else if(ne.q1()===2){Ot+=ne.j,Ot+=ne.computeEffectiveSpacing();continue}ne.j!==0&&(Re+=ne.j,Re+=ne.computeEffectiveSpacing())}isFinite(xi.width)?zt=Math.min(xi.width,gi.width):Pe!==0&&isFinite(e)?zt=e:zt=Re,zt=Math.max(zt,isFinite(e)?Math.min(h,e):h),zt=Math.max(zt-Ot,0);const un=Re===0?1:Math.max(zt/Re,1);for(let Bt=0;Bt<m;Bt++)se[Bt]!==void 0&&(ne=i.getColumnDefinition(Bt),!isFinite(ne.width)&&ne.q1()!==2&&(ne.actual=ne.j*un),ne.position=o.width,ne.j!==0&&(o.width+=ne.j,o.width+=ne.computeEffectiveSpacing()));m=i.rowCount;for(let Bt=0;Bt<m;Bt++)if(re[Bt]!==void 0){if(ne=i.getRowDefinition(Bt),isFinite(ne.height)){Qt+=ne.height,Qt+=ne.computeEffectiveSpacing();continue}else if(ne.q1()===2){Qt+=ne.j,Qt+=ne.computeEffectiveSpacing();continue}ne.j!==0&&(We+=ne.j,We+=ne.computeEffectiveSpacing())}isFinite(xi.height)?jt=Math.min(xi.height,gi.height):Pe!==0&&isFinite(n)?jt=n:jt=We,jt=Math.max(jt,isFinite(n)?Math.min(u,n):u),jt=Math.max(jt-Qt,0);const yi=We===0?1:Math.max(jt/We,1);for(let Bt=0;Bt<m;Bt++)re[Bt]!==void 0&&(ne=i.getRowDefinition(Bt),!isFinite(ne.height)&&ne.q1()!==2&&(ne.actual=ne.j*yi),ne.position=o.height,ne.j!==0&&(o.height+=ne.j,o.height+=ne.computeEffectiveSpacing()));m=b.length;for(let Bt=0;Bt<m;Bt++){const Tt=b[Bt];let ii=0,Pi=0;Tt.type===j.TableRow?(ii=o.width,ne=i.getRowDefinition(Tt.row),Pi=ne.actual):(ne=i.getColumnDefinition(Tt.column),ii=ne.actual,Pi=o.height),Tt.measuredBounds.e(0,0,ii,Pi),Tt.xi(!1)}s.Z(b),i.La=S}arrange(i,e,n){const a=e.length,o=i.padding,h=o.left,u=o.top,m=i.La;if(m===null)return;let v=0,b=0;const S=m.length;let A=0;for(let ze=0;ze<S;ze++)m[ze]&&(A=Math.max(A,m[ze].length));const M=i.Qi,O=i._i;let R=0,V=0,q=Math.min(i.topIndex,S-1);if(M.length>0){for(;q!==S&&(M[q]===void 0||M[q].j===0);)q++;q=Math.max(Math.min(q,S-1),0),R=-M[q].position}let J=Math.min(i.leftIndex,A-1);if(O.length>0){for(;J!==A&&(O[J]===void 0||O[J].j===0);)J++;J=Math.max(Math.min(J,A-1),0),V=-O[J].position}let re=0,se=0;for(;re!==S&&M[re]===void 0;)re++;for(;se!==S&&O[se]===void 0;)se++;const ne=i.part;let xe=i.getRowDefinition(re),ye=i.getColumnDefinition(se);for(let ze=0;ze<e.length;ze++){const Ce=e[ze];if(!(Ce instanceof j&&Ce.visible&&Ce.ol()))continue;Ce.type===j.TableRow?(xe=i.getRowDefinition(Ce.row),ye=i.getColumnDefinition(se)):(xe=i.getRowDefinition(re),ye=i.getColumnDefinition(Ce.column)),b=xe.position+R+u,xe.j!==0&&(b+=xe.computeEffectiveSpacingTop(Math.max(re,q))),v=ye.position+V+h,ye.j!==0&&(v+=ye.computeEffectiveSpacingTop(Math.max(se,J)));const Pe=Ce.measuredBounds;Ce.yf(),Ce.actualBounds.ce();const Fe=Ce.actualBounds,Re=W.z(Fe.x,Fe.y,Fe.width,Fe.height);if(Fe.x=Ce.type===j.TableRow?h:v,Fe.y=Ce.type===j.TableColumn?u:b,Fe.width=Pe.width,Fe.height=Pe.height,Ce.actualBounds.k(),Ce.ao(!1),Re.equalsApproxClose(Fe)){W.i(Re);continue}ne!==null&&(ne.Sa(),Ce.Wp(ne)),W.i(Re)}const we=X.l();for(let ze=0;ze<S;ze++){if(!m[ze])continue;A=m[ze].length;const Ce=i.getRowDefinition(ze);b=Ce.position+R+u,Ce.j!==0&&(b+=Ce.computeEffectiveSpacingTop(Math.max(re,q)));for(let Pe=0;Pe<A;Pe++){if(!m[ze][Pe])continue;const Fe=i.getColumnDefinition(Pe);v=Fe.position+V+h,Fe.j!==0&&(v+=Fe.computeEffectiveSpacingTop(Math.max(se,J)));const Re=m[ze][Pe],We=Re.length;for(let Ke=0;Ke<We;Ke++){const lt=Re[Ke],ct=lt.measuredBounds;we.e(0,0);for(let rs=1;rs<lt.rowSpan&&!(ze+rs>=i.rowCount);rs++){const Fs=i.getRowDefinition(ze+rs);Fs.j!==0&&(we.height+=Fs.total)}for(let rs=1;rs<lt.columnSpan&&!(Pe+rs>=i.columnCount);rs++){const Fs=i.getColumnDefinition(Pe+rs);Fs.j!==0&&(we.width+=Fs.total)}const rt=Fe.j+we.width,bt=Ce.j+we.height;let Mt=v,li=b;const Vt=rt,Gt=bt,zt=v,jt=b;let xi=rt,gi=bt;v+rt>n.width&&(xi=Math.max(n.width-v,0)),b+bt>n.height&&(gi=Math.max(n.height-b,0));let Ot=lt.alignment,Qt=0,un=0,yi=0,Bt=0;if(Ot.isDefault()){Ot=i.defaultAlignment,Ot.isSpot()||(Ot=K.Center),Qt=Ot.x,un=Ot.y,yi=Ot.offsetX,Bt=Ot.offsetY;const rs=Fe.alignment,Fs=Ce.alignment;rs.isSpot()&&(Qt=rs.x,yi=rs.offsetX),Fs.isSpot()&&(un=Fs.y,Bt=Fs.offsetY)}else Qt=Ot.x,un=Ot.y,yi=Ot.offsetX,Bt=Ot.offsetY;(isNaN(Qt)||isNaN(un))&&(Qt=.5,un=.5,yi=0,Bt=0);let Tt=ct.width,ii=ct.height;const Pi=lt.margin,Dn=Pi.left+Pi.right,Bn=Pi.top+Pi.bottom,Gn=lt.Qp(Ce,Fe,!1);isNaN(lt.desiredSize.width)&&(Gn===2||Gn===5)&&(Tt=Math.max(rt-Dn,0)),isNaN(lt.desiredSize.height)&&(Gn===2||Gn===4)&&(ii=Math.max(bt-Bn,0));const Jn=lt.maxSize,ro=lt.minSize;Tt=Math.min(Jn.width,Tt),ii=Math.min(Jn.height,ii),Tt=Math.max(ro.width,Tt),ii=Math.max(ro.height,ii);const Vr=Tt+Dn,na=ii+Bn;Mt+=Vt*Qt-Vr*Qt+yi+Pi.left,li+=Gt*un-na*un+Bt+Pi.top,lt.visible&&(W.contains(zt,jt,xi,gi,Mt,li,ct.width,ct.height)?lt.Ut(Mt,li,Tt,ii):lt.Ut(Mt,li,Tt,ii,new W(zt,jt,xi,gi)))}}}X.i(we);for(let ze=0;ze<a;ze++){const Ce=e[ze],Pe=Ce instanceof j?Ce:null;if(Pe!==null&&Pe.ol()){const Fe=Ce.actualBounds;Ce.naturalBounds.ce(),Ce.naturalBounds.e(0,0,Fe.width,Fe.height),Ce.naturalBounds.k()}}}}Ve.Tn("Table",new y);class k extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){}arrange(i,e,n){}}Ve.Tn("TableRow",new k);class T extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){}arrange(i,e,n){}}Ve.Tn("TableColumn",new T);class D extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){a.length!==1&&s.o("Viewbox Panel must contain exactly one GraphObject.");const m=a[0];m.it=1,m.kf(),m.ht(1/0,1/0,h,u);let v=m.measuredBounds;const b=m.margin,S=b.right+b.left,A=b.top+b.bottom;if(isFinite(e)||isFinite(n)){const M=m.scale,O=v.width,R=v.height,V=Math.max(e-S,0),q=Math.max(n-A,0);let J=1;i.viewboxStretch===6?(O!==0&&R!==0&&(J=Math.min(V/O,q/R)),J===0&&(J=1e-4),m.it*=J):(O!==0&&R!==0&&(J=Math.max(V/O,q/R)),J===0&&(J=1e-4),m.it*=J),M!==m.scale&&(m.xi(!0),m.ht(1/0,1/0,h,u))}v=m.measuredBounds,o.width=isFinite(e)?e:Math.max(v.width+S,0),o.height=isFinite(n)?n:Math.max(v.height+A,0)}arrange(i,e,n){const a=e[0],o=a.measuredBounds,h=a.margin,u=h.right+h.left,m=h.top+h.bottom,v=Math.max(o.width+u,0),b=Math.max(o.height+m,0);let S=a.alignment;S.isDefault()&&(S=i.defaultAlignment),S.isSpot()||(S=K.Center),a.Ut(n.width*S.x-v*S.x+S.offsetX,n.height*S.y-b*S.y+S.offsetY,o.width,o.height)}}Ve.Tn("Viewbox",new D);class _ extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){i.Pe===null&&(i.Pe=new ce),this.FI(i),this.RI(i)}arrange(i,e,n){}Ge(i,e,n){const a=i.naturalBounds;e.save(),e.beginPath(),e.rect(0,0,a.width,a.height),e.clip(),e.endPath(),this.OI(i,e,n),e.restore(),e.clearContextCache(!1)}OI(i,e,n){let a=i.getDocumentScale()*n.scale;a<=0&&(a=1);const o=i.gridCellSize,h=o.width,u=o.height,m=i.naturalBounds,v=i.actualBounds,b=m.width,S=m.height,A=Math.ceil(b/h),M=Math.ceil(S/u),O=i.gridOrigin,R=O.x,V=O.y,q=i.Pe.N0,J=i.D.r,re=J.length;for(let se=0;se<re;se++){const ne=J[se];if(!ne.visible)continue;const xe=ne.interval||1,ye=Math.abs(xe);if(h*ye*a<2)continue;let we=ne.segmentIndex;(!isFinite(we)||isNaN(we))&&(we=0),we<0&&(we=ye-Math.min(-we,ye)),we=Math.round(we%ye);const ze=ne.opacity;let Ce=1;if(ze!==1){if(ze===0)continue;Ce=e.globalAlpha,e.globalAlpha=Ce*ze}const Pe=q[se];let Fe=!1;const Re=ne.strokeDashArray;if(Re!==null&&(Fe=!0,e.enableDash(Re,ne.strokeDashOffset)),ne.stroke!==null&&ne.strokeWidth>0&&(ne.figure==="LineV"||ne.figure==="LineH")){if(e.lineWidth=ne.strokeWidth,i.kn(e,ne.stroke,!1,!1,m,v),e.beginPath(),ne.figure==="LineV"){const We=Math.floor((R-h)/h);for(let Ke=We;Ke<=We+A;Ke++){const lt=Ke*h+R;0<=lt&&lt<=b&&this.W1(Ke,xe,we,Pe)&&(e.moveTo(lt,0),e.lineTo(lt,S))}}else if(ne.figure==="LineH"){const We=Math.floor((V-u)/u);for(let Ke=We;Ke<=We+M;Ke++){const lt=Ke*u+V;0<=lt&&lt<=S&&this.W1(Ke,xe,we,Pe)&&(e.moveTo(0,lt),e.lineTo(b,lt))}}e.stroke(),e.endPath()}else if(ne.fill!==null){if(i.kn(e,ne.fill,!0,!1,m,v),ne.figure==="BarV"){let We=ne.width;isNaN(We)&&(We=h);const Ke=Math.floor((R-h)/h);for(let lt=Ke;lt<=Ke+A;lt++){const ct=lt*h+R;0<=ct+We&&ct<=b&&this.W1(lt,xe,we,Pe)&&e.fillRect(ct,0,We,S)}}else if(ne.figure==="BarH"){let We=ne.height;isNaN(We)&&(We=u);const Ke=Math.floor((V-u)/u);for(let lt=Ke;lt<=Ke+M;lt++){const ct=lt*u+V;0<=ct+We&&ct<=S&&this.W1(lt,xe,we,Pe)&&e.fillRect(0,ct,b,We)}}}Fe&&e.disableDash(),ze!==1&&(e.globalAlpha=Ce)}}W1(i,e,n,a){if(e<0)return i%e===n;if(i%e!==n)return!1;const o=a.length;for(let h=0;h<o;h++){const u=a[h];if(i%u===n)return!1}return!0}RI(i){const e=[],n=i.D.r,a=n.length;for(let o=0;o<a;o++){const h=n[o],u=[];if(e.push(u),!h.visible)continue;const m=h.interval;if(m<0)continue;const v=h.figure,b=this.KN(v);for(let S=0;S<a;S++){if(S===o)continue;const A=n[S];if(!A.visible)continue;const M=A.figure;if(this.KN(M)!==b)continue;const O=A.interval;O>m&&u.push(O)}}i.Pe.N0=e}KN(i){return i==="LineV"||i==="BarV"}FI(i){let e=1,n=1;const a=i.D.r,o=a.length;for(let m=0;m<o;m++){const v=a[m],b=Math.abs(v.interval);b<2||(this.KN(v.figure)?n=n*b/G.HL(n,b):e=e*b/G.HL(e,b))}const h=i.gridCellSize,u=i.Pe;u.af.isReal()?u.af.e(n*h.width,e*h.height):u.af=new X(n*h.width,e*h.height)}}Ve.Tn("Grid",new _);class I extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=a.length;if(!(i instanceof Zt||i instanceof yt))return;let v=null,b=null;if(i instanceof yt&&(v=i),i instanceof Zt&&(b=i,v=b.adornedPart,i.Af===null&&(i.Af=[])),!(v instanceof yt))return;const S=v;if(m===0){i.naturalBounds.jn(0,0),i.measuredBounds.e(0,0,0,0);return}const A=i instanceof Zt?null:v.path,M=v.routeBounds,O=i.Zo;O.e(0,0,M.width,M.height);const R=S.points,V=v.pointsCount;b!==null?b.Td(!1):v!==null&&v.Td(!1);const q=M.width,J=M.height,re=i.Af;if(re.length=0,A!==null){this.measureLinkPath(i,q,J,A);const ye=A.measuredBounds;O.unionRect(ye),re.push(ye)}const se=le.l(),ne=N.l(),xe=N.l();for(let ye=0;ye<m;ye++){const we=a[ye];if(we===A)continue;let ze=we.measuredBounds;if(we.isPanelMain&&we instanceof ke){this.measureLinkPath(i,q,J,we),ze=we.measuredBounds,O.unionRect(ze),re.push(ze);continue}if(V<2){we.ht(1/0,1/0,0,0),ze=we.measuredBounds,O.unionRect(ze),re.push(ze);continue}const Ce=we.segmentIndex,Pe=we.segmentFraction;let Fe=we.alignmentFocus;Fe.isNoSpot()&&(Fe=K.Center);const Re=we.segmentOrientation,We=we.segmentOffset;let Ke=0,lt=0,ct=0,rt=0;if(isNaN(Ce)){const Ot=S.ut,Qt=s.nt();Ot.getPointAndAngleAlongPath(Pe,Qt);const un=N.z(Qt[0],Qt[1]);rt=Qt[2],Re!==0&&(ct=S.computeAngle(we,Re,rt),we.Xt=ct,we.xi(!0),we.ao(!0)),Ke=un.x,lt=un.y,N.i(un),s.Z(Qt)}else if(Ce<-V||Ce>=V){const Ot=N.l();S.HN(Ot),rt=S.midAngle,Re!==0&&(ct=S.computeAngle(we,Re,rt),we.Xt=ct,we.xi(!0),we.ao(!0)),Ke=Ot.x-M.x,lt=Ot.y-M.y,N.i(Ot)}else{let Ot,Qt,un=0;if(Ce>=0?(Ot=R.elt(Ce),Qt=Ce<V-1?R.elt(Ce+1):Ot):(un=V+Ce,Ot=R.elt(un),Qt=un>0?R.elt(un-1):Ot),Ot.equalsApprox(Qt)){let yi,Bt;Ce>=0?(yi=Ce>0?R.elt(Ce-1):Ot,Bt=Ce<V-2?R.elt(Ce+2):Qt):(yi=un<V-1?R.elt(un+1):Ot,Bt=un>1?R.elt(un-2):Qt);const Tt=yi.distanceSquaredPoint(Ot),ii=Qt.distanceSquaredPoint(Bt);Tt>ii+10?rt=Ce>=0?yi.directionPoint(Ot):Ot.directionPoint(yi):ii>Tt+10?rt=Ce>=0?Qt.directionPoint(Bt):Bt.directionPoint(Qt):rt=Ce>=0?yi.directionPoint(Bt):Bt.directionPoint(yi)}else rt=Ce>=0?Ot.directionPoint(Qt):Qt.directionPoint(Ot);Re!==0&&(ct=S.computeAngle(we,Re,rt),we.Xt=ct,we.xi(!0),we.ao(!0)),Ke=Ot.x+(Qt.x-Ot.x)*Pe-M.x,lt=Ot.y+(Qt.y-Ot.y)*Pe-M.y}we.ht(1/0,1/0,0,0),ze=we.measuredBounds;const bt=we.naturalBounds;let Mt=0;we instanceof ke&&(Mt=we.strokeWidth);const li=bt.width+Mt,Vt=bt.height+Mt;se.Ue(),se.Gs(-ze.x,-ze.y),se.it(we.scale,we.scale),se.ks(Re===0?we.angle:rt,li/2,Vt/2),(Re===22||Re===26)&&se.ks(90,li/2,Vt/2),(Re===23||Re===27)&&se.ks(-90,li/2,Vt/2),Re===28&&(rt>45&&rt<135||rt>225&&rt<315)&&se.ks(-rt,li/2,Vt/2);const Gt=new W(0,0,li,Vt);ne.setRectSpot(Gt,Fe),se.gt(ne);const zt=-ne.x+Mt/2*we.scale,jt=-ne.y+Mt/2*we.scale;xe.h(We);const xi=isNaN(We.x),gi=isNaN(We.y);if(xi||gi){const Ot=li/2+yt.J1,Qt=Vt/2+yt.J1,un=rt>=45&&rt<=135,yi=rt>=225&&rt<=315;Re===0&&(un||yi)?(xe.x=gi?Ot:We.y,xe.y=xi?Qt:We.x,un?Ce>=0||isNaN(Ce)&&Pe<.5||xi&&(xe.y=-Qt):yi&&((Ce>=0||isNaN(Ce)&&Pe<.5)&&xi&&(xe.y=-Qt),gi&&(xe.x=-Ot))):(xi&&(Ce>=0||isNaN(Ce)&&Pe<.5?xe.x=Ot:xe.x=-Ot),gi&&(xe.y=-Qt),xe.rotate(rt))}else xe.rotate(rt);Ke+=xe.x,lt+=xe.y,Gt.e(Ke+zt,lt+jt,ze.width,ze.height),re.push(Gt),O.unionRect(Gt)}if(v!==null){const ye=v.labelNodes;for(;ye.next();)ye.value.ht(1/0,1/0)}i.Zo=O,i.position.e(M.x+O.x,M.y+O.y),o.jn(O.width||0,O.height||0),le.i(se),N.i(ne),N.i(xe)}arrange(i,e,n){const a=e.length;if(!(i instanceof Zt||i instanceof yt))return;let o=i,h=null;i instanceof Zt&&(h=i,o=h.adornedPart);const u=i,m=i instanceof Zt?null:o.path,v=i.Af;if(v.length!==0){let M=0;if(m!==null&&M<v.length){const O=v[M];M++,m.Ut(O.x-u.Zo.x,O.y-u.Zo.y,O.width,O.height)}for(let O=0;O<a;O++){const R=e[O];if(R!==m&&M<v.length){const V=v[M];M++,R.Ut(V.x-u.Zo.x,V.y-u.Zo.y,V.width,V.height)}}}const b=o.points,S=b.count;if(S>=2&&u instanceof yt){const M=u.labelNodes;for(;M.next();){const O=M.value;u.II(O,S,b)}}h!==null?h.Td(!1):o.Td(!1);const A=i.cD(N.l());i.location.e(i.position.x+A.x,i.position.y+A.y),N.i(A)}measureLinkPath(i,e,n,a){if(a.Go()===!1)return;let o=a.strokeWidth;if(o===0&&i instanceof Zt&&i.type===j.Link&&i.adornedObject instanceof ke&&(o=i.adornedObject.strokeWidth),o=o*a.it,i instanceof yt&&i.ut!==null){const h=i.geometry.bounds;a.lo(h.x-o/2,h.y-o/2,h.width+o,h.height+o)}else if(i instanceof Zt&&i.adornedPart.ut!==null){const h=i.adornedPart.ut.bounds;a.lo(h.x-o/2,h.y-o/2,h.width+o,h.height+o)}else a.lo(-(o/2),-(o/2),e+o,n+o);a.EI(),a.xi(!1)}}Ve.Tn("Link",new I);class H extends Ve{constructor(){super()}measure(i,e,n,a,o,h,u){const m=i.findMainElement();if(!(m instanceof ke))return;i.ts=[];const v=m.margin,b=v.right+v.left,S=v.top+v.bottom;m.ht(e,n,h,u);const A=m.measuredBounds,M=A.width,O=A.height,R=Math.max(M+b,0),V=Math.max(O+S,0),q=new W(-v.left,-v.top,R,V);i.ts.push(q),o.h(q),this.determineGraduatedMarks(i,m);const J=i.Fs;if(J===null)return;const re=a.length;for(let se=0;se<re;se++){const ne=a[se],xe=J[se];!ne.visible||ne===m||xe.length===0||(ne instanceof ke?this.measureGraduatedTicks(i,ne,xe,o):ne instanceof Se&&this.measureGraduatedLabels(i,ne,xe,o),ne.xi(!1))}}arrange(i,e,n){if(i.ts===null)return;const a=i.findMainElement(),o=i.Fs;if(o===null)return;const h=i.ts;let u=0,m=h[u];u++,a!==null&&a.Ut(m.x-n.x,m.y-n.y,m.width,m.height);const v=e.length;for(let b=0;b<v;b++){const S=e[b],A=o[b];!S.visible||S===a||A.length===0||(m=h[u],u++,S.Ut(m.x-n.x,m.y-n.y,m.width,m.height))}i.ts=null}measureGraduatedTicks(i,e,n,a){let o=e.alignmentFocus;o.isNoSpot()&&(o=K.TopCenter);const h=e.angle;e.Xt=0,e.ht(1/0,1/0,0,0),e.Xt=h;const u=e.measuredBounds,m=u.width,v=u.height,b=W.z(0,0,m,v),S=N.l();S.setRectSpot(b,o),W.i(b);const A=-S.x,M=-S.y,O=new W,R=n.length;for(let V=0;V<R;V++){const q=n[V],J=q.pt.x,re=q.pt.y,se=q.angle;for(let ne=0;ne<4;ne++){switch(ne){case 0:S.e(A,M);break;case 1:S.e(A+m,M);break;case 2:S.e(A,M+v);break;case 3:S.e(A+m,M+v);break}S.rotate(se+e.angle),S.offset(J,re),V===0&&ne===0?O.e(S.x,S.y,0,0):O.unionPoint(S),S.offset(-J,-re),S.rotate(-se-e.angle)}}N.i(S),i.ts!==null&&i.ts.push(O),a.re(O.x,O.y,O.width,O.height)}measureGraduatedLabels(i,e,n,a){i.vi===null&&(i.vi=new Se);const o=i.vi;this.fD(e,o);let h=e.alignmentFocus;h.isNoSpot()&&(h=K.TopCenter);const u=e.segmentOrientation,m=e.segmentOffset,v=new W;let b=0,S=0,A=0,M=0,O=0;const R=n.length;for(let V=0;V<R;V++){const q=n[V];b=q.pt.x,S=q.pt.y,A=q.angle,M=e.angle,O=e.angle,u!==0&&(u===21||u===25?O=A+e.angle:O=A,M=yt.computeAngle(u,O)),o.Xt=M,o.text=q.text||"",o.ht(1/0,1/0,0,0);const J=o.measuredBounds,re=o.naturalBounds,se=re.width,ne=re.height,xe=le.l();xe.Ue(),xe.Gs(-J.x,-J.y),xe.it(o.scale,o.scale),xe.ks(O,se/2,ne/2),(u===22||u===26)&&xe.ks(90,se/2,ne/2),(u===23||u===27)&&xe.ks(-90,se/2,ne/2),u===28&&(A>45&&A<135||A>225&&A<315)&&xe.ks(-A,se/2,ne/2);const ye=W.z(0,0,se,ne),we=N.l();we.setRectSpot(ye,h),xe.gt(we);const ze=-we.x,Ce=-we.y,Pe=N.l();Pe.h(m),isNaN(Pe.x)&&(Pe.x=se/2+3),isNaN(Pe.y)&&(Pe.y=-(ne/2+3)),Pe.rotate(A),b+=Pe.x+ze,S+=Pe.y+Ce;const Fe=new W(b,S,J.width,J.height),Re=new W(J.x,J.y,J.width,J.height),We=new W(re.x,re.y,re.width,re.height);q.labelAngle=M,q.lineCount=o.lineCount,q.lines=o.getMetrics(),q.actualBounds=Fe,q.measuredBounds=Re,q.naturalBounds=We,V===0?v.h(Fe):v.unionRect(Fe),N.i(Pe),N.i(we),W.i(ye),le.i(xe)}i.ts!==null&&i.ts.push(v),a.re(v.x,v.y,v.width,v.height)}determineGraduatedMarks(i,e){const n=e.geometry,a=e.strokeWidth,o=n.flattenedSegments,h=n.flattenedLengths,u=n.flattenedTotalLength,m=o.length;let v=0,b=0;const S=s.nt();for(let re=0;re<m;re++){const se=o[re],ne=[];v=0,b=0;const xe=se.length;for(let ye=0;ye<xe;ye+=2){const we=se[ye],ze=se[ye+1];if(ye===0){v=we,b=ze;continue}let Ce=Math.atan2(ze-b,we-v)*180/Math.PI;Ce<0&&(Ce+=360),ne.push(Ce),v=we,b=ze}S.push(ne)}const A=this.UI(i),M=i.D.r,O=M.length;let R=0,V=0,q=u;i.Fs=[];let J;for(let re=0;re<O;re++){const se=M[re];if(J=[],!se.visible||se===e){i.Fs.push(J);continue}const ne=Math.abs(se.interval),xe=i.graduatedTickUnit;if(xe*ne*u/i.graduatedRange<2&&se.graduatedSkip===null){i.Fs.push(J);continue}let ye=h[0][0],we=0,ze=0;V=u*se.graduatedStart-1e-4,q=u*se.graduatedEnd+1e-4;const Ce=xe*ne;let Pe=i.graduatedTickBase;if(Pe<i.graduatedMin){let Ke=(i.graduatedMin-Pe)/Ce;Ke=Ke%1===0?Ke:Math.floor(Ke+1),Pe+=Ke*Ce}else if(Pe>i.graduatedMin+Ce){const Ke=Math.floor((Pe-i.graduatedMin)/Ce);Pe-=Ke*Ce}const Fe=A[re],Re=Pe,We=i.graduatedMax*1e-6;for(let Ke=1;Pe<=i.graduatedMax+We;Ke++){if(this.VI(i,Pe-i.graduatedTickBase,Fe)&&(Pe>i.graduatedMax&&(Pe=i.graduatedMax),(se.graduatedSkip===null||se instanceof Se&&!se.graduatedSkip(Pe,se)||se instanceof ke&&!se.graduatedSkip(Pe,se))&&(R=(Pe-i.graduatedMin)*u/i.graduatedRange,R>u&&(R=u),V<=R&&R<=q))){let lt=S[we][ze],ct=h[we][ze];for(;we<h.length;){for(;R>ye&&ze<h[we].length-1;)ze++,lt=S[we][ze],ct=h[we][ze],ye+=ct;if(R<=ye)break;we++,ze=0,lt=S[we][ze],ct=h[we][ze],ye+=ct}const rt=o[we],bt=rt[ze*2],Mt=rt[ze*2+1],li=rt[ze*2+2],Vt=rt[ze*2+3],Gt=(R-(ye-ct))/ct,zt=new N(bt+(li-bt)*Gt+a/2-n.bounds.x,Mt+(Vt-Mt)*Gt+a/2-n.bounds.y);if(zt.scale(e.scale,e.scale),lt=this.BI(lt,Gt,rt,S[we],ze),se instanceof Se){let jt="";se.graduatedFunction!==null?(jt=se.graduatedFunction(Pe,se),jt=jt!=null?jt.toString():""):jt=(+Pe.toFixed(2)).toString(),jt!==""&&J.push({pt:zt,angle:lt,text:jt})}else J.push({pt:zt,angle:lt})}Pe=Re+Ke*Ce}i.Fs.push(J)}s.Z(S)}BI(i,e,n,a,o){if(e<.5005&&e>.4995)return i;let h=i;if(e<.5?o>0?h=a[o-1]:G.X(n[0],n[n.length-2])&&G.X(n[1],n[n.length-1])&&(h=a[a.length-1]):e>.5&&(o+1<a.length?h=a[o+1]:G.X(n[0],n[n.length-2])&&G.X(n[1],n[n.length-1])&&(h=a[0])),i!==h){let u=Math.abs(i-h);if(u>180&&(i<h?i+=360:h+=360,u=Math.abs(i-h)),e<5e-4||e>.9995)return(i+h)/2%360;if(u<10){const m=1-Math.abs(.5-e);return(i*m+h*(1-m))%360}}return i}UI(i){if(i.ds===null){const e=[],n=i.D.r,a=n.length;for(let o=0;o<a;o++){const h=n[o],u=[];if(e.push(u),!h.visible)continue;const m=h.interval;if(!(m<0))for(let v=0;v<a;v++){if(v===o)continue;const b=n[v];if(!b.visible||h.constructor!==b.constructor)continue;const S=b.interval;S>m&&u.push(S)}}i.ds=e}return i.ds}VI(i,e,n){const a=n.length;for(let o=0;o<a;o++){const h=n[o]*i.graduatedTickUnit,u=e%h,m=i.graduatedTickUnit*1e-6;if(u<m&&u>-m)return!1}return!0}Ge(i,e,n){const a=n.ph;n.ph=!0;const o=i.naturalBounds,h=o.width,u=o.height,m=e instanceof ns;e.save(),e.beginPath(),e.rect(-1,-1,h+1,u+1),e.clip(),e.endPath();const v=i.findMainElement();v.Ge(e,n);let b=i.getDocumentScale()*n.scale;b<=0&&(b=1);const S=v.actualBounds,A=i.D.r,M=i.Fs,O=A.length;for(let R=0;R<O;R++){const V=A[R],q=M[R],J=q.length;if(!(!V.visible||V===v||q.length===0)){if(V instanceof ke){if(i.graduatedTickUnit*V.interval*v.geometry.flattenedTotalLength/i.graduatedRange*b<2&&V.graduatedSkip===null)continue;const re=V.measuredBounds,se=V.strokeWidth*V.scale;let ne=V.alignmentFocus;ne.isNoSpot()&&(ne=K.TopCenter);for(let xe=0;xe<J;xe++){const ye=q[xe].pt,we=q[xe].angle;this.zI(V,ye,S,we,re,se,ne),V.Ge(e,n),m&&(i.svg.appendChild(V.svg),V.svg=null),V.il.Ue()}}else if(V instanceof Se){i.vi===null&&(i.vi=new Se);const re=i.vi;this.fD(V,re),re.jN=!0;for(let se=0;se<J;se++){const ne=q[se];if(ne.actualBounds&&ne.measuredBounds&&ne.naturalBounds){re.XI(ne);const xe=ne.actualBounds;re.Ut(xe.x,xe.y,xe.width,xe.height),this.GI(re,S,xe,ne.measuredBounds,ne.naturalBounds),re.nl=V.part,re.Zs=V.panel,re.Ge(e,n),re.Zs=null,re.nl=null,m&&(i.svg.appendChild(re.svg),re.svg=null)}}}}}n.ph=a,e.restore(),e.clearContextCache(!0)}zI(i,e,n,a,o,h,u){const m=i.il;m.Ue(),m.Gs(e.x+n.x,e.y+n.y),m.ks(a+i.angle,0,0),m.Gs(-o.width*u.x+u.offsetX+h/2,-o.height*u.y+u.offsetY+h/2),m.it(i.scale,i.scale),i.Sd(!1),i.wa.set(i.il),i.Th=i.scale,i.Uh(!1)}GI(i,e,n,a,o){const h=i.il;h.Ue(),h.Gs(n.x+e.x,n.y+e.y),h.Gs(-a.x,-a.y),i.Kp(h,o.x,o.y,o.width,o.height),i.Sd(!1),i.wa.set(i.il),i.Th=i.scale,i.Uh(!1)}fD(i,e){e.YI(i)}}Ve.Tn("Graduated",new H);var Z=(ee=>(ee[ee.Uniform=6]="Uniform",ee[ee.UniformToFill=7]="UniformToFill",ee))(Z||{});const ri=class extends oi{constructor(e,n){super();E(this,"W");E(this,"D");E(this,"Qt");E(this,"Dd");E(this,"Qn");E(this,"ll");E(this,"uo");E(this,"Zo");E(this,"qN");E(this,"O");E(this,"vd");E(this,"ot");E(this,"Pe");E(this,"te");E(this,"Fd");E(this,"Aa");E(this,"tn");if(e===void 0)this.W=ri.Position;else if(typeof e=="string"){const a=Ve.fs.get(e);a!==null?this.W=a:s.o("PanelLayout not loaded: "+e)}else e instanceof Ve?this.W=e:(this.W=ri.Position,e&&(n=e));this.n|=4194304|(this.W===ri.Grid?1048576:0),this.D=new w,this.Qt=he.im,this.Dd=K.Default,this.Qn=1,this.ll=null,this.uo="",this.Zo=new W(NaN,NaN,NaN,NaN),this.qN=null,this.O=null,this.vd=6,this.Pe=null,this.ot=null,this.te=null,this.Fd=NaN,this.Aa=null,this.tn=null,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.W=this.W,e.Qt=this.Qt.N(),e.Dd=this.Dd.N(),e.Qn=this.Qn,e.uo=this.uo,e.Zo.h(this.Zo),this.O!==null&&(e.O=this.O.copy(e)),e.vd=this.vd,this.ot!==null&&(e.ot=this.ot.copy()),this.Pe!==null&&(e.Pe=this.Pe.copy()),e.te=this.te,e.Fd=this.Fd,e.Aa=this.Aa}jo(e){super.jo(e),e.D=this.D;const n=e.D.r,a=n.length;for(let o=0;o<a;o++){const h=n[o];h.Zs=e}e.ll=null}copy(){const e=super.copy(),n=this.D.r,a=n.length;for(let o=0;o<a;o++){const h=n[o].copy();e.KI(h)}return e}toString(){return"Panel("+this.type.name+")#"+C.xs(this)}get type(){return this.W}set type(e){const n=this.W;n!==e&&(this.W=e,this.Tf=this.W===ri.Grid,this.c(),this.t("type",n,e))}get elements(){return this.D.iterator}get naturalBounds(){return this.Ke}get padding(){return this.Qt}set padding(e){typeof e=="number"?(e<0&&s.J(e,">= 0",ri,"padding"),e=new he(e)):(e.left<0&&s.J(e.left,">= 0",ri,"padding:value.left"),e.right<0&&s.J(e.right,">= 0",ri,"padding:value.right"),e.top<0&&s.J(e.top,">= 0",ri,"padding:value.top"),e.bottom<0&&s.J(e.bottom,">= 0",ri,"padding:value.bottom"));const n=this.Qt;n.equals(e)||(e=e.N(),this.Qt=e,this.c(),this.t("padding",n,e))}get defaultAlignment(){return this.Dd}set defaultAlignment(e){const n=this.Dd;n.equals(e)||(e=e.N(),this.Dd=e,this.c(),this.t("defaultAlignment",n,e))}get defaultStretch(){return this.Qn}set defaultStretch(e){const n=this.Qn;n!==e&&(this.Qn=e,this.c(),this.t("defaultStretch",n,e))}get defaultSeparatorPadding(){return this.O!==null?this.O.C0:he.im}set defaultSeparatorPadding(e){typeof e=="number"&&(e=new he(e));const n=this.defaultSeparatorPadding;n.equals(e)||(e=e.N(),this.O===null&&(this.O=new ue),this.O.C0=e,this.c(),this.t("defaultSeparatorPadding",n,e))}get defaultRowSeparatorStroke(){return this.O!==null?this.O.L0:null}set defaultRowSeparatorStroke(e){const n=this.defaultRowSeparatorStroke;n!==e&&(e===null||typeof e=="string"||e instanceof Le)&&(e instanceof Le&&e.k(),this.O===null&&(this.O=new ue),this.O.L0=e,this.C(),this.t("defaultRowSeparatorStroke",n,e))}get defaultRowSeparatorStrokeWidth(){return this.O!==null?this.O.A0:1}set defaultRowSeparatorStrokeWidth(e){const n=this.defaultRowSeparatorStrokeWidth;n!==e&&isFinite(e)&&e>=0&&(this.O===null&&(this.O=new ue),this.O.A0=e,this.c(),this.t("defaultRowSeparatorStrokeWidth",n,e))}get defaultRowSeparatorDashArray(){return this.O!==null?this.O.T0:null}set defaultRowSeparatorDashArray(e){const n=this.defaultRowSeparatorDashArray;if(n!==e){if(e!==null&&!Array.isArray(e)&&s.si(e,"Array",ri,"defaultRowSeparatorDashArray:value"),e!==null){const a=e.length;let o=0;for(let h=0;h<a;h++){const u=e[h];(typeof u!="number"||!(u>=0)||!isFinite(u))&&s.o("defaultRowSeparatorDashArray value "+u+" at index "+h+" must be a positive number or zero."),o+=u}if(o===0){if(n===null)return;e=null}}this.O===null&&(this.O=new ue),this.O.T0=e,this.C(),this.t("defaultRowSeparatorDashArray",n,e)}}get defaultColumnSeparatorStroke(){return this.O!==null?this.O.D0:null}set defaultColumnSeparatorStroke(e){const n=this.defaultColumnSeparatorStroke;n!==e&&(e===null||typeof e=="string"||e instanceof Le)&&(e instanceof Le&&e.k(),this.O===null&&(this.O=new ue),this.O.D0=e,this.C(),this.t("defaultColumnSeparatorStroke",n,e))}get defaultColumnSeparatorStrokeWidth(){return this.O!==null?this.O.v0:1}set defaultColumnSeparatorStrokeWidth(e){const n=this.defaultColumnSeparatorStrokeWidth;n!==e&&isFinite(e)&&e>=0&&(this.O===null&&(this.O=new ue),this.O.v0=e,this.c(),this.t("defaultColumnSeparatorStrokeWidth",n,e))}get defaultColumnSeparatorDashArray(){return this.O!==null?this.O.F0:null}set defaultColumnSeparatorDashArray(e){const n=this.defaultColumnSeparatorDashArray;if(n!==e){if(e!==null&&!Array.isArray(e)&&s.si(e,"Array",ri,"defaultColumnSeparatorDashArray:value"),e!==null){const a=e.length;let o=0;for(let h=0;h<a;h++){const u=e[h];(typeof u!="number"||!(u>=0)||!isFinite(u))&&s.o("defaultColumnSeparatorDashArray value "+u+" at index "+h+" must be a positive number or zero."),o+=u}if(o===0){if(n===null)return;e=null}}this.O===null&&(this.O=new ue),this.O.F0=e,this.C(),this.t("defaultColumnSeparatorDashArray",n,e)}}get La(){return this.O!==null?this.O.La:null}set La(e){this.O===null&&(this.O=new ue),this.O.La=e}get viewboxStretch(){return this.vd}set viewboxStretch(e){const n=this.vd;n!==e&&(this.vd=e,this.c(),this.t("viewboxStretch",n,e))}get gridCellSize(){return this.Pe!==null?this.Pe.Rd:X.OL}set gridCellSize(e){this.Pe===null&&(this.Pe=new ce);const n=this.Pe.Rd;if(!n.equals(e)){(!e.isReal()||e.width===0||e.height===0)&&s.o("Invalid Panel.gridCellSize: "+e),this.Pe.Rd=e.N();const a=this.diagram;a!==null&&this===a.grid&&a.ca(),this.C(),this.t("gridCellSize",n,e)}}get gridOrigin(){return this.Pe!==null?this.Pe.Od:N.gn}set gridOrigin(e){this.Pe===null&&(this.Pe=new ce);const n=this.Pe.Od;if(!n.equals(e)){e.isReal()||s.o("Invalid Panel.gridOrigin: "+e),this.Pe.Od=e.N();const a=this.diagram;a!==null&&this===a.grid&&a.ca(),this.C(),this.t("gridOrigin",n,e)}}get graduatedMin(){return this.ot!==null?this.ot.R0:0}set graduatedMin(e){const n=this.graduatedMin;if(n!==e&&(this.ot===null&&(this.ot=new te),this.ot.R0=e,this.c(),this.t("graduatedMin",n,e),this.mf())){const a=this.part;a!==null&&this.Eh(a,"graduatedRange")}}get graduatedMax(){return this.ot!==null?this.ot.O0:100}set graduatedMax(e){const n=this.graduatedMax;if(n!==e&&(this.ot===null&&(this.ot=new te),this.ot.O0=e,this.c(),this.t("graduatedMax",n,e),this.mf())){const a=this.part;a!==null&&this.Eh(a,"graduatedRange")}}get graduatedRange(){return this.graduatedMax-this.graduatedMin}get graduatedTickUnit(){return this.ot!==null?this.ot.I0:10}set graduatedTickUnit(e){const n=this.graduatedTickUnit;n!==e&&e>0&&(this.ot===null&&(this.ot=new te),this.ot.I0=e,this.c(),this.t("graduatedTickUnit",n,e))}get graduatedTickBase(){return this.ot!==null?this.ot.E0:0}set graduatedTickBase(e){const n=this.graduatedTickBase;n!==e&&(this.ot===null&&(this.ot=new te),this.ot.E0=e,this.c(),this.t("graduatedTickBase",n,e))}get Fs(){return this.ot!==null?this.ot.Fs:null}set Fs(e){this.ot!==null?this.ot.Fs=e:e!==null&&(this.ot=new te,this.ot.Fs=e)}get ts(){return this.ot!==null?this.ot.ts:null}set ts(e){this.ot!==null?this.ot.ts=e:e!==null&&(this.ot=new te,this.ot.ts=e)}get ds(){return this.ot!==null?this.ot.ds:null}set ds(e){this.ot!==null?this.ot.ds=e:e!==null&&(this.ot=new te,this.ot.ds=e)}get vi(){return this.ot!==null?this.ot.vi:null}set vi(e){this.ot!==null?this.ot.vi=e:e!==null&&(this.ot=new te,this.ot.vi=e)}Wp(e){super.Wp(e);const n=this.D.r,a=n.length;for(let o=0;o<a;o++)n[o].Wp(e)}Ma(e,n){if(this.W===ri.Grid){e.commitTransform(),this.W.Ge(this,e,n);return}if(this.W===ri.Graduated){e.commitTransform(),this.W.Ge(this,e,n);return}if(this.W===ri.Table)if(e.commitTransform(),e instanceof ns){const m=e.currentElement;e.currentElement=e.newGroup2("gojs-ts"),this.WN(e,n),e.endGroup(),e.currentElement=m}else this.WN(e,n);const a=this.isClipping&&this.W===ri.Spot;a&&e.save();const o=this.findMainElement(),h=this.D.r,u=h.length;for(let m=0;m<u;m++){const v=h[m];a&&v===o&&(e.clipInsteadOfFill=!0),v.Ge(e,n),a&&v===o&&(e.clipInsteadOfFill=!1)}a&&(e.restore(),e.clearContextCache(!0))}WN(e,n){e.lineCap="butt";const a=this.rowCount>0?this.Qi:null,o=this.columnCount>0?this._i:null;a!==null&&this.$1(e,n,!0,a,!0),o!==null&&this.$1(e,n,!1,o,!0),a!==null&&this.uD(e,!0,a),o!==null&&this.uD(e,!1,o),a!==null&&this.$1(e,n,!0,a,!1),o!==null&&this.$1(e,n,!1,o,!1)}uD(e,n,a){const o=a.length,h=this.actualBounds,u=this.naturalBounds;let m=!0;for(let v=0;v<o;v++){const b=a[v];if(b===void 0||b.actual===0)continue;if(m){m=!1;continue}if(n){if(b.position>u.height)continue}else if(b.position>u.width)continue;let S=b.separatorStrokeWidth;isNaN(S)&&(S=n?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let A=b.separatorStroke;if(A===null&&(A=n?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),S===0||A===null)continue;this.kn(e,A,!1,!1,u,h);let M=!1,O=b.separatorDashArray;O===null&&(O=n?this.defaultRowSeparatorDashArray:this.defaultColumnSeparatorDashArray),O!==null&&(M=!0,e.enableDash(O,0)),e.beginPath();const R=b.position+S;n?R>u.height&&(S-=R-u.height):R>u.width&&(S-=R-u.width);let V=b.position+S/2;e.lineWidth=S;const q=this.Qt;if(n){V+=q.top;const J=q.left,re=u.width-q.right;e.moveTo(J,V),e.lineTo(re,V)}else{V+=q.left;const J=q.top,re=u.height-q.bottom;e.moveTo(V,J),e.lineTo(V,re)}e.stroke(),e.endPath(),M&&e.disableDash()}}$1(e,n,a,o,h){const u=o.length,m=this.actualBounds,v=this.naturalBounds,b=this.dD(!0),S=this.dD(!1);for(let A=0;A<u;A++){const M=o[A];if(M===void 0||M.background===null||M.coversSeparators===h||M.actual===0)continue;const O=a?m.height:m.width;if(M.position>O)continue;let R=M.computeEffectiveSpacing(),V=M.separatorStrokeWidth;isNaN(V)&&(V=a?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let q=M.separatorStroke;q===null&&(q=a?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),(q===null||M.index===(a?b:S))&&(V=0),R-=V;const J=M.position+V;let re=R+M.actual;if(J+re>O&&(re=O-J),re<=0)continue;const se=this.Qt;this.kn(e,M.background,!0,!1,v,m),a?e.fillRect(se.left,J+se.top,m.width-(se.left+se.right),re):e.fillRect(J+se.left,se.top,re,m.height-(se.top+se.bottom))}}dD(e){const n=e?this.rowCount:this.columnCount;for(let a=0;a<n;a++){const o=e?this.Qi[a]:this._i[a];if(o!==void 0)return o.index}return 0}xf(){const e=this.D.r,n=e.length;for(let a=0;a<n;a++)e[a].xf();this.$i(!0)}wf(e,n,a){const o=this.svg;if(o===null)return!1;if(this.type===ri.Table){const m=o.getElementsByClassName("gojs-ts"),v=m.length!==0?m[0]:null;v!==null&&(v.innerHTML=""),e.currentElement=v,this.WN(e,n),e.currentElement=null}else{if(this.W===ri.Grid||this.W===ri.Graduated)return o.innerHTML="",o.remove(),!1;if(this.W===ri.Spot&&this.isClipping)return o.innerHTML="",o.remove(),this.xa=null,this.xf(),!1}if(!super.wf(e,n,a))return!1;const h=this.D.r,u=h.length;for(let m=0;m<u;m++)h[m].Ge(e,n);return!0}Pd(e){return!0}$p(e,n,a,o){if(!this.isClipping){if(this._s()&&e.partClipRect!==null){const h=e.partClipRect,u=this.D.r;let m=0,v=0;for(let b=0;b<u.length;b++){if(!u[b].isVisibleObject())continue;const S=u[b].actualBounds;m=b===0?S.x:Math.min(S.x,m),v=b===0?S.y:Math.min(S.y,v)}o.setAttributeNS(null,"clip-path",`path('M ${h.x-a.x-m},${h.y-a.y-v} l ${h.width} 0 l 0 ${h.height} l -${h.width} 0 z')`);return}super.$p(e,n,a,o)}}pf(e,n,a,o,h){const u=this.Nn(),m=this.v,v=1/(m.m11*m.m22-m.m12*m.m21);let b=m.m22*v,S=-m.m12*v,A=-m.m21*v,M=m.m11*v,O=v*(m.m21*m.dy-m.m22*m.dx),R=v*(m.m12*m.dx-m.m11*m.dy);if(this.background!==null){const V=e*b+n*A+O,q=e*S+n*M+R,J=a*b+o*A+O,re=a*S+o*M+R;h.e(0,0);const se=this.naturalBounds,ne=G.Cl(0,0,se.width,se.height,V,q,J,re,h);return h.v(m),ne}else{u||(b=1,S=0,A=0,M=1,O=0,R=0);const V=e*b+n*A+O,q=e*S+n*M+R,J=a*b+o*A+O,re=a*S+o*M+R;h.e(J,re);let se=(J-V)**2+(re-q)**2,ne=!1;const xe=this.D.r,ye=xe.length,we=N.l();let ze=null,Ce=1/0,Pe=null;const Fe=this.isClipping&&this.W===ri.Spot;Fe&&(Pe=N.l(),ze=this.findMainElement(),ne=ze.pf(V,q,J,re,Pe),ne&&(Ce=(V-Pe.x)**2+(q-Pe.y)**2));for(let Re=0;Re<ye;Re++){const We=xe[Re];if(!We.visible||We===ze||!We.pf(V,q,J,re,we))continue;ne=!0;const Ke=(V-we.x)**2+(q-we.y)**2;Ke<se&&(se=Ke,h.set(we))}return Fe&&(Ce>se&&h.set(Pe),N.i(Pe)),N.i(we),u&&h.v(m),ne}}Wc(){const e=this.D.r,n=e.length;for(let a=0;a<n;a++)e[a].Wc();super.Wc()}c(e){if(this.Go())return;super.c(e);let n=null;(this.W===ri.Auto||this.W===ri.Link)&&(n=this.findMainElement());const a=this.D.r,o=a.length;for(let h=0;h<o;h++){const u=a[h];if((u===n||u.isPanelMain)&&u.c(!0),u.desiredSize.isReal()||!u.visible)continue;const m=u.Qs(!1);!(u instanceof Or)&&!(u instanceof ri)&&!(u instanceof Se)&&m===0||u.c(!0)}}kf(){if(this.Go())return;this.xi(!0),this.ao(!0);const e=this.D.r,n=e.length;for(let a=0;a<n;a++)e[a].kf()}yf(){if(this.B1()===!1){this.Sd(!0),this.Uh(!0);const e=this.D.r,n=e.length;for(let a=0;a<n;a++)e[a].AN()}}AN(){this.Uh(!0);const e=this.D.r,n=e.length;for(let a=0;a<n;a++)e[a].AN()}bd(e,n,a,o){const h=this.Zo;h.e(0,0,0,0);const u=this.desiredSize,m=this.minSize;a===void 0&&(a=m.width,o=m.height),a=Math.max(a,m.width),o=Math.max(o,m.height);const v=this.maxSize;isNaN(u.width)||(e=Math.min(u.width,v.width)),isNaN(u.height)||(n=Math.min(u.height,v.height)),e=Math.max(a,e),n=Math.max(o,n);const b=this.Qt;e=Math.max(e-b.left-b.right,0),n=Math.max(n-b.top-b.bottom,0);const S=this.D.r;this.W.measure(this,e,n,S,h,a,o);let A=h.width+b.left+b.right,M=h.height+b.top+b.bottom;isFinite(u.width)&&(A=u.width),isFinite(u.height)&&(M=u.height),A=Math.min(v.width,A),M=Math.min(v.height,M),A=Math.max(m.width,A),M=Math.max(m.height,M),A=Math.max(a,A),M=Math.max(o,M),h.jn(A,M),this.naturalBounds.jn(A,M),this.lo(0,0,A,M)}findMainElement(){if(this.ll===null){const e=this.D.r,n=e.length;if(n===0)return null;for(let a=0;a<n;a++){const o=e[a];if(o.isPanelMain===!0)return this.ll=o,o}this.ll=e[0]}return this.ll}$o(){return this.part!==null?this.part.locationObject:null}get panelLayoutState(){return this.qN}set panelLayoutState(e){this.qN=e}Pa(e,n,a,o){const h=this.D.r;if(this.actualBounds.e(e,n,a,o),!this.desiredSize.isReal()){let u=this.Qs(!0);const m=this.measuredBounds,v=m.width,b=m.height,S=this.sl,A=S.left+S.right,M=S.top+S.bottom;switch(v===a&&b===o&&(u=0),u){case 0:(v>a||b>o)&&(this.c(),this.ht(v>a?a:v,b>o?o:b,0,0));break;case 2:this.c(!0),this.ht(a+A,o+M,0,0);break;case 5:this.c(!0),this.ht(a+A,b+M,0,0);break;case 4:this.c(!0),this.ht(v+A,o+M,0,0);break}}this.W.arrange(this,h,this.Zo)}ka(e){const n=this.naturalBounds,a=this.$o();if(W.contains(0,0,n.width,n.height,e.x,e.y)){const o=this.D.r,h=o.length,u=N.z(0,0);for(let m=h;m--;){const v=o[m];if(!(!v.visible&&v!==a)&&(u.set(e).Ki(v.v),v.containsPoint(u)))return N.i(u),!0}return N.i(u),this.Lt!==null}return!1}Yp(e){if(this.oo===e)return this;const n=this.D.r,a=n.length;for(let o=0;o<a;o++){const h=n[o].Yp(e);if(h!==null)return h}return null}walkVisualTreeFrom(e,n){if(n(this,e),e instanceof ri){const a=e.D.r,o=a.length;for(let h=0;h<o;h++)this.walkVisualTreeFrom(a[h],n)}}Sn(e){this.gD(this,e)}gD(e,n){n(e);const a=e.D.r,o=a.length;for(let h=0;h<o;h++){const u=a[h];u instanceof ri&&this.gD(u,n)}}HI(e){this.mD(this,e)}mD(e,n){if(n(e),e instanceof ri){const a=e.D.r,o=a.length;for(let h=0;h<o;h++)this.mD(a[h],n)}}findInVisualTree(e){return this.pD(this,e)}pD(e,n){if(n(e))return e;if(e instanceof ri){const a=e.D.r,o=a.length;for(let h=0;h<o;h++){const u=this.pD(a[h],n);if(u!==null)return u}}return null}findObject(e){if(this.name===e)return this;const n=this.D.r;let a=n.length;this.jI()&&(a=this.U0());for(let o=0;o<a;o++){const h=n[o];if(h instanceof ri){const u=h.findObject(e);if(u!==null)return u}if(h.name===e)return h}return null}yD(){const e=this.D.r,n=e.length;let a=0;for(let o=0;o<n;o++){const h=e[o];h instanceof ri?a=Math.max(a,h.yD()):h instanceof ke&&(a=Math.max(a,h.qI()))}return a}Nn(){return!(this.type===ri.TableRow||this.type===ri.TableColumn)}ol(){return this.type===ri.TableRow||this.type===ri.TableColumn}BA(e,n,a){if(this.pickable===!1||(n===void 0&&(n=null),a===void 0&&(a=null),this.as()))return null;const o=this.naturalBounds,h=1/this.getDocumentScale(),u=this.Nn(),m=u?e:N.z(e.x,e.y).Ki(this.v),v=this.diagram;let b=10,S=5;if(v!==null&&(b=v.getInputOption("extraTouchArea"),S=b/2),W.contains(-(S*h),-(S*h),o.width+b*h,o.height+b*h,m.x,m.y)){if(!this.Tf){const M=this.D.r,O=M.length,R=N.l(),V=this.isClipping&&this.W===ri.Spot,q=V?this.findMainElement():null;if(V&&q&&(q.Nn()?R.set(e).Ki(q.v):R.set(e),!q.containsPoint(R)))return N.i(R),u||N.i(m),null;const J=this.$o();for(let re=O;re--;){const se=M[re];if(!se.visible&&se!==J||(se.Nn()?R.set(e).Ki(se.v):R.set(e),V&&se===q))continue;let ne=null;if(se instanceof ri?ne=se.BA(R,n,a):se.pickable===!0&&se.containsPoint(R)&&(ne=se),ne!==null&&(n!==null&&(ne=n(ne)),ne!==null&&(a===null||a(ne))))return N.i(R),u||N.i(m),ne}N.i(R)}if(this.background===null)return u||N.i(m),null;const A=W.contains(0,0,o.width,o.height,m.x,m.y)?this:null;return u||N.i(m),A}return u||N.i(m),null}zA(e,n,a,o){if(this.pickable===!1)return!1;n===void 0&&(n=null),a===void 0&&(a=null);const h=this.naturalBounds,u=this.Nn(),m=u?e:N.z(e.x,e.y).Ki(this.v),v=this.ol(),b=W.contains(0,0,h.width,h.height,m.x,m.y);if(v||b){if(!this.Tf){const S=this.D.r,A=S.length,M=N.l(),O=this.$o();for(let R=A;R--;){const V=S[R];if(!V.visible&&V!==O)continue;V.Nn()?M.set(e).Ki(V.v):M.set(e);let q=V;const J=V instanceof ri?V:null;if(J!==null?J.zA(M,n,a,o):q.containsPoint(M)){if(q.pickable===!1)continue;n!==null&&(q=n(q)),q!==null&&(a===null||a(q))&&o.add(q)}}N.i(M)}return u||N.i(m),b&&this.background!==null}return u||N.i(m),!1}Zm(e,n,a,o,h,u){if(this.pickable===!1)return!1;n===void 0&&(n=null),a===void 0&&(a=null);let m=u;if(m===void 0&&(m=le.l(),m.Ue()),m.kc(this.v),this.containedInRect(e,m))return this.JN(n,a,h),u===void 0&&le.i(m),!0;if(this.intersectsRect(e,m)){if(!this.Tf){const v=this.$o(),b=this.D.r,S=b.length;for(let A=S;A--;){const M=b[A];if(!M.visible&&M!==v)continue;const O=M.actualBounds,R=this.naturalBounds;if(O.x>R.width||O.y>R.height||O.x+O.width<0||O.y+O.height<0)continue;let V=M;const q=M instanceof ri?M:null,J=le.l();J.set(m),(q!==null?q.Zm(e,n,a,o,h,J):V.JT(e,o,J))&&(n!==null&&(V=n(V)),V!==null&&(a===null||a(V))&&h.add(V)),le.i(J)}}return u===void 0&&le.i(m),o}return u===void 0&&le.i(m),!1}JN(e,n,a){const o=this.D.r,h=o.length;for(let u=h;u--;){const m=o[u];if(!m.visible)continue;const v=m.actualBounds,b=this.naturalBounds;if(v.x>b.width||v.y>b.height||v.x+v.width<0||v.y+v.height<0)continue;m instanceof ri&&m.JN(e,n,a);let S=m;e!==null&&(S=e(S)),S!==null&&(n===null||n(S))&&a.add(S)}}XA(e,n,a,o,h,u){if(this.pickable===!1)return!1;a===void 0&&(a=null),o===void 0&&(o=null);const m=this.naturalBounds,v=this.Nn(),b=v?e:N.z(e.x,e.y).Ki(this.v),S=v?n:N.z(n.x,n.y).Ki(this.v),A=b.distanceSquaredPoint(S),M=b.x>0&&b.x<m.width&&b.y>0&&b.y<m.height||N.distanceLineSegmentSquared(b.x,b.y,0,0,0,m.height)<=A||N.distanceLineSegmentSquared(b.x,b.y,0,m.height,m.width,m.height)<=A||N.distanceLineSegmentSquared(b.x,b.y,m.width,m.height,m.width,0)<=A||N.distanceLineSegmentSquared(b.x,b.y,m.width,0,0,0)<=A,O=b.distanceSquared(0,0)<=A&&b.distanceSquared(0,m.height)<=A&&b.distanceSquared(m.width,0)<=A&&b.distanceSquared(m.width,m.height)<=A;if(v||(N.i(b),N.i(S)),M){if(!this.Tf){const R=N.l(),V=N.l(),q=this.$o(),J=this.D.r,re=J.length;for(let se=re;se--;){const ne=J[se];if(!ne.visible&&ne!==q)continue;const xe=ne.actualBounds,ye=this.naturalBounds;if(v&&(xe.x>ye.width||xe.y>ye.height||xe.x+xe.width<0||xe.y+xe.height<0))continue;if(ne.Nn()){const Ce=ne.v;R.set(e).Ki(Ce),V.set(n).Ki(Ce)}else R.set(e),V.set(n);let we=ne;const ze=ne instanceof ri?ne:null;(ze!==null?ze.XA(R,V,a,o,h,u):we.$T(R,V,h))&&(a!==null&&(we=a(we)),we!==null&&(o===null||o(we))&&u.add(we))}N.i(R),N.i(V)}return h?M:O}return!1}GN(e){let n=null;if(e instanceof ke){n=e.spot1,n===K.Default&&(n=null);const a=e.geometry;a!==null&&n===null&&(n=a.spot1)}return n===null&&(n=K.TopLeft),n}YN(e){let n=null;if(e instanceof ke){n=e.spot2,n===K.Default&&(n=null);const a=e.geometry;a!==null&&n===null&&(n=a.spot2)}return n===null&&(n=K.BottomRight),n}add(...e){for(let n=0;n<e.length;n++)this.insertAt(this.D.count,e[n]);return this}elt(e){return this.D.elt(e)}insertAt(e,n){n instanceof Et&&s.o("Cannot add a Part to a Panel: "+n+"; use a Panel instead"),(this===n||this.isContainedBy(n))&&(this===n&&s.o("Cannot make a Panel contain itself: "+this.toString()),s.o("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+n.toString()));const a=n.panel;if(a!==null&&a!==this&&s.o("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+n.toString()+", already contained by "+a.toString()+", cannot be shared by this Panel: "+this.toString()),this.W===ri.Grid&&!(n instanceof ke)&&s.o("Can only add Shapes to a Grid Panel, not: "+n),this.W===ri.Graduated&&!(n instanceof ke||n instanceof Se)&&s.o("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+n),n.Vh(this),n.nl=null,this.itemArray!==null){const m=n.data;s.$(m)&&(this.tn===null&&(this.tn=new Q),this.tn.set(m,n))}const o=this.D;let h=-1;if(a===this){let m=-1;const v=this.D.r,b=v.length;for(let S=0;S<b;S++)if(v[S]===n){m=S;break}if(m!==-1){if(m===e||m+1>=o.count&&e>=o.count)return;o.removeAt(m),h=m}else s.o("element "+n.toString()+" has panel "+a.toString()+" but is not contained by it.")}(e<0||e>o.count)&&(e=o.count),o.insertAt(e,n),(e===0||n.isPanelMain)&&(this.ll=null),this.Go()||this.c(),n.c(!1),n.portId!==null?this.Ln=!0:n instanceof ri&&n.Ln===!0&&(this.Ln=!0),this.ds=null,this.isEnabledObject()||this.Z1(n,!1);const u=this.part;if(u!==null){u.s0(),u.Df(),this.Ln&&u instanceof Ct&&(u.Ln=!0),u.Ln&&u instanceof Ct&&(u.ci=null);const m=this.diagram;if(m!==null&&m.undoManager.isUndoingRedoing)return;h!==-1&&u.raiseChangedEvent(4,"elements",this,n,null,h,null),u.raiseChangedEvent(3,"elements",this,null,n,null,e)}}get Ln(){return(this.n&8388608)!==0}set Ln(e){(this.n&8388608)!==0!==e&&(this.n=this.n^8388608)}MN(){return(this.n&16777216)!==0}$N(e){e?this.n|=16777216:this.n&=-16777217}KI(e){e.Vh(this),e.nl=null;const n=this.D,a=n.count;n.insertAt(a,e);const o=this.part;if(o!==null){o.s0(),e.portId!==null&&o instanceof Ct&&(o.Ln=!0);const h=this.diagram;if(h!==null&&h.undoManager.isUndoingRedoing)return;o.raiseChangedEvent(3,"elements",this,null,e,null,a)}}cI(e){const n=this.D.r,a=n.length;let o=-1;for(let h=0;h<a;h++)if(n[h]===e){o=h;break}return o}remove(e){const n=this.D.r,a=n.length;let o=-1;for(let h=0;h<a;h++)if(n[h]===e){o=h;break}o!==-1&&this.ri(o,!0)}removeAt(e){e>=0&&this.ri(e,!0)}ri(e,n){const a=this.D,o=a.elt(e);if(o.nl=null,o.Vh(null),this.tn!==null){const u=o.data;s.$(u)&&this.tn.delete(u)}a.removeAt(e),this.xi(!1),this.c(),this.ll===o&&(this.ll=null),this.ds=null;const h=this.part;if(h!==null){h.s0(),h.Df(),h.invalidateAdornments(),h instanceof Ct&&(o instanceof ri?o.walkVisualTreeFrom(o,(m,v)=>h.FN(v,n)):h.FN(o,n));const u=this.diagram;if(u!==null&&u.undoManager.isUndoingRedoing)return;h.raiseChangedEvent(4,"elements",this,o,null,e,null)}}get Qi(){return this.O===null&&(this.O=new ue),this.O.Qi}get rowCount(){return this.O===null?0:this.Qi.length}getRowDefinition(e){e<0&&s.J(e,">= 0",ri,"getRowDefinition:idx"),e=Math.round(e);const n=this.Qi;if(n[e]===void 0){const a=new be;a.Vh(this),a.isRow=!0,a.index=e,n[e]=a,this.raiseChangedEvent(3,"rowdefs",this,null,a,null,e)}return n[e]}removeRowDefinition(e){if(e<0&&s.J(e,">= 0",ri,"removeRowDefinition:idx"),this.rowCount===0)return;e=Math.round(e);const n=this.Qi,a=n[e];if(a){n[e]=void 0;let o=n.length-1;for(;o>=0&&n[o--]===void 0;)n.length--;this.raiseChangedEvent(4,"rowdefs",this,a,null,e,null),this.c()}}xT(e,n){const a=this.Qi;if(!(e<0)){if(a[e]=n instanceof be?n:void 0,!n){let o=a.length-1;for(;o>=0&&a[o--]===void 0;)a.length--}this.c()}}get _i(){return this.O===null&&(this.O=new ue),this.O._i}get columnCount(){return this.O===null?0:this._i.length}getColumnDefinition(e){e<0&&s.J(e,">= 0",ri,"getColumnDefinition:idx"),e=Math.round(e);const n=this._i;if(n[e]===void 0){const a=new be;a.Vh(this),a.isRow=!1,a.index=e,n[e]=a,this.raiseChangedEvent(3,"coldefs",this,null,a,null,e)}return n[e]}removeColumnDefinition(e){if(e<0&&s.J(e,">= 0",ri,"removeColumnDefinition:idx"),this.columnCount===0)return;e=Math.round(e);const n=this._i,a=n[e];if(a){n[e]=void 0;let o=n.length-1;for(;o>=0&&n[o--]===void 0;)n.length--;this.raiseChangedEvent(4,"coldefs",this,a,null,e,null),this.c()}}bT(e,n){const a=this._i;if(!(e<0)){if(a[e]=n instanceof be?n:void 0,!n){let o=a.length-1;for(;o>=0&&a[o--]===void 0;)a.length--}this.c()}}addRowColumnDefinition(e){let n=null;return e.isRow?n=this.getRowDefinition(e.index):e.isRow||(n=this.getColumnDefinition(e.index)),n&&n.X1(e),this}addRowDefinition(e,n){const a=this.getRowDefinition(e);return a&&a.X1(new be(n)),this}addColumnDefinition(e,n){const a=this.getColumnDefinition(e);return a&&a.X1(new be(n)),this}get rowSizing(){return this.O!==null?this.O.V0:3}set rowSizing(e){const n=this.rowSizing;n!==e&&(this.O===null&&(this.O=new ue),this.O.V0=e,this.c(),this.t("rowSizing",n,e))}get columnSizing(){return this.O!==null?this.O.B0:3}set columnSizing(e){const n=this.columnSizing;n!==e&&(this.O===null&&(this.O=new ue),this.O.B0=e,this.c(),this.t("columnSizing",n,e))}get topIndex(){return this.O!==null?this.O.z0:0}set topIndex(e){const n=this.topIndex;n!==e&&((!isFinite(e)||e<0)&&s.o("Panel.topIndex must be greater than zero and a real number, not: "+e),this.O===null&&(this.O=new ue),this.O.z0=e,this.c(),this.t("topIndex",n,e))}get leftIndex(){return this.O!==null?this.O.X0:0}set leftIndex(e){const n=this.leftIndex;n!==e&&((!isFinite(e)||e<0)&&s.o("Panel.leftIndex must be greater than zero and a real number, not: "+e),this.O===null&&(this.O=new ue),this.O.X0=e,this.c(),this.t("leftIndex",n,e))}findRowForLocalY(e){if(e<0||this.type!==ri.Table||this.rowCount===0)return-1;let n=0;const a=this.Qi,o=a.length;let h=this.topIndex;for(;h<o;h++){const u=a[h];if(u!==void 0&&(n+=u.total,e<n))return h}return h}findColumnForLocalX(e){if(e<0||this.type!==ri.Table||this.columnCount===0)return-1;let n=0;const a=this._i,o=a.length;let h=this.leftIndex;for(;h<o;h++){const u=a[h];if(u!==void 0&&(n+=u.total,e<n))return h}return h}graduatedPointForValue(e,n){if(n===void 0&&(n=new N(NaN,NaN)),this.type!==ri.Graduated)return n.e(NaN,NaN),n;e=Math.min(Math.max(e,this.graduatedMin),this.graduatedMax);const a=this.findMainElement();return a.geometry.getPointAlongPath((e-this.graduatedMin)/this.graduatedRange,n),a.v.gt(n)}graduatedValueForPoint(e){if(this.type!==ri.Graduated)return NaN;const n=this.findMainElement();return n.v.Ci(e),n.geometry.getFractionForPoint(e)*this.graduatedRange+this.graduatedMin}get data(){return this.te}set data(e){const n=this.te;if(n!==e){const a=this instanceof Et&&!(this instanceof Zt);a&&s.s(e,"object",ri,"data"),this.It(),this.te=e;const o=this.diagram;if(o!==null)if(a){o.partManager.WI(this,n,e);let h=this.adornments;for(;h.next();){const u=h.value,m=u.adornedObject;if(m!==null){const v=m.findBindingPanel();v!==null&&(u.data=v.data)}}}else{const h=this.panel;h!==null&&h.tn!==null&&(n!==null&&h.tn.delete(n),e!==null&&h.tn.set(e,this))}if(this.t("data",n,e),o!==null&&o.undoManager.isUndoingRedoing)return;e!==null&&this.updateTargetBindings()}}get itemIndex(){return this.Fd}set itemIndex(e){const n=this.Fd;n!==e&&(this.Fd=e,this.t("itemIndex",n,e))}get vs(){return this.w!==null?this.w.vs:null}set vs(e){this.ve!==e&&(this.w===null&&(this.w=new to),this.w.vs=e)}RN(){return this.vs!==null}nD(){const e=this.vs;return e!==null&&e.f}freezeBindings(){return this.It()}It(){let e=this.vs;if(e===null)this.data!==null&&s.o("Template cannot have .data be non-null: "+this),this.vs=e=new w;else if(e.f)return this;const n=new w;this.$N(!1),this.walkVisualTreeFrom(this,(h,u)=>{u.ba();const m=u.ve;if(m!==null){u.TN(!1);const v=m.iterator;for(;v.next();){const b=v.value;b.mode===2&&u.TN(!0);const S=b.sourceName;if(b.isToObject){S==="/"&&h.$N(!0);const A=b.WT(h,u);A!==null&&(n.add(A),A.ro===null&&(A.ro=new w),A.ro.add(b))}e.add(b)}}if(u instanceof ri&&u.type===ri.Table){if(u.rowCount>0){const v=u.Qi,b=v.length;for(let S=0;S<b;S++){const A=v[S];if(A!==void 0&&A.Rs!==null){const M=A.Rs.iterator;for(;M.next();){const O=M.value;O.Ti=A,O.Id=2,O.vf=A.index,e.add(O)}}}}if(u.columnCount>0){const v=u._i,b=v.length;for(let S=0;S<b;S++){const A=v[S];if(A!==void 0&&A.Rs!==null){const M=A.Rs.iterator;for(;M.next();){const O=M.value;O.Ti=A,O.Id=1,O.vf=A.index,e.add(O)}}}}}});const a=n.iterator;for(;a.next();){const h=a.value;if(h.ro!==null){h.TN(!0);const u=h.ro.iterator;for(;u.next();){const m=u.value;h.ve===null&&(h.ve=new w),h.ve.add(m)}}h.ro=null}let o=e.iterator;for(;o.next();){const h=o.value;let u=h.Ti;if(u!==null){h.Ti=null;const m=h.targetProperty,v=m.indexOf(".");if(v>0&&u instanceof ri){const b=m.substring(0,v),S=m.substring(v+1),A=u.findObject(b);A!==null?(u=A,h.targetProperty=S):(s.ne('Warning: unable to find GraphObject named "'+b+'" for Binding: '+h.toString()),u=null)}if(u instanceof be){const b=C.xs(u.panel);h.targetId=b===void 0?-1:b,u.panel.oo=h.targetId}else if(u instanceof oi){const b=C.xs(u);h.targetId=b===void 0?-1:b,u.oo=h.targetId}else s.o("Unknown type of binding target: "+u);h.check(u)}}return e.k(),this instanceof Et&&this.Di()&&this.ensureBounds(),this}copyTemplate(e){e===void 0&&(e=!1);const n=this.copy();return n.HI(a=>{a instanceof ri&&(a.vs=null,a.te=null);const o=a.ve;o!==null&&(a.ve=null,o.each(u=>a.bind(u.copy())));const h=a.Ds;h!==null&&(a.Ds=null,h.each(u=>a.trigger(u.value.copy())))}),e&&n.It(),n}updateTargetBindings(e){var h;const n=this.vs;if(n===null)return;e===void 0&&(e="");const a=(h=this.diagram)==null?void 0:h.model,o=n.iterator;for(;o.next();){const u=o.value,m=this.ZN(u,e);if(m===null)continue;const{data:v,elt:b}=m;u.isToTheme&&this.diagram===null||b!==void 0&&u.updateTarget(b,v,void 0,a)}}JI(e){var h;if(e===""){this.updateTargetBindings(e);return}const n=this.vs;if(n===null)return;const a=(h=this.diagram)==null?void 0:h.model,o=n.iterator;for(;o.next();){const u=o.value;if(u.isToData&&u.sourceProperty!=="")continue;const m=this.ZN(u,"");if(m===null)continue;const{data:v,elt:b}=m;b!==void 0&&u.updateTarget(b,v,void 0,a)}}Yo(){if(this.diagram!==null)if(this.RN()){const e=this.diagram.model,n=this.vs.iterator;for(;n.next();){const a=n.value;if(!a.isToTheme)continue;const o=this.ZN(a);if(o===null)continue;const{data:h,elt:u}=o;u!==void 0&&a.updateTarget(u,h,void 0,e)}}else{const e=this.D.r,n=e.length;for(let a=0;a<n;a++)e[a].Yo()}}ZN(e,n=""){const a=e.sourceProperty;if(n!==""&&a!==""&&a!==n)return null;const o=e.targetProperty;if(e.converter===null&&o==="")return null;let h=this.data;const u=e.sourceName;if(e.isToObject){if(h=this.qT(u),h===null)return null}else if(e.isToModel){const S=this.diagram;if(S===null)return null;h=S.model.modelData}let m=this;const v=e.targetId;if(v!==-1){if(m=this.Yp(v),m===null)return null}else e.Ti!==null&&(m=e.Ti);u==="/"?h=m.part:u==="."?h=m:u===".."&&(h=m.panel);const b=e.Id;if(b!==0){if(!(m instanceof ri))return null;b===1?m=m.getColumnDefinition(e.vf):b===2&&(m=m.getRowDefinition(e.vf))}return{data:h,elt:m}}get itemArray(){return this.Aa}set itemArray(e){const n=this.Aa;if(n!==e||e!==null&&this.$I(e)){const a=this.diagram;if(n!==e&&(a!==null&&n!==null&&a.partManager.C2(this,a),this.Aa=e,a!==null&&e!==null&&a.partManager.N2(this,a)),this.t("itemArray",n,e),a!==null&&a.undoManager.isUndoingRedoing)return;this.wD(n,e)}}findItemPanelForData(e){return e==null||this.tn===null?null:(s.xc(e,ri,"findItemPanelForData"),this.tn.get(e))}$I(e){const n=this.D.r,a=n.length,o=e.length;let h=0,u=null;for(;h<a&&(u=n[h],!(u instanceof ri)||u.data===null);)h++,u=n[h];if(a-h!==o)return!0;if(u===null)return o>0;let m=0;for(;h<a&&m<o;){if(u=n[h],!(u instanceof ri)||u.data!==e[m])return!0;h++,m++}return!1}U0(){if(this.type===ri.Spot||this.type===ri.Auto)return Math.min(this.D.length,1);if(this.type===ri.Link){const e=this.D,n=e.length;let a=0;for(;a<n;a++){const o=e.elt(a);if(!(o instanceof ke)||!o.isPanelMain)return a}return a}if(this.type===ri.Table&&this.D.length>0){const e=this.D.elt(0);if(e.isPanelMain&&e instanceof ri&&e.ol())return 1}return 0}rebuildItemElements(){const e=this.U0();for(;this.D.length>e;)this.ri(this.D.length-1,!1);this.wD(null,this.itemArray)}wD(e,n){const a=this.U0(),o=n;if(o===null||o.length===0){for(;this.D.length>a;)this.ri(this.D.length-1,!1);return}if(this.D.length<=a){const h=o.length;for(let u=0;u<h;u++)this.Q1(o[u],u,!0)}else{let h=a;for(let m=0;m<o.length;m++,h++){const v=o[m],b=h<this.D.length?this.D.elt(h):null;if(b instanceof ri){if(b.data!==v){const S=this.QN(b.data,m),A=this.QN(v,m);let M=A!==S;if(!M){const O=this._N(b.data,m,S);M=this._N(v,m,A)!==O}M?(this.ri(h,!1),this.Q1(v,m,!1)):b.data=v}}else this.Q1(v,m,!1)}for(;h<this.D.length;)this.ri(h,!1);this.ll=null,this.tC(a,0),this.Go()||this.c(),this.ds=null,this.isEnabledObject()||this.Z1(this,!1);const u=this.part;u!==null&&(u.s0(),u.Df(),this.Ln&&u instanceof Ct&&(u.Ln=!0),u.Ln&&u instanceof Ct&&(u.ci=null))}}Q1(e,n,a){if(e==null||n<0)return;const o=this.QN(e,n),h=this._N(e,n,o);if(h!==null){h.It();const u=h.copy();if(u.MN()){const v=this.findBindingPanel();v!==null&&v.$N(!0)}s.$(e)&&(this.tn===null&&(this.tn=new Q),this.tn.set(e,u));const m=n+this.U0();this.insertAt(m,u),a&&(u.te=e,this.tC(m,n),u.te=null),u.data=e}}ZI(e){if(e<0)return;const n=e+this.U0();this.ri(n,!0),this.tC(n,e)}tC(e,n){const a=this.D;let o=e,h=n;for(;o<a.length;){const u=a.elt(o);u instanceof ri&&u.QI(o,h),o++,h++}}QI(e,n){this.type===ri.TableRow?this.row=e:this.type===ri.TableColumn&&(this.column=e),this.itemIndex=n}jI(){return this.Aa!==null||this.itemTemplateMap!==null}get itemTemplate(){const e=this.itemTemplateMap;if(e!==null){const n=e.get("");if(n)return n}return ri.xD()}set itemTemplate(e){const n=this.itemTemplate;if(n!==e){(e instanceof Et||e.isPanelMain)&&s.o("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+e),this.itemTemplateMap===null&&(this.itemTemplateMap=new Q),this.itemTemplateMap.set("",e),this.t("itemTemplate",n,e);const a=this.diagram;if(a!==null&&a.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemTemplateMap(){return this.w!==null?this.w.x0:null}set itemTemplateMap(e){const n=this.itemTemplateMap;if(n!==e){const a=e.iterator;for(;a.next();)a.value;this.Yt().x0=e,this.t("itemTemplateMap",n,e);const o=this.diagram;if(o!==null&&o.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemCategoryProperty(){return this.w!==null?this.w.b0:"category"}set itemCategoryProperty(e){const n=this.itemCategoryProperty;n!==e&&(typeof e!="string"&&!s.st(e)&&s.si(e,"string or function",ri,"itemCategoryProperty"),this.Yt().b0=e,this.t("itemCategoryProperty",n,e))}QN(e,n){if(e===null)return"";const a=this.itemCategoryProperty;let o="";if(s.st(a))o=a(e);else if(typeof a=="string"&&s.$(e)){if(a==="")return"";const h=this.diagram,u=h!==null?h.model:null;u?o=u.St(e,a):o=Ki.St(e,a)}else return"";if(o===void 0)return"";if(typeof o=="string")return o;s.o("Panel.getCategoryForItemData found a non-string category for "+e+": "+o)}static xD(){return ri.eC||(ri.eC=new ri().add(new Se().bind("text","",s.toString).theme("stroke","text"))),ri.eC}_N(e,n,a){let o=null;const h=this.itemTemplateMap;return h!==null&&(o=h.get(a),o===null&&(o=h.get(""))),o===null&&(ri.bD||(ri.bD=!0,s.ne('No item template Panel found for category "'+a+'" on '+this),s.ne("  Using default item template.")),o=ri.xD()),o}get Tf(){return(this.n&1048576)!==0}set Tf(e){const n=(this.n&1048576)!==0;n!==e&&(s.s(e,"boolean",ri,"isAtomic"),this.n=this.n^1048576,this.t("isAtomic",n,e))}get isClipping(){return(this.n&2097152)!==0}set isClipping(e){const n=(this.n&2097152)!==0;n!==e&&(this.xf(),this.n=this.n^2097152,this instanceof Jt&&(this.he=null),this.c(),this.t("isClipping",n,e))}get isOpposite(){return(this.n&33554432)!==0}set isOpposite(e){const n=(this.n&33554432)!==0;n!==e&&(this.n=this.n^33554432,this.c(),this.t("isOpposite",n,e))}get isEnabled(){return(this.n&4194304)!==0}set isEnabled(e){const n=(this.n&4194304)!==0;if(n!==e){const a=this.panel===null||this.panel.isEnabledObject();this.n=this.n^4194304,this.t("isEnabled",n,e);const o=this.diagram;if(o!==null&&o.undoManager.isUndoingRedoing)return;a&&this.Z1(this,e)}}Z1(e,n){const a=e.enabledChanged;if(a!==null&&a(e,n),e instanceof ri){const o=e.D.r,h=o.length;for(let u=0;u<h;u++){const m=o[u];n&&m instanceof ri&&!m.isEnabled||this.Z1(m,n)}}}get alignmentFocusName(){return this.uo}set alignmentFocusName(e){const n=this.uo;n!==e&&(this.uo=e,this.c(),this.t("alignmentFocusName",n,e))}static definePanelLayout(e,n){Ve.Tn(e,n)}static isLayoutDefined(e){return Ve.fs.has(e)}};let j=ri;E(j,"BU",!1),E(j,"bD",!1),E(j,"eC"),E(j,"Position",Ve.fs.get("Position")),E(j,"Horizontal",Ve.fs.get("Horizontal")),E(j,"Vertical",Ve.fs.get("Vertical")),E(j,"Spot",Ve.fs.get("Spot")),E(j,"Auto",Ve.fs.get("Auto")),E(j,"Table",Ve.fs.get("Table")),E(j,"Viewbox",Ve.fs.get("Viewbox")),E(j,"TableRow",Ve.fs.get("TableRow")),E(j,"TableColumn",Ve.fs.get("TableColumn")),E(j,"Link",Ve.fs.get("Link")),E(j,"Grid",Ve.fs.get("Grid")),E(j,"Graduated",Ve.fs.get("Graduated")),j.definePanelLayout=j.definePanelLayout;class te{constructor(){E(this,"R0");E(this,"O0");E(this,"I0");E(this,"E0");E(this,"Fs");E(this,"ts");E(this,"ds");E(this,"vi");this.R0=0,this.O0=100,this.I0=10,this.E0=0,this.Fs=null,this.ts=null,this.ds=null,this.vi=null}copy(){const i=new te;return i.R0=this.R0,i.O0=this.O0,i.I0=this.I0,i.E0=this.E0,i.Fs=this.Fs,i.ts=this.ts,i.ds=this.ds,i.vi=this.vi,i}}class ce{constructor(){E(this,"Rd");E(this,"Od");E(this,"af");E(this,"N0");this.Rd=X.OL,this.Od=N.gn,this.af=X.Zw,this.N0=[]}copy(){const i=new ce;return i.Rd=this.Rd.copy(),i.Od=this.Od.copy(),i.af=this.af.copy(),i.N0=this.N0,i}}class ue{constructor(){E(this,"Qi");E(this,"_i");E(this,"V0");E(this,"B0");E(this,"z0");E(this,"X0");E(this,"C0");E(this,"A0");E(this,"L0");E(this,"T0");E(this,"v0");E(this,"D0");E(this,"F0");E(this,"La");this.Qi=[],this._i=[],this.V0=3,this.B0=3,this.z0=0,this.X0=0,this.C0=he.im,this.A0=1,this.L0=null,this.T0=null,this.v0=1,this.D0=null,this.F0=null,this.La=null}copy(i){const e=new ue,n=this.Qi,a=n.length,o=e.Qi;for(let v=0;v<a;v++){const b=n[v];if(b===void 0)continue;const S=b.copy();S.Vh(i),o[v]=S}const h=this._i,u=h.length,m=e._i;for(let v=0;v<u;v++){const b=h[v];if(b===void 0)continue;const S=b.copy();S.Vh(i),m[v]=S}return e.V0=this.V0,e.B0=this.B0,e.z0=this.z0,e.X0=this.X0,e.C0=this.C0.N(),e.A0=this.A0,e.L0=this.L0,e.T0=this.T0,e.v0=this.v0,e.D0=this.D0,e.F0=this.F0,e.La=this.La,e}}var ge=(ee=>(ee[ee.Default=1]="Default",ee[ee.None=2]="None",ee[ee.ProportionalExtra=3]="ProportionalExtra",ee))(ge||{});const Qo=class{constructor(i){E(this,"Zs");E(this,"G0");E(this,"Tt");E(this,"Gh");E(this,"Yh");E(this,"de");E(this,"ct");E(this,"Ed");E(this,"ho");E(this,"al");E(this,"Ud");E(this,"Vd");E(this,"Kh");E(this,"Lt");E(this,"Bd");E(this,"Rs");E(this,"j");E(this,"Re");E(this,"ki");C.Je(this),this.Zs=null,this.G0=!0,this.Tt=0,this.ki=NaN,this.Gh=0,this.Yh=1/0,this.de=K.Default,this.j=0,this.Re=0,this.ct=0,this.Rs=null,this.Ed=1,this.ho=1,this.al=null,this.Ud=null,this.Vd=NaN,this.Kh=null,this.Lt=null,this.Bd=!1,i&&(Object.assign(this,i),i.column!==void 0?(this.isRow=!1,this.index=i.column):i.row!==void 0&&(this.isRow=!0,this.index=i.row))}copy(){const i=new Qo;return i.G0=this.G0,i.Tt=this.Tt,i.ki=this.ki,i.Gh=this.Gh,i.Yh=this.Yh,i.de=this.de,i.j=this.j,i.Re=this.Re,i.ct=this.ct,i.ho=this.ho,i.Ed=this.Ed,this.al===null?i.al=null:i.al=this.al.N(),i.Ud=this.Ud,i.Vd=this.Vd,i.Kh=null,this.Kh!==null&&(i.separatorDashArray=this.Kh.slice()),i.Lt=this.Lt,i.Bd=this.Bd,i.Rs=this.Rs,i}X1(i){i.isRow?i.height!==void 0&&(this.height=i.height):i.width!==void 0&&(this.width=i.width),i.minimum!==void 0&&(this.minimum=i.minimum),i.maximum!==void 0&&(this.maximum=i.maximum),i.alignment!==void 0&&(this.alignment=i.alignment),i.stretch!==void 0&&(this.stretch=i.stretch),i.sizing!==void 0&&(this.sizing=i.sizing),i.separatorPadding!==void 0&&(this.separatorPadding=i.separatorPadding),i.separatorStroke!==void 0&&(this.separatorStroke=i.separatorStroke),i.separatorStrokeWidth!==void 0&&(this.separatorStrokeWidth=i.separatorStrokeWidth),i.separatorDashArray!==void 0&&(this.Kh=i.separatorDashArray),i.background!==void 0&&(this.background=i.background),i.coversSeparators!==void 0&&(this.coversSeparators=i.coversSeparators),i.Rs!==void 0&&(this.Rs=i.Rs)}fe(i){i in ge?this.sizing=i:s.dr(this,i)}toString(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+C.xs(this)}Vh(i){this.Zs=i}computeEffectiveSpacingTop(i){let e=0;const n=this.Zs;if(this.index!==i){let o=this.separatorStroke;o===null&&n!==null&&(o=this.isRow?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),o!==null&&(e=this.separatorStrokeWidth,isNaN(e)&&(n!==null?e=this.isRow?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:e=0))}let a=this.al;if(a===null)if(n!==null)a=n.defaultSeparatorPadding;else return e;return e+(this.isRow?a.top:a.left)}computeEffectiveSpacing(){let i=0;const e=this.Zs;let n=0;const a=this.isRow;if(e!==null&&e.type===j.Table){const h=a?e.Qi.length:e._i.length;for(let u=0;u<h;u++){const m=a?e.Qi[u]:e._i[u];if(m!==void 0&&m.j!==0){n=m.index;break}}}if(this.index!==n){let h=this.separatorStroke;h===null&&e!==null&&(h=a?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),h!==null&&(i=this.separatorStrokeWidth,isNaN(i)&&(e!==null?i=a?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:i=0))}let o=this.al;if(o===null)if(e!==null)o=e.defaultSeparatorPadding;else return i;return i+(this.isRow?o.top+o.bottom:o.left+o.right)}t(i,e,n,a,o){const h=this.Zs;if(h!==null&&(h.raiseChangedEvent(2,i,this,e,n,a,o),this.Rs!==null)){const u=h.diagram;if(u!==null&&!u.wi){const m=h.findBindingPanel();if(m!==null){const v=m.data;if(v!==null){const b=this.Rs.iterator;for(;b.next();)b.value.updateSource(this,v,i,m)}}}}}get panel(){return this.Zs}get isRow(){return this.G0}set isRow(i){this.G0=i}get index(){return this.Tt}set index(i){this.Tt=i}get height(){return this.ki}set height(i){const e=this.ki;e!==i&&(i<0&&s.J(i,">= 0",Qo,"height"),this.ki=i,this.actual=this.j,this.panel!==null&&this.panel.c(),this.t("height",e,i))}get width(){return this.ki}set width(i){const e=this.ki;e!==i&&(i<0&&s.J(i,">= 0",Qo,"width"),this.ki=i,this.actual=this.j,this.panel!==null&&this.panel.c(),this.t("width",e,i))}get minimum(){return this.Gh}set minimum(i){const e=this.Gh;e!==i&&((i<0||!isFinite(i))&&s.J(i,">= 0",Qo,"minimum"),this.Gh=i,this.actual=this.j,this.panel!==null&&this.panel.c(),this.t("minimum",e,i))}get maximum(){return this.Yh}set maximum(i){const e=this.Yh;e!==i&&(i<0&&s.J(i,">= 0",Qo,"maximum"),this.Yh=i,this.actual=this.j,this.panel!==null&&this.panel.c(),this.t("maximum",e,i))}get alignment(){return this.de}set alignment(i){const e=this.de;e.equals(i)||(this.de=i.N(),this.panel!==null&&this.panel.c(),this.t("alignment",e,i))}get stretch(){return this.ho}set stretch(i){const e=this.ho;e!==i&&(this.ho=i,this.panel!==null&&this.panel.c(),this.t("stretch",e,i))}get separatorPadding(){return this.al}set separatorPadding(i){typeof i=="number"&&(i=new he(i));const e=this.al;(i===null||e===null||!e.equals(i))&&(i!==null&&(i=i.N()),this.al=i,this.panel!==null&&this.panel.c(),this.t("separatorPadding",e,i))}get separatorStroke(){return this.Ud}set separatorStroke(i){const e=this.Ud;e!==i&&(i!==null&&Le.Md(i,"RowColumnDefinition.separatorStroke"),i instanceof Le&&i.k(),this.Ud=i,this.panel!==null&&this.panel.c(),this.t("separatorStroke",e,i))}get separatorStrokeWidth(){return this.Vd}set separatorStrokeWidth(i){const e=this.Vd;e!==i&&(this.Vd=i,this.panel!==null&&this.panel.c(),this.t("separatorStrokeWidth",e,i))}get separatorDashArray(){return this.Kh}set separatorDashArray(i){const e=this.Kh;if(e!==i){if(i!==null&&!Array.isArray(i)&&s.si(i,"Array",Qo,"separatorDashArray:value"),i!==null){const n=i.length;let a=0;for(let o=0;o<n;o++){const h=i[o];(typeof h!="number"||!(h>=0)||!isFinite(h))&&s.o("separatorDashArray value "+h+" at index "+o+" must be a positive number or zero."),a+=h}if(a===0){if(e===null)return;i=null}}this.Kh=i,this.panel!==null&&this.panel.C(),this.t("separatorDashArray",e,i)}}get background(){return this.Lt}set background(i){const e=this.Lt;e!==i&&(i!==null&&Le.Md(i,"RowColumnDefinition.background"),i instanceof Le&&i.k(),this.Lt=i,this.panel!==null&&this.panel.C(),this.t("background",e,i))}get coversSeparators(){return this.Bd}set coversSeparators(i){const e=this.Bd;e!==i&&(s.s(i,"boolean",Qo,"coversSeparators"),this.Bd=i,this.panel!==null&&this.panel.C(),this.t("coversSeparators",e,i))}get sizing(){return this.Ed}set sizing(i){const e=this.Ed;e!==i&&(this.Ed=i,this.panel!==null&&this.panel.c(),this.t("sizing",e,i))}q1(){if(this.sizing===1){const i=this.Zs;return i===null?2:this.isRow?i.rowSizing:i.columnSizing}return this.sizing}get actual(){return this.j}set actual(i){isNaN(this.ki)?this.j=Math.max(Math.min(this.Yh,i),this.Gh):this.j=Math.max(Math.min(this.Yh,this.ki),this.Gh)}get measured(){return this.Re}set measured(i){this.Re=i}get total(){return this.j+this.computeEffectiveSpacing()}get position(){return this.ct}set position(i){this.ct=i}bind(i,e,n,a){return this.Sf(i,e,n,a),this}bindTwoWay(i,e,n,a){const o=this.Sf(i,e,n,a);return a===void 0&&o.makeTwoWay(),this}theme(i,e,n,a,o){return this.Na(i,e,n,a,o),this}themeData(i,e,n,a,o){return this.Na(i,e,n,a,o).ofData(),this}themeObject(i,e,n,a,o,h){return this.Na(i,e,n,a,o).ofObject(h),this}themeModel(i,e,n,a,o){return this.Na(i,e,n,a,o).ofModel(),this}Sf(i,e,n,a){let o;return typeof i=="string"?o=new so(i,e,n,a):o=i,this.w0(o),o}Na(i,e,n,a,o){let h;return typeof i=="string"?h=new Jc(i,e,n,a,o):h=i,this.w0(h),h}w0(i){i.Ti=this;const e=this.panel;if(e!==null){const n=e.findBindingPanel();n!==null&&n.nD()&&s.o("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+i+" on "+e)}this.Rs===null&&(this.Rs=new w),this.Rs.add(i)}};let be=Qo;E(be,"Default",1),E(be,"None",2),E(be,"ProportionalExtra",3);const gn=class extends oi{constructor(e,n){super();E(this,"ut");E(this,"en");E(this,"zd");E(this,"Hh");E(this,"Qe");E(this,"Qo");E(this,"Wo");E(this,"Kt");E(this,"Xd");E(this,"Gd");E(this,"K");this.ut=null,this.en=null,this.zd="None",this.Hh="black",this.Qe="black",this.Qo=1,this.Wo=null,this.Kt=null,this.Xd=NaN,this.Gd=NaN,this.K=null,typeof e=="string"?this.figure=e:e&&Object.assign(this,e),n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.ut=this.ut,e.en=this.en,e.zd=this.zd,e.Hh=this.Hh,e.Qe=this.Qe,e.Qo=this.Qo,this.Wo!==null&&(e.Wo=this.Wo.slice()),this.Kt!==null&&(this.Kt.me?e.Kt=this.Kt:e.Kt=this.Kt.copy()),e.Xd=this.Xd,e.Gd=this.Gd,this.K!==null&&(e.K=this.K.copy())}jh(){return this.Kt===null?this.Kt=new Be:this.Kt.me&&(this.Kt=this.Kt.copy()),this.Kt}ba(){super.ba(),this.Kt!==null&&(this.Kt.me=!0)}fe(e){e in fe?this.geometryStretch=e:super.fe(e)}toString(){return"Shape("+(this.figure!=="None"?this.figure:this.toArrow!=="None"?this.toArrow:this.fromArrow)+")#"+C.xs(this)}_I(e,n){const a=this.pathPattern;if(a===null)return;a.ht(1/0,1/0);const o=a.measuredBounds;a.Ut(0,0,o.width,o.height);const h=this.geometry;if(h===null)return;e.save(),e.beginPath();const u=s.nt();if(h.type===1)u.push(h.startX),u.push(h.startY),u.push(h.endX),u.push(h.endY),this.Yd(e,n,u,a);else if(h.type===4){const m=h.figures.iterator;for(;m.next();){const v=m.value;u.length=0,u.push(v.startX),u.push(v.startY);let b=v.startX,S=v.startY,A=b,M=S;const O=v.segments.r,R=O.length;for(let V=0;V<R;V++){const q=O[V];switch(q.type){case 1:this.Yd(e,n,u,a),u.length=0,u.push(q.endX),u.push(q.endY),b=q.endX,S=q.endY,A=b,M=S;break;case 2:u.push(q.endX),u.push(q.endY),b=q.endX,S=q.endY;break;case 3:G.Wn(b,S,q.point1X,q.point1Y,q.point2X,q.point2Y,q.endX,q.endY,.5,u),b=q.endX,S=q.endY;break;case 4:G.nm(b,S,q.point1X,q.point1Y,q.endX,q.endY,.5,u),b=q.endX,S=q.endY;break;case 5:{const J=q.Fo(v),re=J.length;if(re===0){u.push(q.centerX),u.push(q.centerY),b=q.centerX,S=q.centerY;break}for(let se=0;se<re;se++){const ne=J[se];G.Wn(b,S,ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],.5,u),b=ne[6],S=ne[7]}break}case 6:{const J=q.Za(v,b,S),re=J.length;if(re===0){u.push(q.endX),u.push(q.endY),b=q.endX,S=q.endY;break}for(let se=0;se<re;se++){const ne=J[se];G.Wn(b,S,ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],.5,u),b=ne[6],S=ne[7]}break}default:s.o("Segment not of valid type: "+q.type)}q.isClosed&&(u.push(A),u.push(M),this.Yd(e,n,u,a))}this.Yd(e,n,u,a)}}else if(h.type===2)u.push(h.startX),u.push(h.startY),u.push(h.endX),u.push(h.startY),u.push(h.endX),u.push(h.endY),u.push(h.startX),u.push(h.endY),u.push(h.startX),u.push(h.startY),this.Yd(e,n,u,a);else if(h.type===3){const m=new Te;m.startX=h.endX,m.startY=(h.startY+h.endY)/2;const v=new Me(5);v.startAngle=0,v.sweepAngle=360,v.centerX=(h.startX+h.endX)/2,v.centerY=(h.startY+h.endY)/2,v.radiusX=Math.abs(h.startX-h.endX)/2,v.radiusY=Math.abs(h.startY-h.endY)/2,m.add(v);const b=v.Fo(m),S=b.length;if(S===0)u.push(v.centerX),u.push(v.centerY);else{let A=m.startX,M=m.startY;for(let O=0;O<S;O++){const R=b[O];G.Wn(A,M,R[2],R[3],R[4],R[5],R[6],R[7],.5,u),A=R[6],M=R[7]}}this.Yd(e,n,u,a)}s.Z(u),e.restore(),e.clearContextCache(!1)}tE(e){let n=e.measuredBounds.width;return e instanceof gn&&(n-=e.strokeWidth),n<1&&(n=1),n}Yd(e,n,a,o){const h=a.length;if(h<4)return;const u=o.measuredBounds,m=Math.max(1,u.width),v=u.height;let b=a[0],S=a[1],A=0,M=0,O=0,R=0,V=0,q=0,J=0,re=0;const se=s.nt();for(let Fe=2;Fe<h;Fe+=2)A=a[Fe],M=a[Fe+1],O=A-b,R=M-S,O===0&&(O=.001),V=R/O,q=Math.atan2(R,O),J=Math.sqrt(O*O+R*R),se.push([O,q,V,J]),re+=J,b=A,S=M;b=a[0],S=a[1];const ne=this.tE(o);let xe=ne;const ye=m/2;let we=ye!==0,ze=0,Ce=se[ze];O=Ce[0],q=Ce[1],V=Ce[2],J=Ce[3];let Pe=0;for(;re>=.1;){if(Pe===0&&(we?(xe=ne,xe-=ye,re-=ye,we=!1):xe=ne,xe===0&&(xe=1)),xe>re){xe=re,s.Z(se);return}xe>J?(Pe=xe-J,xe=J):Pe=0;let Fe=Math.sqrt(xe*xe/(1+V*V));if(O<0&&(Fe=-Fe),b+=Fe,S+=V*Fe,e.translate(b,S),e.rotate(q),e.translate(-(m/2),-(v/2)),Pe===0&&o.Ma(e,n),e.translate(m/2,v/2),e.rotate(-q),e.translate(-b,-S),re-=xe,J-=xe,Pe!==0){if(ze++,ze===se.length){s.Z(se);return}Ce=se[ze],O=Ce[0],q=Ce[1],V=Ce[2],J=Ce[3],xe=Pe}}s.Z(se)}Ma(e,n){const a=e instanceof ns;let o=this.Qe;const h=this.Hh;if(o===null&&h===null)return;const u=this.ut;if(u===null)return;e.commitTransform();const m=this.actualBounds,v=this.naturalBounds;h!==null&&this.kn(e,h,!0,!1,v,m);const b=this.part;let S=this.Qo;o!==null&&S===0&&b!==null&&(this.isPanelMain||b.findMainElement()===this)&&(S=b.eE()),S===0&&(o=null),o!==null&&S!==0&&(this.kn(e,o,!1,!1,v,m),e.lineWidth=S,e.lineJoin=this.strokeJoin,e.lineCap=this.strokeCap,e.miterLimit=this.strokeMiterLimit);let A=!1;b&&n.getRenderingHint("drawShadows")&&(A=b.isShadowed),e.rl===!1&&(A=!1);let M=!0;o!==null&&(h===null||h==="transparent")&&(M=!1);let O=!1;const R=this.strokeDashArray;if(R!==null&&(O=!0,e.enableDash(R,this.strokeDashOffset)),u.type===1)e.beginPath(),e.moveTo(u.startX,u.startY),e.lineTo(u.endX,u.endY),o!==null&&e.strokeContext(),e.endPath();else if(u.type===2){const V=u.startX,q=u.startY,J=u.endX,re=u.endY,se=Math.min(V,J),ne=Math.min(q,re),xe=Math.abs(J-V),ye=Math.abs(re-q);e.beginPath(),e.rect(se,ne,xe,ye),h!==null&&e.fillContext(h,!1,null),o!==null&&(M&&A&&e.shadowsOff(),e.strokeContext(),M&&A&&e.shadowsOn()),e.endPath()}else if(u.type===3){const V=u.startX,q=u.startY,J=u.endX,re=u.endY,se=Math.abs(J-V)/2,ne=Math.abs(re-q)/2,xe=Math.min(V,J)+se,ye=Math.min(q,re)+ne;e.beginPath(),e.moveTo(xe,ye-ne),e.bezierCurveTo(xe+G.qn*se,ye-ne,xe+se,ye-G.qn*ne,xe+se,ye),e.bezierCurveTo(xe+se,ye+G.qn*ne,xe+G.qn*se,ye+ne,xe,ye+ne),e.bezierCurveTo(xe-G.qn*se,ye+ne,xe-se,ye+G.qn*ne,xe-se,ye),e.bezierCurveTo(xe-se,ye-G.qn*ne,xe-G.qn*se,ye-ne,xe,ye-ne),e.closePath(),h!==null&&e.fillContext(h,!1,null),o!==null&&(M&&A&&e.shadowsOff(),e.strokeContext(),M&&A&&e.shadowsOn()),e.endPath()}else if(u.type===4){const V=u.figures,q=V.length;for(let J=0;J<q;J++){const re=V.r[J];a?(e.beginPath(),this.kD(e,re)):re.ji===null&&(re.ji=new Path2D,this.kD(re.ji,re));const se=re.isFilled;A?re.isShadowed?(se===!0&&h!=="transparent"&&h!==null&&e.fillContext(h,re.isEvenOdd,re.ji),o!==null&&(se&&M&&e.shadowsOff(),e.stroke(re.ji),se&&M&&e.shadowsOn())):(e.shadowsOff(),se&&h!=="transparent"&&h!==null&&e.fillContext(h,re.isEvenOdd,re.ji),o!==null&&e.stroke(re.ji),e.shadowsOn()):(se&&h!==null&&e.fillContext(h,re.isEvenOdd,re.ji),o!==null&&e.stroke(re.ji)),e.endPath(J)}}O&&e.disableDash(),this._I(e,n)}kD(e,n){e.moveTo(n.startX,n.startY);const a=n.segments.r,o=a.length;let h=null;for(let u=0;u<o;u++){const m=a[u];switch(m.type){case 1:e.moveTo(m.endX,m.endY);break;case 2:e.lineTo(m.endX,m.endY);break;case 3:e.bezierCurveTo(m.point1X,m.point1Y,m.point2X,m.point2Y,m.endX,m.endY);break;case 4:e.quadraticCurveTo(m.point1X,m.point1Y,m.endX,m.endY);break;case 5:if(m.radiusX===m.radiusY){const v=h!==null?h.endX:n.startX,b=h!==null?h.endY:n.startY,S=Math.PI/180;e.arc(m.point1X,m.point1Y,m.radiusX,m.startAngle*S,(m.startAngle+m.sweepAngle)*S,m.sweepAngle<0,v,b)}else{const v=m.Fo(n),b=v.length;if(b===0){e.lineTo(m.centerX,m.centerY);break}for(let S=0;S<b;S++){const A=v[S];S===0&&e.lineTo(A[0],A[1]),e.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7])}}break;case 6:{let v=0,b=0,S;if(h!==null&&h.type===5){S=h.Fo(n);const M=S.length;if(M===0){e.lineTo(m.endX,m.endY);break}const O=S[M-1]||null;O!==null&&(v=O[6],b=O[7])}else v=h!==null?h.endX:n.startX,b=h!==null?h.endY:n.startY;S=m.Za(n,v,b);const A=S.length;if(A===0){e.lineTo(m.endX,m.endY);break}for(let M=0;M<A;M++){const O=S[M];e.bezierCurveTo(O[2],O[3],O[4],O[5],O[6],O[7])}break}}m.isClosed&&e.closePath(),h=m}}wf(e,n,a){if(!super.wf(e,n,a)||this.Qe===null&&this.Hh===null||this.ut===null||this.pathPattern!==null)return!1;const o=this.svg.getElementsByTagName("path");return this.geometry.figures.length!==o.length?!1:(e.currentPath=this.svg,this.Ma(e,n),e.currentPath=null,!0)}Pd(e){return this.geometry!==null&&this.geometry.figures.length>1||this.pathPattern!==null?!0:super.Pd(e)}LN(e,n){if(e.nodeName!=="g")e.setAttributeNS(null,"filter",n);else{const a=e.getElementsByTagName("path");for(let o=0;o<a.length;o++)a[o].setAttributeNS(null,"filter",n)}}getDocumentPoint(e,n){if(n===void 0&&(n=new N),e instanceof K){const a=e;a.isNoSpot()&&s.o("getDocumentPoint Spot must be a real, specific Spot, not: "+a.toString());const o=this.naturalBounds,h=this.strokeWidth;return n.e(a.x*(o.width+h)-h/2+o.x+a.offsetX,a.y*(o.height+h)-h/2+o.y+a.offsetY),this.Js.gt(n),n}else return n.set(e),this.Js.gt(n),n}getDocumentBounds(e){e===void 0&&(e=new W);const n=this.naturalBounds,a=this.Js,o=W.z(n.x,n.y,n.width,n.height),h=this.strokeWidth;o.inflate(h/2,h/2);const u=N.z(o.x,o.y).v(a);return e.e(u.x,u.y,0,0),u.e(o.right,o.y).v(a),e.re(u.x,u.y,0,0),u.e(o.right,o.bottom).v(a),e.re(u.x,u.y,0,0),u.e(o.x,o.bottom).v(a),e.re(u.x,u.y,0,0),W.i(o),N.i(u),e}ka(e,n){const a=this.geometry;if(a===null||this.fill===null&&this.stroke===null)return!1;const o=a.bounds;let h=this.strokeWidth/2;a.type===1&&!n&&(h+=2);const u=W.l();if(u.h(o),u.inflate(h+2,h+2),!u.containsPoint(e))return W.i(u),!1;const m=h+1e-4;if(a.type===1){if(this.stroke===null)return!1;const v=(a.startX-a.endX)*(e.x-a.endX)+(a.startY-a.endY)*(e.y-a.endY),b=(a.endX-a.startX)*(e.x-a.startX)+(a.endY-a.startY)*(e.y-a.startY);return v<0||b<0?!1:(W.i(u),G.Ve(a.startX,a.startY,a.endX,a.endY,h,e.x,e.y))}else if(a.type===2){const v=a.startX,b=a.startY,S=a.endX,A=a.endY;if(u.x=Math.min(v,S),u.y=Math.min(b,A),u.width=Math.abs(S-v),u.height=Math.abs(A-b),this.fill===null){if(u.inflate(-m,-m),u.containsPoint(e))return W.i(u),!1;u.inflate(m,m)}this.stroke!==null&&u.inflate(h,h);const M=u.containsPoint(e);return W.i(u),M}else if(a.type===3){const v=a.startX,b=a.startY,S=a.endX,A=a.endY;let M=Math.min(v,S),O=Math.min(b,A);const R=Math.abs(S-v),V=Math.abs(A-b);let q=R/2,J=V/2;if(M=e.x-(M+q),O=e.y-(O+J),this.fill===null){if(q-=m,J-=m,q<=0||J<=0||M*M/(q*q)+O*O/(J*J)<=1)return W.i(u),!1;q+=m,J+=m}return this.stroke!==null&&(q+=m,J+=m),W.i(u),q<=0||J<=0?!1:M*M/(q*q)+O*O/(J*J)<=1}else{if(a.type===4)return W.i(u),this.fill===null?a.ZL(e.x,e.y,h):a.VP(e,h,this.strokeWidth>1,n);s.o("Unknown Geometry type: "+a.type)}}bd(e,n,a,o){const h=this.desiredSize,u=this.Qo;e=Math.max(e,0),n=Math.max(n,0);let m;if(this.en!==null)m=this.geometry.bounds;else{const V=this.figure;let q=gn.iC[V];if(q===void 0){let J=G.Jn[V];typeof J=="string"&&(J=G.Jn[J]),s.st(J)?(q=J(null,100,100),gn.iC[V]=q):s.o("Unsupported Figure: "+V)}m=q.bounds}let v=m.width,b=m.height,S=m.width,A=m.height;switch(this.Qs(!0)){case 0:a=0,o=0;break;case 2:S=Math.max(e-u,0),A=Math.max(n-u,0);break;case 5:S=Math.max(e-u,0),o=0;break;case 4:a=0,A=Math.max(n-u,0);break}isFinite(h.width)&&(S=h.width),isFinite(h.height)&&(A=h.height);const M=this.maxSize,O=this.minSize;a=Math.max(a-u,O.width),o=Math.max(o-u,O.height),S=Math.min(M.width,S),A=Math.min(M.height,A),S=isFinite(S)?Math.max(a,S):Math.max(v,a),A=isFinite(A)?Math.max(o,A):Math.max(b,o);const R=this._S();switch(R){case 0:break;case 2:v=S,b=A;break;case 6:{let V=Math.min(S/v,A/b);isFinite(V)||(V=1),v=v*V,b=b*V;break}default:s.o(R+" is not a valid geometryStretch.")}if(this.en!==null){v===0&&(v=.001),b===0&&(b=.001);const V=this.en.sR(v,b);this.ut=V}else(this.ut===null||!G.X(this.ut.Sc,e-u)||!G.X(this.ut.Mc,n-u))&&(this.ut=gn.iE(this,v,b));m=this.ut.bounds,e===1/0||n===1/0?this.lo(m.x-u/2,m.y-u/2,e===0&&v===0?0:m.width+u,n===0&&b===0?0:m.height+u):this.lo(-(u/2),-(u/2),S+u,A+u),h.isReal()?(S=h.width,A=h.height,S=Math.min(M.width,S),A=Math.min(M.height,A),S=Math.max(O.width,S),A=Math.max(O.height,A),this.Ke.e(0,0,S,A)):this.Ke.h(m)}_S(){const e=this.geometryStretch;return this.en!==null?e===1?2:e:e===1?gn.iC[this.figure].defaultStretch:e}Pa(e,n,a,o){this.commonArrange(e,n,a,o)}getNearestIntersectionPoint(e,n,a){return this.pf(e.x,e.y,n.x,n.y,a)}pf(e,n,a,o,h){const u=this.v,m=1/(u.m11*u.m22-u.m12*u.m21),v=u.m22*m,b=-u.m12*m,S=-u.m21*m,A=u.m11*m,M=m*(u.m21*u.dy-u.m22*u.dx),O=m*(u.m12*u.dx-u.m11*u.dy),R=e*v+n*S+M,V=e*b+n*A+O,q=a*v+o*S+M,J=a*b+o*A+O,re=this.Qo/2;let se=this.ut;se===null&&(this.ht(1/0,1/0),se=this.ut);const ne=se.bounds;let xe=!1;if(se.type===1)if(this.strokeWidth<=1.5)xe=G.vo(se.startX,se.startY,se.endX,se.endY,R,V,q,J,h);else{let ye=0,we=0;if(se.startX===se.endX)ye=re,we=0;else{const Re=(se.endY-se.startY)/(se.endX-se.startX);we=re/Math.sqrt(1+Re*Re),ye=we*Re}const ze=s.nt();let Ce=new N;G.vo(se.startX+ye,se.startY+we,se.endX+ye,se.endY+we,R,V,q,J,Ce)&&ze.push(Ce),Ce=new N,G.vo(se.startX-ye,se.startY-we,se.endX-ye,se.endY-we,R,V,q,J,Ce)&&ze.push(Ce),Ce=new N,G.vo(se.startX+ye,se.startY+we,se.startX-ye,se.startY-we,R,V,q,J,Ce)&&ze.push(Ce),Ce=new N,G.vo(se.endX+ye,se.endY+we,se.endX-ye,se.endY-we,R,V,q,J,Ce)&&ze.push(Ce);const Pe=ze.length;if(Pe===0)return s.Z(ze),!1;xe=!0;let Fe=1/0;for(let Re=0;Re<Pe;Re++){const We=ze[Re],Ke=(We.x-R)**2+(We.y-V)**2;Ke<Fe&&(Fe=Ke,h.x=We.x,h.y=We.y)}s.Z(ze)}else if(se.type===2)xe=G.Cl(ne.x-re,ne.y-re,ne.x+ne.width+re,ne.y+ne.height+re,R,V,q,J,h);else if(se.type===3){const ye=W.z(ne.x,ne.y,ne.width,ne.height).inflate(re,re);xe=this.sE(ye,R,V,q,J,h),W.i(ye)}else if(se.type===4){let ye=0,we=0,ze=0,Ce=0;const Pe=N.l();let Fe=q-R,Re=J-V,We=Fe*Fe+Re*Re,Ke=R,lt=V;if(We>0&&ne.contains(Ke,lt)&&(Pe.x=Ke,Pe.y=lt,this.containsPoint(Pe)))for(Fe!==0&&Math.abs(Fe)<.5?(Re*=.5/Fe,Fe=.5):Re!==0&&Math.abs(Re)<.5&&(Fe*=.5/Re,Re=.5),Ke-=Fe,lt-=Re;ne.contains(Ke,lt);)Ke-=Fe,lt-=Re;const ct=.6;h.x=q,h.y=J;for(let li=0;li<se.figures.count;li++){const Vt=se.figures.r[li],Gt=Vt.isFilled?Ke:R,zt=Vt.isFilled?lt:V,jt=Vt.segments;ye=Vt.startX,we=Vt.startY;let xi=ye,gi=we;for(let Ot=0;Ot<jt.count;Ot++){const Qt=jt.r[Ot],un=Qt.type;ze=Qt.endX,Ce=Qt.endY;let yi=!1;switch(un){case 1:xi=ze,gi=Ce;break;case 2:yi=this._1(ye,we,ze,Ce,Gt,zt,q,J,Pe);break;case 3:{yi=G.om(ye,we,Qt.point1X,Qt.point1Y,Qt.point2X,Qt.point2Y,ze,Ce,Gt,zt,q,J,ct,Pe);break}case 4:{yi=G.om(ye,we,ye+2/3*(Qt.point1X-ye),we+2/3*(Qt.point1Y-we),ze+2/3*(Qt.point1X-ze),Ce+2/3*(Qt.point1Y-Ce),ze,Ce,Gt,zt,q,J,ct,Pe);break}case 5:case 6:{const Bt=Qt.type===5?Qt.Fo(Vt):Qt.Za(Vt,ye,we),Tt=Bt.length;if(Tt===0){yi=this._1(ye,we,Qt.type===5?Qt.centerX:Qt.endX,Qt.type===5?Qt.centerY:Qt.endY,Gt,zt,q,J,Pe);break}let ii=null;for(let Pi=0;Pi<Tt;Pi++){if(ii=Bt[Pi],Pi===0&&this._1(ye,we,ii[0],ii[1],Gt,zt,q,J,Pe)){const Dn=this.tk(Gt,zt,Pe,We,h);Dn<We&&(We=Dn,xe=!0)}if(G.om(ii[0],ii[1],ii[2],ii[3],ii[4],ii[5],ii[6],ii[7],Gt,zt,q,J,ct,Pe)){const Dn=this.tk(Gt,zt,Pe,We,h);Dn<We&&(We=Dn,xe=!0)}}ze=ii[6],Ce=ii[7];break}default:s.o("Unknown Segment type: "+un)}if(ye=ze,we=Ce,yi){const Bt=this.tk(Gt,zt,Pe,We,h);Bt<We&&(We=Bt,xe=!0)}if(Qt.isClosed&&(ze=xi,Ce=gi,this._1(ye,we,ze,Ce,Gt,zt,q,J,Pe))){const Bt=this.tk(Gt,zt,Pe,We,h);Bt<We&&(We=Bt,xe=!0)}}}let rt=a-e,bt=o-n;const Mt=Math.sqrt(rt*rt+bt*bt);Mt!==0&&(rt/=Mt,bt/=Mt),h.x-=rt*re,h.y-=bt*re,N.i(Pe)}else s.o("Unknown Geometry type: "+se.type);return xe?(this.v.gt(h),!0):!1}tk(e,n,a,o,h){const u=a.x-e,m=a.y-n,v=u*u+m*m;return v<o?(h.x=a.x,h.y=a.y,v):o}_1(e,n,a,o,h,u,m,v,b){if(G.X(e,a)&&G.X(n,o)||G.X(h,m)&&G.X(u,v))return!1;let S=!1;const A=(h-m)*(n-o)-(u-v)*(e-a);if(A===0)return!1;if(b.x=((h*v-u*m)*(e-a)-(h-m)*(e*o-n*a))/A,b.y=((h*v-u*m)*(n-o)-(u-v)*(e*o-n*a))/A,(e>a?e-a:a-e)<(n>o?n-o:o-n)){const M=n<o?n:o,O=n<o?o:n;(b.y>M||G.X(b.y,M))&&(b.y<O||G.X(b.y,O))&&(S=!0)}else{const M=e<a?e:a,O=e<a?a:e;(b.x>M||G.X(b.x,M))&&(b.x<O||G.X(b.x,O))&&(S=!0)}return S}nE(e,n,a){return this.pickable===!1?!1:(a.kc(this.v),n?this.oE(e,a):this.containedInRect(e,a))}containedInRect(e,n){if(n===void 0)return e.containsRect(this.actualBounds);let a=this.ut;a===null&&(this.ht(1/0,1/0),a=this.ut);const o=a.bounds,h=this.strokeWidth/2;let u=!1;const m=N.l();return m.e(o.x-h,o.y-h),e.containsPoint(n.gt(m))&&(m.e(o.x-h,o.bottom+h),e.containsPoint(n.gt(m))&&(m.e(o.right+h,o.bottom+h),e.containsPoint(n.gt(m))&&(m.e(o.right+h,o.y-h),e.containsPoint(n.gt(m))&&(u=!0)))),N.i(m),u}intersectsRect(e,n){if(this.containedInRect(e,n)||n===void 0&&(n=this.v,e.containsRect(this.actualBounds)))return!0;const a=le.l();a.set(n),a.ex();const o=e.left,h=e.right,u=e.top,m=e.bottom,v=N.l();if(v.e(o,u),a.gt(v),this.ka(v,!0)||(v.e(h,u),a.gt(v),this.ka(v,!0))||(v.e(o,m),a.gt(v),this.ka(v,!0))||(v.e(h,m),a.gt(v),this.ka(v,!0)))return N.i(v),!0;const b=N.l(),S=N.l();a.set(n),a.zL(this.v),a.ex(),b.x=h,b.y=u,b.v(a),v.x=o,v.y=u,v.v(a);let A=!1;return this.qh(v,b,S)?A=!0:(v.x=h,v.y=m,v.v(a),this.qh(v,b,S)?A=!0:(b.x=o,b.y=m,b.v(a),this.qh(v,b,S)?A=!0:(v.x=o,v.y=u,v.v(a),this.qh(v,b,S)&&(A=!0)))),N.i(v),le.i(a),N.i(b),N.i(S),A}qh(e,n,a){if(!this.getNearestIntersectionPoint(e,n,a))return!1;const o=e.x,h=e.y,u=n.x,m=n.y,v=a.x,b=a.y;if(o===u){let S=0,A=0;return h<m?(S=h,A=m):(S=m,A=h),b>=S&&b<=A}else{let S=0,A=0;return o<u?(S=o,A=u):(S=u,A=o),v>=S&&v<=A}}oE(e,n){if(this.containedInRect(e,n)||n===void 0&&(n=this.v,e.containsRect(this.actualBounds)))return!0;const a=e.left,o=e.right,h=e.top,u=e.bottom,m=N.l(),v=N.l(),b=N.l(),S=le.l();S.set(n),S.zL(this.v),S.ex(),v.x=o,v.y=h,v.v(S),m.x=a,m.y=h,m.v(S);let A=!1;return this.qh(m,v,b)?A=!0:(m.x=o,m.y=u,m.v(S),this.qh(m,v,b)?A=!0:(v.x=a,v.y=u,v.v(S),this.qh(m,v,b)?A=!0:(m.x=a,m.y=h,m.v(S),this.qh(m,v,b)&&(A=!0)))),le.i(S),N.i(m),N.i(v),N.i(b),A}$T(e,n,a){if(a&&this.fill!==null&&this.ka(e,!0))return!0;let o=e.distanceSquaredPoint(n);const h=o;this.strokeWidth>1.5&&(o=this.strokeWidth/2+Math.sqrt(o),o*=o);let u=this.ut;if(u===null&&(this.ht(1/0,1/0),u=this.ut,u===null))return!1;if(!a){const M=u.bounds,O=M.x,R=M.y,V=M.x+M.width,q=M.y+M.height;if(N.distanceSquared(e.x,e.y,O,R)<=o&&N.distanceSquared(e.x,e.y,V,R)<=o&&N.distanceSquared(e.x,e.y,O,q)<=o&&N.distanceSquared(e.x,e.y,V,q)<=o)return!0}function m(M,O){const R=M.length;for(let V=0;V<R;V+=2)if(O.distanceSquared(M[V],M[V+1])>o)return!0;return!1}const v=u.startX,b=u.startY,S=u.endX,A=u.endY;if(u.type===1){const M=N.distanceLineSegmentSquared(e.x,e.y,v,b,S,A),O=(S-v)*(e.x-v)+(A-b)*(e.y-b),R=(v-S)*(e.x-S)+(b-A)*(e.y-A),V=O>=0&&R>=0?o:h;return M<=V}else if(u.type===2){let M=!1;return a&&(M=N.distanceLineSegmentSquared(e.x,e.y,v,b,v,A)<=o||N.distanceLineSegmentSquared(e.x,e.y,v,b,S,b)<=o||N.distanceLineSegmentSquared(e.x,e.y,S,b,S,A)<=o||N.distanceLineSegmentSquared(e.x,e.y,v,A,S,A)<=o),M}else if(u.type===3){const M=(v+S)/2,O=(b+A)/2,R=e.x-M,V=e.y-O,q=Math.abs(S-v)/2,J=Math.abs(A-b)/2;if(q===0||J===0)return N.distanceLineSegmentSquared(e.x,e.y,v,b,S,A)<=o;if(a){const re=G.WF(q,J,R,V);return re*re<=o}else return!(N.distanceSquared(R,V,-q,0)>=o||N.distanceSquared(R,V,0,-J)>=o||N.distanceSquared(R,V,0,J)>=o||N.distanceSquared(R,V,q,0)>=o)}else if(u.type===4){const M=u.bounds,O=M.x,R=M.y,V=M.x+M.width,q=M.y+M.height;if(e.x>V&&e.x<O&&e.y>q&&e.y<R&&N.distanceLineSegmentSquared(e.x,e.y,O,R,O,q)>o&&N.distanceLineSegmentSquared(e.x,e.y,O,R,V,R)>o&&N.distanceLineSegmentSquared(e.x,e.y,V,q,O,q)>o&&N.distanceLineSegmentSquared(e.x,e.y,V,q,V,R)>o)return!1;const J=Math.sqrt(o);if(a){if(this.fill===null?u.ZL(e.x,e.y,J):u.VP(e,J,!0,!1))return!0}else{const re=u.figures;for(let se=0;se<re.count;se++){const ne=re.r[se];let xe=ne.startX,ye=ne.startY;if(e.distanceSquared(xe,ye)>o)return!1;const we=ne.segments.r,ze=we.length;for(let Ce=0;Ce<ze;Ce++){const Pe=we[Ce];switch(Pe.type){case 1:case 2:if(xe=Pe.endX,ye=Pe.endY,e.distanceSquared(xe,ye)>o)return!1;break;case 3:{const Fe=s.nt();G.Wn(xe,ye,Pe.point1X,Pe.point1Y,Pe.point2X,Pe.point2Y,Pe.endX,Pe.endY,.8,Fe);const Re=m(Fe,e);if(s.Z(Fe),Re||(xe=Pe.endX,ye=Pe.endY,e.distanceSquared(xe,ye)>o))return!1;break}case 4:{const Fe=s.nt();G.nm(xe,ye,Pe.point1X,Pe.point1Y,Pe.endX,Pe.endY,.8,Fe);const Re=m(Fe,e);if(s.Z(Fe),Re||(xe=Pe.endX,ye=Pe.endY,e.distanceSquared(xe,ye)>o))return!1;break}case 5:case 6:{const Fe=Pe.type===5?Pe.Fo(ne):Pe.Za(ne,xe,ye),Re=Fe.length;if(Re===0){if(xe=Pe.type===5?Pe.centerX:Pe.endX,ye=Pe.type===5?Pe.centerY:Pe.endY,e.distanceSquared(xe,ye)>o)return!1;break}let We=null;const Ke=s.nt();for(let lt=0;lt<Re;lt++)if(We=Fe[lt],Ke.length=0,G.Wn(We[0],We[1],We[2],We[3],We[4],We[5],We[6],We[7],.8,Ke),m(Ke,e))return s.Z(Ke),!1;s.Z(Ke),We!==null&&(xe=We[6],ye=We[7]);break}default:s.o("Unknown Segment type: "+Pe.type)}}}return!0}}return!1}sE(e,n,a,o,h,u){if(e.width===0)return G.vo(e.x,e.y,e.x,e.y+e.height,n,a,o,h,u);if(e.height===0)return G.vo(e.x,e.y,e.x+e.width,e.y,n,a,o,h,u);{const m=e.width/2,v=e.height/2,b=e.x+m,S=e.y+v;let A=9999;if(n!==o&&(A=(a-h)/(n-o)),Math.abs(A)<9999){const M=a-S-A*(n-b);if(m*m*(A*A)+v*v-M*M<0)return u.x=NaN,u.y=NaN,!1;const O=Math.sqrt(m*m*(A*A)+v*v-M*M),R=(-(m*m*A*M)+m*v*O)/(v*v+m*m*(A*A))+b,V=(-(m*m*A*M)-m*v*O)/(v*v+m*m*(A*A))+b,q=A*(R-b)+M+S,J=A*(V-b)+M+S,re=Math.abs((n-R)**2)+Math.abs((a-q)**2),se=Math.abs((n-V)**2)+Math.abs((a-J)**2);re<se?(u.x=R,u.y=q):(u.x=V,u.y=J)}else{const M=v*v,O=m*m,R=n-b,V=M-M/O*(R*R);if(V<0)return u.x=NaN,u.y=NaN,!1;const q=Math.sqrt(V),J=S+q,re=S-q,se=Math.abs(J-a),ne=Math.abs(re-a);se<ne?(u.x=n,u.y=J):(u.x=n,u.y=re)}return!0}}qI(){return this.Qo/2*this.strokeMiterLimit*this.getDocumentScale()}get geometry(){return this.ut!==null?this.ut:this.en}set geometry(e){const n=this.ut,a=this.en;if(n===e)return;e!==null?(this.ut=e.k(),this.en=this.ut):(this.ut=null,this.en=null);const o=this.part;if(o!==null&&o.Df(),this.c(),this.t("geometry",n||a,e),this.mf()){const h=this.part;h!==null&&this.Eh(h,"geometryString")}}get geometryString(){return this.geometry===null?"":this.geometry.toString()}set geometryString(e){const n=pe.parse(e),a=n.normalize();this.geometry=n;const o=N.z(-a.x,-a.y);this.position=o,N.i(o)}get isGeometryPositioned(){return(this.n&1048576)!==0}set isGeometryPositioned(e){const n=(this.n&1048576)!==0;n!==e&&(this.n=this.n^1048576,this.c(),this.t("isGeometryPositioned",n,e))}ai(){this.ut=null}get fill(){return this.Hh}set fill(e){const n=this.Hh;n!==e&&(e!==null&&Le.Md(e,"Shape.fill"),e instanceof Le&&e.k(),this.Hh=e,this.C(),this.t("fill",n,e))}get stroke(){return this.Qe}set stroke(e){const n=this.Qe;n!==e&&(e!==null&&Le.Md(e,"Shape.stroke"),e instanceof Le&&e.k(),this.Qe=e,this.C(),this.t("stroke",n,e))}get strokeWidth(){return this.Qo}set strokeWidth(e){const n=this.Qo;if(n!==e)if(e>=0){this.Qo=e,this.c();const a=this.part;a!==null&&a.Df(),this.t("strokeWidth",n,e)}else s.J(e,"value >= 0",gn,"strokeWidth:value")}jp(){return this.Qo}get strokeCap(){return this.Kt!==null?this.Kt.Y0:"butt"}set strokeCap(e){const n=this.strokeCap;n!==e&&(typeof e=="string"&&(e==="butt"||e==="round"||e==="square")?(this.jh().Y0=e,this.C(),this.t("strokeCap",n,e)):s.J(e,'"butt", "round", or "square"',gn,"strokeCap"))}get strokeJoin(){return this.Kt!==null?this.Kt.K0:"miter"}set strokeJoin(e){const n=this.strokeJoin;n!==e&&(typeof e=="string"&&(e==="miter"||e==="bevel"||e==="round")?(this.jh().K0=e,this.C(),this.t("strokeJoin",n,e)):s.J(e,'"miter", "bevel", or "round"',gn,"strokeJoin"))}get strokeMiterLimit(){return this.Kt!==null?this.Kt.H0:10}set strokeMiterLimit(e){const n=this.strokeMiterLimit;if(n!==e&&e>=1){this.jh().H0=e,this.C();const a=this.part;a!==null&&a.Df(),this.t("strokeMiterLimit",n,e)}}get strokeDashArray(){return this.Wo}set strokeDashArray(e){const n=this.Wo;if(n!==e){if(e!==null&&!Array.isArray(e)&&s.si(e,"Array",gn,"strokeDashArray:value"),e!==null){const a=e.length;let o=0;for(let h=0;h<a;h++){const u=e[h];(!(u>=0)||!isFinite(u))&&s.o("strokeDashArray:value "+u+" at index "+h+" must be a positive number or zero."),o+=u}if(o===0){if(n===null)return;e=null}}this.Wo=e,this.C(),this.t("strokeDashArray",n,e)}}get strokeDashOffset(){return this.Kt!==null?this.Kt.Ca:0}set strokeDashOffset(e){const n=this.strokeDashOffset;n!==e&&e>=0&&(this.jh().Ca=e,this.C(),this.t("strokeDashOffset",n,e))}get figure(){return this.zd}set figure(e){const n=this.zd;if(n!==e){let a=G.Jn[e];if(s.st(a)?a=e:(a=G.Jn[e.toLowerCase()],(!a||typeof a=="function")&&s.o("Unknown Shape.figure: "+e)),n!==a){const o=this.part;o!==null&&o.Df(),this.zd=a,this.en=null,this.ai(),this.c(),this.t("figure",n,a)}}}get toArrow(){return this.Ot!==null?this.Ot.j0:"None"}set toArrow(e){const n=this.toArrow;if(e===!0?e="Standard":e===!1&&(e=""),n!==e){const a=gn.PD(e);a===null?s.o("Unknown Shape.toArrow: "+e):n!==a&&(this.Ot===null&&(this.Ot=new Rl),this.Ot.j0=a,this.en=null,this.ai(),this.c(),this.SD(a),this.t("toArrow",n,a))}}get fromArrow(){return this.Ot!==null?this.Ot.q0:"None"}set fromArrow(e){const n=this.fromArrow;if(e===!0?e="Standard":e===!1&&(e=""),n!==e){const a=gn.PD(e);a===null?s.o("Unknown Shape.fromArrow: "+e):n!==a&&(this.Ot===null&&(this.Ot=new Rl),this.Ot.q0=a,this.en=null,this.ai(),this.c(),this.SD(a),this.t("fromArrow",n,a))}}SD(e){const n=this.diagram;n!==null&&n.undoManager.isUndoingRedoing||(this.mI(),this.toArrow!=="None"?(this.segmentIndex=-1,this.alignmentFocus=K.Right):this.fromArrow!=="None"&&(this.segmentIndex=0,this.alignmentFocus=K.Left))}get spot1(){return this.Kt!==null?this.Kt.$n:K.Default}set spot1(e){const n=this.spot1;n.equals(e)||(e=e.N(),this.jh().$n=e,this.c(),this.t("spot1",n,e))}get spot2(){return this.Kt!==null?this.Kt.Zn:K.Default}set spot2(e){const n=this.spot2;n.equals(e)||(e=e.N(),this.jh().Zn=e,this.c(),this.t("spot2",n,e))}get parameter1(){return this.Xd}set parameter1(e){const n=this.Xd;n!==e&&(this.Xd=e,this.ai(),this.c(),this.t("parameter1",n,e))}get parameter2(){return this.Gd}set parameter2(e){const n=this.Gd;n!==e&&(this.Gd=e,this.ai(),this.c(),this.t("parameter2",n,e))}get naturalBounds(){return this.Ke}EI(){const e=this.desiredSize;if(!e.isReal()&&this.ut!==null){const n=this.ut.bounds;this.Ke.h(n)}else this.Ke.e(0,0,e.width,e.height)}get pathPattern(){return this.Kt!==null?this.Kt.W0:null}set pathPattern(e){const n=this.pathPattern;n!==e&&(this.jh().W0=e,this.C(),this.t("pathPattern",n,e))}get geometryStretch(){return this.Kt!==null?this.Kt.J0:1}set geometryStretch(e){const n=this.geometryStretch;n!==e&&(this.jh().J0=e,this.c(),this.t("geometryStretch",n,e))}get interval(){return this.K!==null?this.K.Ff:1}set interval(e){const n=this.interval;if(e=Math.round(e),n!==e&&e!==0&&isFinite(e)){this.K===null&&(this.K=new Oe),this.K.Ff=e;const a=this.diagram;a!==null&&this.panel===a.grid&&a.ca(),this.c();const o=this.panel;o!==null&&(o.ds=null),this.t("interval",n,e)}}get graduatedStart(){return this.K!==null?this.K.Rf:0}set graduatedStart(e){const n=this.graduatedStart;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Oe),this.K.Rf=e,this.c(),this.t("graduatedStart",n,e))}get graduatedEnd(){return this.K!==null?this.K.Of:1}set graduatedEnd(e){const n=this.graduatedEnd;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Oe),this.K.Of=e,this.c(),this.t("graduatedEnd",n,e))}get graduatedSkip(){return this.K!==null?this.K.If:null}set graduatedSkip(e){const n=this.graduatedSkip;n!==e&&(e!==null&&s.S(e,gn,"graduatedSkip"),this.K===null&&(this.K=new Oe),this.K.If=e,this.c(),this.t("graduatedSkip",n,e))}polygonContainsRect(e){const n=this;if(!n.part||!n.part.actualBounds.containsRect(e))return!1;const a=n.geometry;if(!a)return!1;const o=e.x,h=e.y,u=e.width,m=e.height,v=N.l();if(v.x=o,v.y=h,n.getLocalPoint(v,v),!a.containsPoint(v)||u>0&&m>0&&(v.x=o+u,v.y=h+m,n.getLocalPoint(v,v),!a.containsPoint(v))||u>0&&(v.x=o+u,v.y=h,n.getLocalPoint(v,v),!a.containsPoint(v))||m>0&&(v.x=o,v.y=h+m,n.getLocalPoint(v,v),!a.containsPoint(v))||a.type===1)return!1;if(a.type===4){const b=a.figures.iterator;for(;b.next();){const S=b.value;if(!S.isFilled)continue;v.x=S.startX,v.y=S.startY,n.getDocumentPoint(v,v);let A=v.x,M=v.y,O=A,R=M,V=A,q=M;const J=S.segments.iterator;for(;J.next();){const re=J.value;if(v.x=re.endX,v.y=re.endY,n.getDocumentPoint(v,v),V=v.x,q=v.y,re.type===1)A=V,M=q;else if(re.type!==5&&(W.intersectsLineSegment(o,h,u,m,O,R,V,q)||re.isClosed&&W.intersectsLineSegment(o,h,u,m,V,q,A,M)))return!1;O=V,R=q}}}return N.i(v),!0}static iE(e,n,a){let o=null;if(e.toArrow!=="None")o=gn.Dn[e.toArrow];else if(e.fromArrow!=="None")o=gn.Dn[e.fromArrow];else{let h=G.Jn[e.figure];typeof h=="string"&&(h=G.Jn[h]),h===void 0&&s.o("Unknown Shape.figure: "+e.figure),o=h(e,n,a),o.Sc=n,o.Mc=a}if(o===null){const h=G.Jn.Rectangle;s.st(h)&&(o=h(e,n,a))}return o}static getFigureGenerators(){const e=new Q;for(const n in G.Jn){if(n===n.toLowerCase())continue;const a=G.Jn[n];e.set(n,a)}return e.k(),e}static defineFigureGenerator(e,n){s.s(e,"string",gn,"defineFigureGenerator:name"),typeof n=="string"||s.S(n,gn,"defineFigureGenerator:func");const a=e.toLowerCase(),o=G.Jn;o[e]=n,o[a]=e}static isFigureDefined(e){return e in G.Jn}static getArrowheadGeometries(){const e=new Q;for(const n in G.lm)if(gn.Dn[n]===void 0){const a=pe.parse(G.lm[n],!1);gn.Dn[n]=a;const o=n.toLowerCase();o!==n&&(gn.Dn[o]=n)}for(const n in gn.Dn){if(n===n.toLowerCase())continue;const a=gn.Dn[n];a instanceof pe&&e.set(n,a)}return e.k(),e}static defineArrowheadGeometry(e,n){s.s(e,"string",gn,"defineArrowheadGeometry:name");let a=null;typeof n=="string"?(s.s(n,"string",gn,"defineArrowheadGeometry:pathstr"),a=pe.parse(n,!1)):a=n;const o=e.toLowerCase();(o==="none"||e===o)&&s.o("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+e);const h=gn.Dn;h[e]=a,h[o]=e}static isArrowheadDefined(e){return gn.Dn.has(e)}static PD(e){let n=gn.Dn[e];if(n===void 0){const a=e.toLowerCase();if(a==="none")return"None";if(n=gn.Dn[a],n===void 0){let o=null;for(const h in G.lm)if(h.toLowerCase()===a){o=h;break}if(o!==null){const h=pe.parse(G.lm[o],!1);return gn.Dn[o]=h,a!==o&&(gn.Dn[a]=o),o}}}return typeof n=="string"?n:n instanceof pe?e:null}};let ke=gn;E(ke,"Dn",new l),E(ke,"iC",new l);class Be{constructor(){E(this,"me");E(this,"Y0");E(this,"K0");E(this,"H0");E(this,"Ca");E(this,"W0");E(this,"J0");E(this,"$n");E(this,"Zn");this.me=!1,this.Y0="butt",this.K0="miter",this.H0=10,this.Ca=0,this.W0=null,this.J0=1,this.$n=K.Default,this.Zn=K.Default}copy(){const i=new Be;return i.Y0=this.Y0,i.K0=this.K0,i.H0=this.H0,i.Ca=this.Ca,i.W0=this.W0,i.J0=this.J0,i.$n=this.$n.N(),i.Zn=this.Zn.N(),i}}var z=(ee=>(ee[ee.None=0]="None",ee[ee.Fit=1]="Fit",ee[ee.DesiredSize=2]="DesiredSize",ee[ee.BreakAll=3]="BreakAll",ee))(z||{}),ie=(ee=>(ee[ee.Clip=0]="Clip",ee[ee.Ellipsis=1]="Ellipsis",ee))(ie||{}),de=(ee=>(ee[ee.Trim=0]="Trim",ee[ee.None=1]="None",ee))(de||{});const Ai=class extends oi{constructor(e,n){super();E(this,"ue");E(this,"Qe");E(this,"vn");E(this,"Pi");E(this,"pe");E(this,"qp");E(this,"Kd");E(this,"K");E(this,"tt");E(this,"Xl");E(this,"go");E(this,"Fn");E(this,"Ii");E(this,"ye");E(this,"Rn");return Ai.M0===!1&&(Ai.M0=!0,Ai.us=Ft.isUsingDOM()?new Ca(null)._t:null),this.n|=2097152,this.ue="",this.Qe="black",this.vn="13px sans-serif",this.Pi=0,this.pe=0,this.qp=0,this.Kd=null,this.K=null,this.tt=null,this.Xl=0,this.go=null,this.Fn=0,this.Ii=null,this.ye=null,this.Rn=null,typeof e=="string"?this.text=e:e&&Object.assign(this,e),n&&Object.assign(this,n),this}cloneProtected(e){super.cloneProtected(e),e.ue=this.ue,e.Qe=this.Qe,e.vn=this.vn,e.Pi=this.Pi,e.pe=this.pe,e.qp=this.qp,e.Kd=this.Kd,this.K!==null&&(e.K=this.K.copy()),this.tt!==null&&(this.tt.me?e.tt=this.tt:e.tt=this.tt.copy()),e.Xl=this.Xl,e.go=this.go,e.Fn=this.Fn,e.Ii=this.Ii,e.ye=this.ye,e.Rn=this.Rn}Os(){return this.tt===null?this.tt=new Ne:this.tt.me&&(this.tt=this.tt.copy()),this.tt}ba(){super.ba(),this.tt!==null&&(this.tt.me=!0)}YI(e){this.n=e.n|2048|4096,this.Zt=e.opacity,this.Lt=e.background,this.cs=e.desiredSize.N(),this.minSize=e.minSize.N(),this.maxSize=e.maxSize.N(),e.Se!==null?this.Se=e.Se.copy():this.Se=null,this.it=e.scale,this.Xt=e.angle,this.stretch=e.stretch,this.sl=e.margin.N(),this.de=e.alignment.N(),this.wd=e.alignmentFocus.N(),this.segmentFraction=e.segmentFraction,this.segmentOffset=e.segmentOffset.N(),this.segmentOrientation=e.segmentOrientation,e.he!==null&&(this.he=e.he.copy()),this.shadowVisible=e.shadowVisible,this.ue=e.ue,this.Qe=e.Qe,this.vn=e.vn,this.K!==null&&(this.K=e.K.copy()),e.tt!==null&&(e.tt.me?this.tt=e.tt:this.tt=e.tt.copy()),this.Xl=e.Xl}XI(e){if(this.ue=e.text||"",this.Xt=e.labelAngle||0,this.Pi=e.lineCount||0,this.rE(e.lines),e.naturalBounds&&(this.Ke=e.naturalBounds),e.actualBounds){const n=e.actualBounds;this.Ut(n.x,n.y,n.width,n.height)}}fe(e){e in z?this.wrap=e:super.fe(e)}toString(){return this.ue.length>22?'TextBlock("'+this.ue.substring(0,20)+'"...)':'TextBlock("'+this.ue+'")'}static getEllipsis(){return Ai.$0}static setEllipsis(e){Ai.$0=e,Ai.ek=new l,Ai.sC=0}static getBaseline(){return Ai.ik}static setBaseline(e){Ai.ik=e}static getUnderline(){return Ai.sk}static setUnderline(e){Ai.sk=e}c(){super.c(),this.$i(!0)}get font(){return this.vn}set font(e){const n=this.vn;n!==e&&(this.vn=e,this.go=null,this.c(),this.t("font",n,e))}static isValidFont(e){return t.CSS?t.CSS.supports("font",e):!0}get text(){return this.ue}set text(e){const n=this.ue;e!=null?e=e.toString():e="",n!==e&&(this.ue=e,this.c(),this.t("text",n,e))}get textAlign(){return this.tt!==null?this.tt.Z0:"start"}set textAlign(e){const n=this.textAlign;n!==e&&(e==="start"||e==="end"||e==="left"||e==="right"||e==="center")&&(this.Os().Z0=e,this.C(),this.t("textAlign",n,e))}get flip(){return this.tt!==null?this.tt.mo:0}set flip(e){const n=this.flip;n!==e&&(this.Os().mo=e,this.C(),this.t("flip",n,e))}get verticalAlignment(){return this.tt!==null?this.tt.hl:K.Top}set verticalAlignment(e){const n=this.verticalAlignment;n.equals(e)||(e=e.N(),this.Os().hl=e,this.Pf(),this.t("verticalAlignment",n,e))}get naturalBounds(){if(!this.Ke.isReal()){const e=X.l();this.nC(this.ue,999999,e);let n=e.width;X.i(e);let a=this.MD(n);const o=this.desiredSize;isNaN(o.width)||(n=o.width),isNaN(o.height)||(a=o.height),this.Ke.jn(n,a)}return this.Ke}get isMultiline(){return(this.n&2097152)!==0}set isMultiline(e){const n=(this.n&2097152)!==0;n!==e&&(this.n=this.n^2097152,this.c(),this.t("isMultiline",n,e))}get isUnderline(){return(this.n&4194304)!==0}set isUnderline(e){const n=(this.n&4194304)!==0;n!==e&&(this.n=this.n^4194304,this.$i(!0),this.C(),this.t("isUnderline",n,e))}get isStrikethrough(){return(this.n&8388608)!==0}set isStrikethrough(e){const n=(this.n&8388608)!==0;n!==e&&(this.n=this.n^8388608,this.$i(!0),this.C(),this.t("isStrikethrough",n,e))}get wrap(){return this.tt!==null?this.tt.Q0:2}set wrap(e){const n=this.wrap;n!==e&&(this.Os().Q0=e,this.c(),this.t("wrap",n,e))}get overflow(){return this.tt!==null?this.tt._0:0}set overflow(e){const n=this.overflow;n!==e&&(this.Os()._0=e,this.c(),this.t("overflow",n,e))}get isOverflowed(){return(this.n&16777216)!==0}oC(e){e?this.n|=16777216:this.n&=-16777217}get stroke(){return this.Qe}set stroke(e){const n=this.Qe;n!==e&&(e!==null&&Le.Md(e,"TextBlock.stroke"),e instanceof Le&&e.k(),this.Qe=e,typeof e!="string"&&this.xf(),this.C(),this.t("stroke",n,e))}get lineCount(){return this.Pi}get lineHeight(){return this.ty()}get editable(){return(this.n&1048576)!==0}set editable(e){const n=(this.n&1048576)!==0;n!==e&&(this.n=this.n^1048576,this.t("editable",n,e))}get jN(){return(this.n&33554432)!==0}set jN(e){this.n=this.n^33554432}get textEditor(){return this.tt!==null?this.tt.ey:null}set textEditor(e){const n=this.textEditor;n!==e&&(this.Os().ey=e,this.t("textEditor",n,e))}get errorFunction(){return this.tt!==null?this.tt.gs:null}set errorFunction(e){const n=this.errorFunction;n!==e&&(e!==null&&s.S(e,Ai,"errorFunction"),this.Os().gs=e,this.t("errorFunction",n,e))}get interval(){return this.K!==null?this.K.Ff:1}set interval(e){const n=this.interval;if(e=Math.round(e),n!==e&&e!==0&&isFinite(e)){this.K===null&&(this.K=new Oe),this.K.Ff=e,this.c();const a=this.panel;a!==null&&(a.ds=null),this.t("interval",n,e)}}get graduatedStart(){return this.K!==null?this.K.Rf:0}set graduatedStart(e){const n=this.graduatedStart;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Oe),this.K.Rf=e,this.c(),this.t("graduatedStart",n,e))}get graduatedEnd(){return this.K!==null?this.K.Of:1}set graduatedEnd(e){const n=this.graduatedEnd;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Oe),this.K.Of=e,this.c(),this.t("graduatedEnd",n,e))}get graduatedFunction(){return this.K!==null?this.K.iy:null}set graduatedFunction(e){const n=this.graduatedFunction;n!==e&&(e!==null&&s.S(e,Ai,"graduatedFunction"),this.K===null&&(this.K=new Oe),this.K.iy=e,this.c(),this.t("graduatedFunction",n,e))}get graduatedSkip(){return this.K!==null?this.K.If:null}set graduatedSkip(e){const n=this.graduatedSkip;n!==e&&(e!==null&&s.S(e,Ai,"graduatedSkip"),this.K===null&&(this.K=new Oe),this.K.If=e,this.c(),this.t("graduatedSkip",n,e))}Ma(e,n){if(this.Qe===null||this.ue.length===0||this.vn===null)return;const a=this.naturalBounds,o=this.actualBounds,h=a.width,u=a.height,m=this.ty();let v=e.textAlign=this.textAlign;const b=n.ld;v==="start"?v=b?"right":"left":v==="end"&&(v=b?"left":"right");const S=this.isUnderline,A=this.isStrikethrough;this.kn(e,this.Qe,!0,!1,a,o),(S||A)&&this.kn(e,this.Qe,!1,!1,a,o);const M=0;let O=0;const R=h;let V=!1;n.Wt===e&&!(n.Wt instanceof ns)&&!this.jN&&n.getRenderingHint("textGreeking")===!0&&m*this.Th*n.scale<3&&(V=!0);const q=this.spacingAbove,J=this.spacingBelow;switch(this.flip){case 0:break;case 2:e.translate(h,0),e.scale(-1,1);break;case 1:e.translate(0,u),e.scale(1,-1);break;case 3:e.translate(h,u),e.scale(-1,-1);break}e.commitTransform();const re=this.Pi,se=(q+m+J)*re;if(u>se){const ne=this.verticalAlignment;O=ne.y*u-ne.y*se+ne.offsetY}if(Ai.nk&&(e.letterSpacing=this.letterSpacing,e.wordSpacing=this.wordSpacing),re===1&&this.Rn!==null){let ne=this.pe;ne>R&&(ne=R),O+=q,this.ND(this.Rn,e,M,O,R,m,ne,V,v,S,A)}else if(this.Ii!==null&&this.ye!==null)for(let ne=0;ne<re;ne++){let xe=this.Ii[ne];xe>R&&(xe=R),O+=q,this.ND(this.ye[ne],e,M,O,R,m,xe,V,v,S,A),O+=m+J}switch(this.flip){case 0:break;case 2:e.scale(-1,1),e.translate(-h,0);break;case 1:e.scale(1,-1),e.translate(0,-u);break;case 3:e.scale(-1,-1),e.translate(-h,-u);break}}ND(e,n,a,o,h,u,m,v,b,S,A){let M=0;if(v){b==="left"?M=0:b==="right"?M=h-m:b==="center"&&(M=(h-m)/2);const V=n.globalAlpha;n.globalAlpha=V/2,n.fillRect(a+M,o+u/4,m,u/2),n.globalAlpha=V;return}b==="left"?M=0:b==="right"?M=h:b==="center"&&(M=h/2);const O=Ai.ik!==null?Ai.ik(this,u):u*.75;n.fillText(e,a+M,o+O);let R=u/20|0;if(R===0&&(R=1),b==="right"?M-=m:b==="center"&&(M-=m/2),S){const V=Ai.sk!==null?Ai.sk(this,u):u*.8;this.CD(a+M,o+V,a+M+m,o+V,R,n),n instanceof ns&&n.lastCreatedElement.classList.add("gojs-td")}if(A){let V=o+u-u/2.2|0;R%2!==0&&(V+=.5),this.CD(a+M,V,a+M+m,V,R,n),n instanceof ns&&n.lastCreatedElement.classList.add("gojs-td")}}CD(e,n,a,o,h,u){u.beginPath(),u.lineWidth=h,u.moveTo(e,n),u.lineTo(a,o),u.stroke(),u.endPath()}wf(e,n,a){if(!super.wf(e,n,a))return!1;if(this.kn(e,this.Qe,!0,!1,this.naturalBounds,this.actualBounds),a){if(this.svg.getElementsByTagName("text").length===0)return!0;const o=this.svg.getElementsByClassName("gojs-td");for(let h=0;h<o.length;h++)e.setFillOrStrokeInPlace(o[h],!1)}else this.lE(this.svg,this.ye?this.ye[0]:this.text,e);return!0}lE(e,n,a){e.innerHTML=n,a.setFillOrStrokeInPlace(e,!0)}Pd(e){return this.lineCount>1||this.isUnderline||this.isStrikethrough?!0:super.Pd(e)}LN(e,n){if(e.nodeName!=="g")e.setAttributeNS(null,"filter",n);else{const a=e.getElementsByTagName("text");for(let o=0;o<a.length;o++)a[o].setAttributeNS(null,"filter",n)}}aE(){this.Fn=0,this.pe=0,this.go=null,this.Ii=null,this.ye=null,this.Rn=null}bd(e,n,a,o){const h=this.Pi;this.Xl=e,this.oC(!1);const u=this.vn;Ai.us!==null&&(Ai.LD!==u&&(Ai.us.font=u,Ai.LD=u),Ai.nk&&(Ai.us.letterSpacing=this.letterSpacing,Ai.us.wordSpacing=this.wordSpacing)),this.aE();let m=0,v=0;isNaN(this.desiredSize.width)?(m=this.hE(),m=Math.min(m,e/this.scale)):m=this.desiredSize.width,this.panel!==null&&(m=Math.min(m,this.panel.maxSize.width)),v=this.MD(m),isNaN(this.desiredSize.height)?v=Math.min(v,n/this.scale):v=this.desiredSize.height,this.cE(e,v),(this.wrap===1||isNaN(this.desiredSize.width))&&(m=isNaN(e)?this.pe:Math.min(e,this.pe)),m=Math.max(a,m),v=Math.max(o,v),this.Ke.jn(m,v),this.lo(0,0,m,v),this.svg!==null&&h!==this.Pi&&this.$i(!0)}Pa(e,n,a,o){this.commonArrange(e,n,a,o)}On(e,n){this.Rn===null?(this.Rn=e,this.pe=n):((this.ye===null||this.Ii===null)&&(this.ye=[],this.Ii=[],this.ye.push(this.Rn),this.Ii.push(this.pe)),this.ye.push(e),this.Ii.push(n),this.ye.length>this.maxLines&&(this.n|=16777216))}nC(e,n,a){const o=this.formatting===0;o&&(e=e.trim());let h=0,u=0,m=0;const v=this.vn,b=this.spacingAbove+this.spacingBelow,S=Math.max(0,this.ty()+b),A=this.overflow===1?this.AD(v):0;if(this.Pi>=this.maxLines){a!==void 0&&a.e(0,S);return}let M=e;if(this.wrap===0){if(this.Fn=1,u=this.getStringWidth(e),A===0||u<=n){this.pe=Math.max(this.pe,u),this.On(e,this.pe),a!==void 0&&a.e(u,S);return}let R=this.Hd(M);M=M.substring(R.length);let V=this.Hd(M);for(u=this.getStringWidth(R+V),m=0;V.length>0&&u<=n;){R+=V,M=M.substring(V.length),V=this.Hd(M),m=u;let q=R+V;o&&(q=q.trim()),u=this.getStringWidth(q)}for(o&&(V=V.trim()),R+=V,n=Math.max(1,n-A);this.getStringWidth(R)>n&&R.length>1;)R=R.substring(0,R.length-1);this.oC(!0),R+=Ai.$0,m=this.getStringWidth(R),this.pe=m,this.On(R,m),a!==void 0&&a.e(m,S);return}let O=0;for(M.length===0&&(O=1,this.On(M,0));M.length>0;){let R=this.Hd(M);for(M=M.substring(R.length);this.getStringWidth(R)>n;){let J=1;for(u=this.getStringWidth(R.substring(0,J)),m=0;u<=n;)J++,m=u,u=this.getStringWidth(R.substring(0,J));let re=0;J===1?(re=u,h=Math.max(h,u)):(re=m,h=Math.max(h,m)),J--,J<1&&(J=1);const se=R.substring(0,J);if(this.On(se,re),O++,R=R.substring(J),this.Pi+O>this.maxLines)break}let V=this.Hd(M);for(u=this.getStringWidth(R+V),m=0;V.length>0&&u<=n;){R+=V,M=M.substring(V.length),V=this.Hd(M),m=u;let J=R+V;o&&(J=J.trim()),u=this.getStringWidth(J)}if(o&&(R=R.trim()),R==="")continue;R[R.length-1]===""&&(R=R.substring(0,R.length-1)+"");let q=0;if(V.length===0?(q=u,h=Math.max(h,u)):(m=this.getStringWidth(R),q=m,h=Math.max(h,m)),this.On(R,q),O++,this.Pi+O>this.maxLines)break}this.Fn=Math.min(this.maxLines-this.Pi,O),this.pe=Math.max(this.pe,h),a!==void 0&&a.e(this.pe,S*this.Fn)}cE(e,n){if(this.pe===0||this.Ii===null||this.ye===null||this.overflow!==1)return;const a=this.vn,o=this.overflow===1?this.AD(a):0,h=this.spacingAbove+this.spacingBelow,u=Math.max(0,this.ty()+h),m=Math.min(this.maxLines-1,Math.max(Math.floor(n/u+.01)-1,0));if(m+1>=this.ye.length)return;this.oC(!0);let v=this.ye[m];const b=Math.max(1,e-o);for(;this.getStringWidth(v)>b&&v.length>1;)v=v.substring(0,v.length-1);v+=Ai.$0;const S=this.getStringWidth(v);this.ye[m]=v,this.ye=this.ye.slice(0,m+1),this.Ii[m]=S,this.Ii=this.Ii.slice(0,m+1),this.Fn=this.ye.length,this.pe=Math.max(this.pe,S),this.Pi=this.Fn,this.Pi===1&&(this.Rn=this.ye[0])}Hd(e){if(this.wrap===3)return e.substring(0,1);let n=e.length,a=0;const o=Ai.fE;for(;a<n&&!o.test(e.charAt(a));)a++;for(this.formatting===1&&(n=Math.min(n,a+1));a<n&&o.test(e.charAt(a));)a++;return a>=e.length?e:e.substring(0,a)}getStringWidth(e){return Ai.us===null?e.length*8:Ai.us.measureText(e).width}ty(){if(this.go!==null)return this.go;const e=this.vn;let n=0;if(Ai.us===null)return n=16,this.go=n,n;if(Ai.rC[e]!==void 0&&Ai.TD<5e3)n=Ai.rC[e];else{Ai.us.letterSpacing="0px";const a=Ai.us.measureText("M");Ai.us.letterSpacing=this.letterSpacing,n=a.width*1.3,Ai.rC[e]=n,Ai.TD++}return this.go=n,n}AD(e){if(Ai.us===null)return 6;let n=0;return Ai.ek[e]!==void 0&&Ai.sC<5e3?n=Ai.ek[e]:(n=Ai.us.measureText(Ai.$0).width,Ai.ek[e]=n,Ai.sC++),n}ok(e,n){return e.indexOf(`
`,n)}MD(e){let n=this.ue.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const a=this.spacingAbove+this.spacingBelow,o=Math.max(0,this.ty()+a);if(n.length===0)return this.pe=0,this.Pi=1,o;if(!this.isMultiline){const b=this.ok(n,0);b>=0&&(n=n.substring(0,b))}let h=0;this.Pi=0;let u=0,m=-1,v=!1;for(;!v;){if(m=this.ok(n,u),m===-1&&(m=n.length,v=!0),u<=m){const b=n.substring(u,m);if(this.wrap!==0){this.Fn=0;const S=X.l();this.nC(b,e,S),h+=S.height,X.i(S),this.Pi+=this.Fn}else this.nC(b,e),h+=o,this.Pi++;this.Pi===this.maxLines&&(v=!0)}u=m+1}return this.qp=h,h}hE(){let e=this.ue.replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(e.length===0)return 8;if(this.isMultiline){let n=0,a=0,o=!1;for(;!o;){let h=this.ok(e,a);h===-1&&(h=e.length,o=!0);let u=e.substring(a,h);this.formatting===0&&(u=u.trim()),n=Math.max(n,this.getStringWidth(u)),a=h+1}return n}else{const n=this.ok(e,0);return n>=0&&(e=e.substring(0,n)),this.getStringWidth(e)}}get textValidation(){return this.tt!==null?this.tt.zl:null}set textValidation(e){const n=this.textValidation;n!==e&&(e!==null&&s.S(e,Ai,"textValidation"),this.Os().zl=e,this.t("textValidation",n,e))}get textEdited(){return this.tt!==null?this.tt.ny:null}set textEdited(e){const n=this.textEdited;n!==e&&(e!==null&&s.S(e,Ai,"textEdited"),this.Os().ny=e,this.t("textEdited",n,e))}get spacingAbove(){return this.tt!==null?this.tt.ly:0}set spacingAbove(e){const n=this.spacingAbove;n!==e&&(this.Os().ly=e,this.c(),this.t("spacingAbove",n,e))}get spacingBelow(){return this.tt!==null?this.tt.hy:0}set spacingBelow(e){const n=this.spacingBelow;n!==e&&(this.Os().hy=e,this.c(),this.t("spacingBelow",n,e))}get letterSpacing(){return this.tt!==null?this.tt.cy:"0px"}set letterSpacing(e){const n=this.letterSpacing;n!==e&&(Ai.nk=!0,this.Os().cy=e,this.c(),this.t("letterSpacing",n,e))}get wordSpacing(){return this.tt!==null?this.tt.fy:"0px"}set wordSpacing(e){const n=this.wordSpacing;n!==e&&(Ai.nk=!0,this.Os().fy=e,this.c(),this.t("wordSpacing",n,e))}get formatting(){return this.tt!==null?this.tt.uy:0}set formatting(e){const n=this.formatting;n!==e&&(this.Os().uy=e,this.c(),this.t("formatting",n,e))}get maxLines(){return this.tt!==null?this.tt.gy:1/0}set maxLines(e){const n=this.maxLines;n!==e&&(e=Math.floor(e),e<=0&&s.J(e,"> 0",Ai,"maxLines"),this.Os().gy=e,this.c(),this.t("maxLines",n,e))}getMetrics(){return[this.pe,this.Xl,this.go,this.Fn,this.Ii,this.ye,this.Rn||""]}rE(e){e!==void 0&&(this.pe=e[0],this.Xl=e[1],this.go=e[2],this.Fn=e[3],this.Ii=e[4],this.ye=e[5],this.Rn=e[6])}get metrics(){return{arrSize:this.Ii!==null?this.Ii:[this.pe],arrText:this.ye!==null?this.ye:[this.Rn],maxLineWidth:this.pe,fontHeight:this.go}}get choices(){return this.Kd}set choices(e){const n=this.Kd;n!==e&&(this.Kd=e,this.t("choices",n,e))}};let Se=Ai;E(Se,"ik",null),E(Se,"sk",null),E(Se,"None",0),E(Se,"WrapFit",1),E(Se,"WrapDesiredSize",2),E(Se,"WrapBreakAll",3),E(Se,"OverflowClip",0),E(Se,"OverflowEllipsis",1),E(Se,"FormatTrim",0),E(Se,"FormatNone",1),E(Se,"fE",new RegExp("[ ]")),E(Se,"rC",new l),E(Se,"TD",0),E(Se,"ek",new l),E(Se,"sC",0),E(Se,"$0","..."),E(Se,"LD",""),E(Se,"us",null),E(Se,"M0",!1),E(Se,"nk",!1);class Ne{constructor(){E(this,"me");E(this,"gs");E(this,"mo");E(this,"uy");E(this,"gy");E(this,"_0");E(this,"ly");E(this,"hy");E(this,"Z0");E(this,"ny");E(this,"ey");E(this,"zl");E(this,"hl");E(this,"Q0");E(this,"cy");E(this,"fy");this.me=!1,this.gs=null,this.mo=0,this.uy=0,this.gy=1/0,this._0=0,this.ly=0,this.hy=0,this.Z0="start",this.ny=null,this.ey=null,this.zl=null,this.hl=K.Top,this.Q0=2,this.cy="0px",this.fy="0px"}copy(){const i=new Ne;return i.gs=this.gs,i.mo=this.mo,i.uy=this.uy,i.gy=this.gy,i._0=this._0,i.ly=this.ly,i.hy=this.hy,i.Z0=this.Z0,i.ny=this.ny,i.ey=this.ey,i.zl=this.zl,i.hl=this.hl,i.Q0=this.Q0,i.cy=this.cy,i.fy=this.fy,i}}class Oe{constructor(){E(this,"Ff");E(this,"Rf");E(this,"Of");E(this,"iy");E(this,"If");this.Ff=1,this.Rf=0,this.Of=1,this.iy=null,this.If=null}copy(){const i=new Oe;return i.Ff=this.Ff,i.Rf=this.Rf,i.Of=this.Of,i.iy=this.iy,i.If=this.If,i}}var ot=(ee=>(ee[ee.None=0]="None",ee[ee.Fill=2]="Fill",ee[ee.Uniform=6]="Uniform",ee[ee.UniformToFill=7]="UniformToFill",ee))(ot||{});const ss=class extends oi{constructor(e,n){super();E(this,"cl");E(this,"sn");E(this,"fl");E(this,"Ef");E(this,"gs");E(this,"ul");E(this,"Uf");E(this,"mo");E(this,"Vf");E(this,"Bf");E(this,"U1");this.n|=2097152,this.cl=null,this.sn="",this.fl=W.GF,this.Ef=2,this.gs=null,this.ul=null,this.Uf=K.Center,this.mo=0,this.Vf=null,this.Bf=null,this.U1=null,typeof e=="string"?this.source=e:e&&Object.assign(this,e),n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.sn=this.sn,e.element=this.cl,e.fl=this.fl.N(),e.Ef=this.Ef,e.mo=this.mo,e.gs=this.gs,e.ul=this.ul,e.Uf=this.Uf.N(),e.Bf=this.Bf}fe(e){e in ot?this.imageStretch=e:super.fe(e)}toString(){return"Picture("+this.source+")#"+C.xs(this)}get zf(){return(this.n&1048576)!==0}set zf(e){this.zf!==e&&(this.n=this.n^1048576)}get my(){return(this.n&2097152)!==0}set my(e){this.my!==e&&(this.n=this.n^2097152)}get Mn(){return(this.n&4194304)!==0}set Mn(e){this.Mn!==e&&(this.n=this.n^4194304)}static clearCache(e){e===void 0&&(e=""),s.s(e,"string",ss,"clearCache:url"),e!==""?ss.yy[e]&&(delete ss.yy[e],ss.rk--):(ss.yy=new l,ss.rk=0)}static ST(e,n){n.DD||(n.lk=a=>{ss.uE(n,a),e.desiredSize.isReal()||(e.xi(!1),e.c())},n.ak=a=>ss.dE(n,a),n.addEventListener("load",n.lk),n.addEventListener("error",n.ak),n.DD=!0)}static DO(e){e.lk&&e.removeEventListener("load",e.lk),e.ak&&e.removeEventListener("error",e.ak),delete e.lk,delete e.ak,e.DD=!1}get element(){return this.cl}set element(e){const n=this.cl;if(this.$i(!0),n!==e){const a=Ft.isUsingDOM();let o=!1;a&&(this.zf=e instanceof HTMLCanvasElement,o=e instanceof HTMLImageElement,e!==null&&!(o||e instanceof HTMLVideoElement||this.zf)&&s.o("Picture.element must be an instance of Image, Canvas, or Video, not: "+e));const h=this.diagram;h!==null&&h.R2(this),this.cl=e,e!==null&&o&&e.hs===void 0&&(e.hs=new C),h!==null&&o&&h.F2(this),this.t("element",n,e),this.C()}}AO(){const e=this.cl;if(e===null)return;const n=this.desiredSize.isReal();(this.zf||e.complete===!0)&&(e.Dp&&(e.wy instanceof Event&&this.gs!==null?this.gs(this,e.wy):e.Mn===!0&&!e.wy&&this.ul!==null&&e.lC&&this.ul(this,e.lC)),e.Mn=!0),e.Mn&&n&&this.diagram!==null&&this.diagram.rd.add(this)}gE(){if(this.cl===null){this.Vf=!1;return}const e=new Ca(null)._t;try{e.drawImage(this.cl,0,0)}catch{this.my=!1}try{e.getImageData(0,0,1,1).data[3]&&(this.Vf=!1),this.Vf=!1}catch{this.Vf=!0}}get source(){return this.sn}set source(e){const n=this.sn;if(n!==e){this.$i(!0),s.s(e,"string",ss,"source"),this.sn=e;let a=ss.yy,o=null;if(a[e]!==void 0)o=a[e];else if(e!==""){ss.rk>30&&(ss.clearCache(),a=ss.yy),o=s.Ni("img"),o.Dp=!0,ss.ST(this,o);const h=this.Bf;h!==null&&(o.crossOrigin=h(this)),o.src=e,a[e]=o,ss.rk++}this.element=o,o!==null&&o.__goCache===void 0&&(o.__goCache=new Dt),this.c(),this.C(),this.t("source",n,e)}}static uE(e,n){e.Mn=!0,e.wy=!1;let a;const o=e.hs.copy();if(o==null)return;const h=o.iterator;for(;h.next();){const u=h.value;u.C();const m=e.getAttribute("src")||"",v=u.oa.get(m);if(v===null)continue;const b=v.length;for(let S=0;S<b;S++)a=v[S],a.desiredSize.isReal()||u.rd.add(a),a.$i(!0),u.requestUpdate(),e.Dp&&(e.lC===void 0&&(e.lC=n),a.ul!==null&&a.ul(a,n))}e.hs.clear()}static dE(e,n){e.wy=n;let a;const o=e.hs.copy();if(o==null)return;const h=o.iterator;for(;h.next();){const u=h.value,m=e.getAttribute("src")||"",v=u.oa.get(m);if(v===null)continue;const b=v.length,S=s.nt();for(let A=0;A<b;A++)S.push(v[A]);if(e.Dp)for(let A=0;A<b;A++)a=S[A],a.gs!==null&&a.gs(a,n);s.Z(S)}e.hs.clear()}reloadSource(){if(this.source==="")return;ss.clearCache(this.source);const e=this.source;this.source="",this.source=e}redraw(){this.C(),this.$i(!0)}get sourceCrossOrigin(){return this.Bf}set sourceCrossOrigin(e){if(this.Bf!==e){e!==null&&s.S(e,ss,"sourceCrossOrigin"),this.Bf=e;const n=this.element;if(n!==null){const a=n.getAttribute("src");n.crossOrigin!==void 0&&(e===null&&typeof a=="string"?n.crossOrigin=null:e!==null&&(n.crossOrigin=e(this)),a&&(n.src=a))}}}get sourceRect(){return this.fl}set sourceRect(e){const n=this.fl;n.equals(e)||(e=e.N(),this.fl=e,this.C(),this.t("sourceRect",n,e))}get imageStretch(){return this.Ef}set imageStretch(e){const n=this.Ef;n!==e&&(this.Ef=e,this.C(),this.t("imageStretch",n,e))}get flip(){return this.mo}set flip(e){const n=this.mo;n!==e&&(this.mo=e,this.C(),this.t("flip",n,e))}get imageAlignment(){return this.Uf}set imageAlignment(e){const n=this.Uf;n.equals(e)||(e=e.N(),this.Uf=e,this.C(),this.t("imageAlignment",n,e))}get errorFunction(){return this.gs}set errorFunction(e){const n=this.gs;n!==e&&(e!==null&&s.S(e,ss,"errorFunction"),this.gs=e,this.t("errorFunction",n,e))}get successFunction(){return this.ul}set successFunction(e){const n=this.ul;n!==e&&(e!==null&&s.S(e,ss,"successFunction"),this.ul=e,this.t("successFunction",n,e))}Ma(e,n){const a=this.cl;if(a===null)return;const o=a.getAttribute("src"),h=Ft.isUsingDOM();if(h&&a instanceof HTMLImageElement&&(o===null||o==="")||a.wy instanceof Event&&e instanceof Ao)return;const u=e instanceof ns,m=this.naturalBounds;let v=0,b=0;const S=this.zf;let A=S?+a.width:a.naturalWidth,M=S?+a.height:a.naturalHeight;if(A===void 0&&a.videoWidth&&(A=a.videoWidth),M===void 0&&a.videoHeight&&(M=a.videoHeight),h){if(A===0||M===0)return}else A=this.width,M=this.height;const O=A,R=M;this.sourceRect.isReal()&&(v=this.fl.x,b=this.fl.y,A=this.fl.width,M=this.fl.height);let V=A,q=M;const J=this.Ef,re=this.Uf;switch(J){case 0:if(this.sourceRect.isReal())break;V>=m.width&&(v=v+re.offsetX+(V*re.x-m.width*re.x)),q>=m.height&&(b=b+re.offsetY+(q*re.y-m.height*re.y)),A=Math.min(m.width,V),M=Math.min(m.height,q);break;case 2:V=m.width,q=m.height;break;case 6:case 7:let Ke=0;J===6?(Ke=Math.min(m.height/q,m.width/V),V*=Ke,q*=Ke):J===7&&(Ke=Math.max(m.height/q,m.width/V),V*=Ke,q*=Ke,V>=m.width&&(v=(v+re.offsetX+(V*re.x-m.width*re.x)/V)*A),q>=m.height&&(b=(b+re.offsetY+(q*re.y-m.height*re.y)/q)*M),A*=1/(V/m.width),M*=1/(q/m.height),V=m.width,q=m.height);break}const se=A*M,ne=this.getDocumentScale()*n.scale,xe=V*ne,ye=q*ne,we=xe*ye,ze=se/we,Ce=a.__goCache;let Pe=null;const Fe=ss.mE;if(!u){if(a.Mn&&Ce!==void 0&&O<8e3&&R<8e3&&we>4&&ze>Fe*Fe){Ce.Vt===null&&(Ce.vD(4,O,R,a),Ce.vD(16,O,R,a));const Ke=Ce.Vt,lt=Ke.length;for(let ct=0;ct<lt&&Ke[ct].jd*Ke[ct].jd<ze;ct++)Pe=Ke[ct]}if(!n.od&&(this.Vf===null&&this.gE(),this.Vf))return}const Re=V<m.width?re.offsetX+(m.width*re.x-V*re.x):0,We=q<m.height?re.offsetY+(m.height*re.y-q*re.y):0;switch(this.flip){case 0:break;case 2:e.translate(Math.min(m.width,V),0),e.scale(-1,1);break;case 1:e.translate(0,Math.min(m.height,q)),e.scale(1,-1);break;case 3:e.translate(Math.min(m.width,V),Math.min(m.height,q)),e.scale(-1,-1);break}if(e.commitTransform(),n.getRenderingHint("pictureRatioOptimization")&&!n.ph&&Ce!==void 0&&Pe!==null&&Pe.jd!==1){e.save();const Ke=Pe.jd;try{e.drawImage(Pe.sn,v/Ke,b/Ke,Math.min(Pe.sn.width,A/Ke),Math.min(Pe.sn.height,M/Ke),Re,We,Math.min(m.width,V),Math.min(m.height,q)),e instanceof ns&&(this.U1=[v/Ke,b/Ke,Math.min(Pe.sn.width,A/Ke),Math.min(Pe.sn.height,M/Ke),Re,We,Math.min(m.width,V),Math.min(m.height,q)])}catch{this.my=!1}e.restore()}else try{e.drawImage(a,v,b,A,M,Re,We,Math.min(m.width,V),Math.min(m.height,q)),e instanceof ns&&(this.U1=[v,b,A,M,Re,We,Math.min(m.width,V),Math.min(m.height,q)])}catch{this.my=!1}switch(this.flip){case 0:break;case 2:e.scale(-1,1),e.translate(-Math.min(m.width,V),0);break;case 1:e.scale(1,-1),e.translate(0,-Math.min(m.height,q));break;case 3:e.scale(-1,-1),e.translate(-Math.min(m.width,V),-Math.min(m.height,q));break}}get naturalBounds(){return this.Ke}bd(e,n,a,o){const h=this.desiredSize,u=this.Qs(!0),m=this.cl,v=this.zf;let b=0,S=0;(v||!this.Mn&&m&&m.complete)&&(this.Mn=!0),m===null?(isFinite(h.width)||(e=a),isFinite(h.height)||(n=o)):(b=v?+m.width:m.naturalWidth,S=v?+m.height:m.naturalHeight),!isFinite(h.width)&&u!==2&&u!==5?m!==null&&this.Mn!==!1&&(this.sourceRect.isReal()?e=this.sourceRect.width:e=b):(isFinite(e)||(this.sourceRect.isReal()?e=this.sourceRect.width:m!==null&&(e=b)),a=0),!isFinite(h.height)&&u!==2&&u!==4?m!==null&&this.Mn!==!1&&(this.sourceRect.isReal()?n=this.sourceRect.height:n=S):(isFinite(n)||(this.sourceRect.isReal()?n=this.sourceRect.height:m!==null&&(n=S)),o=0),isFinite(h.width)&&(e=h.width),isFinite(h.height)&&(n=h.height);const A=this.maxSize,M=this.minSize;a=Math.max(a||0,M.width),o=Math.max(o||0,M.height),e=Math.min(A.width,e),n=Math.min(A.height,n),e=Math.max(a,e),n=Math.max(o,n),m!==null&&!m.complete&&(isFinite(e)||(e=0),isFinite(n)||(n=0)),this.Ke.jn(e,n),this.lo(0,0,e,n)}Pa(e,n,a,o){this.commonArrange(e,n,a,o)}};let nt=ss;E(nt,"yy",new l),E(nt,"rk",0),E(nt,"mE",4);class Dt{constructor(){E(this,"Vt");this.Vt=null}vD(i,e,n,a){this.Vt===null&&(this.Vt=[]);const o=new Ca(null),h=o._t,u=1/i;if(o.width=e/i,o.height=n/i,o.width===0||o.height===0)return;const m=new It(o.bt,i);let v=a,b=1;if(this.Vt.length>0){const S=this.Vt[this.Vt.length-1];v=S.sn,b=S.jd}h.setTransform(u*b,0,0,u*b,0,0),h.commitTransform(),h.drawImage(v,0,0),this.Vt.push(m)}}class It{constructor(i,e){E(this,"sn");E(this,"jd");this.sn=i,this.jd=e}}const nu=class{constructor(){E(this,"Ne");E(this,"um");this.um=new pe,this.Ne=null}Ue(i){i!==null?(this.um=i,i.figures.clear()):this.um=new pe,this.Ne=null}Au(i,e,n,a,o,h){if(a!==void 0&&a===!0){const u=new Me(1);u.endX=i,u.endY=e,this.Ne.segments.add(u)}else this.Ne=new Te,this.Ne.startX=i,this.Ne.startY=e,this.Ne.isFilled=n,this.Ne.isEvenOdd=h||!1,this.um.figures.add(this.Ne);o!==void 0&&(this.Ne.isShadowed=o)}_F(){const i=this.Ne.segments.length;i>0&&this.Ne.segments.elt(i-1).close()}tR(){this.Ne.segments.length>0&&(this.Ne.isFilled=!0)}eR(i){this.Ne.isShadowed=i}zU(i){this.Ne.isEvenOdd=i}$F(i,e,n){n===void 0&&(n=!1);const a=new Me(1);a.endX=i,a.endY=e,n&&a.close(),this.Ne.segments.add(a)}Ks(i,e,n){n===void 0&&(n=!1);const a=new Me(2);a.endX=i,a.endY=e,n&&a.close(),this.Ne.segments.add(a)}xr(i,e,n,a,o,h,u){u===void 0&&(u=!1);const m=new Me(3);m.point1X=i,m.point1Y=e,m.point2X=n,m.point2Y=a,m.endX=o,m.endY=h,u&&m.close(),this.Ne.segments.add(m)}Tu(i,e,n,a,o){o===void 0&&(o=!1);const h=new Me(4);h.point1X=i,h.point1Y=e,h.endX=n,h.endY=a,o&&h.close(),this.Ne.segments.add(h)}ZF(i,e,n,a,o,h,u){h===void 0&&(h=0),u===void 0&&(u=!1);const m=new Me(5);m.startAngle=i,m.sweepAngle=e,m.centerX=n,m.centerY=a,m.radiusX=o,h!==0?m.radiusY=h:m.radiusY=o,u&&m.close(),this.Ne.segments.add(m)}QF(i,e,n,a,o,h,u,m){m===void 0&&(m=!1);const v=new Me(6,h,u,i,e,n,a,o);m&&v.close(),this.Ne.segments.add(v)}static qL(i){const e=nu.aC;if(e!==null)return nu.aC=null,e.Ue(i),e;{const n=new nu;return n.Ue(i),n}}static WL(i){nu.aC=i}};let qt=nu;E(qt,"aC",null);{const ee=function(o,h){const u=o.toLowerCase(),m=G.Jn;m[o]=h,m[u]=o};ee("Rectangle",(o,h,u)=>{const m="r"+h+","+u;let v=G.yr[m];return v!==void 0||(v=new pe(2),v.endX=h,v.endY=u,G.wr<G.am&&(G.yr[m]=v,G.wr++)),v}),ee("Square",(o,h,u)=>{const m="s"+h+","+u;let v=G.yr[m];return v!==void 0||(v=new pe(2),v.endX=h,v.endY=u,v.defaultStretch=6,G.wr<G.am&&(G.yr[m]=v,G.wr++)),v});const i=(o,h,u,m,v)=>{(isNaN(m)||m<0)&&(m=5),isNaN(v)&&(v=15);const b="rr"+h+","+u+","+m+","+v;let S=G.yr[b];if(S!==void 0)return S;let A=m;(v&1)===1?(A=Math.min(A,(v&2)===2?h/3:h),A=Math.min(A,(v&8)===8?u/3:u)):A=0;const M=new Te(A,0,!0);S=new pe().add(M);const O=K.TopLeft.copy(),R=K.BottomRight.copy();if((v&2)===2){let V=m;V=Math.min(V,(v&1)===1?h/3:h),V=Math.min(V,(v&4)===4?u/3:u);const q=V*G.qn;M.add(new Me(2,h-V,0)).add(new Me(3,h,V,h-q,0,h,q)),O.offsetY=q,R.offsetX=-q}else M.add(new Me(2,h,0));if((v&4)===4){let V=m;V=Math.min(V,(v&8)===8?h/3:h),V=Math.min(V,(v&2)===2?u/3:u);const q=V*G.qn;M.add(new Me(2,h,u-V)).add(new Me(3,h-V,u,h,u-q,h-q,u)),R.offsetX=-q,R.offsetY=-q}else M.add(new Me(2,h,u));if((v&8)===8){let V=m;V=Math.min(V,(v&4)===4?h/3:h),V=Math.min(V,(v&1)===1?u/3:u);const q=V*G.qn;M.add(new Me(2,V,u)).add(new Me(3,0,u-V,q,u,0,u-q)),O.offsetX=q,R.offsetY=-q}else M.add(new Me(2,0,u));if((v&1)===1){const V=A*G.qn;M.add(new Me(2,0,A)).add(new Me(3,A,0,0,V,V,0).close()),O.offsetX=V,O.offsetY=V}else M.add(new Me(2,0,0).close());return S.spot1=O,S.spot2=R,G.wr<G.am&&(G.yr[b]=S,G.wr++),S};ee("RoundedRectangle",(o,h,u)=>{const m=o?o.parameter1:NaN,v=o?o.parameter2:NaN;return i(o,h,u,m,v)}),ee("Border","RoundedRectangle"),ee("RoundedTopRectangle",(o,h,u)=>{const m=o?o.parameter1:NaN;return i(o,h,u,m,3)}),ee("RoundedBottomRectangle",(o,h,u)=>{const m=o?o.parameter1:NaN;return i(o,h,u,m,12)}),ee("RoundedLeftRectangle",(o,h,u)=>{const m=o?o.parameter1:NaN;return i(o,h,u,m,9)}),ee("RoundedRightRectangle",(o,h,u)=>{const m=o?o.parameter1:NaN;return i(o,h,u,m,6)}),ee("Ellipse",(o,h,u)=>{const m="e"+h+","+u;let v=G.yr[m];return v!==void 0||(v=new pe(3),v.endX=h,v.endY=u,v.spot1=K.vP,v.spot2=K.FP,G.wr<G.am&&(G.yr[m]=v,G.wr++)),v}),ee("Circle",(o,h,u)=>{const m="c"+h+","+u;let v=G.yr[m];return v!==void 0||(v=new pe(3),v.endX=h,v.endY=u,v.spot1=K.vP,v.spot2=K.FP,v.defaultStretch=6,G.wr<G.am&&(G.yr[m]=v,G.wr++)),v}),ee("TriangleRight",(o,h,u)=>new pe().add(new Te(0,0).add(new Me(2,h,.5*u)).add(new Me(2,0,u).close())).setSpots(0,.25,.5,.75)),ee("TriangleDown",(o,h,u)=>new pe().add(new Te(0,0).add(new Me(2,h,0)).add(new Me(2,.5*h,u).close())).setSpots(.25,0,.75,.5)),ee("TriangleLeft",(o,h,u)=>new pe().add(new Te(h,u).add(new Me(2,0,.5*u)).add(new Me(2,h,0).close())).setSpots(.5,.25,1,.75)),ee("TriangleUp",(o,h,u)=>new pe().add(new Te(h,u).add(new Me(2,0,u)).add(new Me(2,.5*h,0).close())).setSpots(.25,.5,.75,1)),ee("Triangle","TriangleUp"),ee("Diamond",(o,h,u)=>new pe().add(new Te(.5*h,0).add(new Me(2,0,.5*u)).add(new Me(2,.5*h,u)).add(new Me(2,h,.5*u).close())).setSpots(.25,.25,.75,.75)),ee("LineH",(o,h,u)=>{const m=new pe(1);return m.startX=0,m.startY=u/2,m.endX=h,m.endY=u/2,m}),ee("LineV",(o,h,u)=>{const m=new pe(1);return m.startX=h/2,m.startY=0,m.endX=h/2,m.endY=u,m}),ee("None","Rectangle"),ee("BarH","Rectangle"),ee("BarV","Rectangle"),ee("MinusLine","LineH"),ee("PlusLine",(o,h,u)=>new pe().add(new Te(0,u/2,!1).add(new Me(2,h,u/2)).add(new Me(1,h/2,0)).add(new Me(2,h/2,u)))),ee("XLine",(o,h,u)=>new pe().add(new Te(0,u,!1).add(new Me(2,h,0)).add(new Me(1,0,0)).add(new Me(2,h,u)))),ee("LineRight",(o,h,u)=>new pe().add(new Te(.25*h,0,!1).add(new Me(2,.75*h,.5*u)).add(new Me(2,.25*h,u)))),ee("LineDown",(o,h,u)=>new pe().add(new Te(0,.25*u,!1).add(new Me(2,.5*h,.75*u)).add(new Me(2,h,.25*u)))),ee("LineLeft",(o,h,u)=>new pe().add(new Te(.75*h,0,!1).add(new Me(2,.25*h,.5*u)).add(new Me(2,.75*h,u)))),ee("LineUp",(o,h,u)=>new pe().add(new Te(0,.75*u,!1).add(new Me(2,.5*h,.25*u)).add(new Me(2,h,.75*u)))),ee("Capsule",(o,h,u)=>{const m=new pe;if(h<u){const v=h/2,b=new Te(0,v,!0);m.add(b),b.add(new Me(5,180,180,v,v,v,v)),b.add(new Me(2,h,u-v)),b.add(new Me(5,0,180,v,u-v,v,v)),b.add(new Me(2,0,v));const S=isFinite(o.parameter1)?o.parameter1:h*.156;return m.setSpots(0,0,1,1,0,S,0,-S),m}else if(h>u){const v=u/2,b=new Te(v,0,!0);m.add(b),b.add(new Me(2,h-v,0)),b.add(new Me(5,270,180,h-v,v,v,v)),b.add(new Me(2,v,u)),b.add(new Me(5,90,180,v,v,v,v));const S=isFinite(o.parameter1)?o.parameter1:u*.156;return m.setSpots(0,0,1,1,S,0,-S,0),m}else return m.type=3,m.endX=h,m.endY=u,m.spot1=K.vP,m.spot2=K.FP,m});const e=(o,h)=>new Te(o,h,!1,!1),n=(o,h,u)=>o.add(new Me(2,h,u)),a=(o,h,u)=>o.add(new Me(1,h,u));ee("Borders",(o,h,u)=>{let m=o?o.parameter1:NaN;isNaN(m)?m=10:m=m&15;const v=new pe;let b;return m===10?(b=e(h,0),n(b,h,u),a(b,0,u),n(b,0,0)):m===5?(b=e(0,0),n(b,h,0),a(b,h,u),n(b,0,u)):m===1?(b=e(0,0),n(b,h,0),a(b,h,u)):m===2?(b=e(h,0),n(b,h,u)):m===4?(b=e(h,u),n(b,0,u)):m===8?(b=e(0,u),n(b,0,0),a(b,h,u)):m===3?(b=e(0,0),n(b,h,0),n(b,h,u)):m===6?(b=e(h,0),n(b,h,u),n(b,0,u)):m===12?(b=e(h,u),n(b,0,u),n(b,0,0)):m===9?(b=e(0,u),n(b,0,0),n(b,h,0)):m===7?(b=e(0,0),n(b,h,0),n(b,h,u),n(b,0,u)):m===14?(b=e(h,0),n(b,h,u),n(b,0,u),n(b,0,0)):m===13?(b=e(h,u),n(b,0,u),n(b,0,0),n(b,h,0)):m===11?(b=e(0,u),n(b,0,0),n(b,h,0),n(b,h,u)):m===15?(b=e(0,0),n(b,h,0),n(b,h,u),n(b,0,u),b.add(new Me(2,0,0).close())):(b=e(0,0),a(b,h,u)),v.add(b),v})}G.lm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};var ti=(ee=>(ee[ee.None=0]="None",ee[ee.Added=1]="Added",ee[ee.Removed=2]="Removed",ee[ee.Shown=4]="Shown",ee[ee.Hidden=8]="Hidden",ee[ee.NodeSized=16]="NodeSized",ee[ee.GroupLayout=32]="GroupLayout",ee[ee.NodeReplaced=64]="NodeReplaced",ee[ee.Standard=127]="Standard",ee[ee.All=16777215]="All",ee))(ti||{});const Br=class extends j{constructor(e,n){let a;e===void 0||e instanceof Ve||typeof e=="string"?a=e:e&&(n=e);super(a);E(this,"b");E(this,"_o");E(this,"H");E(this,"dl");E(this,"gl");E(this,"tr");E(this,"ue");E(this,"pl");E(this,"Ta");E(this,"nn");E(this,"er");E(this,"qd");E(this,"UM");E(this,"FD");E(this,"xy");E(this,"ky");this.b=2408959,this._o="",this.H=null,this.dl="",this.gl=null,this.tr=null,this.ue="",this.pl=null,this.Ta=null,this.nn=new N(NaN,NaN).k(),this.er=null,this.qd=NaN,this.UM=-1,this.FD=new W,this.xy=null,this.ky=NaN,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.b=this.b&-4097|16384|32768,e._o=this._o,this.H!==null&&(this.H.me?e.H=this.H:e.H=this.H.copy()),e.dl=this.dl,e.tr=null,e.ue=this.ue,e.nn.h(this.nn),e.qd=this.qd}jo(e){super.jo(e),e.Sa(),e.gl=null,e.er=null,e.xy=null}toString(){let e=s.Hn(this.constructor)+"#"+C.xs(this);return this.data!==null&&(e+="("+s.toString(this.data)+")"),e}_e(){return this.H===null?this.H=new Qi:this.H.me&&(this.H=this.H.copy()),this.H}ba(){super.ba(),this.H!==null&&(this.H.me=!0)}gf(e,n,a,o,h,u,m){const v=this.diagram;v!==null&&(e===3&&n==="elements"?h instanceof j?h.Sn(b=>{v.partManager.N2(b,v)}):h instanceof nt&&v.F2(h):e===4&&n==="elements"&&(h instanceof j?h.Sn(b=>v.partManager.C2(b,v)):h instanceof nt&&v.R2(h)),v.raiseChangedEvent(e,n,a,o,h,u,m))}updateTargetBindings(e){if(super.updateTargetBindings(e),this.data===null)return;const n=this.D.r,a=n.length;for(let h=0;h<a;h++){const u=n[h];u instanceof j&&u.Sn(m=>{m.data!==null&&m.JI(e)})}const o=this.adornments;for(;o.next();)o.value.updateTargetBindings(e)}Yo(){if(super.Yo(),this.RN()){const n=this.D.r,a=n.length;for(let o=0;o<a;o++){const h=n[o];h instanceof j&&h.Sn(u=>u.Yo())}}const e=this.adornments;for(;e.next();)e.value.Yo()}updateRelationshipsFromData(){var e;this.data!==null&&((e=this.diagram)==null||e.partManager.updateRelationshipsFromData(this))}get key(){const e=this.diagram;if(e!==null)return e.model.getKeyForNodeData(this.data)}get adornments(){return this.tr===null?c.instance:this.tr.iteratorValues}findAdornment(e){const n=this.tr;return n===null?null:n.get(e)}addAdornment(e,n){if(n===null)return;let a=null,o=this.tr;if(o!==null&&(a=o.get(e)),a!==n){if(a!==null){const u=a.diagram;u!==null&&u.remove(a)}o===null&&(o=new Q,this.tr=o),n._o!==e&&(n.category=e),o.set(e,n);const h=this.diagram;if(h!==null){h.add(n);const u=n.adornedObject;if(u!==null){const m=u.findBindingPanel();m!==null&&(n.data=m.data)}}}}removeAdornment(e){const n=this.tr;if(n===null)return;const a=n.get(e);if(a!==null){const o=a.diagram;o!==null&&(o.remove(a),a.data=null)}n.delete(e),n.count===0&&(this.tr=null)}clearAdornments(){const e=this.tr;if(e===null)return;const n=s.nt(),a=e.iterator;for(;a.next();){const h=a.key;n.push(h)}const o=n.length;for(let h=0;h<o;h++)this.removeAdornment(n[h]);s.Z(n)}updateAdornments(){const e=this.diagram;if(e===null)return;this.pE(e),this.yE(e);let n=this.adornments;for(;n.next();){const a=n.value;a.c(),a.hasPlaceholder()&&a.placeholder.c()}for(n=this.adornments;n.next();)n.value.updateTargetBindings()}invalidateAdornments(){const e=this.diagram;e!==null&&(e.ha(),this.RD()!==!0&&this.OD(!0))}VM(){this.RD()!==!1&&(this.updateAdornments(),this.OD(!1))}pE(e){const n="Selection";if(this.isSelected&&this.selectionAdorned){const a=this.selectionObject;if(a!==null&&this.actualBounds.isReal()&&this.isVisible()&&a.isVisibleObject()&&a.actualBounds.isReal()){let o=this.findAdornment(n);if(o===null){let h=this.selectionAdornmentTemplate;h===null&&(this.Ar()?h=e.linkSelectionAdornmentTemplate:this instanceof Jt?h=e.groupSelectionAdornmentTemplate:h=e.nodeSelectionAdornmentTemplate),o=h.copy(),o!==null&&(this.Ar()&&this.selectionObject===this.path&&(o.type=j.Link),o.adornedObject=a)}if(o!==null){o.type===j.Link&&o.c(),this.addAdornment(n,o);return}}}this.removeAdornment(n)}yE(e){const n=this;e.toolManager.mouseDownTools.each(a=>{a.isEnabled&&a.updateAdornments(n)}),e.toolManager.updateAdornments(n)}IM(e){this.pl=e,e===null&&this.uI()}get layer(){return this.pl}get diagram(){const e=this.pl;return e==null?null:e.diagram}get layerName(){return this.dl}set layerName(e){const n=this.dl;if(n===e)return;let a=this.diagram;if(a!==null&&(a.findLayer(e)===null||a.partManager.addsToTemporaryLayer))return;this.dl=e,a!==null&&a.invalidateDocumentBounds(),this.t("layerName",n,e);const o=this.layer;if(o===null||o.name===e||(a=o.diagram,a===null))return;const h=a.findLayer(e);if(h===null||h===o)return;let u=o.ri(-1,this,!0);u>=0&&a.raiseChangedEvent(4,"parts",o,this,null,u,!0),u=h.ch(99999999,this,!0),o.visible!==h.visible&&this.Xe(h.visible),u>=0&&a.raiseChangedEvent(3,"parts",h,null,this,!0,u);const m=this.layerChanged;if(m===null)return;const v=a.G;a.G=!0,m(this,o,h),a.G=v}get layerChanged(){return this.H!==null?this.H.Py:null}set layerChanged(e){const n=this.layerChanged;n!==e&&(e!==null&&s.S(e,Br,"layerChanged"),this._e().Py=e,this.t("layerChanged",n,e))}get zOrder(){return this.qd}set zOrder(e){const n=this.qd;if(n===e)return;this.qd=e;const a=this.layer;a!==null&&a.rb(-1,this),this.t("zOrder",n,e);const o=this.diagram;o!==null&&o.C()}wE(){const e=this.layer;e!==null&&e.rb(-1,this)}hk(){if(this.fa()!==!1)return;this.hC(!0),this.yf();const e=this.diagram;e!==null&&(e.Cp(this),e.requestUpdate())}ID(){if(this.b|=2097152,this.fa()===!1)return;const e=this.position,n=this.location;(!n.isReal()||!e.isReal())&&this.ED(e,n);const a=this.De,o=W.l().h(a);a.ce(),a.x=e.x,a.y=e.y,a.k(),this.kd(o,a),W.i(o),this.hC(!1),this.yf()}lo(e,n,a,o){const h=this.hi;h.e(e,n,a,o),this.Se===null&&(this.Se=new le);const u=this.Se;u.Ue(),this.Kp(u,e,n,a,o),this.Se=u,u.RP()||u.sm(h)}Kp(e,n,a,o,h){if(this.it!==1&&e.it(this.it),this.Xt===0)return;let u=K.Center;this.locationSpot.isSpot()&&(u=this.locationSpot);const m=N.l();if(this.locationObject!==this){const v=this.locationObject,b=v.naturalBounds;m.setSpot(b.x,b.y,b.width,b.height,u),v.Se!==null&&v.Se.gt(m),m.offset(-v.measuredBounds.x,-v.measuredBounds.y);let S=v.panel;for(;S!==null&&S!==this;)S.Se!==null&&S.Se.gt(m),m.offset(-S.measuredBounds.x,-S.measuredBounds.y),S=S.panel}else m.setSpot(n,a,o,h,u);e.ks(this.Xt,m.x,m.y),N.i(m)}get locationObject(){var e;if(this.er===null)if(this instanceof Zt&&this.type!==j.Link&&this.hasPlaceholder())this.er=this.placeholder;else{const n=this.locationObjectName;if(n!==""){const a=this.findObject(n);a!==null?this.er=a:this.er=this}else this.er=this}return(e=this.er)!=null&&e.visible?this.er:this}get minLocation(){return this.H!==null?this.H.Sy:N.DL}set minLocation(e){const n=this.minLocation;n.equals(e)||(e=e.N(),this._e().Sy=e,this.t("minLocation",n,e))}get maxLocation(){return this.H!==null?this.H.My:N.vL}set maxLocation(e){const n=this.maxLocation;n.equals(e)||(e=e.N(),this._e().My=e,this.t("maxLocation",n,e))}get locationObjectName(){return this.H!==null?this.H.Ny:""}set locationObjectName(e){const n=this.locationObjectName;n!==e&&(this._e().Ny=e,this.er=null,this.c(),this.t("locationObjectName",n,e))}get locationSpot(){return this.H!==null?this.H.Cy:K.TopLeft}set locationSpot(e){const n=this.locationSpot;n.equals(e)||(e=e.N(),this._e().Cy=e,this.c(),this.t("locationSpot",n,e))}move(e,n){n===!0?this.location=e:this.position=e}moveTo(e,n,a){const o=N.z(e,n);this.move(o,a),N.i(o)}isVisible(){if(!this.visible)return!1;const e=this.layer;if(e!==null){if(!e.visible)return!1;const a=e.diagram;if(a!==null&&a.animationManager.Wx(this))return!0}const n=this.containingGroup;return!(n!==null&&(!n.isSubGraphExpanded||!n.isVisible()))}Xe(e){const n=this.diagram;e?(this.invalidateLayout(4),this.invalidateAdornments(),n!==null&&n.Cp(this)):(this.invalidateLayout(8),this.clearAdornments()),this.Sa(),n!==null&&(n.invalidateDocumentBounds(),this instanceof Ct&&this.canAvoid()&&n.fd(this),n.C())}findObject(e){if(this.name===e)return this;let n=this.xy;if(n===null&&(this.xy=n=new Q),n.get(e)!==null)return n.get(e);const a=super.findObject(e);return a!==null?(n.set(e,a),a):(n.set(e,null),null)}s0(){this.xy=null}getRelativePoint(e,n,a){a===void 0&&(a=new N);const o=n.isNoSpot()?K.Center:n,h=e.naturalBounds;if(a.e(h.width*o.x+o.offsetX,h.height*o.y+o.offsetY),e===null||e===this)return a;e.v.gt(a);let u=e.panel;for(;u!==null&&u!==this;)u.v.gt(a),u=u.panel;return this.Se!==null&&this.Se.gt(a),a.offset(-this.hi.x,-this.hi.y),a}getDocumentBounds(e){return e===void 0&&(e=new W),e.h(this.actualBounds)}ensureBounds(){this.ht(1/0,1/0),this.Ut()}cD(e){const n=this.locationSpot,a=this.locationObject;let o=a.naturalBounds;o.isReal()||(o=W.em);const h=a instanceof ke?a.strokeWidth:0;if(e.setSpot(0,0,o.width+h,o.height+h,n),a!==this){e.offset(-h/2,-h/2),a.v.gt(e);let u=a.panel;for(;u!==null&&u!==this;)u.v.gt(e),u=u.panel}return this.Se!==null&&this.Se.gt(e),e.offset(-this.hi.x,-this.hi.y),e}hh(e,n){const a=n===void 0?this.FD:n,o=this.xE(),h=o*2;if(!this.isShadowed)return a.e(e.x-1-o,e.y-1-o,e.width+2+h,e.height+2+h),a;let u=e.x,m=e.y,v=e.width,b=e.height;const S=this.shadowBlur,A=this.shadowOffset;return v+=S,b+=S,u-=S/2,m-=S/2,A.x>0?v+=A.x:(u+=A.x,v-=A.x),A.y>0?b+=A.y:(m+=A.y,b-=A.y),a.e(u-1,m-1,v+2,b+2),a}eE(){return this.type===j.Link&&this instanceof Zt&&this.category==="Selection"&&this.adornedObject instanceof ke&&this.adornedPart.findMainElement()===this.adornedObject?this.adornedObject.strokeWidth:0}xE(){return isNaN(this.ky)&&(this.ky=this.yD()),this.ky}Df(){this.ky=NaN}Ut(){if(this.as()===!1){this.ID();return}this.ao(!1);const e=this.De,n=W.l();n.h(e);const a=this.Ul();this.Pa(0,0,this.hi.width,this.hi.height);const o=this.position;this.ED(o,this.location),e.ce(),e.x=o.x,e.y=o.y,e.k(),this.kd(n,e),n.equals(e)?this.As(a):this.Di()&&(!G.u(n.width,e.width)||!G.u(n.height,e.height))&&this.UM>=0&&this.invalidateLayout(16),W.i(n),this.hC(!1)}kd(e,n){const a=this.diagram;if(a===null)return;let o=!1;if(a.mh===!1&&e.isReal()){const h=W.l();h.h(a.documentBounds),h.subtractMargin(a.padding),e.x>h.x&&e.y>h.y&&e.right<h.right&&e.bottom<h.bottom&&n.x>h.x&&n.y>h.y&&n.right<h.right&&n.bottom<h.bottom&&(o=!0),W.i(h)}(this.bE()===!0||!e.equals(n))&&this.dT(o,a),a.C(),!(!e.isReal()&&!n.isReal()||e.equalsApproxClose(n))&&(this instanceof Ct&&!a.undoManager.isUndoingRedoing&&this.invalidateConnectedLinks(),this.Sa())}get location(){return this.nn}set location(e){const n=e.x,a=e.y,o=this.nn;(o.x!==n&&(!isNaN(o.x)||!isNaN(n))||o.y!==a&&(!isNaN(o.y)||!isNaN(a)))&&(e=e.copy(),this.kE(e,o)&&this.t("location",o,e.copy()))}kE(e,n){if(this.Ar())return!1;if(this.nn=e,this.b|=2097152,this.as()===!1){this.hk();const a=this.ct;if(a.isReal()){const o=this.diagram;if(o===null||o.animationManager.isTicking||!o.undoManager.isUndoingRedoing){const h=a.copy();a.e(a.x+(e.x-n.x),a.y+(e.y-n.y)),this.UD(o,a,h.x,h.y),this.t("position",h,a.copy())}}}return!0}DN(e,n,a){if(this.Ar()||!e.isReal())return!1;const o=this.diagram;if(o!==null&&this.UD(o,e,n,a),this.ct=e,this.b&=-2097153,this.nn.isReal()&&(o===null||o.animationManager.isTicking||!o.undoManager.isUndoingRedoing)){const h=this.nn;this.nn=new N(h.x+(e.x-n),h.y+(e.y-a)).k(),this.t("location",h,this.nn.copy())}return this.fa()===!1&&this.as()===!1&&(this.hk(),this.ID()),!0}UD(e,n,a,o){if(e===null||this instanceof Zt)return;const h=e.animationManager;h.ke&&h.vA(this,new N(a,o),n,!1)}Uc(e,n,a){const o=this.nn,h=this.ct;if(a){if(o.x===e&&o.y===n)return;this.fa()||this.as()?h.e(NaN,NaN):h.e(h.x+e-o.x,h.y+n-o.y),o.e(e,n)}else{if(h.x===e&&h.y===n)return;o.e(o.x+e-h.x,o.y+n-h.y),h.e(e,n)}this.hk()}vN(){this.b&=-2097153,this.hk()}ED(e,n){const a=this.cD(N.l()),o=this.diagram,h=n.isReal(),u=e.isReal();h&&u?this.b&2097152?this.VD(e,n,o,a):this.BD(e,n,o,a):h?this.VD(e,n,o,a):u&&this.BD(e,n,o,a),this.b|=2097152,N.i(a),this.yf()}VD(e,n,a,o){const h=e.x,u=e.y;if(e.e(n.x-o.x,n.y-o.y),a!==null){const m=a.animationManager,v=m.defaultAnimation.isAnimating;!v&&m.ke&&!(this instanceof Zt)&&m.vA(this,new N(h,u),e,!1),!v&&!(e.x===h&&e.y===u)&&this.t("position",new N(h,u),e.copy())}}BD(e,n,a,o){const h=n.copy();n.e(e.x+o.x,e.y+o.y),!n.equals(h)&&a!==null&&this.t("location",h,n.copy())}dT(e,n){this.NN(!1),this instanceof Ct&&n.fd(this),!this.layer.isTemporary&&!e&&n.invalidateDocumentBounds();const a=this.De,o=n.viewportBounds;o.isReal()?this.Ul()?(a.UL(o,10)||this.As(!1),this.updateAdornments()):this.isVisible()&&a.intersectsRect(o)?(this.As(!0),this.updateAdornments()):this.invalidateAdornments():n.tf=!0}_r(){return!0}Di(){return!0}Ar(){return!1}_s(){return!0}hasPlaceholder(){return!1}get category(){return this._o}set category(e){const n=this._o;if(n===e)return;this.svg!==null&&(this.svg.remove(),this.$i(!0));const a=this.diagram,o=this.data;let h=null;if(a!==null&&o!==null&&!(this instanceof Zt)){const u=a.model.undoManager;u.isEnabled&&!u.isUndoingRedoing&&(h=this.clone(),h.D.addAll(this.D))}if(this._o=e,this.t("category",n,e),a!==null&&o!==null&&!(this instanceof Zt)){const u=a.model;if(u.undoManager.isUndoingRedoing)return;if(this.Ar()){a.partManager.setLinkCategoryForData(o,e);const m=a.partManager.findLinkTemplateForCategory(e);if(m!==null){m.It();const v=m.copy();v!==null&&this.cC(v,n,e)}}else{u!==null&&u.setCategoryForNodeData(o,e);const m=a.partManager.findTemplateForNodeData(o,e);if(m!==null){m.It();const v=m.copy();if(v!==null&&!(v instanceof yt)){const b=this.location.copy();this.cC(v,n,e),this.location.isReal()||(this.location=b)}}}if(h!==null){const m=this.clone();m.D.addAll(this.D),this.t("self",h,m)}}else if(this instanceof Zt){const u=this.adornedPart;if(u!==null){const m=u.tr;m!==null&&m.delete(n),u.addAdornment(this.category,this)}}}get self(){return this}set self(e){this.cC(e,this.category,e.category)}cC(e,n,a){e.constructor!==this.constructor&&(Br.zD||(Br.zD=!0,s.ne('Should not change the class of the Part when changing category from "'+n+'" to "'+a+'"'),s.ne("  Old class: "+s.Hn(this.constructor)+", new class: "+s.Hn(e.constructor)+", part: "+this.toString()))),this.clearAdornments();const o=this.data,h=this.layerName,u=this.isSelected,m=this.isHighlighted;let v=!0,b=!0,S=!1;this instanceof Ct&&(v=this.isTreeLeaf,b=this.isTreeExpanded,S=this.wasTreeExpanded),e.jo(this),e.cloneProtected(this),this._o=a,this.svg!==null&&(this.svg.remove(),this.Wc(),this.$i(!0)),this.c(),this.C();const A=this.diagram;let M=!0;A!==null&&(M=A.skipsUndoManager,A.skipsUndoManager=!0),this.te=o,this.b=u?this.b|4096:this.b&-4097,this.b=m?this.b|524288:this.b&-524289,this instanceof Ct&&(this.E=v?this.E|4:this.E&-5,this.E=b?this.E|1:this.E&-2,this.E=S?this.E|2:this.E&-3),o!==null&&this.updateTargetBindings();const O=this.layerName;O!==h&&(this.dl=h,this.layerName=O),A!==null&&(A.skipsUndoManager=M),this.Di()&&this.invalidateLayout(64)}canCopy(){if(!this.copyable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowCopy)return!1;const n=e.diagram;return n===null?!0:!!n.allowCopy}canDelete(){if(!this.deletable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowDelete)return!1;const n=e.diagram;return n===null?!0:!!n.allowDelete}canEdit(){if(!this.textEditable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowTextEdit)return!1;const n=e.diagram;return n===null?!0:!!n.allowTextEdit}canGroup(){if(!this.groupable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowGroup)return!1;const n=e.diagram;return n===null?!0:!!n.allowGroup}canMove(){if(!this.movable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowMove)return!1;const n=e.diagram;return n===null?!0:!!n.allowMove}canReshape(){if(!this.reshapable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowReshape)return!1;const n=e.diagram;return n===null?!0:!!n.allowReshape}canResize(){if(!this.resizable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowResize)return!1;const n=e.diagram;return n===null?!0:!!n.allowResize}canRotate(){if(!this.rotatable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRotate)return!1;const n=e.diagram;return n===null?!0:!!n.allowRotate}canSelect(){if(!this.selectable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowSelect)return!1;const n=e.diagram;return n===null?!0:!!n.allowSelect}get copyable(){return(this.b&1)!==0}set copyable(e){const n=(this.b&1)!==0;n!==e&&(this.b=this.b^1,this.t("copyable",n,e))}get deletable(){return(this.b&2)!==0}set deletable(e){const n=(this.b&2)!==0;n!==e&&(this.b=this.b^2,this.t("deletable",n,e))}get textEditable(){return(this.b&4)!==0}set textEditable(e){const n=(this.b&4)!==0;n!==e&&(this.b=this.b^4,this.t("textEditable",n,e),this.invalidateAdornments())}get groupable(){return(this.b&8)!==0}set groupable(e){const n=(this.b&8)!==0;n!==e&&(this.b=this.b^8,this.t("groupable",n,e))}get movable(){return(this.b&16)!==0}set movable(e){const n=(this.b&16)!==0;n!==e&&(this.b=this.b^16,this.t("movable",n,e))}get selectionAdorned(){return(this.b&32)!==0}set selectionAdorned(e){const n=(this.b&32)!==0;n!==e&&(this.b=this.b^32,this.t("selectionAdorned",n,e),this.invalidateAdornments())}get isInDocumentBounds(){return(this.b&64)!==0}set isInDocumentBounds(e){const n=(this.b&64)!==0;if(n!==e){this.b=this.b^64;const a=this.diagram;a!==null&&a.invalidateDocumentBounds(),this.t("isInDocumentBounds",n,e)}}get isLayoutPositioned(){return(this.b&128)!==0}set isLayoutPositioned(e){const n=(this.b&128)!==0;n!==e&&(this.b=this.b^128,this.t("isLayoutPositioned",n,e),this.invalidateLayout(e?4:8))}get selectable(){return(this.b&256)!==0}set selectable(e){const n=(this.b&256)!==0;n!==e&&(this.b=this.b^256,this.t("selectable",n,e),this.invalidateAdornments())}get reshapable(){return(this.b&512)!==0}set reshapable(e){const n=(this.b&512)!==0;n!==e&&(this.b=this.b^512,this.t("reshapable",n,e),this.invalidateAdornments())}get resizable(){return(this.b&1024)!==0}set resizable(e){const n=(this.b&1024)!==0;n!==e&&(this.b=this.b^1024,this.t("resizable",n,e),this.invalidateAdornments())}get rotatable(){return(this.b&2048)!==0}set rotatable(e){const n=(this.b&2048)!==0;n!==e&&(this.b=this.b^2048,this.t("rotatable",n,e),this.invalidateAdornments())}get isSelected(){return(this.b&4096)!==0}set isSelected(e){const n=(this.b&4096)!==0;if(n!==e){const a=this.diagram;if(e){if(!this.canSelect())return;if(a!==null){const u=a.maxSelectionCount;if(a.selection.count>=u)return}}this.b=this.b^4096;let o=!1;if(a!==null){o=a.skipsUndoManager,a.skipsUndoManager=!0;const u=a.selection;u.ce(),e?u.add(this):u.delete(this),u.k()}this.t("isSelected",n,e),this.invalidateAdornments();const h=this.selectionChanged;h!==null&&h(this),a!==null&&(a.requestUpdate(),a.skipsUndoManager=o)}}get isHighlighted(){return(this.b&524288)!==0}set isHighlighted(e){const n=(this.b&524288)!==0;if(n!==e){this.b=this.b^524288;const a=this.diagram;if(a!==null){const h=a.highlighteds;h.ce(),e?h.add(this):h.delete(this),h.k()}this.t("isHighlighted",n,e),this.C();const o=this.highlightedChanged;o!==null&&o(this)}}get isShadowed(){return(this.b&8192)!==0}set isShadowed(e){const n=(this.b&8192)!==0;n!==e&&(this.b=this.b^8192,this.$i(!0),this.t("isShadowed",n,e),this.C())}RD(){return(this.b&16384)!==0}OD(e){e?this.b|=16384:this.b&=-16385}fa(){return(this.b&32768)!==0}hC(e){e?this.b|=32768:this.b&=-32769}bE(){return(this.b&65536)!==0}NN(e){e?this.b|=65536:this.b&=-65537}Ul(){return(this.b&131072)!==0}As(e){e?this.b|=131072:this.b&=-131073}XD(){return(this.b&1048576)!==0}ck(e){e?this.b|=1048576:this.b&=-1048577}get isAnimated(){return(this.b&262144)!==0}set isAnimated(e){const n=(this.b&262144)!==0;n!==e&&(this.b=this.b^262144,this.t("isAnimated",n,e))}get highlightedChanged(){return this.H!==null?this.H.Ly:null}set highlightedChanged(e){const n=this.highlightedChanged;n!==e&&(e!==null&&s.S(e,Br,"highlightedChanged"),this._e().Ly=e,this.t("highlightedChanged",n,e))}get selectionObjectName(){return this.H!==null?this.H.Ay:""}set selectionObjectName(e){const n=this.selectionObjectName;n!==e&&(this._e().Ay=e,this.gl=null,this.t("selectionObjectName",n,e))}get selectionAdornmentTemplate(){return this.H!==null?this.H.Ty:null}set selectionAdornmentTemplate(e){const n=this.selectionAdornmentTemplate;n!==e&&(e!==null&&e.It(),this._e().Ty=e,this.t("selectionAdornmentTemplate",n,e))}get selectionObject(){if(this.gl===null){const e=this.selectionObjectName;if(e!==null&&e!==""){const n=this.findObject(e);n!==null?this.gl=n:this.gl=this}else if(this instanceof yt){const n=this.path;n!==null?this.gl=n:this.gl=this}else this.gl=this}return this.gl}get selectionChanged(){return this.H!==null?this.H.Dy:null}set selectionChanged(e){const n=this.selectionChanged;n!==e&&(e!==null&&s.S(e,Br,"selectionChanged"),this._e().Dy=e,this.t("selectionChanged",n,e))}get resizeAdornmentTemplate(){return this.H!==null?this.H.vy:null}set resizeAdornmentTemplate(e){const n=this.resizeAdornmentTemplate;n!==e&&(this._e().vy=e!==null?e.It():null,this.t("resizeAdornmentTemplate",n,e))}get resizeObjectName(){return this.H!==null?this.H.Fy:""}set resizeObjectName(e){const n=this.resizeObjectName;n!==e&&(this._e().Fy=e,this.t("resizeObjectName",n,e))}get resizeObject(){const e=this.resizeObjectName;if(e!==""){const n=this.findObject(e);if(n!==null)return n}return this}get resizeCellSize(){return this.H!==null?this.H.Ry:X.Zw}set resizeCellSize(e){const n=this.resizeCellSize;n.equals(e)||(e=e.N(),this._e().Ry=e,this.t("resizeCellSize",n,e))}get rotateAdornmentTemplate(){return this.H!==null?this.H.Oy:null}set rotateAdornmentTemplate(e){const n=this.rotateAdornmentTemplate;n!==e&&(this._e().Oy=e!==null?e.It():null,this.t("rotateAdornmentTemplate",n,e))}get rotateObjectName(){return this.H!==null?this.H.Iy:""}set rotateObjectName(e){const n=this.rotateObjectName;n!==e&&(this._e().Iy=e,this.t("rotateObjectName",n,e))}get rotateObject(){const e=this.rotateObjectName;if(e!==""){const n=this.findObject(e);if(n!==null)return n}return this}get rotationSpot(){return this.H!==null?this.H.Ey:K.Default}set rotationSpot(e){const n=this.rotationSpot;n.equals(e)||(e=e.N(),this._e().Ey=e,this.t("rotationSpot",n,e))}get text(){return this.ue}set text(e){const n=this.ue;n!==e&&(this.ue=e,this.t("text",n,e))}get containingGroup(){return this.Ta}set containingGroup(e){if(this.Di()){const n=this.Ta;if(n!==e){e!==null&&(this===e||e.isMemberOf(this))&&(this===e&&s.o("Cannot make a Group a member of itself: "+this.toString()),s.o("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+e.toString())),this.invalidateLayout(2);const a=this.diagram;if(n!==null?n.fC(this):this instanceof Jt&&a!==null&&a.Zr.delete(this),this.Ta=e,e!==null?e.uC(this):this instanceof Jt&&a!==null&&a.Zr.add(this),this.invalidateLayout(1),a!==null&&a.G){const h=this.data,u=a.model;if(h!==null&&u.uf()){const m=e!==null?e.data:null;u.setGroupForData(h,u.getKeyForNodeData(m))}}const o=this.containingGroupChanged;if(o!==null){let h=!0;a!==null&&(h=a.G,a.G=!0),o(this,n,e),a!==null&&(a.G=h)}if(this instanceof Jt){const h=new C;Br.ga(h,this,!0,0,!0);const u=h.iterator;for(;u.next();){const m=u.value;if(m instanceof Ct){const v=m.linksConnected;for(;v.next();)v.value.Wd()}}}if(this instanceof Ct){const h=this.linksConnected;for(;h.next();)h.value.Wd();const u=this.labeledLink;u!==null&&u.Wd()}this.t("containingGroup",n,e),e!==null&&e.wE()}}else s.o("cannot set the Part.containingGroup of a Link or Adornment")}Sa(){const e=this.containingGroup;e!==null&&(e.hasPlaceholder()&&e.placeholder.c(),e.c(),e.invalidateConnectedLinks())}C(){const e=this.diagram;e!==null&&!this.as()&&!this.fa()&&this.isVisible()&&this.De.isReal()&&e.C(this.hh(this.De))}c(){if(this.Go())return;super.c();const e=this.diagram;e!==null&&(e.Cp(this),this instanceof Ct&&this.labeledLink!==null&&this.labeledLink.Pf(),e.requestUpdate(!0))}Pf(e){if(this.as())return;const n=this.diagram;n!==null&&(n.Cp(this),this instanceof Ct&&this.invalidateConnectedLinks(),n.requestUpdate()),this.ao(!0)}tp(e){if(!e){const n=this.Ta;n!==null&&n.uC(this)}}ep(e){if(!e){const n=this.Ta;n!==null&&n.fC(this)}}lf(){const e=this.data;if(e!==null){const n=this.diagram;if(n!==null){const a=n.model;a!==null&&a.removeNodeData(e)}}}get containingGroupChanged(){return this.H!==null?this.H.Uy:null}set containingGroupChanged(e){const n=this.containingGroupChanged;n!==e&&(e!==null&&s.S(e,Br,"containingGroupChanged"),this._e().Uy=e,this.t("containingGroupChanged",n,e))}findSubGraphLevel(){return this.dC(this)}dC(e){const n=e.containingGroup;if(n!==null)return 1+this.dC(n);if(e instanceof Ct){const a=e.labeledLink;if(a!==null)return this.dC(a)}return 0}findTopLevelPart(){return this.gC(this)}gC(e){const n=e.containingGroup;if(n!==null)return this.gC(n);if(e instanceof Ct){const a=e.labeledLink;if(a!==null)return this.gC(a)}return e}get isTopLevel(){return!(this.containingGroup!==null||this instanceof Ct&&this.labeledLink!==null)}isMemberOf(e){return e instanceof Jt?this.mC(this,e):!1}mC(e,n){if(e===n||n===null)return!1;const a=e.containingGroup;if(a!==null&&(a===n||this.mC(a,n)))return!0;if(e instanceof Ct){const o=e.labeledLink;if(o!==null)return this.mC(o,n)}return!1}findCommonContainingGroup(e){if(e===null)return null;if(this===e)return this.containingGroup;let n=this;for(;n!==null;){if(n instanceof Jt&&n.ck(!0),n instanceof Ct){const o=n.labeledLink;o!==null&&(n=o)}n=n.containingGroup}let a=null;for(n=e;n!==null;){if(n.XD()){a=n;break}if(n instanceof Ct){const o=n.labeledLink;o!==null&&(n=o)}n=n.containingGroup}for(n=this;n!==null;){if(n instanceof Jt&&n.ck(!1),n instanceof Ct){const o=n.labeledLink;o!==null&&(n=o)}n=n.containingGroup}return a}get layoutConditions(){return this.H!==null?this.H.Vy:127}set layoutConditions(e){const n=this.layoutConditions;n!==e&&(this._e().Vy=e,this.t("layoutConditions",n,e))}canLayout(){if(!this.isLayoutPositioned||!this.isVisible())return!1;const e=this.layer;return!(e!==null&&e.isTemporary||this instanceof Ct&&this.isLinkLabel)}PE(e){if(!this.isLayoutPositioned||!(e&this.layoutConditions))return!1;const n=this.layer;if(n!==null&&n.isTemporary||this instanceof Ct&&this.isLinkLabel)return!1;const a=this.diagram;return!(a!==null&&a.undoManager.isUndoingRedoing)}invalidateLayout(e){if(e===void 0&&(e=16777215),!this.PE(e))return;const n=this.Ta;if(n!==null){const a=n.layout;a!==null?a.p():n.invalidateLayout(e)}else{const a=this.diagram;if(a!==null){const o=a.layout;o!==null&&o.p()}}}gT(){if(!this.isVisible())return!1;const e=this.layer;return!(e!==null&&e.isTemporary)}static ga(e,n,a,o,h,u){if(u===void 0&&(u=null),!e.has(n)&&!(u!==null&&!u(n))&&!(n instanceof Zt)){if(e.add(n),n instanceof Ct){if(a&&n instanceof Jt){const m=n.memberParts;for(;m.next();){const v=m.value;Br.ga(e,v,a,o,h,u)}}if(h!==!1){const m=n.linksConnected;for(;m.next();){const v=m.value;if(e.has(v))continue;const b=v.fromNode,S=v.toNode,A=b===null||e.has(b),M=S===null||e.has(S);(h?A&&M:A||M)&&Br.ga(e,v,a,o,h,u)}}if(o>1){const m=n.findTreeChildrenNodes();for(;m.next();){const v=m.value;Br.ga(e,v,a,o-1,h,u)}}}else if(n instanceof yt){const m=n.labelNodes;for(;m.next();){const v=m.value;Br.ga(e,v,a,o,h,u)}}}}get dragComputation(){return this.H!==null?this.H.By:null}set dragComputation(e){const n=this.dragComputation;n!==e&&(e!==null&&s.S(e,Br,"dragComputation"),this._e().By=e,this.t("dragComputation",n,e))}get shadowOffset(){return this.H!==null?this.H.zy:N.FL}set shadowOffset(e){const n=this.shadowOffset;n.equals(e)||(e=e.N(),this._e().zy=e,this.C(),this.t("shadowOffset",n,e))}get shadowColor(){return this.H!==null?this.H.Xy:"gray"}set shadowColor(e){const n=this.shadowColor;n!==e&&(this._e().Xy=e,this.C(),this.t("shadowColor",n,e))}get shadowBlur(){return this.H!==null?this.H.An:4}set shadowBlur(e){const n=this.shadowBlur;n!==e&&(this._e().An=e,this.C(),this.t("shadowBlur",n,e))}};let Et=Br;E(Et,"LayoutNone",0),E(Et,"LayoutAdded",1),E(Et,"LayoutRemoved",2),E(Et,"LayoutShown",4),E(Et,"LayoutHidden",8),E(Et,"LayoutNodeSized",16),E(Et,"LayoutGroupLayout",32),E(Et,"LayoutNodeReplaced",64),E(Et,"LayoutStandard",127),E(Et,"LayoutAll",16777215),E(Et,"zD",!1);class Qi{constructor(){E(this,"me");E(this,"Py");E(this,"Uy");E(this,"Ty");E(this,"Ay");E(this,"Dy");E(this,"Ly");E(this,"vy");E(this,"Fy");E(this,"Ry");E(this,"Oy");E(this,"Iy");E(this,"Ey");E(this,"Ny");E(this,"Cy");E(this,"Sy");E(this,"My");E(this,"By");E(this,"Vy");E(this,"zy");E(this,"Xy");E(this,"An");this.me=!1,this.Py=null,this.Uy=null,this.Ty=null,this.Ay="",this.Dy=null,this.Ly=null,this.vy=null,this.Fy="",this.Ry=X.Zw,this.Oy=null,this.Iy="",this.Ey=K.Default,this.Ny="",this.Cy=K.TopLeft,this.Sy=N.DL,this.My=N.vL,this.By=null,this.Vy=127,this.zy=N.FL,this.Xy="gray",this.An=4}copy(){const i=new Qi;return i.Py=this.Py,i.Uy=this.Uy,i.Ty=this.Ty,i.Ay=this.Ay,i.Dy=this.Dy,i.Ly=this.Ly,i.vy=this.vy,i.Fy=this.Fy,i.Ry=this.Ry.N(),i.Oy=this.Oy,i.Iy=this.Iy,i.Ey=this.Ey.N(),i.Ny=this.Ny,i.Cy=this.Cy.N(),i.Sy=this.Sy.N(),i.My=this.My.N(),i.By=this.By,i.Vy=this.Vy,i.zy=this.zy.N(),i.Xy=this.Xy,i.An=this.An,i}}class Zt extends Et{constructor(e,n){let a;e===void 0||e instanceof Ve||typeof e=="string"?a=e:e&&(n=e);super(a);E(this,"Ms");E(this,"Dt");E(this,"WS");E(this,"JS");E(this,"Af");this.b&=-257,this.dl="Adornment",this.Ms=null,this.WS=0,this.JS=!1,this.Dt=null,this.Af=null,n&&Object.assign(this,n)}toString(){const e=this.adornedPart;return"Adornment("+this.category+")"+(e!==null?e.toString():"")}updateRelationshipsFromData(){}Td(e){const n=this.adornedObject;if(!(n instanceof ke))return;const a=n.part;if(!(a instanceof yt))return;const o=a.path;let h=o.geometry;a.Td(e),h=o.geometry;const u=this.D.r,m=u.length;for(let v=0;v<m;v++){const b=u[v];b.isPanelMain&&b instanceof ke&&(b.ut=h)}}hasPlaceholder(){return this.Dt!==null&&this.Dt.isVisibleObject()}get placeholder(){return this.Dt}get adornedObject(){return this.Ms}set adornedObject(e){const n=this.adornedPart;let a=null;e!==null&&(a=e.part),n!==null&&(e===null||n!==a)&&n.removeAdornment(this.category),this.Ms=e,a!==null&&a.addAdornment(this.category,this)}get adornedPart(){const e=this.Ms;return e!==null?e.part:null}_r(){const e=this.Ms;if(e===null)return!0;const n=e.part;return n===null||!n.as()}Di(){return!1}get containingGroup(){return null}gf(e,n,a,o,h,u,m){if(e===3&&n==="elements"){if(h instanceof Or)this.Dt===null&&(this.Dt=h);else if(h instanceof j){const v=h.findInVisualTree(b=>b instanceof Or);v instanceof Or&&this.Dt===null&&(this.Dt=v)}}else e===4&&n==="elements"&&this.Dt!==null&&(o===this.Dt?this.Dt=null:o instanceof j&&this.Dt.isContainedBy(o)&&(this.Dt=null));super.gf(e,n,a,o,h,u,m)}updateAdornments(){}lf(){}}var cn=(ee=>(ee[ee.None=0]="None",ee[ee.Evenly=1]="Evenly",ee[ee.Packed=2]="Packed",ee))(cn||{});const Hl=class extends Et{constructor(e,n){let a;e===void 0||e instanceof Ve||typeof e=="string"?a=e:e&&(n=e);super(a);E(this,"E");E(this,"vt");E(this,"Xf");E(this,"yl");E(this,"Da");E(this,"ci");E(this,"ee");this.E=13,this.vt=null,this.ee=new w,this.Xf=null,this.yl=null,this.ci=null,this.Da=!1,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.E=this.E,this.vt!==null&&(this.vt.me?e.vt=this.vt:e.vt=this.vt.copy())}jo(e){super.jo(e),e.invalidateConnectedLinks(),e.yl=this.yl,e.ci=null}wl(){return this.vt===null?this.vt=new Kn:this.vt.me&&(this.vt=this.vt.copy()),this.vt}ba(){super.ba(),this.vt!==null&&(this.vt.me=!0)}GD(e){e!==null&&(this.yl===null&&(this.yl=new C),this.yl.add(e))}YD(e){e!==null&&this.yl!==null&&this.yl.delete(e)}KD(e,n,a){if(e===null||this.yl===null)return null;const o=this.yl.iterator;for(;o.next();){const h=o.value;if(h.Gy===this&&h.fk===e&&h.pC===n&&h.yC===a||h.Gy===e&&h.fk===this&&h.pC===a&&h.yC===n)return h}return null}invalidateLinkBundle(e,n,a){n==null&&(n=""),a==null&&(a="");const o=this.KD(e,n,a);o!==null&&o.Jd()}gf(e,n,a,o,h,u,m){e===3&&n==="elements"?this.ci=null:e===4&&n==="elements"&&(this.ci=null),super.gf(e,n,a,o,h,u,m)}invalidateConnectedLinks(e,n){const a=this.linksConnected;for(;a.next();){const o=a.value;e&&e.has(o)||n&&o.fromPort!==n&&o.toPort!==n||(this.Ze(o.fromPort),this.Ze(o.toPort),o.$t())}}Ze(e){if(e===null)return;const n=e.yd;n!==null&&n.Jd();const a=e.part,o=a.containingGroup;o!==null&&!a.isVisible()&&o.Ze(o.port)}_r(){return!0}get portSpreading(){return this.vt!==null?this.vt.Yy:1}set portSpreading(e){const n=this.portSpreading;if(n!==e){this.wl().Yy=e,this.t("portSpreading",n,e);const a=this.diagram;if(a!==null&&a.undoManager.isUndoingRedoing)return;this.invalidateConnectedLinks()}}get avoidable(){return(this.E&8)!==0}set avoidable(e){const n=(this.E&8)!==0;if(n!==e){this.E=this.E^8;const a=this.diagram;a!==null&&a.fd(this),this.t("avoidable",n,e)}}get avoidableMargin(){return this.vt!==null?this.vt.Ky:he.BL}set avoidableMargin(e){typeof e=="number"&&(e=new he(e));const n=this.avoidableMargin;if(!n.equals(e)){e=e.N(),this.wl().Ky=e;const a=this.diagram;a!==null&&a.fd(this),this.t("avoidableMargin",n,e)}}canAvoid(){return this.avoidable&&!this.isLinkLabel}getAvoidableRect(e){return e.set(this.actualBounds),e.addMargin(this.avoidableMargin),e}findVisibleNode(){let e=this;for(;e!==null&&!e.isVisible();)e=e.containingGroup;return e}isVisible(){if(!super.isVisible())return!1;let e=!0,n=1;const a=this.diagram;if(a!==null){if(a.animationManager.Wx(this))return!0;e=a.isTreePathToChildren,n=a.treeCollapsePolicy}if(n===1){const h=this.findTreeParentNode();if(h!==null&&!h.isTreeExpanded)return!1}else if(n===2){const h=e?this.findLinksInto():this.findLinksOutOf();let u=!1,m=!1;for(;h.next();){const v=h.value;if(v.isTreeLink){u=!0;const b=e?v.fromNode:v.toNode;if(b&&b.isTreeExpanded){m=!0;break}}}if(u&&!m)return!1}else if(n===3){const h=e?this.findLinksInto():this.findLinksOutOf();let u=!1,m=!1;for(;h.next();){const v=h.value;if(v.isTreeLink){u=!0;const b=e?v.fromNode:v.toNode;if(b&&!b.isTreeExpanded){m=!0;break}}}if(u&&m)return!1}const o=this.labeledLink;return o!==null?o.isVisible():!0}Xe(e){super.Xe(e);const n=this.linksConnected;for(;n.next();){const a=n.value;if(e&&this.containingGroup!==null){const o=a.getOtherNode(this);o!==null&&!o.isMemberOf(this.containingGroup)&&a.$t()}a.Xe(e)}}get linksConnected(){return this.ee.iterator}findExternalTreeLinksConnected(){const e=new C,n=new C;return this.HD(this,e,n),n.iterator}HD(e,n,a){if(e===null||n.has(e))return;n.add(e);let o=!0;const h=this.diagram;h!==null&&(o=h.isTreePathToChildren),e.linksConnected.each(u=>{u.isTreeLink?(o?u.fromNode===e:u.toNode===e)&&this.HD(o?u.toNode:u.fromNode,n,a):a.add(u)})}findLinksConnected(e){if(e===void 0&&(e=null),e===null)return this.ee.iterator;const n=new p(this.ee),a=this;return n.predicate=o=>o.fromNode===a&&o.fromPortId===e||o.toNode===a&&o.toPortId===e,n}findLinksOutOf(e){e===void 0&&(e=null);const n=new p(this.ee),a=this;return n.predicate=o=>o.fromNode!==a?!1:e===null?!0:o.fromPortId===e,n}findLinksInto(e){e===void 0&&(e=null);const n=new p(this.ee),a=this;return n.predicate=o=>o.toNode!==a?!1:e===null?!0:o.toPortId===e,n}findNodesConnected(e){e===void 0&&(e=null);let n=null,a=null;const o=this.ee.iterator;for(;o.next();){const h=o.value;if(h.fromNode===this){if(e===null||h.fromPortId===e){const u=h.toNode;n!==null?n.add(u):a!==null&&a!==u?(n=new C,n.add(a),n.add(u)):a=u}}else if(h.toNode===this&&(e===null||h.toPortId===e)){const u=h.fromNode;n!==null?n.add(u):a!==null&&a!==u?(n=new C,n.add(a),n.add(u)):a=u}}return n!==null?n.iterator:a!==null?new f(a):c.instance}findNodesOutOf(e){e===void 0&&(e=null);let n=null,a=null;const o=this.ee.iterator;for(;o.next();){const h=o.value;if(h.fromNode===this&&(e===null||h.fromPortId===e)){const u=h.toNode;n!==null?n.add(u):a!==null&&a!==u?(n=new C,n.add(a),n.add(u)):a=u}}return n!==null?n.iterator:a!==null?new f(a):c.instance}findNodesInto(e){e===void 0&&(e=null);let n=null,a=null;const o=this.ee.iterator;for(;o.next();){const h=o.value;if(h.toNode===this&&(e===null||h.toPortId===e)){const u=h.fromNode;n!==null?n.add(u):a!==null&&a!==u?(n=new C,n.add(a),n.add(u)):a=u}}return n!==null?n.iterator:a!==null?new f(a):c.instance}findLinksBetween(e,n,a){n===void 0&&(n=null),a===void 0&&(a=null);const o=new p(this.ee),h=this;return o.predicate=u=>u.fromNode===h&&u.toNode===e&&(n===null||u.fromPortId===n)&&(a===null||u.toPortId===a)||u.fromNode===e&&u.toNode===h&&(a===null||u.fromPortId===a)&&(n===null||u.toPortId===n),o}findLinksTo(e,n,a){n===void 0&&(n=null),a===void 0&&(a=null);const o=new p(this.ee),h=this;return o.predicate=u=>!(u.fromNode!==h||u.toNode!==e||n!==null&&u.fromPortId!==n||a!==null&&u.toPortId!==a),o}findSuccessorParts(e){return e===void 0&&(e=new C),this.jD(this,e),e.remove(this),e}jD(e,n){e!==null&&(n.has(e)||(n.add(e),e.findLinksOutOf().each(a=>{if(n.has(a))return;n.add(a);const o=a.toNode;o!==null&&this.jD(o,n)})))}findPredecessorParts(e){return e===void 0&&(e=new C),this.qD(this,e),e.remove(this),e}qD(e,n){e!==null&&(n.has(e)||(n.add(e),e.findLinksInto().each(a=>{if(n.has(a))return;n.add(a);const o=a.fromNode;o!==null&&this.qD(o,n)})))}get linkConnected(){return this.vt!==null?this.vt.Hy:null}set linkConnected(e){const n=this.linkConnected;n!==e&&(e!==null&&s.S(e,Hl,"linkConnected"),this.wl().Hy=e,this.t("linkConnected",n,e))}get linkDisconnected(){return this.vt!==null?this.vt.jy:null}set linkDisconnected(e){const n=this.linkDisconnected;n!==e&&(e!==null&&s.S(e,Hl,"linkDisconnected"),this.wl().jy=e,this.t("linkDisconnected",n,e))}get linkValidation(){return this.vt!==null?this.vt.El:null}set linkValidation(e){const n=this.linkValidation;n!==e&&(e!==null&&s.S(e,Hl,"linkValidation"),this.wl().El=e,this.t("linkValidation",n,e))}uk(e,n){this.Ze(n);const a=this.ee.has(e);if(a||this.ee.add(e),!a||e.fromNode===e.toNode){const o=this.linkConnected;if(o!==null){let h=!0;const u=this.diagram;u!==null&&(h=u.G,u.G=!0),o(this,e,n),u!==null&&(u.G=h)}}if(!a){if(!e.isTreeLink)return;const o=e.fromNode,h=e.toNode;if(o!==null&&h!==null&&o!==h){let u=!0;const m=this.diagram;m!==null&&(u=m.isTreePathToChildren);const v=u?h:o,b=u?o:h;if(v.Da||(v.Da=b),b.isTreeLeaf){if(m!==null&&m.undoManager.isUndoingRedoing)return;u?o===b&&(b.isTreeLeaf=!1):h===b&&(b.isTreeLeaf=!1)}}}}dk(e,n){this.Ze(n);const a=this.ee.delete(e);let o=null;if(a||e.toNode===e.fromNode){const h=this.linkDisconnected;if(o=this.diagram,h!==null){let u=!0;o!==null&&(u=o.G,o.G=!0),h(this,e,n),o!==null&&(o.G=u)}}if(a){if(!e.isTreeLink)return;let h=!0;o!==null&&(h=o.isTreePathToChildren);const u=h?e.toNode:e.fromNode,m=h?e.fromNode:e.toNode;if(u!==null&&(u.Da=!1),m!==null&&!m.isTreeLeaf)if(m.ee.count===0){if(m.Da=null,o!==null&&o.undoManager.isUndoingRedoing)return;m.isTreeLeaf=!0}else m.vp()}}vp(){if(this.Da=!1,this.ee.count===0)return;let e=!0;const n=this.diagram;if(n!==null&&n.undoManager.isUndoingRedoing)return;n!==null&&(e=n.isTreePathToChildren);const a=this.ee.iterator;for(;a.next();){const o=a.value;if(o.isTreeLink){if(e){if(o.fromNode===this){this.isTreeLeaf=!1;return}}else if(o.toNode===this){this.isTreeLeaf=!1;return}}}this.isTreeLeaf=!0}updateRelationshipsFromData(){const e=this.diagram;e!==null&&e.partManager.updateRelationshipsFromData(this)}tp(e){if(super.tp(e),!e){this.vp();const n=this.Xf;n!==null&&n.WD(this)}}ep(e){if(super.ep(e),!e){const n=this.Xf;n!==null&&n.JD(this)}}lf(){if(this.ee.count>0){const e=this.diagram;if(e!==null){const n=e.commandHandler!==null?e.commandHandler.deletesConnectedLinks:!0,a=this.ee.copy().iterator;for(;a.next();){const o=a.value;n?e.remove(o):(o.fromNode===this&&(o.fromNode=null),o.toNode===this&&(o.toNode=null))}}}this.labeledLink=null,super.lf()}get isLinkLabel(){return this.Xf!==null}get labeledLink(){return this.Xf}set labeledLink(e){const n=this.Xf;if(n!==e){const a=this.diagram,o=this.data;if(n!==null){if(n.JD(this),a!==null&&o!==null&&!a.undoManager.isUndoingRedoing){const h=n.data,u=a.model;if(h!==null&&u.Wh()){const m=u.getKeyForNodeData(o);m!==void 0&&u.removeLabelKeyForLinkData(h,m)}}this.containingGroup=null}if(this.Xf=e,e!==null){if(e.WD(this),a!==null&&o!==null&&!a.undoManager.isUndoingRedoing){const h=e.data,u=a.model;if(h!==null&&u.Wh()){const m=u.getKeyForNodeData(o);m!==void 0&&u.addLabelKeyForLinkData(h,m)}}this.containingGroup=e.containingGroup}this.Pf(),this.t("labeledLink",n,e)}}findVisiblePort(e){let n=e;for(;n!==null&&(!n.actualBounds.isReal()||!n.isVisibleObject());)n=n.panel;return n===null?this.port:n}findPort(e){if(this.ci===null){if(e===""&&this.Ln===!1)return this;this.$D()}let n=this.ci.get(e);return n!==null||e!==""&&(n=this.ci.get(""),n!==null)?n:this}get port(){return this.findPort("")}get ports(){return this.ci===null&&this.$D(),this.ci.iteratorValues}$D(){this.ci===null?this.ci=new Q:this.ci.clear(),this.walkVisualTreeFrom(this,(e,n)=>e.sD(n)),this.ci.count===0&&this.ci.set("",this)}sD(e){const n=e.portId;n!==null&&this.ci!==null&&this.ci.set(n,e)}FN(e,n){const a=e.portId;if(a!==null){this.ci!==null&&this.ci.delete(a);const o=this.diagram;if(o!==null&&n){let h=null;const u=this.findLinksConnected(a);for(;u.next();){const m=u.value;h===null&&(h=s.nt()),h.push(m)}if(h!==null){for(let m=0;m<h.length;m++){const v=h[m];o.remove(v)}s.Z(h)}}}}isInTreeOf(e){if(e===null||e===this)return!1;let n=!0;const a=this.diagram;a!==null&&(n=a.isTreePathToChildren);let o=this;const h=e;let u;if(n)for(;o!==h;){u=null;const m=o.ee.iterator;for(;m.next();){const v=m.value;if(v.isTreeLink&&(u=v.fromNode,u!==o&&u!==this))break}if(u===this||u===null||u===o)return!1;o=u}else for(;o!==h;){u=null;const m=o.ee.iterator;for(;m.next();){const v=m.value;if(v.isTreeLink&&(u=v.toNode,u!==o&&u!==this))break}if(u===this||u===null||u===o)return!1;o=u}return!0}findTreeRoot(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);let a=this,o;if(e)for(;;){o=null;const h=a.ee.iterator;for(;h.next();){const u=h.value;if(u.isTreeLink&&(o=u.fromNode,o!==a&&o!==this))break}if(o===this)return this;if(o===null||o===a)return a;a=o}else for(;;){o=null;const h=a.ee.iterator;for(;h.next();){const u=h.value;if(u.isTreeLink&&(o=u.toNode,o!==a&&o!==this))break}if(o===this)return this;if(o===null||o===a)return a;a=o}}findCommonTreeParent(e){if(e===null)return null;if(this===e)return this;let n=this;for(;n!==null;)n.ck(!0),n=n.findTreeParentNode();let a=null;for(n=e;n!==null;){if(n.XD()){a=n;break}n=n.findTreeParentNode()}for(n=this;n!==null;)n.ck(!1),n=n.findTreeParentNode();return a}findTreeParentLink(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);const a=this.ee.iterator;if(e)for(;a.next();){const o=a.value;if(o.isTreeLink&&o.fromNode!==this)return o}else for(;a.next();){const o=a.value;if(o.isTreeLink&&o.toNode!==this)return o}return null}findTreeParentNode(){const e=this.Da;if(e===null)return null;if(e instanceof Hl)return e;const n=this.diagram,a=n!==null?n.isTreePathToChildren:!0,o=this.ee.iterator;for(;o.next();){const h=o.value;if(!h.isTreeLink)continue;const u=a?h.fromNode:h.toNode;if(u!==this)return this.Da=u,u}return this.Da=null,null}findTreeParentChain(e){function n(a,o){o.add(a);const h=a.findTreeParentLink();if(h!==null){o.add(h);const u=a.findTreeParentNode();if(u===null)return;n(u,o)}}return e===void 0&&(e=new C),n(this,e),e}findTreeLevel(){return this.SE(this)}SE(e){let n=0,a=e.findTreeParentNode();for(;a!==null&&a!==e;)a=a.findTreeParentNode(),n++;return n}findTreeChildrenLinks(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);const a=new p(this.ee),o=this;return e?a.predicate=h=>!(!h.isTreeLink||h.fromNode!==o):a.predicate=h=>!(!h.isTreeLink||h.toNode!==o),a}findTreeChildrenNodes(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);let a=null,o=null;const h=this.ee.iterator;if(e)for(;h.next();){const u=h.value;if(u.isTreeLink&&u.fromNode===this){const m=u.toNode;a!==null?a.add(m):o!==null&&o!==m?(a=new w,a.add(o),a.add(m)):o=m}}else for(;h.next();){const u=h.value;if(u.isTreeLink&&u.toNode===this){const m=u.fromNode;a!==null?a.add(m):o!==null&&o!==m?(a=new w,a.add(o),a.add(m)):o=m}}return a!==null?a.iterator:o!==null?new f(o):c.instance}findTreeParts(e,n){return e===void 0&&(e=1/0),s.s(e,"number",Hl,"findTreeParts:level"),n===void 0&&(n=new C),Et.ga(n,this,!1,e,!0),n}collapseTree(e){e===void 0&&(e=1),e<1&&(e=1);const n=this.diagram;if(n===null||n.isCollapsingExpanding)return;n.isCollapsingExpanding=!0;const a=new C;a.add(this),this.ZD(a,n.isTreePathToChildren,e,n,this,n.treeCollapsePolicy===1),n.isCollapsingExpanding=!1}ZD(e,n,a,o,h,u){if(a>1){const m=n?this.findLinksOutOf():this.findLinksInto();for(;m.next();){const v=m.value;if(!v.isTreeLink)continue;const b=v.getOtherNode(this);b!==null&&b!==this&&!e.has(b)&&(e.add(b),b.ZD(e,n,a-1,o,h,u))}}else this.QD(e,n,o,h,u)}QD(e,n,a,o,h){const u=o===this?!0:this.isTreeExpanded,m=n?this.findLinksOutOf():this.findLinksInto();for(;m.next();){const v=m.value;if(!v.isTreeLink)continue;const b=v.getOtherNode(this);if(b!==null&&b!==this){const S=e.has(b);if(S||e.add(b),u){const A=n?b.findNodesInto():b.findNodesOutOf(),M=this;A.all(O=>O===M||!O.isTreeExpanded)&&a.Kc(b,o),b.Sa(),b.Xe(!1)}b.isTreeExpanded&&(b.wasTreeExpanded=b.isTreeExpanded,S||b.QD(e,n,a,o,h))}}this.isTreeExpanded=!1}expandTree(e){e===void 0&&(e=2),e<2&&(e=2);const n=this.diagram;if(n===null||n.isCollapsingExpanding)return;n.isCollapsingExpanding=!0;const a=new C;a.add(this),this._D(a,n.isTreePathToChildren,e,n,this,n.treeCollapsePolicy===1),n.isCollapsingExpanding=!1}_D(e,n,a,o,h,u){const m=h===this?!1:this.isTreeExpanded,v=n?this.findLinksOutOf():this.findLinksInto();for(;v.next();){const b=v.value;if(!b.isTreeLink)continue;m||b.Fi||b.$t();const S=b.getOtherNode(this);if(S!==null&&S!==this&&!e.has(S)){if(e.add(S),!m){S.Xe(!0),S.Sa();const A=n?S.findNodesInto():S.findNodesOutOf(),M=this;A.all(O=>O===M||!O.isTreeExpanded)&&o.Yc(S,h)}(a>2||S.wasTreeExpanded)&&(S.wasTreeExpanded=!1,S._D(e,n,a-1,o,h,u))}}this.isTreeExpanded=!0}get isTreeExpanded(){return(this.E&1)!==0}set isTreeExpanded(e){const n=(this.E&1)!==0;if(n!==e){this.E=this.E^1;const a=this.diagram;this.t("isTreeExpanded",n,e);const o=this.treeExpandedChanged;if(o!==null){let h=!0;a!==null&&(h=a.G,a.G=!0),o(this),a!==null&&(a.G=h)}if(a!==null&&a.undoManager.isUndoingRedoing){this.Xe(e);return}e?this.expandTree():this.collapseTree()}}get wasTreeExpanded(){return(this.E&2)!==0}set wasTreeExpanded(e){const n=(this.E&2)!==0;n!==e&&(this.E=this.E^2,this.t("wasTreeExpanded",n,e))}get treeExpandedChanged(){return this.vt!==null?this.vt.qy:null}set treeExpandedChanged(e){const n=this.treeExpandedChanged;n!==e&&(e!==null&&s.S(e,Hl,"treeExpandedChanged"),this.wl().qy=e,this.t("treeExpandedChanged",n,e))}get isTreeLeaf(){return(this.E&4)!==0}set isTreeLeaf(e){const n=(this.E&4)!==0;n!==e&&(this.E=this.E^4,this.t("isTreeLeaf",n,e))}get isTreeRoot(){return this.findTreeParentLink()===null}};let Ct=Hl;E(Ct,"SpreadingNone",0),E(Ct,"SpreadingEvenly",1),E(Ct,"SpreadingPacked",2);class Kn{constructor(){E(this,"me");E(this,"Hy");E(this,"jy");E(this,"El");E(this,"qy");E(this,"Ky");E(this,"Yy");E(this,"Wy");E(this,"Jy");E(this,"da");E(this,"$y");this.me=!1,this.Hy=null,this.jy=null,this.El=null,this.qy=null,this.Ky=he.BL,this.Yy=1,this.Wy=null,this.Jy=null,this.da=null,this.$y=null}copy(){const i=new Kn;return i.Hy=this.Hy,i.jy=this.jy,i.El=this.El,i.qy=this.qy,i.Ky=this.Ky.N(),i.Yy=this.Yy,i.Wy=this.Wy,i.Jy=this.Jy,i.da=this.da,i.$y=this.$y,i}}var _s=(ee=>(ee[ee.None=0]="None",ee[ee.End=17]="End",ee[ee.Scale=18]="Scale",ee[ee.Stretch=19]="Stretch",ee))(_s||{}),To=(ee=>(ee[ee.Normal=1]="Normal",ee[ee.Orthogonal=2]="Orthogonal",ee[ee.AvoidsNodes=6]="AvoidsNodes",ee[ee.AvoidsNodesStraight=7]="AvoidsNodesStraight",ee))(To||{}),no=(ee=>(ee[ee.None=0]="None",ee[ee.Bezier=9]="Bezier",ee[ee.JumpGap=10]="JumpGap",ee[ee.JumpOver=11]="JumpOver",ee))(no||{});const hi=class extends Et{constructor(e){super(j.Link);E(this,"Mt");E(this,"po");E(this,"yo");E(this,"$d");E(this,"wo");E(this,"xo");E(this,"Zd");E(this,"Gf");E(this,"Qd");E(this,"_d");E(this,"tg");E(this,"Jh");E(this,"eg");E(this,"on");E(this,"Me");E(this,"xl");E(this,"vr");E(this,"va");E(this,"ir");E(this,"wC");E(this,"xC");E(this,"gk");E(this,"bC");E(this,"kC");E(this,"$h");E(this,"mk");E(this,"ut");E(this,"sr");E(this,"Af");E(this,"PC");E(this,"SC");this.Mt=8,this.po=null,this.yo="",this.$d=null,this.wo=null,this.xo="",this.Zd=null,this.Gf=0,this.Qd=0,this._d=0,this.tg=NaN,this.Jh=1,this.eg=.5,this.on=null,this.Me=new w().k(),this.xl=null,this.vr=null,this.va=new W,this.ut=new pe,this.ir=null,this.sr=null,this.wC=N.mn,this.xC=N.mn,this.PC=0,this.SC=0,this.gk=new N,this.bC=null,this.kC=null,this.$h=null,this.mk=NaN,this.ft=null,this.Af=[],e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Mt=this.Mt&-113,e.yo=this.yo,e.$d=this.$d,e.xo=this.xo,e.Zd=this.Zd,e.Gf=this.Gf,e.Qd=this.Qd,e._d=this._d,e.tg=this.tg,e.Jh=this.Jh,e.eg=this.eg,this.ft!==null&&(e.ft=this.ft.copy())}jo(e){super.jo(e),this.yo=e.yo,this.xo=e.xo,e.xl=null,e.$t(),e.sr=this.sr;const n=e.fromPort;n!==null&&e.fromNode.Ze(n);const a=e.toPort;a!==null&&e.toNode.Ze(a)}fe(e){e in To||e in no||e in _s?hi.MC(e)?this.routing=e:e===9||e===10||e===11?this.curve=e:e===17||e===18||e===19?this.adjusting=e:e===1||e===0||s.o("Unknown Link enum value for a Link property: "+e):super.fe(e)}static setRoutingParameter(e,n){switch(e){case 1:hi.tv=n;break;case 2:hi.ev=n;break;case 3:hi.Fa=n;break;case 4:hi.J1=n;break;case 5:hi.iv=n;break;case 6:hi.sv=n;break;case 7:hi.NC=n;break;case 8:hi.CC=n;break;case 9:hi.nv=n;break;case 10:hi.Yf=n;break;case 11:hi.ov=n;break;case 12:hi.rv=n;break;case 13:hi.LC=n;break;case 14:hi.lv=n;break;case 15:hi.av=n;break;case 16:hi.hv=n;break;case 17:hi.cv=n;break;case 18:hi._A=n;break;case 19:hi.tT=n;break;case 20:hi.fv=n;break}e>29&&e<71&&(hi.IT=e+parseInt(n.toString().slice(0,-1)))}Ji(){return this.ft===null&&(this.ft=new P0),this.ft}II(e,n,a){const o=e.segmentIndex,h=e.segmentFraction;let u=e.alignmentFocus;const m=e.segmentOrientation,v=e.segmentOffset;let b=0,S=0,A=0,M=0;if(isNaN(o)){const Ce=this.ut,Pe=s.nt();Ce.getPointAndAngleAlongPath(h,Pe);const Fe=N.z(Pe[0],Pe[1]);if(M=Pe[2],Fe.add(this.getPoint(0)),Ce.type===1)Fe.offset(-Ce.startX,-Ce.startY);else{const Re=Ce.figures.first();Fe.offset(-Re.startX,-Re.startY)}m!==0&&(A=this.computeAngle(e,m,M),e.angle=A),b=Fe.x,S=Fe.y,N.i(Fe),s.Z(Pe)}else if(o<-n||o>=n){const Ce=N.l();this.HN(Ce),M=this.midAngle,m!==0&&(A=this.computeAngle(e,m,M),e.angle=A),b=Ce.x,S=Ce.y,N.i(Ce)}else{let Ce,Pe,Fe=0;if(o>=0?(Ce=a.r[o],Pe=o<n-1?a.r[o+1]:Ce):(Fe=n+o,Ce=a.r[Fe],Pe=Fe>0?a.r[Fe-1]:Ce),Ce.equalsApprox(Pe)){let Re,We;o>=0?(Re=o>0?a.r[o-1]:Ce,We=o<n-2?a.r[o+2]:Pe):(Re=Fe<n-1?a.r[Fe+1]:Ce,We=Fe>1?a.r[Fe-2]:Pe);const Ke=Re.distanceSquaredPoint(Ce),lt=Pe.distanceSquaredPoint(We);Ke>lt+10?M=o>=0?Re.directionPoint(Ce):Ce.directionPoint(Re):lt>Ke+10?M=o>=0?Pe.directionPoint(We):We.directionPoint(Pe):M=o>=0?Re.directionPoint(We):We.directionPoint(Re)}else M=o>=0?Ce.directionPoint(Pe):Pe.directionPoint(Ce);m!==0&&(A=this.computeAngle(e,m,M),e.angle=A),b=Ce.x+(Pe.x-Ce.x)*h,S=Ce.y+(Pe.y-Ce.y)*h}if(u.isNone()){e.moveTo(b,S,!0);return}else u.isNoSpot()&&(u=K.Center);const O=le.l();O.Ue(),O.it(e.scale,e.scale),O.ks(e.angle,0,0);const R=e.naturalBounds,V=W.z(0,0,R.width,R.height),q=N.l();q.setRectSpot(V,u),O.gt(q);let J=-q.x,re=-q.y;const se=R.width,ne=R.height,xe=N.bs(v),ye=isNaN(v.x),we=isNaN(v.y);if(ye||we){const Ce=se/2+hi.J1,Pe=ne/2+hi.iv,Fe=M>=45&&M<=135,Re=M>=225&&M<=315;m===0&&(Fe||Re)?(xe.x=we?Ce:v.y,xe.y=ye?Pe:v.x,Fe?o>=0||isNaN(o)&&h<.5||ye&&(xe.y=-Pe):Re&&((o>=0||isNaN(o)&&h<.5)&&ye&&(xe.y=-Pe),we&&(xe.x=-Ce))):(ye&&(o>=0||isNaN(o)&&h<.5?xe.x=Ce:xe.x=-Ce),we&&(xe.y=-Pe),xe.rotate(M))}else xe.rotate(M);b+=xe.x,S+=xe.y,O.sm(V),J+=V.x,re+=V.y;const ze=N.z(b+J,S+re);e.move(ze),N.i(ze),N.i(xe),N.i(q),W.i(V),le.i(O)}_r(){let e=this.fromNode;if(e!==null){const a=e.findVisibleNode();if(a!==null&&(e=a),e.as()||e.fa())return!1}let n=this.toNode;if(n!==null){const a=n.findVisibleNode();if(a!==null&&(n=a),n.as()||n.fa())return!1}return!0}DN(e,n,a){return!1}vN(){}Di(){return!1}computeAngle(e,n,a){return hi.computeAngle(n,a)}static computeAngle(e,n){let a=0;switch(e){default:case 0:a=0;break;case 21:a=n;break;case 22:a=n+90;break;case 23:a=n-90;break;case 24:a=n+180;break;case 25:a=G.Ee(n),a>90&&a<270&&(a-=180);break;case 26:a=G.Ee(n+90),a>90&&a<270&&(a-=180);break;case 27:a=G.Ee(n-90),a>90&&a<270&&(a-=180);break;case 28:if(a=G.Ee(n),a>45&&a<135||a>225&&a<315)return 0;a>90&&a<270&&(a-=180);break}return G.Ee(a)}get fromNode(){return this.po}set fromNode(e){const n=this.po;if(n!==e){const a=this.fromPort;n!==null&&(this.wo!==n&&n.dk(this,a),this.Zy(),this.invalidateLayout(2)),this.po=e,e!==null&&this.Xe(e.isVisible()),this.ir=null,this.$t();const o=this.diagram;o!==null&&o.G&&o.partManager.setFromNodeForLink(this,e,n);const h=this.fromPort,u=this.fromPortChanged;if(u!==null){let m=!0;o!==null&&(m=o.G,o.G=!0),u(this,a,h),o!==null&&(o.G=m)}e!==null&&(this.wo!==e&&e.uk(this,h),this.Qy(),this.invalidateLayout(1)),this.t("fromNode",n,e),this.Wd()}}get fromPortId(){return this.yo}set fromPortId(e){var a,o;const n=this.yo;if(n!==e){const h=this.fromPort;h!==null&&((a=this.fromNode)==null||a.Ze(h)),this.Zy(),this.yo=e;const u=this.fromPort;u!==null&&((o=this.fromNode)==null||o.Ze(u));const m=this.diagram;if(m!==null){const v=this.data,b=m.model;v!==null&&b.Wh()&&b.setFromPortIdForLinkData(v,e)}if(h!==u){this.ir=null,this.$t();const v=this.fromPortChanged;if(v!==null){let b=!0;m!==null&&(b=m.G,m.G=!0),v(this,h,u),m!==null&&(m.G=b)}}this.Qy(),this.t("fromPortId",n,e)}}get fromPort(){const e=this.po;if(e===null)return null;const n=this.yo;return e.findPort(n)}get fromPortChanged(){return this.$d}set fromPortChanged(e){const n=this.$d;n!==e&&(e!==null&&s.S(e,hi,"fromPortChanged"),this.$d=e,this.t("fromPortChanged",n,e))}get toNode(){return this.wo}set toNode(e){const n=this.wo;if(n!==e){const a=this.toPort;n!==null&&(this.po!==n&&n.dk(this,a),this.Zy(),this.invalidateLayout(2)),this.wo=e,e!==null&&this.Xe(e.isVisible()),this.ir=null,this.$t();const o=this.diagram;o!==null&&o.G&&o.partManager.setToNodeForLink(this,e,n);const h=this.toPort,u=this.toPortChanged;if(u!==null){let m=!0;o!==null&&(m=o.G,o.G=!0),u(this,a,h),o!==null&&(o.G=m)}e!==null&&(this.po!==e&&e.uk(this,h),this.Qy(),this.invalidateLayout(1)),this.t("toNode",n,e),this.Wd()}}get toPortId(){return this.xo}set toPortId(e){var a,o;const n=this.xo;if(n!==e){const h=this.toPort;h!==null&&((a=this.toNode)==null||a.Ze(h)),this.Zy(),this.xo=e;const u=this.toPort;u!==null&&((o=this.toNode)==null||o.Ze(u));const m=this.diagram;if(m!==null){const v=this.data,b=m.model;v!==null&&b.Wh()&&b.setToPortIdForLinkData(v,e)}if(h!==u){this.ir=null,this.$t();const v=this.toPortChanged;if(v!==null){let b=!0;m!==null&&(b=m.G,m.G=!0),v(this,h,u),m!==null&&(m.G=b)}}this.Qy(),this.t("toPortId",n,e)}}get toPort(){const e=this.wo;if(e===null)return null;const n=this.xo;return e.findPort(n)}get toPortChanged(){return this.Zd}set toPortChanged(e){const n=this.Zd;n!==e&&(e!==null&&s.S(e,hi,"toPortChanged"),this.Zd=e,this.t("toPortChanged",n,e))}get fromSpot(){return this.ft!==null?this.ft.Dh:K.Default}set fromSpot(e){const n=this.fromSpot;if(!n.equals(e)){if(e=e.N(),this.Ji().Dh=e,this.t("fromSpot",n,e),n.isSide()||e.isSide()){const a=this.fromNode;a!==null&&a.Ze(this.fromPort)}this.$t()}}get fromEndSegmentLength(){return this.ft!==null?this.ft.Fh:NaN}set fromEndSegmentLength(e){const n=this.fromEndSegmentLength;if(n!==e){if(e<0&&s.J(e,">= 0",hi,"fromEndSegmentLength"),this.Ji().Fh=e,this.t("fromEndSegmentLength",n,e),this.computeSpot(!0,this.fromPort).isSide()){const a=this.fromNode;a!==null&&a.Ze(this.fromPort)}this.$t()}}get fromShortLength(){return this.ft!==null?this.ft.Oh:NaN}set fromShortLength(e){const n=this.fromShortLength;n!==e&&(this.Ji().Oh=e,this.ai(),this.t("fromShortLength",n,e))}get toSpot(){return this.ft!==null?this.ft.vh:K.Default}set toSpot(e){const n=this.toSpot;if(!n.equals(e)){if(e=e.N(),this.Ji().vh=e,this.t("toSpot",n,e),n.isSide()||e.isSide()){const a=this.toNode;a!==null&&a.Ze(this.toPort)}this.$t()}}get toEndSegmentLength(){return this.ft!==null?this.ft.Rh:NaN}set toEndSegmentLength(e){const n=this.toEndSegmentLength;if(n!==e){if(e<0&&s.J(e,">= 0",hi,"toEndSegmentLength"),this.Ji().Rh=e,this.t("toEndSegmentLength",n,e),this.computeSpot(!1,this.toPort).isSide()){const a=this.toNode;a!==null&&a.Ze(this.toPort)}this.$t()}}get toShortLength(){return this.ft!==null?this.ft.Ih:NaN}set toShortLength(e){const n=this.toShortLength;n!==e&&(this.Ji().Ih=e,this.ai(),this.t("toShortLength",n,e))}Wd(){const e=this.fromNode,n=this.toNode;let a=null;if(e!==null?n!==null?a=e.findCommonContainingGroup(n):a=e.containingGroup:n!==null?a=n.containingGroup:a=null,this.ME(a),this.isLabeledLink){const o=this.labelNodes;for(;o.next();){const h=o.value;h.containingGroup=a}}}ME(e){const n=this.Ta;if(n!==e){n!==null&&n.fC(this),this.Ta=e,e!==null&&e.uC(this);const a=this.containingGroupChanged;if(a!==null){let o=!0;const h=this.diagram;h!==null&&(o=h.G,h.G=!0),a(this,n,e),h!==null&&(h.G=o)}this.Fi&&(this.bC===n||this.kC===n)&&this.$t()}}Sa(){const e=this.containingGroup;e!==null&&this.fromNode!==e&&this.toNode!==e&&e.computesBoundsIncludingLinks&&super.Sa()}getOtherNode(e){const n=this.fromNode;return e===n?this.toNode:n}getOtherPort(e){const n=this.fromPort;return e===n?this.toPort:n}get isLabeledLink(){return this.on===null?!1:this.on.count>0}get labelNodes(){return this.on===null?c.instance:this.on.iterator}WD(e){this.on===null&&(this.on=new C),this.on.add(e),this.c()}JD(e){this.on!==null&&(this.on.delete(e),this.c())}tp(e){if(super.tp(e),this._h()&&this.invalidateOtherJumpOvers(this.actualBounds),!e){const n=this.po;let a=null;n!==null&&(a=this.fromPort,n.uk(this,a));const o=this.wo;let h=null;o!==null&&(h=this.toPort,(o!==n||h!==a)&&o.uk(this,h)),this.Qy()}}ep(e){if(super.ep(e),this._h()&&this.invalidateOtherJumpOvers(this.actualBounds),!e){const n=this.po;let a=null;n!==null&&(a=this.fromPort,n.dk(this,a));const o=this.wo;let h=null;o!==null&&(h=this.toPort,(o!==n||h!==a)&&o.dk(this,h)),this.Zy()}}lf(){if(this.Fi=!0,this.on!==null){const e=this.diagram;if(e!==null){const n=this.on.copy().iterator;for(;n.next();){const a=n.value;e.remove(a)}}}if(this.data!==null){const e=this.diagram;e!==null&&e.partManager.AC(this)}}updateRelationshipsFromData(){if(this.data===null)return;const e=this.diagram;e!==null&&e.partManager.updateRelationshipsFromData(this)}move(e,n){const a=n?this.location:this.position;let o=a.x;isNaN(o)&&(o=0);let h=a.y;isNaN(h)&&(h=0);const u=e.x-o,m=e.y-h;if(n===!0)super.move(e,!1);else{const b=N.z(a.x+u,a.y+m);super.move(b,!1),N.i(b)}this.Pr(u,m);const v=this.labelNodes;for(;v.next();){const b=v.value,S=b.position;b.moveTo(S.x+u,S.y+m)}}get relinkableFrom(){return(this.Mt&1)!==0}set relinkableFrom(e){const n=(this.Mt&1)!==0;n!==e&&(this.Mt=this.Mt^1,this.t("relinkableFrom",n,e),this.invalidateAdornments())}get relinkableTo(){return(this.Mt&2)!==0}set relinkableTo(e){const n=(this.Mt&2)!==0;n!==e&&(this.Mt=this.Mt^2,this.t("relinkableTo",n,e),this.invalidateAdornments())}canRelinkFrom(){if(!this.relinkableFrom)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRelink)return!1;const n=e.diagram;return!(n!==null&&!n.allowRelink)}canRelinkTo(){if(!this.relinkableTo)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRelink)return!1;const n=e.diagram;return!(n!==null&&!n.allowRelink)}get resegmentable(){return(this.Mt&4)!==0}set resegmentable(e){const n=(this.Mt&4)!==0;n!==e&&(this.Mt=this.Mt^4,this.t("resegmentable",n,e),this.invalidateAdornments())}get isTreeLink(){return(this.Mt&8)!==0}set isTreeLink(e){const n=(this.Mt&8)!==0;n!==e&&(this.Mt=this.Mt^8,this.t("isTreeLink",n,e),this.fromNode!==null&&this.fromNode.vp(),this.toNode!==null&&this.toNode.vp())}get path(){const e=this.findMainElement();return e instanceof ke?e:null}get routeBounds(){return this.updateRoute(),this.va}uv(e){let n=1/0,a=1/0;const o=this.pointsCount;if(o===0)return e.e(NaN,NaN,0,0),e;if(o===1){const h=this.getPoint(0);n=Math.min(h.x,n),a=Math.min(h.y,a),e.e(h.x,h.y,0,0)}else if(o===2){const h=this.getPoint(0),u=this.getPoint(1);n=Math.min(h.x,u.x),a=Math.min(h.y,u.y),e.e(h.x,h.y,0,0),e.unionPoint(u)}else if(this.computeCurve()===9&&o>=3&&!this.isOrthogonal){let h=this.getPoint(0);if(n=h.x,a=h.y,e.e(n,a,0,0),o===3){const u=this.getPoint(1);n=Math.min(u.x,n),a=Math.min(u.y,a);const m=this.getPoint(2);n=Math.min(m.x,n),a=Math.min(m.y,a),G.Nu(h.x,h.y,u.x,u.y,u.x,u.y,m.x,m.y,.5,e)}else for(let u=3;u<o;u+=3){const m=this.getPoint(u-2);u+3>=o&&(u=o-1);const v=this.getPoint(u-1),b=this.getPoint(u);G.Nu(h.x,h.y,m.x,m.y,v.x,v.y,b.x,b.y,.5,e),n=Math.min(b.x,n),a=Math.min(b.y,a),h=b}}else{const h=this.getPoint(0),u=this.getPoint(1);n=Math.min(h.x,u.x),a=Math.min(h.y,u.y),e.e(h.x,h.y,0,0),e.unionPoint(u);for(let m=2;m<o;m++){const v=this.getPoint(m);n=Math.min(v.x,n),a=Math.min(v.y,a),e.unionPoint(v)}}return this.gk.e(n-e.x,a-e.y),e}get midPoint(){return this.HN(new N)}HN(e){return this.updateRoute(),this.computeMidPoint(e)}computeMidPoint(e){const n=this.pointsCount;if(n===0)return e.h(N.mn),e;if(n===1)return e.h(this.getPoint(0)),e;if(n===2){const S=this.getPoint(0),A=this.getPoint(1);return e.e((S.x+A.x)/2,(S.y+A.y)/2),e}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9)){this.ut.getPointAlongPath(.5,e),e.add(this.getPoint(0));const S=this.ut.figures.first();return e.offset(-S.startX,-S.startY),e}if(this.computeCurve()===9){if(n===3){const M=this.getPoint(0),O=this.getPoint(1),R=this.getPoint(2);return G.YL(M.x,M.y,O.x,O.y,O.x,O.y,R.x,R.y,e),e}const S=(n-1)/3|0,A=(S/2|0)*3;if(S%2===1){const M=this.getPoint(A),O=this.getPoint(A+1),R=this.getPoint(A+2),V=this.getPoint(A+3);return G.YL(M.x,M.y,O.x,O.y,R.x,R.y,V.x,V.y,e),e}else return e.h(this.getPoint(A)),e}const a=this.flattenedLengths,o=this.flattenedTotalLength;let h=0,u=0,m=0;for(;h<o/2&&u<n&&(m=a[u],!(h+m>o/2));)h+=m,u++;const v=this.getPoint(u),b=this.getPoint(u+1);if(Math.abs(v.x-b.x)<1)v.y>b.y?e.e(v.x,v.y-(o/2-h)):e.e(v.x,v.y+(o/2-h));else if(Math.abs(v.y-b.y)<1)v.x>b.x?e.e(v.x-(o/2-h),v.y):e.e(v.x+(o/2-h),v.y);else{const S=(o/2-h)/m,A=S*(b.x-v.x),M=S*(b.y-v.y);e.e(v.x+A,v.y+M)}return e}get midAngle(){return this.updateRoute(),this.computeMidAngle()}computeMidAngle(){const e=this.pointsCount;if(e<2)return NaN;if(e===2){const b=this.getPoint(0),S=this.getPoint(1);return b.directionPoint(S)}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9))return this.ut.getAngleAlongPath(.5);if(this.computeCurve()===9&&e>=4){const b=(e-1)/3|0;let S=(b/2|0)*3;if(b%2===1){S=Math.floor(S);const A=this.getPoint(S),M=this.getPoint(S+1),O=this.getPoint(S+2),R=this.getPoint(S+3);return G.HF(A.x,A.y,M.x,M.y,O.x,O.y,R.x,R.y)}else if(S>0&&S+1<e){const A=this.getPoint(S-1),M=this.getPoint(S+1);return A.directionPoint(M)}}const n=this.flattenedLengths,a=this.flattenedTotalLength;let o=0,h=0,u=0;for(;o<a/2&&h<e&&(u=n[h],!(o+u>a/2));)o+=u,h++;const m=this.getPoint(h),v=this.getPoint(h+1);if(Math.abs(m.x-v.x)<.5&&Math.abs(m.y-v.y)<hi.NC){if(h>0&&h<e-2){const b=this.getPoint(h-1),S=this.getPoint(h+2);return b.x<S.x?0:b.x>S.x?180:b.y<S.y?90:270}}else if(Math.abs(m.y-v.y)<.5&&Math.abs(m.x-v.x)<hi.NC&&h>0&&h<e-2){const b=this.getPoint(h-1),S=this.getPoint(h+2);return b.y<S.y?90:b.y>S.y?270:b.x<S.x?0:180}return m.directionPoint(v)}get flattenedLengths(){return this.$h!==null?this.$h:(this.Fi||this.pk(),this.NE())}get flattenedTotalLength(){let e=this.mk;if(isNaN(e)){const n=this.flattenedLengths,a=n.length;e=0;for(let o=0;o<a;o++)e+=n[o];this.mk=e}return e}NE(){this.$h===null?this.$h=[]:this.$h.length=0;const e=this.$h,n=this.pointsCount;for(let a=0;a<n-1;a++){let o=0;const h=this.getPoint(a),u=this.getPoint(a+1);G.X(h.x,u.x)?(o=u.y-h.y,o<0&&(o=-o),e.push(o)):G.X(h.y,u.y)?(o=u.x-h.x,o<0&&(o=-o),e.push(o)):(o=Math.sqrt(h.distanceSquaredPoint(u)),e.push(o))}return e}get points(){return this.Me}set points(e){const n=this.Me;if(n===e)return;let a=null;if(Array.isArray(e))a=this.convertPointsArrayToList(e);else if(e instanceof w){a=e.copy();const h=a.iterator;for(;h.next();)h.value.k()}else s.o("Link.points value is not an instance of List or Array: "+e);if(a===null)return;a.k(),this.Me=a,this.ai(),this.pk();const o=this.diagram;o!==null&&(!o.Qa&&!o.undoManager.isUndoingRedoing&&o.nb.add(this),o.animationManager.ke&&o.animationManager.AM(this,a)),this.t("points",n,a)}convertPointsArrayToList(e){let n=null,a=e.length%2===0;if(a){for(let o=0;o<e.length;o++)if(typeof e[o]!="number"||isNaN(e[o])){a=!1;break}}if(a){n=new w;for(let o=0;o<e.length/2;o++)n.add(new N(e[o*2],e[o*2+1]).k())}else{let o=!0;for(let h=0;h<e.length;h++){const u=e[h];if(!s.$(u)||typeof u.x!="number"||isNaN(u.x)||typeof u.y!="number"||isNaN(u.y)){o=!1;break}}if(o){n=new w;for(let h=0;h<e.length;h++){const u=e[h];n.add(new N(u.x,u.y).k())}}}return n}get pointsCount(){return this.Me.count}getPoint(e){return this.Me.r[e]}setPoint(e,n){this.Me.setElt(e,n)}setPointAt(e,n,a){this.Me.setElt(e,new N(n,a))}insertPoint(e,n){this.Me.insertAt(e,n)}insertPointAt(e,n,a){this.Me.insertAt(e,new N(n,a))}addPoint(e){this.Me.add(e)}addPointAt(e,n){this.Me.add(new N(e,n))}removePoint(e){this.Me.removeAt(e)}clearPoints(){this.Me.clear()}Pr(e,n){if(e===0&&n===0)return;if(this.pointsCount===0){this.defaultFromPoint.isReal()&&this.defaultFromPoint.offset(e,n),this.defaultToPoint.isReal()&&this.defaultToPoint.offset(e,n);return}const a=this.Fi,o=new w,h=this.Me.iterator;for(;h.next();){const v=h.value;o.add(new N(v.x+e,v.y+n).k())}o.k();const u=this.Me;this.Me=o;const m=this.diagram;isNaN(e)||isNaN(n)||m!==null&&m.animationManager.ke?this.c():(this.nn.e(this.nn.x+e,this.nn.y+n),this.ct.e(this.ct.x+e,this.ct.y+n),this.Pf()),a?this.pk():(this.defaultFromPoint.isReal()&&(this.defaultFromPoint=this.getPoint(0)),this.defaultToPoint.isReal()&&(this.defaultToPoint=this.getPoint(this.pointsCount-1))),m!==null&&m.animationManager.ke&&m.animationManager.AM(this,o),this.t("points",u,o)}startRoute(){this.xl===null&&(this.xl=this.Me,this.Me=this.Me.copy())}commitRoute(){if(this.xl===null)return;const e=this.xl,n=this.Me;this.xl=null;const a=this.diagram;a!==null&&a.animationManager.ke&&a.animationManager.AM(this,n),this.ai(),this.pk(),this.t("points",e,n)}rollbackRoute(){this.xl!==null&&(this.Me=this.xl,this.xl=null,this.uv(this.va))}DR(){this.vr!==null&&(this.points=this.vr,this.vr=null)}pk(){if(this.Me.count===0){this.Fi=!1;return}this.Fi=!0,this.uv(this.va),this.$h=null,this.mk=NaN,this.defaultFromPoint=this.getPoint(0),this.defaultToPoint=this.getPoint(this.pointsCount-1),this.yk(!1)}invalidateRoute(){this.$t()}$t(){if(this.suspendsRouting)return;const e=this.path;if(e===null)return;const n=this.diagram;if(n){if(n.nb.has(this)||n.undoManager.isUndoingRedoing)return;const a=n.animationManager;if(a.isTicking&&!a.isAnimating)return;this.vr!==null&&!a.isTicking&&(this.vr=null)}this.Fi=!1,this.c(),e.c()}get Fi(){return(this.Mt&16)!==0}set Fi(e){(this.Mt&16)!==0!==e&&(this.Mt=this.Mt^16)}get suspendsRouting(){return(this.Mt&32)!==0}set suspendsRouting(e){(this.Mt&32)!==0!==e&&(this.Mt=this.Mt^32)}get _y(){return(this.Mt&64)!==0}set _y(e){(this.Mt&64)!==0!==e&&(this.Mt=this.Mt^64)}get TC(){return(this.Mt&512)!==0}set TC(e){(this.Mt&512)!==0!==e&&(this.Mt=this.Mt^512)}get defaultFromPoint(){return this.wC}set defaultFromPoint(e){this.wC=e&&e.isReal()?e.copy():N.mn}get defaultToPoint(){return this.xC}set defaultToPoint(e){this.xC=e&&e.isReal()?e.copy():N.mn}updateRoute(){if(this.Fi||this._y)return;let e=!0;try{this._y=!0,this.startRoute(),e=this.computePoints()}catch{this._y=!1,this.rollbackRoute()}finally{this._y=!1,e?this.commitRoute():this.rollbackRoute()}}computePoints(){const e=this.diagram;if(e===null)return!1;let n=this.fromNode,a=null;if(n===null?(hi.Zh||(hi.Zh=new Ct,hi.Zh.desiredSize=X.bc,hi.Zh.ensureBounds()),this.defaultFromPoint.isReal()&&(hi.Zh.location=this.defaultFromPoint,hi.Zh.ensureBounds(),n=hi.Zh,a=hi.Zh)):a=this.fromPort,a!==null&&!n.isVisible()){const V=n.findVisibleNode();V!==null&&V!==n?(n=V,a=V.port):n=V}if(this.bC=n,n===null||!n.location.isReal()||a===null||(a=n.findVisiblePort(a),a===null))return!1;let o=this.toNode,h=null;if(o===null?(hi.Qh||(hi.Qh=new Ct,hi.Qh.desiredSize=X.bc,hi.Qh.ensureBounds()),this.defaultToPoint.isReal()&&(hi.Qh.location=this.defaultToPoint,hi.Qh.ensureBounds(),o=hi.Qh,h=hi.Qh)):h=this.toPort,h!==null&&!o.isVisible()){const V=o.findVisibleNode();V!==null&&V!==o?(o=V,h=V.port):o=V}if(this.kC=o,o===null||!o.location.isReal()||h===null||(h=o.findVisiblePort(h),h===null))return!1;const u=this.pointsCount,m=this.computeSpot(!0,a),v=this.computeSpot(!1,h),b=this.bl(m),S=this.bl(v),A=a===h&&a!==null,M=this.isOrthogonal;let O=this.curve===9;A&&!M?(O=!0,this.ir=!0):this.ir=!1;const R=this.computeAdjusting()===0||A;if(!M&&!A&&b&&S){let V=!1;if(!R&&u>=3){let q=this.getLinkPoint(n,a,m,!0,!1,o,h),J=this.getLinkPoint(o,h,v,!1,!1,n,a);V=this.adjustPoints(0,q,u-1,J),V&&(q=this.getLinkPoint(n,a,m,!0,!1,o,h),J=this.getLinkPoint(o,h,v,!1,!1,n,a),this.adjustPoints(0,q,u-1,J))}V||(this.clearPoints(),O?this.CE(n,a,m,o,h,v):this.LE(n,a,m,o,h,v))}else{const V=A?this.computeCurviness():0;R&&(M&&this.isAvoiding||A)&&this.clearPoints();const q=this.getLinkPoint(n,a,m,!0,M,o,h),J=this.getLinkPoint(o,h,v,!1,M,n,a);let re=0,se=0,ne=0;if(M||!b||A){ne=this.getLinkDirection(n,a,q,m,!0,M,o,h);let Pe=this.wk(n,a,m,!0,ne);if(A&&(b||m.equals(v)||!M&&m.x+v.x===1&&m.y+v.y===1)&&(ne-=M?90:hi.ov,V<0&&(ne-=180)),ne=G.Ee(ne),A&&(Pe+=Math.abs(V)*(M?1:2)),ne===0?re=Pe:ne===90?se=Pe:ne===180?re=-Pe:ne===270?se=-Pe:(re=Pe*Math.cos(ne*Math.PI/180),se=Pe*Math.sin(ne*Math.PI/180)),m.isNoSpot()&&A){const Fe=a.getDocumentPoint(K.Center,N.l()),Re=N.z(Fe.x+re*hi.Yf,Fe.y+se*hi.Yf);this.getLinkPointFromPoint(n,a,Fe,Re,!0,q),N.i(Fe),N.i(Re)}}let xe=0,ye=0,we=0;if(M||!S||A){we=this.getLinkDirection(o,h,J,v,!1,M,n,a);let Pe=this.wk(o,h,v,!1,we);if(A&&(S||m.equals(v)||!M&&m.x+v.x===1&&m.y+v.y===1)&&(we+=M?0:hi.rv,V<0&&(we+=180)),we=G.Ee(we),A&&(Pe+=Math.abs(V)*(M?1:2)),we===0?xe=Pe:we===90?ye=Pe:we===180?xe=-Pe:we===270?ye=-Pe:(xe=Pe*Math.cos(we*Math.PI/180),ye=Pe*Math.sin(we*Math.PI/180)),v.isNoSpot()&&A){const Fe=h.getDocumentPoint(K.Center,N.l()),Re=N.z(Fe.x+xe*hi.Yf,Fe.y+ye*hi.Yf);this.getLinkPointFromPoint(o,h,Fe,Re,!1,J),N.i(Fe),N.i(Re)}}let ze=q;(M||!b||A)&&(ze=new N(q.x+re,q.y+se));let Ce=J;(M||!S||A)&&(Ce=new N(J.x+xe,J.y+ye)),!R&&!M&&b&&u>3&&this.adjustPoints(0,q,u-2,Ce)?this.setPoint(u-1,J):!R&&!M&&S&&u>3&&this.adjustPoints(1,ze,u-1,J)?this.setPoint(0,q):!R&&(M?u>=6:u>4)&&this.adjustPoints(1,ze,u-2,Ce)?(this.setPoint(0,q),this.setPoint(u-1,J)):(this.clearPoints(),this.addPoint(q),(M||!b||A)&&this.addPoint(ze),M&&this.addOrthoPoints(ze,ne,Ce,we,n,o),(M||!S||A)&&this.addPoint(Ce),this.addPoint(J))}return e.addInvalidRoute(this),!0}DC(e,n){return Math.abs(n.x-e.x)>Math.abs(n.y-e.y)?(n.x>=e.x?n.x=e.x+9e9:n.x=e.x-9e9,n.y=e.y):(n.y>=e.y?n.y=e.y+9e9:n.y=e.y-9e9,n.x=e.x),n}getLinkPointFromPoint(e,n,a,o,h,u){if(u===void 0&&(u=new N),e===null||n===null)return u.h(a),u;if(!e.isVisible()){const O=e.findVisibleNode();O!==null&&O!==e&&(e=O,n=e.port)}let m=0,v=0,b=0,S=0,A=null,M=n.panel;if(M!==null&&!M.Nn()&&(M=M.panel),M===null)m=o.x,v=o.y,b=a.x,S=a.y;else{A=M.Js;const O=1/(A.m11*A.m22-A.m12*A.m21),R=A.m22*O,V=-A.m12*O,q=-A.m21*O,J=A.m11*O,re=O*(A.m21*A.dy-A.m22*A.dx),se=O*(A.m12*A.dx-A.m11*A.dy);m=o.x*R+o.y*q+re,v=o.x*V+o.y*J+se,b=a.x*R+a.y*q+re,S=a.x*V+a.y*J+se}return n.pf(m,v,b,S,u),A!==null&&u.v(A),u}AE(e,n){const a=e.yd;return a!==null?a.dv(n):null}xk(e){if(e===null)return null;let n=e.yd;return n===null&&(n=new As(e.part,e),e.yd=n),n.dv(this)}getLinkPoint(e,n,a,o,h,u,m,v){if(v===void 0&&(v=new N),a.isSpot()&&!this.bl(a))return n.getDocumentPoint(a,v),v;if(a.isSide()){const A=this.xk(n);if(A!==null){const M=A.tc;if(v.h(M),h&&this.routing===7){const O=this.xk(m);if(O!==null&&A.Kf<O.Kf){const R=N.l(),V=N.l(),q=W.l();n.getDocumentPoint(K.TopLeft,R),n.getDocumentPoint(K.BottomRight,V);const J=R.x,re=R.y,se=V.x,ne=V.y;q.x=Math.min(J,se),q.y=Math.min(re,ne),q.width=Math.abs(J-se),q.height=Math.abs(re-ne);const xe=this.computeSpot(!o,m),ye=this.getLinkPoint(u,m,xe,!o,h,e,n,V);(a.includesSide(K.LeftSide)||a.includesSide(K.RightSide))&&ye.y>=q.y&&ye.y<=q.y+q.height?v.y=ye.y:(a.includesSide(K.TopSide)||a.includesSide(K.BottomSide))&&ye.x>=q.x&&ye.x<=q.x+q.width&&(v.x=ye.x),W.i(q),N.i(R),N.i(V)}}return v}}const b=n.getDocumentPoint(this.ig(a,o),N.l()),S=N.l();if(this.pointsCount>(h?6:2))S.h(o?this.getPoint(1):this.getPoint(this.pointsCount-2)),h&&this.DC(b,S);else if(e!=null&&e.isMemberOf(u)||u!=null&&u.isMemberOf(e)){const A=n.getDocumentBounds(W.l()),M=m.getDocumentBounds(W.l());A.isReal()&&M.isReal()?M.containsRect(A)?(S.h(b),this.vC(M,b.x,b.y,0,this.computeSpot(m===this.toPort,m),S)):A.containsRect(M)?(m.getDocumentPoint(K.Center,S),this.vC(A,S.x,S.y,0,this.computeSpot(n===this.toPort,n),S)):this.FC(m,b,o,h,S):this.FC(m,b,o,h,S),W.i(A),W.i(M)}else this.FC(m,b,o,h,S);return this.getLinkPointFromPoint(e,n,b,S,o,v),N.i(S),N.i(b),v}FC(e,n,a,o,h){const u=this.computeSpot(!a,e);e.getDocumentPoint(this.ig(u,!a),h),o&&this.DC(n,h)}getLinkDirection(e,n,a,o,h,u,m,v){let b=this.TE(e,n,a,o,h,u,m,v);if(e&&m){const A=W.l(),M=W.l();if(o.isNone()&&e.isMemberOf(m)&&n&&v){if(n.getDocumentBounds(A),v.getDocumentBounds(M),A.isReal()&&M.isReal()&&M.containsRect(A)){const O=this.computeSpot(v===this.toPort,v);O.equals(K.Left)||O.equals(K.LeftSide)?b=180:O.equals(K.Right)||O.equals(K.RightSide)?b=0:O.equals(K.Top)||O.equals(K.TopSide)?b=270:O.equals(K.Bottom)||O.equals(K.BottomSide)?b=90:b=G.Ee(b+180)}}else m!=null&&m.isMemberOf(e)&&n&&v&&(n.getDocumentBounds(A),v.getDocumentBounds(M),A.isReal()&&M.isReal()&&A.containsRect(M)&&(b=G.Ee(b+180)));W.i(A),W.i(M)}if(this.bl(o)||n===null)return b;const S=n.getDocumentAngle();return S===0?b:(45<=S&&S<135?b+=90:135<=S&&S<225?b+=180:225<=S&&S<315&&(b+=270),G.Ee(b))}TE(e,n,a,o,h,u,m,v){if(o.isSpot())return G._w(null,o.x,o.y);if(o.isSide()){const M=this.xk(n);if(M!==null)switch(M.fi){case 1:return 270;case 8:return 90;case 2:return 180;default:return 0}else return o.includesSide(K.TopSide)?270:o.includesSide(K.BottomSide)?90:o.includesSide(K.LeftSide)?180:0}if(n===null||v===null)return 0;const b=n.getDocumentPoint(K.Center,N.l()),S=N.l();this.pointsCount>(u?6:2)?u?(S.h(h?this.getPoint(1):this.getPoint(this.pointsCount-2)),this.DC(b,S)):S.h(a):v.getDocumentPoint(K.Center,S);let A=0;return Math.abs(S.x-b.x)>Math.abs(S.y-b.y)?S.x>=b.x?A=0:A=180:S.y>=b.y?A=90:A=270,N.i(S),N.i(b),A}computeEndSegmentLength(e,n,a,o){return this.wk(e,n,a,o,NaN)}wk(e,n,a,o,h){if(n!==null&&a.isSide()){const m=this.xk(n);if(m!==null)return m.bk}let u=NaN;if(o?u=this.fromEndSegmentLength:u=this.toEndSegmentLength,n!==null&&isNaN(u))if(h===void 0&&(h=NaN),hi.CC>0&&this.computeCurve()===9&&!isNaN(h)&&a.isSpot()){const m=this.getOtherPort(n);if(m){const v=N.l(),b=N.l(),S=n.getDocumentPoint(a,v),A=m.getDocumentPoint(a.opposite(),b),M=h>=315||h<=45||h>=135&&h<=225;let O=Math.abs(M?S.x-A.x:S.y-A.y)/hi.CC;return O=Math.max(O,hi.LC),N.i(v),N.i(b),O}}else o?u=n.fromEndSegmentLength:u=n.toEndSegmentLength;return isNaN(u)&&(u=hi.LC),u}computeSpot(e,n){return n===void 0&&(n=null),e?this.DE(n||this.fromPort):this.vE(n||this.toPort)}DE(e){if(e===null)return K.Center;let n=this.fromSpot;return n.isDefault()&&(n=e.fromSpot),n===K.Default?K.None:n}vE(e){if(e===null)return K.Center;let n=this.toSpot;return n.isDefault()&&(n=e.toSpot),n===K.Default?K.None:n}bl(e){return e===K.None||e.x===.5&&e.y===.5}ig(e,n){return e.x===.5&&e.y===.5?e:K.Center}computeOtherPoint(e,n){if(this.computeAdjusting()!==0&&this.pointsCount>4)return this.computeMidPoint(new N);{const a=this.AE(n,this);if(a!==null)return a.tc;if(e instanceof Jt){let o=this.fromNode,h=this.fromPort;h===n&&(o=this.toNode,h=this.toPort);const u=W.l(),m=W.l();if(h&&(o!=null&&o.isMemberOf(e))){const v=this.computeSpot(h===n,n);if(n.getDocumentBounds(u),h.getDocumentBounds(m),u.isReal()&&m.isReal()&&u.containsRect(m)){const b=h.getDocumentPoint(K.Center);return this.vC(u,b.x,b.y,0,v,b),W.i(u),W.i(m),b}}W.i(u),W.i(m)}return n.getDocumentPoint(K.Center)}}computeShortLength(e){if(e){let n=this.fromShortLength;if(isNaN(n)){const a=this.fromPort;a!==null&&(n=a.fromShortLength)}return isNaN(n)?0:n}else{let n=this.toShortLength;if(isNaN(n)){const a=this.toPort;a!==null&&(n=a.toShortLength)}return isNaN(n)?0:n}}Zm(e,n,a,o,h,u){if(this.pickable===!1)return!1;n===void 0&&(n=null),a===void 0&&(a=null);let m;if(u===void 0?(m=le.l(),m.Ue()):m=u,m.kc(this.v),this.containedInRect(e,m))return this.JN(n,a,h),u===void 0&&le.i(m),!0;if(this.intersectsRect(e,m)){let v=!1;if(!this.Tf){const b=this.D.r,S=b.length;for(let A=S;A--;){const M=b[A];if(!M.visible&&M!==this.locationObject)continue;const O=M.actualBounds,R=this.naturalBounds;if(O.x>R.width||O.y>R.height||O.x+O.width<0||O.y+O.height<0)continue;const V=M,q=le.l();if(q.set(m),V instanceof j?v=V.Zm(e,n,a,o,h,q):this.path===V?V instanceof ke&&(v=V.nE(e,o,q)):v=V.JT(e,o,q),v){let J=V;n!==null&&(J=n(V)),J&&(a===null||a(J))&&h.add(J)}le.i(q)}}return u===void 0&&le.i(m),v||this.background!==null}return u===void 0&&le.i(m),!1}get isOrthogonal(){return(this.Jh&2)===2}static MC(e){return(e&2)===2}get isAvoiding(){return(this.Jh&4)===4}computeCurve(){if(this.ir===null){const e=this.fromPort,n=e!==null&&e===this.toPort,a=this.isOrthogonal;this.ir=n&&!a}return this.ir?9:this.curve}computeCorner(){if(this.curve===9)return 0;let e=this.corner;return(isNaN(e)||e<0)&&(e=hi.lv),e}findMidLabel(){const e=this.path,n=this.D.r,a=n.length;for(let h=0;h<a;h++){const u=n[h];if(!(u===e||u.isPanelMain)&&(u.segmentIndex===-1/0||isNaN(u.segmentIndex)))return u}const o=this.labelNodes;for(;o.next();){const h=o.value;if(h.segmentIndex===-1/0||isNaN(h.segmentIndex))return h}return null}computeSpacing(){if(!this.isVisible())return 0;let e=hi.av;e=Math.max(e,this.computeThickness());const n=this.fromPort,a=this.toPort;if(n!==null&&a!==null){const o=this.findMidLabel();if(o!==null){const h=o.naturalBounds,u=o.margin,m=isNaN(h.width)?hi.hv:h.width*o.scale+u.left+u.right,v=isNaN(h.height)?hi.cv:h.height*o.scale+u.top+u.bottom,b=o.segmentOrientation;if(b===21||b===25||b===24)e=Math.max(e,v);else if(b===23||b===27||b===22||b===26)e=Math.max(e,m);else{const S=n.getDocumentPoint(K.Center).directionPoint(a.getDocumentPoint(K.Center))/180*Math.PI;e=Math.max(e,Math.abs(Math.sin(S)*m)+Math.abs(Math.cos(S)*v)+1)}this.curve===9&&(e*=hi.sv)}}return e}arrangeBundledLinks(e,n){if(n)for(let a=0;a<e.length;a++){const o=e[a];o.computeAdjusting()===0&&o.$t()}}computeCurviness(){let e=this.curviness;if(isNaN(e)){e=hi.ev;const n=this.sr;if(n!==null){const a=s.nt();let o=0;const h=n.rn;for(let m=0;m<h.length;m++){const v=h[m].computeSpacing();a.push(v),o+=v}let u=-o/2;for(let m=0;m<h.length;m++){if(h[m]===this){e=u+a[m]/2;break}u+=a[m]}n.Gy===this.fromNode&&(e=-e),s.Z(a)}}return e}computeThickness(){if(!this.isVisible())return 0;const e=this.path;return e!==null?Math.max(e.strokeWidth,1):1}hasCurviness(){return!isNaN(this.curviness)||this.sr!==null}LE(e,n,a,o,h,u){let m=this.getLinkPoint(e,n,a,!0,!1,o,h),v=this.getLinkPoint(o,h,u,!1,!1,e,n);if(this.gv(e,n,a,m,o,h,u,v),this.addPoint(m),this.addPoint(v),this.hasCurviness()){const b=v.x-m.x,S=v.y-m.y,A=this.computeCurviness(),M=A,O=m.x+b/2,R=m.y+S/2;let V=O,q=R;if(G.u(S,0))b>0?q-=M:q+=M;else{const J=-b/S;let re=Math.sqrt(M*M/(J*J+1));A<0&&(re=-re),V=(S<0?-1:1)*re+O,q=J*(V-O)+R}this.insertPointAt(1,V,q)}}gv(e,n,a,o,h,u,m,v){const b=u.getDocumentBounds(W.l()),S=n.getDocumentBounds(W.l());if(b.intersectsRect(S)&&!b.containsRect(S)&&!S.containsRect(b)){const A=N.l();n.getDocumentPoint(this.ig(a,!0),A);const M=N.l();u.getDocumentPoint(this.ig(m,!1),M);const O=S.width*S.height,R=b.width*b.height;O>R?(o.h(A),this.getLinkPointFromPoint(h,u,M,A,!1,M),v.h(M)):O<R?(this.getLinkPointFromPoint(e,n,A,M,!0,A),o.h(A),v.h(M)):(o.h(A),v.h(M)),N.i(A),N.i(M)}else if(b.containsPoint(o)){const A=N.l();n.getDocumentPoint(this.ig(a,!0),A),v.h(A),this.RC(b,A.x,A.y,hi.Yf,v),this.getLinkPointFromPoint(h,u,b.containsPoint(A)?A:o,v,!1,v),this.getLinkPointFromPoint(e,n,A,v,!0,o),N.i(A)}else if(S.containsPoint(v)){const A=N.l();u.getDocumentPoint(this.ig(m,!1),A),o.h(A),this.RC(S,A.x,A.y,hi.Yf,o),this.getLinkPointFromPoint(e,n,S.containsPoint(A)?A:v,o,!0,o),this.getLinkPointFromPoint(h,u,A,o,!1,v),N.i(A)}W.i(S),W.i(b)}vC(e,n,a,o,h,u){let m=-1;return h.equals(K.Left)||h.equals(K.LeftSide)?m=180:h.equals(K.Right)||h.equals(K.RightSide)?m=0:h.equals(K.Top)||h.equals(K.TopSide)?m=270:(h.equals(K.Bottom)||h.equals(K.BottomSide))&&(m=90),m===-1?this.RC(e,n,a,0,u):this.mv(e,n,a,0,m,u)}RC(e,n,a,o,h){const u=G._w(e,n,a);return this.mv(e,n,a,o,u,h)}mv(e,n,a,o,h,u){return h===0?u.x=e.right+o:h===90?u.y=e.bottom+o:h===180?u.x=e.x-o:h===270?u.y=e.y-o:h===45?(u.x=e.right+o,u.y=e.bottom+o):h===135?(u.x=e.x-o,u.y=e.bottom+o):h===225?(u.x=e.x-o,u.y=e.y-o):h===315&&(u.x=e.right+o,u.y=e.y-o),u}CE(e,n,a,o,h,u){let m=this.getLinkPoint(e,n,a,!0,!1,o,h),v=this.getLinkPoint(o,h,u,!1,!1,e,n);this.gv(e,n,a,m,o,h,u,v),this.addPoint(m),this.addPoint(v);const b=v.x-m.x,S=v.y-m.y,A=this.computeCurviness();let M=0,O=0,R=m.x+b/3,V=m.y+S/3,q=R,J=V;G.u(S,0)?b>0?J-=A:J+=A:(M=-b/S,O=Math.sqrt(A*A/(M*M+1)),A<0&&(O=-O),q=(S<0?-1:1)*O+R,J=M*(q-R)+V),R=m.x+2*b/3,V=m.y+2*S/3;let re=R,se=V;G.u(S,0)?b>0?se-=A:se+=A:(re=(S<0?-1:1)*O+R,se=M*(re-R)+V),this.insertPointAt(1,q,J),this.insertPointAt(2,re,se),this.setPoint(0,this.getLinkPoint(e,n,a,!0,!1,o,h)),this.setPoint(3,this.getLinkPoint(o,h,u,!1,!1,e,n))}adjustPoints(e,n,a,o){let h=this.computeAdjusting();if(this.isOrthogonal){if(h===18)return!1;h===19&&(h=17)}switch(h){case 18:return this.FE(e,n,a,o);case 19:return this.RE(e,n,a,o);case 17:return this.OE(e,n,a,o);default:return!1}}FE(e,n,a,o){const h=this.getPoint(e),u=this.getPoint(a);if(h.equalsApprox(n)&&u.equalsApprox(o))return!0;const m=h.x,v=h.y,b=u.x,S=u.y;let A=b-m,M=S-v;const O=Math.sqrt(A*A+M*M);if(G.X(O,0))return!0;let R=0;G.X(A,0)?M<0?R=-Math.PI/2:R=Math.PI/2:(R=Math.atan(M/Math.abs(A)),A<0&&(R=Math.PI-R));const V=n.x,q=n.y,J=o.x,re=o.y,se=J-V,ne=re-q,xe=Math.sqrt(se*se+ne*ne);let ye=0;G.X(se,0)?ne<0?ye=-Math.PI/2:ye=Math.PI/2:(ye=Math.atan(ne/Math.abs(se)),se<0&&(ye=Math.PI-ye));const we=xe/O,ze=ye-R;this.setPoint(e,n);for(let Ce=e+1;Ce<a;Ce++){const Pe=this.getPoint(Ce);A=Pe.x-m,M=Pe.y-v;const Fe=Math.sqrt(A*A+M*M);if(G.X(Fe,0))continue;let Re=0;G.X(A,0)?M<0?Re=-Math.PI/2:Re=Math.PI/2:(Re=Math.atan(M/Math.abs(A)),A<0&&(Re=Math.PI-Re));const We=Re+ze,Ke=Fe*we,lt=V+Ke*Math.cos(We),ct=q+Ke*Math.sin(We);this.setPointAt(Ce,lt,ct)}return this.setPoint(a,o),!0}RE(e,n,a,o){const h=this.getPoint(e),u=this.getPoint(a);if(h.equalsApprox(n)&&u.equalsApprox(o))return!0;const m=h.x,v=h.y,b=u.x,S=u.y,A=(b-m)**2+(S-v)**2,M=n.x,O=n.y,R=o.x,V=o.y;let q=0,J=1;R-M!==0?(q=(V-O)/(R-M),J=Math.sqrt(1+1/(q*q))):q=9e9,this.setPoint(e,n);for(let re=e+1;re<a;re++){const se=this.getPoint(re),ne=se.x,xe=se.y;let ye=.5;A!==0&&(ye=((m-ne)*(m-b)+(v-xe)*(v-S))/A);const we=m+ye*(b-m),ze=v+ye*(S-v);let Ce=Math.sqrt((ne-we)**2+(xe-ze)**2);xe<q*(ne-we)+ze&&(Ce=-Ce),q>0&&(Ce=-Ce);const Pe=M+ye*(R-M),Fe=O+ye*(V-O);if(q!==0){const Re=Pe+Ce/J,We=Fe-(Re-Pe)/q;this.setPointAt(re,Re,We)}else this.setPointAt(re,Pe,Fe+Ce)}return this.setPoint(a,o),!0}OE(e,n,a,o){if(this.isOrthogonal){let h=this.getPoint(e),u=this.getPoint(e+1),m=this.getPoint(e+2),v=u.x,b=u.y;const S=v,A=b;G.u(h.y,u.y)?G.u(u.x,m.x)?b=n.y:G.u(u.y,m.y)&&(v=n.x):G.u(h.x,u.x)&&(G.u(u.y,m.y)?v=n.x:G.u(u.x,m.x)&&(b=n.y)),this.setPointAt(e+1,v,b),h=this.getPoint(a),u=this.getPoint(a-1),m=this.getPoint(a-2);let M=u.x,O=u.y;const R=M,V=O;if(G.u(h.y,u.y)?G.u(u.x,m.x)?O=o.y:G.u(u.y,m.y)&&(M=o.x):G.u(h.x,u.x)&&(G.u(u.y,m.y)?M=o.x:G.u(u.x,m.x)&&(O=o.y)),this.setPointAt(a-1,M,O),this.yT())return this.setPointAt(e+1,S,A),this.setPointAt(a-1,R,V),!1}return this.setPoint(e,n),this.setPoint(a,o),!0}addOrthoPoints(e,n,a,o,h,u){n=G.Ee(n),o=G.Ee(o);const m=o;n>=315||n<45?n=0:45<=n&&n<135?n=90:135<=n&&n<225?n=180:n=270,o>=315||o<45?o=0:45<=o&&o<135?o=90:135<=o&&o<225?o=180:o=270;const v=e,b=a,S=W.bs(h.actualBounds),A=W.bs(u.actualBounds);S.inflate(hi.Fa,hi.Fa),A.inflate(hi.Fa,hi.Fa),S.unionPoint(e),A.unionPoint(a);const M=N.l(),O=N.l();n===0?b.x>v.x||o===270&&b.y<v.y&&A.right>v.x||o===90&&b.y>v.y&&A.right>v.x?(M.e(b.x,v.y),O.e(b.x,(v.y+b.y)/2),o===180?(M.x=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!1),O.x=M.x,O.y=b.y):o===270&&b.y<v.y||o===90&&b.y>v.y?(v.x<A.left?M.x=this.computeMidOrthoPosition(v.x,v.y,A.left,b.y,!1):v.x<A.right&&(o===270&&v.y<A.top||o===90&&v.y>A.bottom)?M.x=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!1):M.x=A.right,O.x=M.x,O.y=b.y):o===0&&v.x<A.left&&v.y>A.top&&v.y<A.bottom&&(M.x=v.x,v.y<b.y?M.y=Math.min(b.y,A.top):M.y=Math.max(b.y,A.bottom),O.y=M.y)):(M.e(v.x,b.y),O.e((v.x+b.x)/2,b.y),(o===180||o===90&&b.y<S.top||o===270&&b.y>S.bottom)&&(o===180&&(A.containsPoint(v)||S.containsPoint(b))?M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!0):b.y<v.y&&(o===180||o===90)?M.y=this.computeMidOrthoPosition(v.x,S.top,b.x,Math.min(b.y,A.bottom),!0):b.y>v.y&&(o===180||o===270)&&(M.y=this.computeMidOrthoPosition(v.x,S.bottom,b.x,Math.max(b.y,A.top),!0)),O.x=b.x,O.y=M.y),M.y>S.top&&M.y<S.bottom&&(b.x>=S.left&&b.x<=v.x||v.x<=A.right&&v.x>=b.x?(o===90||o===270)&&(M.e(Math.max((v.x+b.x)/2,v.x),v.y),O.e(M.x,b.y)):(o===270||(o===0||o===180)&&b.y<v.y?M.y=Math.min(b.y,o===0?S.top:Math.min(S.top,A.top)):M.y=Math.max(b.y,o===0?S.bottom:Math.max(S.bottom,A.bottom)),O.x=b.x,O.y=M.y))):n===180?b.x<v.x||o===270&&b.y<v.y&&A.left<v.x||o===90&&b.y>v.y&&A.left<v.x?(M.e(b.x,v.y),O.e(b.x,(v.y+b.y)/2),o===0?(M.x=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!1),O.x=M.x,O.y=b.y):o===270&&b.y<v.y||o===90&&b.y>v.y?(v.x>A.right?M.x=this.computeMidOrthoPosition(v.x,v.y,A.right,b.y,!1):v.x>A.left&&(o===270&&v.y<A.top||o===90&&v.y>A.bottom)?M.x=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!1):M.x=A.left,O.x=M.x,O.y=b.y):o===180&&v.x>A.right&&v.y>A.top&&v.y<A.bottom&&(M.x=v.x,v.y<b.y?M.y=Math.min(b.y,A.top):M.y=Math.max(b.y,A.bottom),O.y=M.y)):(M.e(v.x,b.y),O.e((v.x+b.x)/2,b.y),(o===0||o===90&&b.y<S.top||o===270&&b.y>S.bottom)&&(o===0&&(A.containsPoint(v)||S.containsPoint(b))?M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!0):b.y<v.y&&(o===0||o===90)?M.y=this.computeMidOrthoPosition(v.x,S.top,b.x,Math.min(b.y,A.bottom),!0):b.y>v.y&&(o===0||o===270)&&(M.y=this.computeMidOrthoPosition(v.x,S.bottom,b.x,Math.max(b.y,A.top),!0)),O.x=b.x,O.y=M.y),M.y>S.top&&M.y<S.bottom&&(b.x<=S.right&&b.x>=v.x||v.x>=A.left&&v.x<=b.x?(o===90||o===270)&&(M.e(Math.min((v.x+b.x)/2,v.x),v.y),O.e(M.x,b.y)):(o===270||(o===0||o===180)&&b.y<v.y?M.y=Math.min(b.y,o===180?S.top:Math.min(S.top,A.top)):M.y=Math.max(b.y,o===180?S.bottom:Math.max(S.bottom,A.bottom)),O.x=b.x,O.y=M.y))):n===90?b.y>v.y||o===180&&b.x<v.x&&A.bottom>v.y||o===0&&b.x>v.x&&A.bottom>v.y?(M.e(v.x,b.y),O.e((v.x+b.x)/2,b.y),o===270?(M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!0),O.x=b.x,O.y=M.y):o===180&&b.x<v.x||o===0&&b.x>v.x?(v.y<A.top?M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,A.top,!0):v.y<A.bottom&&(o===180&&v.x<A.left||o===0&&v.x>A.right)?M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!0):M.y=A.bottom,O.x=b.x,O.y=M.y):o===90&&v.y<A.top&&v.x>A.left&&v.x<A.right&&(v.x<b.x?M.x=Math.min(b.x,A.left):M.x=Math.max(b.x,A.right),M.y=v.y,O.x=M.x)):(M.e(b.x,v.y),O.e(b.x,(v.y+b.y)/2),(o===270||o===0&&b.x<S.left||o===180&&b.x>S.right)&&(o===270&&(A.containsPoint(v)||S.containsPoint(b))?M.x=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!1):b.x<v.x&&(o===270||o===0)?M.x=this.computeMidOrthoPosition(S.left,v.y,Math.min(b.x,A.right),b.y,!1):b.x>v.x&&(o===270||o===180)&&(M.x=this.computeMidOrthoPosition(S.right,v.y,Math.max(b.x,A.left),b.y,!1)),O.x=M.x,O.y=b.y),M.x>S.left&&M.x<S.right&&(b.y>=S.top&&b.y<=v.y||v.y<=A.bottom&&v.y>=b.y?(o===0||o===180)&&(M.e(v.x,Math.max((v.y+b.y)/2,v.y)),O.e(b.x,M.y)):(o===180||(o===90||o===270)&&b.x<v.x?M.x=Math.min(b.x,o===90?S.left:Math.min(S.left,A.left)):M.x=Math.max(b.x,o===90?S.right:Math.max(S.right,A.right)),O.x=M.x,O.y=b.y))):b.y<v.y||o===180&&b.x<v.x&&A.top<v.y||o===0&&b.x>v.x&&A.top<v.y?(M.e(v.x,b.y),O.e((v.x+b.x)/2,b.y),o===90?(M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!0),O.x=b.x,O.y=M.y):o===180&&b.x<v.x||o===0&&b.x>=v.x?(v.y>A.bottom?M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,A.bottom,!0):v.y>A.top&&(o===180&&v.x<A.left||o===0&&v.x>A.right)?M.y=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!0):M.y=A.top,O.x=b.x,O.y=M.y):o===270&&v.y>A.bottom&&v.x>A.left&&v.x<A.right&&(v.x<b.x?M.x=Math.min(b.x,A.left):M.x=Math.max(b.x,A.right),M.y=v.y,O.x=M.x)):(M.e(b.x,v.y),O.e(b.x,(v.y+b.y)/2),(o===90||o===0&&b.x<S.left||o===180&&b.x>S.right)&&(o===90&&(A.containsPoint(v)||S.containsPoint(b))?M.x=this.computeMidOrthoPosition(v.x,v.y,b.x,b.y,!1):b.x<v.x&&(o===90||o===0)?M.x=this.computeMidOrthoPosition(S.left,v.y,Math.min(b.x,A.right),b.y,!1):b.x>v.x&&(o===90||o===180)&&(M.x=this.computeMidOrthoPosition(S.right,v.y,Math.max(b.x,A.left),b.y,!1)),O.x=M.x,O.y=b.y),M.x>S.left&&M.x<S.right&&(b.y<=S.bottom&&b.y>=v.y||v.y>=A.top&&v.y<=b.y?(o===0||o===180)&&(M.e(v.x,Math.min((v.y+b.y)/2,v.y)),O.e(b.x,M.y)):(o===180||(o===90||o===270)&&b.x<v.x?M.x=Math.min(b.x,o===270?S.left:Math.min(S.left,A.left)):M.x=Math.max(b.x,o===270?S.right:Math.max(S.right,A.right)),O.x=M.x,O.y=b.y))),this.TC=o!==m,this.PC=n,this.SC=o,this.addPoint(M.copy()),this.addPoint(O.copy()),N.i(M),N.i(O),W.i(S),W.i(A)}computeMidOrthoPosition(e,n,a,o,h){let u=0;return this.hasCurviness()&&!this.computeSpot(!0,this.fromPort).isSide()&&!this.computeSpot(!1,this.toPort).isSide()&&(u=this.computeCurviness()),h?(n+o)/2+u:(e+a)/2+u}yT(){if(this.diagram===null||!this.isAvoiding||this.diagram.animationManager.isTicking)return!1;const e=this.points.r,n=e.length;if(n<4)return!1;const a=this.diagram.getPositions(!1,this.containingGroup,null);for(let o=1;o<n-2;o++){const h=e[o],u=e[o+1];if(!a.isUnoccupied(Math.min(h.x,u.x),Math.min(h.y,u.y),Math.abs(h.x-u.x),Math.abs(h.y-u.y)))return!0}return!1}findClosestSegment(e){const n=e.x,a=e.y;let o=this.getPoint(0),h=this.getPoint(1),u=N.distanceLineSegmentSquared(n,a,o.x,o.y,h.x,h.y),m=0;for(let v=1;v<this.pointsCount-1;v++){o=this.getPoint(v+1);const b=N.distanceLineSegmentSquared(n,a,h.x,h.y,o.x,o.y);h=o,b<u&&(m=v,u=b)}return m}invalidateGeometry(){this.ai()}ai(){this.Ra&&(this.Ra=!1,this.c())}get Ra(){return(this.Mt&128)!==0}set Ra(e){(this.Mt&128)!==0!==e&&(this.Mt=this.Mt^128)}get geometry(){if(!this.Ra){if(this.updateRoute(),this.pointsCount<2)return this.Ra=!0,this.ut;this.ut=this.makeGeometry(),this.Ra=!0}return this.ut}Td(e){if(!e){if(this.Fi===!1)return;const h=this.findMainElement();if(this.Ra&&(h===null||h.geometry!==null))return}this.pointsCount>=2&&(this.ut=this.makeGeometry()),this.Ra=!0;const n=this.path;if(n===null)return;n.ut=this.ut;const a=this.D.r,o=a.length;for(let h=0;h<o;h++){const u=a[h];u!==n&&u.isPanelMain&&u instanceof ke&&(u.ut=this.ut)}}IE(e){return this._h()&&e.ra.has(this)&&(this.va.width!==0||this.va.height!==0)&&(e.animationManager.isAnimating||e.currentTool!==e.toolManager)}makeGeometry(){const e=this.ut,n=this.pointsCount;let a=!1;const o=this.diagram;o!==null&&this.IE(o)&&(a=!0);let h=0,u=0,m=N.bs(this.getPoint(0));const v=N.bs(m),b=this.Me.r,S=this.computeCurve();if(S===9&&n>=3&&!G.X(this.smoothness,0))if(n===3){let A=this.getPoint(1);h=Math.min(m.x,A.x),u=Math.min(m.y,A.y),A=this.getPoint(2),h=Math.min(h,A.x),u=Math.min(u,A.y)}else if(this.isOrthogonal){for(let A=0;A<n;A++){const M=b[A];v.x=Math.min(M.x,v.x),v.y=Math.min(M.y,v.y)}h=v.x,u=v.y}else{for(let A=3;A<n;A+=3){A+3>=n&&(A=n-1);const M=this.getPoint(A);v.x=Math.min(M.x,v.x),v.y=Math.min(M.y,v.y)}h=v.x,u=v.y}else{for(let A=0;A<n;A++){const M=b[A];v.x=Math.min(M.x,v.x),v.y=Math.min(M.y,v.y)}h=v.x,u=v.y}if(h-=this.gk.x,u-=this.gk.y,m.x-=h,m.y-=u,this.computeShortLength(!0)!==0&&(m=this.ec(m,!0,v)),n===2&&!this._h()){let A=N.bs(this.getPoint(1));return A.x-=h,A.y-=u,this.computeShortLength(!1)!==0&&(A=this.ec(A,!1,v)),e.type=1,e.startX=m.x,e.startY=m.y,e.endX=A.x,e.endY=A.y,N.i(A),N.i(m),N.i(v),e}else{e.type=4;const A=qt.qL(e);if(A.Au(m.x,m.y,!1,!1),S===9&&n>=3&&!G.X(this.smoothness,0))if(n===3){const M=this.getPoint(1),O=M.x-h,R=M.y-u,V=N.bs(this.getPoint(2));V.x-=h,V.y-=u,this.computeShortLength(!1)!==0&&this.ec(V,!1,v),A.xr(O,R,O,R,V.x,V.y),N.i(V)}else if(this.isOrthogonal){const M=N.z(h,u),O=N.bs(this.getPoint(1)),R=N.z(h,u),V=N.z(h,u);let q=this.getPoint(0),J;const re=this.smoothness/3;for(let ye=1;ye<this.pointsCount-1;ye++){J=this.getPoint(ye);const we=q,ze=J,Ce=this.getPoint(this.OC(J,ye,!1));G.X(we.x,ze.x)&&G.X(ze.x,Ce.x)||G.X(we.y,ze.y)&&G.X(ze.y,Ce.y)||(this.EE(we,ze,Ce,re,R,V),(ye===1||ye===2&&G.X(q.x,this.getPoint(0).x)&&G.X(q.y,this.getPoint(0).y))&&(O.x=(q.x+J.x)*.5,O.y=(q.y+J.y)*.5),A.xr(O.x-h,O.y-u,R.x-h,R.y-u,J.x-h,J.y-u),M.h(R),O.h(V),q=J)}let se=q.x,ne=q.y;const xe=N.bs(this.getPoint(this.pointsCount-1));this.computeShortLength(!1)!==0&&this.ec(xe,!1,N.gn),se=.5*(se+xe.x),ne=.5*(ne+xe.y),A.xr(V.x-h,V.y-u,se-h,ne-u,xe.x-h,xe.y-u),N.i(xe),N.i(M),N.i(O),N.i(R),N.i(V)}else for(let M=3;M<n;M+=3){const O=this.getPoint(M-2);M+3>=n&&(M=n-1);const R=this.getPoint(M-1),V=N.bs(this.getPoint(M));M===n-1&&this.computeShortLength(!1)!==0&&this.ec(V,!1,N.gn),A.xr(O.x-h,O.y-u,R.x-h,R.y-u,V.x-h,V.y-u),N.i(V)}else if(this.isOrthogonal||n===2){const M=N.bs(this.getPoint(0)),O=N.l(),R=N.bs(M),V=this.computeCorner();let q=1,J=0;for(;q<n;){if(q=this.OC(M,q,q>1),O.h(this.getPoint(q)),q>=n-1){if(!M.equals(O))this.computeShortLength(!1)!==0&&this.ec(O,!1,N.gn),this.On(A,-h,-u,M,O,a);else if(J===0)for(q=1;q<n;)R.h(M),O.h(this.getPoint(q++)),this.On(A,-h,-u,M,O,a),M.h(O);break}J=this.OC(O,q+1,q<n-3);const re=this.getPoint(J);this.UE(A,-h,-u,M,O,re,M,R,V,a),R.h(O),q=J}N.i(M),N.i(O),N.i(R)}else{const M=this.computeCorner();if(n>2&&M>=.5){const O=N.bs(b[n-1]);this.computeShortLength(!1)!==0&&this.ec(O,!1,N.gn),m.x+=h,m.y+=u;for(let R=1;R<n;R++){const V=R===1?m:b[R-1],q=R===n-1?O:b[R],J=Math.sqrt(V.distanceSquaredPoint(q)),re=M/J;if(re<.5){if(R>1){const se=V.x+(q.x-V.x)*re,ne=V.y+(q.y-V.y)*re;A.Tu(V.x-h,V.y-u,se-h,ne-u)}A.Ks(q.x+(V.x-q.x)*re-h,q.y+(V.y-q.y)*re-u)}else R>1&&A.Tu(V.x-h,V.y-u,(V.x+q.x)/2-h,(V.y+q.y)/2-u);R===n-1&&A.Ks(O.x-h,O.y-u)}N.i(O)}else if(n>=2){const O=N.bs(b[n-1]);this.computeShortLength(!1)!==0&&this.ec(O,!1,N.gn);for(let R=1;R<n-1;R++)A.Ks(b[R].x-h,b[R].y-u);A.Ks(O.x-h,O.y-u),N.i(O)}}return qt.WL(A),N.i(m),N.i(v),e}}kk(e,n,a,o){let h=a-e;if(isNaN(h)||h===1/0||h===-1/0)return NaN;h<0&&(h=-h);let u=o-n;return isNaN(u)||u===1/0||u===-1/0?NaN:(u<0&&(u=-u),G.X(h,0)?u:G.X(u,0)?h:Math.sqrt(h*h+u*u))}EE(e,n,a,o,h,u){isNaN(o)&&(o=this.smoothness/3);const m=e.x,v=e.y,b=n.x,S=n.y,A=a.x,M=a.y,O=o*this.kk(m,v,b,S),R=o*this.kk(b,S,A,M);if(G.X(v,S)&&G.X(b,A)&&(b>m?M>S?(h.x=b-O,h.y=S-O,u.x=b+R,u.y=S+R):(h.x=b-O,h.y=S+O,u.x=b+R,u.y=S-R):M>S?(h.x=b+O,h.y=S-O,u.x=b-R,u.y=S+R):(h.x=b+O,h.y=S+O,u.x=b-R,u.y=S-R)),G.X(m,b)&&G.X(S,M)&&(S>v?A>b?(h.x=b-O,h.y=S-O,u.x=b+R,u.y=S+R):(h.x=b+O,h.y=S-O,u.x=b-R,u.y=S+R):A>b?(h.x=b-O,h.y=S+O,u.x=b+R,u.y=S-R):(h.x=b+O,h.y=S+O,u.x=b-R,u.y=S-R)),G.X(m,b)&&G.X(b,A)||G.X(v,S)&&G.X(S,M)){const V=.5*(m+A),q=.5*(v+M);h.x=V,h.y=q,u.x=V,u.y=q}}ec(e,n,a){const o=this.pointsCount;if(o<2)return e;if(n){const h=this.getPoint(1),u=h.x-a.x,m=h.y-a.y,v=this.kk(e.x,e.y,u,m);if(v===0)return e;const b=o===2?v*.5:v;let S=this.computeShortLength(!0);S>b&&(S=b);const A=S*(u-e.x)/v,M=S*(m-e.y)/v;e.x+=A,e.y+=M}else{const h=this.getPoint(o-2),u=h.x-a.x,m=h.y-a.y,v=this.kk(e.x,e.y,u,m);if(v===0)return e;const b=o===2?v*.5:v;let S=this.computeShortLength(!1);S>b&&(S=b);const A=S*(e.x-u)/v,M=S*(e.y-m)/v;e.x-=A,e.y-=M}return e}OC(e,n,a){const o=this.pointsCount;let h=e;for(;G.X(e.x,h.x)&&G.X(e.y,h.y);){if(n>=o)return o-1;h=this.getPoint(n++)}if(!G.X(e.x,h.x)&&!G.X(e.y,h.y))return n-1;let u=h;for(;G.X(e.x,h.x)&&G.X(h.x,u.x)&&(!a||(e.y>=h.y?h.y>=u.y:h.y<=u.y))||G.X(e.y,h.y)&&G.X(h.y,u.y)&&(!a||(e.x>=h.x?h.x>=u.x:h.x<=u.x));){if(n>=o)return o-1;u=this.getPoint(n++)}return n-2}UE(e,n,a,o,h,u,m,v,b,S){if(G.u(o.y,h.y)&&G.u(h.x,u.x)){let A=Math.min(b,Math.abs(h.x-v.x)/2);const M=Math.min(A,Math.abs(u.y-h.y)/2);if(A=M,G.u(A,0)){this.On(e,n,a,o,h,S),m.h(h);return}let O=h.x;const R=h.y,V=O;let q=R;h.x>o.x?(O=h.x-A,u.y>h.y?q=h.y+M:q=h.y-M):(O=h.x+A,u.y>h.y?q=h.y+M:q=h.y-M);const J=N.z(O,R);this.On(e,n,a,o,J,S),N.i(J),e.Tu(h.x+n,h.y+a,V+n,q+a),m.e(V,q)}else if(G.u(o.x,h.x)&&G.u(h.y,u.y)){let A=Math.min(b,Math.abs(h.y-v.y)/2);const M=Math.min(A,Math.abs(u.x-h.x)/2);if(A=M,G.u(M,0)){this.On(e,n,a,o,h,S),m.h(h);return}const O=h.x;let R=h.y,V=O;const q=R;h.y>o.y?(R=h.y-A,u.x>h.x?V=h.x+M:V=h.x-M):(R=h.y+A,u.x>h.x?V=h.x+M:V=h.x-M);const J=N.z(O,R);this.On(e,n,a,o,J,S),N.i(J),e.Tu(h.x+n,h.y+a,V+n,q+a),m.e(V,q)}else this.On(e,n,a,o,h,S),m.h(h)}On(e,n,a,o,h,u){if(u||!this._h())e.Ks(h.x+n,h.y+a);else{const m=hi.nv,v=m/2,b=[];let S=0;this.isVisible()&&(S=this.VE(o,h,b));let A=o.x,M=o.y;if(S>0){if(G.u(o.y,h.y))if(o.x<h.x){let O=0;for(;O<S;){const R=Math.max(o.x,Math.min(b[O++]-v,h.x-m));e.Ks(R+n,h.y+a),A=R+n,M=h.y+a;let V=Math.min(R+m,h.x);for(;O<S;){const se=b[O];if(se<V+m)O++,V=Math.min(se+v,h.x);else break}const q=h.y-m+a,J=V+n,re=h.y+a;this.curve===10?e.Au(J,re,!1,!1):e.xr(A,q,J,q,J,re),A=J,M=re}}else{let O=S-1;for(;O>=0;){const R=Math.min(o.x,Math.max(b[O--]+v,h.x+m));e.Ks(R+n,h.y+a),A=R+n,M=h.y+a;let V=Math.max(R-m,h.x);for(;O>=0;){const se=b[O];if(se>V-m)O--,V=Math.max(se-v,h.x);else break}const q=h.y-m+a,J=V+n,re=h.y+a;this.curve===10?e.Au(J,re,!1,!1):e.xr(A,q,J,q,J,re),A=J,M=re}}else if(G.u(o.x,h.x))if(o.y<h.y){let O=0;for(;O<S;){const R=Math.max(o.y,Math.min(b[O++]-v,h.y-m));e.Ks(h.x+n,R+a),A=h.x+n,M=R+a;let V=Math.min(R+m,h.y);for(;O<S;){const se=b[O];if(se<V+m)O++,V=Math.min(se+v,h.y);else break}const q=h.x-m+n,J=h.x+n,re=V+a;this.curve===10?e.Au(J,re,!1,!1):e.xr(q,M,q,re,J,re),A=J,M=re}}else{let O=S-1;for(;O>=0;){const R=Math.min(o.y,Math.max(b[O--]+v,h.y+m));e.Ks(h.x+n,R+a),A=h.x+n,M=R+a;let V=Math.max(R-m,h.y);for(;O>=0;){const se=b[O];if(se>V-m)O--,V=Math.max(se-v,h.y);else break}const q=h.x-m+n,J=h.x+n,re=V+a;this.curve===10?e.Au(J,re,!1,!1):e.xr(q,M,q,re,J,re),A=J,M=re}}}e.Ks(h.x+n,h.y+a)}}VE(e,n,a){const o=this.diagram;if(o===null||e.equals(n))return 0;const h=o.layers;for(;h.next();){const u=h.value;if(u!==null&&u.visible){const m=u.EM(),v=m.length;for(let b=0;b<v;b++){const S=m[b];if(!(S instanceof hi))continue;if(S===this)return a.length>0&&a.sort((O,R)=>O-R),a.length;if(!S.isVisible()||!S._h())continue;const A=S.routeBounds;if(!A.isReal()||!this.routeBounds.intersectsRect(A)||this.usesSamePort(S))continue;const M=S.path;M!==null&&M.isVisibleObject()&&this.BE(e,n,a,S)}}}return a.length>0&&a.sort((u,m)=>u-m),a.length}BE(e,n,a,o){const h=G.u(e.y,n.y),u=o.pointsCount;let m=o.getPoint(0);const v=N.l();for(let b=1;b<u;b++){const S=o.getPoint(b);if(b<u-1){const A=o.getPoint(b+1);if(m.y===S.y&&S.y===A.y){if(S.x>m.x&&A.x>=S.x||S.x<m.x&&A.x<=S.x)continue}else if(m.x===S.x&&S.x===A.x&&(S.y>m.y&&A.y>=S.y||S.y<m.y&&A.y<=S.y))continue}this.zE(e,n,m,S,v)&&(h?a.push(v.x):a.push(v.y)),m=S}N.i(v)}zE(e,n,a,o,h){const u=e.x,m=e.y,v=n.x,b=n.y,S=a.x,A=a.y,M=o.x,O=o.y;if(G.u(u,v)){if(!G.u(m,b)&&G.u(A,O)&&Math.min(m,b)<A&&Math.max(m,b)>A&&Math.min(S,M)<u&&Math.max(S,M)>u&&!G.u(S,M))return h.x=u,h.y=A,!0}else if(G.u(m,b)&&G.u(S,M)&&Math.min(u,v)<S&&Math.max(u,v)>S&&Math.min(A,O)<m&&Math.max(A,O)>m&&!G.u(A,O))return h.x=S,h.y=m,!0;return h.x=0,h.y=0,!1}get firstPickIndex(){return this.pointsCount<=2?0:this.isOrthogonal||!this.bl(this.computeSpot(!0))?1:0}get lastPickIndex(){const e=this.pointsCount;return e===0?0:e<=2?e-1:this.isOrthogonal||!this.bl(this.computeSpot(!1))?e-2:e-1}_h(){const e=this.curve;return e===11||e===10}yk(e){if(e||this._h()){const n=this.diagram;n!==null&&!n.animationManager.isTicking&&!n.ra.has(this)&&(this.va.width!==0||this.va.height!==0)&&n.ra.set(this,this.va.copy())}}invalidateOtherJumpOvers(e){const n=this.layer;if(n===null||!n.visible||n.isTemporary)return;const a=n.diagram;if(a===null||a.animationManager.isTicking)return;let o=!1;const h=a.layers;for(;h.next();){const u=h.value;if(u.visible){if(u===n){o=!0;let m=!1;const v=u.EM(),b=v.length;for(let S=0;S<b;S++){const A=v[S];A instanceof hi&&(A===this?m=!0:m&&this.pv(A,e))}}else if(o){const m=u.EM(),v=m.length;for(let b=0;b<v;b++){const S=m[b];S instanceof hi&&this.pv(S,e)}}}}}pv(e,n){if(e===null||!e.Ra||!e.Fi||!e._h())return;const a=e.routeBounds;a.isReal()&&(!this.routeBounds.intersectsRect(a)&&!n.intersectsRect(a)||this.usesSamePort(e)||e.ai())}usesSamePort(e){const n=this.pointsCount,a=e.pointsCount;if(n>0&&a>0){const o=this.getPoint(0),h=e.getPoint(0);if(o.equalsApprox(h))return!0;const u=this.getPoint(n-1),m=e.getPoint(a-1);if(u.equalsApprox(m)||o.equalsApprox(m)||u.equalsApprox(h))return!0}else if(this.fromNode===e.fromNode||this.toNode===e.toNode||this.fromNode===e.toNode||this.toNode===e.fromNode)return!0;return!1}isVisible(){if(!super.isVisible())return!1;const e=this.containingGroup;let n=!0;const a=this.diagram;a!==null&&(n=a.isTreePathToChildren);const o=this.fromNode;if(o!==null){if(this.isTreeLink&&n&&!o.isTreeExpanded)return!1;if(o===e)return!0;let u=o;for(;u!==null;){if(u.labeledLink===this)return!0;u=u.containingGroup}const m=o.findVisibleNode();if(m===null||m===e)return!1}const h=this.toNode;if(h!==null){if(this.isTreeLink&&!n&&!h.isTreeExpanded)return!1;if(h===e)return!0;let u=h;for(;u!==null;){if(u.labeledLink===this)return!0;u=u.containingGroup}const m=h.findVisibleNode();if(m===null||m===e)return!1}return!0}Xe(e){if(super.Xe(e),e&&this.yk(!1),this.sr!==null&&this.sr.Jd(),this.on!==null){const n=this.on.iterator;for(;n.next();)n.value.Xe(e)}}get adjusting(){return this.Gf}set adjusting(e){const n=this.Gf;n!==e&&(this.Gf=e,this.t("adjusting",n,e))}computeAdjusting(){return this.isAvoiding&&this.diagram!==null&&this.diagram.animationManager.defaultAnimation.isAnimating?17:this.Gf}get corner(){return this.Qd}set corner(e){const n=this.Qd;n!==e&&(this.Qd=e,this.ai(),this.t("corner",n,e))}get curve(){return this._d}set curve(e){const n=this._d;n!==e&&(this._d=e,this.$t(),this.ai(),this.yk(n===10||n===11||e===10||e===11),this.t("curve",n,e))}get curviness(){return this.tg}set curviness(e){const n=this.tg;n!==e&&(this.tg=e,this.$t(),this.ai(),this.t("curviness",n,e))}get routing(){return this.Jh}set routing(e){const n=this.Jh;n!==e&&(this.Jh=e,this.isAvoiding&&this.diagram!==null&&(this.diagram.lp=!0),this.ir=null,this.$t(),this.yk(hi.MC(n)||hi.MC(e)),this.t("routing",n,e))}get smoothness(){return this.eg}set smoothness(e){const n=this.eg;n!==e&&(this.eg=e,this.ai(),this.t("smoothness",n,e))}Qy(){const e=this.po;if(e===null)return;const n=this.wo;if(n===null||!isNaN(this.curviness))return;const a=this.yo,o=this.xo;let h=null,u=null;const m=e.ee.r,v=m.length;for(let b=0;b<v;b++){const S=m[b];!(S.po===e&&S.yo===a&&S.wo===n&&S.xo===o)&&!(S.po===n&&S.yo===o&&S.wo===e&&S.xo===a)||(u===null?u=S:(h===null&&(h=[],h.push(u)),h.push(S)))}if(h!==null){let b=e.KD(n,a,o);b===null&&(b=new Pd(e,a,n,o),e.GD(b),n.GD(b)),b.rn=h;for(let S=0;S<h.length;S++){const A=h[S];A.sr=b}b.Jd()}}Zy(){const e=this.sr;if(e!==null){if(!isNaN(this.curviness))return;this.sr=null;const n=e.rn.indexOf(this);n>=0&&(e.rn.splice(n,1),e.Jd())}}Ar(){return!0}get key(){const e=this.diagram;if(!(e===null||!e.model.Wh()))return e.model.getKeyForLinkData(this.data)}};let yt=hi;E(yt,"Zh",null),E(yt,"Qh",null),E(yt,"Normal",1),E(yt,"Orthogonal",2),E(yt,"AvoidsNodes",6),E(yt,"AvoidsNodesStraight",7),E(yt,"None",0),E(yt,"Bezier",9),E(yt,"JumpGap",10),E(yt,"JumpOver",11),E(yt,"End",17),E(yt,"Scale",18),E(yt,"Stretch",19),E(yt,"OrientAlong",21),E(yt,"OrientPlus90",22),E(yt,"OrientMinus90",23),E(yt,"OrientOpposite",24),E(yt,"OrientUpright",25),E(yt,"OrientPlus90Upright",26),E(yt,"OrientMinus90Upright",27),E(yt,"OrientUpright45",28),E(yt,"tv",8),E(yt,"ev",16),E(yt,"Fa",8),E(yt,"J1",3),E(yt,"iv",3),E(yt,"sv",1.333),E(yt,"NC",1),E(yt,"CC",0),E(yt,"nv",10),E(yt,"Yf",9999),E(yt,"ov",30),E(yt,"rv",30),E(yt,"LC",10),E(yt,"lv",10),E(yt,"av",14),E(yt,"hv",30),E(yt,"cv",14),E(yt,"_A",8),E(yt,"tT",8),E(yt,"fv",11),E(yt,"IT");class Pd{constructor(i,e,n,a){E(this,"Ko");E(this,"qs");E(this,"Gy");E(this,"pC");E(this,"fk");E(this,"yC");E(this,"rn");C.Je(this),this.Ko=!1,this.qs=!1,this.Gy=i,this.pC=e,this.fk=n,this.yC=a,this.rn=[]}Jd(){if(!this.Ko){const i=this.rn;if(i.length>0){const e=i[0].diagram;e!==null&&(e.o2.add(this),this.qs=e.undoManager.isUndoingRedoing)}}this.Ko=!0}P2(){if(this.Ko){this.Ko=!1;const i=this.rn;if(i.length>0){const e=i[0],n=e.diagram,a=n===null||n.Qa&&!this.qs;this.qs=!1,e.arrangeBundledLinks(i,a),i.length===1&&(e.sr=null,i.length=0)}i.length===0&&(this.Gy.YD(this),this.fk.YD(this))}}}const pn=class{constructor(i){E(this,"ui");E(this,"di");E(this,"ic");E(this,"sc");E(this,"we");E(this,"xe");E(this,"Vt");E(this,"Oa");E(this,"Ia");E(this,"Ah");E(this,"I2");E(this,"Ko");E(this,"tw");E(this,"hf");E(this,"E2");E(this,"U2");C.Je(this),this.Ah=null,this.I2=null,this.Ko=!0,this.tw=!1,this.ui=1,this.di=1,this.ic=-1,this.sc=-1,this.we=i.width,this.xe=i.height,this.Vt=[],this.Oa=0,this.Ia=0,this.hf=yt.fv,this.E2=this.hf*2,this.U2=this.hf*2}f1(i){if(i.width<=0||i.height<=0)return;const e=i.x,n=i.y,a=i.x+i.width,o=i.y+i.height;this.ui=Math.floor((e-this.we)/this.we)*this.we,this.di=Math.floor((n-this.xe)/this.xe)*this.xe,this.ic=Math.ceil((a+2*this.we)/this.we)*this.we,this.sc=Math.ceil((o+2*this.xe)/this.xe)*this.xe;const h=1+(Math.ceil((this.ic-this.ui)/this.we)|0),u=1+(Math.ceil((this.sc-this.di)/this.xe)|0);if(this.Vt.length===0||this.Oa<h-1||this.Ia<u-1){const m=[];for(let v=0;v<=h;v++)m[v]=new Uint32Array(u);this.Vt=m,this.Oa=h-1,this.Ia=u-1}this.XE(pn.IC)}get bounds(){return new W(this.ui,this.di,this.ic-this.ui,this.sc-this.di)}get cellWidth(){return this.we}set cellWidth(i){i>0&&i!==this.we&&(this.we=i,this.f1(this.bounds))}get cellHeight(){return this.xe}set cellHeight(i){i>0&&i!==this.xe&&(this.xe=i,this.f1(this.bounds))}ng(i,e){return this.ui<=i&&i<=this.ic&&this.di<=e&&e<=this.sc}bo(i,e){if(!this.ng(i,e))return pn.IC;i-=this.ui,i/=this.we,e-=this.di,e/=this.xe;const n=i|0,a=e|0;return this.Vt[n][a]}vO(i,e,n,a){if(!this.ng(i,e))return;const o=(i-this.ui)/this.we|0,h=(e-this.di)/this.xe|0,u=(i+n-this.ui)/this.we|0,m=(e+a-this.di)/this.xe|0,v=Math.min(u,this.Oa),b=Math.min(m,this.Ia);for(let S=o;S<=v;S++){const A=this.Vt[S];if(A.fill)A.fill(pn.ln,h,b+1);else for(let M=h;M<=b;M++)A[M]=pn.ln}}XE(i){for(let e=0;e<=this.Oa;e++){const n=this.Vt[e];if(n.fill)n.fill(i);else for(let a=0;a<=this.Ia;a++)n[a]=i}}TT(){for(let i=0;i<=this.Oa;i++){const e=this.Vt[i];for(let n=0;n<=this.Ia;n++)e[n]>=pn.nc&&(e[n]=pn.IC)}}GE(i,e){return this.bo(i,e)===pn.ln}isUnoccupied(i,e,n,a){if(i>this.ic||i+n<this.ui||e>this.sc||e+a<this.di)return!0;let o=(i-this.ui)/this.we|0,h=(e-this.di)/this.xe|0,u=Math.max(0,n)/this.we+1|0,m=Math.max(0,a)/this.xe+1|0;if(o<0&&(u+=o,o=0),h<0&&(m+=h,h=0),u<0||m<0)return!0;const v=Math.min(o+u-1,this.Oa)|0,b=Math.min(h+m-1,this.Ia)|0;for(let S=o;S<=v;S++){const A=this.Vt[S];for(let M=h;M<=b;M++)if(A[M]===pn.ln)return!1}return!0}maxAvoidsLinksSpaceH(i,e,n,a){if(i>this.ic||e<this.ui||n>this.sc||n<this.di)return 0;const o=(i-this.ui)/this.we|0,h=(e-this.ui)/this.we|0,u=(n-this.di)/this.xe|0,m=a/this.xe+1|0;let v;for(v=0;v<m/2;v++){let b=!1;for(let S=o;S<=h;S++)if(this.Vt[S][u+v]===pn.ln||this.Vt[S][u-v]===pn.ln){b=!0;break}if(b)return Math.max(0,(2*v-1)*this.xe)}return a}maxAvoidsLinksSpaceV(i,e,n,a){if(i>this.sc||e<this.di||n>this.ic||n<this.ui)return 0;const o=(i-this.di)/this.xe|0,h=(e-this.di)/this.xe|0,u=(n-this.ui)/this.we|0,m=a/this.we+1|0;let v;for(v=0;v<m/2;v++){let b=!1;for(let S=o;S<=h;S++)if(this.Vt[u+v][S]===pn.ln||this.Vt[u-v][S]===pn.ln){b=!0;break}if(b)return Math.max(0,(2*v-1)*this.we)}return a}YE(i,e,n,a,o,h,u,m){i=i|0,e=e|0;let v=this.Vt[i][e];if(v>=pn.nc&&v<pn.sg)for(a?e+=n:i+=n,v+=1;o<=i&&i<=h&&u<=e&&e<=m;){const b=this.Vt[i][e];if(v>=b)break;this.Vt[i][e]=v,v+=1,a?e+=n:i+=n}return a?e:i}ko(i,e,n,a,o,h,u,m){if(i<o||i>h||e<u||e>m)return;const v=this.YE(i,e,n,a,o,h,u,m);if(a)if(n>0)for(let b=e+n;b<v;b+=n)this.ko(i,b,1,!a,o,h,u,m),this.ko(i,b,-1,!a,o,h,u,m);else for(let b=e+n;b>v;b+=n)this.ko(i,b,1,!a,o,h,u,m),this.ko(i,b,-1,!a,o,h,u,m);else if(n>0)for(let b=i+n;b<v;b+=n)this.ko(b,e,1,!a,o,h,u,m),this.ko(b,e,-1,!a,o,h,u,m);else for(let b=i+n;b>v;b+=n)this.ko(b,e,1,!a,o,h,u,m),this.ko(b,e,-1,!a,o,h,u,m)}Pk(i,e,n,a,o,h,u,m,v,b){let S=i|0,A=e|0,M=pn.ln,O=pn.nc;for(this.Vt[S][A]=O;M===pn.ln&&S>u&&S<m&&A>v&&A<b;)O+=1,this.Vt[S][A]=O,h?A+=o:S+=o,M=this.Vt[S][A];return h?A:S}Sk(i,e,n,a,o,h,u,m,v,b){let S=n|0,A=a|0,M=pn.ln;const O=pn.sg;for(this.Vt[S][A]=O;M===pn.ln&&S>u&&S<m&&A>v&&A<b;)this.Vt[S][A]=O,h?A+=o:S+=o,M=this.Vt[S][A]}yv(i,e,n,a,o,h){this.tw=!1;let u=i.x,m=i.y;if(!this.ng(u,m))return;u-=this.ui,u/=this.we,m-=this.di,m/=this.xe;let v=n.x,b=n.y;if(!this.ng(v,b))return;if(v-=this.ui,v/=this.we,b-=this.di,b/=this.xe,Math.abs(u-v)<=1&&Math.abs(m-b)<=1){this.tw=!0;return}let S=o.x,A=o.y,M=o.x+o.width,O=o.y+o.height;S-=this.ui,S/=this.we,A-=this.di,A/=this.xe,M-=this.ui,M/=this.we,O-=this.di,O/=this.xe;const R=Math.max(0,Math.min(this.Oa,S|0)),V=Math.min(this.Oa,Math.max(0,M|0)),q=Math.max(0,Math.min(this.Ia,A|0)),J=Math.min(this.Ia,Math.max(0,O|0)),re=0,se=90,ne=270,xe=this.Vt,ye=u|0,we=m|0,ze=v|0,Ce=b|0,Pe=e===re||e===se?1:-1,Fe=e===se||e===ne;xe[ye][we]===pn.ln?(this.Pk(ye,we,ze,Ce,Pe,Fe,R,V,q,J),this.Pk(ye,we,ze,Ce,1,!Fe,R,V,q,J),this.Pk(ye,we,ze,Ce,-1,!Fe,R,V,q,J)):this.Pk(ye,we,ze,Ce,Pe,Fe,ye,we,ye,we),xe[ze][Ce]===pn.ln?(this.Sk(ye,we,ze,Ce,a===re||a===se?1:-1,a===se||a===ne,R,V,q,J),this.Sk(ye,we,ze,Ce,1,!(a===se||a===ne),R,V,q,J),this.Sk(ye,we,ze,Ce,-1,!(a===se||a===ne),R,V,q,J)):this.Sk(ye,we,ze,Ce,Pe,Fe,ze,Ce,ze,Ce);const Re=s.nt();if(h&&this.wv(ze,Ce,a,ye,we,Re)){(Re[0]!==ze||Re[1]!==Ce)&&(Re.unshift(Ce),Re.unshift(ze)),(Re[Re.length-2]!==ye||Re[Re.length-1]!==we)&&(Re.push(ye),Re.push(we));let We=pn.nc,Ke=Re[Re.length-2],lt=Re[Re.length-1];xe[Ke][lt]=We++;for(let ct=Re.length-4;ct>=0;ct-=2){Ke=Re[ct+2],lt=Re[ct+3];const rt=Re[ct],bt=Re[ct+1];for(;rt>Ke?Ke++:rt<Ke?Ke--:bt>lt?lt++:bt<lt&&lt--,xe[Ke][lt]=We++,!(Ke===rt&&lt===bt););}}else this.ko(ye,we,1,!1,R,V,q,J),this.ko(ye,we,-1,!1,R,V,q,J),this.ko(ye,we,1,!0,R,V,q,J),this.ko(ye,we,-1,!0,R,V,q,J);s.Z(Re)}wv(i,e,n,a,o,h){const u=this.Vt;let m=i,v=e;for(;;){if(m===a&&v===o)return!0;let b=m,S=v;if(n===0)if(b<a)b++;else break;else if(n===90)if(S<o)S++;else break;else if(n===180)if(b>a)b--;else break;else if(S>o)S--;else break;const A=u[b][S];if(A===0||A===pn.EC)break;m=b,v=S}for(;;){let b=n,S=m,A=v;n===0?A<o?(b=90,A++):A>o&&(b=270,A--):n===90?S<a?(b=0,S++):S>a&&(b=180,S--):n===180?A<o?(b=90,A++):A>o&&(b=270,A--):S<a?(b=0,S++):S>a&&(b=180,S--);const M=u[S][A];if(b!==n&&M!==0&&M!==pn.EC){if(h.push(m),h.push(v),this.wv(m,v,b,a,o,h))return!0;h.pop(),h.pop()}if(u[m][v]=pn.EC,n===0){if(m===i)return!1;m--}else if(n===90){if(v===e)return!1;v--}else if(n===180){if(m===i)return!1;m++}else{if(v===e)return!1;v++}}}};let bn=pn;E(bn,"ln",0),E(bn,"nc",1),E(bn,"sg",999999),E(bn,"IC",pn.sg+1),E(bn,"EC",pn.sg+2);class As{constructor(i,e){E(this,"Ri");E(this,"kl");E(this,"Ei");E(this,"og");C.Je(this),this.Ri=i,this.kl=e,this.Ei=[],this.og=!1}toString(){const i=this.Ei;let e=this.Ri.toString()+" "+i.length.toString()+":";for(let n=0;n<i.length;n++){const a=i[n];a!==null&&(e+=`
  `+a.toString())}return e}KE(i,e,n,a){const o=e.offsetY;switch(o){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}let h=n;switch(o){case 9:return h>180?270:90;case 6:return h>90&&h<=270?180:0}const u=Math.atan2(i.height,i.width)*180/Math.PI;switch(o){case 3:return h>u&&h<=180+u?180:270;case 5:return h>180-u&&h<=360-u?270:0;case 12:return h>u&&h<=180+u?90:0;case 10:return h>180-u&&h<=360-u?180:90;case 7:return h>90&&h<=180+u?180:h>180+u&&h<=360-u?270:0;case 13:return h>180&&h<=360-u?270:h>u&&h<=180?90:0;case 14:return h>u&&h<=180-u?90:h>180-u&&h<=270?180:0;case 11:return h>180-u&&h<=180+u?180:h>180+u?270:90}return a&&o!==15&&(h-=15,h<0&&(h+=360)),h>u&&h<180-u?90:h>=180-u&&h<=180+u?180:h>180+u&&h<360-u?270:0}Jd(){this.Ei.length=0}dv(i){let e=this.Ei;e.length===0&&(this.HE(),e=this.Ei);for(let n=0;n<e.length;n++){const a=e[n];if(a!==null&&a.es===i)return a}return null}HE(){if(!this.og){const i=this.og;this.og=!0;let e,n=null;const a=this.Ri,o=a instanceof Jt?a:null;if(o!==null&&!o.isSubGraphExpanded){if(!o.actualBounds.isReal())return this.og=i,this.Ei;n=o,e=n.findExternalLinksConnected()}else a.isTreeExpanded?e=a.findLinksConnected(this.kl.portId):e=a.findExternalTreeLinksConnected();this.Ei.length=0;let h=0;const u=this.kl.getDocumentPoint(K.TopLeft,N.l()),m=this.kl.getDocumentPoint(K.BottomRight,N.l()),v=W.z(u.x,u.y,0,0);v.unionPoint(m),N.i(u),N.i(m);const b=N.z(v.x+v.width/2,v.y+v.height/2),S=this.kl.getDocumentAngle(),A=e.iterator;for(;A.next();){const V=A.value;if(!V.isVisible()||V.fromPort===V.toPort)continue;const q=V.fromPort===this.kl||n!==null&&V.fromNode!==null&&V.fromNode.isMemberOf(n),J=V.computeSpot(q,this.kl);if(!J.isSide())continue;let re;if(q?re=V.toPort:re=V.fromPort,re===null)continue;let se=re.part;if(se===null)continue;const ne=se.findVisibleNode();ne!==null&&ne!==se&&(se=ne,re=se.port);const xe=V.computeOtherPoint(se,re);let ye=b.directionPoint(xe);S!==0&&(ye=G.Ee(ye-S));const we=this.KE(v,J,ye,V.isOrthogonal);let ze=0;we===0?(ze=4,ye>180&&(ye-=360)):we===90?(ze=8,ye>270&&(ye-=360)):we===180?ze=2:(ze=1,ye<90&&(ye+=360));let Ce=this.Ei[h];Ce===void 0?(Ce=new T0(V,ye,ze),this.Ei[h]=Ce):(Ce.es=V,Ce.Xt=ye,Ce.fi=ze),Ce.Mk.h(xe),h++}N.i(b),this.jE();const M=this.Ei.length;let O=-1,R=0;for(h=0;h<M;h++){const V=this.Ei[h];V!==void 0&&(V.fi!==O&&(O=V.fi,R=0),V.rg=R,R++)}for(O=-1,R=0,h=M-1;h>=0;h--){const V=this.Ei[h];V!==void 0&&(V.fi!==O&&(O=V.fi,R=V.rg+1),V.Kf=R)}this.qE(this.Ei),this.WE(this.Ei),this.og=i,W.i(v)}return this.Ei}JE(i,e){return i===e?0:i===null?-1:e===null?1:i.fi<e.fi?-1:i.fi>e.fi?1:i.Xt<e.Xt?-1:i.Xt>e.Xt?1:0}jE(){this.Ei.sort(As.prototype.JE)}qE(i){const e=this.kl,n=this.Ri.portSpreading,a=N.l(),o=N.l(),h=N.l(),u=N.l();e.getDocumentPoint(K.TopLeft,a),e.getDocumentPoint(K.TopRight,o),e.getDocumentPoint(K.BottomRight,h),e.getDocumentPoint(K.BottomLeft,u);let m=0,v=0,b=0,S=0;if(n===2)for(let re=0;re<i.length;re++){const se=i[re];if(se===null)continue;const ne=se.es.computeThickness();switch(se.fi){case 8:b+=ne;break;case 2:S+=ne;break;case 1:m+=ne;break;default:case 4:v+=ne;break}}let A=0,M=0,O=1,R=o,V=h,q=0,J=0;for(let re=0;re<i.length;re++){const se=i[re];if(se===null)continue;if(A!==se.fi){switch(A=se.fi,A){case 8:R=h,V=u;break;case 2:R=u,V=a;break;case 1:R=a,V=o;break;default:case 4:R=o,V=h;break}switch(q=V.x-R.x,J=V.y-R.y,A){case 8:b>Math.abs(q)?(O=Math.abs(q)/b,b=Math.abs(q)):O=1;break;case 2:S>Math.abs(J)?(O=Math.abs(J)/S,S=Math.abs(J)):O=1;break;case 1:m>Math.abs(q)?(O=Math.abs(q)/m,m=Math.abs(q)):O=1;break;default:case 4:v>Math.abs(J)?(O=Math.abs(J)/v,v=Math.abs(J)):O=1;break}M=0}const ne=se.tc;if(n===2){let xe=se.es.computeThickness();switch(xe*=O,ne.h(R),A){case 8:ne.x=R.x+q/2+b/2-M-xe/2;break;case 2:ne.y=R.y+J/2+S/2-M-xe/2;break;case 1:ne.x=R.x+q/2-m/2+M+xe/2;break;default:case 4:ne.y=R.y+J/2-v/2+M+xe/2;break}M+=xe}else{let xe=.5;n===1&&(xe=(se.rg+1)/(se.Kf+1)),ne.x=R.x+q*xe,ne.y=R.y+J*xe}}N.i(a),N.i(o),N.i(h),N.i(u)}WE(i){for(let e=0;e<i.length;e++){const n=i[e];n!==null&&(n.bk=this.$E(n,e))}}$E(i,e){const n=i.es,a=n.fromPort===this.kl;let o=0;switch(i.fi){case 1:o=270;break;case 2:o=180;break;case 4:o=0;break;case 8:o=90;break}const h=n.wk(this.Ri,this.kl,K.None,a,o);let u=i.rg;if(u<0)return h;const m=i.Kf;if(m<=1||!n.isOrthogonal)return h;const v=i.Mk,b=i.tc,S=i.fi===2||i.fi===8;S&&(u=m-1-u);const A=yt.tv,M=i.fi===2||i.fi===4,O=u<=0?b:this.Ei[S?e+1:e-1].tc,R=u>=m-1?b:this.Ei[S?e-1:e+1].tc;return(M?v.y>=O.y&&v.y<=R.y:v.x>=O.x&&v.x<=R.x)?h:(M?v.y<b.y:v.x<b.x)?h+u*A:h+(m-1-u)*A}}class T0{constructor(i,e,n){E(this,"es");E(this,"Xt");E(this,"fi");E(this,"Mk");E(this,"rg");E(this,"Kf");E(this,"tc");E(this,"bk");this.es=i,this.Xt=e,this.fi=n,this.Mk=new N,this.rg=0,this.Kf=0,this.tc=new N,this.bk=0}toString(){return this.es.toString()+" "+this.Xt.toString()+" "+this.fi.toString()+":"+this.rg.toString()+"/"+this.Kf.toString()+" "+this.tc.toString()+" "+this.bk.toString()+" "+this.Mk.toString()}}class P0{constructor(){E(this,"Dh");E(this,"vh");E(this,"Fh");E(this,"Rh");E(this,"Oh");E(this,"Ih");E(this,"c0");E(this,"a0");E(this,"f0");E(this,"h0");this.Dh=K.Default,this.vh=K.Default,this.Fh=NaN,this.Rh=NaN,this.Oh=NaN,this.Ih=NaN,this.c0=null,this.a0=null,this.f0=1/0,this.h0=1/0}copy(){const i=new P0;return i.Dh=this.Dh.N(),i.vh=this.vh.N(),i.Fh=this.Fh,i.Rh=this.Rh,i.Oh=this.Oh,i.Ih=this.Ih,i.c0=this.c0,i.a0=this.a0,i.f0=this.f0,i.h0=this.h0,i}}class Rl{constructor(){E(this,"t0");E(this,"e0");E(this,"i0");E(this,"_p");E(this,"j0");E(this,"q0");this.t0=-1/0,this.e0=0,this.i0=N.gn,this._p=0,this.j0="None",this.q0="None"}copy(){const i=new Rl;return i.t0=this.t0,i.e0=this.e0,i.i0=this.i0.N(),i._p=this._p,i.j0=this.j0,i.q0=this.q0,i}}class Jt extends Ct{constructor(e,n){let a;e===void 0||e instanceof Ve||typeof e=="string"?a=e:e&&(n=e);super(a);E(this,"lg");E(this,"Dt");E(this,"Ch");E(this,"Fp");E(this,"he");E(this,"li");this.E=this.E|4608,this.lg=new C,this.Dt=null,this.li=new Rs,this.li.group=this,this.Ch=new C,this.Fp=null,this.he=null,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),this.E=this.E&-32769;const n=e.findInVisualTree(a=>a instanceof Or);n instanceof Or?e.Dt=n:e.Dt=null,this.li!==null?(e.li=this.li.copy(),e.li.group=e):(e.li!==null&&(e.li.group=null),e.li=null),this.he!==null&&(e.he=this.he.copy())}jo(e){super.jo(e);const n=e.findSubGraphParts(),a=e.memberParts;for(;a.next();){const o=a.value;if(o.c(),o.invalidateLayout(8),o.clearAdornments(),o instanceof Ct)o.invalidateConnectedLinks(n);else if(o instanceof yt){const h=o.labelNodes;for(;h.next();)h.value.invalidateConnectedLinks(n)}}}gf(e,n,a,o,h,u,m){if(e===3&&n==="elements"){if(h instanceof Or)this.Dt===null?this.Dt=h:this.Dt!==h&&s.o("Cannot insert a second Placeholder into the visual tree of a Group.");else if(h instanceof j){const v=h.findInVisualTree(b=>b instanceof Or);v instanceof Or&&(this.Dt===null?this.Dt=v:this.Dt!==v&&s.o("Cannot insert a second Placeholder into the visual tree of a Group."))}}else e===4&&n==="elements"&&this.Dt!==null&&(o===this.Dt?this.Dt=null:o instanceof j&&this.Dt.isContainedBy(o)&&(this.Dt=null));super.gf(e,n,a,o,h,u,m)}kd(e,n){if(super.kd(e,n),this.isClipping&&this.type!==j.Spot&&this.isSubGraphExpanded){let a=this.resizeObject;a instanceof j&&(a=a.findMainElement()),this.he===null&&(this.he=new W),a.getDocumentBounds(this.he),a instanceof ke&&this.he.inflate(-a.strokeWidth,-a.strokeWidth)}}Pa(e,n,a,o){this.hasPlaceholder()&&(this.er=this.placeholder),super.Pa(e,n,a,o)}ensureBounds(){this.isSubGraphExpanded&&this.memberParts.each(e=>{e.ensureBounds()}),super.ensureBounds()}_r(){if(!super._r())return!1;const e=this.memberParts;for(;e.next();){const n=e.value;if(n instanceof Ct){if(!n.isVisible())continue;if(n.as())return!1}else if(n instanceof yt){if(!n.isVisible())continue;if(n.as()&&n.fromNode!==this&&n.toNode!==this)return!1}}return!0}hasPlaceholder(){return this.Dt!==null&&this.Dt.isVisibleObject()&&this.isSubGraphExpanded}get placeholder(){return this.Dt}get computesBoundsAfterDrag(){return(this.E&2048)!==0}set computesBoundsAfterDrag(e){const n=(this.E&2048)!==0;n!==e&&(this.E=this.E^2048,this.t("computesBoundsAfterDrag",n,e))}get computesBoundsIncludingLinks(){return(this.E&4096)!==0}set computesBoundsIncludingLinks(e){const n=(this.E&4096)!==0;n!==e&&(this.E=this.E^4096,this.t("computesBoundsIncludingLinks",n,e))}get computesBoundsIncludingLocation(){return(this.E&8192)!==0}set computesBoundsIncludingLocation(e){const n=(this.E&8192)!==0;n!==e&&(this.E=this.E^8192,this.t("computesBoundsIncludingLocation",n,e))}get handlesDragDropForMembers(){return(this.E&16384)!==0}set handlesDragDropForMembers(e){const n=(this.E&16384)!==0;n!==e&&(this.E=this.E^16384,this.t("handlesDragDropForMembers",n,e))}get avoidableMembers(){return(this.E&131072)!==0}set avoidableMembers(e){const n=(this.E&131072)!==0;n!==e&&(this.E=this.E^131072,this.t("avoidableMembers",n,e))}get memberParts(){return this.lg.iterator}uC(e){if(this.lg.add(e)){e instanceof Jt&&this.Ch.add(e);const a=this.memberAdded;if(a!==null){let o=!0;const h=this.diagram;h!==null&&(o=h.G,h.G=!0),a(this,e),h!==null&&(h.G=o)}(!this.isVisible()||!this.isSubGraphExpanded)&&e.Xe(!1)}if(e instanceof yt&&!this.computesBoundsIncludingLinks)return;let n=this.Dt;n===null&&(n=this),n.c()}fC(e){if(this.lg.delete(e)){e instanceof Jt&&this.Ch.delete(e);const a=this.memberRemoved;if(a!==null){let o=!0;const h=this.diagram;h!==null&&(o=h.G,h.G=!0),a(this,e),h!==null&&(h.G=o)}(!this.isVisible()||!this.isSubGraphExpanded)&&e.Xe(!0)}if(e instanceof yt&&!this.computesBoundsIncludingLinks)return;let n=this.Dt;n===null&&(n=this),n.c()}lf(){if(this.lg.count>0){const e=this.diagram;if(e!==null){const n=this.lg.copy().iterator;for(;n.next();){const a=n.value;e.remove(a)}}}super.lf()}get layout(){return this.li}set layout(e){const n=this.li;if(n!==e){e!==null&&e.diagram!==null&&e.diagram.layout===e&&s.o("A layout cannot be both the Diagram.layout and a Group.layout: "+e),n!==null&&(n.diagram=null,n.group=null),this.li=e;const a=this.diagram;e!==null&&(e.diagram=a,e.group=this),a!==null&&(a.$r=!0),this.t("layout",n,e),a!==null&&a.requestUpdate()}}get memberAdded(){return this.vt!==null?this.vt.Wy:null}set memberAdded(e){const n=this.memberAdded;n!==e&&(e!==null&&s.S(e,Jt,"memberAdded"),this.wl().Wy=e,this.t("memberAdded",n,e))}get memberRemoved(){return this.vt!==null?this.vt.Jy:null}set memberRemoved(e){const n=this.memberRemoved;n!==e&&(e!==null&&s.S(e,Jt,"memberRemoved"),this.wl().Jy=e,this.t("memberRemoved",n,e))}get memberValidation(){return this.vt!==null?this.vt.da:null}set memberValidation(e){const n=this.memberValidation;n!==e&&(e!==null&&s.S(e,Jt,"memberValidation"),this.wl().da=e,this.t("memberValidation",n,e))}canAddMembers(e){const n=this.diagram;if(n===null)return!1;const a=n.commandHandler,o=a.wN(e).iterator;for(;o.next();){const h=o.value;if(!a.isValidMember(this,h))return!1}return!0}addMembers(e,n){const a=this.diagram;if(a===null)return!1;const o=a.commandHandler,h=o.wN(e);let u=!0;const m=h.iterator;for(;m.next();){const v=m.value;!n||o.isValidMember(this,v)?v.containingGroup=this:u=!1}return u}get ungroupable(){return(this.E&256)!==0}set ungroupable(e){const n=(this.E&256)!==0;n!==e&&(this.E=this.E^256,this.t("ungroupable",n,e))}canUngroup(){if(!this.ungroupable)return!1;const e=this.layer;if(e===null||!e.allowUngroup)return!1;const n=e.diagram;return!(n!==null&&!n.allowUngroup)}invalidateConnectedLinks(e){const n=this.ZE();if(super.invalidateConnectedLinks(e),n)return;this.cT(!0);const a=this.findExternalLinksConnected();for(;a.next();){const o=a.value;if(e!==void 0&&e.has(o))continue;const h=o.fromNode;if(h!==null&&h!==this&&h.isMemberOf(this)&&!h.isVisible())h.Ze(o.fromPort),h.Ze(o.toPort),o.$t();else{const u=o.toNode;u!==null&&u!==this&&u.isMemberOf(this)&&!u.isVisible()&&(u.Ze(o.fromPort),u.Ze(o.toPort),o.$t())}}}findExternalLinksConnected(){const e=this.diagram!==null&&this.diagram.u2;if(e&&this.Fp!==null)return this.Fp.iterator;const n=this.findSubGraphParts();n.add(this);const a=new C,o=n.iterator;for(;o.next();){const h=o.value;if(!(h instanceof Ct))continue;const u=h.linksConnected;for(;u.next();){const m=u.value;n.has(m)||a.add(m)}}return e&&(this.Fp=a),a.iterator}findExternalNodesConnected(){const e=this.findSubGraphParts();e.add(this);const n=new C,a=e.iterator;for(;a.next();){const o=a.value;if(!(o instanceof Ct))continue;const h=o.linksConnected;for(;h.next();){const u=h.value,m=u.fromNode;m!==null&&(!e.has(m)||m===this)&&n.add(m);const v=u.toNode;v!==null&&(!e.has(v)||v===this)&&n.add(v)}}return n.iterator}XU(){function e(a,o){a!==null&&(o.add(a),e(a.containingGroup,o))}const n=new C;return e(this,n),n}findSubGraphParts(){const e=new C;return Et.ga(e,this,!0,0,!0),e.delete(this),e}Xe(e){super.Xe(e);const n=this.memberParts;for(;n.next();)n.value.Xe(e)}collapseSubGraph(){const e=this.diagram;if(e===null||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const n=this.findSubGraphParts();this.xv(n,e,this),e.isCollapsingExpanding=!1}xv(e,n,a){const o=this.memberParts;for(;o.next();){const h=o.value;if(h.Xe(!1),h instanceof Jt&&h.isSubGraphExpanded&&(h.wasSubGraphExpanded=h.isSubGraphExpanded,h.xv(e,n,a)),h instanceof Ct)h.invalidateConnectedLinks(e),n.Kc(h,a);else if(h instanceof yt){const u=h.labelNodes;for(;u.next();)u.value.invalidateConnectedLinks(e)}}this.isSubGraphExpanded=!1}expandSubGraph(){const e=this.diagram;if(e===null||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const n=this.findSubGraphParts();this.bv(n,e,this),e.isCollapsingExpanding=!1}bv(e,n,a){const o=this.memberParts;for(;o.next();){const h=o.value;if(h.Xe(!0),h instanceof Jt&&h.wasSubGraphExpanded&&(h.wasSubGraphExpanded=!1,h.bv(e,n,a)),h instanceof Ct)h.invalidateConnectedLinks(e);else if(h instanceof yt){const u=h.labelNodes;for(;u.next();)u.value.invalidateConnectedLinks(e)}}this.isSubGraphExpanded=!0}get isSubGraphExpanded(){return(this.E&512)!==0}set isSubGraphExpanded(e){const n=(this.E&512)!==0;if(n!==e){this.E=this.E^512;const a=this.diagram;this.t("isSubGraphExpanded",n,e);const o=this.subGraphExpandedChanged;if(o!==null){let h=!0;a!==null&&(h=a.G,a.G=!0),o(this),a!==null&&(a.G=h)}if(a!==null&&a.undoManager.isUndoingRedoing){this.Dt!==null&&this.Dt.c(),this.memberParts.each(h=>h.updateAdornments());return}e?this.expandSubGraph():this.collapseSubGraph()}}get wasSubGraphExpanded(){return(this.E&1024)!==0}set wasSubGraphExpanded(e){const n=(this.E&1024)!==0;n!==e&&(this.E=this.E^1024,this.t("wasSubGraphExpanded",n,e))}get subGraphExpandedChanged(){return this.vt!==null?this.vt.$y:null}set subGraphExpandedChanged(e){const n=this.subGraphExpandedChanged;n!==e&&(e!==null&&s.S(e,Jt,"subGraphExpandedChanged"),this.wl().$y=e,this.t("subGraphExpandedChanged",n,e))}move(e,n){n===void 0&&(n=!1);const a=n?this.location:this.position,o=a.x,h=a.y,u=e.x,m=e.y;if((o===u||isNaN(o)&&isNaN(u))&&(h===m||isNaN(h)&&isNaN(m)))return;const v=u-(isNaN(o)?0:o),b=m-(isNaN(h)?0:h),S=N.l();super.move(e,n);const A=new C,M=this.findSubGraphParts().iterator;for(;M.next();){const O=M.value;O instanceof yt&&(O.suspendsRouting&&A.add(O),!(!O.Fi&&(O.fromNode===this||O.toNode===this))&&(O.suspendsRouting=!0))}for(M.reset();M.next();){const O=M.value;if(O.Ar()||O instanceof Ct&&O.isLinkLabel)continue;const R=O.position,V=O.location;R.isReal()?(S.x=R.x+v,S.y=R.y+b,O.position=S):V.isReal()&&(S.x=V.x+v,S.y=V.y+b,O.location=S)}for(M.reset();M.next();){const O=M.value;if(!(O instanceof yt)||(O.suspendsRouting=A.has(O),!O.Fi&&(O.fromNode===this||O.toNode===this)))continue;const R=O.position;S.x=R.x+v,S.y=R.y+b,S.isReal()?O.move(S):O.$t()}N.i(S)}ZE(){return(this.E&65536)!==0}cT(e){(this.E&65536)!==0!==e&&(this.E=this.E^65536)}get Lh(){return(this.E&32768)!==0}set Lh(e){(this.E&32768)!==0!==e&&(this.E=this.E^32768)}}class Or extends oi{constructor(e){super();E(this,"Qt");E(this,"ag");this.Qt=he.im,this.ag=new W(NaN,NaN,NaN,NaN),e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Qt=this.Qt.N(),e.ag=this.ag.copy()}ka(e){if(this.background===null)return!1;const n=this.naturalBounds;return W.contains(0,0,n.width,n.height,e.x,e.y)}bd(e,n,a,o){const h=this.part;if((h===null||!(h instanceof Jt)&&!(h instanceof Zt))&&s.o("Placeholder is not inside a Group or Adornment."),h instanceof Jt){const u=this.computeBorder(this.ag),m=this.minSize,v=isFinite(m.width)?Math.max(m.width,u.width):u.width,b=isFinite(m.height)?Math.max(m.height,u.height):u.height,S=this.Ke;S.jn(v||0,b||0),this.lo(0,0,S.width,S.height);const A=h.memberParts;let M=!1;for(;A.next();)if(A.value.isVisible()){M=!0;break}const O=h.diagram;if(M&&O!==null&&!O.animationManager.CM(h)&&!isNaN(u.x)&&!isNaN(u.y)){const R=N.l();R.setRectSpot(u,h.locationSpot),h.location=R,N.i(R)}}else{const u=h,m=this.Ke,v=this.Qt,b=v.left+v.right,S=v.top+v.bottom,A=u.adornedObject,M=A.getDocumentAngle();u.angle=M;let O=0;A instanceof ke&&(O=A.strokeWidth);const R=A.getDocumentScale(),V=A.naturalBounds,q=(V.width+O)*R,J=(V.height+O)*R;if(u.type!==j.Link){const re=u.category==="Selection"?K.TopLeft:u.locationSpot,se=A.getDocumentPoint(re,N.l());u.location=se,N.i(se)}if(!isNaN(q)&&!isNaN(J))m.jn(q+b||0,J+S||0),this.lo(-v.left,-v.top,m.width,m.height);else{const re=A.getDocumentPoint(K.TopLeft,N.l()),se=W.z(re.x,re.y,0,0);se.unionPoint(A.getDocumentPoint(K.BottomRight,re)),se.unionPoint(A.getDocumentPoint(K.TopRight,re)),se.unionPoint(A.getDocumentPoint(K.BottomLeft,re)),m.jn(se.width+b||0,se.height+S||0),this.lo(-v.left,-v.top,m.width,m.height),N.i(re),W.i(se)}}}Pa(e,n,a,o){this.actualBounds.e(e,n,a,o)}computeBorder(e){const n=this.part,a=n.diagram;if(a===null||a.animationManager.isAnimating)return e;if(n instanceof Jt&&!n.layer.isTemporary&&n.computesBoundsAfterDrag&&this.ag.isReal()){const m=a.toolManager.findTool("Dragging");if(m===a.currentTool&&m.mR(n,this.ag,e))return e}const o=W.l(),h=this.computeMemberBounds(o),u=this.Qt;return n instanceof Jt&&!n.isSubGraphExpanded?e.e(h.x-u.left,h.y-u.top,0,0):e.e(h.x-u.left,h.y-u.top,Math.max(h.width+u.left+u.right,0),Math.max(h.height+u.top+u.bottom,0)),W.i(o),n instanceof Jt&&n.computesBoundsIncludingLocation&&n.location.isReal()&&e.unionPoint(n.location),e}computeMemberBounds(e){if(!(this.part instanceof Jt))return e.e(0,0,0,0),e;const n=this.part;let a=1/0,o=1/0,h=-1/0,u=-1/0;const m=n.memberParts;for(;m.next();){const v=m.value;if(!v.isVisible()||v instanceof yt&&(!n.computesBoundsIncludingLinks||v.Go()||v.fromNode===n||v.toNode===n))continue;const b=v.actualBounds;b.left<a&&(a=b.left),b.top<o&&(o=b.top),b.right>h&&(h=b.right),b.bottom>u&&(u=b.bottom)}if(!isFinite(a)||!isFinite(o)){const v=n.location;e.e(v.x,v.y,0,0)}else e.e(a,o,h-a,u-o);return e}get padding(){return this.Qt}set padding(e){typeof e=="number"&&(e=new he(e));const n=this.Qt;n.equals(e)||(e=e.N(),this.Qt=e,this.t("padding",n,e),this.c())}}class Rs{constructor(i){E(this,"a");E(this,"Ah");E(this,"hg");E(this,"Tr");E(this,"cg");E(this,"fg");E(this,"Vo");E(this,"Pl");E(this,"ug");E(this,"dg");E(this,"Po");C.Je(this),this.a=null,this.Ah=null,this.hg=!0,this.Tr=!0,this.cg=!1,this.fg=new N(0,0),this.Vo=!0,this.Pl=null,this.ug=null,this.dg=!1,this.Po=null,i&&Object.assign(this,i)}cloneProtected(i){i.hg=this.hg,i.Tr=this.Tr,i.cg=this.cg,i.fg.h(this.fg),i.Vo=this.Vo,i.Pl=this.Pl,i.ug=this.ug,i.dg=!0}copy(){const i=new this.constructor;return this.cloneProtected(i),i}fe(i){}toString(){let i=s.Hn(this.constructor);return i+="(",this.group!==null&&(i+=" in "+this.group),this.diagram!==null&&(i+=" for "+this.diagram),i+=")",i}get diagram(){return this.a}set diagram(i){this.a=i}get group(){return this.Ah}set group(i){this.Ah!==i&&(this.Ah=i,i!==null&&(this.a=i.diagram))}get isOngoing(){return this.hg}set isOngoing(i){this.hg!==i&&(s.s(i,"boolean",Rs,"isOngoing"),this.hg=i)}get isInitial(){return this.Tr}set isInitial(i){s.s(i,"boolean",Rs,"isInitial"),this.Tr=i,i||(this.dg=!0)}get isViewportSized(){return this.cg}set isViewportSized(i){this.cg!==i&&(s.s(i,"boolean",Rs,"isViewportSized"),this.cg=i,i&&this.p())}get isRouting(){return this.Vo}set isRouting(i){this.Vo!==i&&(s.s(i,"boolean",Rs,"isRouting"),this.Vo=i)}get isRealtime(){return this.Pl}set isRealtime(i){this.Pl!==i&&(i!==null&&s.s(i,"boolean",Rs,"isRealtime"),this.Pl=i)}get isValidLayout(){return this.dg}set isValidLayout(i){if(this.dg!==i&&(s.s(i,"boolean",Rs,"isValidLayout"),this.dg=i,!i)){const e=this.diagram;e!==null&&(e.$r=!0)}}invalidateLayout(){if(!this.isValidLayout)return;const i=this.diagram;if(i===null||i.undoManager.isUndoingRedoing)return;const e=i.animationManager;e.isTicking||(e.defaultAnimation.isAnimating&&e.stopAnimation(),(this.isOngoing&&i.Qa||this.isInitial&&!i.Qa)&&(this.isValidLayout=!1,i.requestUpdate()))}p(){this.invalidateLayout()}get network(){return this.Po}set network(i){this.Po!==i&&(this.Po=i,i!==null&&(i.layout=this))}createNetwork(){return new Bl(this)}makeNetwork(i){const e=this.createNetwork();return i instanceof Ft?(e.addParts(i.nodes,!0),e.addParts(i.links,!0)):i instanceof Jt?e.addParts(i.memberParts):e.addParts(i.iterator),e}updateParts(){this.isValidLayout=!0;let i=this.diagram;if(i===null&&this.network!==null){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value.node;if(n!==null&&(i=n.diagram,i!==null))break}}try{i!==null&&i.startTransaction("Layout"),this.commitLayout()}finally{i!==null&&i.commitTransaction("Layout")}}commitLayout(){if(this.network===null)return;const i=this.network.vertexes.iterator;for(;i.next();)i.value.commit();if(this.isRouting){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}}doLayout(i){const e=new C;if(i instanceof Ft?(this.Ea(e,i.nodes,!0,this.Lh,!0,!1,!0),this.Ea(e,i.parts,!0,this.Lh,!0,!1,!0)):i instanceof Jt?this.Ea(e,i.memberParts,!1,this.Lh,!0,!1,!0):e.addAll(i.iterator),e.count>0){const n=this.diagram;n!==null&&n.startTransaction("Layout"),this.doMinimalNoNetworkLayout(e),n!==null&&n.commitTransaction("Layout")}this.isValidLayout=!0}doMinimalNoNetworkLayout(i){const e=i.count,n=Math.ceil(Math.sqrt(e));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const a=this.arrangementOrigin.x,o=this.arrangementOrigin.y;let h=a,u=o,m=0,v=0;const b=i.iterator;for(;b.next();){const S=b.value;S.ensureBounds();const A=S.measuredBounds,M=A.width,O=A.height;S.moveTo(h,u),S instanceof Jt&&(S.Lh=!1),h+=Math.max(M,50)+20,v=Math.max(v,Math.max(O,50)),m>=n-1?(m=0,h=a,u+=v+20,v=0):m++}}Lh(i){return!!(!i.location.isReal()&&!i.position.isReal()||i instanceof Jt&&i.Lh)}Ea(i,e,n,a,o,h,u){const m=e.iterator;for(;m.next();){const v=m.value;if(!(n&&!v.isTopLevel)&&!(a!==null&&!a(v))&&v.canLayout())if(o&&v instanceof Ct){if(v.isLinkLabel)continue;v instanceof Jt&&v.layout===null?this.Ea(i,v.memberParts,!1,a,o,h,u):(v.ensureBounds(),i.add(v))}else h&&v instanceof yt?i.add(v):u&&v.Di()&&!(v instanceof Ct)&&(v.ensureBounds(),i.add(v))}}getLayoutBounds(i,e){const n=this.boundsComputation;return n!==null?(e||(e=new W),n(i,this,e)):!e&&i.margin.equalTo(0,0,0,0)?i.actualBounds:(e||(e=new W),e.set(i.actualBounds),e.addMargin(i.margin),e)}get boundsComputation(){return this.ug}set boundsComputation(i){this.ug!==i&&(i!==null&&s.S(i,Rs,"boundsComputation"),this.ug=i,this.p())}collectParts(i){const e=new C;return i instanceof Ft?(this.Ea(e,i.nodes,!0,null,!0,!0,!0),this.Ea(e,i.links,!0,null,!0,!0,!0),this.Ea(e,i.parts,!0,null,!0,!0,!0)):i instanceof Jt?this.Ea(e,i.memberParts,!1,null,!0,!0,!0):this.Ea(e,i.iterator,!1,null,!0,!0,!0),e}get arrangementOrigin(){return this.fg}set arrangementOrigin(i){this.fg.equals(i)||(this.fg.h(i),this.p())}initialOrigin(i){const e=this.group;if(e!==null)if(e.hasPlaceholder()){const n=e.placeholder,a=n.getDocumentPoint(K.TopLeft);(isNaN(a.x)||isNaN(a.y))&&a.set(i);const o=n.padding;return a.x+=o.left,a.y+=o.top,a}else{const n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(i),n}return i}}class Bl{constructor(i){E(this,"li");E(this,"So");E(this,"In");E(this,"ew");E(this,"iw");C.Je(this),this.li=i,this.So=new C,this.In=new C,this.ew=new Q,this.iw=new Q}clear(){if(this.So){const i=this.So.iterator;for(;i.next();)i.value.clear()}if(this.In){const i=this.In.iterator;for(;i.next();)i.value.clear()}this.So=new C,this.In=new C,this.ew=new Q,this.iw=new Q}toString(i){i===void 0&&(i=0);let e="LayoutNetwork"+(this.layout!==null?"("+this.layout.toString()+")":"");if(i<=0)return e;if(e+=" vertexes: "+this.So.count+" edges: "+this.In.count,i>1){const n=this.So.iterator;for(;n.next();){const o=n.value;e+=`
    `+o.toString(i-1)}const a=this.In.iterator;for(;a.next();){const o=a.value;e+=`
    `+o.toString(i-1)}}return e}get layout(){return this.li}set layout(i){i!==null&&(this.li=i)}get vertexes(){return this.So}get edges(){return this.In}createVertex(){return new Vl(this)}createEdge(){return new Zc(this)}addParts(i,e,n){if(i===null)return;e===void 0&&(e=!1),s.s(e,"boolean",Bl,"addParts:toplevelonly"),n===void 0&&(n=null),n===null&&(n=o=>{if(o instanceof Ct)return!o.isLinkLabel;if(o instanceof yt){const h=o.fromNode;if(h===null||h.isLinkLabel)return!1;const u=o.toNode;return!(u===null||u.isLinkLabel)}return!1});const a=i.iterator;for(;a.next();){const o=a.value;if(o instanceof Ct&&!(e&&!o.isTopLevel)&&o.canLayout()&&n(o))if(o instanceof Jt&&o.layout===null)this.addParts(o.memberParts,!1);else{if(this.findVertex(o)!==null)continue;const h=this.createVertex();h.node=o,this.addVertex(h)}}for(a.reset();a.next();){const o=a.value;if(!(o instanceof yt)||e&&!o.isTopLevel||!o.canLayout()||!n(o)||this.findEdge(o)!==null)continue;const h=o.fromNode,u=o.toNode;if(h===null||u===null||h===u)continue;const m=this.findGroupVertex(h),v=this.findGroupVertex(u);this.linkVertexes(m,v,o)}}findGroupVertex(i){const e=i.findVisibleNode();if(e===null)return null;let n=this.findVertex(e);if(n!==null)return n;let a=e.containingGroup;for(;a!==null;){if(n=this.findVertex(a),n!==null)return n;a=a.containingGroup}return null}addVertex(i){this.So.add(i);const e=i.node;e!==null&&this.ew.set(e,i),i.network=this}addNode(i){let e=this.findVertex(i);return e===null&&(e=this.createVertex(),e.node=i,this.addVertex(e)),e}deleteVertex(i){if(this.kv(i)){let e=i.nr;for(let n=e.count-1;n>=0;n--){const a=e.elt(n);this.deleteEdge(a)}e=i.or;for(let n=e.count-1;n>=0;n--){const a=e.elt(n);this.deleteEdge(a)}}}kv(i){const e=this.So.delete(i);if(e){const n=i.node;n!==null&&this.ew.delete(n)}return e}deleteNode(i){const e=this.findVertex(i);e!==null&&this.deleteVertex(e)}findVertex(i){return this.ew.get(i)}addEdge(i){this.UC(i);const e=i.toVertex;e!==null&&e.addSourceEdge(i);const n=i.fromVertex;n!==null&&n.addDestinationEdge(i)}UC(i){this.In.add(i);const e=i.link;e!==null&&this.findEdge(e)===null&&this.iw.set(e,i),i.network=this}addLink(i){const e=i.fromNode,n=i.toNode;let a=this.findEdge(i);return a===null?(a=this.createEdge(),a.link=i,e!==null&&(a.fromVertex=this.addNode(e)),n!==null&&(a.toVertex=this.addNode(n)),this.addEdge(a)):(e!==null?a.fromVertex=this.addNode(e):a.fromVertex=null,n!==null?a.toVertex=this.addNode(n):a.toVertex=null),a}deleteEdge(i){const e=i.toVertex;e!==null&&e.deleteSourceEdge(i);const n=i.fromVertex;n!==null&&n.deleteDestinationEdge(i),this.VC(i)}VC(i){const e=this.In.delete(i);if(e){const n=i.link;n!==null&&this.iw.delete(n)}return e}deleteLink(i){const e=this.findEdge(i);e!==null&&this.deleteEdge(e)}findEdge(i){return this.iw.get(i)}linkVertexes(i,e,n){if(i===null||e===null)return null;if(i.network===this&&e.network===this){const a=this.createEdge();return a.link=n,a.fromVertex=i,a.toVertex=e,this.addEdge(a),a}return null}reverseEdge(i){const e=i.fromVertex,n=i.toVertex;e===null||n===null||(e.deleteDestinationEdge(i),n.deleteSourceEdge(i),i.reverseEdge(),e.addSourceEdge(i),n.addDestinationEdge(i))}deleteSelfEdges(){const i=s.nt(),e=this.In.iterator;for(;e.next();){const a=e.value;a.fromVertex===a.toVertex&&i.push(a)}const n=i.length;for(let a=0;a<n;a++)this.deleteEdge(i[a]);s.Z(i)}deleteArtificialVertexes(){const i=s.nt(),e=this.So.iterator;for(;e.next();){const h=e.value;h.node===null&&h.data===null&&i.push(h)}let n=i.length;for(let h=0;h<n;h++)this.deleteVertex(i[h]);const a=s.nt(),o=this.In.iterator;for(;o.next();){const h=o.value;h.link===null&&h.data===null&&a.push(h)}n=a.length;for(let h=0;h<n;h++)this.deleteEdge(a[h]);s.Z(i),s.Z(a)}deleteUselessEdges(){const i=s.nt(),e=this.In.iterator;for(;e.next();){const a=e.value;(a.fromVertex===null||a.toVertex===null)&&i.push(a)}const n=i.length;for(let a=0;a<n;a++)this.deleteEdge(i[a]);s.Z(i)}isSingleton(i){return!(i.nr.count>0||i.or.count>0)}splitIntoSubNetworks(i){i===void 0&&(i=!0),i&&(this.deleteArtificialVertexes(),this.deleteUselessEdges(),this.deleteSelfEdges());const e=new w;let n=!0;for(;n;){n=!1;const a=this.So.iterator;for(;a.next();){const o=a.value;if(this.isSingleton(o))continue;const h=this.layout.createNetwork();e.add(h),this.QE(h,o),n=!0;break}}return e.sort((a,o)=>a===null||o===null||a===o?0:o.vertexes.count-a.vertexes.count),e}QE(i,e){if(e===null)return;const n=new w;for(n.add(e);n.count>0;){const a=n.first();if(n.removeAt(0),!a||a.network===i)continue;this.kv(a),i.addVertex(a);let o=a.sourceEdges;for(;o.next();){const h=o.value;h.network!==i&&(this.VC(h),i.UC(h),h.fromVertex&&n.add(h.fromVertex))}for(o=a.destinationEdges;o.next();){const h=o.value;h.network!==i&&(this.VC(h),i.UC(h),h.toVertex&&n.add(h.toVertex))}}}findAllParts(){const i=new C,e=this.So.iterator;for(;e.next();){const a=e.value;a.node&&i.add(a.node)}const n=this.In.iterator;for(;n.next();){const a=n.value;a.link&&i.add(a.link)}return i}}class Vl{constructor(i){E(this,"Po");E(this,"te");E(this,"Ri");E(this,"Ui");E(this,"is");E(this,"nr");E(this,"or");C.Je(this),this.Po=i,this.Ui=new W(0,0,10,10),this.is=new N(5,5),this.te=null,this.Ri=null,this.nr=new w,this.or=new w}clear(){this.te=null,this.Ri=null,this.nr=new w,this.or=new w}toString(i){i===void 0&&(i=0);let e="LayoutVertex#"+C.xs(this);if(i>0&&(e+=this.node!==null?"("+this.node.toString()+")":"",i>1)){let n="",a=!0,o=this.nr.iterator;for(;o.next();){const u=o.value;a?a=!1:n+=",",n+=u.toString(0)}let h="";for(a=!0,o=this.or.iterator;o.next();){const u=o.value;a?a=!1:h+=",",h+=u.toString(0)}e+=" sources: "+n+" destinations: "+h}return e}get Mo(){return this.nr.AL}get rr(){return this.or.AL}get data(){return this.te}set data(i){if(this.te=i,i!==null&&i.bounds){const e=i.bounds,n=e.x,a=e.y,o=e.width,h=e.height;this.is.e(o/2,h/2),this.Ui.e(n,a,o,h)}}get node(){return this.Ri}set node(i){if(this.Ri!==i){if(this.Ri=i,i===null)return;i.ensureBounds();const e=this.network.layout,n=W.l(),a=e.getLayoutBounds(i,n);let o=a.x,h=a.y;const u=a.width,m=a.height;if(isNaN(o)&&(o=0),isNaN(h)&&(h=0),this.Ui.e(o,h,u,m),W.i(n),!(i instanceof Jt)){const v=i.locationObject.getDocumentPoint(K.Center);if(v.isReal()){this.is.e(v.x-o,v.y-h);return}}this.is.e(u/2,m/2)}}get bounds(){return this.Ui}set bounds(i){this.Ui.equals(i)||this.Ui.h(i)}get focus(){return this.is}set focus(i){this.is.equals(i)||this.is.h(i)}get centerX(){return this.Ui.x+this.is.x}set centerX(i){const e=this.Ui;e.x+this.is.x!==i&&(e.x=i-this.is.x)}get centerY(){return this.Ui.y+this.is.y}set centerY(i){const e=this.Ui;e.y+this.is.y!==i&&(e.y=i-this.is.y)}get focusX(){return this.is.x}set focusX(i){const e=this.is;e.x!==i&&(e.x=i)}get focusY(){return this.is.y}set focusY(i){const e=this.is;e.y!==i&&(e.y=i)}get x(){return this.Ui.x}set x(i){const e=this.Ui;e.x!==i&&(e.x=i)}get y(){return this.Ui.y}set y(i){const e=this.Ui;e.y!==i&&(e.y=i)}get width(){return this.Ui.width}set width(i){const e=this.Ui;e.width!==i&&(e.width=i)}get height(){return this.Ui.height}set height(i){const e=this.Ui;e.height!==i&&(e.height=i)}commit(){const i=this.te;if(i!==null){const n=this.bounds,a=i.bounds;s.$(a)?(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height):i.bounds=n.copy();return}const e=this.node;if(e!==null){const n=this.bounds;if(!(e instanceof Jt)){const a=W.l();e.ensureBounds();const o=this.network.layout.getLayoutBounds(e,a),h=e.locationObject.getDocumentPoint(K.Center);if(o.isReal()&&h.isReal()){e.moveTo(n.x+this.focusX-(h.x-o.x)+e.margin.left,n.y+this.focusY-(h.y-o.y+e.margin.top)),W.i(a);return}W.i(a)}e.moveTo(n.x+e.margin.left,n.y+e.margin.top)}}addSourceEdge(i){i!==null&&(this.nr.has(i)||this.nr.add(i))}deleteSourceEdge(i){i!==null&&this.nr.delete(i)}addDestinationEdge(i){i!==null&&(this.or.has(i)||this.or.add(i))}deleteDestinationEdge(i){i!==null&&this.or.delete(i)}get network(){return this.Po}set network(i){this.Po=i}get sourceVertexes(){const i=new C,e=this.sourceEdges;for(;e.next();){const n=e.value;n.fromVertex&&i.add(n.fromVertex)}return i.iterator}get destinationVertexes(){const i=new C,e=this.destinationEdges;for(;e.next();){const n=e.value;n.toVertex&&i.add(n.toVertex)}return i.iterator}get vertexes(){const i=new C;let e=this.sourceEdges;for(;e.next();){const n=e.value;n.fromVertex&&i.add(n.fromVertex)}for(e=this.destinationEdges;e.next();){const n=e.value;n.toVertex&&i.add(n.toVertex)}return i.iterator}get sourceEdges(){return this.nr.iterator}get destinationEdges(){return this.or.iterator}get edges(){const i=new w;let e=this.sourceEdges;for(;e.next();){const n=e.value;i.add(n)}for(e=this.destinationEdges;e.next();){const n=e.value;i.add(n)}return i.iterator}get edgesCount(){return this.nr.count+this.or.count}static standardComparer(i,e){const n=i.Ri,a=e.Ri;if(n)if(a){const o=n.text,h=a.text;return o<h?-1:o>h?1:0}else return 1;else return a!==null?-1:0}static smartComparer(i,e){if(i!==null)if(e!==null){const n=i.Ri,a=e.Ri;if(n!==null)if(a!==null){const o=n.text.toLocaleLowerCase(),h=a.text.toLocaleLowerCase(),u=o.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),m=h.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let v=0;for(;v<u.length;v++)if(m[v]!==""&&m[v]!==void 0){const b=parseFloat(u[v]),S=parseFloat(m[v]);if(isNaN(b))if(isNaN(S)){if(u[v].localeCompare(m[v])!==0)return u[v].localeCompare(m[v]);continue}else return 1;else{if(isNaN(S))return-1;if(b-S!==0)return b-S;continue}}else{if(u[v]==="")continue;return 1}return m[v]!==""&&m[v]!==void 0?-1:0}else return 1;else return a!==null?-1:0}else return 1;else return e!==null?-1:0}}class Zc{constructor(i){E(this,"Po");E(this,"te");E(this,"es");E(this,"ss");E(this,"ns");C.Je(this),this.Po=i,this.te=null,this.es=null,this.ss=null,this.ns=null}clear(){this.te=null,this.es=null,this.ss=null,this.ns=null}toString(i){i===void 0&&(i=0);let e="LayoutEdge#"+C.xs(this);return i>0&&(e+=this.es!==null?"("+this.es.toString()+")":"",i>1&&(e+=" "+(this.ss?this.ss.toString():"null")+" --> "+(this.ns?this.ns.toString():"null"))),e}reverseEdge(){const i=this.ss;this.ss=this.ns,this.ns=i}commit(){}getOtherVertex(i){return this.ns===i?this.ss:this.ss===i?this.ns:null}get network(){return this.Po}set network(i){this.Po=i}get data(){return this.te}set data(i){this.te!==i&&(this.te=i)}get link(){return this.es}set link(i){this.es!==i&&(this.es=i)}get fromVertex(){return this.ss}set fromVertex(i){this.ss!==i&&(this.ss=i)}get toVertex(){return this.ns}set toVertex(i){this.ns!==i&&(this.ns=i)}}var pp=(ee=>(ee[ee.Position=0]="Position",ee[ee.Location=1]="Location",ee))(pp||{}),vp=(ee=>(ee[ee.LeftToRight=10]="LeftToRight",ee[ee.RightToLeft=11]="RightToLeft",ee))(vp||{}),xp=(ee=>(ee[ee.Forwards=20]="Forwards",ee[ee.Reverse=21]="Reverse",ee[ee.Ascending=22]="Ascending",ee[ee.Descending=23]="Descending",ee))(xp||{});const Vp=class extends Rs{constructor(e){super();E(this,"gg");E(this,"mg");E(this,"Oo");E(this,"En");E(this,"de");E(this,"He");E(this,"Si");E(this,"Mi");this.isViewportSized=!0,this.gg=NaN,this.mg=NaN,this.Oo=new X(NaN,NaN).k(),this.En=new X(10,10).k(),this.de=1,this.He=10,this.Si=22,this.Mi=Vp.standardComparer,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.gg=this.gg,e.mg=this.mg,e.Oo.h(this.Oo),e.En.h(this.En),e.de=this.de,e.He=this.He,e.Si=this.Si,e.Mi=this.Mi}fe(e){e in xp?this.sorting=e:e in vp?this.arrangement=e:e in pp?this.alignment=e:super.fe(e)}doLayout(e){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.collectParts(e),a=this.diagram,o=n.copy().iterator;for(;o.next();){const R=o.value;if(R.Ar()&&(R.fromNode!==null||R.toNode!==null)){n.delete(R);continue}if(R.ensureBounds(),R instanceof Jt){const V=R.memberParts;for(;V.next();){const q=V.value;n.delete(q)}}}const h=n.toArray();if(h.length===0)return;switch(this.sorting){case 20:break;case 21:h.reverse();break;case 22:h.sort(this.comparer);break;case 23:h.sort(this.comparer),h.reverse();break}let u=this.wrappingColumn;isNaN(u)&&(u=0);let m=this.wrappingWidth;if(isNaN(m)&&a!==null){const R=a.viewportBounds,V=a.padding;m=Math.max(R.width-V.left-V.right,0)}else m=Math.max(this.wrappingWidth,0);u<=0&&m<=0&&(u=1);let v=this.spacing.width;isFinite(v)||(v=0);let b=this.spacing.height;isFinite(b)||(b=0),a!==null&&a.startTransaction("Layout");const S=[];switch(this.alignment){case 0:this._E(h,m,u,v,b,S);break;case 1:this.t3(h,m,u,v,b,S);break}let A=0,M=0,O=0;for(let R=0;R<S.length;R++){const V=S[R];A=Math.min(A,V.x),M=Math.min(M,V.y),O=Math.max(O,V.x+V.width)}this.arrangement===11?this.commitLayers(S,new N(A+v/2-(O+A),M-b/2)):this.commitLayers(S,new N(A-v/2,M-b/2)),a!==null&&a.commitTransaction("Layout"),this.isValidLayout=!0}_E(e,n,a,o,h,u){const m=W.l();let v=Math.max(this.cellSize.width,1);if(!isFinite(v)){v=0;for(let J=0;J<e.length;J++){const re=e[J],se=this.getLayoutBounds(re,m);v=Math.max(v,se.width)}}v+=o,v=Math.max(v,1);let b=Math.max(this.cellSize.height,1);if(!isFinite(b)){b=0;for(let J=0;J<e.length;J++){const re=e[J],se=this.getLayoutBounds(re,m);b=Math.max(b,se.height)}}b+=h,b=Math.max(b,1);const S=this.arrangement,A=this.arrangementOrigin.x,M=this.arrangementOrigin.y;let O=A,R=M,V=0,q=0;for(let J=0;J<e.length;J++){const re=e[J],se=this.getLayoutBounds(re,m),ne=Math.ceil((se.width+o)/v),xe=Math.ceil((se.height+h)/b),ye=ne*v,we=xe*b;let ze=0;switch(S){case 11:ze=Math.abs(O-se.width);break;default:ze=O+se.width;break}(a>0&&V>a-1||n>0&&V>0&&ze-A>n)&&(u.push(new W(0,R,n+o,q)),V=0,O=A,R+=q,q=0),q=Math.max(q,we);let Ce=0;switch(S){case 11:Ce=-se.width;break;default:Ce=0;break}switch(re.moveTo(O+Ce+re.margin.left,R+re.margin.top),S){case 11:O-=ye;break;default:O+=ye;break}V++}u.push(new W(0,R,n+o,q)),W.i(m)}t3(e,n,a,o,h,u){const m=W.l();let v=Math.max(this.cellSize.width,1),b=0,S=0,A=0;const M=N.l();for(let Ce=0;Ce<e.length;Ce++){const Pe=e[Ce],Fe=this.getLayoutBounds(Pe,m),Re=Pe.getRelativePoint(Pe.locationObject,Pe.locationSpot,M);b=Math.max(b,Re.x),S=Math.max(S,Fe.width-Re.x),A=Math.max(A,Re.y)}const O=this.arrangement;switch(O){case 11:b+=o;break;default:S+=o;break}isFinite(v)?v=Math.max(v+o,1):v=Math.max(b+S,1);const R=this.arrangementOrigin.x,V=this.arrangementOrigin.y;let q=R,J=V,re=0;n>=b&&(n-=b);let se=0,ne=0;const xe=Math.max(this.cellSize.height,1);A=0;let ye=0,we=!0;const ze=N.l();for(let Ce=0;Ce<e.length;Ce++){const Pe=e[Ce],Fe=this.getLayoutBounds(Pe,m),Re=Pe.getRelativePoint(Pe.locationObject,Pe.locationSpot,M);if(re>0)switch(O){case 11:{let Ke=(q-R-(Fe.width-Re.x))/v;G.X(Math.round(Ke),Ke)?Ke=Math.round(Ke):Ke=Math.floor(Ke),q=Ke*v+R;break}default:{let Ke=(q-R+Re.x)/v;G.X(Math.round(Ke),Ke)?Ke=Math.round(Ke):Ke=Math.ceil(Ke),q=Ke*v+R;break}}else switch(O){case 11:se=q+Re.x+Fe.width;break;default:se=q-Re.x;break}let We=0;switch(O){case 11:We=-(q+Re.x)+se;break;default:We=q+Fe.width-Re.x-se;break}if(a>0&&re>a-1||n>0&&re>0&&We>n){u.push(new W(0,we?J-A:J,n+o,ye+A+h));for(let Ke=0;Ke<re&&Ce!==re;Ke++){const lt=e[Ce-re+Ke],ct=lt.getRelativePoint(lt.locationObject,lt.locationSpot,ze);lt.moveTo(lt.position.x,lt.position.y+A-ct.y)}ye+=h,we?J+=ye:J+=ye+A,A=0,ye=0,re=0,q=R,we=!1}switch(q===R&&(O===11?ne=Math.max(ne,Fe.width-Re.x):ne=Math.min(ne,-Re.x)),A=Math.max(A,Re.y),ye=Math.max(ye,Fe.height-Re.y),isFinite(xe)&&(ye=Math.max(ye,Math.max(Fe.height,xe)-Re.y)),we?Pe.moveTo(q-Re.x,J-Re.y):Pe.moveTo(q-Re.x,J),O){case 11:q-=Re.x+o;break;default:q+=Fe.width-Re.x+o;break}re++}if(u.push(new W(0,J,n+o,(we?ye:ye+A)+h)),e.length!==re)for(let Ce=0;Ce<re;Ce++){const Pe=e[e.length-re+Ce],Fe=Pe.getRelativePoint(Pe.locationObject,Pe.locationSpot,M);Pe.moveTo(Pe.position.x,Pe.position.y+A-Fe.y)}if(N.i(M),N.i(ze),O===11)for(let Ce=0;Ce<u.length;Ce++){const Pe=u[Ce];Pe.width+=ne,Pe.x-=ne}else for(let Ce=0;Ce<u.length;Ce++){const Pe=u[Ce];Pe.x>ne&&(Pe.width+=Pe.x-ne,Pe.x=ne)}W.i(m)}commitLayers(e,n){}get wrappingWidth(){return this.gg}set wrappingWidth(e){this.gg!==e&&(e>0||isNaN(e))&&(this.gg=e,this.isViewportSized=isNaN(e),this.p())}get wrappingColumn(){return this.mg}set wrappingColumn(e){this.mg!==e&&(e>0||isNaN(e))&&(this.mg=e,this.p())}get cellSize(){return this.Oo}set cellSize(e){this.Oo.equals(e)||(this.Oo.h(e),this.p())}get spacing(){return this.En}set spacing(e){this.En.equals(e)||(this.En.h(e),this.p())}get alignment(){return this.de}set alignment(e){this.de!==e&&(e===1||e===0)&&(this.de=e,this.p())}get arrangement(){return this.He}set arrangement(e){this.He!==e&&(e===10||e===11)&&(this.He=e,this.p())}get sorting(){return this.Si}set sorting(e){this.Si!==e&&(e===20||e===21||e===22||e===23)&&(this.Si=e,this.p())}get comparer(){return this.Mi}set comparer(e){this.Mi!==e&&(this.Mi=e,this.p())}static standardComparer(e,n){const a=e.text,o=n.text;return a<o?-1:a>o?1:0}static smartComparer(e,n){if(e!==null)if(n!==null){const a=e.text.toLocaleLowerCase(),o=n.text.toLocaleLowerCase(),h=a.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),u=o.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let m=0;for(;m<h.length;m++)if(u[m]!==""&&u[m]!==void 0){const v=parseFloat(h[m]),b=parseFloat(u[m]);if(isNaN(v))if(isNaN(b)){if(h[m].localeCompare(u[m])!==0)return h[m].localeCompare(u[m]);continue}else return 1;else{if(isNaN(b))return-1;if(v-b!==0)return v-b;continue}}else{if(h[m]==="")continue;return 1}return u[m]!==""&&u[m]!==void 0?-1:0}else return 1;else return n!==null?-1:0}};let Aa=Vp;E(Aa,"Position",0),E(Aa,"Location",1),E(Aa,"LeftToRight",10),E(Aa,"RightToLeft",11),E(Aa,"Forward",20),E(Aa,"Reverse",21),E(Aa,"Ascending",22),E(Aa,"Descending",23);const Yl=class{constructor(){E(this,"pg");E(this,"rn");E(this,"Ct");E(this,"No");E(this,"yg");E(this,"wg");E(this,"a");E(this,"BC");this.pg=new C,this.rn=new C,this.Ct=new C,this.No=new Q,this.yg=new Q,this.wg=new Q,this.a=null,this.BC=!1}clear(){this.pg.clear(),this.rn.clear(),this.Ct.clear(),this.No.clear(),this.yg.clear(),this.wg.clear()}Eo(i){this.a=i}ch(i){if(i instanceof Ct){if(this.pg.add(i),i instanceof Jt){const n=i.containingGroup;n===null?this.diagram.Zr.add(i):n.Ch.add(i);const a=i.layout;a!==null&&(a.diagram=this.diagram)}}else i instanceof yt?(this.rn.add(i),i.isAvoiding&&(this.diagram.lp=!0)):i instanceof Zt||this.Ct.add(i);const e=i.data;e!==null&&(i instanceof Zt||(i instanceof yt?this.Pv(e,i):this.No.set(e,i)))}ri(i){if(i.clearAdornments(),i instanceof Ct){if(this.pg.delete(i),i instanceof Jt){const n=i.containingGroup;n===null?this.diagram.Zr.delete(i):n.Ch.delete(i);const a=i.layout;a!==null&&(a.diagram=null)}}else i instanceof yt?this.rn.delete(i):i instanceof Zt||this.Ct.delete(i);const e=i.data;e!==null&&(i instanceof Zt||(i instanceof yt?this.Sv(e,i):this.No.delete(e)))}Pv(i,e){this.yg.set(i,e)}Sv(i,e){this.yg.delete(i)}rebuildParts(){const i=this.diagram;if(i===null)return;const e=i.nodeTemplateMap.iterator;for(;e.next();){const M=e.value,O=e.key;(!M.Di()||M instanceof Jt)&&s.o(`Invalid node template in Diagram.nodeTemplateMap: template for "${O}" must be a Node or a simple Part, not a Group or Link: ${M}`)}const n=i.groupTemplateMap.iterator;for(;n.next();){const M=n.value,O=n.key;M instanceof Jt||s.o(`Invalid group template in Diagram.groupTemplateMap: template for "${O}" must be a Group, not a normal Node or Link: ${M}`)}const a=i.linkTemplateMap.iterator;for(;a.next();){const M=a.value,O=a.key;M instanceof yt||s.o(`Invalid link template in Diagram.linkTemplateMap: template for "${O}" must be a Link, not a normal Node or simple Part: ${M}`)}const o=s.nt(),h=i.selection.iterator;for(;h.next();){const M=h.value.data;M&&o.push(M)}const u=s.nt(),m=i.highlighteds.iterator;for(;m.next();){const M=m.value.data;M&&u.push(M)}const v=s.nt(),b=this.nodes.iterator;for(;b.next();){const M=b.value;M.data!==null&&(v.push(M.data),v.push(M.location))}const S=this.links.iterator;for(;S.next();){const M=S.value;M.data!==null&&(v.push(M.data),v.push(M.location))}const A=this.parts.iterator;for(;A.next();){const M=A.value;M.data!==null&&(v.push(M.data),v.push(M.location))}this.Mv(),this.D2();for(let M=0;M<o.length;M++){const O=this.findPartForData(o[M]);O!==null&&(O.isSelected=!0)}for(let M=0;M<u.length;M++){const O=this.findPartForData(u[M]);O!==null&&(O.isHighlighted=!0)}for(let M=0;M<v.length;M+=2){const O=this.findPartForData(v[M]);O!==null&&(O.location=v[M+1])}s.Z(o),s.Z(u),s.Z(v)}D2(){const i=this.diagram.model;this.nw(i.nodeDataArray)}nw(i,e){const n=this.diagram.model;i.forEach(a=>{n.containsNodeData(a)&&this.Nv(a,!1)}),i.forEach(a=>{n.containsNodeData(a)&&this.Nk(a)}),e!==!1&&this.diagram.c1(!1)}Nv(i,e){if(i==null||this.diagram.undoManager.isUndoingRedoing||this.No.has(i))return null;e===void 0&&(e=!0);const n=this.e3(i);return n!==null&&e&&this.Nk(i),n}e3(i){if(i==null||this.diagram.undoManager.isUndoingRedoing||this.No.has(i))return null;const e=this.i3(i),n=this.findTemplateForNodeData(i,e);if(n!==null){n.It();const a=n.copy();if(a!==null){const o=this.diagram.wi;return this.diagram.wi=!0,a._o=e,a.te=i,this.addsToTemporaryLayer&&(a.dl="Tool"),this.diagram.add(a),a.te=null,a.data=i,this.diagram.wi=o,a}}return null}insertLink(i,e,n,a){return null}Nk(i){}i3(i){return this.diagram.model.getCategoryForNodeData(i)}findTemplateForNodeData(i,e){const n=this.diagram,a=n.model,o=a.uf()&&a.isGroupForData(i);let h=null;return o?(h=n.groupTemplateMap.get(e),h===null&&(h=n.groupTemplateMap.get(""),h===null&&(Yl.Lv||(Yl.Lv=!0,s.ne('No Group template found for category "'+e+'"'),s.ne("  Using default group template")),h=n.s2))):(h=n.nodeTemplateMap.get(e),h===null&&(h=n.nodeTemplateMap.get(""),h===null&&(Yl.Cv||(Yl.Cv=!0,s.ne('No Node template found for category "'+e+'"'),s.ne("  Using default node template")),h=n.t2))),h}getLinkCategoryForData(i){return""}setLinkCategoryForData(i,e){}setFromNodeForLink(i,e,n){}setToNodeForLink(i,e,n){}findLinkTemplateForCategory(i){const e=this.diagram;let n=e.linkTemplateMap.get(i);return n===null&&(n=e.linkTemplateMap.get(""),n===null&&(Yl.Av||(Yl.Av=!0,s.ne('No Link template found for category "'+i+'"'),s.ne("  Using default link template")),n=e.e2)),n}WI(i,e,n){i instanceof yt?(e!==null&&this.Sv(e,i),n!==null&&this.Pv(n,i)):i instanceof Et&&(e!==null&&this.No.delete(e),n!==null&&this.No.set(n,i))}Mv(){const i=this.diagram.model;this.zC(i.nodeDataArray)}zC(i){i.forEach(e=>{this.Ck(e)})}Ck(i){const e=this.findPartForData(i);e!==null&&(this.diagram.L2(e,!1),this.XC(e))}XC(i){}AC(i){}findPartForKey(i){if(i==null)return null;const e=this.diagram.model.findNodeDataForKey(i);return e!==null?this.No.get(e):null}findNodeForKey(i){if(i==null)return null;const e=this.diagram.model.findNodeDataForKey(i);if(e===null)return null;const n=this.No.get(e);return n instanceof Ct?n:null}findLinkForKey(i){return null}findPartForData(i){if(i===null)return null;let e=this.No.get(i);return e!==null||(e=this.yg.get(i)),e}findNodeForData(i){if(i===null)return null;const e=this.No.get(i);return e instanceof Ct?e:null}findLinkForData(i,e){return i===null?null:this.yg.get(i)}findNodesByExample(...i){const e=new C,n=this.pg.iterator;for(;n.next();){const a=n.value,o=a.data;if(o!==null)for(let h=0;h<arguments.length;h++){const u=arguments[h];if(s.$(u)&&this.GC(o,u)){e.add(a);break}}}return e.iterator}findLinksByExample(...i){const e=new C,n=this.rn.iterator;for(;n.next();){const a=n.value,o=a.data;if(o!==null)for(let h=0;h<arguments.length;h++){const u=arguments[h];if(s.$(u)&&this.GC(o,u)){e.add(a);break}}}return e.iterator}GC(i,e){for(const n in e){const a=i[n],o=e[n];if(Array.isArray(o)){if(!Array.isArray(a))return!1;const h=a,u=o;if(h.length<u.length)return!1;for(let m=0;m<h.length;m++){const v=h[m],b=u[m];if(b!==void 0&&!this.Tv(v,b))return!1}}else if(!this.Tv(a,o))return!1}return!0}Tv(i,e){if(s.st(e)){if(!e(i))return!1}else if(e instanceof RegExp){if(!i||!e.test(i.toString()))return!1}else if(s.$(i)&&s.$(e)){if(!this.GC(i,e))return!1}else if(i!==e)return!1;return!0}doModelDataChanged(i){if(i.model===this.diagram.model&&this.diagram.G){this.diagram.G=!1;try{const e=i.change;i.modelChange===""&&i.object!==null&&e===2&&this.ow(i.object,i.propertyName)}finally{this.diagram.G=!0}}}doModelChanged(i){const e=this.diagram;if(!e||i.model!==e.model)return;const n=i.change;if(e.LO(i),!!e.G){e.G=!1;try{const a=i.modelChange;if(a!=="")if(n===2){if(a==="nodeCategory"){const o=i.object;if(o!==null){const h=this.findPartForData(o),u=i.newValue;h!==null&&typeof u=="string"&&(h.category=u)}}else if(a==="nodeDataArray"){const o=i.oldValue;this.zC(o);const h=i.newValue;this.nw(h)}e.isModified=!0}else if(n===3){const o=i.newValue;a==="nodeDataArray"&&s.$(o)&&this.Nv(o),e.isModified=!0}else if(n===4){const o=i.oldValue;a==="nodeDataArray"&&s.$(o)&&this.Ck(o),e.isModified=!0}else n===1&&(a==="SourceChanged"?i.object!==null?this.ow(i.object,i.propertyName):(this.updateAllRelationshipsFromData(),this.updateAllTargetBindings()):a==="ModelDisplaced"&&this.rebuildParts());else if(n===2){const o=i.propertyName,h=i.object,u=e.model;h===u?(o==="nodeKeyProperty"||o==="nodeCategoryProperty")&&(e.undoManager.isUndoingRedoing||this.rebuildParts()):h!==null&&this.ow(h,o),e.isModified=!0}else(n===3||n===4)&&(this.s3(i,e.model),e.isModified=!0)}finally{e.G=!0}}}updateAllTargetBindings(i){i===void 0&&(i="");let e=this.parts.iterator;for(;e.next();)e.value.updateTargetBindings(i);for(e=this.nodes.iterator;e.next();)e.value.updateTargetBindings(i);for(e=this.links.iterator;e.next();)e.value.updateTargetBindings(i)}updateAllThemeBindings(){let i=this.parts.iterator;for(;i.next();)i.value.Yo();for(i=this.nodes.iterator;i.next();)i.value.Yo();for(i=this.links.iterator;i.next();)i.value.Yo()}updateAllRelationshipsFromData(){const i=this.diagram.model,e=new C,n=i.nodeDataArray;for(let h=0;h<n.length;h++){const u=n[h];e.add(u)}const a=[];this.nodes.each(h=>{h.data!==null&&!e.has(h.data)&&a.push(h.data)}),this.parts.each(h=>{h.data!==null&&!e.has(h.data)&&a.push(h.data)}),a.forEach(h=>i.Dv(h,!1));for(let h=0;h<n.length;h++){const u=n[h];this.findPartForData(u)===null&&i.vv(u,!1)}this.Fv();let o=this.parts.iterator;for(;o.next();)o.value.updateRelationshipsFromData();for(o=this.nodes.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.links.iterator;o.next();)o.value.updateRelationshipsFromData()}Fv(){}updateRelationshipsFromData(i){}ow(i,e){if(typeof e=="string"){const n=this.findPartForData(i);if(n!==null)n.updateTargetBindings(e);else{const a=this.o3(i);if(a!==null&&a.length>0){for(let h=0;h<a.length;h++)a[h].updateTargetBindings(e);const o=a[0].part;if(o!==null){const h=o.adornments;for(;h.next();)h.value.updateTargetBindings(e)}s.Z(a)}}i===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}}o3(i){let e=null;const n=this.wg.iterator;for(;n.next();){const a=n.value;for(let o=0;o<a.length;o++){const h=a[o].findItemPanelForData(i);h!==null&&(e===null&&(e=s.nt()),e.push(h))}if(e!==null)break}return e}YC(i){return this.wg.get(i)}s3(i,e){const n=i.object;if(!Array.isArray(n))return;const a=i.change===3,o=a?i.newParam:i.oldParam,h=a?i.newValue:i.oldValue,u=this.YC(n);if(Array.isArray(u))for(let m=0;m<u.length;m++){const v=u[m];a?v.Q1(h,o,!0):v.ZI(o)}}N2(i,e){e!==null&&i.Sn(a=>e.uT(a));const n=i.Aa;if(Array.isArray(n)){const a=this.YC(n);if(a===null)this.wg.set(n,[i]);else{for(let o=0;o<a.length;o++)if(a[o]===i)return;a.push(i)}}}C2(i,e){i.Sn(a=>e.TO(a));const n=i.Aa;if(Array.isArray(n)){const a=this.YC(n);if(a!==null){for(let o=0;o<a.length;o++)if(a[o]===i){a.splice(o,1),a.length===0&&this.wg.delete(n);return}}}}copyParts(i,e,n){n===void 0&&(n=!1);const a=new Q;if(Array.isArray(i))for(let h=0;h<i.length;h++)this.Lk(i[h],e,a,n);else{const h=i.iterator;for(;h.next();)this.Lk(h.value,e,a,n)}if(e!==null){const h=e.model,u=e.Tp().dragsLink,m=new C,v=new Q,b=a.iterator;for(;b.next();){const S=b.value;if(S instanceof yt)!u&&(S.fromNode===null||S.toNode===null)&&m.add(S);else if(S instanceof Ct&&S.data!==null){if(h.Vm()){const A=S,M=b.key,O=M.findTreeParentNode();if(O!==null){const R=a.get(O);if(R!==null){h.setParentKeyForNodeData(A.data,h.getKeyForNodeData(R.data));const V=e.findLinkForData(A.data),q=M.findTreeParentLink();q!==null&&V!==null&&v.set(q,V)}}}else if(h.a1()){const A=S,M=b.key,O=h.isRelatedKeysPathTo?M.findNodesOutOf():M.findNodesInto();for(;O.next();){const R=O.value,V=a.get(R);if(V!==null){h.addRelatedKeyForNodeData(A.data,V.key);const q=e.partManager.findLinkForData(A.data,V.key),J=this.findLinkForData(M.data,R.key);J!==null&&q!==null&&v.set(J,q)}else h.removeRelatedKeyForNodeData(A.data,R.key)}}}}if(m.count>0&&e.removeParts(m,!1),v.count>0){const S=v.iterator;for(;S.next();){const A=S.key,M=S.value;a.set(A,M)}}}if(e!==null&&this.diagram!==null){const h=e.model,u=h.afterCopyFunction;if(u!==null){const m=new Q;a.each(b=>{b.key.data!==null&&m.set(b.key.data,b.value.data)});const v=this.diagram.model;u(m,h,v)}}const o=a.iterator;for(;o.next();)o.value.updateTargetBindings();return a}Lk(i,e,n,a){if(i===null||a&&!i.canCopy())return null;if(n.has(i))return n.get(i);const o=this.KC(i,e);if(!(o instanceof Et))return null;if(o.isSelected=!1,o.isHighlighted=!1,n.set(i,o),i instanceof Ct){const h=i.linksConnected;for(;h.next();){const u=h.value;if(u.fromNode===i){const m=n.get(u);m!==null&&(m.fromNode=o)}if(u.toNode===i){const m=n.get(u);m!==null&&(m.toNode=o)}}if(i instanceof Jt&&o instanceof Jt){const u=i.memberParts;for(;u.next();){const m=u.value,v=this.Lk(m,e,n,a);v instanceof yt||v!==null&&(v.containingGroup=o)}}}else if(i instanceof yt&&o instanceof yt){const h=i.fromNode;if(h!==null){const v=n.get(h);v!==null&&(o.fromNode=v)}const u=i.toNode;if(u!==null){const v=n.get(u);v!==null&&(o.toNode=v)}const m=i.labelNodes;for(;m.next();){const v=m.value,b=this.Lk(v,e,n,a);b!==null&&b instanceof Ct&&(b.labeledLink=o)}}return o}KC(i,e){let n=null;const a=i.data;if(a!==null&&e!==null){const o=e.model;if(!(i instanceof yt)){const h=o.copyNodeData(a);o.addNodeData(h),n=e.findPartForData(h)}}else if(i.It(),n=i.copy(),n!==null){const o=this.diagram;if(e!==null)e.add(n);else if(a!==null&&o!==null&&o.commandHandler!==null&&o.commandHandler.copiesClipboardData){const h=o.model;let u=null;n instanceof yt||(u=h.copyNodeData(a)),n.data=u}}return n}get nodes(){return this.pg}get links(){return this.rn}get parts(){return this.Ct}get diagram(){return this.a}get addsToTemporaryLayer(){return this.BC}set addsToTemporaryLayer(i){this.BC=i}};let Po=Yl;E(Po,"Cv",!1),E(Po,"Lv",!1),E(Po,"Av",!1);class r_ extends Po{D2(){const i=this.diagram.model;this.nw(i.nodeDataArray),this.Rv(i.linkDataArray)}nw(i){super.nw(i,!1);const e=this.links.iterator;for(;e.next();)e.value.Wd();this.diagram.c1(!1)}Rv(i){i.forEach(e=>{this.Ov(e)}),this.diagram.c1(!1)}Ov(i){if(i==null||this.diagram.undoManager.isUndoingRedoing||this.findLinkForData(i))return null;const e=this.getLinkCategoryForData(i),n=this.findLinkTemplateForCategory(e);if(n!==null){n.It();const a=n.copy();if(a!==null){const o=this.diagram.wi;this.diagram.wi=!0,a._o=e,a.te=i;const h=this.diagram.model,u=h.Ak(i,!0);u!==""&&(a.fromPortId=u);const m=h.Vi(i,!0);if(m!==void 0){const A=this.findNodeForKey(m);A instanceof Ct&&(a.fromNode=A)}const v=h.Ak(i,!1);v!==""&&(a.toPortId=v);const b=h.Vi(i,!1);if(b!==void 0){const A=this.findNodeForKey(b);A instanceof Ct&&(a.toNode=A)}const S=h.getLabelKeysForLinkData(i);return Array.isArray(S)&&S.forEach(A=>{const M=this.findNodeForKey(A);M!==null&&(M.labeledLink=a)}),this.addsToTemporaryLayer&&(a.dl="Tool"),this.diagram.add(a),a.te=null,a.data=i,this.diagram.wi=o,a}}return null}Mv(){const i=this.diagram.model;this.Iv(i.linkDataArray),this.zC(i.nodeDataArray)}Iv(i){i.forEach(e=>{this.Ck(e)})}getLinkCategoryForData(i){return this.diagram.model.getCategoryForLinkData(i)}setLinkCategoryForData(i,e){return this.diagram.model.setCategoryForLinkData(i,e)}setFromNodeForLink(i,e,n){const a=this.diagram.model,o=e!==null?e.data:null;a.setFromKeyForLinkData(i.data,a.getKeyForNodeData(o))}setToNodeForLink(i,e,n){const a=this.diagram.model,o=e!==null?e.data:null;a.setToKeyForLinkData(i.data,a.getKeyForNodeData(o))}AC(i){this.diagram.model.removeLinkData(i.data)}findPartForKey(i){const e=super.findPartForKey(i);if(e===null){const n=this.diagram.model.findLinkDataForKey(i);if(n!==null)return this.findLinkForData(n)}return e}findLinkForKey(i){if(i==null)return null;const e=this.diagram.model.findLinkDataForKey(i);return e!==null?this.findLinkForData(e):null}doModelChanged(i){if(super.doModelChanged(i),!this.diagram)return;const e=this.diagram;if(i.model!==e.model)return;const n=i.change;if(e.G){e.G=!1;try{const a=i.modelChange;if(a!==""){if(n===2){if(a==="linkFromKey"){const o=i.object,h=this.findLinkForData(o);if(h!==null){const u=i.newValue,m=this.findNodeForKey(u);h.fromNode=m}}else if(a==="linkToKey"){const o=i.object,h=this.findLinkForData(o);if(h!==null){const u=i.newValue,m=this.findNodeForKey(u);h.toNode=m}}else if(a==="linkFromPortId"){const o=i.object,h=this.findLinkForData(o);if(h!==null){const u=i.newValue;typeof u=="string"&&(h.fromPortId=u)}}else if(a==="linkToPortId"){const o=i.object,h=this.findLinkForData(o);if(h!==null){const u=i.newValue;typeof u=="string"&&(h.toPortId=u)}}else if(a==="nodeGroupKey"){const o=i.object,h=this.findPartForData(o);if(h!==null){const u=i.newValue;if(u!==void 0){const m=this.findNodeForKey(u);m instanceof Jt?h.containingGroup=m:h.containingGroup=null}else h.containingGroup=null}}else if(a==="linkLabelKeys"){const o=i.object,h=this.findLinkForData(o);if(h!==null){const u=i.oldValue,m=i.newValue;Array.isArray(u)&&u.forEach(v=>{if(m.indexOf(v)>=0)return;const b=this.findNodeForKey(v);b!==null&&(b.labeledLink=null)}),Array.isArray(m)&&m.forEach(v=>{const b=this.findNodeForKey(v);b!==null&&(b.labeledLink=h)})}}else if(a==="linkCategory"){const o=i.object,h=this.findLinkForData(o),u=i.newValue;h!==null&&typeof u=="string"&&(h.category=u)}else if(a==="linkDataArray"){const o=i.oldValue;this.Iv(o);const h=i.newValue;this.Rv(h)}e.isModified=!0}else if(n===3){const o=i.newValue;if(a==="linkDataArray"&&s.$(o))this.Ov(o);else if(a==="linkLabelKeys"&&i.model.isKeyType(o)){const h=i.object,u=this.findLinkForData(h),m=this.findNodeForKey(o);u!==null&&m!==null&&(m.labeledLink=u)}e.isModified=!0}else if(n===4){const o=i.oldValue;if(a==="linkDataArray"&&s.$(o))this.Ck(o);else if(a==="linkLabelKeys"&&i.model.isKeyType(o)){const h=this.findNodeForKey(o);h!==null&&(h.labeledLink=null)}e.isModified=!0}}else if(n===2){const o=i.propertyName,h=i.object,u=e.model;h===u&&(o==="linkFromKeyProperty"||o==="linkToKeyProperty"||o==="linkFromPortIdProperty"||o==="linkToPortIdProperty"||o==="linkLabelKeysProperty"||o==="nodeIsGroupProperty"||o==="nodeGroupKeyProperty"||o==="linkCategoryProperty")&&(e.undoManager.isUndoingRedoing||this.rebuildParts()),e.isModified=!0}}finally{e.G=!0}}}Fv(){const i=this.diagram.model,e=new Set,n=i.linkDataArray;n.forEach(o=>{e.add(o)});const a=[];this.links.each(o=>{o.data!==null&&!e.has(o.data)&&a.push(o.data)}),a.forEach(o=>{i.Ev(o,!1)}),n.forEach(o=>{this.findLinkForData(o)===null&&i.Uv(o,!1)})}updateRelationshipsFromData(i){const e=i.data;if(e===null)return;const n=i.diagram;if(n===null)return;const a=n.model;if(i instanceof yt){let o=a.Vi(e,!0),h=n.findNodeForKey(o);i.fromNode=h,o=a.Vi(e,!1),h=n.findNodeForKey(o),i.toNode=h;const u=a.getLabelKeysForLinkData(e);if(u.length>0||i.labelNodes.count>0){if(u.length===1&&i.labelNodes.count===1){const A=u[0],M=i.labelNodes.first();if(M!==null&&a.getKeyForNodeData(M.data)===A)return}const m=new C().addAll(u),v=new C;i.labelNodes.each(A=>{if(A.data!==null){const M=a.getKeyForNodeData(A.data);M!==void 0&&v.add(M)}});const b=v.copy();b.removeAll(m);const S=m.copy();if(S.removeAll(v),b.count>0||S.count>0){const A=i;b.each(M=>{const O=n.findNodeForKey(M);O!==null&&O.labeledLink===A&&(O.labeledLink=null)}),S.each(M=>{const O=n.findNodeForKey(M);O!==null&&O.labeledLink!==A&&(O.labeledLink=A)})}}}else if(!(i instanceof Zt)){const o=a.getGroupKeyForNodeData(e),h=n.findPartForKey(o);(h===null||h instanceof Jt)&&(i.containingGroup=h)}}Nk(i){const e=this.diagram.model,n=e.getKeyForNodeData(i);if(n!==void 0){const a=e.lw(n),o=this.findPartForData(i);if(a!==null&&o!==null){const u=a.iterator;for(;u.next();){const m=u.value;if(e.containsNodeData(m)){if(o instanceof Jt&&e.getGroupKeyForNodeData(m)===n){const v=this.findPartForData(m);v!==null&&(v.containingGroup=o)}}else{const v=this.findLinkForData(m);if(v!==null&&o instanceof Ct){e.Vi(m,!0)===n&&(v.fromNode=o),e.Vi(m,!1)===n&&(v.toNode=o);const b=e.getLabelKeysForLinkData(m);Array.isArray(b)&&b.some(S=>S===n?(o.labeledLink=v,!0):!1)}}}e.an(n)}const h=e.getGroupKeyForNodeData(i);if(h!==void 0){const u=this.findNodeForKey(h);o!==null&&u instanceof Jt&&(o.containingGroup=u)}}}XC(i){const e=this.diagram.model;if(i instanceof Ct){const n=e.getKeyForNodeData(i.data);if(n!==void 0){const a=i.linksConnected;for(;a.next();){const o=a.value;e.hn(n,o.data)}if(i.isLinkLabel){const o=i.labeledLink;o!==null&&e.hn(n,o.data)}if(i instanceof Jt){const o=i.memberParts;for(;o.next();){const h=o.value.data;e.containsNodeData(h)&&e.hn(n,h)}}}}}KC(i,e){let n=super.KC(i,e);if(i instanceof yt){const a=i.data;if(a!==null&&e!==null){const o=e.model,h=o.copyLinkData(a);o.addLinkData(h),n=e.findLinkForData(h)}else if(n!==null){const o=this.diagram;if(a!==null&&o!==null&&o.commandHandler!==null&&o.commandHandler.copiesClipboardData){const h=o.model.copyLinkData(a);n.data=h}}}return n}insertLink(i,e,n,a){const o=this.diagram,h=o.model,u=o.toolManager.findTool("Linking");let m="";i!==null&&(e===null&&(e=i),m=e.portId,m===null&&(m=""));let v="";n!==null&&(a===null&&(a=n),v=a.portId,v===null&&(v=""));const b=u.archetypeLinkData;if(b instanceof yt){b.It();const S=b.copy();if(S!==null){S.fromNode=i,S.fromPortId=m,S.toNode=n,S.toPortId=v,o.add(S);const A=u.archetypeLabelNodeData;if(A instanceof Ct){A.It();const M=A.copy();M!==null&&(M.labeledLink=S,o.add(M))}return S}}else if(b!==null){const S=h.copyLinkData(b);if(s.$(S)){i!==null&&h.xg(S,h.getKeyForNodeData(i.data),!0),h.bg(S,m,!0),n!==null&&h.xg(S,h.getKeyForNodeData(n.data),!1),h.bg(S,v,!1),h.addLinkData(S);const A=u.archetypeLabelNodeData;if(A!==null&&!(A instanceof Ct)){const M=h.copyNodeData(A);h.addNodeData(M);const O=h.getKeyForNodeData(M);O!==void 0&&h.addLabelKeyForLinkData(S,O)}return o.findLinkForData(S)}}return null}}class a_ extends Po{constructor(){super(...arguments);E(this,"Ua",null)}Tk(e,n){if(e===null||n===null||n.findTreeParentLink()!==null)return;const a=this.diagram.toolManager.findTool("Linking");let o=e,h=n;if(this.diagram.isTreePathToChildren){if(a!==null&&a.Vu(o,h,null,!0))return}else if(o=n,h=e,a!==null&&a.Vu(o,h,null,!0))return;const u=this.getLinkCategoryForData(n.data),m=this.findLinkTemplateForCategory(u);if(m!==null){m.It();const v=m.copy();if(v!==null){const b=this.diagram.wi;this.diagram.wi=!0,v._o=u,v.te=n.data,v.fromNode=o,v.toNode=h,this.diagram.add(v),v.te=null,v.data=n.data,this.diagram.wi=b}}}getLinkCategoryForData(e){return this.diagram.model.getParentLinkCategoryForNodeData(e)}setLinkCategoryForData(e,n){this.diagram.model.setParentLinkCategoryForNodeData(e,n)}setFromNodeForLink(e,n,a){const o=this.diagram.model;a===void 0&&(a=null);const h=n!==null?n.data:null;if(this.diagram.isTreePathToChildren)o.setParentKeyForNodeData(e.data,o.getKeyForNodeData(h));else{const u=this.Ua;this.Ua=e,a!==null&&o.setParentKeyForNodeData(a.data,void 0);const m=e.toNode!==null?e.toNode.data:null;o.setParentKeyForNodeData(h,o.getKeyForNodeData(m)),this.Ua=u}}setToNodeForLink(e,n,a){const o=this.diagram.model;a===void 0&&(a=null);const h=n!==null?n.data:null;if(this.diagram.isTreePathToChildren){const u=this.Ua;this.Ua=e,a!==null&&o.setParentKeyForNodeData(a.data,void 0);const m=e.fromNode!==null?e.fromNode.data:null;o.setParentKeyForNodeData(h,o.getKeyForNodeData(m)),this.Ua=u}else o.setParentKeyForNodeData(e.data,o.getKeyForNodeData(h))}AC(e){this.diagram.model.setParentKeyForNodeData(e.data,void 0)}findLinkForKey(e){if(e==null)return null;const n=this.diagram.model.findNodeDataForKey(e);return n!==null?this.findLinkForData(n):null}doModelChanged(e){if(super.doModelChanged(e),!this.diagram)return;const n=this.diagram;if(e.model!==n.model)return;const a=e.change;if(n.G){n.G=!1;try{const o=e.modelChange;if(o!==""){if(a===2){if(o==="nodeParentKey"){const h=e.object,u=h?this.findNodeForData(h):null,m=e.newValue,v=this.findNodeForKey(m);if(h&&this.Ua!==null)v!==null&&(this.Ua.data=h,this.Ua.category=this.getLinkCategoryForData(h));else if(u!==null){const b=u.findTreeParentLink();b!==null?v===null?n.remove(b):n.isTreePathToChildren?b.fromNode=v:b.toNode=v:this.Tk(v,u)}}else if(o==="parentLinkCategory"){const h=e.object,u=h?this.findNodeForData(h):null,m=e.newValue;if(u!==null&&typeof m=="string"){const v=u.findTreeParentLink();v!==null&&(v.category=m)}}n.isModified=!0}}else a===2&&(e.object===n.model&&e.propertyName==="nodeParentKeyProperty"&&(n.undoManager.isUndoingRedoing||this.rebuildParts()),n.isModified=!0)}finally{n.G=!0}}}updateRelationshipsFromData(e){const n=e.data;if(n===null)return;const a=e.diagram;if(a===null)return;const o=a.model;if(e instanceof Ct){const h=o.getParentKeyForNodeData(n),u=a.findNodeForKey(h),m=e.findTreeParentNode();if(u!==m){const v=e.findTreeParentLink();u!==null?v!==null?a.isTreePathToChildren?v.fromNode=u:v.toNode=u:this.Tk(u,e):v!==null&&a.L2(v,!1)}}}ow(e,n){if(super.ow(e,n),typeof n=="string"&&this.findPartForData(e)!==null){const a=this.findLinkForData(e);a!==null&&a.updateTargetBindings(n)}}Nk(e){const n=this.diagram.model,a=n.getKeyForNodeData(e);if(a!==void 0){const o=n.lw(a),h=this.findPartForData(e);if(o!==null&&h!==null){const m=o.iterator;for(;m.next();){const v=m.value;if(n.containsNodeData(v)&&h instanceof Ct&&n.getParentKeyForNodeData(v)===a){const b=this.findNodeForData(v);this.Tk(h,b)}}n.an(a)}const u=n.getParentKeyForNodeData(e);if(u!==void 0&&h instanceof Ct){const m=this.findNodeForKey(u);this.Tk(m,h)}}}XC(e){const n=this.diagram.model;if(e instanceof Ct){const a=n.getKeyForNodeData(e.data),o=this.findLinkForData(e.data);if(o!==null){o.isSelected=!1,o.isHighlighted=!1;const m=o.layer;if(m!==null){const v=m.ri(-1,o,!1);v>=0&&this.diagram.raiseChangedEvent(4,"parts",m,o,null,v,null);const b=o.layerChanged;b!==null&&b(o,m,null)}}const h=this.diagram.isTreePathToChildren,u=e.linksConnected;for(;u.next();){const m=u.value,v=h?m.toNode:m.fromNode;if(v!==null){const b=v.data;n.containsNodeData(b)&&n.hn(a,b)}}}}insertLink(e,n,a,o){const h=this.diagram.model;let u=e,m=a;if(this.diagram.isTreePathToChildren||(u=a,m=e),u!==null&&m!==null){const v=u.data,b=m.data;return h.setParentKeyForNodeData(b,h.getKeyForNodeData(v)),m.findTreeParentLink()}return null}}var D0=(ee=>(ee[ee.OneWay=1]="OneWay",ee[ee.TwoWay=2]="TwoWay",ee))(D0||{});const Da=class{constructor(i,e,n,a){E(this,"n");E(this,"HC");E(this,"oc");E(this,"Hf");E(this,"Va");E(this,"jf");E(this,"qf");E(this,"Wf");E(this,"Dk");E(this,"Ti");E(this,"Id");E(this,"vf");C.Je(this),i===void 0?i="":s.s(i,"string",Da,"constructor:targetprop"),e===void 0?e=i:s.s(e,"string",Da,"constructor:sourceprop"),n===void 0?n=null:n!==null&&s.S(n,Da,"constructor:conv"),this.HC=-1,this.Ti=null,this.oc=i,this.Id=0,this.vf=0,this.Hf=null,this.Va=e,this.jf=n,a===void 0?(this.qf=1,this.Wf=null):(this.qf=2,this.Wf=a),this.Dk=new C,this.n=2}copy(){const i=new this.constructor;return this.cloneProtected(i),i}cloneProtected(i){i.oc=this.oc,i.Id=this.Id,i.vf=this.vf,i.Hf=this.Hf,i.Va=this.Va,i.jf=this.jf,i.qf=this.qf,i.Wf=this.Wf,i.n=this.n&-2}static parseEnum(i,e){return s.S(i,Da,"parseEnum:ctor"),n=>{let a=parseInt(n);return isNaN(a)&&(a=s.$a(i,n),a===null)?e:a}}fe(i){i in D0?this.mode=i:s.dr(this,i)}static toString(i){return s.toString(i)}toString(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(this.targetId!==-1?" "+this.targetId:"")+" "+D0[this.mode]+")"}k(){return this.n=this.n|1,this}get targetId(){return this.HC}set targetId(i){this.f&&s.L(this),this.HC=i}get targetProperty(){return this.oc}set targetProperty(i){this.f&&s.L(this),s.s(i,"string",Da,"targetProperty"),this.oc=i}get sourceProperty(){return this.Va}set sourceProperty(i){this.f&&s.L(this),s.s(i,"string",Da,"sourceProperty"),this.Va=i}get f(){return(this.n&1)!==0}get isToData(){return(this.n&2)!==0}get isToObject(){return(this.n&4)!==0}get isToModel(){return(this.n&8)!==0}get isToTheme(){return(this.n&16)!==0}get jC(){return this.isToTheme&&!(this.isToData||this.isToObject||this.isToModel)}xd(){return!1}get sourceName(){return this.Hf}set sourceName(i){this.f&&s.L(this),i!==null&&s.s(i,"string",Da,"sourceName"),this.Hf=i,i!==null?this.n=this.n&-3|4:this.n=this.n|2}get converter(){return this.jf}set converter(i){this.f&&s.L(this),i!==null&&s.S(i,Da,"converter"),this.jf=i}get backConverter(){return this.Wf}set backConverter(i){this.f&&s.L(this),i!==null&&s.S(i,Da,"backConverter"),this.Wf=i}get mode(){return this.qf}set mode(i){this.f&&s.L(this),this.isToTheme&&i===2&&s.o("Theme Bindings cannot be TwoWay."),this.qf=i}makeTwoWay(i){return this.isToTheme&&s.o("Theme Bindings cannot be TwoWay."),this.mode=2,i&&(s.S(i,Da,"makeTwoWay"),this.backConverter=i),this}ofObject(i){return this.f&&s.L(this),i===void 0&&(i=""),this.sourceName=i,this}ofModel(){return this.f&&s.L(this),this.n=this.n&-3&-5|8,this.Hf=null,this}WT(i,e){const n=this.sourceName;let a=null;return n===null||n===""?a=i:n==="/"?a=e.part:n==="."?a=e:n===".."?a=e.panel:a=i.findObject(n),a}check(i){const e=this.oc,n=this.Va,a=this.jf;(this.xd()&&a===null&&this.Ba===null&&e===""||a===null&&e==="")&&s.ne("Binding error: target property is the empty string: "+this.toString()),this.xd()&&this.jC&&n===""&&a===null&&this.Ba===null&&s.ne("Binding error: theme bindings require a source property when not using a converter: "+this.toString()),i&&typeof e=="string"&&(!s.st(["setAttribute"])&&e.length>0&&e[0]!=="_"&&!s.jw(i,e)?s.ne("Binding error: undefined target property: "+e+" on "+i.toString()):e==="name"&&i instanceof oi&&s.ne("Binding error: cannot modify GraphObject.name on "+i.toString()))}updateTarget(i,e,n,a){var v,b;const o=this.Va;if(n!==void 0&&o!==""&&o!==n||this.isToTheme&&i.diagram===null)return;const h=this.oc,u=this.jf;let m=e;if(o!==""&&!this.jC&&(m=Ki.St(e,o)),m!==void 0)if(u===null){if(h!==""){if(this.xd()){const S=(v=i.diagram)==null?void 0:v.themeManager;if(m=this.Vv(S,m,i,h),m===void 0)return}a?a.et(i,h,m):(e instanceof oi||e instanceof be)&&Ki.et(i,h,m)}}else try{if(h!==""){let S=u(m,i);if(this.xd()){const A=(b=i.diagram)==null?void 0:b.themeManager;if(S=this.Vv(A,S,i,h),S===void 0)return}a?a.et(i,h,S):(e instanceof oi||e instanceof be)&&Ki.et(i,h,S)}else u(m,i)}catch{}}updateSource(i,e,n,a){if(this.qf!==2)return;const o=this.oc;if(n!==void 0&&o!==n)return;const h=this.Va,u=this.Wf,m=a!==null?a.diagram:null,v=m!==null?m.model:null;let b=i;if(o!==""&&(b=Ki.St(i,o)),b!==void 0&&!this.Dk.has(i))try{if(this.Dk.add(i),u===null){if(h!=="")v!==null?v.setDataProperty(e,h,b):(e instanceof oi||e instanceof be)&&(e[h]=b);else if(v!==null&&a!==null&&a.itemIndex>=0&&a.panel!==null&&Array.isArray(a.panel.itemArray)){const S=a.itemIndex,A=a.panel.itemArray;v.removeArrayItem(A,S),v.insertArrayItem(A,S,b)}}else try{if(h!==""){const S=u(b,e,v);v!==null?v.setDataProperty(e,h,S):(e instanceof oi||e instanceof be)&&(e[h]=S)}else{const S=u(b,e,v);if(S!==void 0&&v!==null&&a!==null&&a.itemIndex>=0&&a.panel!==null&&Array.isArray(a.panel.itemArray)){const A=a.itemIndex,M=a.panel.itemArray;v.removeArrayItem(M,A),v.insertArrayItem(M,A,S)}}}catch{}}finally{this.Dk.delete(i)}}};let so=Da;E(so,"OneWay",1),E(so,"TwoWay",2);class Jc extends so{constructor(e,n,a,o,h){super(e,n,o);E(this,"aw");E(this,"Ba");E(this,"rc");E(this,"r3",/var\((.*)\)/);a==null&&(a=""),h===void 0&&(h=null),this.aw=a,this.Ba=h,this.rc=null,this.n=16}cloneProtected(e){super.cloneProtected(e),e.aw=this.aw,e.Ba=this.Ba,e.rc=this.rc}xd(){return!0}get themeSource(){return this.aw}set themeSource(e){this.f&&s.L(this),e!==null&&s.s(e,"string",Jc,"themeSource"),this.aw=e,this.rc=null,e!==null?this.n=this.n|16:this.n=this.n&-17}get themeConverter(){return this.Ba}set themeConverter(e){this.f&&s.L(this),e!==null&&s.S(e,Jc,"themeConverter"),this.Ba=e}ofData(){return this.f&&s.L(this),this.n=this.n|2,this.Hf=null,this}Vv(e,n,a,o){if(!e||(this.jC&&(n=this.Va),!n&&n!==0))return;let h=this.themeSource;this.rc!==null?h=this.rc:typeof h=="string"&&h.includes(".")&&(this.rc=h.split("."),h=this.rc);let u=e.findValue(n,h,o);if(u===void 0&&s.ne(`Theme warning: ${n} could not be found when setting target property ${o}.`),e.readsCssVariables&&typeof u=="string"&&u.startsWith("var(")){const m=u.match(this.r3);m&&(u=getComputedStyle(t.document.documentElement).getPropertyValue(m[1]))}return s.st(this.Ba)&&(u=this.Ba(u,a)),u}}const Li=class{constructor(i,e){E(this,"Pt");E(this,"kg");E(this,"zo");E(this,"qC");E(this,"Bi");E(this,"be");E(this,"za");E(this,"Jf");E(this,"$f");E(this,"Pg");E(this,"Sg");E(this,"Mg");E(this,"Ng");E(this,"hw");E(this,"lc");E(this,"lr");E(this,"cw");E(this,"Bo");E(this,"vk");if(C.Je(this),this.Pt="",this.kg="",this.zo=!1,this.qC={},this.Bi=[],this.be=new Q,this.za="key",this.Jf=null,this.$f=null,this.Pg=!1,this.Sg=!1,this.Mg=!1,this.Ng=null,this.hw=100,this.lc="category",this.lr=new Q,this.cw=[],this.Bo=!1,this.vk=null,this.undoManager=new Je,i!==void 0&&(Array.isArray(i)?this.nodeDataArray=i:e=i),e){Object.assign(this,e);const n=e.Changed;n&&(delete this.Changed,this.addChangedListener(n))}}cloneProtected(i){i.Pt=this.Pt,i.kg=this.kg,i.zo=this.zo,i.za=this.za,i.Jf=this.Jf,i.$f=this.$f,i.Pg=this.Pg,i.Sg=this.Sg,i.Mg=this.Mg,i.Ng=this.Ng,i.hw=this.hw,i.lc=this.lc}copy(){const i=new this.constructor;return this.cloneProtected(i),i}clear(){this.Bi=[],this.be.clear(),this.lr.clear(),this.undoManager.clear()}toString(i){if(i===void 0&&(i=0),i>1)return this.toJson();{let e=(this.name!==""?this.name:"")+" Model";if(i>0){e+=`
 node data:`;const n=this.nodeDataArray,a=n.length;for(let o=0;o<a;o++){const h=n[o];e+=" "+this.getKeyForNodeData(h)+":"+s.toString(h)}}return e}}toIncrementalData(i){i.change!==1&&s.o("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+i.toString());const e=i.object;if(!i.isTransactionFinished||!(e instanceof ft))return null;const n=this.Bv(e);return this.WC(e,i.propertyName==="FinishedUndo",n)}WC(i,e,n){const a=this;let o=!1;const h=new C,u=new C,m=new C;i.changes.each(M=>{if(M.model===a){if(M.modelChange==="nodeDataArray")M.change===3?h.add(M.newValue):M.change===4&&m.add(M.oldValue);else if(a.containsNodeData(M.object))M.object!==null&&u.add(M.object);else if(M.change===2&&(a.modelData===M.object||M.propertyName==="modelData"))o=!0;else if(M.object!==null)if(n.has(M.object)){const O=n.get(M.object);O&&O.each(R=>{a.containsNodeData(R)&&u.add(R)})}else{if(M.object instanceof Li||a.Wh()&&a.containsLinkData(M.object))return;a.zv(M.object).each(O=>{u.add(O)})}}});const v=new C;h.each(M=>{const O=a.getKeyForNodeData(M);O!==void 0&&v.add(O),e||u.add(M)});const b=new C;m.each(M=>{const O=a.getKeyForNodeData(M);O!==void 0&&b.add(O),e&&u.add(M)});const S=a.cloneDeep(u.toArray());let A=null;return o&&(A===null&&(A={}),A.modelData=this.cloneDeep(this.modelData)),v.count>0&&(A===null&&(A={}),e?A.removedNodeKeys=v.toArray():A.insertedNodeKeys=v.toArray()),S.length>0&&(A===null&&(A={}),A.modifiedNodeData=S),b.count>0&&(A===null&&(A={}),e?A.insertedNodeKeys=b.toArray():A.removedNodeKeys=b.toArray()),A}cloneDeep(i){return this.Cg(i,!0)}Cg(i,e,n,a){if(!s.$(i))return i;n||(n=new Q);const o=n.get(i);if(o)return o;let h;if(Array.isArray(i)){h=[],n.set(i,h);for(let u=0;u<i.length;u++){const m=i[u];h.push(this.Cg(m,!1,n,a))}}else if(i instanceof N||i instanceof X||i instanceof W||i instanceof he||i instanceof K)h=i.copy(),n.set(i,h);else{if(i instanceof Le||i instanceof pe)return i;if(i instanceof w)h=new w().addAll(this.Cg(i.toArray(),!1,n,a)),n.set(i,h);else if(i instanceof C)h=new C().addAll(this.Cg(i.toArray(),!1,n,a)),n.set(i,h);else if(i instanceof Q)h=new Q().addAll(this.Cg(i.toArray(),!1,n,a)),n.set(i,h);else if(i instanceof Date)h=new Date(i),n.set(i,h);else if(i instanceof RegExp)h=new RegExp(i),n.set(i,h),h.lastIndex=i.lastIndex;else if(Li.JC(null,"",i))h=i;else if(s.st(i.copy))h=i.copy(),n.set(i,h);else{h={},n.set(i,h);for(const u in i){if(u==="__gohashid")continue;const m=i[u];h[u]=this.Cg(m,!1,n,a)}}}return h}zi(i){return JSON.stringify(i).replace(/[\u007F-\uFFFF]/g,e=>{const n="0000"+e.charCodeAt(0).toString(16);return"\\u"+n.substring(n.length-4)})}Lg(){let i="";return this.name!==""&&(i+=`,
  "name": `+this.zi(this.name)),this.dataFormat!==""&&(i+=`,
  "dataFormat": `+this.zi(this.dataFormat)),this.isReadOnly&&(i+=`,
  "isReadOnly": `+this.isReadOnly),this.nodeKeyProperty!=="key"&&typeof this.nodeKeyProperty=="string"&&(i+=`,
  "nodeKeyProperty": `+this.zi(this.nodeKeyProperty)),this.copiesArrays&&(i+=`,
  "copiesArrays": true`),this.copiesArrayObjects&&(i+=`,
  "copiesArrayObjects": true`),this.copiesKey&&(i+=`,
  "copiesKey": true`),this.pointsDigits!==100&&(i+=`,
  "pointsDigits": `+this.pointsDigits.toString()),this.nodeCategoryProperty!=="category"&&typeof this.nodeCategoryProperty=="string"&&(i+=`,
  "nodeCategoryProperty": `+this.zi(this.nodeCategoryProperty)),i}fw(i){i.name&&(this.name=i.name),i.dataFormat&&(this.dataFormat=i.dataFormat),i.isReadOnly&&(this.isReadOnly=!0),i.nodeKeyProperty&&(this.nodeKeyProperty=i.nodeKeyProperty),i.copiesArrays&&(this.copiesArrays=!0),i.copiesArrayObjects&&(this.copiesArrayObjects=!0),i.copiesKey!==void 0&&(this.copiesKey=i.copiesKey),i.pointsDigits!==void 0&&(this.pointsDigits=parseInt(i.pointsDigits)),i.nodeCategoryProperty&&(this.nodeCategoryProperty=i.nodeCategoryProperty)}Xv(){const i=this.modelData;return`,
  "modelData": `+this.Gv(i)}Yv(i){const e=i.modelData;s.$(e)&&(this.replaceJsonObjects(e),this.modelData=e)}$C(){const i=this.modelData;let e=!1;for(const a in i)if(!this.Fk(i,a,i[a])){e=!0;break}let n="";return e&&(n=this.Xv()),n+`,
  "nodeDataArray": `+this.Xa(this.nodeDataArray,!0)}ZC(i){this.Yv(i);const e=i.nodeDataArray;Array.isArray(e)&&(this.replaceJsonObjects(e),this.nodeDataArray=e)}QC(i,e,n){if(i===e)return!0;if(typeof i!=typeof e||s.st(i)||s.st(e))return!1;if(Array.isArray(i)&&Array.isArray(e)){if(n.get(i)===e)return!0;if(n.set(i,e),i.length!==e.length)return!1;for(let a=0;a<i.length;a++)if(!this.QC(i[a],e[a],n))return!1;return!0}else if(s.$(i)&&s.$(e)){if(n.get(i)===e)return!0;n.set(i,e);for(const a in i){const o=i[a];if(this.Fk(i,a,o))continue;const h=e[a];if(h===void 0||!this.QC(o,h,n))return!1}for(const a in e){const o=e[a];if(this.Fk(e,a,o))continue;const h=i[a];if(h===void 0||!this.QC(h,o,n))return!1}return!0}return!1}Bv(i){let e=new Q;const n=(a,o)=>{const h=o.part;if(!h)return;const u=h.data;if(a===u)return;let m=e.get(a);m===null?(m=new C,m.add(u),e.set(a,m)):m.add(u)};return i.changes.each(a=>{if(a.diagram!==null){const o=a.change;if(o===2){if(a.object!==null){const h=a.object.panel;if(h){const u=h.data;u&&n(u,h)}}}else if(o===3||o===4){const h=a.object,u=h.itemArray;u&&n(u,h)}}}),e}zv(i){const e=new C;for(let n=0;n<this.nodeDataArray.length;n++){const a=this.nodeDataArray[n];this.Rk(i,a,a,e)}return e}Rk(i,e,n,a){if(Array.isArray(e))for(let o=0;o<e.length;o++){const h=e[o];if(h===i)return a.add(n),!0;if(this.Rk(i,h,n,a))return!0}else if(s.$(e)&&Object.getPrototypeOf(e)===Object.prototype)for(const o in e){const h=e[o];if(h===i)return a.add(n),!0;if(this.Rk(i,h,n,a))return!0}return!1}_C(i,e,n){const a=this;let o=!1;const h=new C,u=new C,m=new C;i.changes.each(A=>{if(A.model===a){if(A.modelChange==="nodeDataArray")A.change===3?h.add(A.newValue):A.change===4&&m.add(A.oldValue);else if(a.containsNodeData(A.object))A.object!==null&&u.add(A.object);else if(A.change===2&&(a.modelData===A.object||A.propertyName==="modelData"))o=!0;else if(A.object!==null)if(n.has(A.object)){const M=n.get(A.object);M&&M.each(O=>{a.containsNodeData(O)&&u.add(O)})}else{if(A.object instanceof Li||a.Wh()&&a.containsLinkData(A.object))return;a.zv(A.object).each(M=>{u.add(M)})}}});const v=new C;h.each(A=>{const M=a.getKeyForNodeData(A);M!==void 0&&v.add(M),e||u.add(A)});const b=new C;m.each(A=>{const M=a.getKeyForNodeData(A);M!==void 0&&b.add(M),e&&u.add(A)});let S="";return o&&(S+=this.Xv()),v.count>0&&(S+=(e?Li.Hv:Li.Kv)+this.Xa(v.toArray(),!0)),u.count>0&&(S+=Li.l3+this.Xa(u.toArray(),!0)),b.count>0&&(S+=(e?Li.Kv:Li.Hv)+this.Xa(b.toArray(),!0)),S}uw(i){(i.name!==void 0&&i.name!==this.name||i.dataFormat!==void 0&&i.dataFormat!==this.dataFormat||i.isReadOnly!==void 0&&i.isReadOnly!==this.isReadOnly||i.nodeKeyProperty!==void 0&&i.nodeKeyProperty!==this.nodeKeyProperty||i.copiesArrays!==void 0&&i.copiesArrays!==this.copiesArrays||i.copiesArrayObjects!==void 0&&i.copiesArrayObjects!==this.copiesArrayObjects||i.copiesKey!==void 0&&i.copiesKey!==this.copiesKey||i.nodeCategoryProperty!==void 0&&i.nodeCategoryProperty!==this.nodeCategoryProperty)&&s.o("applyIncrementalJson cannot change Model properties"),this.Yv(i);const e=i.insertedNodeKeys,n=i.modifiedNodeData,a=new Q;if(Array.isArray(n))for(let h=0;h<n.length;h++){const u=n[h],m=this.getKeyForNodeData(u);m!=null&&a.set(m,u)}if(Array.isArray(e)){const h=e.length;for(let u=0;u<h;u++){const m=e[u];let v=this.findNodeDataForKey(m);v===null&&(v=a.get(m)||this.copyNodeData({}),v!==null&&(this.setKeyForNodeData(v,m),this.addNodeData(v)))}}if(Array.isArray(n)){const h=n.length;for(let u=0;u<h;u++){const m=n[u],v=this.getKeyForNodeData(m),b=this.findNodeDataForKey(v);if(b!==null){for(const S in m)S==="__gohashid"||S===this.nodeKeyProperty||(this.Um()||this.a1())&&S===this.nodeIsGroupProperty||this.setDataProperty(b,S,m[S]);this.Ag(m,b)}}}const o=i.removedNodeKeys;if(Array.isArray(o)){const h=o.length;for(let u=0;u<h;u++){const m=o[u],v=this.findNodeDataForKey(m);v!==null&&this.removeNodeData(v)}}}toIncrementalJson(i,e){i.change!==1&&s.o("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+i.toString());const n=i.object;if(!i.isTransactionFinished||!(n instanceof ft))return'{ "incremental": 0 }';e===void 0&&(e=s.Hn(this));const a=this.Bv(n),o=this._C(n,i.propertyName==="FinishedUndo",a);return'{ "class": '+this.zi(e)+', "incremental": 1'+this.Lg()+o+"}"}toIncrementalJSON(i,e){return this.toIncrementalJson(i,e)}toJson(i){return i===void 0&&(i=s.Hn(this)),'{ "class": '+this.zi(i)+this.Lg()+this.$C()+"}"}toJSON(i){return this.toJson(i)}applyIncrementalJson(i){let e=null;if(typeof i=="string")try{e=t.JSON.parse(i)}catch{}else s.$(i)?e=i:s.o("Unable to modify a Model from: "+i);const n=e.incremental;typeof n!="number"&&s.o("Unable to apply non-incremental changes to Model: "+i),n!==0&&(this.startTransaction("applyIncrementalJson"),this.uw(e),this.commitTransaction("applyIncrementalJson"))}applyIncrementalJSON(i){return this.applyIncrementalJson(i)}static fromJson(i,e){e===void 0&&(e=null),e!==null&&s.se(e,Li,Li,"fromJson:model");let n=null;if(typeof i=="string")try{n=t.JSON.parse(i)}catch{}else s.$(i)?n=i:s.o("Unable to construct a Model from: "+i);if(e===null){const a=Li.a3(n);a===null||a instanceof Li?e=a:s.o("Unable to construct a Model of declared class: "+n.class)}return e===null&&(e=Li.jv()),e.fw(n),e.ZC(n),e}static fromJSON(i,e){return this.fromJson(i,e)}static jv(){return new Li}static a3(i){let e=null,n=i.class;if(typeof n=="string")try{let a=null;n.indexOf("go.")===0?a=Li.tL(n.substring(3)):(a=Li.tL(n),a===null&&(a=t[n])),s.st(a)&&(e=new a)}catch{}return e}replaceJsonObjects(i){if(Array.isArray(i)){const e=i.length;for(let n=0;n<e;n++){const a=i[n];s.$(a)&&this.qv(i,n,this.replaceJsonObjects(a))}}else if(s.$(i)){for(const e in i){const n=i[e];if(s.$(n)){const a=this.replaceJsonObjects(n);i[e]=a,this.replaceJsonPropertyValue(i,e,a)}}return this.h3(i)}return i}replaceJsonPropertyValue(i,e,n){if(e==="points"&&Array.isArray(n)){let a=n.length%2===0;for(let o=0;o<n.length;o++)if(typeof n[o]!="number"){a=!1;break}if(a){const o=new w;for(let h=0;h<n.length/2;h++)o.add(new N(n[h*2],n[h*2+1]));i[e]=o}}}writeJsonValue(i){return i===void 0?"undefined":i===null?"null":i===!0?"true":i===!1?"false":typeof i=="string"?this.zi(i):typeof i=="number"?i===1/0?"9e9999":i===-1/0?"-9e9999":isNaN(i)?'{"class":"NaN"}':i.toString():i instanceof Boolean?this.writeJsonValue(i.valueOf()):i instanceof String?this.writeJsonValue(i.valueOf()):i instanceof Number?this.writeJsonValue(i.valueOf()):i instanceof Date?'{"class":"Date", "value":"'+i.toJSON()+'"}':Array.isArray(i)?this.Xa(i):s.$(i)?this.Gv(i):s.st(i)?"null":'"'+i.toString()+'"'}Xa(i,e){e===void 0&&(e=!1);const n=i.length;if(n<=0)return"[]";const a=new r;a.add("["),e&&n>1&&a.add(`
`);for(let o=0;o<n;o++){const h=i[o];h!==void 0&&(o>0&&(a.add(","),e&&a.add(`
`)),a.add(this.writeJsonValue(h)))}return e&&n>1&&a.add(`
`),a.add("]"),a.toString()}Fk(i,e,n){return!!(n===void 0||e==="__gohashid"||e[0]==="_"||s.st(n))}je(i){return isNaN(i)?"NaN":i===1/0?"9e9999":i===-1/0?"-9e9999":i}Gv(i){const e=i;if(e instanceof N)i={class:"go.Point",x:this.je(e.x),y:this.je(e.y)};else if(e instanceof X)i={class:"go.Size",width:this.je(e.width),height:this.je(e.height)};else if(e instanceof W)i={class:"go.Rect",x:this.je(e.x),y:this.je(e.y),width:this.je(e.width),height:this.je(e.height)};else if(e instanceof he)i={class:"go.Margin",top:this.je(e.top),right:this.je(e.right),bottom:this.je(e.bottom),left:this.je(e.left)};else if(e instanceof K)e.isSpot()?i={class:"go.Spot",x:this.je(e.x),y:this.je(e.y),offsetX:this.je(e.offsetX),offsetY:this.je(e.offsetY)}:i={class:"go.Spot",enum:e.toString()};else if(e instanceof Le){if(i={class:"go.Brush",type:Ee[e.type]},e.type===1?i.color=e.color:(e.type===2||e.type===3)&&(i.start=e.start,i.end=e.end,e.type===3&&(e.startRadius!==0&&(i.startRadius=this.je(e.startRadius)),isNaN(e.endRadius)||(i.endRadius=this.je(e.endRadius)))),e.colorStops!==null){const o={},h=e.colorStops.iterator;for(;h.next();){const u=h.key,m=h.value;o[u]=m}i.colorStops=o}}else if(e instanceof pe)i={class:"go.Geometry",type:oe[e.type]},e.startX!==0&&(i.startX=this.je(e.startX)),e.startY!==0&&(i.startY=this.je(e.startY)),e.endX!==0&&(i.endX=this.je(e.endX)),e.endY!==0&&(i.endY=this.je(e.endY)),e.spot1.equals(K.TopLeft)||(i.spot1=e.spot1),e.spot2.equals(K.BottomRight)||(i.spot2=e.spot2),e.type===4&&(i.path=pe.stringify(e));else if(Li.JC(null,"",e))return"{}";let n="{",a=!0;for(const o in i){const h=this.St(i,o);this.Fk(i,o,h)||(a?a=!1:n+=",",n+=this.zi(o)+":"+this.writeJsonPropertyValue(o,h))}return n+="}",n}writeJsonPropertyValue(i,e){if(i==="points"&&e instanceof w){const n=e;let a="[";const o=n.iterator;for(;o.next();){const h=o.value;a.length>1&&(a+=","),a+=this.Wv(h.x),a+=",",a+=this.Wv(h.y)}return a+="]",a}else return this.writeJsonValue(e)}Wv(i){if(i===1/0)return"9e9999";if(i===-1/0)return"-9e9999";if(isNaN(i))return"0";const e=this.pointsDigits;return e>16?i.toString():i.toFixed(e)}get pointsDigits(){return this.hw}set pointsDigits(i){i<0?i=0:i>100&&(i=100),this.hw=i}qe(i){return typeof i=="number"?i:i==="NaN"?NaN:i==="9e9999"?1/0:i==="-9e9999"?-1/0:parseFloat(i)}h3(i){if(!s.$(i))return i;let e=i.class||"";if(typeof e!="string"||e==="")return i;if(e==="NaN")return NaN;if(e==="Date")return new Date(i.value);if(e.indexOf("go.")!==0)return i;e=e.substring(3);let n=i;if(e==="Point")n=new N(this.qe(i.x),this.qe(i.y));else if(e==="Size")n=new X(this.qe(i.width),this.qe(i.height));else if(e==="Rect")n=new W(this.qe(i.x),this.qe(i.y),this.qe(i.width),this.qe(i.height));else if(e==="Margin")n=new he(this.qe(i.top),this.qe(i.right),this.qe(i.bottom),this.qe(i.left));else if(e==="Spot")typeof i.enum=="string"?n=K.parse(i.enum):n=new K(this.qe(i.x),this.qe(i.y),this.qe(i.offsetX),this.qe(i.offsetY));else if(e==="Brush"){const a=new Le;a.type=s.$a(Ee,i.type)??1,typeof i.color=="string"&&(a.color=i.color),i.start instanceof K&&(a.start=i.start),i.end instanceof K&&(a.end=i.end),typeof i.startRadius=="number"&&(a.startRadius=this.qe(i.startRadius)),typeof i.endRadius=="number"&&(a.endRadius=this.qe(i.endRadius));const o=i.colorStops;if(s.$(o))for(const h in o){const u=parseFloat(h);a.addColorStop(u,o[h])}n=a}else if(e==="Geometry"){let a=null;typeof i.path=="string"?a=pe.parse(i.path):a=new pe,a.type=s.$a(oe,i.type)??1,typeof i.startX=="number"&&(a.startX=this.qe(i.startX)),typeof i.startY=="number"&&(a.startY=this.qe(i.startY)),typeof i.endX=="number"&&(a.endX=this.qe(i.endX)),typeof i.endY=="number"&&(a.endY=this.qe(i.endY)),i.spot1 instanceof K&&(a.spot1=i.spot1),i.spot2 instanceof K&&(a.spot2=i.spot2),n=a}else if(e==="EnumValue"){let a=i.classType;a.indexOf("go.")===0&&(a=a.substring(3));const o=Li.tL(a);s.st(o)&&(n=s.$a(o,i.name))}return n}get name(){return this.Pt}set name(i){const e=this.Pt;e!==i&&(s.s(i,"string",Li,"name"),this.Pt=i,this.t("name",e,i))}get dataFormat(){return this.kg}set dataFormat(i){const e=this.kg;e!==i&&(s.s(i,"string",Li,"dataFormat"),this.kg=i,this.t("dataFormat",e,i))}get isReadOnly(){return this.zo}set isReadOnly(i){const e=this.zo;e!==i&&(s.s(i,"boolean",Li,"isReadOnly"),this.zo=i,this.t("isReadOnly",e,i))}get modelData(){return this.qC}set modelData(i){const e=this.modelData;e!==i&&(s.xc(i,Li,"modelData"),this.containsNodeData(i)&&s.o("Model.modelData Object must not be used by the rest of the model: "+i),this.qC=i,this.t("modelData",e,i),this.updateTargetBindings(i))}addChangedListener(i){return s.S(i,Li,"addChangedListener:listener"),this.cw.push(i),this}removeChangedListener(i){s.S(i,Li,"removeChangedListener:listener");const e=this.cw.indexOf(i);e>=0&&this.cw.splice(e,1)}T2(i){this.skipsUndoManager||this.undoManager.handleChanged(i),this.Jv(i)}Jv(i){this.cw.forEach(e=>e(i))}rR(i){this.Jv(i)}raiseChangedEvent(i,e,n,a,o,h,u){this.Ft("",i,e,n,a,o,h,u)}raiseChanged(i,e,n,a,o){this.Ft("",2,i,this,e,n,a,o)}t(i,e,n,a,o){this.Ft("",2,i,this,e,n,a,o)}raiseDataChanged(i,e,n,a,o,h){this.Ft("",2,e,i,n,a,o,h)}Ft(i,e,n,a,o,h,u,m){u===void 0&&(u=null),m===void 0&&(m=null);const v=new Ze;v.model=this,v.change=e,v.modelChange=i,v.propertyName=n,v.object=a,v.oldValue=o,v.oldParam=u,v.newValue=h,v.newParam=m,this.T2(v)}get undoManager(){return this.vk}set undoManager(i){const e=this.vk;e!==i&&(e&&e.removeModel(this),this.vk=i,i.addModel(this))}get skipsUndoManager(){return this.Bo}set skipsUndoManager(i){s.s(i,"boolean",Li,"skipsUndoManager"),this.Bo=i}changeState(i,e){if(i!==null&&i.model===this)if(i.change===2){const n=i.object,a=i.propertyName,o=i.getValue(e);if(n!==null&&a===this.nodeKeyProperty&&this.containsNodeData(n)){const h=i.getValue(!e);h!==void 0&&this.be.delete(h),o!==void 0&&this.be.set(o,n)}this.et(n,a,o)}else if(i.change===3){const n=i.newParam;if(i.modelChange==="nodeDataArray"){const a=i.newValue;if(s.$(a)&&typeof n=="number"){const o=this.getKeyForNodeData(a);e?(this.Bi[n]===a&&this.Co(this.Bi,n),o!==void 0&&this.be.delete(o)):(this.Bi[n]!==a&&this.ar(this.Bi,n,a),o!==void 0&&this.be.set(o,a))}}else if(i.modelChange===""){let a=i.object;if(a&&!Array.isArray(a)&&i.propertyName&&(a=this.St(a,i.propertyName)),Array.isArray(a)&&typeof n=="number"){const o=i.newValue;e?this.Co(a,n):this.ar(a,n,o)}}else s.o("unknown ChangeType.Insert modelChange: "+i.toString())}else if(i.change===4){const n=i.oldParam;if(i.modelChange==="nodeDataArray"){const a=i.oldValue;if(s.$(a)&&typeof n=="number"){const o=this.getKeyForNodeData(a);e?(this.Bi[n]!==a&&this.ar(this.Bi,n,a),o!==void 0&&this.be.set(o,a)):(this.Bi[n]===a&&this.Co(this.Bi,n),o!==void 0&&this.be.delete(o))}}else if(i.modelChange===""){let a=i.object;if(a&&!Array.isArray(a)&&i.propertyName&&(a=this.St(a,i.propertyName)),Array.isArray(a)&&typeof n=="number"){const o=i.oldValue;e?this.ar(a,n,o):this.Co(a,n)}}else s.o("unknown ChangeType.Remove modelChange: "+i.toString())}else i.change===1||s.o("unknown ChangedEvent: "+i.toString())}startTransaction(i){return this.undoManager.startTransaction(i)}commitTransaction(i){return this.undoManager.commitTransaction(i)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(i,e){let n=e;n===void 0&&(n="");const a=this.skipsUndoManager;n===null&&(this.skipsUndoManager=!0,n=""),this.undoManager.startTransaction(n);let o=!1;try{i(this),o=!0}finally{o?this.undoManager.commitTransaction(n):this.undoManager.rollbackTransaction(),this.skipsUndoManager=a}}updateTargetBindings(i,e){e===void 0&&(e=""),this.Ft("SourceChanged",1,e,i,null,null)}get nodeKeyProperty(){return this.za}set nodeKeyProperty(i){const e=this.za;e!==i&&(this.Un(i,Li,"nodeKeyProperty"),i===""&&s.o("Model.nodeKeyProperty may not be the empty string"),this.be.count>0&&s.o("Cannot set Model.nodeKeyProperty when there is existing node data"),this.za=i,this.t("nodeKeyProperty",e,i))}Un(i,e,n){}getKeyForNodeData(i){if(i===null)return;const e=this.za;if(e==="")return;const n=this.St(i,e);if(n!==void 0){if(this.isKeyType(n))return n;s.o("Key value for node data "+i+" is not a number or a string: "+n)}}setKeyForNodeData(i,e){if((e==null||!this.isKeyType(e))&&s.si(e,"number or string",Li,"setKeyForNodeData:key"),i===null)return;const n=this.za;if(n==="")return;if(!this.containsNodeData(i)){this.et(i,n,e);return}const a=this.St(i,n);if(a!==e){if(this.findNodeDataForKey(e)!==null)return;this.et(i,n,e),a!==void 0&&this.be.delete(a),this.be.set(e,i),this.Ft("nodeKey",2,n,i,a,e),typeof n=="string"&&this.updateTargetBindings(i,n),this.dw(a,e)}}get makeUniqueKeyFunction(){return this.Jf}set makeUniqueKeyFunction(i){const e=this.Jf;e!==i&&(i!==null&&s.S(i,Li,"makeUniqueKeyFunction"),this.Jf=i,this.t("makeUniqueKeyFunction",e,i))}isKeyType(i){return typeof i=="number"||typeof i=="string"}containsNodeData(i){if(i===null)return!1;const e=this.getKeyForNodeData(i);return e===void 0?!1:this.be.get(e)===i}findNodeDataForKey(i){return i===null&&s.o("Model.findNodeDataForKey:key must not be null"),i===void 0||!this.isKeyType(i)?null:this.be.get(i)}get nodeDataArray(){return this.Bi}set nodeDataArray(i){const e=this.Bi;if(e!==i){this.eL(i,Li,"nodeDataArray"),this.be.clear(),this.iL();const n=i.length;for(let h=0;h<n;h++){const u=i[h];s.$(u)||s.o("Model.nodeDataArray must only contain Objects, not: "+u),u===this.modelData&&s.o("nodeDataArray Objects must not be the shared Model.modelData")}this.Bi=i;const a=new w;for(let h=0;h<n;h++){const u=i[h],m=this.getKeyForNodeData(u);m===void 0||this.be.get(m)!==null?a.add(u):this.be.set(m,u)}const o=a.iterator;for(;o.next();){const h=o.value;this.makeNodeDataKeyUnique(h);const u=this.getKeyForNodeData(h);u!==void 0&&this.be.set(u,h)}this.Ft("nodeDataArray",2,"nodeDataArray",this,e,i);for(let h=0;h<n;h++){const u=i[h];this.Tg(u),this.Dg(u)}}}Ok(i){return i===void 0?!1:this.be.has(i)}makeNodeDataKeyUnique(i){if(i===null)return;const e=this.za;if(e==="")return;let n=this.getKeyForNodeData(i);if(n!==void 0&&!this.Ok(n))return;const a=this.Jf;if(a!==null&&(n=a(this,i),n!=null&&!this.Ok(n))){this.et(i,e,n);return}if(typeof n=="string"){let o=2;for(;this.Ok(n+o);)o++;this.et(i,e,n+o)}else if(n===void 0||typeof n=="number"){let o=-this.be.count-1;for(;this.Ok(o);)o--;this.et(i,e,o)}}addNodeData(i){i!==null&&(i===this.modelData&&s.o("Model.addNodeData cannot add the shared Model.modelData Object"),this.containsNodeData(i)||this.vv(i,!0))}vv(i,e){let n=this.getKeyForNodeData(i);if(n===void 0)this.makeNodeDataKeyUnique(i),n=this.getKeyForNodeData(i);else{if(this.be.get(n)===i)return;this.makeNodeDataKeyUnique(i),n=this.getKeyForNodeData(i)}n===void 0&&s.o("Model.makeNodeDataKeyUnique failed on "+i+".  Data not added to Model."),this.be.set(n,i);let a=null;e&&(a=this.Bi.length,this.ar(this.Bi,a,i)),this.Ft("nodeDataArray",3,"nodeDataArray",this,null,i,null,a),this.Tg(i),this.Dg(i)}addNodeDataCollection(i){if(Array.isArray(i)){const e=i.length;for(let n=0;n<e;n++)this.addNodeData(i[n])}else{const e=i.iterator;for(;e.next();){const n=e.value;this.addNodeData(n)}}}removeNodeData(i){i!==null&&this.Dv(i,!0)}Dv(i,e){const n=this.getKeyForNodeData(i);n!==void 0&&this.be.delete(n);let a=null;if(e){if(a=this.Bi.indexOf(i),a<0)return;this.Co(this.Bi,a)}this.Ft("nodeDataArray",4,"nodeDataArray",this,i,null,a,null),this.gw(i)}removeNodeDataCollection(i){if(Array.isArray(i)){const e=i.length;for(let n=0;n<e;n++)this.removeNodeData(i[n])}else{const e=i.iterator;for(;e.next();){const n=e.value;this.removeNodeData(n)}}}mergeNodeDataArray(i){if(i===this.nodeDataArray||!Array.isArray(i))return;const e=new C;e.addAll(this.be.iteratorKeys);const n=new C,a=i.length;for(let h=0;h<a;h++){const u=i[h],m=this.getKeyForNodeData(u);if(m!==void 0){n.add(m);const v=this.findNodeDataForKey(m);if(v===u)continue;if(v!==null)this.assignAllDataProperties(v,u),this.Ag(u,v);else{const b=this.cloneDeep(u);this.setKeyForNodeData(b,m),this.addNodeData(b)}}else{const v=this.cloneDeep(u);this.addNodeData(v);const b=this.getKeyForNodeData(v);b!==void 0&&n.add(b)}}const o=e.iterator;for(;o.next();){const h=o.value;if(!n.has(h)){const u=this.findNodeDataForKey(h);u&&this.removeNodeData(u)}}}dw(i,e){if(e===void 0)return;const n=this.lw(i);n instanceof C&&this.lr.set(e,n)}iL(){}Tg(i){}Dg(i){}gw(i){}hn(i,e){if(i===void 0)return;let n=this.lr.get(i);n===null&&(n=new C,this.lr.set(i,n)),n.add(e)}an(i,e){if(i===void 0)return;const n=this.lr.get(i);n instanceof C&&(e==null?this.lr.delete(i):(n.delete(e),n.count===0&&this.lr.delete(i)))}lw(i){if(i===void 0)return null;const e=this.lr.get(i);return e instanceof C?e:null}GU(i){i===void 0?this.lr.clear():this.lr.delete(i)}get copyNodeDataFunction(){return this.$f}set copyNodeDataFunction(i){const e=this.$f;e!==i&&(i!==null&&s.S(i,Li,"copyNodeDataFunction"),this.$f=i,this.t("copyNodeDataFunction",e,i))}get copiesArrays(){return this.Pg}set copiesArrays(i){const e=this.Pg;e!==i&&(i!==null&&s.s(i,"boolean",Li,"copiesArrays"),this.Pg=i,this.t("copiesArrays",e,i))}get copiesArrayObjects(){return this.Sg}set copiesArrayObjects(i){const e=this.Sg;e!==i&&(i!==null&&s.s(i,"boolean",Li,"copiesArrayObjects"),this.Sg=i,this.t("copiesArrayObjects",e,i))}get copiesKey(){return this.Mg}set copiesKey(i){const e=this.Mg;e!==i&&(i!==null&&s.s(i,"boolean",Li,"copiesKey"),this.Mg=i,this.t("copiesKey",e,i))}copyNodeData(i){let e=null;const n=this.$f;return n!==null?e=n(i,this):e=this.Ik(i,!0),e}Ik(i,e){if(s.$(i))if(Array.isArray(i))if(this.copiesArrays){const n=i,a=[];for(let o=0;o<n.length;o++){const h=n[o],u=this.Ik(h,this.copiesArrayObjects);a.push(u)}return a}else return i;else{if(i instanceof N||i instanceof X||i instanceof W||i instanceof he||i instanceof K)return i.copy();if(e){const n=i,a=n.constructor,o=a?new a:{},h=!this.copiesKey&&typeof this.nodeKeyProperty=="string"?this.nodeKeyProperty:null;for(const u in n){if(u==="__gohashid"){o.__gohashid=void 0;continue}if(u===h){o[h]=void 0;continue}const m=this.St(n,u);if(!s.$(m))o[u]=m;else if(Li.JC(n,u,m))this.et(o,u,m);else{const v=this.Ik(m,!1);this.et(o,u,v)}}return o}else return i}else return i}get afterCopyFunction(){return this.Ng}set afterCopyFunction(i){const e=this.Ng;e!==i&&(i!==null&&s.S(i,Li,"afterCopyFunction"),this.Ng=i,this.t("afterCopyFunction",e,i))}static JC(i,e,n){const a=s.Hn(n);return n instanceof Li||n instanceof Je||n instanceof ft||n instanceof Ze||n instanceof oi||n instanceof be||n instanceof Ft||n instanceof EventTarget||a==="Layer"||a==="RowColumnDefinition"||a.indexOf("Animation")>=0||a.indexOf("Tool")>=0||a.indexOf("CommandHandler")>=0||a.indexOf("Layout")>=0}setDataProperty(i,e,n){if(this.containsNodeData(i)){if(e===this.nodeKeyProperty){this.setKeyForNodeData(i,n);return}else if(e===this.nodeCategoryProperty){this.setCategoryForNodeData(i,n);return}}else!Li.$v&&i instanceof oi&&(Li.$v=!0,s.ne('Model.setDataProperty is modifying a GraphObject, "'+i.toString()+'"'),s.ne("  Is that really your intent?"));const a=this.St(i,e);a!==n&&(this.et(i,e,n),this.raiseDataChanged(i,e,a,n))}set(i,e,n){this.setDataProperty(i,e,n)}assignAllDataProperties(i,e){if(!e)return;const n=this.containsNodeData(i);for(const a in e)a!=="__gohashid"&&(n&&a===this.nodeKeyProperty||this.setDataProperty(i,a,e[a]))}addArrayItem(i,e){this.insertArrayItem(i,-1,e)}insertArrayItem(i,e,n){e<0&&(e=i.length),i=this.ar(i,e,n),this.Ft("",3,"",i,null,n,null,e)}removeArrayItem(i,e){e===void 0&&(e=-1),i===this.Bi&&s.o("Model.removeArrayItem should not be called on the Model.nodeDataArray"),e===-1&&(e=i.length-1);const n=i[e];i=this.Co(i,e),this.Ft("",4,"",i,n,null,e,null)}get nodeCategoryProperty(){return this.lc}set nodeCategoryProperty(i){const e=this.lc;e!==i&&(this.Un(i,Li,"nodeCategoryProperty"),this.lc=i,this.t("nodeCategoryProperty",e,i))}getCategoryForNodeData(i){if(i===null)return"";const e=this.lc;if(e==="")return"";const n=this.St(i,e);if(n===void 0)return"";if(typeof n=="string")return n;s.o("getCategoryForNodeData found a non-string category for "+i+": "+n)}setCategoryForNodeData(i,e){if(s.s(e,"string",Li,"setCategoryForNodeData:cat"),i===null)return;const n=this.lc;if(n==="")return;if(!this.containsNodeData(i)){this.et(i,n,e);return}let a=this.St(i,n);a===void 0&&(a=""),a!==e&&(this.et(i,n,e),this.Ft("nodeCategory",2,n,i,a,e))}Ag(i,e){this.setCategoryForNodeData(e,this.getCategoryForNodeData(i))}get type(){return"Model"}Vm(){return!1}Um(){return!1}a1(){return!1}Wh(){return!1}Ax(){return!1}uf(){return!1}static m2(){return new Li}St(i,e){return Li.St(i,e)}static St(i,e){if(!i||!e)return null;let n;try{s.st(e)?n=e(i):s.st(i.getAttribute)?(n=i.getAttribute(e),n===null&&(n=void 0)):n=i[e]}catch{}return n}et(i,e,n){Li.et(i,e,n)}static et(i,e,n){if(!(!i||!e)){try{s.st(e)?e(i,n):s.st(i.setAttribute)?i.setAttribute(e,n):i[e]=n}catch{}return i}}eL(i,e,n){}qv(i,e,n){return i[e]=n,i}ar(i,e,n){return e>=i.length?i.push(n):i.splice(e,0,n),i}Co(i,e){return e>=i.length?i.pop():i.splice(e,1),i}static tL(i){return Li.sL[i]?Li.sL[i]:t.go!==void 0&&t.go[i]?t.go[i]:null}static Sl(i,e){Li.sL[e]=i}};let Ki=Li;E(Ki,"Kv",`,
  "insertedNodeKeys": `),E(Ki,"l3",`,
  "modifiedNodeData": `),E(Ki,"Hv",`,
  "removedNodeKeys": `),E(Ki,"$v",!1),E(Ki,"sL",{}),Ki.fromJSON=Ki.fromJson=Ki.fromJson,Ki.Sl(Le,"Brush"),Ki.Sl(pe,"Geometry"),Ki.Sl(he,"Margin"),Ki.Sl(N,"Point"),Ki.Sl(W,"Rect"),Ki.Sl(X,"Size"),Ki.Sl(K,"Spot"),Ki.Sl(Ki,"Model");const Zn=class extends Ki{constructor(e,n,a){super();E(this,"Is");E(this,"hr");E(this,"Oe");E(this,"Ga");E(this,"Zf");E(this,"Qf");E(this,"Vl");E(this,"Lo");E(this,"Ao");E(this,"ac");E(this,"hc");E(this,"cc");E(this,"cn");E(this,"_f");E(this,"Vn");E(this,"vg");E(this,"Qv",`,
  "insertedLinkKeys": `);E(this,"c3",`,
  "modifiedLinkData": `);E(this,"_v",`,
  "removedLinkKeys": `);if(this.Is=[],this.hr=new C,this.Oe=new Q,this.Ga="",this.Zf=null,this.Qf=null,this.Vl=null,this.Lo="from",this.Ao="to",this.ac="",this.hc="",this.cc="category",this.cn="",this._f="isGroup",this.Vn="group",this.vg=!1,n!==void 0&&(this.linkDataArray=n),e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:a=e),a){Object.assign(this,a);const o=a.Changed;o&&(delete this.Changed,this.addChangedListener(o))}}cloneProtected(e){super.cloneProtected(e),e.Ga=this.Ga,e.Zf=this.Zf,e.Qf=this.Qf,e.Lo=this.Lo,e.Ao=this.Ao,e.ac=this.ac,e.hc=this.hc,e.cc=this.cc,e.cn=this.cn,e._f=this._f,e.Vn=this.Vn,e.vg=this.vg}clear(){this.Is=[],this.Oe.clear(),this.hr.clear(),super.clear()}toString(e){if(e===void 0&&(e=0),e>=2)return this.toJson();{let n=(this.name!==""?this.name:"")+" GraphLinksModel";if(e>0){n+=`
 node data:`;let a=this.nodeDataArray,o=a.length,h=0;for(h=0;h<o;h++){const u=a[h];n+=" "+this.getKeyForNodeData(u)+":"+so.toString(u)}for(n+=`
 link data:`,a=this.linkDataArray,o=a.length,h=0;h<o;h++){const u=a[h];n+=" "+this.Vi(u,!0)+"-->"+this.Vi(u,!1)}}return n}}WC(e,n,a){if(this.linkKeyProperty===""){const M=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=M}let o=super.WC(e,n,a);const h=this,u=new C,m=new C,v=new C;e.changes.each(M=>{if(M.model===h){if(M.modelChange==="linkDataArray")M.change===3?u.add(M.newValue):M.change===4&&v.add(M.oldValue);else if(h.containsLinkData(M.object))M.object!==null&&m.add(M.object);else if(M.object!==null)if(M.object!==null&&a.has(M.object)){const O=a.get(M.object);O&&O.each(R=>{h.containsLinkData(R)&&m.add(R)})}else{if(M.object instanceof Ki||h.containsNodeData(M.object))return;h.Zv(M.object).each(O=>m.add(O))}}});const b=new C;u.each(M=>{const O=h.getKeyForLinkData(M);O!==void 0&&b.add(O),n||m.add(M)});const S=new C;v.each(M=>{const O=h.getKeyForLinkData(M);O!==void 0&&S.add(O),n&&m.add(M)});const A=h.cloneDeep(m.toArray());return b.count>0&&(o===null&&(o={}),n?o.removedLinkKeys=b.toArray():o.insertedLinkKeys=b.toArray()),A.length>0&&(o===null&&(o={}),o.modifiedLinkData=A),S.count>0&&(o===null&&(o={}),n?o.insertedLinkKeys=S.toArray():o.removedLinkKeys=S.toArray()),o}Lg(){const e=super.Lg();let n="";return this.linkCategoryProperty!=="category"&&typeof this.linkCategoryProperty=="string"&&(n+=`,
  "linkCategoryProperty": `+this.zi(this.linkCategoryProperty)),this.linkKeyProperty!==""&&typeof this.linkKeyProperty=="string"&&(n+=`,
  "linkKeyProperty": `+this.zi(this.linkKeyProperty)),this.linkFromKeyProperty!=="from"&&typeof this.linkFromKeyProperty=="string"&&(n+=`,
  "linkFromKeyProperty": `+this.zi(this.linkFromKeyProperty)),this.linkToKeyProperty!=="to"&&typeof this.linkToKeyProperty=="string"&&(n+=`,
  "linkToKeyProperty": `+this.zi(this.linkToKeyProperty)),this.linkFromPortIdProperty!==""&&typeof this.linkFromPortIdProperty=="string"&&(n+=`,
  "linkFromPortIdProperty": `+this.zi(this.linkFromPortIdProperty)),this.linkToPortIdProperty!==""&&typeof this.linkToPortIdProperty=="string"&&(n+=`,
  "linkToPortIdProperty": `+this.zi(this.linkToPortIdProperty)),this.linkLabelKeysProperty!==""&&typeof this.linkLabelKeysProperty=="string"&&(n+=`,
  "linkLabelKeysProperty": `+this.zi(this.linkLabelKeysProperty)),this.nodeIsGroupProperty!=="isGroup"&&typeof this.nodeIsGroupProperty=="string"&&(n+=`,
  "nodeIsGroupProperty": `+this.zi(this.nodeIsGroupProperty)),this.nodeGroupKeyProperty!=="group"&&typeof this.nodeGroupKeyProperty=="string"&&(n+=`,
  "nodeGroupKeyProperty": `+this.zi(this.nodeGroupKeyProperty)),e+n}fw(e){super.fw(e),e.linkKeyProperty&&(this.linkKeyProperty=e.linkKeyProperty),e.linkFromKeyProperty&&(this.linkFromKeyProperty=e.linkFromKeyProperty),e.linkToKeyProperty&&(this.linkToKeyProperty=e.linkToKeyProperty),e.linkFromPortIdProperty&&(this.linkFromPortIdProperty=e.linkFromPortIdProperty),e.linkToPortIdProperty&&(this.linkToPortIdProperty=e.linkToPortIdProperty),e.linkCategoryProperty&&(this.linkCategoryProperty=e.linkCategoryProperty),e.linkLabelKeysProperty&&(this.linkLabelKeysProperty=e.linkLabelKeysProperty),e.nodeIsGroupProperty&&(this.nodeIsGroupProperty=e.nodeIsGroupProperty),e.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=e.nodeGroupKeyProperty)}$C(){const e=super.$C(),n=`,
  "linkDataArray": `+this.Xa(this.linkDataArray,!0);return e+n}ZC(e){super.ZC(e);const n=e.linkDataArray;Array.isArray(n)&&(this.replaceJsonObjects(n),this.linkDataArray=n)}Zv(e){const n=new C;for(let a=0;a<this.linkDataArray.length;a++){const o=this.linkDataArray[a];this.Rk(e,o,o,n)}return n}_C(e,n,a){if(this.linkKeyProperty===""){const M=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=M}const o=super._C(e,n,a),h=this,u=new C,m=new C,v=new C;e.changes.each(M=>{if(M.model===h){if(M.modelChange==="linkDataArray")M.change===3?u.add(M.newValue):M.change===4&&v.add(M.oldValue);else if(h.containsLinkData(M.object))M.object!==null&&m.add(M.object);else if(M.object!==null)if(M.object!==null&&a.has(M.object)){const O=a.get(M.object);O&&O.each(R=>{h.containsLinkData(R)&&m.add(R)})}else{if(M.object instanceof Ki||h.containsNodeData(M.object))return;h.Zv(M.object).each(O=>m.add(O))}}});const b=new C;u.each(M=>{const O=h.getKeyForLinkData(M);O!==void 0&&b.add(O),n||m.add(M)});const S=new C;v.each(M=>{const O=h.getKeyForLinkData(M);O!==void 0&&S.add(O),n&&m.add(M)});let A=o;return b.count>0&&(A+=(n?this._v:this.Qv)+this.Xa(b.toArray(),!0)),m.count>0&&(A+=this.c3+this.Xa(m.toArray(),!0)),S.count>0&&(A+=(n?this.Qv:this._v)+this.Xa(S.toArray(),!0)),A}uw(e){(e.linkCategoryProperty!==void 0&&e.linkCategoryProperty!==this.linkCategoryProperty||e.linkKeyProperty!==void 0&&e.linkKeyProperty!==this.linkKeyProperty||e.linkFromKeyProperty!==void 0&&e.linkFromKeyProperty!==this.linkFromKeyProperty||e.linkToKeyProperty!==void 0&&e.linkToKeyProperty!==this.linkToKeyProperty||e.linkFromPortIdProperty!==void 0&&e.linkFromPortIdProperty!==this.linkFromPortIdProperty||e.linkToPortIdProperty!==void 0&&e.linkToPortIdProperty!==this.linkToPortIdProperty||e.linkLabelKeysProperty!==void 0&&e.linkLabelKeysProperty!==this.linkLabelKeysProperty||e.nodeIsGroupProperty!==void 0&&e.nodeIsGroupProperty!==this.nodeIsGroupProperty||e.nodeGroupKeyProperty!==void 0&&e.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&s.o("applyIncrementalJson cannot change Model properties"),super.uw(e);const n=e.insertedLinkKeys;if(Array.isArray(n)){const h=n.length;for(let u=0;u<h;u++){const m=n[u];let v=this.findLinkDataForKey(m);v===null&&(v=this.copyLinkData({}),this.setKeyForLinkData(v,m),this.addLinkData(v))}}const a=e.modifiedLinkData;if(Array.isArray(a)){const h=a.length;for(let u=0;u<h;u++){const m=a[u],v=this.getKeyForLinkData(m),b=this.findLinkDataForKey(v);if(b!==null){for(const S in m)S==="__gohashid"||S===this.linkKeyProperty||this.setDataProperty(b,S,m[S]);this.tF(m,b)}}}const o=e.removedLinkKeys;if(Array.isArray(o)){const h=o.length;for(let u=0;u<h;u++){const m=o[u],v=this.findLinkDataForKey(m);v!==null&&this.removeLinkData(v)}}}changeState(e,n){if(!(e===null||e.model!==this)){if(e.change===2){const a=e.object,o=e.propertyName;if(a!==null&&o===this.linkKeyProperty&&this.containsLinkData(a)){const h=e.getValue(n),u=e.getValue(!n);u!==void 0&&this.Oe.delete(u),h!==void 0&&this.Oe.set(h,a),this.et(a,o,h);return}}else if(e.change===3){let a=e.newParam;if(e.modelChange==="linkDataArray"){const o=e.newValue;if(s.$(o)&&typeof a=="number"){const h=this.getKeyForLinkData(o);n?(this.hr.delete(o),this.Is[a]===o&&this.Co(this.linkDataArray,a),h!==void 0&&this.Oe.delete(h)):(this.hr.add(o),this.Is[a]!==o&&this.ar(this.Is,a,o),h!==void 0&&this.Oe.set(h,o))}return}else if(e.modelChange==="linkLabelKeys"){const o=e.object,h=o!==null?this.getLabelKeysForLinkData(o):null;Array.isArray(h)&&typeof a=="number"&&(n?(a=h.indexOf(e.newValue),a>=0&&this.Co(h,a)):h.indexOf(e.newValue)<0&&this.ar(h,a,e.newValue));return}}else if(e.change===4){let a=e.oldParam;if(e.modelChange==="linkDataArray"){const o=e.oldValue;if(s.$(o)&&typeof a=="number"){const h=this.getKeyForLinkData(o);n?(this.hr.add(o),this.Is[a]!==o&&this.ar(this.Is,a,o),h!==void 0&&this.Oe.set(h,o)):(this.hr.delete(o),this.Is[a]===o&&this.Co(this.linkDataArray,a),h!==void 0&&this.Oe.delete(h))}return}else if(e.modelChange==="linkLabelKeys"){const o=e.object,h=o!==null?this.getLabelKeysForLinkData(o):null;Array.isArray(h)&&typeof a=="number"&&(n?h.indexOf(e.oldValue)<0&&this.ar(h,a,e.oldValue):(a=h.indexOf(e.oldValue),a>=0&&this.Co(h,a)));return}}super.changeState(e,n)}}get archetypeNodeData(){return this.Vl}set archetypeNodeData(e){const n=this.Vl;n!==e&&(e!==null&&s.xc(e,Zn,"archetypeNodeData"),this.Vl=e,this.t("archetypeNodeData",n,e))}nL(e){if(e===void 0)return;const n=this.Vl;if(n!==null){let a=this.findNodeDataForKey(e);a===null&&(a=this.copyNodeData(n),this.et(a,this.nodeKeyProperty,e),this.addNodeData(a))}return e}get linkFromKeyProperty(){return this.Lo}set linkFromKeyProperty(e){const n=this.Lo;n!==e&&(this.Un(e,Zn,"linkFromKeyProperty"),this.Lo=e,this.t("linkFromKeyProperty",n,e))}getFromKeyForLinkData(e){return this.Vi(e,!0)}setFromKeyForLinkData(e,n){this.xg(e,n,!0)}get linkToKeyProperty(){return this.Ao}set linkToKeyProperty(e){const n=this.Ao;n!==e&&(this.Un(e,Zn,"linkToKeyProperty"),this.Ao=e,this.t("linkToKeyProperty",n,e))}getToKeyForLinkData(e){return this.Vi(e,!1)}setToKeyForLinkData(e,n){this.xg(e,n,!1)}Vi(e,n){if(e===null)return;const a=n?this.Lo:this.Ao;if(a==="")return;const o=this.St(e,a);if(o!==void 0){if(this.isKeyType(o))return o;s.o((n?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+o)}}xg(e,n,a){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&s.si(n,"number or string",Zn,a?"setFromKeyForLinkData:key":"setToKeyForLinkData:key"),e===null)return;const o=a?this.Lo:this.Ao;if(o==="")return;if(n=this.nL(n),!this.containsLinkData(e)){this.et(e,o,n);return}const h=this.St(e,o);h!==n&&(this.an(h,e),this.et(e,o,n),this.findNodeDataForKey(n)===null&&this.hn(n,e),this.Ft(a?"linkFromKey":"linkToKey",2,o,e,h,n),typeof o=="string"&&this.updateTargetBindings(e,o))}get linkFromPortIdProperty(){return this.ac}set linkFromPortIdProperty(e){const n=this.ac;n!==e&&(this.Un(e,Zn,"linkFromPortIdProperty"),this.ac=e,this.t("linkFromPortIdProperty",n,e))}getFromPortIdForLinkData(e){return this.Ak(e,!0)}setFromPortIdForLinkData(e,n){this.bg(e,n,!0)}get linkToPortIdProperty(){return this.hc}set linkToPortIdProperty(e){const n=this.hc;n!==e&&(this.Un(e,Zn,"linkToPortIdProperty"),this.hc=e,this.t("linkToPortIdProperty",n,e))}getToPortIdForLinkData(e){return this.Ak(e,!1)}setToPortIdForLinkData(e,n){this.bg(e,n,!1)}Ak(e,n){if(e===null)return"";const a=n?this.ac:this.hc;if(a==="")return"";const o=this.St(e,a);return o===void 0?"":o}bg(e,n,a){if(e===null)return;const o=a?this.ac:this.hc;if(o==="")return;if(!this.containsLinkData(e)){this.et(e,o,n);return}let h=this.St(e,o);h===void 0&&(h=""),h!==n&&(this.et(e,o,n),this.Ft(a?"linkFromPortId":"linkToPortId",2,o,e,h,n),typeof o=="string"&&this.updateTargetBindings(e,o))}get linkLabelKeysProperty(){return this.cn}set linkLabelKeysProperty(e){const n=this.cn;n!==e&&(this.Un(e,Zn,"linkLabelKeysProperty"),this.cn=e,this.t("linkLabelKeysProperty",n,e))}getLabelKeysForLinkData(e){if(e===null)return Zn.EmptyArray;const n=this.cn;if(n==="")return Zn.EmptyArray;const a=this.St(e,n);return a===void 0?Zn.EmptyArray:a}setLabelKeysForLinkData(e,n){if(this.eL(n,Zn,"setLabelKeysForLinkData:arr"),e===null)return;const a=this.cn;if(a==="")return;if(!this.containsLinkData(e)){this.et(e,a,n);return}let o=this.St(e,a);if(o===void 0&&(o=Zn.EmptyArray),o!==n){if(Array.isArray(o)){const u=o.length;for(let m=0;m<u;m++){const v=o[m];this.an(v,e)}}this.et(e,a,n);const h=n.length;for(let u=0;u<h;u++){const m=n[u];this.findNodeDataForKey(m)===null&&this.hn(m,e)}this.Ft("linkLabelKeys",2,a,e,o,n),typeof a=="string"&&this.updateTargetBindings(e,a)}}addLabelKeyForLinkData(e,n){if(n==null||(this.isKeyType(n)||s.si(n,"number or string",Zn,"addLabelKeyForLinkData:key"),e===null))return;const a=this.cn;if(a==="")return;const o=this.St(e,a);if(o===void 0){const h=[];h.push(n),this.setLabelKeysForLinkData(e,h)}else if(Array.isArray(o)){let h=o.indexOf(n);if(h>=0)return;h=o.length,o.push(n),this.containsLinkData(e)&&(this.findNodeDataForKey(n)===null&&this.hn(n,e),this.Ft("linkLabelKeys",3,a,e,null,n,null,h))}else s.o(a+" property is not an Array; cannot addLabelKeyForLinkData: "+e)}removeLabelKeyForLinkData(e,n){if(n==null||(this.isKeyType(n)||s.si(n,"number or string",Zn,"removeLabelKeyForLinkData:key"),e===null))return;const a=this.cn;if(a==="")return;const o=this.St(e,a);if(Array.isArray(o)){const h=o.indexOf(n);if(h<0)return;this.Co(o,h),this.containsLinkData(e)&&(this.an(n,e),this.Ft("linkLabelKeys",4,a,e,n,null,h,null))}else o!==void 0&&s.o(a+" property is not an Array; cannot removeLabelKeyforLinkData: "+e)}get linkDataArray(){return this.Is}set linkDataArray(e){const n=this.Is;if(n!==e){this.eL(e,Zn,"linkDataArray"),this.Oe.clear();const a=e.length;for(let h=0;h<a;h++){const u=e[h];s.$(u)||s.o("GraphLinksModel.linkDataArray must only contain Objects, not: "+u)}if(this.Is=e,this.linkKeyProperty!==""){const h=new w;for(let m=0;m<a;m++){const v=e[m],b=this.getKeyForLinkData(v);b===void 0||this.Oe.get(b)!==null?h.add(v):this.Oe.set(b,v)}const u=h.iterator;for(;u.next();){const m=u.value;this.makeLinkDataKeyUnique(m);const v=this.getKeyForLinkData(m);v!==void 0&&this.Oe.set(v,m)}}const o=new C;for(let h=0;h<a;h++){const u=e[h];o.add(u)}this.hr=o,this.Ft("linkDataArray",2,"linkDataArray",this,n,e);for(let h=0;h<a;h++){const u=e[h];this.oL(u)}}}get linkKeyProperty(){return this.Ga}set linkKeyProperty(e){const n=this.Ga;if(n!==e){this.Un(e,Zn,"linkKeyProperty"),this.Ga=e,this.Oe.clear();const a=this.linkDataArray.length;for(let o=0;o<a;o++){const h=this.linkDataArray[o];let u=this.getKeyForLinkData(h);u===void 0&&(this.makeLinkDataKeyUnique(h),u=this.getKeyForLinkData(h)),u!==void 0&&this.Oe.set(u,h)}this.t("linkKeyProperty",n,e)}}getKeyForLinkData(e){if(e===null)return;const n=this.Ga;if(n==="")return;const a=this.St(e,n);if(a!==void 0){if(this.isKeyType(a))return a;s.o("Key value for link data "+e+" is not a number or a string: "+a)}}setKeyForLinkData(e,n){if((n==null||!this.isKeyType(n))&&s.si(n,"number or string",Zn,"setKeyForLinkData:key"),e===null)return;const a=this.Ga;if(a==="")return;if(!this.containsLinkData(e)){this.et(e,a,n);return}const o=this.St(e,a);if(o!==n){if(this.findLinkDataForKey(n)!==null)return;this.et(e,a,n),o!==void 0&&this.Oe.delete(o),this.Oe.set(n,e),this.Ft("linkKey",2,a,e,o,n),typeof a=="string"&&this.updateTargetBindings(e,a)}}get makeUniqueLinkKeyFunction(){return this.Zf}set makeUniqueLinkKeyFunction(e){const n=this.Zf;n!==e&&(this.Zf=e,this.t("makeUniqueLinkKeyFunction",n,e))}findLinkDataForKey(e){return e===null&&s.o("GraphLinksModel.findLinkDataForKey:key must not be null"),e===void 0||!this.isKeyType(e)?null:this.Oe.get(e)}Ek(e){return e===void 0?!1:this.Oe.has(e)}makeLinkDataKeyUnique(e){if(e===null)return;const n=this.Ga;if(n==="")return;let a=this.getKeyForLinkData(e);if(a!==void 0&&!this.Ek(a))return;const o=this.Zf;if(o!==null&&(a=o(this,e),a!=null&&!this.Ek(a))){this.et(e,n,a);return}if(typeof a=="string"){let h=2;for(;this.Ek(a+h);)h++;this.et(e,n,a+h)}else if(a===void 0||typeof a=="number"){let h=-this.Oe.count-1;for(;this.Ek(h);)h--;this.et(e,n,h)}}containsLinkData(e){return e===null?!1:this.hr.has(e)}addLinkData(e){e!==null&&(this.containsLinkData(e)||this.Uv(e,!0))}Uv(e,n){if(this.linkKeyProperty!==""){let o=this.getKeyForLinkData(e);if(o===void 0)this.makeLinkDataKeyUnique(e),o=this.getKeyForLinkData(e);else{if(this.Oe.get(o)===e)return;this.makeLinkDataKeyUnique(e),o=this.getKeyForLinkData(e)}o===void 0&&s.o("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model."),this.Oe.set(o,e)}this.hr.add(e);let a=null;n&&(a=this.Is.length,this.ar(this.Is,a,e)),this.Ft("linkDataArray",3,"linkDataArray",this,null,e,null,a),this.oL(e)}addLinkDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let a=0;a<n;a++)this.addLinkData(e[a])}else{const n=e.iterator;for(;n.next();){const a=n.value;this.addLinkData(a)}}}removeLinkData(e){e!==null&&this.Ev(e,!0)}Ev(e,n){this.hr.delete(e);const a=this.getKeyForLinkData(e);a!==void 0&&this.Oe.delete(a);let o=null;if(n){if(o=this.Is.indexOf(e),o<0)return;this.Co(this.Is,o)}this.Ft("linkDataArray",4,"linkDataArray",this,e,null,o,null),this.f3(e)}removeLinkDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let a=0;a<n;a++)this.removeLinkData(e[a])}else{const n=e.iterator;for(;n.next();){const a=n.value;this.removeLinkData(a)}}}mergeLinkDataArray(e){if(this.linkKeyProperty===""&&s.o("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),e===this.linkDataArray||!Array.isArray(e))return;const n=new C;n.addAll(this.Oe.iteratorKeys);const a=new C,o=e.length;for(let u=0;u<o;u++){const m=e[u],v=this.getKeyForLinkData(m);if(v!==void 0){a.add(v);const b=this.findLinkDataForKey(v);if(b===m)continue;if(b!==null)this.assignAllDataProperties(b,m),this.tF(m,b);else{const S=this.cloneDeep(m);this.setKeyForLinkData(S,v),this.addLinkData(S)}}else{const b=this.cloneDeep(m);this.addLinkData(b);const S=this.getKeyForLinkData(b);S!==void 0&&a.add(S)}}const h=n.iterator;for(;h.next();){const u=h.value;if(!a.has(u)){const m=this.findLinkDataForKey(u);m&&this.removeLinkData(m)}}}oL(e){let n=this.Vi(e,!0);n=this.nL(n),this.findNodeDataForKey(n)===null&&this.hn(n,e),n=this.Vi(e,!1),n=this.nL(n),this.findNodeDataForKey(n)===null&&this.hn(n,e);const a=this.getLabelKeysForLinkData(e);if(Array.isArray(a)){const o=a.length;for(let h=0;h<o;h++)n=a[h],this.findNodeDataForKey(n)===null&&this.hn(n,e)}}f3(e){let n=this.Vi(e,!0);this.an(n,e),n=this.Vi(e,!1),this.an(n,e);const a=this.getLabelKeysForLinkData(e);if(Array.isArray(a)){const o=a.length;for(let h=0;h<o;h++)n=a[h],this.an(n,e)}}get copyLinkDataFunction(){return this.Qf}set copyLinkDataFunction(e){const n=this.Qf;n!==e&&(this.Qf=e,this.t("copyLinkDataFunction",n,e))}copyLinkData(e){let n=null;const a=this.Qf;return a!==null?n=a(e,this):n=this.Ik(e,!0),s.$(n)&&(this.Lo!==""&&this.et(n,this.Lo,void 0),this.Ao!==""&&this.et(n,this.Ao,void 0),this.cn!==""&&this.et(n,this.cn,[])),n}get nodeIsGroupProperty(){return this._f}set nodeIsGroupProperty(e){const n=this._f;n!==e&&(this.Un(e,Zn,"nodeIsGroupProperty"),this._f=e,this.t("nodeIsGroupProperty",n,e))}isGroupForNodeData(e){if(e===null)return!1;const n=this._f;return n===""?!1:!!this.St(e,n)}isGroupForData(e){return this.isGroupForNodeData(e)}get nodeGroupKeyProperty(){return this.Vn}set nodeGroupKeyProperty(e){const n=this.Vn;n!==e&&(this.Un(e,Zn,"nodeGroupKeyProperty"),this.Vn=e,this.t("nodeGroupKeyProperty",n,e))}get copiesGroupKeyOfNodeData(){return this.vg}set copiesGroupKeyOfNodeData(e){this.vg!==e&&(this.vg=e)}getGroupKeyForNodeData(e){if(e===null)return;const n=this.Vn;if(n==="")return;const a=this.St(e,n);if(a!==void 0){if(this.isKeyType(a))return a;s.o("GroupKey value for node data "+e+" is not a number or a string: "+a)}}getGroupForData(e){return this.getGroupKeyForNodeData(e)}setGroupKeyForNodeData(e,n){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&s.si(n,"number or string",Zn,"setGroupKeyForNodeData:key"),e===null)return;const a=this.Vn;if(a==="")return;if(!this.containsNodeData(e)){this.et(e,a,n);return}const o=this.St(e,a);o!==n&&(this.an(o,e),this.et(e,a,n),this.findNodeDataForKey(n)===null&&this.hn(n,e),this.Ft("nodeGroupKey",2,a,e,o,n),typeof a=="string"&&this.updateTargetBindings(e,a))}setGroupForData(e,n){this.setGroupKeyForNodeData(e,n)}copyNodeData(e){const n=super.copyNodeData(e);return!this.copiesGroupKeyOfNodeData&&this.Vn!==""&&this.St(n,this.Vn)!==void 0&&this.et(n,this.Vn,void 0),n}setDataProperty(e,n,a){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,a);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,a);return}else if(n===this.nodeGroupKeyProperty){this.setGroupKeyForNodeData(e,a);return}}else if(this.containsLinkData(e)){if(n===this.linkFromKeyProperty){this.xg(e,a,!0);return}else if(n===this.linkToKeyProperty){this.xg(e,a,!1);return}else if(n===this.linkFromPortIdProperty){this.bg(e,a,!0);return}else if(n===this.linkToPortIdProperty){this.bg(e,a,!1);return}else if(n===this.linkKeyProperty){this.setKeyForLinkData(e,a);return}else if(n===this.linkCategoryProperty){this.setCategoryForLinkData(e,a);return}else if(n===this.linkLabelKeysProperty){this.setLabelKeysForLinkData(e,a);return}}const o=this.St(e,n);o!==a&&(this.et(e,n,a),this.raiseDataChanged(e,n,o,a))}assignAllDataProperties(e,n){if(!n)return;const a=this.containsNodeData(e),o=this.containsLinkData(e);for(const h in n)if(h!=="__gohashid"&&!(a&&h===this.nodeKeyProperty)){if(a&&h===this.nodeIsGroupProperty&&this.St(e,h)===n[h]||o&&h===this.linkKeyProperty)continue;this.setDataProperty(e,h,n[h])}}dw(e,n){super.dw(e,n);const a=this.be.iterator;for(;a.next();){const h=a.value;this.rL(h,e,n)}const o=this.hr.iterator;for(;o.next();){const h=o.value;this.u3(h,e,n)}}rL(e,n,a){if(this.getGroupKeyForNodeData(e)===n){const o=this.Vn;this.et(e,o,a),this.Ft("nodeGroupKey",2,o,e,n,a),typeof o=="string"&&this.updateTargetBindings(e,o)}}u3(e,n,a){if(this.Vi(e,!0)===n){const h=this.Lo;this.et(e,h,a),this.Ft("linkFromKey",2,h,e,n,a),typeof h=="string"&&this.updateTargetBindings(e,h)}if(this.Vi(e,!1)===n){const h=this.Ao;this.et(e,h,a),this.Ft("linkToKey",2,h,e,n,a),typeof h=="string"&&this.updateTargetBindings(e,h)}const o=this.getLabelKeysForLinkData(e);if(Array.isArray(o)){const h=o.length,u=this.cn;for(let m=0;m<h;m++)o[m]===n&&(this.qv(o,m,a),this.Ft("linkLabelKeys",3,u,e,n,a,m,m))}}iL(){super.iL();const e=this.linkDataArray,n=e.length;for(let a=0;a<n;a++){const o=e[a];this.oL(o)}}Tg(e){super.Tg(e);const n=this.getKeyForNodeData(e),a=this.lw(n);if(a!==null){const o=s.nt(),h=a.iterator;for(;h.next();){const u=h.value;if(this.containsNodeData(u)){if(this.getGroupKeyForNodeData(u)===n){const m=this.Vn;this.Ft("nodeGroupKey",2,m,u,n,n),typeof m=="string"&&this.updateTargetBindings(u,m),o.push(u)}}else{if(this.Vi(u,!0)===n){const v=this.Lo;this.Ft("linkFromKey",2,v,u,n,n),typeof v=="string"&&this.updateTargetBindings(u,v),o.push(u)}if(this.Vi(u,!1)===n){const v=this.Ao;this.Ft("linkToKey",2,v,u,n,n),typeof v=="string"&&this.updateTargetBindings(u,v),o.push(u)}const m=this.getLabelKeysForLinkData(u);if(Array.isArray(m)){const v=m.length,b=this.cn;for(let S=0;S<v;S++)m[S]===n&&(this.Ft("linkLabelKeys",3,b,u,n,n,S,S),o.push(u))}}}for(let u=0;u<o.length;u++)this.an(n,o[u]);s.Z(o)}}Dg(e){super.Dg(e);const n=this.getGroupKeyForNodeData(e);this.findNodeDataForKey(n)===null&&this.hn(n,e)}gw(e){super.gw(e);const n=this.getGroupKeyForNodeData(e);this.an(n,e)}get linkCategoryProperty(){return this.cc}set linkCategoryProperty(e){const n=this.cc;n!==e&&(this.Un(e,Zn,"linkCategoryProperty"),this.cc=e,this.t("linkCategoryProperty",n,e))}getCategoryForLinkData(e){if(e===null)return"";const n=this.cc;if(n==="")return"";const a=this.St(e,n);if(a===void 0)return"";if(typeof a=="string")return a;s.o("getCategoryForLinkData found a non-string category for "+e+": "+a)}getLinkCategoryForData(e){return this.getCategoryForLinkData(e)}setCategoryForLinkData(e,n){if(e===null)return;const a=this.cc;if(a==="")return;if(!this.containsLinkData(e)){this.et(e,a,n);return}let o=this.St(e,a);o===void 0&&(o=""),o!==n&&(this.et(e,a,n),this.Ft("linkCategory",2,a,e,o,n),typeof a=="string"&&this.updateTargetBindings(e,a))}setLinkCategoryForData(e,n){this.setCategoryForLinkData(e,n)}Ag(e,n){super.Ag(e,n),this.setGroupKeyForNodeData(n,this.getGroupKeyForNodeData(e))}tF(e,n){this.setCategoryForLinkData(n,this.getCategoryForLinkData(e)),this.setFromKeyForLinkData(n,this.getFromKeyForLinkData(e)),this.setToKeyForLinkData(n,this.getToKeyForLinkData(e)),this.setLabelKeysForLinkData(n,this.getLabelKeysForLinkData(e)),this.setFromPortIdForLinkData(n,this.getFromPortIdForLinkData(e)),this.setToPortIdForLinkData(n,this.getToPortIdForLinkData(e))}get type(){return"GraphLinksModel"}Um(){return!0}Wh(){return!0}Ax(){return!0}uf(){return!0}};let Ih=Zn;E(Ih,"EmptyArray",Object.freeze([])),Ki.Sl(Ih,"GraphLinksModel"),Ki.jv=()=>new Ih,Ki.m2=()=>new Ih;class Qc extends Ki{constructor(e,n){super();E(this,"Bn");E(this,"Fg");E(this,"fc");if(this.Bn="parent",this.Fg=!1,this.fc="parentLinkCategory",e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:n=e),n){Object.assign(this,n);const a=n.Changed;a&&(delete this.Changed,this.addChangedListener(a))}}cloneProtected(e){super.cloneProtected(e),e.Bn=this.Bn,e.Fg=this.Fg,e.fc=this.fc}toString(e){if(e===void 0&&(e=0),e>=2)return this.toJson();{let n=(this.name!==""?this.name:"")+" TreeModel";if(e>0){n+=`
 node data:`;const a=this.nodeDataArray,o=a.length;for(let h=0;h<o;h++){const u=a[h];n+=" "+this.getKeyForNodeData(u)+":"+so.toString(u)}}return n}}Lg(){const e=super.Lg();let n="";return this.nodeParentKeyProperty!=="parent"&&typeof this.nodeParentKeyProperty=="string"&&(n+=`,
  "nodeParentKeyProperty": `+this.zi(this.nodeParentKeyProperty)),e+n}fw(e){super.fw(e),e.nodeParentKeyProperty&&(this.nodeParentKeyProperty=e.nodeParentKeyProperty)}uw(e){e.nodeParentKeyProperty!==void 0&&e.nodeParentKeyProperty!==this.nodeParentKeyProperty&&s.o("applyIncrementalJson cannot change Model properties"),super.uw(e)}maybeEnsureLinkReference(e){return e}get nodeParentKeyProperty(){return this.Bn}set nodeParentKeyProperty(e){const n=this.Bn;n!==e&&(this.Un(e,Qc,"nodeParentKeyProperty"),this.Bn=e,this.t("nodeParentKeyProperty",n,e))}get copiesParentKeyOfNodeData(){return this.Fg}set copiesParentKeyOfNodeData(e){this.Fg!==e&&(this.Fg=e)}getParentKeyForNodeData(e){if(e===null)return;const n=this.Bn;if(n==="")return;const a=this.St(e,n);if(a!==void 0){if(this.isKeyType(a))return a;s.o("ParentKey value for node data "+e+" is not a number or a string: "+a)}}setParentKeyForNodeData(e,n){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&s.si(n,"number or string",Qc,"setParentKeyForNodeData:key"),e===null)return;const a=this.Bn;if(a==="")return;if(n=this.maybeEnsureLinkReference(n),!this.containsNodeData(e)){this.et(e,a,n);return}const o=this.St(e,a);o!==n&&(this.an(o,e),this.et(e,a,n),this.findNodeDataForKey(n)===null&&this.hn(n,e),this.Ft("nodeParentKey",2,a,e,o,n),typeof a=="string"&&this.updateTargetBindings(e,a))}get parentLinkCategoryProperty(){return this.fc}set parentLinkCategoryProperty(e){const n=this.fc;n!==e&&(this.Un(e,Qc,"parentLinkCategoryProperty"),this.fc=e,this.t("parentLinkCategoryProperty",n,e))}get linkCategoryProperty(){return this.parentLinkCategoryProperty}set linkCategoryProperty(e){this.parentLinkCategoryProperty=e}getParentLinkCategoryForNodeData(e){if(e===null)return"";const n=this.fc;if(n==="")return"";const a=this.St(e,n);if(a===void 0)return"";if(typeof a=="string")return a;s.o("getParentLinkCategoryForNodeData found a non-string category for "+e+": "+a)}getLinkCategoryForData(e){return this.getParentLinkCategoryForNodeData(e)}setParentLinkCategoryForNodeData(e,n){if(e===null)return;const a=this.fc;if(a==="")return;if(!this.containsNodeData(e)){this.et(e,a,n);return}let o=this.St(e,a);o===void 0&&(o=""),o!==n&&(this.et(e,a,n),this.Ft("parentLinkCategory",2,a,e,o,n),typeof a=="string"&&this.updateTargetBindings(e,a))}setLinkCategoryForData(e,n){this.setParentLinkCategoryForNodeData(e,n)}copyNodeData(e){const n=super.copyNodeData(e);return!this.copiesParentKeyOfNodeData&&this.Bn!==""&&this.St(n,this.Bn)!==void 0&&this.et(n,this.Bn,void 0),n}setDataProperty(e,n,a){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,a);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,a);return}else if(n===this.nodeParentKeyProperty){this.setParentKeyForNodeData(e,a);return}else if(n===this.parentLinkCategoryProperty){this.setParentLinkCategoryForNodeData(e,a);return}}const o=this.St(e,n);o!==a&&(this.et(e,n,a),this.raiseDataChanged(e,n,o,a))}dw(e,n){super.dw(e,n);const a=this.be.iterator;for(;a.next();){const o=a.value;this.rL(o,e,n)}}rL(e,n,a){if(this.getParentKeyForNodeData(e)===n){const o=this.Bn;this.et(e,o,a),this.Ft("nodeParentKey",2,o,e,n,a),typeof o=="string"&&this.updateTargetBindings(e,o)}}Tg(e){super.Tg(e);const n=this.getKeyForNodeData(e),a=this.lw(n);if(a!==null){const o=s.nt(),h=a.iterator;for(;h.next();){const u=h.value;if(this.containsNodeData(u)&&this.getParentKeyForNodeData(u)===n){const m=this.Bn;this.Ft("nodeParentKey",2,m,u,n,n),typeof m=="string"&&this.updateTargetBindings(u,m),o.push(u)}}for(let u=0;u<o.length;u++)this.an(n,o[u]);s.Z(o)}}Dg(e){super.Dg(e);let n=this.getParentKeyForNodeData(e);n=this.maybeEnsureLinkReference(n),this.findNodeDataForKey(n)===null&&this.hn(n,e)}gw(e){super.gw(e);const n=this.getParentKeyForNodeData(e);this.an(n,e)}Ag(e,n){super.Ag(e,n),this.setParentLinkCategoryForNodeData(n,this.getParentLinkCategoryForNodeData(e)),this.setParentKeyForNodeData(n,this.getParentKeyForNodeData(e))}get type(){return"TreeModel"}Vm(){return!0}Ax(){return!0}}Ki.Sl(Qc,"TreeModel");var yp=(ee=>(ee[ee.ConstantSpacing=0]="ConstantSpacing",ee[ee.ConstantDistance=1]="ConstantDistance",ee[ee.ConstantAngle=2]="ConstantAngle",ee[ee.Packed=3]="Packed",ee))(yp||{}),bp=(ee=>(ee[ee.Clockwise=10]="Clockwise",ee[ee.Counterclockwise=11]="Counterclockwise",ee[ee.BidirectionalLeft=12]="BidirectionalLeft",ee[ee.BidirectionalRight=13]="BidirectionalRight",ee))(bp||{}),wp=(ee=>(ee[ee.Forwards=20]="Forwards",ee[ee.Reverse=21]="Reverse",ee[ee.Ascending=22]="Ascending",ee[ee.Descending=23]="Descending",ee[ee.Optimized=24]="Optimized",ee))(wp||{}),kp=(ee=>(ee[ee.Pythagorean=30]="Pythagorean",ee[ee.Circular=31]="Circular",ee))(kp||{});class tr extends Rs{constructor(e){super();E(this,"gi");E(this,"tu");E(this,"Uk");E(this,"Rg");E(this,"Vk");E(this,"Ya");E(this,"lL");E(this,"aL");E(this,"hL");E(this,"Es");E(this,"mw");E(this,"pw");E(this,"uc");E(this,"yw");E(this,"eF");E(this,"Og");E(this,"Ig");E(this,"Eg");E(this,"eu");E(this,"He");E(this,"P");E(this,"Si");E(this,"Mi");E(this,"En");E(this,"Ug");this.gi=0,this.tu=0,this.Uk=0,this.Rg=360,this.Vk=0,this.Ya=0,this.lL=new N,this.aL=30,this.hL=0,this.Es=0,this.mw=0,this.pw=new Tb,this.uc=0,this.yw=0,this.eF=600,this.Og=NaN,this.Ig=1,this.Eg=0,this.eu=360,this.He=0,this.P=10,this.Si=24,this.Mi=Vl.standardComparer,this.En=6,this.Ug=30,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Og=this.Og,e.Ig=this.Ig,e.Eg=this.Eg,e.eu=this.eu,e.He=this.He,e.P=this.P,e.Si=this.Si,e.Mi=this.Mi,e.En=this.En,e.Ug=this.Ug}fe(e){e in wp?this.sorting=e:e in bp?this.direction=e:e in yp?this.arrangement=e:e in kp?this.nodeDiameterFormula=e:super.fe(e)}createNetwork(){return new Pb(this)}d3(e,n,a){e=this.g3(e);let o=this.Vk,h=this.aL,u=this.gi,m=this.tu,v=this.Uk,b=this.Rg,S=this.Ya,A=this.hL,M=this.Es,O=this.mw;if(o=this.arrangement,h=this.nodeDiameterFormula,u=this.radius,(!isFinite(u)||u<=0)&&(u=NaN),m=this.aspectRatio,(!isFinite(m)||m<=0)&&(m=1),v=this.startAngle,isFinite(v)||(v=0),b=this.sweepAngle,(!isFinite(b)||b>360||b<1)&&(b=360),S=this.spacing,isFinite(S)||(S=NaN),o===3&&h===31?o=0:o===3&&h!==31&&(h=31,o=this.arrangement),(this.direction===12||this.direction===13)&&this.sorting!==24){for(let q=0;!(q>=e.length||(n.add(e.elt(q)),q+1>=e.length));q+=2)a.add(e.elt(q+1));this.direction===12?(this.arrangement===3&&n.reverse(),e=new w,e.addAll(n),e.addAll(a)):(this.arrangement===3&&a.reverse(),e=new w,e.addAll(a),e.addAll(n))}const R=e.length;A=0;let V=0;for(let q=0;q<e.length;q++){const J=v+b*V*(this.direction===10?1:-1)/R;let re=e.elt(q).diameter;isNaN(re)&&(re=e.elt(q).Ka(J)),b<360&&(q===0||q===e.length-1)&&(re/=2),A+=re,V++}if(isNaN(u)||o===3){if(isNaN(S)&&(S=6),o!==0&&o!==3){let q=-1/0;for(let J=0;J<R;J++){const re=e.elt(J),se=e.elt(J===R-1?0:J+1);isNaN(re.diameter)&&re.Ka(0),isNaN(se.diameter)&&se.Ka(0),q=Math.max(q,(re.diameter+se.diameter)/2)}if(O=q+S,o===2){const J=2*Math.PI/R,re=(q+S)/J;m>1?(u=re,M=u*m):(M=re,u=M)}else u=this.Bk(O*(b>=360?R:R-1),m,v*Math.PI/180,b*Math.PI/180)}else u=this.Bk(A+(b>=360?R:R-1)*(o!==3?S:S*1.6),m,v*Math.PI/180,b*Math.PI/180);M=u*m}else{M=u*m;const q=this.cL(u,M,v*Math.PI/180,b*Math.PI/180);if(isNaN(S))o===0&&(S=(q-A)/(b>=360?R:R-1));else if(o===0){const J=(q-A)/(b>=360?R:R-1);J<S?(u=this.Bk(A+S*(b>=360?R:R-1),m,v*Math.PI/180,b*Math.PI/180),M=u*m):S=J}else{let J=-1/0;for(let ne=0;ne<R;ne++){const xe=e.elt(ne),ye=e.elt(ne===R-1?0:ne+1);isNaN(xe.diameter)&&xe.Ka(0),isNaN(ye.diameter)&&ye.Ka(0),J=Math.max(J,(xe.diameter+ye.diameter)/2)}const re=J+S,se=this.Bk(re*(b>=360?R:R-1),m,v*Math.PI/180,b*Math.PI/180);se>u?(u=se,M=u*m,O=re):O=q/(b>=360?R:R-1)}}return this.Vk=o,this.aL=h,this.gi=u,this.tu=m,this.Uk=v,this.Rg=b,this.Ya=S,this.hL=A,this.Es=M,this.mw=O,e}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.network.vertexes;if(n.count<=1){if(n.count===1){const O=n.first();O.centerX=0,O.centerY=0}this.updateParts(),this.network=null,this.isValidLayout=!0;return}let a=new w;a.addAll(n.iterator);const o=new w,h=new w;a=this.d3(a,o,h);const u=this.Vk,m=this.gi,v=this.Uk,b=this.Rg,S=this.Ya,A=this.Es,M=this.mw;if((this.direction===12||this.direction===13)&&u===3)this.iF(a,b,v-b/2,10);else if(this.direction===12||this.direction===13){let O=0;switch(u){case 1:O=this.zk(m,A,v,M)*180/Math.PI;break;case 0:{let R=0,V=0;const q=o.first();q!==null&&(R=q.Ka(Math.PI/2));const J=h.first();J!==null&&(V=J.Ka(Math.PI/2)),O=this.zk(m,A,v,S+(R+V)/2)*180/Math.PI;break}case 2:O=b/a.length;break}if(this.direction===12){switch(u){case 1:this.ww(o,b/2,v,11);break;case 0:this.xw(o,b/2,v,11);break;case 2:this.bw(o,b/2,v,11);break}switch(u){case 1:this.ww(h,b/2,v+O,10);break;case 0:this.xw(h,b/2,v+O,10);break;case 2:this.bw(h,b/2,v+O,10);break}}else{switch(u){case 1:this.ww(h,b/2,v,11);break;case 0:this.xw(h,b/2,v,11);break;case 2:this.bw(h,b/2,v,11);break}switch(u){case 1:this.ww(o,b/2,v+O,10);break;case 0:this.xw(o,b/2,v+O,10);break;case 2:this.bw(o,b/2,v+O,10);break}}}else switch(u){case 1:this.ww(a,b,v,this.direction);break;case 0:this.xw(a,b,v,this.direction);break;case 2:this.bw(a,b,v,this.direction);break;case 3:this.iF(a,b,v,this.direction);break}this.updateParts(),this.network=null,this.isValidLayout=!0}bw(e,n,a,o){const h=this.Rg,u=this.gi,m=this.Es,v=a*Math.PI/180,b=n*Math.PI/180,S=e.length;for(let A=0;A<S;A++){const M=v+(o===10?A*b/(h>=360?S:S-1):-(A*b)/S),O=e.elt(A),R=u*Math.tan(M)/m,V=Math.sqrt((u*u+m*m*R*R)/(1+R*R));O.centerX=V*Math.cos(M),O.centerY=V*Math.sin(M),O.actualAngle=M*180/Math.PI}}xw(e,n,a,o){const h=this.gi,u=this.Es,m=this.Ya;let v=a*Math.PI/180;const b=e.length;for(let S=0;S<b;S++){const A=e.elt(S),M=e.elt(S===b-1?0:S+1),O=h*Math.cos(v),R=u*Math.sin(v);A.centerX=O,A.centerY=R,A.actualAngle=v*180/Math.PI,isNaN(A.diameter)&&A.Ka(0),isNaN(M.diameter)&&M.Ka(0);const V=(A.diameter+M.diameter)/2,q=this.zk(h,u,o===10?v:-v,V+m);v+=o===10?q:-q}}ww(e,n,a,o){const h=this.gi,u=this.Es,m=this.mw;let v=a*Math.PI/180;const b=e.length;for(let S=0;S<b;S++){const A=e.elt(S);A.centerX=h*Math.cos(v),A.centerY=u*Math.sin(v),A.actualAngle=v*180/Math.PI;const M=this.zk(h,u,o===10?v:-v,m);v+=o===10?M:-M}}iF(e,n,a,o){let h=this.yw;const u=this.Rg;if(this.uc=0,this.pw=new Tb,n<360){for(h=a+(o===10?u:-u);h<0;)h+=360;h%=360,h>180&&(h-=360),h*=Math.PI/180,this.yw=h,this.sF(e,n,a,o)}else this.nF(e,n,a,o);this.pw.commit(e)}nF(e,n,a,o){const h=this.gi,u=this.Es,m=this.Ya,v=this.tu;let b=h*Math.cos(a*Math.PI/180),S=u*Math.sin(a*Math.PI/180);const A=e.toArray();if(A.length===3){A[0].centerX=h,A[0].centerY=0,A[1].centerX=A[0].centerX-A[0].width/2-A[1].width/2-m,A[1].y=A[0].y,A[2].centerX=(A[0].centerX+A[1].centerX)/2,A[2].y=A[0].y-A[2].height-m;return}else if(A.length===4){A[0].centerX=h,A[0].centerY=0,A[2].centerX=-A[0].centerX,A[2].centerY=A[0].centerY,A[1].centerX=0,A[1].y=Math.min(A[0].y,A[2].y)-A[1].height-m,A[3].centerX=0,A[3].y=Math.max(A[0].y+A[0].height+m,A[2].y+A[2].height+m);return}const M=N.l();for(let xe=0;xe<A.length&&(A[xe].centerX=b,A[xe].centerY=S,!(xe>=A.length-1));xe++)this.oF(b,S,A,xe,o,M)||this.rF(b,S,A,xe,o,M),b=M.x,S=M.y;if(N.i(M),this.uc++,this.uc>23)return;const O=A[0].centerX,R=A[0].centerY,V=A[A.length-1].centerX,q=A[A.length-1].centerY;let J=Math.abs(O-V)-((A[0].width+A[A.length-1].width)/2+m);const re=Math.abs(R-q)-((A[0].height+A[A.length-1].height)/2+m);let se=0;if(Math.abs(re)<1){const xe=Math.abs(O-V),ye=(A[0].width+A[A.length-1].width)/2;xe<ye&&(se=0),J=xe-ye}else re>0?se=re:Math.abs(J)<1?se=0:se=J;let ne=!1;Math.abs(V)>Math.abs(q)?ne=V>0!=R>q:ne=q>0!=O<V,ne=o===10?ne:!ne,ne&&(se=-Math.abs(se),se=Math.min(se,-A[A.length-1].width),se=Math.min(se,-A[A.length-1].height)),this.pw.m3(se,A),Math.abs(se)>1&&(this.uc<8?this.gi-=se/(2*Math.PI):A.length<5&&se>10?this.gi/=2:this.gi-=se>0?1.7:-2.3,this.Es=this.gi*v,this.nF(e,n,a,o))}sF(e,n,a,o){const h=this.gi,u=this.Es,m=this.tu;let v=h*Math.cos(a*Math.PI/180),b=u*Math.sin(a*Math.PI/180);const S=N.l(),A=e.toArray();for(let V=0;V<A.length&&(A[V].centerX=v,A[V].centerY=b,!(V>=A.length-1));V++)this.oF(v,b,A,V,o,S)||this.rF(v,b,A,V,o,S),v=S.x,b=S.y;if(N.i(S),this.uc++,this.uc>23)return;const M=Math.atan2(b,v);let O=o===10?this.yw-M:M-this.yw;O=Math.abs(O)<Math.abs(O-2*Math.PI)?O:O-2*Math.PI;const R=O*(h+u)/2;this.pw.p3(R,A),Math.abs(R)>1&&(this.uc<8?this.gi-=R/(2*Math.PI):this.gi-=R>0?1.7:-2.3,this.Es=this.gi*m,this.sF(e,n,a,o))}oF(e,n,a,o,h,u){const m=this.Ya,v=this.gi,b=this.Es;let S=0,A=0;const M=(a[o].width+a[o+1].width)/2+m;let O=!1;if(n>=0!=(h===10)){if(S=e+M,S>v){if(S=e-M,S<-v)return u.x=S,u.y=A,!1;O=!0}}else if(S=e-M,S<-v){if(S=e+M,S>v)return u.x=S,u.y=A,!1;O=!0}return A=Math.sqrt(1-Math.min(1,S*S/(v*v)))*b,n<0!==O&&(A=-A),Math.abs(n-A)>(a[o].height+a[o+1].height)/2?(u.x=S,u.y=A,!1):(u.x=S,u.y=A,!0)}rF(e,n,a,o,h,u){const m=this.Ya,v=this.gi,b=this.Es;let S=0,A=0;const M=(a[o].height+a[o+1].height)/2+m;let O=!1;if(e>=0!=(h===10)){if(A=n-M,A<-b){if(A=n+M,A>b)return u.x=S,u.y=A,!1;O=!0}}else if(A=n+M,A>b){if(A=n-M,A<-b)return u.x=S,u.y=A,!1;O=!0}return S=Math.sqrt(1-Math.min(1,A*A/(b*b)))*v,e<0!==O&&(S=-S),Math.abs(e-S)>(a[o].width+a[o+1].width)/2?(u.x=S,u.y=A,!1):(u.x=S,u.y=A,!0)}commitLayout(){this.commitNodes(),this.isRouting&&this.commitLinks()}commitNodes(){const e=this.group!==null&&this.group.hasPlaceholder(),n=e?this.group.location.copy():null;let a=this.actualCenter;if(e?a=new N(0,0):(a.x=this.arrangementOrigin.x+this.gi,a.y=this.arrangementOrigin.y+this.Es),this.network!==null){const o=this.network.vertexes.iterator;for(;o.next();){const h=o.value;h.x+=a.x,h.y+=a.y,h.commit()}}if(e&&this.group&&n){this.group.ensureBounds();const o=this.group.position.copy(),h=this.group.location.copy(),u=n.subtract(h.subtract(o));this.group.move(u),this.lL=u.subtract(o)}}commitLinks(){if(this.network!==null){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}}cL(e,n,a,o){const h=this.eF;if(Math.abs(this.tu-1)<.001)return a!==void 0&&o!==void 0?o*e:2*Math.PI*e;const u=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;let m=0,v=0;a!==void 0&&o!==void 0?v=o/(h+1):v=Math.PI/(2*(h+1));let b=0;for(let S=0;S<=h;S++){a!==void 0&&o!==void 0?b=a+S*o/h:b=S*Math.PI/(2*h);const A=Math.sin(b);m+=Math.sqrt(1-u*u*A*A)*v}return a!==void 0&&o!==void 0?(e>n?e:n)*m:4*(e>n?e:n)*m}Bk(e,n,a,o){let h=0;return a!==void 0&&o!==void 0?h=this.cL(1,n,a,o):h=this.cL(1,n),e/h}zk(e,n,a,o){if(Math.abs(this.tu-1)<.001)return o/e;const h=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;let u=0;const m=2*Math.PI/(this.network.vertexes.count*700);e>n&&(a+=Math.PI/2);for(let v=0;;v++){const b=a+v*m,S=Math.sin(b);if(u+=(e>n?e:n)*Math.sqrt(1-h*h*S*S)*m,u>=o)return v*m}}g3(e){switch(this.sorting){case 20:break;case 21:e.reverse();break;case 22:e.sort(this.comparer);break;case 23:e.sort(this.comparer),e.reverse();break;case 24:return this.y3(this.w3(e));default:s.o("Invalid sorting type.")}return e}w3(e){const n=[];for(let o=0;o<e.length;o++)n.push(0);const a=new w;for(let o=0;o<e.length;o++){let h=-1,u=-1;if(o===0)for(let A=0;A<e.length;A++){const M=e.elt(A).edgesCount;M>h&&(h=M,u=A)}else for(let A=0;A<e.length;A++){const M=n[A];M>h&&(h=M,u=A)}a.add(e.elt(u)),n[u]=-1;const m=e.elt(u);let v=0;const b=m.sourceEdges;for(;b.next();){const A=b.value.fromVertex;v=e.indexOf(A),!(v<0)&&n[v]>=0&&n[v]++}const S=m.destinationEdges;for(;S.next();){const A=S.value.toVertex;v=e.indexOf(A),!(v<0)&&n[v]>=0&&n[v]++}}return a}y3(e){const n=[];for(let M=0;M<e.length;M++){const O=e.elt(M);n[M]=[];let R=0;const V=O.destinationEdges;for(;V.next();){const J=V.value.toVertex;R=e.indexOf(J),R!==M&&n[M].indexOf(R)<0&&n[M].push(R)}const q=O.sourceEdges;for(;q.next();){const J=q.value.fromVertex;R=e.indexOf(J),R!==M&&n[M].indexOf(R)<0&&n[M].push(R)}}const a=[];for(let M=0;M<n.length;M++)a[M]=0;const o=[],h=[],u=[],m=[],v=new w;let b=0;for(let M=0;M<n.length;M++){const O=n[M].length;if(O===1){m.push(M);continue}if(O===0){v.add(e.elt(M));continue}if(b===0){o.push(M),b++;continue}let R=1/0,V=1/0,q=-1;const J=[];for(let re=0;re<o.length;re++)n[o[re]].indexOf(o[re===o.length-1?0:re+1])<0&&J.push(re===o.length-1?0:re+1);if(J.length===0)for(let re=0;re<o.length;re++)J.push(re);for(let re=0;re<J.length;re++){const se=J[re],ne=this.x3(n[M],h,u,a,se,o);let xe=0;for(let ye=0;ye<n[M].length;ye++){const we=n[M][ye],ze=o.indexOf(we);if(ze>=0){const Ce=Math.abs(se-(ze>=se?ze+1:ze));xe+=Ce<o.length+1-Ce?Ce:o.length+1-Ce}}for(let ye=0;ye<h.length;ye++){let we=a[h[ye]],ze=a[u[ye]];if(we>=se&&we++,ze>=se&&ze++,we>ze){const Ce=ze;ze=we,we=Ce}ze-we<(o.length+2)/2==(we<se&&se<=ze)&&xe++}(ne<R||ne===R&&xe<V)&&(R=ne,V=xe,q=se)}o.splice(q,0,M);for(let re=0;re<o.length;re++)a[o[re]]=re;for(let re=0;re<n[M].length;re++){const se=n[M][re];o.indexOf(se)>=0&&(h.push(M),u.push(se))}b++}let S=!1;const A=o.length;for(;;){S=!0;for(let M=0;M<m.length;M++){const O=m[M],R=n[O][0],V=o.indexOf(R);if(V>=0){let q=0;for(let J=0;J<n[R].length;J++){const re=n[R][J],se=o.indexOf(re);if(se<0||se===V)continue;const ne=se>V?se-V:V-se,xe=A-ne;q+=se<V!=ne>xe?1:-1}o.splice(q<0?V:V+1,0,O),m.splice(M,1),M--}else S=!1}if(S)break;o.push(m[0]),m.splice(0,1)}for(let M=0;M<o.length;M++){const O=o[M];v.add(e.elt(O))}return v}x3(e,n,a,o,h,u){let m=0;for(let v=0;v<n.length;v++){const b=n[v],S=a[v],A=o[b],M=o[S];let O=0,R=0;if(A<M?(O=A,R=M):(O=M,R=A),O<h&&h<=R)for(let V=0;V<e.length;V++){const q=e[V];u.indexOf(q)<0||O<o[q]&&o[q]<R||O===o[q]||R===o[q]||m++}else for(let V=0;V<e.length;V++){const q=e[V];u.indexOf(q)<0||!(O<o[q]&&o[q]<R)||O===o[q]||R===o[q]||m++}}return m}get radius(){return this.Og}set radius(e){this.Og!==e&&(e>0||isNaN(e))&&(this.Og=e,this.p())}get aspectRatio(){return this.Ig}set aspectRatio(e){this.Ig!==e&&e>0&&(this.Ig=e,this.p())}get startAngle(){return this.Eg}set startAngle(e){this.Eg!==e&&(this.Eg=e,this.p())}get sweepAngle(){return this.eu}set sweepAngle(e){this.eu!==e&&(e>0&&e<=360?this.eu=e:this.eu=360,this.p())}get arrangement(){return this.He}set arrangement(e){this.He!==e&&(e===3||e===0||e===1||e===2)&&(this.He=e,this.p())}get direction(){return this.P}set direction(e){this.P!==e&&(e===10||e===11||e===12||e===13)&&(this.P=e,this.p())}get sorting(){return this.Si}set sorting(e){this.Si!==e&&(this.Si=e,this.p())}get comparer(){return this.Mi}set comparer(e){this.Mi!==e&&(this.Mi=e,this.p())}get spacing(){return this.En}set spacing(e){this.En!==e&&(this.En=e,this.p())}get nodeDiameterFormula(){return this.Ug}set nodeDiameterFormula(e){this.Ug!==e&&(e===30||e===31)&&(this.Ug=e,this.p())}get actualXRadius(){return this.gi}get actualYRadius(){return this.Es}get actualSpacing(){return this.Ya}get actualCenter(){return this.lL}}E(tr,"ConstantSpacing",0),E(tr,"ConstantDistance",1),E(tr,"ConstantAngle",2),E(tr,"Packed",3),E(tr,"Clockwise",10),E(tr,"Counterclockwise",11),E(tr,"BidirectionalLeft",12),E(tr,"BidirectionalRight",13),E(tr,"Forwards",20),E(tr,"Reverse",21),E(tr,"Ascending",22),E(tr,"Descending",23),E(tr,"Optimized",24),E(tr,"Pythagorean",30),E(tr,"Circular",31);class Tb{constructor(){E(this,"iu");E(this,"dc");E(this,"su");this.iu=-1/0,this.dc=null,this.su=null}m3(i,e){if(i>0&&this.iu<0||Math.abs(i)<Math.abs(this.iu)&&!(i<0&&this.iu>0)){this.iu=i,this.dc=[],this.su=[];for(let n=0;n<e.length;n++)this.dc[n]=e[n].bounds.x,this.su[n]=e[n].bounds.y}}p3(i,e){if(Math.abs(i)<Math.abs(this.iu)){this.iu=i,this.dc=[],this.su=[];for(let n=0;n<e.length;n++)this.dc[n]=e[n].bounds.x,this.su[n]=e[n].bounds.y}}commit(i){if(!(this.dc===null||this.su===null))for(let e=0;e<this.dc.length;e++){const n=i.elt(e);n.x=this.dc[e],n.y=this.su[e]}}}class Pb extends Bl{constructor(i){super(i)}createVertex(){return new Db(this)}createEdge(){return new Mb(this)}}class Db extends Vl{constructor(e){super(e);E(this,"To");E(this,"Xk");this.To=NaN,this.Xk=NaN}Ka(e){const n=this.network;if(n===null)return NaN;const a=n.layout;if(a===null)return NaN;if(a.arrangement===3){if(a.nodeDiameterFormula===31)return this.To=Math.max(this.width,this.height),this.To;{const o=Math.abs(Math.sin(e)),h=Math.abs(Math.cos(e));return o===0?this.width:h===0?this.height:(this.To=Math.min(this.height/o,this.width/h),this.To)}}else return a.nodeDiameterFormula===31?(this.To=Math.max(this.width,this.height),this.To):(this.To=Math.sqrt(this.width*this.width+this.height*this.height),this.To)}get diameter(){return this.To}set diameter(e){this.To!==e&&(this.To=e)}get actualAngle(){return this.Xk}set actualAngle(e){this.Xk!==e&&(this.Xk=e)}}class Mb extends Zc{constructor(i){super(i)}}class o_ extends Rs{constructor(e){super();E(this,"kw");E(this,"Ha");E(this,"Us");E(this,"Vg");E(this,"zn");E(this,"Xi");E(this,"Bg");E(this,"zg");E(this,"Xg");E(this,"nu");E(this,"Gg");E(this,"Yg");E(this,"ou");E(this,"ru");E(this,"lu");E(this,"au");E(this,"Kg");E(this,"Hg");E(this,"hu");E(this,"gc");this.kw=0,this.Ha=0,this.Us=new X(100,100).k(),this.Vg=!1,this.zn=!0,this.Xi=!1,this.Bg=100,this.zg=300,this.Xg=1,this.nu=1e3,this.Gg=10,this.Yg=Math,this.ou=.05,this.ru=50,this.lu=150,this.au=0,this.Kg=10,this.Hg=5,this.hu=NaN,this.gc=10,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Us.h(this.Us),e.Vg=this.Vg,e.zn=this.zn,e.Xi=this.Xi,e.Bg=this.Bg,e.zg=this.zg,e.Xg=this.Xg,e.nu=this.nu,e.Gg=this.Gg,e.Yg=this.Yg,e.ou=this.ou,e.ru=this.ru,e.lu=this.lu,e.au=this.au,e.Kg=this.Kg,e.Hg=this.Hg,e.hu=this.hu,e.gc=this.gc}createNetwork(){return new Eb(this)}doLayout(e){this.network=this.makeNetwork(e);let n=this.network.vertexes.iterator;const a=this.maxIterations;if(this.network.vertexes.count>0){for(this.network.deleteSelfEdges(),n=this.network.vertexes.iterator;n.next();){const h=n.value;h.charge=this.electricalCharge(h),h.mass=this.gravitationalMass(h)}const o=this.network.edges.iterator;for(;o.next();){const h=o.value;h.stiffness=this.springStiffness(h),h.length=this.springLength(h)}if(this.fL(),this.Ha=0,this.needsPrelayout()){const h=this.network,u=h.splitIntoSubNetworks(!1);let m=u.iterator;for(;m.next();){const v=m.value;this.doConnectedSubnetLayout(v)}for(m=u.iterator,this.b3(m,h),m=u.iterator;m.next();){const v=m.value,b=v.vertexes.iterator;for(;b.next();){const A=b.value;h.addVertex(A)}const S=v.edges.iterator;for(;S.next();){const A=S.value;h.addEdge(A)}}}else this.lF(this.network,this.maxIterations);this.updateParts()}this.maxIterations=a,this.isValidLayout=!0}needsPrelayout(){if(this.network===null||this.network.vertexes.count<3)return!1;let e=0,n=0;const a=this.network.vertexes.first().bounds,o=this.network.vertexes.iterator;for(;o.next();){const h=o.value,u=h.bounds;if(isNaN(h.x)||isNaN(h.y)||u.intersectsRect(a)&&(e++,e>2))return!0;if(n>10)return!1;n++}return!1}doConnectedSubnetLayout(e){let n=e.vertexes.iterator;for(;n.next();){const v=n.value;v.hierarchicalVertexes.add(v)}let a=e,o=this.hu;if(isNaN(o)&&(o=e.edges.count/e.vertexes.count),o<e.vertexes.count)for(;a.vertexes.count>Math.max(100,Math.sqrt(o*e.vertexes.count));)a=this.coarsenNetwork(a);let h=0;n=a.vertexes.iterator;let u=this.randomNumberGenerator;for(u===null&&(this.randomNumberGenerator=u=new Nb(0));n.next();){n.value.idInCluster=h++;const v=10*(u.random()-.5),b=10*(u.random()-.5);this.isFixed(n.value)||(n.value.x=v,n.value.y=b);const S=n.value.hierarchicalVertexes.iterator;for(;S.next();)this.isFixed(S.value)||(S.value.x=v,S.value.y=b)}const m=this.computePairwiseDistances(a);this.k3(a,m,this.maxPrelayoutIterations,e.vertexes.count),this.lF(e,this.maxIterations)}computePairwiseDistances(e){const n=e.vertexes.count,a=new Array(n);for(let m=0;m<n;m++)a[m]=new Array(n).fill(-1),a[m][m]=0;const o=e.vertexes.iterator;let h=new Map,u=[];for(;o.next();){const m=o.value;for(u=[m],h=new Map,h.set(m.idInCluster,0);u.length>0;){const v=u.shift(),b=v.vertexes.iterator;for(;b.next();){const S=b.value;h.has(S.idInCluster)||(h.set(S.idInCluster,h.get(v.idInCluster)+1),u.push(S))}}for(let v=0;v<n;v++){const b=Math.min(a[m.idInCluster][v],a[v][m.idInCluster]),S=h.get(v);(b<0||S<b)&&(a[m.idInCluster][v]=S,a[v][m.idInCluster]=S)}}return a}coarsenNetwork(e){const n=this.createNetwork(),a=new Map;let o=0,h=e.vertexes.iterator;for(;h.next();)h.value.idInCluster=o++;for(h=e.vertexes.iterator;h.next();){const m=h.value;if(a.has(m.idInCluster))continue;let v=Number.MAX_SAFE_INTEGER,b=null;const S=m.vertexes.iterator;for(;S.next();){const M=S.value;a.has(M.idInCluster)||M.hierarchicalVertexes.length<v&&(v=M.hierarchicalVertexes.length,b=M)}const A=n.createVertex();A.hierarchicalVertexes.addAll(m.hierarchicalVertexes),b!=null&&A.hierarchicalVertexes.addAll(b.hierarchicalVertexes),a.set(m.idInCluster,A),b!=null&&a.set(b.idInCluster,A),n.addVertex(A)}const u=e.edges.iterator;for(;u.next();){const m=u.value,v=a.get(m.fromVertex.idInCluster),b=a.get(m.toVertex.idInCluster);if(v===b)continue;const S=n.createEdge();S.fromVertex=v||null,S.toVertex=b||null,n.addEdge(S)}return n}cx(e,n){let a=!0;const o=e.vertexes.iterator;for(;o.next();){const h=o.value;a?(a=!1,n.set(h.bounds)):n.unionRect(h.bounds)}return n}b3(e,n){const a=this.arrangementSpacing,o=e.count;let h=!0,u=0,m=0;const v=s.nt();for(let M=0;M<o+n.vertexes.count+2;M++)v[M]=null;let b=0;e.reset();const S=W.l();let A;for(;e.next();){const M=e.value;if(this.cx(M,S),h)h=!1,u=S.x+S.width/2,m=S.y+S.height/2,v[0]=new N(S.x+S.width+a.width,S.y),v[1]=new N(S.x,S.y+S.height+a.height),b=2;else{const O=this.aF(v,b,u,m,S.width,S.height,a),R=v[O],V=new N(R.x+S.width+a.width,R.y),q=new N(R.x,R.y+S.height+a.height);O+1<b&&v.splice(O+1,0,null),v[O]=V,v[O+1]=q,b++;const J=R.x-S.x,re=R.y-S.y;for(A=M.vertexes.iterator;A.next();){const se=A.value;this.isFixed(se)||(se.centerX+=J,se.centerY+=re)}}}for(W.i(S),A=n.vertexes.iterator;A.next();){const M=A.value,O=M.bounds;if(b<2){u=O.x+O.width/2,m=O.y+O.height/2,v[0]=new N(O.x+O.width+a.width,O.y),v[1]=new N(O.x,O.y+O.height+a.height),b=2;continue}const R=this.aF(v,b,u,m,O.width,O.height,a),V=v[R],q=new N(V.x+O.width+a.width,V.y),J=new N(V.x,V.y+O.height+a.height);R+1<b&&v.splice(R+1,0,null),v[R]=q,v[R+1]=J,b++,this.isFixed(M)||(M.centerX=V.x+M.width/2,M.centerY=V.y+M.height/2)}s.Z(v)}aF(e,n,a,o,h,u,m){let v=9e19,b=-1;e:for(let S=0;S<n;S++){const A=e[S],M=A.x-a,O=A.y-o,R=M*M+O*O;if(R<v){for(let V=S-1;V>=0;V--)if(e[V].y>A.y&&e[V].x-A.x<h+m.width)continue e;for(let V=S+1;V<n;V++)if(e[V].x>A.x&&e[V].y-A.y<u+m.height)continue e;b=S,v=R}}return b}fL(){if(this.network===null||!this.comments)return;const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;this.addComments(n)}}addComments(e){if(this.network===null)return;const n=e.node;if(n!==null){const a=n.findNodesConnected();for(;a.next();){const o=a.value;if(o.category!=="Comment"||!o.isVisible())continue;let h=this.network.findVertex(o);h===null&&(h=this.network.addNode(o)),h.charge=this.defaultCommentElectricalCharge;let u=null;const m=h.destinationEdges;for(;m.next();){const v=m.value;if(v.toVertex===e){u=v;break}}if(u===null){const v=h.sourceEdges;for(;v.next();){const b=v.value;if(b.fromVertex===e){u=b;break}}}u===null&&(u=this.network.linkVertexes(e,h,null)),u.length=this.defaultCommentSpringLength}}}hF(e,n){const a=e.bounds,o=a.x,h=a.y,u=a.width,m=a.height,v=n.bounds,b=v.x,S=v.y,A=v.width,M=v.height;if(o+u<b)if(h>S+M){const O=o+u-b,R=h-S-M;return G.ix(O*O+R*R)}else if(h+m<S){const O=o+u-b,R=h+m-S;return G.ix(O*O+R*R)}else return b-(o+u);else if(o>b+A)if(h>S+M){const O=o-b-A,R=h-S-M;return G.ix(O*O+R*R)}else if(h+m<S){const O=o-b-A,R=h+m-S;return G.ix(O*O+R*R)}else return o-(b+A);else return h>S+M?h-(S+M):h+m<S?S-(h+m):.1}lF(e,n){const a=this.Ha+n;for(;this.Ha<a&&(this.Ha++,!!this.P3(e)););}P3(e){const n=e.vertexes.toArray();if(n.length<=0)return!1;const a=n[0];a.forceX=0,a.forceY=0;let o=a.centerX,h=o,u=a.centerY,m=u;for(let V=1;V<n.length;V++){const q=n[V];q.forceX=0,q.forceY=0;const J=q.centerX,re=q.centerY;o=Math.min(o,J),h=Math.max(h,J),u=Math.min(u,re),m=Math.max(m,re)}const v=h-o>m-u;v?n.sort((V,q)=>V===null||q===null||V===q?0:V.centerX-q.centerX):n.sort((V,q)=>V===null||q===null||V===q?0:V.centerY-q.centerY);const b=this.nu;let S=0,A=0,M=0;for(let V=0;V<n.length;V++){const q=n[V],J=q.bounds,re=q.focus,se=J.x+re.x,ne=J.y+re.y;A=q.charge*this.electricalFieldX(se,ne),M=q.charge*this.electricalFieldY(se,ne),A+=q.mass*this.gravitationalFieldX(se,ne),M+=q.mass*this.gravitationalFieldY(se,ne),q.forceX+=A,q.forceY+=M;for(let xe=V+1;xe<n.length;xe++){const ye=n[xe];if(!this.shouldInteract(q,ye)||xe===V)continue;const we=ye.bounds,ze=ye.focus,Ce=we.x+ze.x,Pe=we.y+ze.y;if(se-Ce>b||Ce-se>b){if(v)break;continue}if(ne-Pe>b||Pe-ne>b){if(!v)break;continue}const Fe=this.hF(q,ye),Re=2*q.charge,We=2*ye.charge;if(Fe>1)S=Re*We/(Fe*Fe),A=S*(se-Ce)/Fe,M=S*(ne-Pe)/Fe;else{let Ke=this.randomNumberGenerator;Ke===null&&(this.randomNumberGenerator=Ke=new Nb(0));const lt=Ke.random(),ct=Ke.random();if(se>Ce)A=Math.abs(ye.bounds.right-q.bounds.x),A=Re*We*(1+A)*lt;else if(se<Ce)A=Math.abs(ye.bounds.x-q.bounds.right),A=-(Re*We)*(1+A)*lt;else{const rt=Math.max(ye.width,q.width);A=Re*We*((1+rt)*lt-rt/2)}if(ne>Pe)M=Math.abs(ye.bounds.bottom-q.bounds.y),M=Re*We*(1+M)*ct;else if(se<Ce)M=Math.abs(ye.bounds.y-q.bounds.bottom),M=-(Re*We)*(1+M)*ct;else{const rt=Math.max(ye.height,q.height);M=Re*We*((1+rt)*ct-rt/2)}}q.forceX+=A,q.forceY+=M,ye.forceX-=A,ye.forceY-=M}}const O=e.edges.iterator;for(;O.next();){const V=O.value,q=V.fromVertex,J=V.toVertex,re=q.bounds,se=q.focus,ne=re.x+se.x,xe=re.y+se.y,ye=J.bounds,we=J.focus,ze=ye.x+we.x,Ce=ye.y+we.y,Pe=this.hF(q,J);Pe>1&&(S=.1*V.stiffness*(Pe-V.length),A=S*.5*(q.width+J.height)*(ne-ze)/Pe,M=S*.5*(q.width+J.height)*(xe-Ce)/Pe),q.forceX-=A,q.forceY-=M,J.forceX+=A,J.forceY+=M}let R=0;for(let V=0;V<n.length;V++){const q=n[V];this.isFixed(q)?this.moveFixedVertex(q):R=Math.max(R,this.moveVertex(q)||0)}return R>this.epsilonDistance*this.epsilonDistance}k3(e,n,a,o){const h=this.Ha+a,u=Math.sqrt(o);this.kw=this.gc*e.vertexes.count;const m=e.vertexes.toArray();let v=0,b=0,S=0;for(;this.Ha<h;){this.Ha++,b=v,v=0;for(let A=0;A<m.length;A++){m[A].forceX=0,m[A].forceY=0;for(let O=0;O<m.length;O++){if(A===O)continue;const R=Math.sqrt((m[A].centerX-m[O].centerX)**2+(m[A].centerY-m[O].centerY)**2),V=n[m[A].idInCluster][m[O].idInCluster],q=(R-this.gc*u*V)/R;m[A].forceX+=q*(m[O].x-m[A].x),m[A].forceY+=q*(m[O].y-m[A].y)}const M=Math.sqrt(m[A].forceX*m[A].forceX+m[A].forceY*m[A].forceY);if(M>0){m[A].forceX=this.kw*m[A].forceX/M,m[A].forceY=this.kw*m[A].forceY/M,this.isFixed(m[A])||(m[A].x+=m[A].forceX,m[A].y+=m[A].forceY);const O=m[A].hierarchicalVertexes.iterator;for(;O.next();){const R=O.value;this.isFixed(R)||(R.centerX+=m[A].forceX,R.centerY+=m[A].forceY)}}v+=M*M}if(v>=b){if(S++,S>=5)break}else S=0;this.kw*=.95}}moveVertex(e){let n=e.forceX,a=e.forceY;const o=this.moveLimit;return n<-o?n=-o:n>o&&(n=o),a<-o?a=-o:a>o&&(a=o),e.centerX+=n,e.centerY+=a,n*n+a*a}shouldInteract(e,n){return!0}moveFixedVertex(e){}commitLayout(){this.Pw(),this.commitNodes(),this.isRouting&&this.commitLinks()}Pw(){if(this.network===null||!this.setsPortSpots)return;const e=this.network.edges.iterator;for(;e.next();){const n=e.value.link;n!==null&&(n.fromSpot=K.Default,n.toSpot=K.Default)}}commitNodes(){if(!this.network)return;let e=0,n=0;if(this.arrangesToOrigin){const h=W.l();this.cx(this.network,h);const u=this.arrangementOrigin;e=u.x-h.x,n=u.y-h.y,W.i(h)}const a=W.l(),o=this.network.vertexes.iterator;for(;o.next();){const h=o.value;(e!==0||n!==0)&&(a.h(h.bounds),a.x+=e,a.y+=n,h.bounds=a),h.commit()}W.i(a)}commitLinks(){if(!this.network)return;const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}springStiffness(e){const n=e.stiffness;return isNaN(n)?this.ou:n}springLength(e){const n=e.length;return isNaN(n)?this.ru:n}electricalCharge(e){const n=e.charge;return isNaN(n)?this.lu:n}electricalFieldX(e,n){return 0}electricalFieldY(e,n){return 0}gravitationalMass(e){const n=e.mass;return isNaN(n)?this.au:n}gravitationalFieldX(e,n){return 0}gravitationalFieldY(e,n){return 0}isFixed(e){return e.isFixed}get currentIteration(){return this.Ha}get arrangementSpacing(){return this.Us}set arrangementSpacing(e){this.Us.equals(e)||(this.Us.h(e),this.p())}get arrangesToOrigin(){return this.Vg}set arrangesToOrigin(e){this.Vg!==e&&(this.Vg=e,this.p())}get setsPortSpots(){return this.zn}set setsPortSpots(e){this.zn!==e&&(this.zn=e,this.p())}get comments(){return this.Xi}set comments(e){this.Xi!==e&&(this.Xi=e,this.p())}get maxPrelayoutIterations(){return this.Bg}set maxPrelayoutIterations(e){this.Bg!==e&&e>=0&&(this.Bg=e,this.p())}get maxIterations(){return this.zg}set maxIterations(e){this.zg!==e&&e>=0&&(this.zg=e,this.p())}get epsilonDistance(){return this.Xg}set epsilonDistance(e){this.Xg!==e&&e>0&&(this.Xg=e,this.p())}get infinityDistance(){return this.nu}set infinityDistance(e){this.nu!==e&&e>1&&(this.nu=e,this.p())}get moveLimit(){return this.Gg}set moveLimit(e){this.Gg!==e&&(this.Gg=e,this.p())}get randomNumberGenerator(){return this.Yg}set randomNumberGenerator(e){this.Yg!==e&&(e!==null&&!s.st(e.random)&&s.o('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+e),this.Yg=e)}get defaultSpringStiffness(){return this.ou}set defaultSpringStiffness(e){this.ou!==e&&(this.ou=e,this.p())}get defaultSpringLength(){return this.ru}set defaultSpringLength(e){this.ru!==e&&(this.ru=e,this.p())}get defaultElectricalCharge(){return this.lu}set defaultElectricalCharge(e){this.lu!==e&&(this.lu=e,this.p())}get defaultGravitationalMass(){return this.au}set defaultGravitationalMass(e){this.au!==e&&(this.au=e,this.p())}get defaultCommentSpringLength(){return this.Kg}set defaultCommentSpringLength(e){this.Kg!==e&&(this.Kg=e,this.p())}get defaultCommentElectricalCharge(){return this.Hg}set defaultCommentElectricalCharge(e){this.Hg!==e&&(this.Hg=e,this.p())}get prelayoutQuality(){return this.hu}set prelayoutQuality(e){this.hu!==e&&(this.hu=e,this.p())}get prelayoutSpread(){return this.gc}set prelayoutSpread(e){this.gc!==e&&(this.gc=e,this.p())}}class Eb extends Bl{constructor(i){super(i)}createVertex(){return new _b(this)}createEdge(){return new Fb(this)}}class _b extends Vl{constructor(e){super(e);E(this,"Gk");E(this,"Yk");E(this,"Kk");E(this,"Hk");E(this,"jk");E(this,"hierarchicalVertexes");E(this,"idInCluster");this.Gk=!1,this.Yk=NaN,this.Kk=NaN,this.Hk=0,this.jk=0,this.hierarchicalVertexes=new w,this.idInCluster=-1}get isFixed(){return this.Gk}set isFixed(e){this.Gk!==e&&(this.Gk=e)}get charge(){return this.Yk}set charge(e){this.Yk!==e&&(this.Yk=e)}get mass(){return this.Kk}set mass(e){this.Kk!==e&&(this.Kk=e)}get forceX(){return this.Hk}set forceX(e){this.Hk!==e&&(this.Hk=e)}get forceY(){return this.jk}set forceY(e){this.jk!==e&&(this.jk=e)}}class Fb extends Zc{constructor(e){super(e);E(this,"qk");E(this,"Wk");this.qk=NaN,this.Wk=NaN}get stiffness(){return this.qk}set stiffness(e){this.qk!==e&&(this.qk=e)}get length(){return this.Wk}set length(e){this.Wk!==e&&(this.Wk=e)}}class Nb{constructor(i){E(this,"I");E(this,"R");E(this,"Q");E(this,"M");E(this,"A");E(this,"seed");i===void 0&&(i=42),this.seed=i,this.A=48271,this.M=2147483647,this.Q=this.M/this.A,this.R=this.M%this.A,this.I=1/this.M,this.random()}random(){const i=this.seed/this.Q,e=this.seed%this.Q,n=this.A*e-this.R*i;return n>0?this.seed=n:this.seed=n+this.M,this.seed*this.I}}var Sp=(ee=>(ee[ee.DepthFirst=0]="DepthFirst",ee[ee.Greedy=1]="Greedy",ee[ee.FromLayers=2]="FromLayers",ee))(Sp||{}),Cp=(ee=>(ee[ee.OptimalLinkLength=10]="OptimalLinkLength",ee[ee.LongestPathSink=11]="LongestPathSink",ee[ee.LongestPathSource=12]="LongestPathSource",ee))(Cp||{}),Ap=(ee=>(ee[ee.DepthFirstOut=20]="DepthFirstOut",ee[ee.DepthFirstIn=21]="DepthFirstIn",ee[ee.Naive=22]="Naive",ee))(Ap||{}),Tp=(ee=>(ee[ee.None=30]="None",ee[ee.Less=31]="Less",ee[ee.More=32]="More",ee))(Tp||{}),Lb=(ee=>(ee[ee.None=0]="None",ee[ee.Expand=1]="Expand",ee[ee.Straighten=2]="Straighten",ee[ee.Median=4]="Median",ee[ee.MaybeExpand=8]="MaybeExpand",ee[ee.All=15]="All",ee))(Lb||{}),Ib=(ee=>(ee[ee.None=0]="None",ee[ee.UpperLeft=1]="UpperLeft",ee[ee.UpperRight=2]="UpperRight",ee[ee.LowerLeft=4]="LowerLeft",ee[ee.LowerRight=8]="LowerRight",ee[ee.All=15]="All",ee))(Ib||{});class Un extends Rs{constructor(e){super();E(this,"Vs");E(this,"ti");E(this,"P");E(this,"cu");E(this,"fu");E(this,"uu");E(this,"mc");E(this,"du");E(this,"cr");E(this,"gu");E(this,"zn");E(this,"_");E(this,"Sw");E(this,"Bt");E(this,"jg");E(this,"Bs");E(this,"ie");E(this,"zs");E(this,"ms");E(this,"ps");E(this,"Rt");E(this,"qg");E(this,"Wg");E(this,"Jk");E(this,"fn");E(this,"mu");E(this,"fr");E(this,"Xn");E(this,"Gn");E(this,"uL");E(this,"ja");this.Vs=25,this.ti=25,this.P=0,this.cu=0,this.fu=10,this.uu=20,this.mc=4,this.du=31,this.cr=15,this.gu=10,this.zn=!0,this._=-1,this.Sw=-1,this.Bt=-1,this.jg=0,this.Bs=0,this.ie=new Int16Array(0),this.zs=new Float32Array(0),this.ms=new Float32Array(0),this.ps=new Float32Array(0),this.Rt=new Float32Array(0),this.qg=0,this.Wg=new Int16Array(0),this.Jk=new Int16Array(0),this.fn=0,this.mu=null,this.fr=new N,this.Xn=[],this.Xn.length=100,this.Gn=15,this.uL=0,this.ja=!0,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Vs=this.Vs,e.ti=this.ti,e.P=this.P,e.cu=this.cu,e.fu=this.fu,e.uu=this.uu,e.mc=this.mc,e.du=this.du,e.cr=this.cr,e.gu=this.gu,e.zn=this.zn,e.Gn=this.Gn,e.ja=this.ja}fe(e){e in Tp?this.aggressiveOption=e:e in Sp?this.cycleRemoveOption=e:e in Ap?this.initializeOption=e:e in Cp?this.layeringOption=e:super.fe(e)}createNetwork(){return new Ob(this)}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.S3(),this.network.vertexes.count>0&&(this.network.deleteSelfEdges(),this.cycleRemoveOption!==2&&this.removeCycles(),this.M3(),this.cycleRemoveOption===2&&this.removeCycles(),this.N3(),this.C3(),this.L3(),this.reduceCrossings(),this.straightenAndPack(),this.updateParts()),this.network=null,this.isValidLayout=!0}linkMinLength(e){return 1}linkLengthWeight(e){return 1}linkStraightenWeight(e){const n=e.fromVertex.node||e.fromVertex.data,a=e.toVertex.node||e.toVertex.data;return n===null&&a===null?8:n===null||a===null?4:1}nodeMinLayerSpace(e,n){return e.node===null&&e.data===null?0:this.P===90||this.P===270?n?e.focus.y+10:e.bounds.height-e.focus.y+10:n?e.focus.x+10:e.bounds.width-e.focus.x+10}nodeMinColumnSpace(e,n){if(e.node===null&&e.data===null)return 0;const a=n?e.$k:e.Zk;if(a!==null)return a;const o=this.P;return o===90||o===270?n?e.$k=e.focus.x/this.ti+1|0:e.Zk=(e.bounds.width-e.focus.x)/this.ti+1|0:n?e.$k=e.focus.y/this.ti+1|0:e.Zk=(e.bounds.height-e.focus.y)/this.ti+1|0}ei(){const e=this.network.vertexes.count;this.Wg.length<e*2&&(this.Wg=new Int16Array(e*2));let n=0;const a=this.network.vertexes.iterator;for(;a.next();){const o=a.value;this.Wg[n]=o.column,n++,this.Wg[n]=o.index,n++}return this.Wg}os(e){let n=0;const a=this.network.vertexes.iterator;for(;a.next();){const o=a.value;o.column=e[n],n++,o.index=e[n],n++}}cF(e,n){const a=this.qa(e),o=this.ie[e];this.Jk.length<o*o&&(this.Jk=new Int16Array(o*o));const h=this.Jk;for(let u=0;u<o;u++){let m=0;const v=a[u],b=v.near;let S=0;b!==null&&b!==v&&b.layer===v.layer&&(m+=Math.max(0,Math.abs(b.index-v.index)-1));let A,M=0,O,R=0,V=0,q=0,J,re=0,se,ne=0,xe=0,ye=0,we;if(n>=0){for(A=a[u].Mo,M=0;M<A.length;M++)if(O=A[M],O.valid&&O.fromVertex.layer!==e)for(R=O.fromVertex.index,V=O.portToPos,q=O.portFromPos,re=M+1;re<A.length;re++)se=A[re],se.valid&&se.fromVertex.layer!==e&&(ne=se.fromVertex.index,xe=se.portToPos,ye=se.portFromPos,V<xe&&(R>ne||R===ne&&q>ye)&&m++,xe<V&&(ne>R||ne===R&&ye>q)&&m++)}if(n<=0){for(A=a[u].rr,M=0;M<A.length;M++)if(O=A[M],O.valid&&O.toVertex.layer!==e)for(R=O.toVertex.index,V=O.portToPos,q=O.portFromPos,re=M+1;re<A.length;re++)se=A[re],se.valid&&se.toVertex.layer!==e&&(ne=se.toVertex.index,xe=se.portToPos,ye=se.portFromPos,q<ye&&(R>ne||R===ne&&V>xe)&&m++,ye<q&&(ne>R||ne===R&&xe>V)&&m++)}for(h[u*o+u]=m,S=u+1;S<o;S++){let ze=0,Ce=0;if(n>=0){for(J=a[u].Mo,we=a[S].Mo,M=0;M<J.length;M++)if(O=J[M],O.valid&&O.fromVertex.layer!==e)for(R=O.fromVertex.index,V=O.portToPos,q=O.portFromPos,re=0;re<we.length;re++)se=we[re],se.valid&&se.fromVertex.layer!==e&&(ne=se.fromVertex.index,xe=se.portToPos,ye=se.portFromPos,(R<ne||R===ne&&q<ye)&&Ce++,(ne<R||ne===R&&ye<q)&&ze++)}if(n<=0){for(J=a[u].rr,we=a[S].rr,M=0;M<J.length;M++)if(O=J[M],O.valid&&O.toVertex.layer!==e)for(R=O.toVertex.index,V=O.portToPos,q=O.portFromPos,re=0;re<we.length;re++)se=we[re],se.valid&&se.toVertex.layer!==e&&(ne=se.toVertex.index,xe=se.portToPos,ye=se.portFromPos,(R<ne||R===ne&&V<xe)&&Ce++,(ne<R||ne===R&&xe<V)&&ze++)}h[u*o+S]=ze,h[S*o+u]=Ce}}return this.Wa(e,a),h}countCrossings(){let e=0;for(let n=0;n<=this._;n++){const a=this.cF(n,1),o=this.ie[n];for(let h=0;h<o;h++)for(let u=h;u<o;u++)e+=a[h*o+u]}return e}A3(e,n,a){const o=this.qa(e),h=this.ie[e];let u=0;for(let m=0;m<h;m++){let v=null;n<=0&&(v=o[m].Mo);let b=null;n>=0&&(b=o[m].rr);let S,A=0,M=0;if(v!==null)for(let O=0;O<v.length;O++)S=v[O],S.valid&&S.fromVertex.layer!==e&&(A=S.fromVertex.column+S.portFromColOffset,M=S.toVertex.column+S.portToColOffset,a?u+=Math.abs(A-M)*this.linkStraightenWeight(S):u+=Math.abs(A-M));if(b!==null)for(let O=0;O<b.length;O++)S=b[O],S.valid&&S.toVertex.layer!==e&&(A=S.fromVertex.column+S.portFromColOffset,M=S.toVertex.column+S.portToColOffset,a?u+=(Math.abs(A-M)+1)*this.linkStraightenWeight(S):u+=Math.abs(A-M))}return this.Wa(e,o),u}Qk(e){let n=0;for(let a=0;a<=this._;a++)n+=this.A3(a,1,e);return n}Mw(){let e=1/0;this.Bt=-1;const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;e=Math.min(e,a.column-this.nodeMinColumnSpace(a,!0)),this.Bt=Math.max(this.Bt,a.column+this.nodeMinColumnSpace(a,!1))}for(n.reset();n.next();){const a=n.value;a.column-=e}this.Bt-=e}Nw(e,n){const a=this.qa(e),o=this.ie[e],h=new Float32Array(o);for(let u=0;u<o;u++){const m=a[u];let v=null;n<=0&&(v=m.Mo);let b=null;n>=0&&(b=m.rr);let S=0,A=0;const M=m.near;M!==null&&M.layer===m.layer&&(S+=M.column-1,A++);let O;if(v!==null)for(let R=0;R<v.length;R++){O=v[R];const V=O.fromVertex;O.valid&&!O.rev&&V.layer!==e&&(S+=V.column,A++)}if(b!==null)for(let R=0;R<b.length;R++){O=b[R];const V=O.toVertex;O.valid&&!O.rev&&V.layer!==e&&(S+=V.column,A++)}A===0?h[u]=-1:h[u]=S/A}return this.Wa(e,a),h}fF(e,n){const a=this.qa(e),o=this.ie[e],h=new Int16Array(o);for(let u=0;u<o;u++){const m=a[u];let v=null;n<=0&&(v=m.Mo);let b=null;n>=0&&(b=m.rr);let S=0;const A=[],M=m.near;M!==null&&M.layer===m.layer&&(A[S]=M.column-1,S++);let O;if(v!==null)for(let R=0;R<v.length;R++){O=v[R];const V=O.fromVertex;O.valid&&!O.rev&&V.layer!==e&&(A[S]=V.column+O.portFromColOffset,S++)}if(b!==null)for(let R=0;R<b.length;R++){O=b[R];const V=O.toVertex;O.valid&&!O.rev&&V.layer!==e&&(A[S]=V.column+O.portToColOffset,S++)}if(S===0)h[u]=-1;else{A.sort((V,q)=>V-q);const R=S>>1;S&1?h[u]=A[R]:h[u]=A[R-1]+A[R]>>1}}return this.Wa(e,a),h}Cw(e,n,a,o,h){if(e.component===a){e.component=n;let u=0,m=0;if(o){const v=e.destinationEdges;for(;v.next();){const b=v.value,S=b.toVertex;u=e.layer-S.layer,m=this.linkMinLength(b),u===m&&this.Cw(S,n,a,o,h)}}if(h){const v=e.sourceEdges;for(;v.next();){const b=v.value,S=b.fromVertex;u=S.layer-e.layer,m=this.linkMinLength(b),u===m&&this.Cw(S,n,a,o,h)}}}}dL(e,n,a,o,h){if(e.component===a){if(e.component=n,o){const u=e.destinationEdges;for(;u.next();){const m=u.value.toVertex;this.dL(m,n,a,o,h)}}if(h){const u=e.sourceEdges;for(;u.next();){const m=u.value.fromVertex;this.dL(m,n,a,o,h)}}}}removeCycles(){const e=this.network.edges.iterator;for(;e.next();){const n=e.value;n.rev=!1}switch(this.cu){default:case 1:this.T3();break;case 0:this.D3();break;case 2:this.v3();break}}v3(){const e=this.network,n=e.vertexes.iterator;let a=1/0;for(;n.next();){const o=n.value;a=Math.min(a,o.layer)}if(a<1/0){if(a<0)for(n.reset();n.next();){const m=n.value;m.layer-=a}const o=[];for(n.reset();n.next();){const m=n.value,v=o[m.layer];v===void 0?o[m.layer]=[m]:v.push(m)}let h=0;for(let m=0;m<o.length;m++){const v=o[m];if(!v||v.length===0)h++;else if(m>0)for(let b=0;b<v.length;b++){const S=v[b];S.layer-=h}}const u=e.edges.iterator;for(;u.next();){const m=u.value,v=m.fromVertex,b=m.toVertex;v.layer<b.layer&&(e.reverseEdge(m),m.rev=!0)}}}T3(){const e=this.network;let n=0,a=e.vertexes.count-1;const o=[];o.length=a+1;const h=e.vertexes.iterator;for(;h.next();){const m=h.value;m.ii=!0}for(;this.F3(e)!==null;){let m;for(m=this.uF(e);m!==null;)o[a]=m,a--,m.ii=!1,m=this.uF(e);for(m=this.dF(e);m!==null;)o[n]=m,n++,m.ii=!1,m=this.dF(e);m=this.R3(e),m!==null&&(o[n]=m,n++,m.ii=!1)}for(let m=0;m<e.vertexes.count;m++)o[m].index=m;const u=e.edges.iterator;for(;u.next();){const m=u.value,v=m.fromVertex,b=m.toVertex;v.index>b.index&&(e.reverseEdge(m),m.rev=!0)}}F3(e){const n=e.vertexes.iterator;for(;n.next();){const a=n.value;if(a.ii)return a}return null}uF(e){const n=e.vertexes.iterator;for(;n.next();){const a=n.value;if(a.ii){let o=!0;const h=a.destinationEdges;for(;h.next();)if(h.value.toVertex.ii){o=!1;break}if(o)return a}}return null}dF(e){const n=e.vertexes.iterator;for(;n.next();){const a=n.value;if(a.ii){let o=!0;const h=a.sourceEdges;for(;h.next();)if(h.value.fromVertex.ii){o=!1;break}if(o)return a}}return null}R3(e){let n=null,a=0;const o=this.network.vertexes.iterator;for(;o.next();){const h=o.value;if(h.ii){let u=0;const m=h.destinationEdges;for(;m.next();)m.value.toVertex.ii&&u++;let v=0;const b=h.sourceEdges;for(;b.next();)b.value.fromVertex.ii&&v++;(n===null||a<u-v)&&(n=h,a=u-v)}}return n}D3(){const e=this.network.vertexes.iterator;for(;e.next();){const a=e.value;a.pu=-1,a.to=-1}const n=this.network.edges.iterator;for(;n.next();){const a=n.value;a.forest=!1}for(this.qg=0,e.reset();e.next();){const a=e.value;a.sourceEdges.count===0&&this.gL(a)}for(e.reset();e.next();){const a=e.value;a.pu===-1&&this.gL(a)}for(n.reset();n.next();){const a=n.value;if(!a.forest){const o=a.fromVertex,h=o.pu,u=o.to,m=a.toVertex,v=m.pu,b=m.to;v<h&&u<b&&(this.network.reverseEdge(a),a.rev=!0)}}}gL(e){e.pu=this.qg,this.qg++;const n=e.destinationEdges;for(;n.next();){const a=n.value,o=a.toVertex;o.pu===-1&&(a.forest=!0,this.gL(o))}e.to=this.qg,this.qg++}M3(){const e=this.network.vertexes.iterator;for(;e.next();){const o=e.value;o.layer=-1}for(this._=-1,this.assignLayers(),e.reset();e.next();){const o=e.value;this._=Math.max(this._,o.layer)}this._>=9999&&s.o("LayeredDigraphLayout, too many layers: "+this._);const n=this.direction==0||this.direction==180,a=[];for(const o=this.network.vertexes.iterator;o.next();){const h=o.value;if(h.node===null||h.centered)continue;const u=h.layer;let m=a[u];m===void 0&&(m=0);const v=n?h.width:h.height;v>m&&(a[u]=v)}for(const o=this.network.vertexes.iterator;o.next();){const h=o.value;if(h.node===null||h.centered)continue;const u=a[h.layer];n?(h.focusX=u/2,h.focusY=h.focus.y,h.width=u):(h.focusX=h.focus.x,h.focusY=u/2,h.height=u)}}assignLayers(){switch(this.fu){case 11:this.gF();break;case 12:this.O3();break;default:case 10:this.I3();break}}gF(){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value,a=this.mF(n);this._=Math.max(a,this._)}}mF(e){let n=0;if(e.layer===-1){const a=e.destinationEdges;for(;a.next();){const o=a.value,h=o.toVertex,u=this.linkMinLength(o);n=Math.max(n,this.mF(h)+u)}e.layer=n}else n=e.layer;return n}O3(){let e=0;const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;e=this.pF(a),this._=Math.max(e,this._)}for(n.reset();n.next();){const a=n.value;a.layer=this._-a.layer}}pF(e){let n=0;if(e.layer===-1){const a=e.sourceEdges;for(;a.next();){const o=a.value,h=o.fromVertex,u=this.linkMinLength(o);n=Math.max(n,this.pF(h)+u)}e.layer=n}else n=e.layer;return n}I3(){this.gF();const e=this.network.vertexes.iterator;for(;e.next();){const a=e.value;a.ii=!1}for(e.reset();e.next();){const a=e.value;a.sourceEdges.count===0&&this.yF(a)}let n=1/0;for(e.reset();e.next();){const a=e.value;n=Math.min(n,a.layer)}for(this._=-1,e.reset();e.next();){const a=e.value;a.layer-=n,this._=Math.max(this._,a.layer)}}yF(e){if(!e.ii){e.ii=!0;const n=e.destinationEdges;for(;n.next();){const a=n.value.toVertex;this.yF(a)}this.E3(e),this.U3(e)}}E3(e){const n=this.network.vertexes.iterator;for(;n.next();){const m=n.value;m.component=-1}const a=0,o=1,h=e.Mo;let u=h.length;for(let m=0;m<u;m++){const v=h[m],b=v.fromVertex,S=v.toVertex,A=this.linkMinLength(v);b.layer-S.layer>A&&this.Cw(b,a,-1,!0,!1)}for(this.Cw(e,o,-1,!0,!0);e.component!==a;){let m=0,v=1/0,b=0,S=null;const A=this.network.vertexes.iterator;for(;A.next();){const M=A.value;if(M.component===o){let O=0,R=!1;const V=M.Mo;u=V.length;for(let J=0;J<u;J++){const re=V[J],se=re.fromVertex;if(O+=this.linkLengthWeight(re),se.component!==o){m+=this.linkLengthWeight(re);const ne=se.layer-M.layer,xe=this.linkMinLength(re);v=Math.min(v,ne-xe)}}const q=M.rr;u=q.length;for(let J=0;J<u;J++){const re=q[J],se=re.toVertex;O-=this.linkLengthWeight(re),se.component!==o?m-=this.linkLengthWeight(re):R=!0}(S===null||O<b)&&!R&&(S=M,b=O)}}if(m>0){for(n.reset();n.next();){const M=n.value;M.component===o&&(M.layer+=v)}e.component=a}else S.component=a}}U3(e){const n=this.network.vertexes.iterator;for(;n.next();){const h=n.value;h.component=-1}const a=0,o=1;for(this.Cw(e,o,-1,!0,!1);e.component!==a;){let h=0,u=1/0,m=0,v=null;const b=this.network.vertexes.iterator;for(;b.next();){const S=b.value;if(S.component===o){let A=0,M=!1;const O=S.Mo;let R=O.length;for(let q=0;q<R;q++){const J=O[q],re=J.fromVertex;A+=this.linkLengthWeight(J),re.component!==o?h+=this.linkLengthWeight(J):M=!0}const V=S.rr;R=V.length;for(let q=0;q<R;q++){const J=V[q],re=J.toVertex;if(A-=this.linkLengthWeight(J),re.component!==o){h-=this.linkLengthWeight(J);const se=S.layer-re.layer,ne=this.linkMinLength(J);u=Math.min(u,se-ne)}}(v===null||A>m)&&!M&&(v=S,m=A)}}if(h<0){for(n.reset();n.next();){const S=n.value;S.component===o&&(S.layer-=u)}e.component=a}else v.component=a}}N3(){const e=this.network,n=[],a=e.edges.iterator;for(;a.next();){const o=a.value;o.valid=!1,n.push(o)}for(let o=0;o<n.length;o++){const h=n[o];let u=h.fromVertex;const m=h.toVertex;if(h.valid||(u.node===null&&u.data===null||m.node===null&&m.data===null)&&u.layer===m.layer)continue;let v=0,b=0,S=0,A=0;if(h.link!==null){const ye=h.link;if(ye===null)continue;const we=u.node,ze=m.node;if(we===null||ze===null)continue;let Ce=ye.fromNode,Pe=ye.toNode,Fe=ye.fromPort;for(;Fe!==null&&!Fe.isVisibleObject();)Fe=Fe.panel;let Re=ye.toPort;for(;Re!==null&&!Re.isVisibleObject();)Re=Re.panel;if(h.rev){const Mt=Ce,li=Fe;Ce=Pe,Fe=Re,Pe=Mt,Re=li}const We=u.focus,Ke=m.focus,lt=h.rev?m.bounds:u.bounds,ct=N.l();we!==Ce?lt.isReal()&&Ce.isVisible()?Ce.actualBounds.isReal()?(Ce.getRelativePoint(Fe,K.Center,ct),ct.x+=Ce.actualBounds.x-lt.x,ct.y+=Ce.actualBounds.y-lt.y):(Ce.getRelativePoint(Fe,K.Center,ct),ct.isReal()||ct.h(We)):ct.h(We):lt.isReal()?(Ce.getRelativePoint(Fe,K.Center,ct),ct.isReal()||ct.h(We)):ct.h(We);const rt=h.rev?u.bounds:m.bounds,bt=N.l();ze!==Pe?rt.isReal()&&Pe.isVisible()?Pe.actualBounds.isReal()?(Pe.getRelativePoint(Re,K.Center,bt),bt.x+=Pe.actualBounds.x-rt.x,bt.y+=Pe.actualBounds.y-rt.y):(Pe.getRelativePoint(Re,K.Center,bt),bt.isReal()||bt.h(Ke)):bt.h(Ke):rt.isReal()?(Pe.getRelativePoint(Re,K.Center,bt),bt.isReal()||bt.h(Ke)):bt.h(Ke),this.P===90||this.P===270?(v=Math.round((ct.x-We.x)/this.ti),S=ct.x,b=Math.round((bt.x-Ke.x)/this.ti),A=bt.x):(v=Math.round((ct.y-We.y)/this.ti),S=ct.y,b=Math.round((bt.y-Ke.y)/this.ti),A=bt.y),N.i(ct),N.i(bt),h.portFromColOffset=v,h.portFromPos=S,h.portToColOffset=b,h.portToPos=A}else h.portFromColOffset=0,h.portFromPos=0,h.portToColOffset=0,h.portToPos=0;let M=u.layer;const O=m.layer,R=this.V3(h),V=R===1||R===3,q=R===2||R===3;let J,re,se=null,ne;q&&(se=this.B3(u,m),ne=1,re=e.createVertex(),re.node=null,re._k=1,re.layer=M,re.near=u,e.addVertex(re),J=e.linkVertexes(u,re,h.link),J.valid=!1,J.rev=h.rev,J.portFromColOffset=v,J.portToColOffset=0,J.portFromPos=S,J.portToPos=0,u=re);let xe=1;if(V&&xe--,M-O>xe&&M>0){for(h.valid=!1,re=e.createVertex(),re.node=null,re._k=2,re.layer=M-1,se&&ne<se.length&&re.layer===se[ne].layer&&(re.near=se[ne++]),e.addVertex(re),J=e.linkVertexes(u,re,h.link),J.valid=!0,J.rev=h.rev,J.portFromColOffset=q?0:v,J.portToColOffset=0,J.portFromPos=q?0:S,J.portToPos=0,u=re,M--;M-O>xe&&M>0;)re=e.createVertex(),re.node=null,re._k=3,re.layer=M-1,se&&ne<se.length&&re.layer===se[ne].layer&&(re.near=se[ne++]),e.addVertex(re),J=e.linkVertexes(u,re,h.link),J.valid=!0,J.rev=h.rev,J.portFromColOffset=0,J.portToColOffset=0,J.portFromPos=0,J.portToPos=0,u=re,M--;J=e.linkVertexes(re,m,h.link),J.valid=!V,V&&(re.near=m),J.rev=h.rev,J.portFromColOffset=0,J.portToColOffset=b,J.portFromPos=0,J.portToPos=A}else h.valid=!0}}V3(e){let n=0;const a=e.link;if(a!==null){const o=a.fromPort,h=a.toPort;if(o!==null&&h!==null){const u=a.fromNode,m=a.toNode;if(u!==null&&m!==null){const v=this.tP(!0),b=this.tP(!1),S=this.setsPortSpots?v:a.computeSpot(!0,o),A=this.setsPortSpots?b:a.computeSpot(!1,h),M=a.isOrthogonal;if(S.isSide()&&S.includesSide(b)&&A.isSide()&&A.includesSide(v))return 0;const O=a.getLinkPoint(u,o,S,!0,M,m,h,N.l()),R=a.getLinkDirection(u,o,O,S,!0,M,m,h);N.i(O),(!S.isNone()&&R===this.wF(e,!0)||this.setsPortSpots&&u!==null&&u.ports.count===1&&e.rev)&&(n+=1);const V=a.getLinkPoint(m,h,A,!1,M,u,o,N.l()),q=a.getLinkDirection(m,h,V,A,!1,M,u,o);N.i(V),(!A.isNone()&&q===this.wF(e,!1)||this.setsPortSpots&&m!==null&&m.ports.count===1&&e.rev)&&(n+=2)}}}return n}wF(e,n){return this.P===90?n&&!e.rev||!n&&e.rev?270:90:this.P===180?n&&!e.rev||!n&&e.rev?0:180:this.P===270?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}B3(e,n){const a=[];return a.push(n),this.xF(e,a)?a.reverse():[]}xF(e,n){const a=n[n.length-1].sourceEdges.iterator;for(;a.next();){const o=a.value;if(o.rev||!o.valid)continue;const h=o.fromVertex;if(n.push(h),h===e||this.xF(e,n))return!0;n.pop()}return!1}C3(){this.ie.length!==this._+1&&(this.ie=new Int16Array(this._+1));const e=this.ie;for(let a=0;a<=this._;a++)e[a]=0;const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;a.index=-1}this.initializeIndices(),this.Sw=-1,this.jg=0,this.Bs=0;for(let a=0;a<=this._;a++)e[a]>e[this.Bs]&&(this.Sw=e[a]-1,this.Bs=a),e[a]<e[this.jg]&&(this.jg=a);this.mu=[];for(let a=0;a<e.length;a++)this.mu[a]=[];for(n.reset();n.next();){const a=n.value,o=a.layer,h=this.mu[o];h[a.index]=a}}initializeIndices(){switch(this.uu){default:case 22:this.z3();break;case 20:this.X3();break;case 21:this.G3();break}}z3(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;if(a.near&&(e===null&&(e=new Map),a.layer===a.near.layer)){const o=e.get(a.near)||[];o.push(a),e.set(a.near,o)}}for(n.reset();n.next();){const a=n.value;if(a.near)continue;const o=a.layer;if(a.index=this.ie[o],this.ie[o]++,!e)continue;const h=e.get(a);Array.isArray(h)&&h.forEach(u=>{u.index=this.ie[o],this.ie[o]++})}}X3(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;if(a.near&&(e===null&&(e=new Map),a.layer===a.near.layer)){const o=e.get(a.near)||[];o.push(a),e.set(a.near,o)}}for(let a=this._;a>=0;a--)for(n.reset();n.next();){const o=n.value;o.layer===a&&o.index===-1&&this.bF(o,e)}}bF(e,n){if(e.near)return;const a=e.layer;if(e.index=this.ie[a],this.ie[a]++,n){const u=n.get(e);Array.isArray(u)&&u.forEach(m=>{m.index=this.ie[a],this.ie[a]++})}const o=e.rr;let h=!0;for(;h;){h=!1;for(let u=0;u<o.length-1;u++){const m=o[u],v=o[u+1];m.portFromColOffset>v.portFromColOffset&&(h=!0,o[u]=v,o[u+1]=m)}}for(let u=0;u<o.length;u++){const m=o[u];if(m.valid){const v=m.toVertex;v.index===-1&&this.bF(v,n)}}}G3(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value;if(a.near&&(e===null&&(e=new Map),a.layer===a.near.layer)){const o=e.get(a.near)||[];o.push(a),e.set(a.near,o)}}for(let a=0;a<=this._;a++)for(n.reset();n.next();){const o=n.value;o.layer===a&&o.index===-1&&this.kF(o,e)}}kF(e,n){if(e.near)return;const a=e.layer;if(e.index=this.ie[a],this.ie[a]++,n){const b=n.get(e);Array.isArray(b)&&b.forEach(S=>{S.index=this.ie[a],this.ie[a]++})}const o=e.Mo;let h=!0,u=0;for(;h;)for(h=!1,u=0;u<o.length-1;u++){const b=o[u],S=o[u+1];b.portToColOffset>S.portToColOffset&&(h=!0,o[u]=S,o[u+1]=b)}let m,v;for(u=0;u<o.length;u++)v=o[u],v.valid&&(m=v.fromVertex,m.index===-1&&this.kF(m,n))}L3(){this.Bt=-1;for(let e=0;e<=this._;e++){const n=this.qa(e);let a=0;const o=this.ie[e];for(let h=0;h<o;h++){const u=n[h];a+=this.nodeMinColumnSpace(u,!0),u.column=a,a+=1,a+=this.nodeMinColumnSpace(u,!1)}this.Bt=Math.max(this.Bt,a-1),this.Wa(e,n)}}reduceCrossings(){let e=this.countCrossings(),n=this.ei(),a=0,o=0,h=0;for(a=0;a<this.mc;a++){for(o=0;o<=this._;o++)this.eP(o,1),this.ys(o,1,!1,1);for(h=this.countCrossings(),h<e&&(e=h,n=this.ei()),o=this._;o>=0;o--)this.eP(o,-1),this.ys(o,-1,!1,-1);h=this.countCrossings(),h<e&&(e=h,n=this.ei())}for(this.os(n),a=0;a<this.mc;a++){for(o=0;o<=this._;o++)this.eP(o,0),this.ys(o,0,!1,0);for(h=this.countCrossings(),h<e&&(e=h,n=this.ei()),o=this._;o>=0;o--)this.eP(o,0),this.ys(o,0,!1,0);h=this.countCrossings(),h<e&&(e=h,n=this.ei())}this.os(n);let u=!1,m=0,v=0,b=0,S=0;switch(this.du){case 30:break;case 32:for(b=e+1;(S=this.countCrossings())<b;)for(b=S,m=this._;m>=0;m--)for(v=0;v<=m;v++){for(u=!0;u;)for(u=!1,o=m;o>=v;o--)u=this.ys(o,-1,!1,-1)||u;for(h=this.countCrossings(),h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=m;o>=v;o--)u=this.ys(o,1,!1,1)||u;for(h=this.countCrossings(),h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=v;o<=m;o++)u=this.ys(o,1,!1,1)||u;for(h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=v;o<=m;o++)u=this.ys(o,-1,!1,-1)||u;for(h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=m;o>=v;o--)u=this.ys(o,0,!1,0)||u;for(h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=v;o<=m;o++)u=this.ys(o,0,!1,0)||u;h>=e?this.os(n):(e=h,n=this.ei())}break;default:case 31:for(m=this._,v=0,b=e+1;(S=this.countCrossings())<b;){for(b=S,u=!0;u;)for(u=!1,o=m;o>=v;o--)u=this.ys(o,-1,!1,-1)||u;for(h=this.countCrossings(),h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=m;o>=v;o--)u=this.ys(o,1,!1,1)||u;for(h=this.countCrossings(),h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=v;o<=m;o++)u=this.ys(o,1,!1,1)||u;for(h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=v;o<=m;o++)u=this.ys(o,-1,!1,-1)||u;for(h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=m;o>=v;o--)u=this.ys(o,0,!1,0)||u;for(h>=e?this.os(n):(e=h,n=this.ei()),u=!0;u;)for(u=!1,o=v;o<=m;o++)u=this.ys(o,0,!1,0)||u;h>=e?this.os(n):(e=h,n=this.ei())}break}this.os(n)}eP(e,n){let a=0,o=!1;const h=this.qa(e),u=this.ie[e],m=this.fF(e,n),v=this.Nw(e,n);for(a=0;a<u;a++)v[a]===-1&&(v[a]=h[a].column),m[a]===-1&&(m[a]=h[a].column);let b=!0,S;for(;b;)for(b=!1,a=0;a<u-1;a++)if(m[a+1]<m[a]||m[a+1]===m[a]&&v[a+1]<v[a]){o=!0,b=!0;const M=m[a];m[a]=m[a+1],m[a+1]=M;const O=v[a];v[a]=v[a+1],v[a+1]=O,S=h[a],h[a]=h[a+1],h[a+1]=S}let A=0;for(a=0;a<u;a++)S=h[a],S.index=a,A+=this.nodeMinColumnSpace(S,!0),S.column=A,A+=1,A+=this.nodeMinColumnSpace(S,!1);return this.Wa(e,h),o}ys(e,n,a,o){const h=this.qa(e),u=this.ie[e],m=this.cF(e,n);let v=0,b;if(!a||o>0)for(b=new Float32Array(u),v=0;v<u;v++)b[v]=-1;else b=this.Nw(e,-1);let S;if(!a||o<0)for(S=new Float32Array(u),v=0;v<u;v++)S[v]=-1;else S=this.Nw(e,1);let A=!1,M=!0;for(;M;)for(M=!1,v=0;v<u-1;v++){const O=m[h[v].index*u+h[v+1].index],R=m[h[v+1].index*u+h[v].index];let V=0,q=0;const J=h[v].column,re=h[v+1].column,se=this.nodeMinColumnSpace(h[v],!0),ne=this.nodeMinColumnSpace(h[v],!1),xe=this.nodeMinColumnSpace(h[v+1],!0),ye=this.nodeMinColumnSpace(h[v+1],!1),we=J-se+xe,ze=re-ne+ye;let Ce=0,Pe=0,Fe=0,Re=0,We=0,Ke=0,lt=0,ct,rt=0,bt,Mt=0;const li=h[v].sourceEdges.iterator;if(a&&o<=0)for(;li.next();){const yi=li.value;ct=yi.fromVertex,yi.valid&&ct.layer!==e&&(Fe=this.linkStraightenWeight(yi),Re=yi.portFromColOffset,We=yi.portToColOffset,Ke=ct.column,Ce+=(Math.abs(J+We-(Ke+Re))+1)*Fe,Pe+=(Math.abs(ze+We-(Ke+Re))+1)*Fe)}for(li.reset();li.next();){const yi=li.value;if(ct=yi.fromVertex,yi.valid&&ct.layer===e){for(rt=0;rt<h.length&&h[rt]!==ct;)rt++;rt<v&&(V+=2*(v-rt),q+=2*(v+1-rt)),rt===v+1&&(V+=1),rt>v+1&&(V+=4*(rt-v),q+=4*(rt-(v+1)))}}const Vt=h[v].destinationEdges.iterator;if(a&&o>=0)for(;Vt.next();){const yi=Vt.value;bt=yi.toVertex,yi.valid&&bt.layer!==e&&(Fe=this.linkStraightenWeight(yi),Re=yi.portFromColOffset,We=yi.portToColOffset,lt=bt.column,Ce+=(Math.abs(J+Re-(lt+We))+1)*Fe,Pe+=(Math.abs(ze+Re-(lt+We))+1)*Fe)}for(Vt.reset();Vt.next();){const yi=Vt.value;if(bt=yi.toVertex,yi.valid&&bt.layer===e){for(Mt=0;Mt<h.length&&h[Mt]!==bt;)Mt++;Mt===v+1&&(q+=1)}}const Gt=h[v+1].sourceEdges.iterator;if(a&&o<=0)for(;Gt.next();){const yi=Gt.value;ct=yi.fromVertex,yi.valid&&ct.layer!==e&&(Fe=this.linkStraightenWeight(yi),Re=yi.portFromColOffset,We=yi.portToColOffset,Ke=ct.column,Ce+=(Math.abs(re+We-(Ke+Re))+1)*Fe,Pe+=(Math.abs(we+We-(Ke+Re))+1)*Fe)}for(Gt.reset();Gt.next();){const yi=Gt.value;if(ct=yi.fromVertex,yi.valid&&ct.layer===e){for(rt=0;rt<h.length&&h[rt]!==ct;)rt++;rt<v&&(V+=2*(v+1-rt),q+=2*(v-rt)),rt===v&&(q+=1),rt>v+1&&(V+=4*(rt-(v+1)),q+=4*(rt-v))}}const zt=h[v+1].destinationEdges.iterator;if(a&&o>=0)for(;zt.next();){const yi=zt.value;bt=yi.toVertex,yi.valid&&bt.layer!==e&&(Fe=this.linkStraightenWeight(yi),Re=yi.portFromColOffset,We=yi.portToColOffset,lt=bt.column,Ce+=(Math.abs(re+Re-(lt+We))+1)*Fe,Pe+=(Math.abs(we+Re-(lt+We))+1)*Fe)}for(zt.reset();zt.next();){const yi=zt.value;if(bt=yi.toVertex,yi.valid&&bt.layer===e){for(Mt=0;Mt<h.length&&h[Mt]!==bt;)Mt++;Mt===v&&(V+=1)}}let jt=0,xi=0;const gi=b[h[v].index],Ot=S[h[v].index],Qt=b[h[v+1].index],un=S[h[v+1].index];if(gi!==-1&&(jt+=Math.abs(gi-J),xi+=Math.abs(gi-ze)),Ot!==-1&&(jt+=Math.abs(Ot-J),xi+=Math.abs(Ot-ze)),Qt!==-1&&(jt+=Math.abs(Qt-re),xi+=Math.abs(Qt-we)),un!==-1&&(jt+=Math.abs(un-re),xi+=Math.abs(un-we)),q<V-.5||q===V&&R<O-.5||q===V&&R===O&&Pe<Ce-.5||q===V&&R===O&&Pe===Ce&&xi<jt-.5){A=!0,M=!0,h[v].column=ze,h[v+1].column=we;const yi=h[v];h[v]=h[v+1],h[v+1]=yi}}for(v=0;v<u;v++)h[v].index=v;return this.Wa(e,h),A}straightenAndPack(){if(this.Gn!==0){this.Y3();return}let e=0,n=!1,a=(this.cr&1)!==0;const o=(this.cr&8)!==0;if(this.network.edges.count>1e3&&o&&(a=!1),a){const h=[];let u=0;for(u=0;u<=this._;u++)h[u]=0;let m=0;const v=this.network.vertexes.iterator;for(;v.next();){const S=v.value;e=S.layer,m=S.column;const A=this.nodeMinColumnSpace(S,!1);h[e]=Math.max(h[e],m+A)}const b=8;for(v.reset();v.next();){const S=v.value;e=S.layer,m=S.column,S.column=((this.Bt-h[e])*b>>1)+m*b}this.Bt*=b}if(this.cr&2){n=!0;let h=0;for(;n&&h<this.gu;){for(n=!1,e=this.Bs+1;e<=this._;e++)n=this.Jg(e,1)||n;for(e=this.Bs-1;e>=0;e--)n=this.Jg(e,-1)||n;n=this.Jg(this.Bs,0)||n,h++}}if(this.cr&4){for(e=this.Bs+1;e<=this._;e++)this.mL(e,1);for(e=this.Bs-1;e>=0;e--)this.mL(e,-1);this.mL(this.Bs,0)}if(a&&(this.PF(-1),this.PF(1)),(this.cr&2)!==0){n=!0;let h=0;for(;n&&h<this.gu;){for(n=!1,n=this.Jg(this.Bs,0)||n,e=this.Bs+1;e<=this._;e++)n=this.Jg(e,0)||n;for(e=this.Bs-1;e>=0;e--)n=this.Jg(e,0)||n;h++}}}Jg(e,n){let a=!1;for(;this.K3(e,n);)a=!0;return a}K3(e,n){let a=0;const o=this.qa(e),h=this.ie[e],u=this.Nw(e,-1);if(n>0)for(a=0;a<h;a++)u[a]=-1;const m=this.Nw(e,1);if(n<0)for(a=0;a<h;a++)m[a]=-1;let v=!1,b=!0;for(;b;)for(b=!1,a=0;a<h;a++){const S=o[a].column,A=this.nodeMinColumnSpace(o[a],!0),M=this.nodeMinColumnSpace(o[a],!1);let O=0;a-1<0||S-o[a-1].column-1>A+this.nodeMinColumnSpace(o[a-1],!1)?O=S-1:O=S;let R=0;a+1>=h||o[a+1].column-S-1>M+this.nodeMinColumnSpace(o[a+1],!0)?R=S+1:R=S;let V=0,q=0,J=0,re=0,se=0,ne=0;if(n<=0){const Pe=o[a].sourceEdges.iterator;for(;Pe.next();){const Fe=Pe.value,Re=Fe.fromVertex;if(Fe.valid&&Re.layer!==e){re=this.linkStraightenWeight(Fe),se=Fe.portFromColOffset,ne=Fe.portToColOffset;const We=Re.column;V+=(Math.abs(S+ne-(We+se))+1)*re,q+=(Math.abs(O+ne-(We+se))+1)*re,J+=(Math.abs(R+ne-(We+se))+1)*re}}}if(n>=0){const Pe=o[a].destinationEdges.iterator;for(;Pe.next();){const Fe=Pe.value,Re=Fe.toVertex;if(Fe.valid&&Re.layer!==e){re=this.linkStraightenWeight(Fe),se=Fe.portFromColOffset,ne=Fe.portToColOffset;const We=Re.column;V+=(Math.abs(S+se-(We+ne))+1)*re,q+=(Math.abs(O+se-(We+ne))+1)*re,J+=(Math.abs(R+se-(We+ne))+1)*re}}}let xe=0,ye=0,we=0;const ze=u[o[a].index],Ce=m[o[a].index];ze!==-1&&(xe+=Math.abs(ze-S),ye+=Math.abs(ze-O),we+=Math.abs(ze-R)),Ce!==-1&&(xe+=Math.abs(Ce-S),ye+=Math.abs(Ce-O),we+=Math.abs(Ce-R)),q<V||q===V&&ye<xe?(v=!0,b=!0,o[a].column=O):(J<V||J===V&&we<xe)&&(v=!0,b=!0,o[a].column=R)}return this.Wa(e,o),this.Mw(),v}mL(e,n){let a=0;const o=this.qa(e),h=this.ie[e],u=this.fF(e,n),m=new Int16Array(u);let v=!1,b=!0;for(;b;)for(b=!1,a=0;a<h;a++){const S=o[a].column,A=this.nodeMinColumnSpace(o[a],!0),M=this.nodeMinColumnSpace(o[a],!1);let O=0,R=0,V=0,q=0,J=0;m[a]===-1?a===0&&a===h-1?O=S:a===0?(R=o[a+1].column,R-S===M+this.nodeMinColumnSpace(o[a+1],!0)?O=S-1:O=S):a===h-1?(V=o[a-1].column,S-V===A+this.nodeMinColumnSpace(o[a-1],!1)?O=S+1:O=S):(V=o[a-1].column,J=V+this.nodeMinColumnSpace(o[a-1],!1)+A+1,R=o[a+1].column,q=R-this.nodeMinColumnSpace(o[a+1],!0)-M-1,O=(J+q)/2|0):a===0&&a===h-1?O=m[a]:a===0?(R=o[a+1].column,q=R-this.nodeMinColumnSpace(o[a+1],!0)-M-1,O=Math.min(m[a],q)):a===h-1?(V=o[a-1].column,J=V+this.nodeMinColumnSpace(o[a-1],!1)+A+1,O=Math.max(m[a],J)):(V=o[a-1].column,J=V+this.nodeMinColumnSpace(o[a-1],!1)+A+1,R=o[a+1].column,q=R-this.nodeMinColumnSpace(o[a+1],!0)-M-1,J<m[a]&&m[a]<q?O=m[a]:J>=m[a]?O=J:q<=m[a]&&(O=q)),O!==S&&(v=!0,b=!0,o[a].column=O)}return this.Wa(e,o),this.Mw(),v}H3(){for(let e=0;e<=this.Bt;e++)for(;this.j3(e,1););this.Mw()}j3(e,n){let a=!0;const o=this.network.vertexes.iterator;for(;o.next();){const u=o.value,m=this.nodeMinColumnSpace(u,!0),v=this.nodeMinColumnSpace(u,!1);if(u.column-m<=e&&u.column+v>=e){a=!1;break}}let h=!1;if(a){if(n>0)for(o.reset();o.next();){const u=o.value;u.column>e&&(u.column-=1,h=!0)}if(n<0)for(o.reset();o.next();){const u=o.value;u.column<e&&(u.column+=1,h=!0)}}return h}q3(){this.H3();for(let e=0;e<this.Bt;e++)for(;this.W3(e,1););this.Mw()}W3(e,n){let a=e;n>0&&(a=e+1),n<0&&(a=e-1);let o=0;const h=[],u=[];for(o=0;o<=this._;o++)h[o]=!1,u[o]=!1;const m=this.network.vertexes.iterator;for(;m.next();){const S=m.value,A=S.column-this.nodeMinColumnSpace(S,!0),M=S.column+this.nodeMinColumnSpace(S,!1);A<=e&&M>=e&&(h[S.layer]=!0),A<=a&&M>=a&&(u[S.layer]=!0)}let v=!0,b=!1;for(o=0;o<=this._;o++)v=v&&!(h[o]&&u[o]);if(v){if(n>0)for(m.reset();m.next();){const S=m.value;S.column>e&&(S.column-=1,b=!0)}if(n<0)for(m.reset();m.next();){const S=m.value;S.column<e&&(S.column+=1,b=!0)}}return b}PF(e){this.q3();let n=0,a,o=0,h=0,u=0;if(e>0)for(n=0;n<=this.Bt;n++)for(a=this.ei(),o=this.Qk(!0),h=o+1;o<h;)h=o,this.SF(n,1),u=this.Qk(!0),u>o?this.os(a):u<o&&(o=u,a=this.ei());if(e<0)for(n=this.Bt;n>=0;n--)for(a=this.ei(),o=this.Qk(!0),h=o+1;o<h;)h=o,this.SF(n,-1),u=this.Qk(!0),u>o?this.os(a):u<o&&(o=u,a=this.ei());this.Mw()}SF(e,n){this.fn=0;const a=this.network.vertexes.iterator;for(;a.next();){const A=a.value;A.component=-1}if(n>0)for(a.reset();a.next();){const A=a.value;A.column-this.nodeMinColumnSpace(A,!0)<=e&&(A.component=this.fn)}if(n<0)for(a.reset();a.next();){const A=a.value;A.column+this.nodeMinColumnSpace(A,!1)>=e&&(A.component=this.fn)}for(this.fn++,a.reset();a.next();){const A=a.value;A.component===-1&&(this.dL(A,this.fn,-1,!0,!0),this.fn++)}let o=0;const h=[];for(o=0;o<this.fn*this.fn;o++)h[o]=!1;const u=[];for(o=0;o<(this._+1)*(this.Bt+1);o++)u[o]=-1;for(a.reset();a.next();){const A=a.value,M=A.layer,O=Math.max(0,A.column-this.nodeMinColumnSpace(A,!0)),R=Math.min(this.Bt,A.column+this.nodeMinColumnSpace(A,!1));for(let V=O;V<=R;V++)u[M*(this.Bt+1)+V]=A.component}for(let A=0;A<=this._;A++){if(n>0)for(let M=0;M<this.Bt;M++)u[A*(this.Bt+1)+M]!==-1&&u[A*(this.Bt+1)+M+1]!==-1&&u[A*(this.Bt+1)+M]!==u[A*(this.Bt+1)+M+1]&&(h[u[A*(this.Bt+1)+M]*this.fn+u[A*(this.Bt+1)+M+1]]=!0);if(n<0)for(let M=this.Bt;M>0;M--)u[A*(this.Bt+1)+M]!==-1&&u[A*(this.Bt+1)+M-1]!==-1&&u[A*(this.Bt+1)+M]!==u[A*(this.Bt+1)+M-1]&&(h[u[A*(this.Bt+1)+M]*this.fn+u[A*(this.Bt+1)+M-1]]=!0)}const m=[];for(o=0;o<this.fn;o++)m[o]=!0;const v=[];v.push(0);let b=0;for(;v.length!==0;)if(b=v[v.length-1],v.pop(),m[b])for(m[b]=!1,o=0;o<this.fn;o++)h[b*this.fn+o]&&v.splice(0,0,o);let S=!1;if(n>0)for(a.reset();a.next();){const A=a.value;m[A.component]&&(A.column-=1,S=!0)}if(n<0)for(a.reset();a.next();){const A=a.value;m[A.component]&&(A.column+=1,S=!0)}return S}Y3(){const e=s.nt(),n=this.mu.length;for(let O=0;O<=n;O++)e[O]=[];const a=this.network.vertexes.iterator;for(;a.next();){const O=a.value,R=n-O.layer,V=e[R];V[O.index]=O}const o=new C;this.J3(e,o);let h=null,u=null,m=null,v=null;const b=(this.Gn&1)!==0,S=(this.Gn&2)!==0,A=(this.Gn&4)!==0,M=(this.Gn&8)!==0;b&&(this.hl(e,o,!0),h=this.iP(e,!0,!1)),e.reverse(),A&&(this.hl(e,o,!1),m=this.iP(e,!1,!1));for(const O of e)O.reverse();M&&(this.hl(e,o,!1),v=this.iP(e,!1,!0)),e.reverse(),S&&(this.hl(e,o,!0),u=this.iP(e,!0,!0)),s.Z(e),this.$3(h,u,m,v),this.network.vertexes.each(O=>{const R=O,V=s.nt();b&&V.push(h.get(R)),S&&V.push(u.get(R)),A&&V.push(m.get(R)),M&&V.push(v.get(R)),V.sort((ne,xe)=>ne-xe);const q=V.length,J=Math.floor((q-1)/2),re=Math.ceil((q-1)/2),se=(V[J]+V[re])/2;s.Z(V),R.mi=se})}J3(e,n){const a=e.length;for(let o=1;o<a-1;o++){let h=0,u=0;const m=e[o],v=e[o+1];for(let b=0;u<v.length;b++){const S=v[b],A=this.Z3(S);if(b===v.length-1||A){let M=m.length-1;for(A&&(M=S.getProperSourceVertexes()[0].index);u<=b;){const O=v[u].getProperSourceEdges();for(const R of O){const V=R.fromVertex.index;(V<h||V>M)&&n.add(R)}u++}h=M}}}}Z3(e){if(e.node===null){const n=e.getProperSourceVertexes();if(n.length>0)return n[0].node===null}return!1}hl(e,n,a){this.Q3(e);for(const o of e){let h=-1;for(const u of o){const m=a?u.getProperSourceVertexes():u.getProperDestinationVertexes(),v=m.length;if(v>0){m.sort((S,A)=>S.Ja-A.Ja);const b=(v-1)/2;for(let S=Math.floor(b),A=Math.ceil(b);S<=A;S++)if(u.Yn===u){const M=m[S];let O;a?O=M.getDestinationEdge(u):O=u.getDestinationEdge(M),!n.has(O)&&h<M.Ja&&(M.Yn=u,u.pc=M.pc,u.Yn=M.pc,h=M.Ja)}}}}}Q3(e){for(let n=0;n<e.length;n++){const a=e[n];for(let o=0;o<a.length;o++){const h=a[o];h.pc=h,h.Yn=h,h.MF=n,h.Ja=o}}}iP(e,n,a){const o=this.P===90||this.P===270;for(const u of e)for(const m of u)m.rs=m,m.yu=1/0,m.mi=NaN,m.Kn=0;this._3(e,n,a);for(const u of e)for(const m of u)m.pc===m&&this.NF(m,e);for(let u=0;u<e.length;u++){if(e[u].length<=0)continue;const m=e[u][0];if(m.rs===m){m.rs.yu===1/0&&(m.rs.yu=0);let v=u,b=0,S;do{for(S=e[v][b];S.Yn!==S.pc;)if(S=S.Yn,v++,S.Ja>0){const A=this.CF(S,e),M=o?A.width:A.height,O=S.rs.yu+S.mi+S.Kn-(A.mi+A.Kn+M+this.columnSpacing);A.rs.yu=Math.min(A.rs.yu,O)}b=S.Ja+1}while(v<e.length&&b<e[v].length&&S.rs===e[v][b].rs)}}const h=new Q;for(const u of e)for(const m of u){m.mi=m.mi+m.rs.yu+m.Kn;const v=o?m.width:m.height;h.set(m,a?-m.mi-v:m.mi)}return h}_3(e,n,a){const o=this.P===90||this.P===270;for(const h of e)for(const u of h)if(u.pc===u){let m=0,v=u;for(;v.Yn!==u;){const b=v.Yn,S=o?v.width:v.height,A=o?b.width:b.height;let M,O,R,V;n?(R=v.getDestinationEdge(b),M=R.portFromPos,O=R.portToPos,R.link!==null&&(v.node&&v.node!==R.link.fromNode&&(M=o?v.focusX:v.focusY),b.node&&b.node!==R.link.toNode&&(O=o?b.focusX:b.focusY)),a?V=v.Kn+(S-M)-(A-O):V=v.Kn+M-O):(R=b.getDestinationEdge(v),M=R.portToPos,O=R.portFromPos,R.link!==null&&(v.node&&v.node!==R.link.toNode&&(M=o?v.focusX:v.focusY),b.node&&b.node!==R.link.fromNode&&(O=o?b.focusX:b.focusY)),a?V=v.Kn+(S-M)-(A-O):V=v.Kn+M-O),b.Kn=V,m=Math.min(m,V),v=v.Yn}v=u;do v.Kn=v.Kn-m,v=v.Yn;while(v!==u)}}NF(e,n){if(!isNaN(e.mi))return;e.mi=0;let a=e;do{if(a.Ja>0){const o=this.CF(a,n),h=o.pc;this.NF(h,n),e.rs===e&&(e.rs=h.rs);const u=this.P===90||this.P===270?o.width:o.height;if(e.rs===h.rs){const m=h.mi+o.Kn+u-a.Kn+this.columnSpacing;e.mi=Math.max(e.mi,m)}}a=a.Yn}while(a!==e);for(;a.Yn!==e;)a=a.Yn,a.mi=e.mi,a.rs=e.rs}CF(e,n){const a=e.MF,o=e.Ja;return o<1&&s.o("Could not determine previous vertex in layer"),n[a][o-1]}$3(...e){let n=-1;const a=s.nt(),o=s.nt();let h=1/0;for(let u=0;u<4;u++){if(!e[u])continue;const m=this.tU(e[u],a,o,u);m<h&&(n=u,h=m)}for(let u=0;u<4;u++){const m=e[u];if(!m)continue;const v=u===0||u===2?a[n]-a[u]:o[n]-o[u];v!==0&&m.each(b=>{m.set(b.key,b.value+v)})}s.Z(a),s.Z(o)}tU(e,n,a,o){if(!e||e.count===0)return n[o]=0,a[o]=0,1/0;let h=1/0,u=-1/0;return e.each(m=>{const v=m.key,b=m.value,S=this.P===90||this.P===270?v.width:v.height;b<h&&(h=b),b+S>u&&(u=b+S)}),n[o]=h,a[o]=u,u-h}commitLayout(){this.Pw(),this.commitNodes(),this.pL(),this.isRouting&&this.commitLinks()}Pw(){if(!this.setsPortSpots)return;const e=this.tP(!0),n=this.tP(!1),a=this.network.edges.iterator;for(;a.next();){const o=a.value.link;o!==null&&(o.fromSpot=e,o.toSpot=n)}}tP(e){return this.P===270?e?K.MiddleTop:K.MiddleBottom:this.P===90?e?K.MiddleBottom:K.MiddleTop:this.P===180?e?K.MiddleLeft:K.MiddleRight:e?K.MiddleRight:K.MiddleLeft}commitNodes(){this.zs.length!==this._+1&&(this.zs=new Float32Array(this._+1)),this.ms.length!==this._+1&&(this.ms=new Float32Array(this._+1)),this.ps.length!==this._+1&&(this.ps=new Float32Array(this._+1)),this.Rt.length!==this._+1&&(this.Rt=new Float32Array(this._+1));for(let R=0;R<=this._;R++)this.zs[R]=0,this.ms[R]=0,this.ps[R]=0,this.Rt[R]=0;const e=this.network.vertexes.iterator;for(;e.next();){const R=e.value,V=R.layer;this.zs[V]=Math.max(this.zs[V],this.nodeMinLayerSpace(R,!0)),this.ms[V]=Math.max(this.ms[V],this.nodeMinLayerSpace(R,!1))}let n=0;const a=this.Vs;for(let R=0;R<=this._;R++){let V=a;this.zs[R]+this.ms[R]<=0&&(V=0),R>0&&(n+=V/2),this.P===90||this.P===0?(n+=this.ms[R],this.ps[R]=n,n+=this.zs[R]):(n+=this.zs[R],this.ps[R]=n,n+=this.ms[R]),R<this._&&(n+=V/2),this.Rt[R]=n}const o=n,h=this.arrangementOrigin;for(let R=0;R<=this._;R++)this.P===270?this.ps[R]=h.y+this.ps[R]:this.P===90?(this.ps[R]=h.y+o-this.ps[R],this.Rt[R]=o-this.Rt[R]):this.P===180?this.ps[R]=h.x+this.ps[R]:(this.ps[R]=h.x+o-this.ps[R],this.Rt[R]=o-this.Rt[R]);const u=this.Gn!==0;e.reset();const m=this.P===270||this.P===90;let v=1/0,b=1/0,S=1/0,A=-1/0;for(;e.next();){const R=e.value,V=R.layer,q=R.column|0;let J=0,re=0;m?(J=h.x+this.ti*q,re=this.ps[V]):(J=this.ps[V],re=h.y+this.ti*q),R.centerX=J,R.centerY=re,u&&isFinite(R.mi)&&(m?R.node?R.x=h.x+R.mi:R.centerX=h.x+R.mi:R.node?R.y=h.y+R.mi:R.centerY=h.y+R.mi),v=Math.min(R.x,v),b=Math.min(R.y,b),m?(S=v,A=Math.max(A,R.bounds.right)):(S=b,A=Math.max(A,R.bounds.bottom))}this.uL=A-S;const M=h.x-v,O=h.y-b;for(this.fr=new N(u&&m?0:M,u&&!m?0:O),e.reset();e.next();){const R=e.value;R.x+=M,R.y+=O,R.commit()}}pL(){let e=0;const n=this.Vs;for(let h=0;h<=this._;h++)e+=this.zs[h],e+=this.ms[h];e+=this._*n;const a=[],o=this.Gn!==0?this.uL:this.ti*this.Bt;for(let h=this.maxLayer;h>=0;h--)this.P===270?h===0?a.push(new W(0,0,o,Math.abs(this.Rt[0]))):a.push(new W(0,this.Rt[h-1],o,Math.abs(this.Rt[h-1]-this.Rt[h]))):this.P===90?h===0?a.push(new W(0,this.Rt[0],o,Math.abs(this.Rt[0]-e))):a.push(new W(0,this.Rt[h],o,Math.abs(this.Rt[h-1]-this.Rt[h]))):this.P===180?h===0?a.push(new W(0,0,Math.abs(this.Rt[0]),o)):a.push(new W(this.Rt[h-1],0,Math.abs(this.Rt[h-1]-this.Rt[h]),o)):h===0?a.push(new W(this.Rt[0],0,Math.abs(this.Rt[0]-e),o)):a.push(new W(this.Rt[h],0,Math.abs(this.Rt[h-1]-this.Rt[h]),o));this.commitLayers(a,this.fr)}commitLayers(e,n){}commitLinks(){const e=this.network.edges.iterator;let n=null;for(;e.next();)n=e.value.link,n!==null&&n.pointsCount>0&&(n.startRoute(),n.clearPoints(),n.commitRoute());for(e.reset();e.next();)n=e.value.link,n!==null&&n.updateRoute();for(e.reset();e.next();){const a=e.value;if(n=a.link,n===null||n.pointsCount===0)continue;n.startRoute();const o=n;let h=o.fromNode,u=o.toNode,m=o.fromPort,v=o.toPort;if(h!==null){const Fe=h.findVisibleNode();Fe!==null&&Fe!==h&&(h=Fe,m=Fe.port)}if(u!==null){const Fe=u.findVisibleNode();Fe!==null&&Fe!==u&&(u=Fe,v=Fe.port)}const b=n.computeSpot(!0,m),S=n.computeSpot(!1,v);let A=a.fromVertex,M=a.toVertex;if(a.valid){if(n.curve===9&&n.pointsCount===4)if(A.column===M.column&&this.alignOption===0){const Fe=n.getLinkPoint(h,m,b,!0,!1,u,v),Re=n.getLinkPoint(u,v,S,!1,!1,h,m);Fe.isReal()||Fe.set(h.actualBounds.center),Re.isReal()||Re.set(u.actualBounds.center),n.clearPoints(),n.addPointAt(Fe.x,Fe.y),n.addPointAt((2*Fe.x+Re.x)/3,(2*Fe.y+Re.y)/3),n.addPointAt((Fe.x+2*Re.x)/3,(Fe.y+2*Re.y)/3),n.addPointAt(Re.x,Re.y)}else{let Fe=!1,Re=!1;if(m!==null&&n.bl(b)&&(Fe=!0),v!==null&&n.bl(S)&&(Re=!0),Fe||Re){let We=null;Fe&&(We=n.getLinkPointFromPoint(h,m,m.getDocumentPoint(K.Center),n.getPoint(3),!0),We.isReal()||We.set(h.actualBounds.center),n.setPointAt(0,We.x,We.y));let Ke=null;if(Re&&(Ke=n.getLinkPointFromPoint(u,v,v.getDocumentPoint(K.Center),n.getPoint(0),!1),Ke.isReal()||Ke.set(u.actualBounds.center),n.setPointAt(3,Ke.x,Ke.y)),We){const lt=n.getPoint(2);n.setPointAt(1,(We.x*2+lt.x)/3,(We.y*2+lt.y)/3)}if(Ke){const lt=n.getPoint(1);n.setPointAt(2,(Ke.x*2+lt.x)/3,(Ke.y*2+lt.y)/3)}}}n.commitRoute();continue}if(A.layer===M.layer){n.commitRoute();continue}let O=!1,R=!1;const V=this.Vs;let q=0,J=n.firstPickIndex+1;if(n.isOrthogonal)R=!0,q=n.pointsCount,q>4&&n.points.removeRange(2,q-3);else if(n.curve===9)O=!0,q=n.pointsCount,q>4&&n.points.removeRange(2,q-3),q===4&&(J=2);else{q=n.pointsCount;const Fe=b===K.None,Re=S===K.None;q>2&&Fe&&Re?n.points.removeRange(1,q-2):q>3&&Fe&&!Re?n.points.removeRange(1,q-3):q>3&&!Fe&&Re?n.points.removeRange(2,q-2):q>4&&!Fe&&!Re&&n.points.removeRange(2,q-3)}let re,se,ne=0,xe=0,ye=0,we=0,ze=0,Ce=0,Pe=0;if(a.rev){let Fe=0;for(;M!==null&&A!==M;){re=null,se=null;const Re=M.sourceEdges.iterator;for(;Re.next();){const We=Re.value;if(We.link===a.link&&(re=We.fromVertex,se=We.toVertex,re.node===null))break}if(re===null)break;if(re!==A)if(ne=n.getPoint(J-1).x,xe=n.getPoint(J-1).y,ye=re.centerX,we=re.centerY,R)this.P===180||this.P===0?J===n.firstPickIndex+1?(n.insertPointAt(J++,ne,xe),n.insertPointAt(J++,ne,we)):(se!==null?se.centerY:xe)!==we&&(ze=this.Rt[re.layer-1]+this.fr.x,n.insertPointAt(J++,ze,xe),n.insertPointAt(J++,ze,we)):J===n.firstPickIndex+1?(n.insertPointAt(J++,ne,xe),n.insertPointAt(J++,ye,xe)):(se!==null?se.centerX:ne)!==ye&&(ze=this.Rt[re.layer-1]+this.fr.y,n.insertPointAt(J++,ne,ze),n.insertPointAt(J++,ye,ze));else if(J===n.firstPickIndex+1)if(Ce=Math.max(10,this.zs[M.layer]),Pe=Math.max(10,this.ms[M.layer]),O)this.P===180?ye<=M.bounds.x?(Fe=M.bounds.x,n.insertPointAt(J++,Fe-Ce,we),n.insertPointAt(J++,Fe,we),n.insertPointAt(J++,Fe+Pe,we)):(n.insertPointAt(J++,ye-Ce,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye+Pe,we)):this.P===90?we>=M.bounds.bottom?(Fe=M.bounds.y+M.bounds.height,n.insertPointAt(J++,ye,Fe+Pe),n.insertPointAt(J++,ye,Fe),n.insertPointAt(J++,ye,Fe-Ce)):(n.insertPointAt(J++,ye,we+Pe),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we-Ce)):this.P===270?we<=M.bounds.y?(Fe=M.bounds.y,n.insertPointAt(J++,ye,Fe-Ce),n.insertPointAt(J++,ye,Fe),n.insertPointAt(J++,ye,Fe+Pe)):(n.insertPointAt(J++,ye,we-Ce),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we+Pe)):this.P===0&&(ye>=M.bounds.right?(Fe=M.bounds.x+M.bounds.width,n.insertPointAt(J++,Fe+Pe,we),n.insertPointAt(J++,Fe,we),n.insertPointAt(J++,Fe-Ce,we)):(n.insertPointAt(J++,ye+Pe,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye-Ce,we)));else{n.insertPointAt(J++,ne,xe);let We=0;this.P===180||this.P===0?((this.P===180?ye>=M.bounds.right:ye<=M.bounds.x)&&(We=(this.P===0?-Ce:Pe)/2),n.insertPointAt(J++,ne+We,we)):((this.P===270?we>=M.bounds.bottom:we<=M.bounds.y)&&(We=(this.P===90?-Ce:Pe)/2),n.insertPointAt(J++,ye,xe+We)),n.insertPointAt(J++,ye,we)}else Ce=Math.max(10,this.zs[re.layer]),Pe=Math.max(10,this.ms[re.layer]),O?this.P===180?(n.insertPointAt(J++,ye-Ce-Math.max(10,V),we),n.insertPointAt(J++,Math.min(ye-Ce+V/2,ye),we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,Math.max(ye+Pe-V/2,ye),we),n.insertPointAt(J++,ye+Pe+V,we)):this.P===90?(n.insertPointAt(J++,ye,we+Pe+Math.max(10,V)),n.insertPointAt(J++,ye,Math.max(we+Pe-V/2,we)),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,Math.min(we-Ce+V/2,we)),n.insertPointAt(J++,ye,we-Ce-V)):this.P===270?(n.insertPointAt(J++,ye,we-Ce-Math.max(10,V)),n.insertPointAt(J++,ye,Math.min(we-Ce+V/2,we)),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,Math.max(we+Pe-V/2,we)),n.insertPointAt(J++,ye,we+Pe+V)):(n.insertPointAt(J++,ye+Pe+Math.max(10,V),we),n.insertPointAt(J++,Math.max(ye+Pe-V/2,ye),we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,Math.min(ye-Ce+V/2,ye),we),n.insertPointAt(J++,ye-Ce-V,we)):(this.P===180||this.P===90||this.P,n.insertPointAt(J++,ye,we));M=re}if(v===null||b!==K.None||R)if(ne=n.getPoint(J-1).x,xe=n.getPoint(J-1).y,ye=n.getPoint(J).x,we=n.getPoint(J).y,R){const Re=this.ms[A.layer];let We=0;this.P===180||this.P===0?(We=xe,We>=A.bounds.y&&We<=A.bounds.bottom&&(this.P===180?ye>=A.bounds.x:ye<=A.bounds.right)&&(Fe=A.centerX+(this.P===180?-Re:Re),We<A.bounds.y+A.bounds.height/2?We=A.bounds.y-this.ti/2:We=A.bounds.bottom+this.ti/2,n.insertPointAt(J++,Fe,xe),n.insertPointAt(J++,Fe,We)),n.insertPointAt(J++,ye,We),n.insertPointAt(J++,ye,we)):(We=ne,We>=A.bounds.x&&We<=A.bounds.right&&(this.P===270?we>=A.bounds.y:we<=A.bounds.bottom)&&(Fe=A.centerY+(this.P===270?-Re:Re),We<A.bounds.x+A.bounds.width/2?We=A.bounds.x-this.ti/2:We=A.bounds.right+this.ti/2,n.insertPointAt(J++,ne,Fe),n.insertPointAt(J++,We,Fe)),n.insertPointAt(J++,We,we),n.insertPointAt(J++,ye,we))}else if(O)Ce=Math.max(10,this.zs[A.layer]),Pe=Math.max(10,this.ms[A.layer]),this.P===180&&ye>=A.bounds.x?(Fe=A.bounds.x+A.bounds.width,n.setPointAt(J-2,Fe,xe),n.setPointAt(J-1,Fe+Pe,xe)):this.P===90&&we<=A.bounds.bottom?(Fe=A.bounds.y,n.setPointAt(J-2,ne,Fe),n.setPointAt(J-1,ne,Fe-Ce)):this.P===270&&we>=A.bounds.y?(Fe=A.bounds.y+A.bounds.height,n.setPointAt(J-2,ne,Fe),n.setPointAt(J-1,ne,Fe+Pe)):this.P===0&&ye<=A.bounds.right&&(Fe=A.bounds.x,n.setPointAt(J-2,Fe,xe),n.setPointAt(J-1,Fe-Ce,xe));else{Ce=Math.max(10,this.zs[A.layer]),Pe=Math.max(10,this.ms[A.layer]);let Re=0;this.P===180||this.P===0?((this.P===180?ye<=A.bounds.x:ye>=A.bounds.right)&&(Re=(this.P===0?Pe:-Ce)/2),n.insertPointAt(J++,ye+Re,xe)):((this.P===270?we<=A.bounds.y:we>=A.bounds.bottom)&&(Re=(this.P===90?Pe:-Ce)/2),n.insertPointAt(J++,ne,we+Re)),n.insertPointAt(J++,ye,we)}}else{for(;A!==null&&A!==M;){re=null,se=null;const Fe=A.destinationEdges.iterator;for(;Fe.next();){const Re=Fe.value;if(Re.link===a.link&&(re=Re.toVertex,se=Re.fromVertex,se.node!==null&&(se=null),re.node===null))break}if(re===null)break;re!==M&&(ne=n.getPoint(J-1).x,xe=n.getPoint(J-1).y,ye=re.centerX,we=re.centerY,R?this.P===180||this.P===0?(se!==null?se.centerY:xe)!==we&&(ze=this.Rt[re.layer]+this.fr.x,J===n.firstPickIndex+1&&(this.P===0?ze=Math.max(ze,ne):ze=Math.min(ze,ne)),n.insertPointAt(J++,ze,xe),n.insertPointAt(J++,ze,we)):(se!==null?se.centerX:ne)!==ye&&(ze=this.Rt[re.layer]+this.fr.y,J===n.firstPickIndex+1&&(this.P===90?ze=Math.max(ze,xe):ze=Math.min(ze,xe)),n.insertPointAt(J++,ne,ze),n.insertPointAt(J++,ye,ze)):(Ce=Math.max(10,this.zs[re.layer]),Pe=Math.max(10,this.ms[re.layer]),O?this.P===180?(n.insertPointAt(J++,ye+Pe+Math.max(10,V),we),n.insertPointAt(J++,Math.max(ye+Pe-V/2,ye),we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,Math.min(ye-Ce+V/2,ye),we),n.insertPointAt(J++,ye-Ce-V,we)):this.P===90?(n.insertPointAt(J++,ye,we-Ce-Math.max(10,V)),n.insertPointAt(J++,ye,Math.min(we-Ce+V/2,we)),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,Math.max(we+Pe-V/2,we)),n.insertPointAt(J++,ye,we+Pe+V)):this.P===270?(n.insertPointAt(J++,ye,we+Pe+Math.max(10,V)),n.insertPointAt(J++,ye,Math.max(we+Pe-V/2,we)),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,Math.min(we-Ce+V/2,we)),n.insertPointAt(J++,ye,we-Ce-V)):(n.insertPointAt(J++,ye-Ce-Math.max(10,V),we),n.insertPointAt(J++,Math.min(ye-Ce+V/2,ye),we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,ye,we),n.insertPointAt(J++,Math.max(ye+Pe-V/2,ye),we),n.insertPointAt(J++,ye+Pe+V,we)):this.P===180?(n.insertPointAt(J++,ye+Pe,we),n.insertPointAt(J++,ye-Ce,we)):this.P===90?(n.insertPointAt(J++,ye,we-Ce),n.insertPointAt(J++,ye,we+Pe)):this.P===270?(n.insertPointAt(J++,ye,we+Pe),n.insertPointAt(J++,ye,we-Ce)):(n.insertPointAt(J++,ye-Ce,we),n.insertPointAt(J++,ye+Pe,we)))),A=re}R&&(ne=n.getPoint(J-1).x,xe=n.getPoint(J-1).y,ye=n.getPoint(J).x,we=n.getPoint(J).y,this.P===180||this.P===0?xe!==we&&(this.P===0?ze=Math.min(Math.max((ye+ne)/2,this.Rt[M.layer]+this.fr.x),ye):ze=Math.max(Math.min((ye+ne)/2,this.Rt[M.layer]+this.fr.x),ye),n.insertPointAt(J++,ze,xe),n.insertPointAt(J++,ze,we)):ne!==ye&&(this.P===90?ze=Math.min(Math.max((we+xe)/2,this.Rt[M.layer]+this.fr.y),we):ze=Math.max(Math.min((we+xe)/2,this.Rt[M.layer]+this.fr.y),we),n.insertPointAt(J++,ne,ze),n.insertPointAt(J++,ye,ze)))}if(o!==null&&O&&n.pointsCount>=4){if(h!==null&&m!==null&&o.bl(b)){const Fe=m.getDocumentPoint(K.Center);Fe.isReal()||Fe.setTo(h.actualBounds.centerX,h.actualBounds.centerY);const Re=n.getPoint(3),We=n.getPoint(2);this.direction===90||this.direction===270?(n.setPointAt(1,Re.x,(We.y+Re.y)/2),n.setPointAt(2,Re.x,(We.y+Re.y)/2)):(n.setPointAt(1,(We.x+Re.x)/2,Re.y),n.setPointAt(2,(We.x+Re.x)/2,Re.y));const Ke=n.getLinkPointFromPoint(h,m,Fe,n.getPoint(1),!0);n.setPointAt(0,Ke.x,Ke.y)}if(u!==null&&v!==null&&o.bl(S)){const Fe=v.getDocumentPoint(K.Center);Fe.isReal()||Fe.setTo(u.actualBounds.centerX,u.actualBounds.centerY);const Re=n.getPoint(n.pointsCount-4),We=n.getLinkPointFromPoint(u,v,Fe,Re,!1),Ke=n.getPoint(n.pointsCount-3);this.direction===90||this.direction===270?(n.setPointAt(n.pointsCount-2,Re.x,(Ke.y+We.y)/2),n.setPointAt(n.pointsCount-3,Re.x,(Ke.y+We.y)/2)):(n.setPointAt(n.pointsCount-2,(Ke.x+We.x)/2,Re.y),n.setPointAt(n.pointsCount-3,(Ke.x+We.x)/2,Re.y));const lt=n.getLinkPointFromPoint(u,v,Fe,n.getPoint(n.pointsCount-2),!1);n.setPointAt(n.pointsCount-1,lt.x,lt.y)}}n.commitRoute(),a.commit()}}S3(){this.Sw=-1,this.jg=0,this.Bs=0,this.mu=null;for(let e=0;e<this.Xn.length;e++)this.Xn[e]=null}qa(e){let n;const a=this.ie[e];if(a>=this.Xn.length){const h=[];for(let u=0;u<this.Xn.length;u++)h[u]=this.Xn[u];this.Xn=h}this.Xn[a]===void 0||this.Xn[a]===null?n=[]:(n=this.Xn[a],this.Xn[a]=null);const o=this.mu[e];for(let h=0;h<o.length;h++){const u=o[h];n[u.index]=u}return n}Wa(e,n){this.Xn[this.ie[e]]=n}get layerSpacing(){return this.Vs}set layerSpacing(e){this.Vs!==e&&e>=0&&(this.Vs=e,this.p())}get columnSpacing(){return this.ti}set columnSpacing(e){this.ti!==e&&e>0&&(this.ti=e,this.p())}get direction(){return this.P}set direction(e){this.P!==e&&(e===0||e===90||e===180||e===270?(this.P=e,this.p()):s.o("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}get cycleRemoveOption(){return this.cu}set cycleRemoveOption(e){this.cu!==e&&(e===1||e===0||e===2)&&(this.cu=e,this.p())}get layeringOption(){return this.fu}set layeringOption(e){this.fu!==e&&(e===10||e===11||e===12)&&(this.fu=e,this.p())}get initializeOption(){return this.uu}set initializeOption(e){this.uu!==e&&(e===20||e===21||e===22)&&(this.uu=e,this.p())}get iterations(){return this.mc}set iterations(e){this.mc!==e&&e>=0&&(this.mc=e,this.p())}get aggressiveOption(){return this.du}set aggressiveOption(e){this.du!==e&&(e===30||e===31||e===32)&&(this.du=e,this.p())}get packOption(){return this.cr}set packOption(e){this.cr!==e&&e>=0&&e<8&&(this.cr=e,this.p())}get packIterations(){return this.gu}set packIterations(e){this.gu=e}get alignOption(){return this.Gn}set alignOption(e){this.Gn!==e&&e>=0&&e<16&&(this.Gn=e,this.p())}get centered(){return this.ja}set centered(e){this.centered!==e&&(this.ja=e,this.p())}get setsPortSpots(){return this.zn}set setsPortSpots(e){this.zn!==e&&(this.zn=e,this.p())}get maxLayer(){return this._}get maxIndex(){return this.Sw}get maxColumn(){return this.Bt}get minIndexLayer(){return this.jg}get maxIndexLayer(){return this.Bs}}E(Un,"CycleDepthFirst",0),E(Un,"CycleGreedy",1),E(Un,"CycleFromLayers",2),E(Un,"LayerOptimalLinkLength",10),E(Un,"LayerLongestPathSink",11),E(Un,"LayerLongestPathSource",12),E(Un,"InitDepthFirstOut",20),E(Un,"InitDepthFirstIn",21),E(Un,"InitNaive",22),E(Un,"AggressiveNone",30),E(Un,"AggressiveLess",31),E(Un,"AggressiveMore",32),E(Un,"PackNone",0),E(Un,"PackExpand",1),E(Un,"PackStraighten",2),E(Un,"PackMedian",4),E(Un,"PackAll",15),E(Un,"AlignNone",0),E(Un,"AlignUpperLeft",1),E(Un,"AlignUpperRight",2),E(Un,"AlignLowerLeft",4),E(Un,"AlignLowerRight",8),E(Un,"AlignAll",15);class Ob extends Bl{constructor(i){super(i)}createVertex(){const i=new Dd(this);return i.centered=this.layout.centered,i}createEdge(){return new Rb(this)}}class Dd extends Vl{constructor(e){super(e);E(this,"pl");E(this,"pa");E(this,"Tt");E(this,"sP");E(this,"nP");E(this,"ja");E(this,"ii");E(this,"pu");E(this,"to");E(this,"_k");E(this,"$k");E(this,"Zk");E(this,"pc");E(this,"Yn");E(this,"MF");E(this,"Ja");E(this,"rs");E(this,"yu");E(this,"mi");E(this,"Kn");E(this,"Lw",null);E(this,"Aw",null);E(this,"Tw",null);E(this,"Dw",null);this.pl=-1,this.pa=-1,this.Tt=-1,this.sP=NaN,this.nP=null,this.ja=!0,this.ii=!1,this.pu=NaN,this.to=NaN,this._k=0,this.$k=null,this.Zk=null}static LF(e,n){return e.index-n.index}getProperSourceEdges(){if(!this.Tw){const e=[];for(const n of this.Mo){const a=n;a.valid&&e.push(a)}this.Tw=e}return this.Tw}getProperDestinationEdges(){if(!this.Dw){const e=[];for(const n of this.rr){const a=n;a.valid&&e.push(a)}this.Dw=e}return this.Dw}getDestinationEdge(e){const n=this.getProperDestinationEdges();for(const a of n)if(a.toVertex===e)return a;s.o("Unable to find destination edge to given vertex")}getProperSourceVertexes(){if(!this.Lw){const e=[];for(const n of this.Mo){const a=n;!a.valid||a.fromVertex.layer<=a.toVertex.layer||e.push(a.fromVertex)}e.sort(Dd.LF),this.Lw=e}return this.Lw}getProperDestinationVertexes(){if(!this.Aw){const e=[];for(const n of this.rr){const a=n;!a.valid||a.fromVertex.layer<=a.toVertex.layer||e.push(a.toVertex)}e.sort(Dd.LF),this.Aw=e}return this.Aw}addSourceEdge(e){super.addSourceEdge(e),this.Lw=null,this.Tw=null}deleteSourceEdge(e){super.deleteSourceEdge(e),this.Lw=null,this.Tw=null}addDestinationEdge(e){super.addDestinationEdge(e),this.Aw=null,this.Dw=null}deleteDestinationEdge(e){super.deleteDestinationEdge(e),this.Aw=null,this.Dw=null}commit(){if(this.centered)super.commit();else{const e=this.node;if(e!==null){const n=this.network.layout;if(!n)return;n.direction===180||n.direction===270?e.moveTo(this.bounds.right-e.actualBounds.width,this.bounds.bottom-e.actualBounds.height):e.moveTo(this.bounds.x,this.bounds.y)}}}get layer(){return this.pl}set layer(e){this.pl=e}get column(){return this.pa}set column(e){this.pa=e}get index(){return this.Tt}set index(e){this.Tt=e}get component(){return this.sP}set component(e){this.sP!==e&&(this.sP=e)}get near(){return this.nP}set near(e){this.nP!==e&&(this.nP=e)}get centered(){return this.ja}set centered(e){this.ja=e}}class Rb extends Zc{constructor(e){super(e);E(this,"ii");E(this,"oP");E(this,"rP");E(this,"lP");E(this,"aP");E(this,"hP");E(this,"cP");this.ii=!1,this.oP=!1,this.rP=!1,this.lP=NaN,this.aP=NaN,this.hP=0,this.cP=0}get fromVertex(){return this.ss}set fromVertex(e){this.ss!==e&&(this.ss=e)}get toVertex(){return this.ns}set toVertex(e){this.ns!==e&&(this.ns=e)}get valid(){return this.ii}set valid(e){this.ii!==e&&(this.ii=e)}get rev(){return this.oP}set rev(e){this.oP!==e&&(this.oP=e)}get forest(){return this.rP}set forest(e){this.rP!==e&&(this.rP=e)}get portFromPos(){return this.lP}set portFromPos(e){this.lP!==e&&(this.lP=e)}get portToPos(){return this.aP}set portToPos(e){this.aP!==e&&(this.aP=e)}get portFromColOffset(){return this.hP}set portFromColOffset(e){this.hP!==e&&(this.hP=e)}get portToColOffset(){return this.cP}set portToColOffset(e){this.cP!==e&&(this.cP=e)}}var Pp=(ee=>(ee[ee.Default=0]="Default",ee[ee.Destination=1]="Destination",ee[ee.Source=2]="Source",ee))(Pp||{}),Dp=(ee=>(ee[ee.Forwards=10]="Forwards",ee[ee.Reverse=11]="Reverse",ee[ee.Ascending=12]="Ascending",ee[ee.Descending=13]="Descending",ee))(Dp||{}),Mp=(ee=>(ee[ee.CenterSubtrees=20]="CenterSubtrees",ee[ee.CenterChildren=21]="CenterChildren",ee[ee.Start=22]="Start",ee[ee.End=23]="End",ee[ee.Bus=24]="Bus",ee[ee.BusBranching=25]="BusBranching",ee[ee.TopLeftBus=26]="TopLeftBus",ee[ee.BottomRightBus=27]="BottomRightBus",ee[ee.Custom=28]="Custom",ee))(Mp||{}),Ep=(ee=>(ee[ee.None=30]="None",ee[ee.Block=31]="Block",ee))(Ep||{}),_p=(ee=>(ee[ee.Layered=40]="Layered",ee[ee.LastParents=41]="LastParents",ee[ee.Alternating=42]="Alternating",ee[ee.RootOnly=43]="RootOnly",ee))(_p||{}),Fp=(ee=>(ee[ee.Vertical=50]="Vertical",ee[ee.Horizontal=51]="Horizontal",ee[ee.FixedRoots=52]="FixedRoots",ee))(Fp||{}),Bb=(ee=>(ee[ee.Individual=60]="Individual",ee[ee.Siblings=61]="Siblings",ee[ee.Uniform=62]="Uniform",ee))(Bb||{});class Pn extends Rs{constructor(e){super();E(this,"Ie");E(this,"Fe");E(this,"wu");E(this,"$g");E(this,"yL");E(this,"Xi");E(this,"He");E(this,"Us");E(this,"V");E(this,"B");E(this,"fP");E(this,"ws");this.Ie=new C,this.Fe=0,this.ws=1,this.wu=40,this.$g=60,this.yL=[],this.Xi=!0,this.He=50,this.Us=new X(10,10).k();const n=new Np(this);this.V=new Ta(n),this.B=new Ta(n),this.fP=[],e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Fe=this.Fe,e.wu=this.wu,e.$g=this.$g,e.Xi=this.Xi,e.He=this.He,e.Us.h(this.Us),e.V.copyInheritedPropertiesFrom(this.V),e.B.copyInheritedPropertiesFrom(this.B)}fe(e){e in Mp?this.alignment=e:e in Fp?this.arrangement=e:e in Ep?this.compaction=e:e in Pp?this.path=e:e in Dp?this.sorting=e:e in _p?this.treeStyle=e:super.fe(e)}createNetwork(){return new Np(this)}makeNetwork(e){const n=this.createNetwork(),a=o=>{if(o instanceof Ct)return!o.isLinkLabel&&o.category!=="Comment";if(o instanceof yt){const h=o.fromNode;if(h===null||h.isLinkLabel||h.category==="Comment")return!1;const u=o.toNode;return!(u===null||u.isLinkLabel||u.category==="Comment")}return!1};return e instanceof Ft?(n.addParts(e.nodes,!0,a),n.addParts(e.links,!0,a)):e instanceof Jt?n.addParts(e.memberParts,!1,a):n.addParts(e.iterator,!1,a),n}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangement!==52&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));let n=this.diagram;n===null&&e instanceof Ft&&(n=e),this.path===0&&n!==null?this.ws=n.isTreePathToChildren?1:2:this.ws=this.path===0?1:this.path,this.network.vertexes.count>0&&(this.oU(),this.rU(),this.lU(),this.aU(),this.fL(),this.hU(),this.arrangeTrees(),this.updateParts()),this.network=null,this.Ie=new C,this.isValidLayout=!0}oU(){if(this.network===null)return;this.network.deleteSelfEdges();const e=this.network.vertexes.iterator;for(;e.next();){const h=e.value;h.initialized=!1,h.level=0,h.parent=null,h.children=[]}if(this.Ie.count>0){const h=new C,u=this.Ie.iterator;for(;u.next();){const m=u.value;if(m instanceof Ct){const v=this.network.findVertex(m);v!==null&&h.add(v)}else m instanceof Ta&&h.add(m)}this.Ie=h}this.Ie.count===0&&this.findRoots();const n=this.Ie.copy().iterator;for(;n.next();){const h=n.value;h.initialized||(h.initialized=!0,this.wL(h))}let a=this.network.vertexes,o=null;for(;o=this.cU(a),o.count>0;){const h=this.AF(o);h!==null&&(this.Ie.add(h),h.initialized=!0,this.wL(h)),a=o}}cU(e){const n=new C,a=e.iterator;for(;a.next();){const o=a.value;o.initialized||n.add(o)}return n}findRoots(){if(this.network===null)return;const e=this.network.vertexes,n=e.iterator;for(;n.next();){const a=n.value;switch(this.ws){case 1:a.sourceEdges.count===0&&this.Ie.add(a);break;case 2:a.destinationEdges.count===0&&this.Ie.add(a);break;default:s.o("Unhandled path value "+this.ws.toString())}}if(this.Ie.count===0){const a=this.AF(e);a!==null&&this.Ie.add(a)}}AF(e){let n=999999,a=null;const o=e.iterator;for(;o.next();){const h=o.value;switch(this.ws){case 1:h.sourceEdges.count<n&&(n=h.sourceEdges.count,a=h);break;case 2:h.destinationEdges.count<n&&(n=h.destinationEdges.count,a=h);break;default:s.o("Unhandled path value "+this.ws.toString())}}return a}wL(e){if(e===null)return;switch(this.ws){case 1:if(e.destinationEdges.count>0){const o=new w,h=e.destinationVertexes;for(;h.next();){const u=h.value;this.TF(e,u)&&o.add(u)}o.count>0&&(e.children=o.toArray())}break;case 2:if(e.sourceEdges.count>0){const o=new w,h=e.sourceVertexes;for(;h.next();){const u=h.value;this.TF(e,u)&&o.add(u)}o.count>0&&(e.children=o.toArray())}break;default:s.o("Unhandled path value"+this.ws.toString())}const n=e.children,a=n.length;for(let o=0;o<a;o++){const h=n[o];h.initialized=!0,h.level=e.level+1,h.parent=e,this.Ie.delete(h)}for(let o=0;o<a;o++){const h=n[o];this.wL(h)}}TF(e,n){return n.initialized?this.fU(n,e)||n.level>e.level?!1:(this.uU(n.parent,n),!0):!0}fU(e,n){if(n===null)return!1;let a=n.parent;for(;a!==null&&a!==e;)a=a.parent;return a===e}uU(e,n){if(e===null||n===null)return;const a=e.children;let o=0;for(let h=0;h<a.length;h++)a[h]===n&&o++;if(o>0){const h=new Array(a.length-o);let u=0;for(let m=0;m<a.length;m++)a[m]!==n&&(h[u++]=a[m]);e.children=h}}rU(){const e=this.Ie.iterator;for(;e.next();){const n=e.value;n instanceof Ta&&this.DF(n)}}DF(e){if(e===null)return;this.initializeTreeVertexValues(e),e.alignment===25&&this.sortTreeVertexChildren(e);let n=0,a=e.childrenCount,o=0;const h=e.children,u=h.length;for(let m=0;m<u;m++){const v=h[m];this.DF(v),n+=v.descendantCount+1,a=Math.max(a,v.maxChildrenCount),o=Math.max(o,v.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=a,e.maxGenerationCount=a>0?o+1:0}dU(e){switch(this.wu){default:case 40:return e.parent!==null?e.parent:this.V;case 43:return e.parent===null?this.V:e.parent.parent===null?this.B:e.parent;case 42:return e.parent!==null?e.parent.parent!==null?e.parent.parent:this.B:this.V;case 41:{let n=!0;if(e.childrenCount===0)n=!1;else{const a=e.children,o=a.length;for(let h=0;h<o;h++)if(a[h].childrenCount>0){n=!1;break}}return n&&e.parent!==null?this.B:e.parent!==null?e.parent:this.V}}}initializeTreeVertexValues(e){const n=this.dU(e);if(e.copyInheritedPropertiesFrom(n),e.parent!==null&&e.parent.alignment===25){let a=e.angle;const o=e.parent.children;let h=0;for(;h<o.length&&e!==o[h];)h++;h%2===0?h!==o.length-1&&(a===90?a=180:a===180?a=270:a===270?a=180:a=270):a===90?a=0:a===180?a=90:a===270?a=0:a=90,e.angle=a}e.initialized=!0}lU(){const e=this.Ie.iterator;for(;e.next();){const n=e.value;n instanceof Ta&&this.vF(n)}}vF(e){if(e===null)return;this.assignTreeVertexValues(e);const n=e.children,a=n.length;for(let o=0;o<a;o++){const h=n[o];this.vF(h)}}assignTreeVertexValues(e){}aU(){const e=this.Ie.iterator;for(;e.next();){const n=e.value;n instanceof Ta&&this.FF(n)}}FF(e){if(e===null)return;e.alignment!==25&&this.sortTreeVertexChildren(e);const n=e.children,a=n.length;for(let o=0;o<a;o++){const h=n[o];this.FF(h)}}sortTreeVertexChildren(e){switch(e.sorting){default:case 10:break;case 11:e.children.reverse();break;case 12:e.children.sort(e.comparer);break;case 13:e.children.sort(e.comparer),e.children.reverse();break}}fL(){if(!this.comments||this.network===null)return;const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;this.addComments(n)}}addComments(e){const n=e.angle,a=e.parent;let o=0,h=21,u=!1;a!==null&&(o=a.angle,h=a.alignment,u=this.isBusAlignment(h));const m=n===90||n===270,v=o===90||o===270,b=e.childrenCount===0;let S=0,A=0,M=0;const O=e.commentSpacing;if(e.node!==null){const R=e.node.findNodesConnected();for(;R.next();){const V=R.value;if(V.category!=="Comment"||!V.canLayout())continue;e.comments===null&&(e.comments=[]),e.comments.push(V),V.ensureBounds();const q=V.measuredBounds;m&&!b||!u&&!v&&b||u&&v&&b?(S=Math.max(S,q.width),A+=q.height+Math.abs(M)):(S+=q.width+Math.abs(M),A=Math.max(A,q.height)),M=O}}if(e.comments!==null){m&&!b||!u&&!v&&b||u&&v&&b?(S+=Math.abs(e.commentMargin),A=Math.max(0,A-e.height)):(A+=Math.abs(e.commentMargin),S=Math.max(0,S-e.width));const R=W.z(0,0,e.bounds.width+S,e.bounds.height+A);e.bounds=R,W.i(R)}}isBusAlignment(e){return e===24||e===25||e===26||e===27}vw(e){return e===24||e===25}xL(e){const n=e.parent;if(n!==null){const a=n.alignment;if(this.isBusAlignment(a))if(this.vw(a)){const o=n.children;let h=0;for(;h<o.length&&e!==o[h];)h++;return h%2===0}else return a===26}return!1}layoutComments(e){if(e.comments!==null){const n=e.node.measuredBounds,a=e.parent,o=e.angle;let h=0,u=21,m=!1;a!==null&&(h=a.angle,u=a.alignment,m=this.isBusAlignment(u));const v=o===90||o===270,b=h===90||h===270,S=e.childrenCount===0,A=this.xL(e);let M=0;const O=e.comments,R=O.length,V=N.l();for(let J=0;J<R;J++){const re=O[J],se=re.measuredBounds;if(v&&!S||!m&&!b&&S||m&&b&&S){if(h>135&&!m||b&&A)if(e.commentMargin>=0){V.e(e.bounds.x-e.commentMargin-se.width,e.bounds.y+M),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleLeft,xe.toSpot=K.MiddleRight}}else{V.e(e.bounds.x+e.focus.x*2-e.commentMargin,e.bounds.y+M),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleRight,xe.toSpot=K.MiddleLeft}}else if(e.commentMargin>=0){V.e(e.bounds.x+e.focus.x*2+e.commentMargin,e.bounds.y+M),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleRight,xe.toSpot=K.MiddleLeft}}else{V.e(e.bounds.x+e.commentMargin-se.width,e.bounds.y+M),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleLeft,xe.toSpot=K.MiddleRight}}e.commentSpacing>=0?M+=se.height+e.commentSpacing:M+=e.commentSpacing-se.height}else{if(h>135&&!m||!b&&A)if(e.commentMargin>=0){V.e(e.bounds.x+M,e.bounds.y-e.commentMargin-se.height),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleTop,xe.toSpot=K.MiddleBottom}}else{V.e(e.bounds.x+M,e.bounds.y+e.focus.y*2-e.commentMargin),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleBottom,xe.toSpot=K.MiddleTop}}else if(e.commentMargin>=0){V.e(e.bounds.x+M,e.bounds.y+e.focus.y*2+e.commentMargin),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleBottom,xe.toSpot=K.MiddleTop}}else{V.e(e.bounds.x+M,e.bounds.y+e.commentMargin-se.height),re.move(V);const ne=re.findLinksInto();for(;ne.next();){const xe=ne.value;xe.fromSpot=K.MiddleTop,xe.toSpot=K.MiddleBottom}}e.commentSpacing>=0?M+=se.width+e.commentSpacing:M+=e.commentSpacing-se.width}}N.i(V);const q=M-e.commentSpacing-(v?n.height:n.width);if(this.ws===1){const J=e.destinationEdges;for(;J.next();){const re=J.value.link;re!==null&&!re.isAvoiding&&(re.fromEndSegmentLength=q>0?q:NaN)}}else{const J=e.sourceEdges;for(;J.next();){const re=J.value.link;re!==null&&!re.isAvoiding&&(re.toEndSegmentLength=q>0?q:NaN)}}}}hU(){if(this.network===null)return;if(this.layerStyle===62){const n=[];let a=this.network.vertexes.iterator;for(;a.next();){const o=a.value;let h=o.parent;h===null&&(h=o);const u=h.angle===0||h.angle===180;let m=n[o.level];m===void 0&&(m=0),n[o.level]=Math.max(m,u?o.width:o.height)}for(let o=0;o<n.length;o++)n[o]===void 0&&(n[o]=0);for(this.yL=n,a=this.network.vertexes.iterator;a.next();){const o=a.value;let h=o.parent;h===null&&(h=o),h.angle===0||h.angle===180?(h.angle===180&&(o.focusX+=n[o.level]-o.width),o.width=n[o.level]):(h.angle===270&&(o.focusY+=n[o.level]-o.height),o.height=n[o.level])}}else if(this.layerStyle===61){const n=this.network.vertexes.iterator;for(;n.next();){const a=n.value,o=a.angle===0||a.angle===180;let h=-1;for(let u=0;u<a.children.length;u++){const m=a.children[u];h=Math.max(h,o?m.width:m.height)}if(h>=0)for(let u=0;u<a.children.length;u++){const m=a.children[u];o?(a.angle===180&&(m.focusX+=h-m.width),m.width=h):(a.angle===270&&(m.focusY+=h-m.height),m.height=h)}}}const e=this.Ie.iterator;for(;e.next();){const n=e.value;n instanceof Ta&&this.layoutTree(n)}}layoutTree(e){if(e===null)return;const n=e.children,a=n.length;for(let o=0;o<a;o++){const h=n[o];this.layoutTree(h)}switch(e.compaction){case 30:this.RF(e);break;default:case 31:e.alignment===25?this.RF(e):this.gU(e);break}}RF(e){if(e.childrenCount===0){let ct=!1,rt=0,bt=21;e.parent!==null&&(rt=e.parent.angle,bt=e.parent.alignment,ct=this.isBusAlignment(bt));const Mt=this.xL(e);e.U.e(0,0),e.dt.e(e.width,e.height),e.parent!==null&&e.comments!==null&&((rt===180||rt===270)&&!ct||Mt)?rt===180&&!ct||(rt===90||rt===270)&&Mt?e.at.e(e.width-e.focus.x*2,0):e.at.e(0,e.height-e.focus.y*2):e.at.e(0,0);return}const n=this.orthoAngle(e),a=n===90||n===270;let o=0;const h=e.children,u=h.length;for(let ct=0;ct<u;ct++){const rt=h[ct];o=Math.max(o,a?rt.dt.width:rt.dt.height)}const m=e.alignment,v=m===22,b=m===23,S=this.isBusAlignment(m),A=Math.max(0,e.breadthLimit),M=this.computeLayerSpacing(e),O=e.nodeSpacing,R=this.computeNodeIndent(e),V=v||b?0:R/2,q=e.rowSpacing;let J=0;(v||b)&&(J=Math.max(0,e.rowIndent));const re=e.width,se=e.height;let ne=0,xe=0,ye=0,we=0,ze=0,Ce=0,Pe=0,Fe=0,Re=0,We=0;if(S&&!this.vw(m)&&n>135&&h.reverse(),this.vw(m))if(u>1)for(let ct=0;ct<u;ct++){const rt=h[ct],bt=rt.dt;ct%2===0&&ct!==u-1?Re=Math.max(Re,(a?bt.width:bt.height)+this.computeBusNodeSpacing(rt)-O):ct%2!==0&&(We=Math.max(We,(a?bt.width:bt.height)+this.computeBusNodeSpacing(rt)-O))}else u===1&&(Re=a?h[0].dt.width:h[0].dt.height);if(S)switch(m){case 24:case 25:const ct=W.l();n<135?this.OF(e,h,Re,We,ne,xe,ct):this.IF(e,h,Re,We,ne,xe,ct),Re=ct.x,ne=ct.width,xe=ct.height,W.i(ct);break;case 26:for(let rt=0;rt<u;rt++){const bt=h[rt],Mt=bt.dt,li=Pe===0?0:q;a?(bt.U.e(o-Mt.width,ze+li),ne=Math.max(ne,Mt.width),xe=Math.max(xe,ze+li+Mt.height),ze+=li+Mt.height):(bt.U.e(we+li,o-Mt.height),ne=Math.max(ne,we+li+Mt.width),xe=Math.max(xe,Mt.height),we+=li+Mt.width),Pe++}break;case 27:for(let rt=0;rt<u;rt++){const bt=h[rt],Mt=bt.dt,li=Pe===0?0:q;a?(bt.U.e(O/2+e.focus.x,ze+li),ne=Math.max(ne,Mt.width),xe=Math.max(xe,ze+li+Mt.height),ze+=li+Mt.height):(bt.U.e(we+li,O/2+e.focus.y),ne=Math.max(ne,we+li+Mt.width),xe=Math.max(xe,Mt.height),we+=li+Mt.width),Pe++}break}else for(let ct=0;ct<u;ct++){const rt=h[ct],bt=rt.dt;if(a){A>0&&Pe>0&&we+O+bt.width>A&&(we<o&&this.yc(e,m,o-we,0,Fe,ct-1),Ce++,Pe=0,Fe=ct,ye=xe,we=0,ze=n>135?-xe-q:xe+q);const Mt=Pe===0?V:O;this.uP(rt,0,ze),rt.U.e(we+Mt,ze),ne=Math.max(ne,we+Mt+bt.width),xe=Math.max(xe,ye+(Ce===0?0:q)+bt.height),we+=Mt+bt.width}else{A>0&&Pe>0&&ze+O+bt.height>A&&(ze<o&&this.yc(e,m,0,o-ze,Fe,ct-1),Ce++,Pe=0,Fe=ct,ye=ne,ze=0,we=n>135?-ne-q:ne+q);const Mt=Pe===0?V:O;this.uP(rt,we,0),rt.U.e(we,ze+Mt),xe=Math.max(xe,ze+Mt+bt.height),ne=Math.max(ne,ye+(Ce===0?0:q)+bt.width),ze+=Mt+bt.height}Pe++}Ce>0&&(a?(xe+=Math.max(0,M),we<ne&&this.yc(e,m,ne-we,0,Fe,u-1),J>0&&(b||this.xu(e,J,0,0,u-1),ne+=J)):(ne+=Math.max(0,M),ze<xe&&this.yc(e,m,0,xe-ze,Fe,u-1),J>0&&(b||this.xu(e,0,J,0,u-1),xe+=J)));let Ke=0,lt=0;switch(m){case 20:a?Ke+=ne/2-e.focus.x-R/2:lt+=xe/2-e.focus.y-R/2;break;default:case 21:if(Ce>0)a?Ke+=ne/2-e.focus.x-R/2:lt+=xe/2-e.focus.y-R/2;else{const rt=u;if(a){const bt=h[0].U.x+h[0].at.x,Mt=h[rt-1].U.x+h[rt-1].at.x+h[rt-1].focus.x*2;Ke+=bt+(Mt-bt)/2-e.focus.x-R/2}else{const bt=h[0].U.y+h[0].at.y,Mt=h[rt-1].U.y+h[rt-1].at.y+h[rt-1].focus.y*2;lt+=bt+(Mt-bt)/2-e.focus.y-R/2}}break;case 22:a?(Ke-=R,ne+=R):(lt-=R,xe+=R);break;case 23:a?(Ke+=ne-e.width+R,ne+=R):(lt+=xe-e.height+R,xe+=R);break;case 24:case 25:a?u>1?Ke+=Re+O/2-e.focus.x:Ke+=h[0].focus.x-e.focus.x+h[0].at.x:u>1?lt+=Re+O/2-e.focus.y:lt+=h[0].focus.y-e.focus.y+h[0].at.y;break;case 26:a?Ke+=ne+O/2-e.focus.x:lt+=xe+O/2-e.focus.y;break;case 27:break;case 28:const ct=this.customAlignment(e,Ke,lt,ne,xe);Ke=ct[0],lt=ct[1],ne=ct[2],xe=ct[3];break}for(let ct=0;ct<u;ct++){const rt=h[ct];a?rt.U.e(rt.U.x+rt.at.x-Ke,rt.U.y+(n>135?(S?-xe:-rt.dt.height)+rt.at.y-M:se+M+rt.at.y)):rt.U.e(rt.U.x+(n>135?(S?-ne:-rt.dt.width)+rt.at.x-M:re+M+rt.at.x),rt.U.y+rt.at.y-lt)}a?(ne=this.bL(e,ne,Ke),Ke<0&&(Ke=0),n>135&&(lt+=xe+M),xe=Math.max(Math.max(xe,se),xe+se+M)):(n>135&&(Ke+=ne+M),ne=Math.max(Math.max(ne,re),ne+re+M),xe=this.kL(e,xe,lt),lt<0&&(lt=0)),e.at.e(Ke,lt),e.dt.e(ne,xe)}customAlignment(e,n,a,o,h){return[n,a,o,h]}OF(e,n,a,o,h,u,m){const v=n.length;if(v===0)return m.e(a,0,h,u),m;if(v===1){const J=n[0];return h=J.dt.width,u=J.dt.height,m.e(a,0,h,u),m}const b=e.nodeSpacing,S=e.rowSpacing,A=this.orthoAngle(e)===90;let M=0,O=0,R=0;for(let J=0;J<v;J++){if(J%2!==0||v>1&&J===v-1)continue;const re=n[J],se=re.dt,ne=M===0?0:S;if(A){const xe=this.computeBusNodeSpacing(re)-b;re.U.e(a-(se.width+xe),R+ne),h=Math.max(h,se.width+xe),u=Math.max(u,R+ne+se.height),R+=ne+se.height}else{const xe=this.computeBusNodeSpacing(re)-b;re.U.e(O+ne,a-(se.height+xe)),u=Math.max(u,se.height+xe),h=Math.max(h,O+ne+se.width),O+=ne+se.width}M++}M=0;const V=O,q=R;A?(O=a+b,R=0):(O=0,R=a+b);for(let J=0;J<v;J++){if(J%2===0)continue;const re=n[J],se=re.dt,ne=M===0?0:S;if(A){const xe=this.computeBusNodeSpacing(re)-b;re.U.e(O+xe,R+ne),h=Math.max(h,O+se.width+xe),u=Math.max(u,R+ne+se.height),R+=ne+se.height}else{const xe=this.computeBusNodeSpacing(re)-b;re.U.e(O+ne,R+xe),h=Math.max(h,O+ne+se.width),u=Math.max(u,R+se.height+xe),O+=ne+se.width}M++}if(v>1&&v%2===1){const J=n[v-1],re=J.dt,se=this.computeBusLastRowSpacing(J,A?Math.max(Math.abs(q),Math.abs(R)):Math.max(Math.abs(V),Math.abs(O)));if(A){J.U.e(a+b/2-J.focus.x-J.at.x,u+se);const ne=a+b/2-J.focus.x-J.at.x;h=Math.max(h,ne+re.width),ne<0&&(h-=ne),u=Math.max(u,Math.max(q,R)+se+re.height),J.U.x<0&&(a=this.dP(e,J.U.x,!1,a,b))}else{J.U.e(h+se,a+b/2-J.focus.y-J.at.y),h=Math.max(h,Math.max(V,O)+se+re.width);const ne=a+b/2-J.focus.y-J.at.y;u=Math.max(u,ne+re.height),ne<0&&(u-=ne),J.U.y<0&&(a=this.dP(e,J.U.y,!0,a,b))}}return m.e(a,0,h,u),m}IF(e,n,a,o,h,u,m){const v=n.length;if(v===0)return m.e(a,0,h,u),m;if(v===1){const J=n[0];return h=J.dt.width,u=J.dt.height,m.e(a,0,h,u),m}const b=e.nodeSpacing,S=e.rowSpacing,A=this.orthoAngle(e)===270;let M=0,O=0,R=0;for(let J=0;J<v;J++){if(J%2!==0||v>1&&J===v-1)continue;const re=n[J],se=re.dt,ne=M===0?0:S;if(A){const xe=this.computeBusNodeSpacing(re)-b;R-=ne+se.height,re.U.e(a-(se.width+xe),R),h=Math.max(h,se.width+xe),u=Math.max(u,Math.abs(R))}else{const xe=this.computeBusNodeSpacing(re)-b;O-=ne+se.width,re.U.e(O,a-(se.height+xe)),u=Math.max(u,se.height+xe),h=Math.max(h,Math.abs(O))}M++}M=0;const V=O,q=R;A?(O=a+b,R=0):(O=0,R=a+b);for(let J=0;J<v;J++){if(J%2===0)continue;const re=n[J],se=re.dt,ne=M===0?0:S;if(A){const xe=this.computeBusNodeSpacing(re)-b;R-=ne+se.height,re.U.e(O+xe,R),h=Math.max(h,O+se.width+xe),u=Math.max(u,Math.abs(R))}else{const xe=this.computeBusNodeSpacing(re)-b;O-=ne+se.width,re.U.e(O,R+xe),u=Math.max(u,R+se.height+xe),h=Math.max(h,Math.abs(O))}M++}if(v>1&&v%2===1){const J=n[v-1],re=J.dt,se=this.computeBusLastRowSpacing(J,A?Math.max(Math.abs(q),Math.abs(R)):Math.max(Math.abs(V),Math.abs(O)));if(A){J.U.e(a+b/2-J.focus.x-J.at.x,-u-re.height-se);const ne=a+b/2-J.focus.x-J.at.x;h=Math.max(h,ne+re.width),ne<0&&(h-=ne),u=Math.max(u,Math.abs(Math.min(q,R))+se+re.height),J.U.x<0&&(a=this.dP(e,J.U.x,!1,a,b))}else{J.U.e(-h-re.width-se,a+b/2-J.focus.y-J.at.y),h=Math.max(h,Math.abs(Math.min(V,O))+se+re.width);const ne=a+b/2-J.focus.y-J.at.y;u=Math.max(u,ne+re.height),ne<0&&(u-=ne),J.U.y<0&&(a=this.dP(e,J.U.y,!0,a,b))}}for(let J=0;J<v;J++){const re=n[J];A?re.U.e(re.U.x,re.U.y+u):re.U.e(re.U.x+h,re.U.y)}return m.e(a,0,h,u),m}computeBusNodeSpacing(e){return e.parent===null?0:e.parent.nodeSpacing}computeBusLastRowSpacing(e,n){return e.parent===null?0:e.parent.rowSpacing}dP(e,n,a,o,h){const u=e.children,m=u.length;for(let b=0;b<m;b++)a?u[b].U.e(u[b].U.x,u[b].U.y-n):u[b].U.e(u[b].U.x-n,u[b].U.y);const v=u[m-1];return Math.max(o,a?v.at.y+v.focus.y-h/2:v.at.x+v.focus.x-h/2)}bL(e,n,a){switch(e.alignment){case 21:case 20:let o=n;return a+e.width>o&&(o=a+e.width),a<0&&(o-=a),o;case 22:return e.width>n?e.width:n;case 23:return e.focus.x*2>n?e.width:n+e.width-e.focus.x*2;case 24:case 25:const h=Math.min(0,a),u=Math.max(n,a+e.width);return Math.max(e.width,u-h);case 26:return e.width-e.focus.x+e.nodeSpacing/2+n;case 27:return Math.max(e.width,e.focus.x+e.nodeSpacing/2+n);default:return n}}kL(e,n,a){switch(e.alignment){case 21:case 20:let o=n;return a+e.height>o&&(o=a+e.height),a<0&&(o-=a),o;case 22:return e.height>n?e.height:n;case 23:return e.focus.y*2>n?e.height:n+e.height-e.focus.y*2;case 24:case 25:const h=Math.min(0,a),u=Math.max(n,a+e.height);return Math.max(e.height,u-h);case 26:return e.height-e.focus.y+e.nodeSpacing/2+n;case 27:return Math.max(e.height,e.focus.y+e.nodeSpacing/2+n);default:return n}}PL(e,n,a){switch(e){case 20:n/=2,a/=2;break;case 21:n/=2,a/=2;break;case 22:n=0,a=0;break;case 23:break;default:s.o("Unhandled alignment value "+e.toString())}return new N(n,a)}yc(e,n,a,o,h,u){const m=this.PL(n,a,o);this.xu(e,m.x,m.y,h,u)}xu(e,n,a,o,h){if(n===0&&a===0)return;const u=e.children;for(let m=o;m<=h;m++){const v=u[m].U;v.x+=n,v.y+=a}}uP(e,n,a){const o=e.parent;switch(this.ws){case 1:{const h=e.sourceEdges;for(;h.next();){const u=h.value;u.fromVertex===o&&u.relativePoint.e(n,a)}break}case 2:{const h=e.destinationEdges;for(;h.next();){const u=h.value;u.toVertex===o&&u.relativePoint.e(n,a)}break}default:s.o("Unhandled path value "+this.ws.toString())}}gU(e){if(e.childrenCount===0){const zt=e.parent;let jt=!1,xi=0,gi=21;zt!==null&&(xi=zt.angle,gi=zt.alignment,jt=this.isBusAlignment(gi));const Ot=this.xL(e);e.U.e(0,0),e.dt.e(e.width,e.height),e.parent!==null&&e.comments!==null&&((xi===180||xi===270)&&!jt||Ot)?xi===180&&!jt||(xi===90||xi===270)&&Ot?e.at.e(e.width-e.focus.x*2,0):e.at.e(0,e.height-e.focus.y*2):e.at.e(0,0),e.Zg=null,e.Qg=null;return}const n=this.orthoAngle(e),a=n===90||n===270;let o=0;const h=e.children,u=h.length;for(let zt=0;zt<u;zt++){const jt=h[zt];o=Math.max(o,a?jt.dt.width:jt.dt.height)}const m=e.alignment,v=m===22,b=m===23,S=this.isBusAlignment(m),A=Math.max(0,e.breadthLimit),M=this.computeLayerSpacing(e),O=e.nodeSpacing,R=this.computeNodeIndent(e),V=e.rowSpacing;let q=0;(v||b)&&(q=Math.max(0,e.rowIndent));const J=e.width,re=e.height;let se=0,ne=0,xe=0,ye=null,we=null,ze=0,Ce=0,Pe=0,Fe=0,Re=0,We=0,Ke=0,lt=0,ct=0;if(S&&!this.vw(m)&&n>135&&h.reverse(),this.vw(m))if(u>1)for(let zt=0;zt<u;zt++)zt%2===0&&zt!==u-1?lt=Math.max(lt,a?h[zt].dt.width:h[zt].dt.height):zt%2!==0&&(ct=Math.max(ct,a?h[zt].dt.width:h[zt].dt.height));else u===1&&(lt=a?h[0].dt.width:h[0].dt.height);if(S){switch(m){case 24:const zt=W.l();n<135?this.OF(e,h,lt,ct,se,ne,zt):this.IF(e,h,lt,ct,se,ne,zt),lt=zt.x,se=zt.width,ne=zt.height,W.i(zt);break;case 26:for(let jt=0;jt<u;jt++){const xi=h[jt],gi=xi.dt,Ot=We===0?0:V;a?(xi.U.e(o-gi.width,Fe+Ot),se=Math.max(se,gi.width),ne=Math.max(ne,Fe+Ot+gi.height),Fe+=Ot+gi.height):(xi.U.e(Pe+Ot,o-gi.height),se=Math.max(se,Pe+Ot+gi.width),ne=Math.max(ne,gi.height),Pe+=Ot+gi.width),We++}break;case 27:for(let jt=0;jt<u;jt++){const xi=h[jt],gi=xi.dt,Ot=We===0?0:V;a?(xi.U.e(O/2+e.focus.x,Fe+Ot),se=Math.max(se,gi.width),ne=Math.max(ne,Fe+Ot+gi.height),Fe+=Ot+gi.height):(xi.U.e(Pe+Ot,O/2+e.focus.y),se=Math.max(se,Pe+Ot+gi.width),ne=Math.max(ne,gi.height),Pe+=Ot+gi.width),We++}break}ye=this.pi(2),we=this.pi(2),a?(ye[0].e(0,0),ye[1].e(0,ne),we[0].e(se,0),we[1].e(se,ne)):(ye[0].e(0,0),ye[1].e(se,0),we[0].e(0,ne),we[1].e(se,ne))}else for(let zt=0;zt<u;zt++){const jt=h[zt],xi=jt.dt;if(a){A>0&&We>0&&Pe+O+xi.width>A&&(Pe<o&&this.yc(e,m,o-Pe,0,Ke,zt-1),Re++,We=0,Ke=zt,xe=ne,Pe=0,Fe=n>135?-ne-V:ne+V),this.uP(jt,0,Fe);let gi=0;if(We===0)ye=jt.Zg,we=jt.Qg,ze=xi.width,Ce=xi.height,(ye===null||we===null||n!==this.orthoAngle(jt))&&(ye=this.pi(2),we=this.pi(2),ye[0].e(0,0),ye[1].e(0,Ce),we[0].e(ze,0),we[1].e(ze,Ce));else{const Ot=s.nt(),Qt=W.l();this.EF(e,jt,ye,we,ze,Ce,Ot,Qt),gi=Qt.x,ye=Ot[0],we=Ot[1],ze=Qt.width,Ce=Qt.height,s.Z(Ot),Pe<xi.width&&gi<0&&(this.xu(e,-gi,0,Ke,zt-1),this.gP(ye,-gi,0),this.gP(we,-gi,0),gi=0),W.i(Qt)}jt.U.e(gi,Fe),se=Math.max(se,ze),ne=Math.max(ne,xe+(Re===0?0:V)+xi.height),Pe=ze}else{A>0&&We>0&&Fe+O+xi.height>A&&(Fe<o&&this.yc(e,m,0,o-Fe,Ke,zt-1),Re++,We=0,Ke=zt,xe=se,Fe=0,Pe=n>135?-se-V:se+V),this.uP(jt,Pe,0);let gi=0;if(We===0)ye=jt.Zg,we=jt.Qg,ze=xi.width,Ce=xi.height,(ye===null||we===null||n!==this.orthoAngle(jt))&&(ye=this.pi(2),we=this.pi(2),ye[0].e(0,0),ye[1].e(ze,0),we[0].e(0,Ce),we[1].e(ze,Ce));else{const Ot=s.nt(),Qt=W.l();this.EF(e,jt,ye,we,ze,Ce,Ot,Qt),gi=Qt.x,ye=Ot[0],we=Ot[1],ze=Qt.width,Ce=Qt.height,s.Z(Ot),Fe<xi.height&&gi<0&&(this.xu(e,0,-gi,Ke,zt-1),this.gP(ye,0,-gi),this.gP(we,0,-gi),gi=0),W.i(Qt)}jt.U.e(Pe,gi),ne=Math.max(ne,Ce),se=Math.max(se,xe+(Re===0?0:V)+xi.width),Fe=Ce}We++}Re>0&&(a?(ne+=Math.max(0,M),Pe<se&&this.yc(e,m,se-Pe,0,Ke,u-1),q>0&&(b||this.xu(e,q,0,0,u-1),se+=q)):(se+=Math.max(0,M),Fe<ne&&this.yc(e,m,0,ne-Fe,Ke,u-1),q>0&&(b||this.xu(e,0,q,0,u-1),ne+=q)));let rt=0,bt=0;switch(m){case 20:a?rt+=se/2-e.focus.x-R/2:bt+=ne/2-e.focus.y-R/2;break;default:case 21:if(Re>0)a?rt+=se/2-e.focus.x-R/2:bt+=ne/2-e.focus.y-R/2;else{const jt=u;if(a){const xi=h[0].U.x+h[0].at.x,gi=h[jt-1].U.x+h[jt-1].at.x+h[jt-1].focus.x*2;rt+=xi+(gi-xi)/2-e.focus.x-R/2}else{const xi=h[0].U.y+h[0].at.y,gi=h[jt-1].U.y+h[jt-1].at.y+h[jt-1].focus.y*2;bt+=xi+(gi-xi)/2-e.focus.y-R/2}}break;case 22:a?(rt-=R,se+=R):(bt-=R,ne+=R);break;case 23:a?(rt+=se-e.width+R,se+=R):(bt+=ne-e.height+R,ne+=R);break;case 24:a?u>1?rt+=lt+O/2-e.focus.x:rt+=h[0].focus.x-e.focus.x+h[0].at.x:u>1?bt+=lt+O/2-e.focus.y:bt+=h[0].focus.y-e.focus.y+h[0].at.y;break;case 26:a?rt+=se+O/2-e.focus.x:bt+=ne+O/2-e.focus.y;break;case 27:break;case 28:const zt=this.customAlignment(e,rt,bt,se,ne);rt=zt[0],bt=zt[1],se=zt[2],ne=zt[3];break}for(let zt=0;zt<u;zt++){const jt=h[zt];a?jt.U.e(jt.U.x+jt.at.x-rt,jt.U.y+(n>135?(S?-ne:-jt.dt.height)+jt.at.y-M:re+M+jt.at.y)):jt.U.e(jt.U.x+(n>135?(S?-se:-jt.dt.width)+jt.at.x-M:J+M+jt.at.x),jt.U.y+jt.at.y-bt)}let Mt=0,li=0;if(S)a?(se=this.bL(e,se,rt),rt<0&&(rt=0),n>135&&(bt+=ne+M),ne+=re+M,m===27&&(Mt+=O/2+e.focus.x),li+=re+M):(n>135&&(rt+=se+M),se+=J+M,ne=this.kL(e,ne,bt),bt<0&&(bt=0),m===27&&(li+=O/2+e.focus.y),Mt+=J+M);else if(a){if(e.comments===null){if(J>se){const zt=this.PL(m,J-se,0);Mt=zt.x,li=zt.y,se=J,rt=0}}else se=this.bL(e,se,rt);rt<0&&(Mt-=rt,rt=0),n>135&&(bt+=ne+M),ne=Math.max(Math.max(ne,re),ne+re+M),li+=re+M}else{if(n>135&&(rt+=se+M),se=Math.max(Math.max(se,J),se+J+M),e.comments===null){if(re>ne){const zt=this.PL(m,0,re-ne);Mt=zt.x,li=zt.y,ne=re,bt=0}}else ne=this.kL(e,ne,bt);bt<0&&(li-=bt,bt=0),Mt+=J+M}let Vt,Gt;if(Re>0)Vt=this.pi(4),Gt=this.pi(4),a?(Vt[2].e(0,re+M),Vt[3].e(Vt[2].x,ne),Gt[2].e(se,Vt[2].y),Gt[3].e(Gt[2].x,Vt[3].y)):(Vt[2].e(J+M,0),Vt[3].e(se,Vt[2].y),Gt[2].e(Vt[2].x,ne),Gt[3].e(Vt[3].x,Gt[2].y));else{Vt=this.pi(ye.length+2),Gt=this.pi(we.length+2);for(let zt=0;zt<ye.length;zt++){const jt=ye[zt];Vt[zt+2].e(jt.x+Mt,jt.y+li)}for(let zt=0;zt<we.length;zt++){const jt=we[zt];Gt[zt+2].e(jt.x+Mt,jt.y+li)}}a?(Vt[0].e(rt,0),Vt[1].e(Vt[0].x,re),Vt[2].y<Vt[1].y&&(Vt[2].x>Vt[0].x?Vt[2].h(Vt[1]):Vt[1].h(Vt[2])),Vt[3].y<Vt[2].y&&(Vt[3].x>Vt[0].x?Vt[3].h(Vt[2]):Vt[2].h(Vt[3])),Gt[0].e(rt+J,0),Gt[1].e(Gt[0].x,re),Gt[2].y<Gt[1].y&&(Gt[2].x<Gt[0].x?Gt[2].h(Gt[1]):Gt[1].h(Gt[2])),Gt[3].y<Gt[2].y&&(Gt[3].x<Gt[0].x?Gt[3].h(Gt[2]):Gt[2].h(Gt[3])),Vt[2].y-=M/2,Gt[2].y-=M/2):(Vt[0].e(0,bt),Vt[1].e(J,Vt[0].y),Vt[2].x<Vt[1].x&&(Vt[2].y>Vt[0].y?Vt[2].h(Vt[1]):Vt[1].h(Vt[2])),Vt[3].x<Vt[2].x&&(Vt[3].y>Vt[0].y?Vt[3].h(Vt[2]):Vt[2].h(Vt[3])),Gt[0].e(0,bt+re),Gt[1].e(J,Gt[0].y),Gt[2].x<Gt[1].x&&(Gt[2].y<Gt[0].y?Gt[2].h(Gt[1]):Gt[1].h(Gt[2])),Gt[3].x<Gt[2].x&&(Gt[3].y<Gt[0].y?Gt[3].h(Gt[2]):Gt[2].h(Gt[3])),Vt[2].x-=M/2,Gt[2].x-=M/2),this.un(ye),this.un(we),e.Zg=Vt,e.Qg=Gt,e.at.e(rt,bt),e.dt.e(se,ne)}gP(e,n,a){for(let o=0;o<e.length;o++){const h=e[o];h.x+=n,h.y+=a}}EF(e,n,a,o,h,u,m,v){const b=this.orthoAngle(e),S=b===90||b===270,A=e.nodeSpacing,M=a,O=o,R=h,V=u;let q=n.Zg,J=n.Qg;const re=n.dt,se=S?Math.max(V,re.height):Math.max(R,re.width);if((q===null||b!==this.orthoAngle(n))&&(q=this.pi(2),J=this.pi(2),S?(q[0].e(0,0),q[1].e(0,re.height),J[0].e(re.width,0),J[1].e(J[0].x,q[1].y)):(q[0].e(0,0),q[1].e(re.width,0),J[0].e(0,re.height),J[1].e(q[1].x,J[0].y))),S){const ne=R;let xe=ne-this.mU(O,q,ne);return xe+=A,a=this.pU(M,q,xe),o=this.yU(O,J,xe),h=Math.max(0,xe)+re.width,u=se,this.un(M),this.un(q),this.un(O),this.un(J),m[0]=a,m[1]=o,v.e(xe,0,h,u),v}else{const ne=V;let xe=ne-this.wU(O,q,ne);return xe+=A,a=this.xU(M,q,xe),o=this.bU(O,J,xe),h=se,u=Math.max(0,xe)+re.height,this.un(M),this.un(q),this.un(O),this.un(J),m[0]=a,m[1]=o,v.e(xe,0,h,u),v}}xU(e,n,a){if(e===null||e.length<2||n===null||n.length<2)return null;const o=this.pi(e.length+n.length);let h=0,u=0,m=0;for(;u<n.length&&n[u].x<e[0].x;){const S=n[u++];o[m++].e(S.x,S.y+a)}for(;h<e.length;){const S=e[h++];o[m++].e(S.x,S.y)}const v=e[e.length-1].x;for(;u<n.length&&n[u].x<=v;)u++;for(;u<n.length&&n[u].x>v;){const S=n[u++];o[m++].e(S.x,S.y+a)}const b=this.pi(m);for(h=0;h<m;h++)b[h].h(o[h]);return this.un(o),b}pU(e,n,a){if(e===null||e.length<2||n===null||n.length<2)return null;const o=this.pi(e.length+n.length);let h=0,u=0,m=0;for(;u<n.length&&n[u].y<e[0].y;){const S=n[u++];o[m++].e(S.x+a,S.y)}for(;h<e.length;){const S=e[h++];o[m++].e(S.x,S.y)}const v=e[e.length-1].y;for(;u<n.length&&n[u].y<=v;)u++;for(;u<n.length&&n[u].y>v;){const S=n[u++];o[m++].e(S.x+a,S.y)}const b=this.pi(m);for(h=0;h<m;h++)b[h].h(o[h]);return this.un(o),b}bU(e,n,a){if(e===null||e.length<2||n===null||n.length<2)return null;const o=this.pi(e.length+n.length);let h=0,u=0,m=0;for(;h<e.length&&e[h].x<n[0].x;){const S=e[h++];o[m++].e(S.x,S.y)}for(;u<n.length;){const S=n[u++];o[m++].e(S.x,S.y+a)}const v=n[n.length-1].x;for(;h<e.length&&e[h].x<=v;)h++;for(;h<e.length&&e[h].x>v;){const S=e[h++];o[m++].e(S.x,S.y)}const b=this.pi(m);for(h=0;h<m;h++)b[h].h(o[h]);return this.un(o),b}yU(e,n,a){if(e===null||e.length<2||n===null||n.length<2)return null;const o=this.pi(e.length+n.length);let h=0,u=0,m=0;for(;h<e.length&&e[h].y<n[0].y;){const S=e[h++];o[m++].e(S.x,S.y)}for(;u<n.length;){const S=n[u++];o[m++].e(S.x+a,S.y)}const v=n[n.length-1].y;for(;h<e.length&&e[h].y<=v;)h++;for(;h<e.length&&e[h].y>v;){const S=e[h++];o[m++].e(S.x,S.y)}const b=this.pi(m);for(h=0;h<m;h++)b[h].h(o[h]);return this.un(o),b}wU(e,n,a){let o=9999999;if(e===null||e.length<2||n===null||n.length<2)return o;let h=0,u=0;for(;h<e.length&&u<n.length;){const m=e[h],v=n[u],b=v.x;let S=v.y;S+=a;let A=m;h+1<e.length&&(A=e[h+1]);let M=v,O=M.x,R=M.y;u+1<n.length&&(M=n[u+1],O=M.x,R=M.y,R+=a);let V=o;m.x===b?V=S-m.y:m.x>b&&m.x<O?V=S+(m.x-b)/(O-b)*(R-S)-m.y:b>m.x&&b<A.x&&(V=S-(m.y+(b-m.x)/(A.x-m.x)*(A.y-m.y))),V<o&&(o=V),A.x<=m.x?h++:O<=b?u++:(A.x<=O&&h++,O<=A.x&&u++)}return o}mU(e,n,a){let o=9999999;if(e===null||e.length<2||n===null||n.length<2)return o;let h=0,u=0;for(;h<e.length&&u<n.length;){const m=e[h],v=n[u];let b=v.x;const S=v.y;b+=a;let A=m;h+1<e.length&&(A=e[h+1]);let M=v,O=M.x,R=M.y;u+1<n.length&&(M=n[u+1],O=M.x,R=M.y,O+=a);let V=o;m.y===S?V=b-m.x:m.y>S&&m.y<R?V=b+(m.y-S)/(R-S)*(O-b)-m.x:S>m.y&&S<A.y&&(V=b-(m.x+(S-m.y)/(A.y-m.y)*(A.x-m.x))),V<o&&(o=V),A.y<=m.y?h++:R<=S?u++:(A.y<=R&&h++,R<=A.y&&u++)}return o}pi(e){const n=this.fP[e];if(n!==void 0){const o=n.pop();if(o!==void 0)return o}const a=[];for(let o=0;o<e;o++)a[o]=new N;return a}un(e){if(!e)return;const n=e.length;let a=this.fP[n];a===void 0&&(a=[],this.fP[n]=a),a.push(e)}arrangeTrees(){if(this.He===52){const e=this.Ie.iterator;for(;e.next();){const n=e.value;if(!(n instanceof Ta))continue;const a=n.node;if(a===null)continue;const o=a.position;let h=o.x,u=o.y;isFinite(h)||(h=0),isFinite(u)||(u=0),this.SL(n,h,u)}}else{const e=[],n=this.Ie.iterator;for(;n.next();){const u=n.value;u instanceof Ta&&e.push(u)}switch(this.sorting){default:case 10:break;case 11:e.reverse();break;case 12:e.sort(this.comparer);break;case 13:e.sort(this.comparer),e.reverse();break}const a=this.arrangementOrigin;let o=a.x,h=a.y;for(let u=0;u<e.length;u++){const m=e[u];switch(this.SL(m,o+m.at.x,h+m.at.y),this.He){case 50:h+=m.dt.height+this.Us.height;break;default:case 51:o+=m.dt.width+this.Us.width;break}}}}SL(e,n,a){if(e===null)return;e.x=n,e.y=a;const o=e.children,h=o.length;for(let u=0;u<h;u++){const m=o[u];this.SL(m,n+m.U.x,a+m.U.y)}}commitLayout(){this.Pw(),this.commitNodes(),this.pL(),this.isRouting&&this.commitLinks()}commitNodes(){if(this.network===null)return;const e=this.network.vertexes.iterator;for(;e.next();)e.value.commit();for(e.reset();e.next();){const n=e.value;this.layoutComments(n)}}pL(){if(this.network===null||this.layerStyle!==62)return;const e=this.yL,n=[];let a;const o=this.network.vertexes.iterator;for(;o.next();){const b=o.value;a===void 0?a=b.bounds.copy():a.unionRect(b.bounds);let S=n[b.level];S===void 0?S=this.computeLayerSpacing(b):S=Math.max(S,this.computeLayerSpacing(b)),n[b.level]=S}if(!a)return;for(let b=0;b<n.length;b++)n[b]===void 0&&(n[b]=0);let h;this.angle===90||this.angle===270?(a.inflate(this.nodeSpacing/2,this.layerSpacing),h=new N(-this.nodeSpacing/2,-this.layerSpacing/2)):(a.inflate(this.layerSpacing,this.nodeSpacing/2),h=new N(-this.layerSpacing/2,-this.nodeSpacing/2));const u=[],m=this.angle===90||this.angle===270?a.width:a.height;let v=0;if(this.angle===180||this.angle===270)for(let b=0;b<e.length;b++)v+=e[b]+n[b];for(let b=0;b<e.length;b++){const S=e[b]+n[b];this.angle===270?(v-=S,u.push(new W(0,v,m,S))):this.angle===90?(u.push(new W(0,v,m,S)),v+=S):this.angle===180?(v-=S,u.push(new W(v,0,S,m))):(u.push(new W(v,0,S,m)),v+=S)}this.commitLayers(u,h)}commitLayers(e,n){}commitLinks(){if(this.network===null)return;const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}Pw(){const e=this.Ie.iterator;for(;e.next();){const n=e.value;n instanceof Ta&&this.UF(n)}}UF(e){if(e===null)return;this.setPortSpots(e);const n=e.children,a=n.length;for(let o=0;o<a;o++){const h=n[o];this.UF(h)}}setPortSpots(e){const n=e.alignment;if(this.isBusAlignment(n))this.kU(e,n);else{const a=this.orthoAngle(e);if(this.ws===1){const o=e.destinationEdges;for(;o.next();){const h=o.value.link;if(h!==null){if(e.setsPortSpot)if(e.portSpot.isDefault())switch(a){case 0:h.fromSpot=K.MiddleRight;break;case 90:h.fromSpot=K.MiddleBottom;break;case 180:h.fromSpot=K.MiddleLeft;break;default:h.fromSpot=K.MiddleTop;break}else h.fromSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.isDefault())switch(a){case 0:h.toSpot=K.MiddleLeft;break;case 90:h.toSpot=K.MiddleTop;break;case 180:h.toSpot=K.MiddleRight;break;default:h.toSpot=K.MiddleBottom;break}else h.toSpot=e.childPortSpot}}}else{const o=e.sourceEdges;for(;o.next();){const h=o.value.link;if(h!==null){if(e.setsPortSpot)if(e.portSpot.isDefault())switch(a){case 0:h.toSpot=K.MiddleRight;break;case 90:h.toSpot=K.MiddleBottom;break;case 180:h.toSpot=K.MiddleLeft;break;default:h.toSpot=K.MiddleTop;break}else h.toSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.isDefault())switch(a){case 0:h.fromSpot=K.MiddleLeft;break;case 90:h.fromSpot=K.MiddleTop;break;case 180:h.fromSpot=K.MiddleRight;break;default:h.fromSpot=K.MiddleBottom;break}else h.fromSpot=e.childPortSpot}}}}}kU(e,n){const a=this.ws===1,o=this.orthoAngle(e);let h;switch(o){case 0:h=K.MiddleRight;break;case 90:h=K.MiddleBottom;break;case 180:h=K.MiddleLeft;break;default:h=K.MiddleTop;break}const u=e.children,m=u.length;switch(n){case 24:case 25:{for(let v=0;v<m;v++){const b=u[v],S=(a?b.sourceEdges:b.destinationEdges).first();if(S===null)continue;const A=S.link;if(A!==null){let M=o===90||o===270?K.MiddleLeft:K.MiddleTop;if(m===1||v===m-1&&m%2===1)switch(o){case 0:M=K.MiddleLeft;break;case 90:M=K.MiddleTop;break;case 180:M=K.MiddleRight;break;default:M=K.MiddleBottom;break}else v%2===0&&(M=o===90||o===270?K.MiddleRight:K.MiddleBottom);a?(e.setsPortSpot&&(A.fromSpot=h),e.setsChildPortSpot&&(A.toSpot=M)):(e.setsPortSpot&&(A.fromSpot=M),e.setsChildPortSpot&&(A.toSpot=h))}}break}case 26:{const v=o===90||o===270?K.MiddleRight:K.MiddleBottom,b=a?e.destinationEdges:e.sourceEdges;for(;b.next();){const S=b.value.link;S!==null&&(a?(e.setsPortSpot&&(S.fromSpot=h),e.setsChildPortSpot&&(S.toSpot=v)):(e.setsPortSpot&&(S.fromSpot=v),e.setsChildPortSpot&&(S.toSpot=h)))}break}case 27:{const v=o===90||o===270?K.MiddleLeft:K.MiddleTop,b=a?e.destinationEdges:e.sourceEdges;for(;b.next();){const S=b.value.link;S!==null&&(a?(e.setsPortSpot&&(S.fromSpot=h),e.setsChildPortSpot&&(S.toSpot=v)):(e.setsPortSpot&&(S.fromSpot=v),e.setsChildPortSpot&&(S.toSpot=h)))}break}}}orthoAngle(e){const n=e.angle;return n<=45?0:n<=135?90:n<=225?180:n<=315?270:0}computeLayerSpacing(e){const n=this.orthoAngle(e),a=n===90||n===270;let o=e.layerSpacing;if(e.layerSpacingParentOverlap>0){const h=Math.min(1,e.layerSpacingParentOverlap);o-=a?e.height*h:e.width*h}return o<(a?-e.height:-e.width)&&(o=a?-e.height:-e.width),o}computeNodeIndent(e){const n=this.orthoAngle(e),a=n===90||n===270;let o=e.nodeIndent;if(e.nodeIndentPastParent>0){const h=Math.min(1,e.nodeIndentPastParent);o+=a?e.width*h:e.height*h}return o=Math.max(0,o),o}get roots(){return this.Ie}set roots(e){this.Ie!==e&&(this.Ie=e,this.p())}get path(){return this.Fe}set path(e){this.Fe!==e&&(this.Fe=e,this.p())}get treeStyle(){return this.wu}set treeStyle(e){this.wu!==e&&(e===40||e===42||e===41||e===43)&&(this.wu=e,this.p())}get layerStyle(){return this.$g}set layerStyle(e){this.$g!==e&&(e===60||e===61||e===62)&&(this.$g=e,this.p())}get comments(){return this.Xi}set comments(e){this.Xi!==e&&(this.Xi=e,this.p())}get arrangement(){return this.He}set arrangement(e){this.He!==e&&(e===50||e===51||e===52)&&(this.He=e,this.p())}get arrangementSpacing(){return this.Us}set arrangementSpacing(e){this.Us.equals(e)||(this.Us.h(e),this.p())}get rootDefaults(){return this.V}set rootDefaults(e){this.V!==e&&(this.V=e,this.p())}get alternateDefaults(){return this.B}set alternateDefaults(e){this.B!==e&&(this.B=e,this.p())}get sorting(){return this.V.sorting}set sorting(e){this.V.sorting!==e&&(this.V.sorting=e,this.p())}get comparer(){return this.V.comparer}set comparer(e){this.V.comparer!==e&&(this.V.comparer=e,this.p())}get angle(){return this.V.angle}set angle(e){this.V.angle!==e&&(e===0||e===90||e===180||e===270?(this.V.angle=e,this.p()):s.o("TreeLayout.angle must be 0, 90, 180, or 270"))}get alignment(){return this.V.alignment}set alignment(e){this.V.alignment!==e&&(this.V.alignment=e,this.p())}get nodeIndent(){return this.V.nodeIndent}set nodeIndent(e){this.V.nodeIndent!==e&&e>=0&&(this.V.nodeIndent=e,this.p())}get nodeIndentPastParent(){return this.V.nodeIndentPastParent}set nodeIndentPastParent(e){this.V.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.V.nodeIndentPastParent=e,this.p())}get nodeSpacing(){return this.V.nodeSpacing}set nodeSpacing(e){this.V.nodeSpacing!==e&&(this.V.nodeSpacing=e,this.p())}get layerSpacing(){return this.V.layerSpacing}set layerSpacing(e){this.V.layerSpacing!==e&&(this.V.layerSpacing=e,this.p())}get layerSpacingParentOverlap(){return this.V.layerSpacingParentOverlap}set layerSpacingParentOverlap(e){this.V.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.V.layerSpacingParentOverlap=e,this.p())}get compaction(){return this.V.compaction}set compaction(e){this.V.compaction!==e&&(e===30||e===31)&&(this.V.compaction=e,this.p())}get breadthLimit(){return this.V.breadthLimit}set breadthLimit(e){this.V.breadthLimit!==e&&e>=0&&(this.V.breadthLimit=e,this.p())}get rowSpacing(){return this.V.rowSpacing}set rowSpacing(e){this.V.rowSpacing!==e&&(this.V.rowSpacing=e,this.p())}get rowIndent(){return this.V.rowIndent}set rowIndent(e){this.V.rowIndent!==e&&e>=0&&(this.V.rowIndent=e,this.p())}get commentSpacing(){return this.V.commentSpacing}set commentSpacing(e){this.V.commentSpacing!==e&&(this.V.commentSpacing=e,this.p())}get commentMargin(){return this.V.commentMargin}set commentMargin(e){this.V.commentMargin!==e&&(this.V.commentMargin=e,this.p())}get setsPortSpot(){return this.V.setsPortSpot}set setsPortSpot(e){this.V.setsPortSpot!==e&&(this.V.setsPortSpot=e,this.p())}get portSpot(){return this.V.portSpot}set portSpot(e){this.V.portSpot.equals(e)||(this.V.portSpot=e,this.p())}get setsChildPortSpot(){return this.V.setsChildPortSpot}set setsChildPortSpot(e){this.V.setsChildPortSpot!==e&&(this.V.setsChildPortSpot=e,this.p())}get childPortSpot(){return this.V.childPortSpot}set childPortSpot(e){this.V.childPortSpot.equals(e)||(this.V.childPortSpot=e,this.p())}get alternateSorting(){return this.B.sorting}set alternateSorting(e){this.B.sorting!==e&&(this.B.sorting=e,this.p())}get alternateComparer(){return this.B.comparer}set alternateComparer(e){this.B.comparer!==e&&(this.B.comparer=e,this.p())}get alternateAngle(){return this.B.angle}set alternateAngle(e){this.B.angle!==e&&(e===0||e===90||e===180||e===270)&&(this.B.angle=e,this.p())}get alternateAlignment(){return this.B.alignment}set alternateAlignment(e){this.B.alignment!==e&&(this.B.alignment=e,this.p())}get alternateNodeIndent(){return this.B.nodeIndent}set alternateNodeIndent(e){this.B.nodeIndent!==e&&e>=0&&(this.B.nodeIndent=e,this.p())}get alternateNodeIndentPastParent(){return this.B.nodeIndentPastParent}set alternateNodeIndentPastParent(e){this.B.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.B.nodeIndentPastParent=e,this.p())}get alternateNodeSpacing(){return this.B.nodeSpacing}set alternateNodeSpacing(e){this.B.nodeSpacing!==e&&(this.B.nodeSpacing=e,this.p())}get alternateLayerSpacing(){return this.B.layerSpacing}set alternateLayerSpacing(e){this.B.layerSpacing!==e&&(this.B.layerSpacing=e,this.p())}get alternateLayerSpacingParentOverlap(){return this.B.layerSpacingParentOverlap}set alternateLayerSpacingParentOverlap(e){this.B.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.B.layerSpacingParentOverlap=e,this.p())}get alternateCompaction(){return this.B.compaction}set alternateCompaction(e){this.B.compaction!==e&&(e===30||e===31)&&(this.B.compaction=e,this.p())}get alternateBreadthLimit(){return this.B.breadthLimit}set alternateBreadthLimit(e){this.B.breadthLimit!==e&&e>=0&&(this.B.breadthLimit=e,this.p())}get alternateRowSpacing(){return this.B.rowSpacing}set alternateRowSpacing(e){this.B.rowSpacing!==e&&(this.B.rowSpacing=e,this.p())}get alternateRowIndent(){return this.B.rowIndent}set alternateRowIndent(e){this.B.rowIndent!==e&&e>=0&&(this.B.rowIndent=e,this.p())}get alternateCommentSpacing(){return this.B.commentSpacing}set alternateCommentSpacing(e){this.B.commentSpacing!==e&&(this.B.commentSpacing=e,this.p())}get alternateCommentMargin(){return this.B.commentMargin}set alternateCommentMargin(e){this.B.commentMargin!==e&&(this.B.commentMargin=e,this.p())}get alternateSetsPortSpot(){return this.B.setsPortSpot}set alternateSetsPortSpot(e){this.B.setsPortSpot!==e&&(this.B.setsPortSpot=e,this.p())}get alternatePortSpot(){return this.B.portSpot}set alternatePortSpot(e){this.B.portSpot.equals(e)||(this.B.portSpot=e,this.p())}get alternateSetsChildPortSpot(){return this.B.setsChildPortSpot}set alternateSetsChildPortSpot(e){this.B.setsChildPortSpot!==e&&(this.B.setsChildPortSpot=e,this.p())}get alternateChildPortSpot(){return this.B.childPortSpot}set alternateChildPortSpot(e){this.B.childPortSpot.equals(e)||(this.B.childPortSpot=e,this.p())}}E(Pn,"PathDefault",0),E(Pn,"PathDestination",1),E(Pn,"PathSource",2),E(Pn,"SortingForwards",10),E(Pn,"SortingReverse",11),E(Pn,"SortingAscending",12),E(Pn,"SortingDescending",13),E(Pn,"AlignmentCenterSubtrees",20),E(Pn,"AlignmentCenterChildren",21),E(Pn,"AlignmentStart",22),E(Pn,"AlignmentEnd",23),E(Pn,"AlignmentBus",24),E(Pn,"AlignmentBusBranching",25),E(Pn,"AlignmentTopLeftBus",26),E(Pn,"AlignmentBottomRightBus",27),E(Pn,"CompactionNone",30),E(Pn,"CompactionBlock",31),E(Pn,"StyleLayered",40),E(Pn,"StyleLastParents",41),E(Pn,"StyleAlternating",42),E(Pn,"StyleRootOnly",43),E(Pn,"ArrangementVertical",50),E(Pn,"ArrangementHorizontal",51),E(Pn,"ArrangementFixedRoots",52),E(Pn,"LayerIndividual",60),E(Pn,"LayerSiblings",61),E(Pn,"LayerUniform",62);class Np extends Bl{constructor(i){super(i)}createVertex(){return new Ta(this)}createEdge(){return new Vb(this)}}class Ta extends Vl{constructor(e){super(e);E(this,"U");E(this,"dt");E(this,"at");E(this,"mP");E(this,"pP");E(this,"yP");E(this,"wP");E(this,"xP");E(this,"bP");E(this,"kP");E(this,"Xi");E(this,"Zg");E(this,"Qg");E(this,"Si");E(this,"Mi");E(this,"Xt");E(this,"de");E(this,"Fw");E(this,"Rw");E(this,"Ow");E(this,"Vs");E(this,"Iw");E(this,"Ew");E(this,"Uw");E(this,"Vw");E(this,"Bw");E(this,"zw");E(this,"Xw");E(this,"Gw");E(this,"Yw");E(this,"Kw");E(this,"Hw");this.mP=!1,this.pP=null,this.yP=[],this.wP=0,this.xP=0,this.bP=0,this.kP=0,this.Xi=null,this.U=new N(0,0),this.dt=new X(0,0),this.at=new N(0,0),this.Zg=null,this.Qg=null,this.Si=10,this.Mi=Vl.standardComparer,this.Xt=0,this.de=21,this.Fw=0,this.Rw=0,this.Ow=20,this.Vs=50,this.Iw=0,this.Ew=31,this.Uw=0,this.Vw=25,this.Bw=10,this.zw=10,this.Xw=20,this.Gw=!0,this.Yw=K.Default,this.Kw=!0,this.Hw=K.Default}copyInheritedPropertiesFrom(e){e!==null&&(this.Si=e.sorting,this.Mi=e.comparer,this.Xt=e.angle,this.de=e.alignment,this.Fw=e.nodeIndent,this.Rw=e.nodeIndentPastParent,this.Ow=e.nodeSpacing,this.Vs=e.layerSpacing,this.Iw=e.layerSpacingParentOverlap,this.Ew=e.compaction,this.Uw=e.breadthLimit,this.Vw=e.rowSpacing,this.Bw=e.rowIndent,this.zw=e.commentSpacing,this.Xw=e.commentMargin,this.Gw=e.setsPortSpot,this.Yw=e.portSpot,this.Kw=e.setsChildPortSpot,this.Hw=e.childPortSpot)}get initialized(){return this.mP}set initialized(e){this.mP!==e&&(this.mP=e)}get parent(){return this.pP}set parent(e){this.pP!==e&&(this.pP=e)}get children(){return this.yP}set children(e){if(this.yP!==e){if(e!==null){const n=e.length;for(let a=0;a<n;a++)e[a]}this.yP=e}}get level(){return this.wP}set level(e){this.wP!==e&&(this.wP=e)}get descendantCount(){return this.xP}set descendantCount(e){this.xP!==e&&(this.xP=e)}get maxChildrenCount(){return this.bP}set maxChildrenCount(e){this.bP!==e&&(this.bP=e)}get maxGenerationCount(){return this.kP}set maxGenerationCount(e){this.kP!==e&&(this.kP=e)}get comments(){return this.Xi}set comments(e){if(this.Xi!==e){if(e!==null){const n=e.length;for(let a=0;a<n;a++)e[a]}this.Xi=e}}get sorting(){return this.Si}set sorting(e){this.Si!==e&&(this.Si=e)}get comparer(){return this.Mi}set comparer(e){this.Mi!==e&&(this.Mi=e)}get angle(){return this.Xt}set angle(e){this.Xt!==e&&(this.Xt=e)}get alignment(){return this.de}set alignment(e){this.de!==e&&(this.de=e)}get nodeIndent(){return this.Fw}set nodeIndent(e){this.Fw!==e&&(this.Fw=e)}get nodeIndentPastParent(){return this.Rw}set nodeIndentPastParent(e){this.Rw!==e&&(this.Rw=e)}get nodeSpacing(){return this.Ow}set nodeSpacing(e){this.Ow!==e&&(this.Ow=e)}get layerSpacing(){return this.Vs}set layerSpacing(e){this.Vs!==e&&(this.Vs=e)}get layerSpacingParentOverlap(){return this.Iw}set layerSpacingParentOverlap(e){this.Iw!==e&&(this.Iw=e)}get compaction(){return this.Ew}set compaction(e){this.Ew!==e&&(this.Ew=e)}get breadthLimit(){return this.Uw}set breadthLimit(e){this.Uw!==e&&(this.Uw=e)}get rowSpacing(){return this.Vw}set rowSpacing(e){this.Vw!==e&&(this.Vw=e)}get rowIndent(){return this.Bw}set rowIndent(e){this.Bw!==e&&(this.Bw=e)}get commentSpacing(){return this.zw}set commentSpacing(e){this.zw!==e&&(this.zw=e)}get commentMargin(){return this.Xw}set commentMargin(e){this.Xw!==e&&(this.Xw=e)}get setsPortSpot(){return this.Gw}set setsPortSpot(e){this.Gw!==e&&(this.Gw=e)}get portSpot(){return this.Yw}set portSpot(e){this.Yw.equals(e)||(this.Yw=e)}get setsChildPortSpot(){return this.Kw}set setsChildPortSpot(e){this.Kw!==e&&(this.Kw=e)}get childPortSpot(){return this.Hw}set childPortSpot(e){this.Hw.equals(e)||(this.Hw=e)}get childrenCount(){return this.children.length}get relativePosition(){return this.U}set relativePosition(e){this.U.set(e)}get subtreeSize(){return this.dt}set subtreeSize(e){this.dt.set(e)}get subtreeOffset(){return this.at}set subtreeOffset(e){this.at.set(e)}}class Vb extends Zc{constructor(e){super(e);E(this,"PP");this.PP=new N(0,0)}commit(){const e=this.link;if(e===null||e.isAvoiding)return;const n=this.network.layout;let a=null,o=null;switch(n.ws){case 1:a=this.fromVertex,o=this.toVertex;break;case 2:a=this.toVertex,o=this.fromVertex;break;default:s.o("Unhandled path value "+n.ws.toString())}if(a===null||o===null)return;const h=this.PP;if(h.x===0&&h.y===0){this.PU(a,o);return}const u=a.bounds,m=n.orthoAngle(a),v=n.computeLayerSpacing(a),b=a.rowSpacing;e.updateRoute();const S=e.curve===9,A=e.isOrthogonal;let M=0,O,R;if(e.startRoute(),A||S){for(M=2;e.pointsCount>4;)e.removePoint(2);O=e.getPoint(1),R=e.getPoint(2)}else{for(M=1;e.pointsCount>3;)e.removePoint(1);O=e.getPoint(0),R=e.getPoint(e.pointsCount-1)}const V=e.getPoint(e.pointsCount-1);let q=0;m===0?(a.alignment===23?(q=u.bottom+h.y,h.y===0&&O.y>V.y+a.rowIndent&&(q=Math.min(q,Math.max(O.y,q-n.computeNodeIndent(a))))):a.alignment===22?(q=u.top+h.y,h.y===0&&O.y<V.y-a.rowIndent&&(q=Math.max(q,Math.min(O.y,q+n.computeNodeIndent(a))))):q=u.y+u.height/2+h.y,S?(e.insertPointAt(M,O.x,q),M++,e.insertPointAt(M,u.right+v,q),M++,e.insertPointAt(M,u.right+v+(h.x-b)/3,q),M++,e.insertPointAt(M,u.right+v+(h.x-b)*2/3,q),M++,e.insertPointAt(M,u.right+v+(h.x-b),q),M++,e.insertPointAt(M,R.x,q),M++):(A&&(e.insertPointAt(M,u.right+v/2,O.y),M++),e.insertPointAt(M,u.right+v/2,q),M++,e.insertPointAt(M,u.right+v+h.x-(A?b/2:b),q),M++,A&&(e.insertPointAt(M,e.getPoint(M-1).x,R.y),M++))):m===90?(a.alignment===23?(q=u.right+h.x,h.x===0&&O.x>V.x+a.rowIndent&&(q=Math.min(q,Math.max(O.x,q-n.computeNodeIndent(a))))):a.alignment===22?(q=u.left+h.x,h.x===0&&O.x<V.x-a.rowIndent&&(q=Math.max(q,Math.min(O.x,q+n.computeNodeIndent(a))))):q=u.x+u.width/2+h.x,S?(e.insertPointAt(M,q,O.y),M++,e.insertPointAt(M,q,u.bottom+v),M++,e.insertPointAt(M,q,u.bottom+v+(h.y-b)/3),M++,e.insertPointAt(M,q,u.bottom+v+(h.y-b)*2/3),M++,e.insertPointAt(M,q,u.bottom+v+(h.y-b)),M++,e.insertPointAt(M,q,R.y),M++):(A&&(e.insertPointAt(M,O.x,u.bottom+v/2),M++),e.insertPointAt(M,q,u.bottom+v/2),M++,e.insertPointAt(M,q,u.bottom+v+h.y-(A?b/2:b)),M++,A&&(e.insertPointAt(M,R.x,e.getPoint(M-1).y),M++))):m===180?(a.alignment===23?(q=u.bottom+h.y,h.y===0&&O.y>V.y+a.rowIndent&&(q=Math.min(q,Math.max(O.y,q-n.computeNodeIndent(a))))):a.alignment===22?(q=u.top+h.y,h.y===0&&O.y<V.y-a.rowIndent&&(q=Math.max(q,Math.min(O.y,q+n.computeNodeIndent(a))))):q=u.y+u.height/2+h.y,S?(e.insertPointAt(M,O.x,q),M++,e.insertPointAt(M,u.left-v,q),M++,e.insertPointAt(M,u.left-v+(h.x+b)/3,q),M++,e.insertPointAt(M,u.left-v+(h.x+b)*2/3,q),M++,e.insertPointAt(M,u.left-v+(h.x+b),q),M++,e.insertPointAt(M,R.x,q),M++):(A&&(e.insertPointAt(M,u.left-v/2,O.y),M++),e.insertPointAt(M,u.left-v/2,q),M++,e.insertPointAt(M,u.left-v+h.x+(A?b/2:b),q),M++,A&&(e.insertPointAt(M,e.getPoint(M-1).x,R.y),M++))):m===270?(a.alignment===23?(q=u.right+h.x,h.x===0&&O.x>V.x+a.rowIndent&&(q=Math.min(q,Math.max(O.x,q-n.computeNodeIndent(a))))):a.alignment===22?(q=u.left+h.x,h.x===0&&O.x<V.x-a.rowIndent&&(q=Math.max(q,Math.min(O.x,q+n.computeNodeIndent(a))))):q=u.x+u.width/2+h.x,S?(e.insertPointAt(M,q,O.y),M++,e.insertPointAt(M,q,u.top-v),M++,e.insertPointAt(M,q,u.top-v+(h.y+b)/3),M++,e.insertPointAt(M,q,u.top-v+(h.y+b)*2/3),M++,e.insertPointAt(M,q,u.top-v+(h.y+b)),M++,e.insertPointAt(M,q,R.y),M++):(A&&(e.insertPointAt(M,O.x,u.top-v/2),M++),e.insertPointAt(M,q,u.top-v/2),M++,e.insertPointAt(M,q,u.top-v+h.y+(A?b/2:b)),M++,A&&(e.insertPointAt(M,R.x,e.getPoint(M-1).y),M++))):s.o("Invalid angle "+m),e.commitRoute()}PU(e,n){const a=this.link;if(a===null)return;const o=this.network.layout,h=o.orthoAngle(e),u=o.orthoAngle(n);if(h===u)return;const m=o.computeLayerSpacing(e),v=e.bounds,b=n.bounds;if(h===0&&b.left-v.right<m+1||h===90&&b.top-v.bottom<m+1||h===180&&v.left-b.right<m+1||h===270&&v.top-b.bottom<m+1)return;a.updateRoute();const S=a.curve===9,A=a.isOrthogonal,M=this.fromVertex,O=o.isBusAlignment(M.alignment);if(a.startRoute(),h===0){const R=v.right+m/2;if(S){if(a.pointsCount===4){const V=a.getPoint(3).y;a.setPointAt(1,R-20,a.getPoint(1).y),a.insertPointAt(2,R-20,V),a.insertPointAt(3,R,V),a.insertPointAt(4,R+20,V),a.setPointAt(5,a.getPoint(5).x,V)}}else A?O?a.setPointAt(3,a.getPoint(2).x,a.getPoint(4).y):a.pointsCount===6&&(a.setPointAt(2,R,a.getPoint(2).y),a.setPointAt(3,R,a.getPoint(3).y)):a.pointsCount===4?a.insertPointAt(2,R,a.getPoint(2).y):a.pointsCount===3?a.setPointAt(1,R,a.getPoint(2).y):a.pointsCount===2&&a.insertPointAt(1,R,a.getPoint(1).y)}else if(h===90){const R=v.bottom+m/2;if(S){if(a.pointsCount===4){const V=a.getPoint(3).x;a.setPointAt(1,a.getPoint(1).x,R-20),a.insertPointAt(2,V,R-20),a.insertPointAt(3,V,R),a.insertPointAt(4,V,R+20),a.setPointAt(5,V,a.getPoint(5).y)}}else A?O?a.setPointAt(3,a.getPoint(2).x,a.getPoint(4).y):a.pointsCount===6&&(a.setPointAt(2,a.getPoint(2).x,R),a.setPointAt(3,a.getPoint(3).x,R)):a.pointsCount===4?a.insertPointAt(2,a.getPoint(2).x,R):a.pointsCount===3?a.setPointAt(1,a.getPoint(2).x,R):a.pointsCount===2&&a.insertPointAt(1,a.getPoint(1).x,R)}else if(h===180){const R=v.left-m/2;if(S){if(a.pointsCount===4){const V=a.getPoint(3).y;a.setPointAt(1,R+20,a.getPoint(1).y),a.insertPointAt(2,R+20,V),a.insertPointAt(3,R,V),a.insertPointAt(4,R-20,V),a.setPointAt(5,a.getPoint(5).x,V)}}else A?O?a.setPointAt(3,a.getPoint(2).x,a.getPoint(4).y):a.pointsCount===6&&(a.setPointAt(2,R,a.getPoint(2).y),a.setPointAt(3,R,a.getPoint(3).y)):a.pointsCount===4?a.insertPointAt(2,R,a.getPoint(2).y):a.pointsCount===3?a.setPointAt(1,R,a.getPoint(2).y):a.pointsCount===2&&a.insertPointAt(1,R,a.getPoint(1).y)}else if(h===270){const R=v.top-m/2;if(S){if(a.pointsCount===4){const V=a.getPoint(3).x;a.setPointAt(1,a.getPoint(1).x,R+20),a.insertPointAt(2,V,R+20),a.insertPointAt(3,V,R),a.insertPointAt(4,V,R-20),a.setPointAt(5,V,a.getPoint(5).y)}}else A?O?a.setPointAt(3,a.getPoint(2).x,a.getPoint(4).y):a.pointsCount===6&&(a.setPointAt(2,a.getPoint(2).x,R),a.setPointAt(3,a.getPoint(3).x,R)):a.pointsCount===4?a.insertPointAt(2,a.getPoint(2).x,R):a.pointsCount===3?a.setPointAt(1,a.getPoint(2).x,R):a.pointsCount===2&&a.insertPointAt(1,a.getPoint(1).x,R)}a.commitRoute()}get fromVertex(){return this.ss}set fromVertex(e){this.ss!==e&&(this.ss=e)}get toVertex(){return this.ns}set toVertex(e){this.ns!==e&&(this.ns=e)}get relativePoint(){return this.PP}set relativePoint(e){this.PP.set(e)}}class ia{constructor(){}}E(ia,"Light",{colors:{text:"#0a0a0a",comment:"#ca8a04",link:"#0a0a0a",group:"#a3a3a344",outline:"#a3a3a3",selection:"#0ea5e9",div:"#fff",gridMinor:"#e5e5e5",gridMajor:"#a3a3a3",overviewBox:"#c026d3",tempLink:"#2563eb",tempPort:"#c026d3",adornmentFill:"#0ea5e9",adornmentStroke:"#1e40af",dragSelect:"#c026d3"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new he(5)},arrowheads:{toArrow:"Standard"}}),E(ia,"Dark",{colors:{text:"#f5f5f5",comment:"#facc15",link:"#f5f5f5",group:"#a3a3a388",outline:"#a3a3a3",selection:"#38bdf8",div:"#171717",gridMinor:"#262626",gridMajor:"#404040",overviewBox:"#e879f9",tempLink:"#60a5fa",tempPort:"#e879f9",adornmentFill:"#38bdf8",adornmentStroke:"#2563eb",dragSelect:"#e879f9"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new he(5)},arrowheads:{toArrow:"Standard"}});const Ed=class{constructor(i){E(this,"hs",new Set);E(this,"bu",new Q);E(this,"SP","light");E(this,"MP","light");E(this,"NP",!1);E(this,"ML",!0);E(this,"_g","light");E(this,"VF",i=>{const e=i.matches?"dark":"light";e!==this._g&&(this._g=e,this.MP==="system"&&this.updateDiagrams())});i&&Object.assign(this,i),i!=null&&i.themeMap||(this.bu.set("light",{colors:{...ia.Light.colors},fonts:{...ia.Light.fonts},numbers:{...ia.Light.numbers},margins:{...ia.Light.margins},arrowheads:{...ia.Light.arrowheads}}),this.bu.set("dark",{colors:{...ia.Dark.colors},fonts:{...ia.Dark.fonts},numbers:{...ia.Dark.numbers},margins:{...ia.Dark.margins},arrowheads:{...ia.Dark.arrowheads}})),t.matchMedia&&(this._g=t.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}get themeMap(){return this.bu}set themeMap(i){this.bu!==i&&(this.bu=i,this.updateDiagrams())}get defaultTheme(){return this.SP}set defaultTheme(i){this.SP!==i&&(s.s(i,"string",Ed,"defaultTheme"),this.SP=i,this.updateDiagrams())}get currentTheme(){return this.MP}set currentTheme(i){this.MP!==i&&(s.s(i,"string",Ed,"currentTheme"),this.MP=i,this.updateDiagrams())}get changesDivBackground(){return this.NP}set changesDivBackground(i){if(this.NP!==i&&(this.NP=i,i))for(const e of this.hs)e.setDivBackground(this.findValue("div","","fill")),e.T("ThemeChanged",this)}get readsCssVariables(){return this.ML}set readsCssVariables(i){this.ML!==i&&(this.ML=i,this.updateDiagrams())}get preferredColorScheme(){return this._g}addDiagram(i){return this.hs.add(i),this.NL(i),this}removeDiagram(i){return this.hs.delete(i),this.NL(i),this}tO(){var i;this.hs.size===0&&t.matchMedia&&((i=t.matchMedia("(prefers-color-scheme: dark)"))==null||i.addEventListener("change",this.VF))}eO(){var i;this.hs.size===0&&t.matchMedia&&((i=t.matchMedia("(prefers-color-scheme: dark)"))==null||i.removeEventListener("change",this.VF))}set(i,e){i===""&&(i=this.SP),i==="system"&&(i=this._g);let n=this.bu.get(i);return n?n=this.BF(n,e):n=e,this.bu.set(i,n),this.updateDiagrams(),this}findValue(i,e,n){return this.getValue(this.findTheme(this.currentTheme),i,e,n)||this.getValue(this.findTheme(this.defaultTheme),i,e,n)}getValue(i,e,n,a){var m;if(!i)return;n==null&&(n="");let o=i;const h=v=>{if(o===void 0||v==="")return;if(typeof v=="number"||!(Array.isArray(v)||v.includes(".")))return o[v];const b=Array.isArray(v)?v:v.split(".");for(let S=0;S<b.length;S++){const A=b[S];if(A!==""&&(o=o[A],o===void 0))return}return o},u=()=>{if(!(n!==""&&(o=h(n),o===void 0)))return Array.isArray(o)&&typeof e=="number"?o=o[e%o.length]:o=h(e),o};if(o=u(),o===void 0&&typeof a=="string"&&a.length>0){let v=(m=i.targetPropertyMap)==null?void 0:m.get(a);if(v?o=i[v]:(v=Ed.SU.get(a),o=v?i[v]:i.colors),o=u(),o!==void 0)return o}return o}findTheme(i){return this.themeMap.get(i==="system"?this._g:i)}updateDiagrams(){for(const i of this.hs)this.NL(i)}NL(i){const e=i.skipsUndoManager;i.skipsUndoManager=!0,i.updateAllThemeBindings(),this.NP&&i.setDivBackground(this.findValue("div","","fill")),i.skipsUndoManager=e,i.T("ThemeChanged",this)}BF(i,e){var n;for(const a in e)if(s.jw(e,a))try{((n=e[a])==null?void 0:n.constructor)===Object?i[a]=this.BF(i[a]??{},e[a]):i[a]=e[a]}catch{delete i[a]}return i}};let eu=Ed;E(eu,"SU",new Map([["background","colors"],["defaultColumnSeparatorStroke","colors"],["defaultRowSeparatorStroke","colors"],["shadowColor","colors"],["fill","colors"],["stroke","colors"],["font","fonts"],["angle","numbers"],["fromEndSegmentLength","numbers"],["fromShortLength","numbers"],["height","numbers"],["opacity","numbers"],["scale","numbers"],["toEndSegmentLength","numbers"],["toShortLength","numbers"],["width","numbers"],["defaultColumnSeparatorStrokeWidth","numbers"],["defaultRowSeparatorStrokeWidth","numbers"],["shadowBlur","numbers"],["corner","numbers"],["curviness","numbers"],["smoothness","numbers"],["parameter1","numbers"],["parameter2","numbers"],["strokeWidth","numbers"],["strokeDashOffset","numbers"],["maxLines","numbers"],["spacingAbove","numbers"],["spacingBelow","numbers"],["position","points"],["shadowOffset","points"],["desiredSize","sizes"],["maxSize","sizes"],["minSize","sizes"],["margin","margins"],["defaultSeparatorPadding","margins"],["padding","margins"],["alignment","spots"],["alignmentFocus","spots"],["fromSpot","spots"],["toSpot","spots"],["defaultAlignment","spots"],["spot1","spots"],["spot2","spots"],["verticalAlignment","spots"],["imageAlignment","spots"],["fromArrow","arrowheads"],["toArrow","arrowheads"]]));class zb{constructor(){E(this,"Pt");E(this,"a");E(this,"Be");E(this,"Pl");this.a=Ft.Om(),this.Pt="",this.Be=!0,this.Pl=!0}get name(){return this.Pt}set name(i){this.Pt=i}get isEnabled(){return this.Be}set isEnabled(i){this.Be=i}get isRealtime(){return this.Pl}set isRealtime(i){this.Pl=i}get diagram(){return this.a}set diagram(i){this.a!==i&&(this.a=i,i.Fl=!0,i.requestUpdate())}invalidateRouter(){this.a!==null&&(this.a.Fl=!0,this.a.requestUpdate())}canRoute(i){if(!this.isEnabled)return!1;const e=this.diagram;return!(e&&(!this.isRealtime&&e.Iu||e.animationManager.isTicking))}isRoutable(i,e){return!0}routeLinks(i,e){}toString(){return this.name!==""?this.name+" Router":s.Hn(this.constructor)}}class l_ extends zb{constructor(i){super(),this.name="AvoidsNodes",i&&Object.assign(this,i)}canRoute(i){var e;return(i instanceof Ft?i.lp:(e=i.diagram)!=null&&e.lp)?super.canRoute(i):!1}isRoutable(i,e){return!(!i.isAvoiding||i.containingGroup!==(e instanceof Jt?e:null)||i.toNode===null||i.fromNode===null||i.pointsCount<4)}routeLinks(i,e){const n=e instanceof Ft?null:e,a=i.iterator,o=this.diagram.getPositions(!0,n,null);for(;a.next();){const h=a.value;if(!this.isRoutable(h,e))continue;h.startRoute();const u=h.pointsCount,m=h.getPoint(1),v=h.getPoint(u-2),b=h.fromNode.actualBounds.copy();b.inflate(yt.Fa,yt.Fa),b.unionPoint(h.getPoint(0));const S=h.toNode.actualBounds.copy();S.inflate(yt.Fa,yt.Fa),S.unionPoint(h.getPoint(u-1)),this.MU(h,b,S,o)&&this.NU(h,m,h.PC,v,h.SC,b,S,o),h.commitRoute()}}MU(i,e,n,a){const o=i.diagram,h=i.pointsCount;if(o===null||!i.fromNode||!i.toNode||i.fromNode===i.toNode||!i.layer||i.layer.isTemporary||e.containsPoint(i.getPoint(h-1))&&!i.toNode.isMemberOf(i.fromNode)||n.containsPoint(i.getPoint(0))&&!i.fromNode.isMemberOf(i.toNode)||!i.isOrthogonal)return!1;if(i.segmentIndex===17)return!0;const u=i.getPoint(1),m=i.getPoint(h-2),v=i.getPoint(2);if(!a.isUnoccupied(Math.min(u.x,v.x),Math.min(u.y,v.y),Math.abs(u.x-v.x),Math.abs(u.y-v.y)))return!0;for(let S=2;S<h-3;S++){const A=i.getPoint(S),M=i.getPoint(S+1);if(!a.isUnoccupied(Math.min(A.x,M.x),Math.min(A.y,M.y),Math.abs(A.x-M.x),Math.abs(A.y-M.y)))return!0}const b=i.getPoint(h-3);return!a.isUnoccupied(Math.min(b.x,m.x),Math.min(b.y,m.y),Math.abs(b.x-m.x),Math.abs(b.y-m.y))}NU(i,e,n,a,o,h,u,m){const v=i.diagram;if(v===null)return;const b=e,S=a;let A=N.mn,M=N.mn;if(v.isVirtualized){const V=m.bounds.copy(),q=i.getPoint(2),J=i.getPoint(i.pointsCount-3);V.inflate(-m.cellWidth,-m.cellHeight);const re=N.l();m.ng(e.x,e.y)||(G.Cl(V.x,V.y,V.x+V.width,V.y+V.height,e.x,e.y,q.x,q.y,re)?(A=e=re.copy(),n=re.directionPoint(q)):G.Cl(V.x,V.y,V.x+V.width,V.y+V.height,q.x,q.y,J.x,J.y,re)?(A=e=re.copy(),n=re.directionPoint(J)):G.Cl(V.x,V.y,V.x+V.width,V.y+V.height,J.x,J.y,a.x,a.y,re)&&(A=e=re.copy(),n=re.directionPoint(a))),m.ng(a.x,a.y)||(G.Cl(V.x,V.y,V.x+V.width,V.y+V.height,a.x,a.y,J.x,J.y,re)?(M=a=re.copy(),o=J.directionPoint(re)):G.Cl(V.x,V.y,V.x+V.width,V.y+V.height,J.x,J.y,q.x,q.y,re)?(M=a=re.copy(),o=q.directionPoint(re)):G.Cl(V.x,V.y,V.x+V.width,V.y+V.height,q.x,q.y,e.x,e.y,re)&&(M=a=re.copy(),o=e.directionPoint(re))),N.i(re)}const O=h.copy().unionRect(u);O.inflate(m.cellWidth*m.hf,m.cellHeight*m.hf),m.yv(e,n,a,o,O,!0);let R=m.bo(a.x,a.y);if(!m.tw&&R>=bn.sg&&(m.TT(),O.inflate(m.cellWidth*m.E2,m.cellHeight*m.U2),m.yv(e,n,a,o,O,!1),R=m.bo(a.x,a.y)),!m.tw&&R<bn.sg&&!m.GE(a.x,a.y)){i.points.removeRange(2,i.pointsCount-3),this.CL(i,m,a.x,a.y,o,!0);const V=0,q=90,J=180,re=270,se=i.getPoint(2);if(i.pointsCount<4)n===V||n===J?(se.x=e.x,se.y=a.y):(se.x=a.x,se.y=e.y),i.setPointAt(2,se.x,se.y),i.insertPointAt(3,se.x,se.y);else{const ne=i.getPoint(3);if(n===V||n===J)if(G.u(se.x,ne.x)){const xe=n===V?Math.max(se.x,e.x):Math.min(se.x,e.x);i.setPointAt(2,xe,e.y),i.setPointAt(3,xe,ne.y)}else G.u(se.y,ne.y)?(Math.abs(e.y-se.y)<=m.cellHeight/2&&(i.setPointAt(2,se.x,e.y),i.setPointAt(3,ne.x,e.y)),i.insertPointAt(2,se.x,e.y)):i.setPointAt(2,e.x,se.y);else if(n===q||n===re)if(G.u(se.y,ne.y)){const xe=n===q?Math.max(se.y,e.y):Math.min(se.y,e.y);i.setPointAt(2,e.x,xe),i.setPointAt(3,ne.x,xe)}else G.u(se.x,ne.x)?(Math.abs(e.x-se.x)<=m.cellWidth/2&&(i.setPointAt(2,e.x,se.y),i.setPointAt(3,e.x,ne.y)),i.insertPointAt(2,e.x,se.y)):i.setPointAt(2,se.x,e.y)}if(A.isReal()){const ne=i.getPoint(1),xe=i.getPoint(2);ne.x!==xe.x&&ne.y!==xe.y?n===V||n===J?i.insertPointAt(2,ne.x,xe.y):i.insertPointAt(2,xe.x,ne.y):n===V||n===J?i.insertPointAt(2,b.x,A.y):i.insertPointAt(2,A.x,b.y)}M.isReal()&&(o===V||o===J?i.insertPointAt(i.pointsCount-2,S.x,M.y):i.insertPointAt(i.pointsCount-2,M.x,S.y))}}CL(i,e,n,a,o,h){const u=e.cellWidth,m=e.cellHeight;let v=e.bo(n,a),b=n,S=a,A=b,M=S;for(o===0?A+=u:o===90?M+=m:o===180?A-=u:M-=m,i.TC&&v>bn.nc&&e.bo(A,M)!==v-1&&(e.bo(b-u,S)===v-1?(o=180,A=b-u,M=S):e.bo(b+u,S)===v-1?(o=0,A=b+u,M=S):e.bo(b,S-m)===v-1?(o=270,A=b,M=S-m):e.bo(b,S+m)===v-1&&(o=90,A=b,M=S+m));v>bn.nc&&e.bo(A,M)===v-1;)b=A,S=M,o===0?A+=u:o===90?M+=m:o===180?A-=u:M-=m,v-=1;if(h?v>bn.nc&&(o===180||o===0?b=Math.floor(b/u)*u+u/2:(o===90||o===270)&&(S=Math.floor(S/m)*m+m/2)):(b=Math.floor(b/u)*u+u/2,S=Math.floor(S/m)*m+m/2),v>bn.nc){let O=o,R=b,V=S;if(o===0?(O=90,V+=m):o===90?(O=180,R-=u):o===180?(O=270,V-=m):o===270&&(O=0,R+=u),e.bo(R,V)===v-1)this.CL(i,e,R,V,O,!1);else{let q=b,J=S;o===0?(O=270,J-=m):o===90?(O=0,q+=u):o===180?(O=90,J+=m):o===270&&(O=180,q-=u),e.bo(q,J)===v-1&&this.CL(i,e,q,J,O,!1)}}i.insertPointAt(i.pointsCount-2,b,S)}}qe.prototype.initializeStandardTools=function(){return this.Jt("Action",new ut,this.mouseDownTools),this.Jt("Relinking",new ht,this.mouseDownTools),this.Jt("LinkReshaping",new kt,this.mouseDownTools),this.Jt("Rotating",new ve,this.mouseDownTools),this.Jt("Resizing",new Kt,this.mouseDownTools),this.Jt("Linking",new st,this.mouseMoveTools),this.Jt("Dragging",new Ue,this.mouseMoveTools),this.Jt("DragSelecting",new wt,this.mouseMoveTools),this.Jt("Panning",new gt,this.mouseMoveTools),this.Jt("ContextMenu",new Wt,this.mouseUpTools),this.Jt("TextEditing",new ei,this.mouseUpTools),this.Jt("ClickCreating",new xt,this.mouseUpTools),this.Jt("ClickSelecting",new et,this.mouseUpTools),this},Ft.g2("GraphLinksModel",r_),Ft.g2("TreeModel",a_);const M0=t.go,Md={get version(){return Ft.version},Group:Jt,List:w,Set:C,Map:Q,Point:N,Size:X,Rect:W,Margin:he,Spot:K,Geometry:pe,PathFigure:Te,PathSegment:Me,InputEvent:He,DiagramEvent:je,ChangedEvent:Ze,Model:Ki,GraphLinksModel:Ih,TreeModel:Qc,Binding:so,ThemeBinding:Jc,Transaction:ft,UndoManager:Je,CommandHandler:Sa,Tool:dt,DraggingTool:Ue,DraggingInfo:ka,DraggingOptions:Ir,LinkingBaseTool:Ae,LinkingTool:st,RelinkingTool:ht,LinkReshapingTool:kt,ResizingTool:Kt,RotatingTool:ve,ClickSelectingTool:et,ActionTool:ut,ClickCreatingTool:xt,HTMLInfo:Ht,ContextMenuTool:Wt,DragSelectingTool:wt,PanningTool:gt,TextEditingTool:ei,ToolManager:qe,Animation:Oi,AnimationManager:mi,AnimationTrigger:wi,Layer:Ri,Diagram:Ft,Palette:Kc,Overview:eo,Brush:Le,GraphObject:oi,Panel:j,RowColumnDefinition:be,Shape:ke,TextBlock:Se,Picture:nt,Part:Et,Adornment:Zt,Node:Ct,Link:yt,Placeholder:Or,Layout:Rs,LayoutNetwork:Bl,LayoutVertex:Vl,LayoutEdge:Zc,GridLayout:Aa,PanelLayout:Ve,CircularLayout:tr,CircularNetwork:Pb,CircularVertex:Db,CircularEdge:Mb,ForceDirectedLayout:o_,ForceDirectedNetwork:Eb,ForceDirectedVertex:_b,ForceDirectedEdge:Fb,LayeredDigraphLayout:Un,LayeredDigraphNetwork:Ob,LayeredDigraphVertex:Dd,LayeredDigraphEdge:Rb,TreeLayout:Pn,TreeNetwork:Np,TreeVertex:Ta,TreeEdge:Vb,Themes:ia,ThemeManager:eu,Router:zb,AnimationStyle:Si,AutoScale:ms,CycleMode:fn,Flip:qc,TextFormat:de,ImageStretch:ot,LayoutConditions:ti,LinkAdjusting:_s,Curve:no,Routing:To,Orientation:Il,TextOverflow:ie,PortSpreading:cn,ScrollMode:kr,CollapsePolicy:ps,Sizing:ge,TriggerStart:Ji,Stretch:Ll,ViewboxStretch:Z,Wrap:z,BrushType:Ee,ColorSpace:Ge,GeometryStretch:fe,GeometryType:oe,SegmentType:De,BindingMode:D0,ChangeType:tt,CircularArrangement:yp,CircularDirection:bp,CircularNodeDiameterFormula:kp,CircularSorting:wp,GridAlignment:pp,GridArrangement:vp,GridSorting:xp,LayeredDigraphAggressive:Tp,LayeredDigraphAlign:Ib,LayeredDigraphCycleRemove:Sp,LayeredDigraphInit:Ap,LayeredDigraphLayering:Cp,LayeredDigraphPack:Lb,TreeAlignment:Mp,TreeArrangement:Fp,TreeCompaction:Ep,TreeLayerStyle:Bb,TreePath:Pp,TreeSorting:Dp,TreeStyle:_p,GestureMode:Ie,LinkingDirection:Ye,ReshapingBehavior:vt,TextEditingAccept:Rt,TextEditingStarting:vi,TextEditingState:di,WheelMode:at};for(const ee in Md){const i=Md[ee];s.st(i)&&i!==de&&(i.className=ee)}s.$(M0)&&M0.version&&s.ne("WARNING: a `go` object on the root object is already defined.  "+("Debug"in M0?"debug ":"")+"version: "+M0.version+", replaced with version: "+Md.version),Ft.prototype.go=Md,t.go=Md})();const St=typeof global<"u"?global.go:self.go;St.Group;St.List;St.Set;St.Map;const lg=St.Point;St.Size;St.Rect;St.Margin;St.Spot;St.Geometry;St.PathFigure;St.PathSegment;St.InputEvent;St.DiagramEvent;St.ChangedEvent;const HW=St.Model,YW=St.GraphLinksModel;St.TreeModel;const Hh=St.Binding;St.ThemeBinding;St.Transaction;St.UndoManager;St.CommandHandler;St.Tool;St.DraggingTool;St.DraggingInfo;St.DraggingOptions;St.LinkingBaseTool;St.LinkingTool;St.RelinkingTool;St.LinkReshapingTool;St.ResizingTool;St.RotatingTool;St.ClickSelectingTool;St.ActionTool;St.ClickCreatingTool;St.HTMLInfo;St.ContextMenuTool;St.DragSelectingTool;St.PanningTool;St.TextEditingTool;St.ToolManager;St.Animation;St.AnimationManager;St.AnimationTrigger;St.Layer;const UW=St.Diagram;St.Palette;St.Overview;St.Brush;const WW=St.GraphObject,GW=St.Panel;St.RowColumnDefinition;const hg=St.Shape,cg=St.TextBlock;St.Picture;St.Part;St.Adornment;const iS=St.Node,jW=St.Link;St.Placeholder;St.Layout;St.LayoutNetwork;St.LayoutVertex;St.LayoutEdge;St.GridLayout;St.PanelLayout;St.CircularLayout;St.CircularNetwork;St.CircularVertex;St.CircularEdge;const $W=St.ForceDirectedLayout;St.ForceDirectedNetwork;St.ForceDirectedVertex;St.ForceDirectedEdge;St.LayeredDigraphLayout;St.LayeredDigraphNetwork;St.LayeredDigraphVertex;St.LayeredDigraphEdge;St.TreeLayout;St.TreeNetwork;St.TreeVertex;St.TreeEdge;St.Themes;St.ThemeManager;St.Router;St.version;St.AnimationStyle;St.AutoScale;St.Curve;St.CycleMode;St.Flip;St.ImageStretch;St.LayoutConditions;St.LinkAdjusting;St.Orientation;St.PortSpreading;St.Routing;St.ScrollMode;St.CollapsePolicy;St.Sizing;St.TriggerStart;St.Stretch;St.TextFormat;St.TextOverflow;St.ViewboxStretch;St.Wrap;St.BrushType;St.ColorSpace;St.GeometryStretch;St.GeometryType;St.SegmentType;St.BindingMode;St.ChangeType;St.CircularArrangement;St.CircularDirection;St.CircularNodeDiameterFormula;St.CircularSorting;St.GridAlignment;St.GridArrangement;St.GridSorting;St.LayeredDigraphAggressive;St.LayeredDigraphAlign;St.LayeredDigraphCycleRemove;St.LayeredDigraphInit;St.LayeredDigraphLayering;St.LayeredDigraphPack;St.TreeAlignment;St.TreeArrangement;St.TreeCompaction;St.TreeLayerStyle;St.TreePath;St.TreeSorting;St.TreeStyle;St.GestureMode;St.LinkingDirection;St.ReshapingBehavior;St.TextEditingAccept;St.TextEditingStarting;St.TextEditingState;St.WheelMode;const iE=t=>(Nr("data-v-08892b6e"),t=t(),Lr(),t),KW={class:"page about"},qW={class:"about-title"},ZW=iE(()=>pt("div",{class:"title1"},"  ",-1)),JW=iE(()=>pt("div",{class:"detail"},"     GoJS     ,       (, ,  )   ",-1)),QW=yn({__name:"Diagram",props:{modalOpen:{type:Boolean}},emits:["selectParameter","modelValue"],setup(t,{emit:s}){qa(),hs.registerPlugin(Ml);const r=it(null),l=L=>{switch(L){case"NORMAL":return{color:"#4CAF50",icon:""};case"ERROR":return{color:"#F44336",icon:""};default:return{color:"#BDBDBD",icon:"?"}}};function c(){s("modelValue","diagram",!1)}const f=it(!1),p=it(null),x=L=>{!L||!L.key||setTimeout(()=>{p.value=L,f.value=!f.value},150)};nn(()=>{if(P(1),!r.value)return;const L=WW.make,B=L(UW,r.value,{"undoManager.isEnabled":!0,layout:L($W),ModelChanged:Y=>{Y.isTransactionFinished&&localStorage.setItem("equipmentDiagram",B.model.toJson())}});B.nodeTemplateMap.add("EQUIPMENT",L(iS,"Auto",{movable:!0},new Hh("location","loc",lg.parse).makeTwoWay(lg.stringify),L(hg,"RoundedRectangle",{fill:"#1976D2"}),L(cg,{margin:10,stroke:"#fff",font:"bold 13px sans-serif"},new Hh("text","name")))),B.nodeTemplateMap.add("PARAMETER",L(iS,"Auto",{click:(Y,Q)=>x(Q.data)},new Hh("location","loc",lg.parse).makeTwoWay(lg.stringify),L(hg,"RoundedRectangle",new Hh("fill","status",Y=>l(Y).color)),L(GW,"Vertical",L(cg,{margin:2,font:"bold 11px sans-serif"},new Hh("text","name")),L(cg,new Hh("text","value")),L(cg,new Hh("text","status",Y=>l(Y).icon))))),B.linkTemplate=L(jW,L(hg),L(hg,{toArrow:"Standard"}));const U=localStorage.getItem("equipmentDiagram");B.model=U?HW.fromJson(U):new YW([{key:"EQ",category:"EQUIPMENT",name:"Main Equipment",loc:"0 0"},{key:"P1",category:"PARAMETER",name:"Temperature",value:"72",status:"NORMAL",address:"PLC_D100",description:"Temperature Sensor",loc:"-150 -100"},{key:"P2",category:"PARAMETER",name:"Pressure",value:"1.2bar",status:"ERROR",address:"PLC_D101",description:"Pressure Sensor",loc:"150 -100"}],[{from:"EQ",to:"P1"},{from:"EQ",to:"P2"}])});const w=hs.timeline();function P(L){w.from(`.title${L}`,{translateX:-50,duration:.4,opacity:0},"<0.2")}it("");const C=it(!1);function F(L){C.value=L}return it(""),(L,B)=>(fi(),Gi("div",KW,[pt("div",qW,[ZW,ae(xn,{icon:"",onClick:c},{default:Ut(()=>[ae(Bi,{icon:"mdi-close"})]),_:1})]),JW,ae(u0,{fluid:""},{default:Ut(()=>[ae(yh,null,{default:Ut(()=>[ae(Ho,{cols:"12"},{default:Ut(()=>[pt("div",{ref_key:"diagramDiv",ref:r,style:{width:"100%",height:"600px"}},null,512)]),_:1})]),_:1})]),_:1}),ae(_r,null,{default:Ut(()=>[C.value?(fi(),In(Mh,{key:0,onCloseMenu:B[0]||(B[0]=U=>F(!1))})):zn("",!0),f.value?(fi(),In(XW,{key:1,param:p.value},null,8,["param"])):zn("",!0)]),_:1})]))}});const nE=xr(QW,[["__scopeId","data-v-08892b6e"]]),sE=t=>(Nr("data-v-9375cc47"),t=t(),Lr(),t),eG={class:"page about"},tG={class:"about-title"},iG=sE(()=>pt("div",{class:"title1"},"  ",-1)),nG=sE(()=>pt("div",{class:"detail"},"        ,             . ",-1)),sG=yn({__name:"Chart",emits:["modelValue"],setup(t,{emit:s}){qa(),hs.registerPlugin(Ml),nn(()=>{x(1)});function r(){s("modelValue","chart",!1)}const l=[{id:1,name:"TEMP",value:80,history:[70,75,178,140]},{id:2,name:"PRESS",value:120,history:[100,110,315,180]},{id:3,name:"SPEED",value:3e3,history:[280,290,295,200]}];it(null);const c=_e(()=>({chart:{toolbar:{show:!1}},xaxis:{categories:["T-30","T-20","T-10","NOW"]},stroke:{width:2},markers:{size:4},tooltip:{shared:!0}})),f=_e(()=>l.map(C=>({name:C.name,data:C.history}))),p=hs.timeline();function x(C){p.from(`.title${C}`,{translateX:-50,duration:.4,opacity:0},"<0.2")}it("");const w=it(!1);function P(C){w.value=C}return it(""),(C,F)=>{const L=Ec("apexchart");return fi(),Gi("div",eG,[pt("div",tG,[iG,ae(xn,{icon:"",onClick:r},{default:Ut(()=>[ae(Bi,{icon:"mdi-close"})]),_:1})]),nG,ae(u0,{fluid:""},{default:Ut(()=>[ae(yh,null,{default:Ut(()=>[ae(Ho,{cols:"12"},{default:Ut(()=>[ae(L,{type:"line",height:"420",options:Ln(c),series:Ln(f)},null,8,["options","series"])]),_:1})]),_:1})]),_:1}),ae(_r,null,{default:Ut(()=>[w.value?(fi(),In(Mh,{key:0,onCloseMenu:F[0]||(F[0]=B=>P(!1))})):zn("",!0)]),_:1})])}}});const rE=xr(sG,[["__scopeId","data-v-9375cc47"]]),rG=t=>(Nr("data-v-b4a9028f"),t=t(),Lr(),t),aG=rG(()=>pt("div",{class:"card-line"},null,-1)),oG={class:"mb-2"},lG=yn({__name:"StrengthCard",props:{title:null,description:null,icon:null},setup(t){const s=it(!1),r=it(0),l=it(0),c=it("");function f(w){const P="animate__animated animate__fadeInLeft";c.value=w==1?P:""}function p(w){s.value=w}function x(w){r.value=w.clientX+12,l.value=w.clientY+12}return(w,P)=>(fi(),In(xh,{class:"strength-card fade-up",elevation:"0",onMouseover:P[0]||(P[0]=C=>f(1)),onMouseout:P[1]||(P[1]=C=>f(0)),onMouseenter:P[2]||(P[2]=C=>p(!0)),onMouseleave:P[3]||(P[3]=C=>p(!1)),onMousemove:x},{default:Ut(()=>[aG,ae(Bi,{color:"#aaa",size:"20",class:"mb-4"},{default:Ut(()=>[pi(sn(t.icon),1)]),_:1}),pt("h3",oG,sn(t.title),1),pt("div",{class:Rn(["title-line",c.value])},null,2),pt("p",null,sn(t.description),1),s.value?(fi(),Gi("div",{key:0,class:"follow-tooltip",style:Tc({left:`${r.value}px`,top:`${l.value}px`})}," click! ",4)):zn("",!0)]),_:1}))}});const Dv=xr(lG,[["__scopeId","data-v-b4a9028f"]]),hG=t=>(Nr("data-v-de01d8cb"),t=t(),Lr(),t),cG=hG(()=>pt("div",{class:"section-header"},[pt("span",{class:"eyebrow"},"Key Skills Summary"),pt("h2",null,"  ")],-1)),uG=["onClick"],dG=yn({__name:"StrengthKeywordList",setup(t){const s=["Vue 3 Composition API   ","TypeScript  Vue  ","  UI  ","Reactive     ","Spring Framework   ","Java     ","MyBatis     ","Oracle DB     ","GoJS    ","   "];let r=[],l;nn(()=>{C()});const c=it(!1),f=it(0),p=it(0);function x(F){c.value=F}function w(F){f.value=F.clientX+12,p.value=F.clientY+12}function P(F){l&&l.revert(),l=gsap.from(r[F].chars,{x:150,opacity:0,duration:.7,ease:"power4",stagger:.04})}function C(){s.forEach((F,L)=>{r[L]&&r[L].revert(),r[L]=SplitText.create(".text"+L,{type:"chars,words,lines"})})}return(F,L)=>(fi(),Gi(bi,null,[ae(yh,{class:"mt-12 ml-1 keyword-title"},{default:Ut(()=>[cG]),_:1}),ae(yh,{class:"mt-8",dense:""},{default:Ut(()=>[(fi(),Gi(bi,null,cd(s,(B,U)=>ae(Ho,{key:B,cols:"12",md:"4"},{default:Ut(()=>[(fi(),Gi("div",{class:"keyword-item",key:U,onClick:Y=>P(U),onMouseenter:L[0]||(L[0]=Y=>x(!0)),onMouseleave:L[1]||(L[1]=Y=>x(!1)),onMousemove:w},[ae(Bi,{size:"16"},{default:Ut(()=>[pi("mdi-check")]),_:1}),pt("span",{class:Rn("text"+U)},sn(B),3)],40,uG)),c.value?(fi(),Gi("div",{key:0,class:"follow-tooltip",style:Tc({left:`${f.value}px`,top:`${p.value}px`})}," click! ",4)):zn("",!0)]),_:2},1024)),64))]),_:1})],64))}});const fG=xr(dG,[["__scopeId","data-v-de01d8cb"]]),gG=t=>(Nr("data-v-29b50e54"),t=t(),Lr(),t),mG={class:"page about"},pG=gG(()=>pt("div",{class:"section-header"},[pt("span",{class:"eyebrow"},"Core Strength"),pt("h2",null," ")],-1)),vG={class:"sub-info-div"},xG=yn({__name:"About",setup(t){const s=qa();hs.registerPlugin(Ml);const r=[{text:"#  ",link:"grid"},{text:"#  ",link:"diagram"},{text:"#  ",link:"chart"}],l=hs.timeline();nn(()=>{P(1),C(),x()});const c=ji({grid:!1,diagram:!1,chart:!1});function f(X,W){console.log("gridClose ",X,W),c[X]=W}function p(X){console.log(X),c[X]=!0}function x(){let X="<0.7";s.state.isMenuShow&&(w(),X="<0.2"),l.from(".next",{opacity:0,translateX:-50,duration:.5},X)}function w(){l.from(".all-menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}function P(X){l.from(`.title${X}`,{translateX:-50,duration:.4,opacity:0},"<0.2")}it(""),it(""),it("");function C(){let X="<0.2";document.querySelectorAll(".sumtxt").forEach((W,he)=>{he>0&&(X="<0.1"),l.from(W,{opacity:0,translateX:-60,duration:.5},X)})}const F=it("");function L(X){let W="animate__animated animate__rubberBand";F.value=X==1?W:""}const B=it(!1);function U(X){B.value=X}const Y=it("");function Q(X){let W="animate__animated animate__rubberBand";Y.value=X==1?W:""}function N(X){X?ys.push("/skill1"):ys.push("/")}return(X,W)=>(fi(),Gi("div",mG,[ae(u0,{class:"strength-section"},{default:Ut(()=>[pG,ae(yh,{class:"mt-8",dense:""},{default:Ut(()=>[ae(Ho,{cols:"12",md:"4",sm:"6",onClick:W[0]||(W[0]=he=>p(r[0].link))},{default:Ut(()=>[ae(Dv,{title:"    ",description:`       ,\r
          import  export     .`,icon:"mdi-table"})]),_:1}),ae(Ho,{cols:"12",md:"4",sm:"6",onClick:W[1]||(W[1]=he=>p(r[1].link))},{default:Ut(()=>[ae(Dv,{title:"  UI  ",description:`       \r
                 .`,icon:"mdi-sitemap"})]),_:1}),ae(Ho,{cols:"12",md:"4",sm:"6",onClick:W[2]||(W[2]=he=>p(r[2].link))},{default:Ut(()=>[ae(Dv,{title:"   ",description:`          \r
                   .`,icon:"mdi-chart-line"})]),_:1})]),_:1}),ae(fG,{class:"mt-16"})]),_:1}),pt("div",vG,[pt("span",{class:Rn(["next",Y.value]),onMouseover:W[3]||(W[3]=he=>Q(1)),onMouseout:W[4]||(W[4]=he=>Q(0)),onClick:W[5]||(W[5]=he=>N(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["all-menu",F.value]),onMouseover:W[6]||(W[6]=he=>L(1)),onMouseout:W[7]||(W[7]=he=>L(0)),onClick:W[8]||(W[8]=he=>N(!1))},"PREV",34)):zn("",!0)]),ae(vf,{modelValue:c.grid,"onUpdate:modelValue":W[9]||(W[9]=he=>c.grid=he),"max-width":"800"},{default:Ut(()=>[ae(tE,{onModelValue:f})]),_:1},8,["modelValue"]),ae(vf,{modelValue:c.diagram,"onUpdate:modelValue":W[10]||(W[10]=he=>c.diagram=he),"max-width":"800"},{default:Ut(()=>[ae(nE,{modalOpen:c.diagram,onModelValue:f},null,8,["modalOpen"])]),_:1},8,["modelValue"]),ae(vf,{modelValue:c.chart,"onUpdate:modelValue":W[11]||(W[11]=he=>c.chart=he),"max-width":"800"},{default:Ut(()=>[ae(rE,{onModelValue:f})]),_:1},8,["modelValue"]),ae(_r,null,{default:Ut(()=>[B.value?(fi(),In(Mh,{key:0,onCloseMenu:W[12]||(W[12]=he=>U(!1))})):zn("",!0)]),_:1})]))}});const yG=xr(xG,[["__scopeId","data-v-29b50e54"]]),bG={class:"page skill"},wG=_c('<div class="sample"><div class="sample-text"><span>|</span> <span></span><span>|</span><span></span><span>|</span><span></span><span>|</span></div><div class="sample-text sample-text-2"><span>0</span><span>-</span><span>40</span><span>-</span><span>80</span><span>-</span><span>100</span></div><div class="sample-text" style="font-size:10px;"><span>|</span> <span style="opacity:0;"></span><span>|</span><span style="opacity:0;"></span><span>|</span><span style="opacity:0;"></span><span>|</span></div><div class="sample-graph"><div></div></div></div><div class="title-div"><div class="page-title title1"> </div></div>',2),kG={class:"page-detail"},SG={class:"sub-content"},CG={key:0,class:"sub-title-2"},AG={class:"text"},TG={class:"graph"},PG={class:"text name"},DG={class:"text number"},MG={class:"chart-div"},EG={class:"sub-info-div"},_G=yn({__name:"Skill1",setup(t){const s=qa(),r=it("");function l(K){let le="animate__animated animate__rubberBand";r.value=K==1?le:""}const c="#5e17eb",p=ji([{subTitle:"Language",name:"JavaScript(ES6)",value:92},{subTitle:"",name:"TypeScript",value:72},{subTitle:"Framwork",name:"Vue.js",value:88},{subTitle:"",name:"React.js",value:62},{subTitle:"Library",name:"Vuetify",value:87},{subTitle:"",name:"Gsap",value:65},{subTitle:"",name:"Bootstrap",value:70},{subTitle:"",name:"jQuery",value:89},{subTitle:"Style sheet",name:"CSS",value:84}]);function x(K){return[{name:K.name,data:[K.value]}]}const{name:w}=Qr(),P=ji({w:1400,h:56}),C=it(0);async function F(){switch(await on(),w.value){case"xl":P.w=1400,C.value++;return;case"lg":P.w=1e3,C.value++;return;case"md":P.w=800,C.value++;return;case"sm":P.w=500,P.h=53,C.value++;return;case"xs":P.w=190,P.h=53,C.value++;return}}const L=hs.timeline();nn(()=>{B(".title1"),U(),Q(),F()});function B(K){L.from(K,{translateX:-50,duration:.4,opacity:0},"<0.2")}function U(){let K="<0.2";document.querySelectorAll(".sub-content").forEach((le,G)=>{G>0&&(K="<0.1"),L.from(le,{opacity:0,translateX:-60,duration:.5},K)})}const Y=it("");function Q(){let K="<0.7";s.state.isMenuShow&&(N(),K="<0.2"),L.from(".next",{opacity:0,translateX:-50,duration:.5},K)}function N(){L.from(".all-menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}function X(K){const le="animate__animated animate__rubberBand";K===1&&(Y.value=le),K===0&&(Y.value="")}function W(K){K?ys.push("/skill2"):ys.push("/about")}const he={chart:{id:"vuechart-example",type:"bar",toolbar:{show:!1}},xaxis:{show:!1,categories:["JavaScript(ES6)"],labels:{show:!1}},yaxis:{show:!1},dataLabels:{enabled:!1},plotOptions:{bar:{horizontal:!0,barHeight:"90%"}},tooltip:{enabled:!0,followCursor:!0,x:{show:!1},y:{formatter:K=>`${K}%`}},fill:{colors:[c]},grid:{row:{colors:["#000"]},column:{colors:["#000"]}}};return(K,le)=>{const G=Ec("apexchart");return ln((fi(),Gi("div",bG,[wG,pt("div",kG,[(fi(!0),Gi(bi,null,cd(p,(oe,fe)=>(fi(),Gi("div",SG,[oe.subTitle!==""?(fi(),Gi("div",CG,[ae(Bi,{class:"icon",size:"x-small",color:c},{default:Ut(()=>[pi("mdi-rhombus")]),_:1}),pt("span",AG,sn(oe.subTitle),1)])):zn("",!0),pt("div",TG,[pt("div",PG,sn(oe.name),1),pt("div",DG,sn(oe.value)+"%",1),pt("div",MG,[(fi(),In(G,{key:C.value,width:P.w,height:P.h,type:"bar",options:he,series:x(oe)},null,8,["width","height","series"]))])])]))),256))]),pt("div",EG,[pt("span",{class:Rn(["next",Y.value]),onMouseover:le[0]||(le[0]=oe=>X(1)),onMouseout:le[1]||(le[1]=oe=>X(0)),onClick:le[2]||(le[2]=oe=>W(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["all-menu",r.value]),onMouseover:le[3]||(le[3]=oe=>l(1)),onMouseout:le[4]||(le[4]=oe=>l(0)),onClick:le[5]||(le[5]=oe=>W(!1))},"PREV",34)):zn("",!0)])])),[[Al,F]])}}}),FG={class:"page skill"},NG=_c('<div class="sample"><div class="sample-text"><span>|</span> <span></span><span>|</span><span></span><span>|</span><span></span><span>|</span></div><div class="sample-text sample-text-2"><span>0</span><span>-</span><span>40</span><span>-</span><span>80</span><span>-</span><span>100</span></div><div class="sample-text" style="font-size:10px;"><span>|</span> <span style="opacity:0;"></span><span>|</span><span style="opacity:0;"></span><span>|</span><span style="opacity:0;"></span><span>|</span></div><div class="sample-graph"><div></div></div></div><div class="title-div"><div class="page-title title1"> </div></div>',2),LG={class:"page-detail"},IG={class:"sub-content"},OG={key:0,class:"sub-title-2"},RG={class:"text"},BG={class:"graph"},VG={class:"text name"},zG={class:"text number"},XG={class:"chart-div"},HG={class:"sub-info-div"},YG=yn({__name:"Skill2",setup(t){const s=qa(),r="#5e17eb",l=[{subTitle:"DB",name:"Oracle",value:65},{subTitle:"",name:"MySQL",value:68},{subTitle:"Git",name:"Github",value:72},{subTitle:"Backend Language",name:"Java",value:70},{subTitle:"Backend Framwork",name:"Spring",value:74},{subTitle:"",name:"Spring Boot",value:70}],{name:c}=Qr(),f=ji({w:1400,h:56}),p=it(0);async function x(){switch(await on(),c.value){case"xl":f.w=1400,p.value++;return;case"lg":f.w=1e3,p.value++;return;case"md":f.w=800,p.value++;return;case"sm":f.w=500,f.h=53,p.value++;return;case"xs":f.w=190,f.h=53,p.value++;return}}nn(()=>{P(".title1"),C(),L()});const w=hs.timeline();function P(G){w.from(G,{translateX:-50,duration:.4,opacity:0},"<0.2")}function C(){let G="<0.2";document.querySelectorAll(".sub-content").forEach((oe,fe)=>{fe>0&&(G="<0.1"),w.from(oe,{opacity:0,translateX:-60,duration:.5},G)})}const F=it("");function L(){let G="<0.7";s.state.isMenuShow&&(B(),G="<0.2"),w.from(".next",{opacity:0,translateX:-50,duration:.5},G)}function B(){w.from(".all-menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}function U(G){const oe="animate__animated animate__rubberBand";G===1&&(F.value=oe),G===0&&(F.value="")}function Y(G){G?ys.push("/career1"):ys.push("/skill1")}const Q=it("");function N(G){const oe="animate__animated animate__rubberBand";G===1&&(Q.value=oe),G===0&&(Q.value="")}const X=it(!1);function W(G){X.value=G}const he=ji(l),K={chart:{id:"vuechart-example",type:"bar",toolbar:{show:!1}},xaxis:{show:!1,categories:["JavaScript(ES6)"],labels:{show:!1}},yaxis:{show:!1},dataLabels:{enabled:!1},plotOptions:{bar:{horizontal:!0,barHeight:"90%"}},tooltip:{enabled:!0,followCursor:!0,x:{show:!1},y:{formatter:G=>`${G}%`}},fill:{colors:[r]},grid:{row:{colors:["#000"]},column:{colors:["#000"]}}};function le(G){return[{name:G.name,data:[G.value]}]}return(G,oe)=>{const fe=Ec("apexchart");return ln((fi(),Gi("div",FG,[NG,pt("div",LG,[(fi(!0),Gi(bi,null,cd(he,(pe,Te)=>(fi(),Gi("div",IG,[pe.subTitle!==""?(fi(),Gi("div",OG,[ae(Bi,{class:"icon",size:"x-small",color:r},{default:Ut(()=>[pi("mdi-rhombus")]),_:1}),pt("span",RG,sn(pe.subTitle),1)])):zn("",!0),pt("div",BG,[pt("div",VG,sn(pe.name),1),pt("div",zG,sn(pe.value)+"%",1),pt("div",XG,[(fi(),In(fe,{key:p.value,width:f.w,height:f.h,type:"bar",options:K,series:le(pe)},null,8,["width","height","series"]))])])]))),256))]),pt("div",HG,[pt("span",{class:Rn(["next",F.value]),onMouseover:oe[0]||(oe[0]=pe=>U(1)),onMouseout:oe[1]||(oe[1]=pe=>U(0)),onClick:oe[2]||(oe[2]=pe=>Y(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["all-menu",Q.value]),onMouseover:oe[3]||(oe[3]=pe=>N(1)),onMouseout:oe[4]||(oe[4]=pe=>N(0)),onClick:oe[5]||(oe[5]=pe=>Y(!1))},"PREV",34)):zn("",!0)]),ae(_r,null,{default:Ut(()=>[X.value?(fi(),In(Mh,{key:0,onCloseMenu:oe[6]||(oe[6]=pe=>W(!1))})):zn("",!0)]),_:1})])),[[Al,x]])}}}),UG=t=>(Nr("data-v-63b8a895"),t=t(),Lr(),t),WG=UG(()=>pt("div",{class:"page-title title1"},"  ",-1)),GG={class:"page-detail"},jG={class:"img-grid"},$G=["src","width","height"],KG=yn({__name:"CaptureImgs",emits:["isClose"],setup(t,{emit:s}){const r=ji({width:1380,height:760}),{name:l}=Qr();function c(){switch(l.value){case"xl":r.width=1380,r.height=760;return;case"lg":r.width=940,r.height=550;return;case"md":r.width=740,r.height=420;return;case"sm":r.width=520,r.height=320;return}}const f=ji({num:1});function p(B){B>0?f.num<9?f.num+=1:f.num=1:f.num>1?f.num-=1:f.num=9}const x=hs.timeline();nn(()=>{P(".title1")});let w="<0.2";function P(B){x.from(B,{translateX:-50,duration:.4,opacity:0},w)}let C;function F(B){B===1?C=hs.to(".close-icon",{rotation:360,transformOrigin:"50% 50%",repeat:-1,duration:1,ease:"Power2.easeInOut",stagger:.5,yoyo:!0}):(C.kill(),hs.set(".close-icon",{rotation:0}))}function L(){s("isClose")}return(B,U)=>ln((fi(),In(xh,{class:"page captureImgs"},{default:Ut(()=>[pt("div",{class:"close",onClick:U[0]||(U[0]=Y=>L()),onMouseover:U[1]||(U[1]=Y=>F(1)),onMouseout:U[2]||(U[2]=Y=>F(0))},[ae(Bi,{class:"close-icon",size:"60px"},{default:Ut(()=>[pi("mdi-close")]),_:1})],32),WG,pt("div",GG,[pt("div",{class:"icon",onClick:U[3]||(U[3]=Y=>p(0))},[ae(Bi,{size:"50px"},{default:Ut(()=>[pi("mdi-chevron-left")]),_:1})]),pt("div",jG,[pt("img",{src:`/images/img${f.num}.png`,width:r.width,height:r.height},null,8,$G)]),pt("div",{class:"icon",onClick:U[4]||(U[4]=Y=>p(1))},[ae(Bi,{size:"50px"},{default:Ut(()=>[pi("mdi-chevron-right")]),_:1})])])]),_:1})),[[Al,c]])}});const xb=xr(KG,[["__scopeId","data-v-63b8a895"]]),ip=t=>(Nr("data-v-6d9f3efb"),t=t(),Lr(),t),qG={class:"page career career1"},ZG=ip(()=>pt("div",{class:"title-div"},[pt("div",{class:"page-title title1"},"")],-1)),JG={class:"page-detail"},QG=_c('<div class="career-name" data-v-6d9f3efb>   GCS 2.0       <span class="title-small" data-v-6d9f3efb>(2)</span></div><div class="line" data-v-6d9f3efb></div><div class="date-div" data-v-6d9f3efb><span class="date1" data-v-6d9f3efb>2024.01</span><span class="date2" data-v-6d9f3efb>2025.12</span></div>',3),ej={class:"project-div"},tj={class:"left"},ij=ip(()=>pt("div",{class:"detail"},"  , ,     ,      ",-1)),nj={class:"right"},sj=ip(()=>pt("div",{class:"detail"},[pt("p",null,"Google Chart       "),pt("p",null,"     Excel   Export / Upload   "),pt("p",null," GoJS ,   Visio      "),pt("p",null,"              ,    ")],-1)),rj=ip(()=>pt("div",{class:"detail"},[pt("p",null,"Javascript(ES6), Vue, Java, Spring Boot, MyBatis, Oracle"),pt("p",null,"Vuex, Git, GoJS, Google Chart, Docker")],-1)),aj={class:"sub-info-div"},oj=yn({__name:"Career1",setup(t){const s=qa(),r="10px",l="mdi-circle",c=hs.timeline();nn(()=>{x(".title1"),w(),P(),B(),f()});function f(){c.to(".chevron",{translateX:-5,translateY:-5,duration:.4,repeat:-1,yoyo:!0})}let p="<0.2";function x(K){c.from(K,{translateX:-50,duration:.4,opacity:0},p)}function w(){c.from(".career-name",{translateX:-50,duration:.4,opacity:0},p)}function P(){c.from(".date1",{translateX:-50,duration:.4,opacity:0},p).from(".date2",{translateX:-50,duration:.4,opacity:0},p),c.from(".left",{translateX:-50,duration:.4,opacity:0},p).from(".right",{translateX:-50,duration:.4,opacity:0},p)}it("");const C=it("false");function F(){C.value="false"}const L=it("");function B(){let K="<0.7";s.state.isMenuShow&&(U(),K="<0.2"),c.from(".next",{opacity:0,translateX:-50,duration:.5},K)}function U(){c.from(".all-menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}function Y(K){const le="animate__animated animate__rubberBand";K===1&&(L.value=le),K===0&&(L.value="")}function Q(K){K?ys.push("/career2"):ys.push("/skill2")}const N=it("");function X(K){const le="animate__animated animate__rubberBand";K===1&&(N.value=le),K===0&&(N.value="")}const W=it(!1);function he(K){W.value=K}return(K,le)=>(fi(),Gi("div",qG,[ZG,pt("div",JG,[QG,pt("div",ej,[pt("div",tj,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  "),ij]),pt("div",nj,[pt("div",null,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  "),sj]),pt("div",null,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  (, ) "),rj])])])]),pt("div",aj,[pt("span",{class:Rn(["next",L.value]),onMouseover:le[0]||(le[0]=G=>Y(1)),onMouseout:le[1]||(le[1]=G=>Y(0)),onClick:le[2]||(le[2]=G=>Q(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["all-menu",N.value]),onMouseover:le[3]||(le[3]=G=>X(1)),onMouseout:le[4]||(le[4]=G=>X(0)),onClick:le[5]||(le[5]=G=>Q(!1))},"PREV",34)):zn("",!0)]),ae(_r,null,{default:Ut(()=>[W.value?(fi(),In(Mh,{key:0,onCloseMenu:le[6]||(le[6]=G=>he(!1))})):zn("",!0)]),_:1}),ae(_r,null,{default:Ut(()=>[C.value==="true"?(fi(),In(xb,{key:0,onIsClose:F})):zn("",!0)]),_:1})]))}});const lj=xr(oj,[["__scopeId","data-v-6d9f3efb"]]),np=t=>(Nr("data-v-dce9fb58"),t=t(),Lr(),t),hj={class:"page career career2"},cj=np(()=>pt("div",{class:"title-div"},[pt("div",{class:"page-title title1"},"")],-1)),uj={class:"page-detail"},dj=_c('<div class="career-name" data-v-dce9fb58> IT    <span class="title-small" data-v-dce9fb58>(6)</span></div><div class="line" data-v-dce9fb58></div><div class="date-div" data-v-dce9fb58><span class="date1" data-v-dce9fb58>2021.04</span><span class="date2" data-v-dce9fb58>2021.10</span></div>',3),fj={class:"project-div"},gj={class:"left"},mj=np(()=>pt("div",{class:"detail"}," IT        ",-1)),pj={class:"right"},vj=np(()=>pt("div",{class:"detail"},[pt("p",null,"Vue   "),pt("p",null,"              "),pt("p",null," ApexChart    "),pt("p",null,"   API  ")],-1)),xj=np(()=>pt("div",{class:"detail"},[pt("p",null,"Javascript(ES6), Vue, Vuetify, Apexchart"),pt("p",null,"Java, Spring Boot, MySQL, JPA")],-1)),yj={class:"right end-right"},bj={class:"btn-icon-div"},wj={class:"sub-info-div"},kj=yn({__name:"Career2",setup(t){const s=qa(),r="10px",l="mdi-circle",c=hs.timeline();nn(()=>{x(".title1"),w(),P(),Q(),f()});function f(){c.to(".chevron",{translateX:-5,translateY:-5,duration:.4,repeat:-1,yoyo:!0})}let p="<0.2";function x(oe){c.from(oe,{translateX:-50,duration:.4,opacity:0},p)}function w(){c.from(".career-name",{translateX:-50,duration:.4,opacity:0},p)}function P(){c.from(".date1",{translateX:-50,duration:.4,opacity:0},p).from(".date2",{translateX:-50,duration:.4,opacity:0},p),c.from(".left",{translateX:-50,duration:.4,opacity:0},p).from(".right",{translateX:-50,duration:.4,opacity:0},p)}const C=it("");function F(oe){const fe="animate__animated animate__rubberBand";oe===1?C.value=fe:C.value=""}const L=it("false");function B(){L.value="true"}function U(){L.value="false"}const Y=it("");function Q(){let oe="<0.7";s.state.isMenuShow&&(N(),oe="<0.2"),c.from(".next",{opacity:0,translateX:-50,duration:.5},oe)}function N(){c.from(".all-menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}function X(oe){const fe="animate__animated animate__rubberBand";oe===1&&(Y.value=fe),oe===0&&(Y.value="")}function W(oe){oe?ys.push("/career3"):ys.push("/career1")}const he=it("");function K(oe){const fe="animate__animated animate__rubberBand";oe===1&&(he.value=fe),oe===0&&(he.value="")}const le=it(!1);function G(oe){le.value=oe}return(oe,fe)=>(fi(),Gi("div",hj,[cj,pt("div",uj,[dj,pt("div",fj,[pt("div",gj,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  "),mj]),pt("div",pj,[pt("div",null,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  "),vj]),pt("div",null,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  (, ) "),xj])]),pt("div",yj,[pt("div",bj,[pt("div",{class:Rn(["btn-effect",C.value])},[pt("div",{class:"capture-btn",onMouseover:fe[0]||(fe[0]=pe=>F(1)),onMouseout:fe[1]||(fe[1]=pe=>F(0)),onClick:fe[2]||(fe[2]=pe=>B())},[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  ")],32)],2),ae(Bi,{class:"cursor-icon chevron"},{default:Ut(()=>[pi("mdi-cursor-default-click")]),_:1})])])])]),pt("div",wj,[pt("span",{class:Rn(["next",Y.value]),onMouseover:fe[3]||(fe[3]=pe=>X(1)),onMouseout:fe[4]||(fe[4]=pe=>X(0)),onClick:fe[5]||(fe[5]=pe=>W(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["all-menu",he.value]),onMouseover:fe[6]||(fe[6]=pe=>K(1)),onMouseout:fe[7]||(fe[7]=pe=>K(0)),onClick:fe[8]||(fe[8]=pe=>W(!1))},"PREV",34)):zn("",!0)]),ae(_r,null,{default:Ut(()=>[le.value?(fi(),In(Mh,{key:0,onCloseMenu:fe[9]||(fe[9]=pe=>G(!1))})):zn("",!0)]),_:1}),ae(_r,null,{default:Ut(()=>[L.value==="true"?(fi(),In(xb,{key:0,onIsClose:U})):zn("",!0)]),_:1})]))}});const Sj=xr(kj,[["__scopeId","data-v-dce9fb58"]]),Cj={class:"page career"},Aj=pt("div",{class:"title-div"},[pt("div",{class:"page-title title1"},"")],-1),Tj={class:"page-detail"},Pj=_c('<div class="career-name"> IT   <span class="title-small">(2 4)</span></div><div class="line"></div><div class="date-div"><span class="date1">2018.11</span><span class="date2">2021.03</span></div>',3),Dj={class:"project-div"},Mj={class:"left"},Ej=pt("div",{class:"detail"},"     IT(, , VPI )        ",-1),_j={class:"right"},Fj=pt("div",{class:"detail"},[pt("p",null,"UI/UX  "),pt("p",null,"     "),pt("p",null,"   "),pt("p",null,"       ")],-1),Nj=pt("div",{class:"detail"},[pt("p",null,"Javascript, JQuery, CanvasJS"),pt("p",null,"Java 8, Spring Framwork, Oracle")],-1),Lj={class:"sub-info-div"},Ij=yn({__name:"Career3",setup(t){const s=qa(),r="10px",l="mdi-circle",c=hs.timeline();nn(()=>{p(".title1"),x(),w(),C()});let f="<0.2";function p(Q){c.from(Q,{translateX:-50,duration:.4,opacity:0},f)}function x(){c.from(".career-name",{translateX:-50,duration:.4,opacity:0},f)}function w(){c.from(".date1",{translateX:-50,duration:.4,opacity:0},f).from(".date2",{translateX:-50,duration:.4,opacity:0},f),c.from(".left",{translateX:-50,duration:.4,opacity:0},f).from(".right",{translateX:-50,duration:.4,opacity:0},f)}const P=it("");function C(){let Q="<0.7";s.state.isMenuShow&&(F(),Q="<0.2"),c.from(".next",{opacity:0,translateX:-50,duration:.5},Q)}function F(){c.from(".all-menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}const L=it("");function B(Q){const N="animate__animated animate__rubberBand";Q===1&&(L.value=N),Q===0&&(L.value="")}function U(Q){const N="animate__animated animate__rubberBand";Q===1&&(P.value=N),Q===0&&(P.value="")}function Y(Q){Q?ys.push("/contact"):ys.push("/career2")}return(Q,N)=>(fi(),Gi("div",Cj,[Aj,pt("div",Tj,[Pj,pt("div",Dj,[pt("div",Mj,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  "),Ej]),pt("div",_j,[pt("div",null,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  "),Fj]),pt("div",null,[ae(Bi,{size:r,class:"icon"},{default:Ut(()=>[pi(sn(l))]),_:1}),pi("  (, ) "),Nj])])])]),pt("div",Lj,[pt("span",{class:Rn(["next",P.value]),onMouseover:N[0]||(N[0]=X=>U(1)),onMouseout:N[1]||(N[1]=X=>U(0)),onClick:N[2]||(N[2]=X=>Y(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["all-menu",L.value]),onMouseover:N[3]||(N[3]=X=>B(1)),onMouseout:N[4]||(N[4]=X=>B(0)),onClick:N[5]||(N[5]=X=>Y(!1))},"PREV",34)):zn("",!0)])]))}}),S0={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},nd={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Fr={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Oj={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},aE={dangerouslyHTMLString:!1,multiple:!0,position:S0.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},Rj={rtl:!1,newestOnTop:!1,toastClassName:""},oE={...aE,...Rj};({...aE,type:Fr.DEFAULT});var vn=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(vn||{}),Zx=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Zx||{});const Bj={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},Vj={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},zj={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},Xj={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},nS="Toastify--animate Toastify__none-enter";function lE(t,s=!1){var r;let l=Bj;if(!t||typeof t=="string")switch(t){case"flip":l=Xj;break;case"zoom":l=zj;break;case"slide":l=Vj;break}else l=t;if(s)l.enter=nS;else if(l.enter===nS){const c=(r=l.exit.split("__")[1])==null?void 0:r.split("-")[0];l.enter=`Toastify--animate Toastify__${c}-enter`}return l}function Hj(t){return t.containerId||String(t.position)}const sp="will-unmount";function Yj(t=S0.TOP_RIGHT){return!!document.querySelector(`.${vn.CSS_NAMESPACE}__toast-container--${t}`)}function Uj(t=S0.TOP_RIGHT){return`${vn.CSS_NAMESPACE}__toast-container--${t}`}function Wj(t,s,r=!1){const l=[`${vn.CSS_NAMESPACE}__toast-container`,`${vn.CSS_NAMESPACE}__toast-container--${t}`,r?`${vn.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Ru(s)?s({position:t,rtl:r,defaultClassName:l}):`${l} ${s||""}`}function Gj(t){var s;const{position:r,containerClassName:l,rtl:c=!1,style:f={}}=t,p=vn.CSS_NAMESPACE,x=Uj(r),w=document.querySelector(`.${p}`),P=document.querySelector(`.${x}`),C=!!P&&!((s=P.className)!=null&&s.includes(sp)),F=w||document.createElement("div"),L=document.createElement("div");L.className=Wj(r,l,c),L.dataset.testid=`${vn.CSS_NAMESPACE}__toast-container--${r}`,L.id=Hj(t);for(const B in f)if(Object.prototype.hasOwnProperty.call(f,B)){const U=f[B];L.style[B]=U}return w||(F.className=vn.CSS_NAMESPACE,document.body.appendChild(F)),C||F.appendChild(L),L}function Jx(t){var s,r,l;const c=typeof t=="string"?t:((s=t.currentTarget)==null?void 0:s.id)||((r=t.target)==null?void 0:r.id),f=document.getElementById(c);f&&f.removeEventListener("animationend",Jx,!1);try{e0[c].unmount(),(l=document.getElementById(c))==null||l.remove(),delete e0[c],delete $s[c]}catch{}}const e0=ji({});function jj(t,s){const r=document.getElementById(String(s));r&&(e0[r.id]=t)}function Qx(t,s=!0){const r=String(t);if(!e0[r])return;const l=document.getElementById(r);l&&l.classList.add(sp),s?(Kj(t),l&&l.addEventListener("animationend",Jx,!1)):Jx(r),Wo.items=Wo.items.filter(c=>c.containerId!==t)}function $j(t){for(const s in e0)Qx(s,t);Wo.items=[]}function hE(t,s){const r=document.getElementById(t.toastId);if(r){let l=t;l={...l,...lE(l.transition)};const c=l.appendPosition?`${l.exit}--${l.position}`:l.exit;r.className+=` ${c}`,s&&s(r)}}function Kj(t){for(const s in $s)if(s===t)for(const r of $s[s]||[])hE(r)}function qj(t){const s=sd().find(r=>r.toastId===t);return s==null?void 0:s.containerId}function yb(t){return document.getElementById(t)}function Zj(t){const s=yb(t.containerId);return s&&s.classList.contains(sp)}function sS(t){var s;const r=Yo(t.content)?Di(t.content.props):null;return r??Di((s=t.data)!=null?s:{})}function Jj(t){return t?Wo.items.filter(s=>s.containerId===t).length>0:Wo.items.length>0}function Qj(){if(Wo.items.length>0){const t=Wo.items.shift();bg(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const $s=ji({}),Wo=ji({items:[]});function sd(){const t=Di($s);return Object.values(t).reduce((s,r)=>[...s,...r],[])}function e$(t){return sd().find(s=>s.toastId===t)}function bg(t,s={}){if(Zj(s)){const r=yb(s.containerId);r&&r.addEventListener("animationend",e1.bind(null,t,s),!1)}else e1(t,s)}function e1(t,s={}){const r=yb(s.containerId);r&&r.removeEventListener("animationend",e1.bind(null,t,s),!1);const l=$s[s.containerId]||[],c=l.length>0;if(!c&&!Yj(s.position)){const f=Gj(s),p=R1(b$,s);s.useHandler&&s.useHandler(p),p.mount(f),jj(p,f.id)}c&&!s.updateId&&(s.position=l[0].position),on(()=>{s.updateId?ha.update(s):ha.add(t,s)})}const ha={add(t,s){const{containerId:r=""}=s;r&&($s[r]=$s[r]||[],$s[r].find(l=>l.toastId===s.toastId)||setTimeout(()=>{var l,c;s.newestOnTop?(l=$s[r])==null||l.unshift(s):(c=$s[r])==null||c.push(s),s.onOpen&&s.onOpen(sS(s))},s.delay||0))},remove(t){if(t){const s=qj(t);if(s){const r=$s[s];let l=r.find(c=>c.toastId===t);$s[s]=r.filter(c=>c.toastId!==t),!$s[s].length&&!Jj(s)&&Qx(s,!1),Qj(),on(()=>{l!=null&&l.onClose&&(l.onClose(sS(l)),l=void 0)})}}},update(t={}){const{containerId:s=""}=t;if(s&&t.updateId){$s[s]=$s[s]||[];const r=$s[s].find(f=>f.toastId===t.toastId),l=(r==null?void 0:r.position)!==t.position||(r==null?void 0:r.transition)!==t.transition,c={...t,disabledEnterTransition:!l,updateId:void 0};ha.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{En(c.content,c)},t.delay||0)}},clear(t,s=!0){t?Qx(t,s):$j(s)},dismissCallback(t){var s;const r=(s=t.currentTarget)==null?void 0:s.id,l=document.getElementById(r);l&&(l.removeEventListener("animationend",ha.dismissCallback,!1),setTimeout(()=>{ha.remove(r)}))},dismiss(t){if(t){const s=sd();for(const r of s)if(r.toastId===t){hE(r,l=>{l.addEventListener("animationend",ha.dismissCallback,!1)});break}}},dismissForce(t){if(t){const s=sd();for(const r of s)if(r.toastId===t){const l=document.getElementById(t);l&&(l.remove(),l.removeEventListener("animationend",ha.dismissCallback,!1),ha.remove(t));break}}}},t$=ji({useHandler:void 0}),cE=ji({}),hm=ji({});function uE(){return Math.random().toString(36).substring(2,9)}function i$(t){return typeof t=="number"&&!isNaN(t)}function t1(t){return typeof t=="string"}function Ru(t){return typeof t=="function"}function rp(...t){return ai(...t)}function wg(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function n$(t={}){cE[`${vn.CSS_NAMESPACE}-default-options`]=t}function s$(){return cE[`${vn.CSS_NAMESPACE}-default-options`]||oE}function r$(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var kg=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(kg||{});const dE={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:S0.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:nd.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Fr.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},a$={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Fr.DEFAULT},theme:{type:String,required:!1,default:nd.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},o$=yn({name:"ProgressBar",props:a$,setup(t,{attrs:s}){const r=it(),l=_e(()=>t.hide?"true":"false"),c=_e(()=>({...s.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),f=_e(()=>[`${vn.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${vn.CSS_NAMESPACE}__progress-bar--controlled`:`${vn.CSS_NAMESPACE}__progress-bar--animated`,`${vn.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${vn.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${vn.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),p=_e(()=>`${f.value} ${(s==null?void 0:s.class)||""}`),x=()=>{r.value&&(r.value.onanimationend=null,r.value.ontransitionend=null)},w=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),x())},P=_e(()=>t.controlledProgress?null:w),C=_e(()=>t.controlledProgress?w:null);return Pr(()=>{r.value&&(x(),r.value.onanimationend=P.value,r.value.ontransitionend=C.value)}),()=>ae("div",{ref:r,role:"progressbar","aria-hidden":l.value,"aria-label":"notification timer",class:p.value,style:c.value},null)}}),l$=yn({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:nd.AUTO},type:{type:String,required:!1,default:nd.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>ae("button",{class:`${vn.CSS_NAMESPACE}__close-button ${vn.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:s=>{s.stopPropagation(),t.closeToast&&t.closeToast(s)},"aria-label":t.ariaLabel},[ae("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[ae("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),ap=({theme:t,type:s,path:r,...l})=>ae("svg",ai({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`},l),[ae("path",{d:r},null)]);function h$(t){return ae(ap,ai(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function c$(t){return ae(ap,ai(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function u$(t){return ae(ap,ai(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function d$(t){return ae(ap,ai(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function f$(){return ae("div",{class:`${vn.CSS_NAMESPACE}__spinner`},null)}const Sg={info:c$,warning:h$,success:u$,error:d$,spinner:f$},g$=t=>t in Sg;function m$({theme:t,type:s,isLoading:r,icon:l}){let c;const f=!!r||s==="loading",p={theme:t,type:s};if(f&&(l===void 0||typeof l=="boolean"))return Sg.spinner();if(l!==!1){if(wg(l))c=Di(l);else if(Ru(l)){const x=l;p.type=f?"loading":s,c=x(p),c=!c&&f?Sg.spinner():c}else Yo(l)?c=Wa(l,p):t1(l)||i$(l)?c=l:g$(s)&&(c=Sg[s](p));return c}}const p$=()=>{};function v$(t,s,r=vn.COLLAPSE_DURATION){const{scrollHeight:l,style:c}=t,f=r;requestAnimationFrame(()=>{c.minHeight="initial",c.height=l+"px",c.transition=`all ${f}ms`,requestAnimationFrame(()=>{c.height="0",c.padding="0",c.margin="0",setTimeout(s,f)})})}function x$(t){const s=it(!1),r=it(!1),l=it(!1),c=it(kg.Enter),f=ji({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||vn.COLLAPSE_DURATION}),p=f.done||p$,x=_e(()=>f.appendPosition?`${f.enter}--${f.position}`:f.enter),w=_e(()=>f.appendPosition?`${f.exit}--${f.position}`:f.exit),P=_e(()=>t.pauseOnHover?{onMouseenter:Q,onMouseleave:Y}:{});function C(){const X=x.value.split(" ");L().addEventListener(Zx.ENTRANCE_ANIMATION_END,Y,{once:!0});const W=K=>{const le=L();K.target===le&&(le.dispatchEvent(new Event(Zx.ENTRANCE_ANIMATION_END)),le.removeEventListener("animationend",W),le.removeEventListener("animationcancel",W),c.value===kg.Enter&&K.type!=="animationcancel"&&le.classList.remove(...X))},he=()=>{const K=L();K.classList.add(...X),K.addEventListener("animationend",W),K.addEventListener("animationcancel",W)};t.pauseOnFocusLoss&&B(),he()}function F(){if(!L())return;const X=()=>{const he=L();he.removeEventListener("animationend",X),f.collapse?v$(he,p,f.collapseDuration):p()},W=()=>{const he=L();c.value=kg.Exit,he&&(he.className+=` ${w.value}`,he.addEventListener("animationend",X))};r.value||(l.value?X():setTimeout(W))}function L(){return t.toastRef.value}function B(){document.hasFocus()||Q(),window.addEventListener("focus",Y),window.addEventListener("blur",Q)}function U(){window.removeEventListener("focus",Y),window.removeEventListener("blur",Q)}function Y(){(!t.loading.value||t.isLoading===void 0)&&(s.value=!0)}function Q(){s.value=!1}function N(X){X&&(X.stopPropagation(),X.preventDefault()),r.value=!1}return Pr(F),Pr(()=>{const X=sd();r.value=X.findIndex(W=>W.toastId===f.toastId)>-1}),Pr(()=>{t.isLoading!==void 0&&(t.loading.value?Q():Y())}),nn(C),Mc(()=>{t.pauseOnFocusLoss&&U()}),{isIn:r,isRunning:s,hideToast:N,eventHandlers:P}}const y$=yn({name:"ToastItem",inheritAttrs:!1,props:dE,setup(t){const s=it(),r=_e(()=>!!t.isLoading),l=_e(()=>t.progress!==void 0&&t.progress!==null),c=_e(()=>m$(t)),f=_e(()=>[`${vn.CSS_NAMESPACE}__toast`,`${vn.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${vn.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${vn.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:p,isIn:x,hideToast:w,eventHandlers:P}=x$({toastRef:s,loading:r,done:()=>{ha.remove(t.toastId)},...lE(t.transition,t.disabledEnterTransition),...t});return()=>ae("div",ai({id:t.toastId,class:f.value,style:t.toastStyle||{},ref:s,"data-testid":`toast-item-${t.toastId}`,onClick:C=>{t.closeOnClick&&w(),t.onClick&&t.onClick(C)}},P.value),[ae("div",{role:t.role,"data-testid":"toast-body",class:`${vn.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[c.value!=null&&ae("div",{"data-testid":`toast-icon-${t.type}`,class:[`${vn.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${vn.CSS_NAMESPACE}--animate-icon ${vn.CSS_NAMESPACE}__zoom-enter`].join(" ")},[wg(c.value)?Tr(Di(c.value),{theme:t.theme,type:t.type}):Ru(c.value)?c.value({theme:t.theme,type:t.type}):c.value]),ae("div",{"data-testid":"toast-content"},[wg(t.content)?Tr(Di(t.content),{toastProps:Di(t),closeToast:w,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Ru(t.content)?t.content({toastProps:Di(t),closeToast:w,data:t.data}):t.dangerouslyHTMLString?Tr("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&ae(l$,{theme:t.theme,closeToast:C=>{C.stopPropagation(),C.preventDefault(),w()}},null),wg(t.closeButton)?Tr(Di(t.closeButton),{closeToast:w,type:t.type,theme:t.theme}):Ru(t.closeButton)?t.closeButton({closeToast:w,type:t.type,theme:t.theme}):null,ae(o$,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:x.value,type:t.type,hide:t.hideProgressBar,isRunning:p.value,autoClose:t.autoClose,controlledProgress:l.value,progress:t.progress,closeToast:t.isLoading?void 0:w},null)])}});let xf=0;function fE(){typeof window>"u"||(xf&&window.cancelAnimationFrame(xf),xf=window.requestAnimationFrame(fE),hm.lastUrl!==window.location.href&&(hm.lastUrl=window.location.href,ha.clear()))}const b$=yn({name:"ToastifyContainer",inheritAttrs:!1,props:dE,setup(t){const s=_e(()=>t.containerId),r=_e(()=>$s[s.value]||[]),l=_e(()=>r.value.filter(c=>c.position===t.position));return nn(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(fE)}),Mc(()=>{typeof window<"u"&&xf&&(window.cancelAnimationFrame(xf),hm.lastUrl="")}),()=>ae(bi,null,[l.value.map(c=>{const{toastId:f=""}=c;return ae(y$,ai({key:f},c),null)})])}});let Mv=!1;const gE={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function mE(){const t=[];return sd().forEach(s=>{const r=document.getElementById(s.containerId);r&&!r.classList.contains(sp)&&t.push(s)}),t}function w$(t){const s=mE().length,r=t??0;return r>0&&s+Wo.items.length>=r}function k$(t){w$(t.limit)&&!t.updateId&&Wo.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Nh(t,s,r={}){if(Mv)return;r=rp(s$(),{type:s},Di(r)),(!r.toastId||typeof r.toastId!="string"&&typeof r.toastId!="number")&&(r.toastId=uE()),r={...r,...r.type==="loading"?gE:{},content:t,containerId:r.containerId||String(r.position)};const l=Number(r==null?void 0:r.progress);return!isNaN(l)&&l<0&&(r.progress=0),l>1&&(r.progress=1),r.theme==="auto"&&(r.theme=r$()),k$(r),hm.lastUrl=window.location.href,r.multiple?Wo.items.length?r.updateId&&bg(t,r):bg(t,r):(Mv=!0,En.clearAll(void 0,!1),setTimeout(()=>{bg(t,r)},0),setTimeout(()=>{Mv=!1},390)),r.toastId}const En=(t,s)=>Nh(t,Fr.DEFAULT,s);En.info=(t,s)=>Nh(t,Fr.DEFAULT,{...s,type:Fr.INFO});En.error=(t,s)=>Nh(t,Fr.DEFAULT,{...s,type:Fr.ERROR});En.warning=(t,s)=>Nh(t,Fr.DEFAULT,{...s,type:Fr.WARNING});En.warn=En.warning;En.success=(t,s)=>Nh(t,Fr.DEFAULT,{...s,type:Fr.SUCCESS});En.loading=(t,s)=>Nh(t,Fr.DEFAULT,rp(s,gE));En.dark=(t,s)=>Nh(t,Fr.DEFAULT,rp(s,{theme:nd.DARK}));En.remove=t=>{t?ha.dismiss(t):ha.clear()};En.clearAll=(t,s)=>{on(()=>{ha.clear(t,s)})};En.isActive=t=>{let s=!1;return s=mE().findIndex(r=>r.toastId===t)>-1,s};En.update=(t,s={})=>{setTimeout(()=>{const r=e$(t);if(r){const l=Di(r),{content:c}=l,f={...l,...s,toastId:s.toastId||t,updateId:uE()},p=f.render||c;delete f.render,Nh(p,f.type,f)}},0)};En.done=t=>{En.update(t,{isLoading:!1,progress:1})};En.promise=S$;function S$(t,{pending:s,error:r,success:l},c){var f,p,x;let w;const P={...c||{},autoClose:!1};s&&(w=t1(s)?En.loading(s,P):En.loading(s.render,{...P,...s}));const C={autoClose:(f=c==null?void 0:c.autoClose)!=null?f:!0,closeOnClick:(p=c==null?void 0:c.closeOnClick)!=null?p:!0,closeButton:(x=c==null?void 0:c.autoClose)!=null?x:null,isLoading:void 0,draggable:null,delay:100},F=(B,U,Y)=>{if(U==null){En.remove(w);return}const Q={type:B,...C,...c,data:Y},N=t1(U)?{render:U}:U;return w?En.update(w,{...Q,...N,isLoading:!1}):En(N.render,{...Q,...N,isLoading:!1}),Y},L=Ru(t)?t():t;return L.then(B=>{F("success",l,B)}).catch(B=>{F("error",r,B)}),L}En.POSITION=S0;En.THEME=nd;En.TYPE=Fr;En.TRANSITIONS=Oj;const C$={install(t,s={}){t$.useHandler=s.useHandler||(()=>{}),A$(s)}};typeof window<"u"&&(window.Vue3Toastify=C$);function A$(t={}){const s=rp(oE,t);n$(s)}const T$=t=>(Nr("data-v-e8b72e81"),t=t(),Lr(),t),P$={class:"page contact"},D$={class:"center-box"},M$=T$(()=>pt("div",{class:"page-title title1"},"",-1)),E$={class:"page-detail"},_$={class:"line sub-content"},F$=["src"],N$={class:"name"},L$=["onClick"],I$={class:"sub-info-div"},O$=yn({__name:"Contact",setup(t){const s=qa(),r=hs.timeline(),l=ji([{img:"github.png",name:"github",type:"link",link:"https://github.com/min-kyung-le"},{img:"naver.png",name:"naver blog",type:"link",link:"https://blog.naver.com/clabyolo-_-p"},{img:"gmail.png",name:"gmail",type:"copy",link:"minkyung1435@gmail.com"},{img:"telephone-call.png",name:"phone",type:"copy",link:"010-7319-0067"}]),{name:c}=Qr();function f(){switch(c.value){case"sm":l[1].name="blog";return;case"xs":l[1].name="blog";return}}async function p(G,oe){const fe=G.target.innerText;try{oe=="link"&&x(fe),oe=="copy"&&(await w(fe),En.success("Copied!",{position:"bottom-center",autoClose:1e3})),console.log("success")}catch(pe){En.error("error!",{position:"bottom-center",autoClose:1e3}),console.log("error : "+pe)}}function x(G){window.open(G,"_blank","noopener,noreferrer")}function w(G){return navigator.clipboard.writeText(G),Promise.resolve()}const P=it("");nn(()=>{C(".title1"),F(),L()});function C(G){r.from(G,{translateX:-50,duration:.4,opacity:0},">0.6")}function F(){let G="<0.2";document.querySelectorAll(".sub-content").forEach((oe,fe)=>{fe>0&&(G="<0.1"),r.from(oe,{opacity:0,translateX:-60,duration:.5},G)})}function L(){let G="<0.7";s.state.isMenuShow&&(U(),B(),G="<0.2"),r.from(".next",{opacity:0,translateX:-50,duration:.5},G)}function B(){r.from(".prev",{opacity:0,translateX:-50,duration:.5},"<0.2")}function U(){r.from(".menu",{opacity:0,translateX:-50,duration:.5},"<0.5")}function Y(G){const oe="animate__animated animate__rubberBand";G===1&&(P.value=oe),G===0&&(P.value="")}function Q(G){G?ys.push("/done"):ys.push("/career2")}const N=it("");function X(G){const oe="animate__animated animate__rubberBand";G===1&&(N.value=oe),G===0&&(N.value="")}const W=it("");function he(G){const oe="animate__animated animate__rubberBand";G===1&&(W.value=oe),G===0&&(W.value="")}const K=it(!1);function le(G){K.value=G}return(G,oe)=>{const fe=Ec("HomeLayout_contact");return fi(),Gi(bi,null,[ln((fi(),Gi("div",P$,[pt("div",D$,[M$,pt("div",E$,[(fi(!0),Gi(bi,null,cd(l,pe=>(fi(),Gi("div",_$,[pt("img",{class:"icon",src:`/images/${pe.img}`,width:"27",height:"27"},null,8,F$),pt("span",N$,sn(pe.name),1),pt("span",{class:"link",onClick:Te=>p(Te,pe.type)},sn(pe.link),9,L$)]))),256))])]),pt("div",I$,[pt("span",{class:Rn(["next",P.value]),onMouseover:oe[0]||(oe[0]=pe=>Y(1)),onMouseout:oe[1]||(oe[1]=pe=>Y(0)),onClick:oe[2]||(oe[2]=pe=>Q(!0))},"NEXT",34),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:0,class:Rn(["prev",N.value]),onMouseover:oe[3]||(oe[3]=pe=>X(1)),onMouseout:oe[4]||(oe[4]=pe=>X(0)),onClick:oe[5]||(oe[5]=pe=>Q(!1))},"PREV",34)):zn("",!0),Ln(s).state.isMenuShow?(fi(),Gi("span",{key:1,class:Rn(["menu",W.value]),onMouseover:oe[6]||(oe[6]=pe=>he(1)),onMouseout:oe[7]||(oe[7]=pe=>he(0)),onClick:oe[8]||(oe[8]=pe=>le(!0))},"MENU",34)):zn("",!0)]),ae(_r,null,{default:Ut(()=>[K.value?(fi(),In(Mh,{key:0,onCloseMenu:oe[9]||(oe[9]=pe=>le(!1))})):zn("",!0)]),_:1})])),[[Al,f]]),ae(fe)],64)}}});const R$=xr(O$,[["__scopeId","data-v-e8b72e81"]]),B$="/images/arrow-left.png",pE=t=>(Nr("data-v-30274b96"),t=t(),Lr(),t),V$={class:"done page"},z$={class:"menu-box"},X$={class:"arrow-left-span"},H$=["width","height"],Y$=pE(()=>pt("span",{class:"sub-info see-more"},"If you see more...",-1)),U$=pE(()=>pt("div",{class:"info"},[pt("p",{class:"title1"}),pt("p",{class:"title2"})],-1)),W$=yn({__name:"Done",setup(t){hs.registerPlugin(Ml);let s=hs.timeline(),r=70;const l=ji({w:190,h:63}),c=it("35px"),{name:f}=Qr();function p(){switch(f.value){case"sm":r=30,l.w=80,l.h=30,c.value="25";return;case"xs":r=30,l.w=80,l.h=30,c.value="25";return}}const x=qa();nn(()=>{w(".title1","That's it!"),w(".title2","Thank you for visiting!"),P(),x.state.isMenuShow=!0});function w(L,B){s.to(L,{text:B,duration:1,ease:"none"},">")}function P(){const L={translateX:r,repeat:-1,yoyo:!0,duration:.4,ease:"Power1.easeInOut"},B={opacity:0,duration:.4};s.from(".menu-box",{translateX:100,opacity:0,duration:.4},">"),s.from(".arrow-left-span",B,"<0.2");const U={opacity:0,duration:.4};s.from(".see-more",U,"<0.2"),s.to(".arrow-img",L,">")}const C=it(!1);function F(L){C.value=L}return(L,B)=>ln((fi(),Gi("div",V$,[ae(_r,null,{default:Ut(()=>[C.value?(fi(),In(Mh,{key:0,onCloseMenu:B[0]||(B[0]=U=>F(!1))})):zn("",!0)]),_:1}),pt("div",z$,[pt("span",{class:"menu",onClick:B[1]||(B[1]=U=>F(!0))},[ae(Bi,{size:c.value},{default:Ut(()=>[pi("mdi-menu")]),_:1},8,["size"])]),pt("span",X$,[pt("img",{class:"arrow-img",src:B$,width:l.w,height:l.h},null,8,H$)]),Y$]),U$])),[[Al,p]])}});const G$=xr(W$,[["__scopeId","data-v-30274b96"]]),j$=[{path:"/",name:"Main",component:o4,meta:{enterClass:"",leaveClass:"animate__animated animate__fadeOut"}},{path:"/about",name:"About",component:yG,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/grid",name:"Grid",component:tE,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/diagram",name:"diagram",component:nE,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/chart",name:"Chart",component:rE,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/skill1",name:"Skill1",component:_G,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/skill2",name:"Skill2",component:YG,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/career1",name:"Career1",component:lj,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/career2",name:"Career2",component:Sj,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/career3",name:"Career3",component:Ij,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/captureimgs",name:"Captureimgs",component:xb,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/contact",name:"Contact",component:R$,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}},{path:"/done",name:"Done",component:G$,meta:{enterClass:"animate__animated animate__fadeIn",leaveClass:"animate__animated animate__fadeOut"}}],ys=zI({history:iI(),routes:j$}),$$=J3({state(){return{isMenuShow:!0}},getters:{getIsMenuShow(t){return t.isMenuShow}},mutations:{setIsMenuShow(t,s){t.isMenuShow=s.value}}});const vE=Lt()({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Os(),...Xi(),...en()},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{densityClasses:c}=br(t);return $t(()=>ae(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":t.hover},l.value,c.value]},{default:()=>{var f,p,x;return[(f=r.top)==null?void 0:f.call(r),r.default?ae("div",{class:"v-table__wrapper",style:{height:ci(t.height)}},[ae("table",null,[r.default()])]):(p=r.wrapper)==null?void 0:p.call(r),(x=r.bottom)==null?void 0:x.call(r)]}})),{}}});const xE=Lt()({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Dl({transition:{component:wy,leaveAbsolute:!0,group:!0}})},setup(t,s){let{slots:r}=s;const l=_e(()=>Ya(t.messages)),{textColorClasses:c,textColorStyles:f}=Er(_e(()=>t.color));return $t(()=>ae(Vo,{transition:t.transition,tag:"div",class:["v-messages",c.value],style:f.value,role:"alert","aria-live":"polite"},{default:()=>[t.active&&l.value.map((p,x)=>ae("div",{class:"v-messages__message",key:`${x}-${l.value}`},[r.message?r.message({message:p}):p]))]})),{}}}),yE=Symbol.for("vuetify:form"),K$=Ci({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function q$(t){const s=Ei(t,"modelValue"),r=_e(()=>t.disabled),l=_e(()=>t.readonly),c=it(!1),f=it([]),p=it([]);async function x(){const C=[];let F=!0;p.value=[],c.value=!0;for(const L of f.value){const B=await L.validate();if(B.length>0&&(F=!1,C.push({id:L.id,errorMessages:B})),!F&&t.fastFail)break}return p.value=C,c.value=!1,{valid:F,errors:p.value}}function w(){f.value.forEach(C=>C.reset()),s.value=null}function P(){f.value.forEach(C=>C.resetValidation()),p.value=[],s.value=null}return ui(f,()=>{let C=0,F=0;const L=[];for(const B of f.value)B.isValid===!1?(F++,L.push({id:B.id,errorMessages:B.errorMessages})):B.isValid===!0&&C++;p.value=L,s.value=F>0?!1:C===f.value.length?!0:null},{deep:!0}),Tn(yE,{register:C=>{let{id:F,validate:L,reset:B,resetValidation:U}=C;f.value.some(Y=>Y.id===F)&&hc(`Duplicate input name "${F}"`),f.value.push({id:F,validate:L,reset:B,resetValidation:U,isValid:null,errorMessages:[]})},unregister:C=>{f.value=f.value.filter(F=>F.id!==C)},update:(C,F,L)=>{const B=f.value.find(U=>U.id===C);B&&(B.isValid=F,B.errorMessages=L)},isDisabled:r,isReadonly:l,isValidating:c,items:f,validateOn:Nt(t,"validateOn")}),{errors:p,isDisabled:r,isReadonly:l,isValidating:c,items:f,validate:x,reset:w,resetValidation:P}}function op(){return Hi(yE,null)}const lp=Ci({focused:Boolean},"focus");function jc(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl();const r=Ei(t,"focused"),l=_e(()=>({[`${s}--focused`]:r.value}));function c(){r.value=!0}function f(){r.value=!1}return{focusClasses:l,isFocused:r,focus:c,blur:f}}const bE=Ci({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...lp()},"validation");function wE(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yr();const l=Ei(t,"modelValue"),c=_e(()=>t.validationValue===void 0?l.value:t.validationValue),f=op(),p=it([]),x=it(!0),w=_e(()=>!!(Ya(l.value===""?null:l.value).length||Ya(c.value===""?null:c.value).length)),P=_e(()=>!!(t.disabled||f!=null&&f.isDisabled.value)),C=_e(()=>!!(t.readonly||f!=null&&f.isReadonly.value)),F=_e(()=>t.errorMessages.length?Ya(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):p.value),L=_e(()=>t.error||F.value.length?!1:t.rules.length&&x.value?null:!0),B=it(!1),U=_e(()=>({[`${s}--error`]:L.value===!1,[`${s}--dirty`]:w.value,[`${s}--disabled`]:P.value,[`${s}--readonly`]:C.value})),Y=_e(()=>t.name??Ln(r));a0(()=>{f==null||f.register({id:Y.value,validate:W,reset:N,resetValidation:X})}),vr(()=>{f==null||f.unregister(Y.value)});const Q=_e(()=>t.validateOn||(f==null?void 0:f.validateOn.value)||"input");nn(()=>f==null?void 0:f.update(Y.value,L.value,F.value)),xc(()=>Q.value==="input",()=>{ui(c,()=>{if(c.value!=null)W();else if(t.focused){const he=ui(()=>t.focused,K=>{K||W(),he()})}})}),xc(()=>Q.value==="blur",()=>{ui(()=>t.focused,he=>{he||W()})}),ui(L,()=>{f==null||f.update(Y.value,L.value,F.value)});function N(){X(),l.value=null}function X(){x.value=!0,p.value=[]}async function W(){const he=[];B.value=!0;for(const K of t.rules){if(he.length>=(t.maxErrors??1))break;const G=await(typeof K=="function"?K:()=>K)(c.value);if(G!==!0){if(typeof G!="string"){console.warn(`${G} is not a valid value. Rule functions must return boolean true or a string.`);continue}he.push(G)}}return p.value=he,B.value=!1,x.value=!1,p.value}return{errorMessages:F,isDirty:w,isDisabled:P,isReadonly:C,isPristine:x,isValid:L,isValidating:B,reset:N,resetValidation:X,validate:W,validationClasses:U}}function kE(t){const{t:s}=ea();function r(l){let{name:c}=l;const f={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[c],p=t[`onClick:${c}`],x=p&&f?s(`$vuetify.input.${f}`,t.label??""):void 0;return ae(Bi,{icon:t[`${c}Icon`],"aria-label":x,onClick:p},null)}return{InputIcon:r}}const Nl=Ci({id:String,appendIcon:Ni,prependIcon:Ni,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":ul,"onClick:append":ul,...Os(),...bE()},"v-input"),qo=Lt()({name:"VInput",props:{...Nl()},emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:r,slots:l,emit:c}=s;const{densityClasses:f}=br(t),{InputIcon:p}=kE(t),x=yr(),w=_e(()=>t.id||`input-${x}`),P=_e(()=>`${w.value}-messages`),{errorMessages:C,isDirty:F,isDisabled:L,isReadonly:B,isPristine:U,isValid:Y,isValidating:Q,reset:N,resetValidation:X,validate:W,validationClasses:he}=wE(t,"v-input",w),K=_e(()=>({id:w,messagesId:P,isDirty:F,isDisabled:L,isReadonly:B,isPristine:U,isValid:Y,isValidating:Q,reset:N,resetValidation:X,validate:W}));return $t(()=>{var pe,Te,De,Me,He;const le=!!(l.prepend||t.prependIcon),G=!!(l.append||t.appendIcon),oe=!!((pe=t.messages)!=null&&pe.length||C.value.length),fe=!t.hideDetails||t.hideDetails==="auto"&&(oe||!!l.details);return ae("div",{class:["v-input",`v-input--${t.direction}`,f.value,he.value]},[le&&ae("div",{key:"prepend",class:"v-input__prepend"},[(Te=l.prepend)==null?void 0:Te.call(l,K.value),t.prependIcon&&ae(p,{key:"prepend-icon",name:"prepend"},null)]),l.default&&ae("div",{class:"v-input__control"},[(De=l.default)==null?void 0:De.call(l,K.value)]),G&&ae("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ae(p,{key:"append-icon",name:"append"},null),(Me=l.append)==null?void 0:Me.call(l,K.value)]),fe&&ae("div",{class:"v-input__details"},[ae(xE,{id:P.value,active:oe,messages:C.value.length>0?C.value:t.messages},{message:l.message}),(He=l.details)==null?void 0:He.call(l,K.value)])])}),{reset:N,resetValidation:X,validate:W}}});function Lh(t){const s=Object.keys(qo.props).filter(r=>!JA(r));return Lc(t,s)}const Ad=Lt()({name:"VLabel",props:{text:String,clickable:Boolean,...en()},setup(t,s){let{slots:r}=s;return $t(()=>{var l;return ae("label",{class:["v-label",{"v-label--clickable":t.clickable}]},[t.text,(l=r.default)==null?void 0:l.call(r)])}),{}}});const SE=Symbol.for("vuetify:selection-control-group"),bb=Ci({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:Ni,trueIcon:Ni,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Nc},...en(),...Os()},"v-selection-control-group"),CE=Lt()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...bb()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),c=yr(),f=_e(()=>t.id||`v-selection-control-group-${c}`),p=_e(()=>t.name||f.value),x=new Set;return Tn(SE,{modelValue:l,forceUpdate:()=>{x.forEach(w=>w())},onForceUpdate:w=>{x.add(w),$r(()=>{x.delete(w)})}}),ks({[t.defaultsTarget]:{color:Nt(t,"color"),disabled:Nt(t,"disabled"),density:Nt(t,"density"),error:Nt(t,"error"),inline:Nt(t,"inline"),modelValue:l,multiple:_e(()=>!!t.multiple||t.multiple==null&&Array.isArray(l.value)),name:p,falseIcon:Nt(t,"falseIcon"),trueIcon:Nt(t,"trueIcon"),readonly:Nt(t,"readonly"),ripple:Nt(t,"ripple"),type:Nt(t,"type"),valueComparator:Nt(t,"valueComparator")}}),$t(()=>{var w;return ae("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline}],role:t.type==="radio"?"radiogroup":void 0},[(w=r.default)==null?void 0:w.call(r)])}),{}}}),hp=Ci({label:String,trueValue:null,falseValue:null,value:null,...bb()},"v-selection-control");function Z$(t){const s=Hi(SE,void 0),{densityClasses:r}=br(t),l=Ei(t,"modelValue"),c=_e(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),f=_e(()=>t.falseValue!==void 0?t.falseValue:!1),p=_e(()=>!!t.multiple||t.multiple==null&&Array.isArray(l.value)),x=_e({get(){const F=s?s.modelValue.value:l.value;return p.value?F.some(L=>t.valueComparator(L,c.value)):t.valueComparator(F,c.value)},set(F){if(t.readonly)return;const L=F?c.value:f.value;let B=L;p.value&&(B=F?[...Ya(l.value),L]:Ya(l.value).filter(U=>!t.valueComparator(U,c.value))),s?s.modelValue.value=B:l.value=B}}),{textColorClasses:w,textColorStyles:P}=Er(_e(()=>x.value&&!t.error&&!t.disabled?t.color:void 0)),C=_e(()=>x.value?t.trueIcon:t.falseIcon);return{group:s,densityClasses:r,trueValue:c,falseValue:f,model:x,textColorClasses:w,textColorStyles:P,icon:C}}const rd=Lt()({name:"VSelectionControl",directives:{Ripple:Th},inheritAttrs:!1,props:hp(),emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:r,slots:l}=s;const{group:c,densityClasses:f,icon:p,model:x,textColorClasses:w,textColorStyles:P,trueValue:C}=Z$(t),F=yr(),L=_e(()=>t.id||`input-${F}`),B=it(!1),U=it(!1),Y=it();c==null||c.onForceUpdate(()=>{Y.value&&(Y.value.checked=x.value)});function Q(W){B.value=!0,(!wx||wx&&W.target.matches(":focus-visible"))&&(U.value=!0)}function N(){B.value=!1,U.value=!1}function X(W){t.readonly&&c&&on(()=>c.forceUpdate()),x.value=W.target.checked}return $t(()=>{var le,G;const W=l.label?l.label({label:t.label,props:{for:L.value}}):t.label,[he,K]=Ic(r);return ae("div",ai({class:["v-selection-control",{"v-selection-control--dirty":x.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":B.value,"v-selection-control--focus-visible":U.value,"v-selection-control--inline":t.inline},f.value]},he),[ae("div",{class:["v-selection-control__wrapper",w.value],style:P.value},[(le=l.default)==null?void 0:le.call(l),ln(ae("div",{class:["v-selection-control__input"]},[p.value&&ae(Bi,{key:"icon",icon:p.value},null),ae("input",ai({ref:Y,checked:x.value,disabled:t.disabled,id:L.value,onBlur:N,onFocus:Q,onInput:X,"aria-disabled":t.readonly,type:t.type,value:C.value,name:t.name,"aria-checked":t.type==="checkbox"?x.value:void 0},K),null),(G=l.input)==null?void 0:G.call(l,{model:x,textColorClasses:w,textColorStyles:P,props:{onFocus:Q,onBlur:N,id:L.value}})]),[[Mr("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),W&&ae(Ad,{for:L.value,clickable:!0},{default:()=>[W]})])}),{isFocused:B,input:Y}}}),AE=Ci({indeterminate:Boolean,indeterminateIcon:{type:Ni,default:"$checkboxIndeterminate"},...hp({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),wl=Lt()({name:"VCheckboxBtn",props:AE(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"indeterminate"),c=Ei(t,"modelValue");function f(w){l.value&&(l.value=!1)}const p=_e(()=>t.indeterminate?t.indeterminateIcon:t.falseIcon),x=_e(()=>t.indeterminate?t.indeterminateIcon:t.trueIcon);return $t(()=>ae(rd,ai(t,{modelValue:c.value,"onUpdate:modelValue":[w=>c.value=w,f],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:p.value,trueIcon:x.value,"aria-checked":t.indeterminate?"mixed":void 0}),r)),{}}}),J$=Lt()({name:"VCheckbox",inheritAttrs:!1,props:{...Nl(),...AE()},emits:{"update:focused":t=>!0},setup(t,s){let{attrs:r,slots:l}=s;const{isFocused:c,focus:f,blur:p}=jc(t),x=yr(),w=_e(()=>t.id||`checkbox-${x}`);return $t(()=>{const[P,C]=Ic(r),[F,L]=Lh(t),[B,U]=wl.filterProps(t);return ae(qo,ai({class:"v-checkbox"},P,F,{id:w.value,focused:c.value}),{...l,default:Y=>{let{id:Q,messagesId:N,isDisabled:X,isReadonly:W}=Y;return ae(wl,ai(B,{id:Q.value,"aria-describedby":N.value,disabled:X.value,readonly:W.value},C,{onFocus:f,onBlur:p}),l)}})}),{}}}),cm=PR({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,s)=>{let{slots:r,attrs:l}=s;const c=t.tag??"td";return ae(c,ai({class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:ci(t.height),width:ci(t.width),left:ci(t.fixedOffset||null)}},l),{default:()=>{var f;return[(f=r.default)==null?void 0:f.call(r)]}})}),Q$=Ci({headers:{type:Array,default:()=>[]}},"v-data-table-header"),TE=Symbol.for("vuetify:data-table-headers");function eK(t,s){const r=it([]),l=it([]);ui(()=>t.headers,()=>{var U,Y,Q;const f=t.headers.length?Array.isArray(t.headers[0])?t.headers:[t.headers]:[],p=f.flatMap((N,X)=>N.map(W=>({column:W,row:X}))),x=f.length,w={title:"",sortable:!1},P={...w,width:48};if((U=s==null?void 0:s.groupBy)!=null&&U.value.length){const N=p.findIndex(X=>{let{column:W}=X;return W.key==="data-table-group"});N<0?p.unshift({column:{...w,key:"data-table-group",title:"Group",rowspan:x},row:0}):p.splice(N,1,{column:{...w,...p[N].column},row:p[N].row})}if((Y=s==null?void 0:s.showSelect)!=null&&Y.value){const N=p.findIndex(X=>{let{column:W}=X;return W.key==="data-table-select"});N<0?p.unshift({column:{...P,key:"data-table-select",rowspan:x},row:0}):p.splice(N,1,{column:{...P,...p[N].column},row:p[N].row})}if((Q=s==null?void 0:s.showExpand)!=null&&Q.value){const N=p.findIndex(X=>{let{column:W}=X;return W.key==="data-table-expand"});N<0?p.push({column:{...P,key:"data-table-expand",rowspan:x},row:0}):p.splice(N,1,{column:{...P,...p[N].column},row:p[N].row})}const C=ol(x).map(()=>[]),F=ol(x).fill(0);let L=0;p.forEach(N=>{let{column:X,row:W}=N;const he=X.key??`data-table-column-${L++}`;for(let K=W;K<=W+(X.rowspan??1)-1;K++)C[K].push({...X,key:he,fixedOffset:F[K],sortable:X.sortable??!!X.key}),F[K]+=X.width??0}),C.forEach(N=>{for(let X=N.length;X--;X>=0)if(N[X].fixed){N[X].lastFixed=!0;return}});const B=new Set;r.value=C.map(N=>{const X=[];for(const W of N)B.has(W.key)||(B.add(W.key),X.push(W));return X}),l.value=C.at(-1)??[]},{deep:!0,immediate:!0});const c={headers:r,columns:l};return Tn(TE,c),c}function cp(){const t=Hi(TE);if(!t)throw new Error("Missing headers!");return t}const tK=Ci({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),PE=Symbol.for("vuetify:data-table-selection");function iK(t,s){const r=Ei(t,"modelValue",t.modelValue,F=>new Set(F),F=>[...F.values()]);function l(F){return F.every(L=>r.value.has(L.value))}function c(F){return F.some(L=>r.value.has(L.value))}function f(F,L){const B=new Set(r.value);for(const U of F)L?B.add(U.value):B.delete(U.value);r.value=B}function p(F){f([F],!l([F]))}function x(F){f(s.value,F)}const w=_e(()=>r.value.size>0),P=_e(()=>l(s.value)),C={toggleSelect:p,select:f,selectAll:x,isSelected:l,isSomeSelected:c,someSelected:w,allSelected:P};return Tn(PE,C),C}function up(){const t=Hi(PE);if(!t)throw new Error("Missing selection!");return t}const nK=Ci({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),DE=Symbol.for("vuetify:data-table-sort");function sK(t){const s=Ei(t,"sortBy"),r=Nt(t,"mustSort"),l=Nt(t,"multiSort");return{sortBy:s,mustSort:r,multiSort:l}}function rK(t){const{sortBy:s,mustSort:r,multiSort:l,page:c}=t,p={sortBy:s,toggleSort:x=>{let w=s.value.map(C=>({...C}))??[];const P=w.find(C=>C.key===x);P?P.order==="desc"?r.value?P.order="asc":w=w.filter(C=>C.key!==x):P.order="desc":l.value?w=[...w,{key:x,order:"asc"}]:w=[{key:x,order:"asc"}],s.value=w,c&&(c.value=1)}};return Tn(DE,p),p}function aK(){const t=Hi(DE);if(!t)throw new Error("Missing sort!");return t}function oK(t,s,r){const l=_e(()=>r.value.reduce((f,p)=>(p.sort&&(f[p.key]=p.sort),f),{}));return{sortedItems:_e(()=>s.value.length?lK(t.value,s.value,"en",l.value):t.value)}}function lK(t,s,r,l){const c=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return[...t].sort((f,p)=>{for(let x=0;x<s.length;x++){const w=s[x].key,P=s[x].order;if(P===!1)continue;let C=Zu(f.raw,w),F=Zu(p.raw,w);if(P==="desc"&&([C,F]=[F,C]),l!=null&&l[w]){const L=l[w](C,F);if(!L)continue;return L}if(!(C==null||F==null)){if(C instanceof Date&&F instanceof Date)return C.getTime()-F.getTime();if([C,F]=[C,F].map(L=>(L||"").toString().toLocaleLowerCase()),C!==F)return!isNaN(C)&&!isNaN(F)?Number(C)-Number(F):c.compare(C,F)}}return 0})}const hK=Lt()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ni,default:"$sortAsc"},sortDescIcon:{type:Ni,default:"$sortDesc"},...Xm()},setup(t,s){let{slots:r,emit:l}=s;const{toggleSort:c,sortBy:f}=aK(),{someSelected:p,allSelected:x,selectAll:w}=up(),{columns:P,headers:C}=cp(),{loaderClasses:F}=l0(t),L=(N,X)=>!t.sticky&&!N.fixed?null:{position:"sticky",zIndex:N.fixed?4:t.sticky?3:void 0,left:N.fixed?ci(N.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${X})`:void 0};function B(N){const X=f.value.find(W=>W.key===N);return X?X.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:U,backgroundColorStyles:Y}=ds(t,"color"),Q=N=>{let{column:X,x:W,y:he}=N;const K=!!f.value.find(G=>G.key===X.key),le=X.key==="data-table-select"||X.key==="data-table-expand";return ae(cm,{tag:"th",align:X.align,class:["v-data-table__th",{"v-data-table__th--sortable":X.sortable,"v-data-table__th--sorted":K},F.value],style:{width:ci(X.width),minWidth:ci(X.width),...L(X,he)},colspan:X.colspan,rowspan:X.rowspan,onClick:X.sortable?()=>c(X.key):void 0,lastFixed:X.lastFixed,noPadding:le},{default:()=>{var fe;const G=`column.${X.key}`,oe={column:X,selectAll:w};return r[G]?r[G](oe):X.key==="data-table-select"?((fe=r["column.data-table-select"])==null?void 0:fe.call(r,oe))??ae(wl,{modelValue:x.value,indeterminate:p.value&&!x.value,"onUpdate:modelValue":w},null):ae("div",{class:"v-data-table-header__content"},[ae("span",null,[X.title]),X.sortable&&ae(Bi,{key:"icon",class:"v-data-table-header__sort-icon",icon:B(X.key)},null),t.multiSort&&K&&ae("div",{key:"badge",class:["v-data-table-header__sort-badge",...U.value],style:Y.value},[f.value.findIndex(pe=>pe.key===X.key)+1])])}})};$t(()=>ae(bi,null,[C.value.map((N,X)=>ae("tr",null,[N.map((W,he)=>ae(Q,{column:W,x:he,y:X},null))])),t.loading&&ae("tr",{class:"v-data-table__progress"},[ae("th",{colspan:P.value.length},[ae(Hm,{name:"v-data-table-headers",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:r.loader})])])]))}}),cK=Ci({groupBy:{type:Array,default:()=>[]}},"data-table-group"),ME=Symbol.for("vuetify:data-table-group");function uK(t){return{groupBy:Ei(t,"groupBy")}}function dK(t){const{groupBy:s,sortBy:r}=t,l=it(new Set),c=_e(()=>s.value.map(P=>({...P,order:P.order??!1})).concat(r.value));function f(P){return l.value.has(P.id)}function p(P){const C=new Set(l.value);f(P)?C.delete(P.id):C.add(P.id),l.value=C}function x(P){function C(F){const L=[];for(const B of F.items)B.type==="item"?L.push(B):L.push(...C(B));return L}return C({type:"group-header",items:P,id:"dummy",key:"dummy",value:"dummy",depth:0})}const w={sortByWithGroups:c,toggleGroup:p,opened:l,groupBy:s,extractRows:x,isGroupOpen:f};return Tn(ME,w),w}function EE(){const t=Hi(ME);if(!t)throw new Error("Missing group!");return t}function fK(t,s){if(!t.length)return[];const r=new Map;for(const l of t){const c=Zu(l.raw,s);r.has(c)||r.set(c,[]),r.get(c).push(l)}return r}function _E(t,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!s.length)return[];const c=fK(t,s[0]),f=[],p=s.slice(1);return c.forEach((x,w)=>{const P=s[0],C=`${l}_${P}_${w}`;f.push({depth:r,id:C,key:P,value:w,items:p.length?_E(x,p,r+1,C):x,type:"group-header"})}),f}function FE(t,s){const r=[];for(const l of t)l.type==="group-header"?(l.value!=null&&r.push(l),(s.has(l.id)||l.value==null)&&r.push(...FE(l.items,s))):r.push(l);return r}function gK(t,s,r){return{flatItems:_e(()=>{if(!s.value.length)return t.value;const c=_E(t.value,s.value.map(f=>f.key));return FE(c,r.value)})}}const mK=Lt()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(t,s){let{slots:r}=s;const{isGroupOpen:l,toggleGroup:c,extractRows:f}=EE(),{isSelected:p,isSomeSelected:x,select:w}=up(),{columns:P}=cp(),C=_e(()=>f([t.item]));return()=>ae("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[P.value.map(F=>{var L,B;if(F.key==="data-table-group"){const U=l(t.item)?"$expand":"$next",Y=()=>c(t.item);return((L=r["data-table-group"])==null?void 0:L.call(r,{item:t.item,count:C.value.length,props:{icon:U,onClick:Y}}))??ae(cm,{class:"v-data-table-group-header-row__column"},{default:()=>[ae(xn,{size:"small",variant:"text",icon:U,onClick:Y},null),ae("span",null,[t.item.value]),ae("span",null,[pi("("),C.value.length,pi(")")])]})}if(F.key==="data-table-select"){const U=p(C.value),Y=x(C.value)&&!U,Q=N=>w(C.value,N);return((B=r["data-table-select"])==null?void 0:B.call(r,{props:{modelValue:U,indeterminate:Y,"onUpdate:modelValue":Q}}))??ae("td",null,[ae(wl,{modelValue:U,indeterminate:Y,"onUpdate:modelValue":Q},null)])}return ae("td",null,null)})])}}),pK=Ci({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),NE=Symbol.for("vuetify:datatable:expanded");function vK(t){const s=Nt(t,"expandOnClick"),r=Ei(t,"expanded",t.expanded,x=>new Set(x),x=>[...x.values()]);function l(x,w){const P=new Set(r.value);w?P.add(x.value):P.delete(x.value),r.value=P}function c(x){return r.value.has(x.value)}function f(x){l(x,!c(x))}const p={expand:l,expanded:r,expandOnClick:s,isExpanded:c,toggleExpand:f};return Tn(NE,p),p}function LE(){const t=Hi(NE);if(!t)throw new Error("foo");return t}const Ev=Jr({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(t,s){let{slots:r}=s;const{isSelected:l,toggleSelect:c}=up(),{isExpanded:f,toggleExpand:p}=LE(),{columns:x}=cp();$t(()=>ae("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!t.onClick}],onClick:t.onClick},[!x.value.length&&ae(cm,{key:"no-data"},r),t.item&&x.value.map((w,P)=>ae(cm,{align:w.align,fixed:w.fixed,fixedOffset:w.fixedOffset,lastFixed:w.lastFixed,noPadding:w.key==="data-table-select"||w.key==="data-table-expand",width:w.width},{default:()=>{var B,U;const C=t.item,F=`item.${w.key}`,L={index:t.index,item:t.item,columns:x.value,isSelected:l,toggleSelect:c,isExpanded:f,toggleExpand:p};return r[F]?r[F](L):w.key==="data-table-select"?((B=r["item.data-table-select"])==null?void 0:B.call(r,L))??ae(wl,{modelValue:l([C]),onClick:()=>c(C)},null):w.key==="data-table-expand"?((U=r["item.data-table-expand"])==null?void 0:U.call(r,L))??ae(xn,{icon:f(C)?"$collapse":"$expand",size:"small",variant:"text",onClick:()=>p(C)},null):C.columns[w.key]}}))]))}}),xK=Lt()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number},emits:{"click:row":(t,s)=>!0},setup(t,s){let{emit:r,slots:l}=s;const{columns:c}=cp(),{expandOnClick:f,toggleExpand:p,isExpanded:x}=LE(),{isSelected:w,toggleSelect:P}=up(),{toggleGroup:C,isGroupOpen:F}=EE(),{t:L}=ea();return $t(()=>{var B,U;return ae(bi,null,[t.loading?((B=l.loading)==null?void 0:B.call(l))??ae(Ev,{class:"v-data-table-rows-no-data",key:"loading"},{default:()=>[L(t.loadingText)]}):void 0,!t.loading&&!t.items.length&&!t.hideNoData&&(((U=l["no-data"])==null?void 0:U.call(l))??ae(Ev,{class:"v-data-table-rows-no-data",key:"no-data"},{default:()=>[L(t.noDataText)]})),t.items.map((Y,Q)=>{var X;if(Y.type==="group-header")return l["group-header"]?l["group-header"]({index:Q,item:Y,columns:c.value,isExpanded:x,toggleExpand:p,isSelected:w,toggleSelect:P,toggleGroup:C,isGroupOpen:F}):ae(mK,{key:`group-header_${Y.id}`,item:Y},l);const N={index:Q,item:Y,columns:c.value,isExpanded:x,toggleExpand:p,isSelected:w,toggleSelect:P};return ae(bi,null,[l.item?l.item(N):ae(Ev,{key:`item_${Y.value}`,onClick:W=>{f.value&&p(Y),r("click:row",W,{item:Y})},index:Q,item:Y},l),x(Y)&&((X=l["expanded-row"])==null?void 0:X.call(l,N))])})])}),{}}});const $d=Lt()({name:"VFieldLabel",props:{floating:Boolean},setup(t,s){let{slots:r}=s;return $t(()=>ae(Ad,{class:["v-field-label",{"v-field-label--floating":t.floating}],"aria-hidden":t.floating||void 0},r)),{}}}),yK=["underlined","outlined","filled","solo","plain"],dp=Ci({appendInnerIcon:Ni,bgColor:String,clearable:Boolean,clearIcon:{type:Ni,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ni,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>yK.includes(t)},"onClick:clear":ul,"onClick:appendInner":ul,"onClick:prependInner":ul,...en(),...Xm()},"v-field"),C0=Lt()({name:"VField",inheritAttrs:!1,props:{id:String,...lp(),...dp()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:r,emit:l,slots:c}=s;const{themeClasses:f}=mn(t),{loaderClasses:p}=l0(t),{focusClasses:x,isFocused:w,focus:P,blur:C}=jc(t),{InputIcon:F}=kE(t),L=_e(()=>t.dirty||t.active),B=_e(()=>!t.singleLine&&!!(t.label||c.label)),U=yr(),Y=_e(()=>t.id||`input-${U}`),Q=_e(()=>`${Y.value}-messages`),N=it(),X=it(),W=it(),{backgroundColorClasses:he,backgroundColorStyles:K}=ds(Nt(t,"bgColor")),{textColorClasses:le,textColorStyles:G}=Er(_e(()=>L.value&&w.value&&!t.error&&!t.disabled?t.color:void 0));ui(L,pe=>{if(B.value){const Te=N.value.$el,De=X.value.$el;requestAnimationFrame(()=>{const Me=sy(Te),He=De.getBoundingClientRect(),je=He.x-Me.x,tt=He.y-Me.y-(Me.height/2-He.height/2),Ze=He.width/.75,ft=Math.abs(Ze-Me.width)>1?{maxWidth:ci(Ze)}:void 0,Je=getComputedStyle(Te),dt=getComputedStyle(De),at=parseFloat(Je.transitionDuration)*1e3||150,Ie=parseFloat(dt.getPropertyValue("--v-field-label-scale")),qe=dt.getPropertyValue("color");Te.style.visibility="visible",De.style.visibility="hidden",qh(Te,{transform:`translate(${je}px, ${tt}px) scale(${Ie})`,color:qe,...ft},{duration:at,easing:If,direction:pe?"normal":"reverse"}).finished.then(()=>{Te.style.removeProperty("visibility"),De.style.removeProperty("visibility")})})}},{flush:"post"});const oe=_e(()=>({isActive:L,isFocused:w,controlRef:W,blur:C,focus:P}));function fe(pe){pe.target!==document.activeElement&&pe.preventDefault()}return $t(()=>{var je,tt,Ze;const pe=t.variant==="outlined",Te=c["prepend-inner"]||t.prependInnerIcon,De=!!(t.clearable||c.clear),Me=!!(c["append-inner"]||t.appendInnerIcon||De),He=c.label?c.label({label:t.label,props:{for:Y.value}}):t.label;return ae("div",ai({class:["v-field",{"v-field--active":L.value,"v-field--appended":Me,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Te,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!He,[`v-field--variant-${t.variant}`]:!0},f.value,he.value,x.value,p.value],style:[K.value,G.value],onClick:fe},r),[ae("div",{class:"v-field__overlay"},null),ae(Hm,{name:"v-field",active:!!t.loading,color:t.error?"error":t.color},{default:c.loader}),Te&&ae("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ae(F,{key:"prepend-icon",name:"prependInner"},null),(je=c["prepend-inner"])==null?void 0:je.call(c,oe.value)]),ae("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(t.variant)&&B.value&&ae($d,{key:"floating-label",ref:X,class:[le.value],floating:!0,for:Y.value},{default:()=>[He]}),ae($d,{ref:N,for:Y.value},{default:()=>[He]}),(tt=c.default)==null?void 0:tt.call(c,{...oe.value,props:{id:Y.value,class:"v-field__input","aria-describedby":Q.value},focus:P,blur:C})]),De&&ae(ky,{key:"clear"},{default:()=>[ln(ae("div",{class:"v-field__clearable"},[c.clear?c.clear():ae(F,{name:"clear"},null)]),[[Ka,t.dirty]])]}),Me&&ae("div",{key:"append",class:"v-field__append-inner"},[(Ze=c["append-inner"])==null?void 0:Ze.call(c,oe.value),t.appendInnerIcon&&ae(F,{key:"append-icon",name:"appendInner"},null)]),ae("div",{class:["v-field__outline",le.value]},[pe&&ae(bi,null,[ae("div",{class:"v-field__outline__start"},null),B.value&&ae("div",{class:"v-field__outline__notch"},[ae($d,{ref:X,floating:!0,for:Y.value},{default:()=>[He]})]),ae("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(t.variant)&&B.value&&ae($d,{ref:X,floating:!0,for:Y.value},{default:()=>[He]})])])}),{controlRef:W}}});function wb(t){const s=Object.keys(C0.props).filter(r=>!JA(r));return Lc(t,s)}const fp=Lt()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Dl({transition:{component:wy}})},setup(t,s){let{slots:r}=s;const l=_e(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return $t(()=>ae(Vo,{transition:t.transition},{default:()=>[ln(ae("div",{class:"v-counter"},[r.default?r.default({counter:l.value,max:t.max,value:t.value}):l.value]),[[Ka,t.active]])]})),{}}}),bK=["color","file","time","date","datetime-local","week","month"],gp=Ci({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...Nl(),...dp()},"v-text-field"),Ac=Lt()({name:"VTextField",directives:{Intersect:Bm},inheritAttrs:!1,props:gp(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:r,emit:l,slots:c}=s;const f=Ei(t,"modelValue"),{isFocused:p,focus:x,blur:w}=jc(t),P=_e(()=>typeof t.counterValue=="function"?t.counterValue(f.value):(f.value??"").toString().length),C=_e(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function F(le,G){var oe,fe;!t.autofocus||!le||(fe=(oe=G[0].target)==null?void 0:oe.focus)==null||fe.call(oe)}const L=it(),B=it(),U=it(),Y=_e(()=>bK.includes(t.type)||t.persistentPlaceholder||p.value),Q=_e(()=>t.messages.length?t.messages:p.value||t.persistentHint?t.hint:"");function N(){var le;U.value!==document.activeElement&&((le=U.value)==null||le.focus()),p.value||x()}function X(le){l("mousedown:control",le),le.target!==U.value&&(N(),le.preventDefault())}function W(le){N(),l("click:control",le)}function he(le){le.stopPropagation(),N(),on(()=>{f.value=null,Hg(t["onClick:clear"],le)})}function K(le){const G=le.target,oe=[G.selectionStart,G.selectionEnd];f.value=G.value,on(()=>{G.selectionStart=oe[0],G.selectionEnd=oe[1]})}return $t(()=>{const le=!!(c.counter||t.counter||t.counterValue),G=!!(le||c.details),[oe,fe]=Ic(r),[{modelValue:pe,...Te}]=Lh(t),[De]=wb(t);return ae(qo,ai({ref:L,modelValue:f.value,"onUpdate:modelValue":Me=>f.value=Me,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},oe,Te,{focused:p.value,messages:Q.value}),{...c,default:Me=>{let{id:He,isDisabled:je,isDirty:tt,isReadonly:Ze,isValid:ft}=Me;return ae(C0,ai({ref:B,onMousedown:X,onClick:W,"onClick:clear":he,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},De,{id:He.value,active:Y.value||tt.value,dirty:tt.value||t.dirty,disabled:je.value,focused:p.value,error:ft.value===!1}),{...c,default:Je=>{let{props:{class:dt,...at}}=Je;const Ie=ln(ae("input",ai({ref:U,value:f.value,onInput:K,autofocus:t.autofocus,readonly:Ze.value,disabled:je.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:N,onBlur:w},at,fe),null),[[Mr("intersect"),{handler:F},null,{once:!0}]]);return ae(bi,null,[t.prefix&&ae("span",{class:"v-text-field__prefix"},[t.prefix]),c.default?ae("div",{class:dt,"data-no-activator":""},[c.default(),Ie]):Wa(Ie,{class:dt}),t.suffix&&ae("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:G?Me=>{var He;return ae(bi,null,[(He=c.details)==null?void 0:He.call(c,Me),le&&ae(bi,null,[ae("span",null,null),ae(fp,{active:t.persistentCounter||p.value,value:P.value,max:C.value},c.counter)])])}:void 0})}),Co({},L,B,U)}});const mp=Lt()({name:"VMenu",props:{id:String,...Ah(k0({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Ym}}),["absolute"])},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{scopeId:c}=w0(),f=yr(),p=_e(()=>t.id||`v-menu-${f}`),x=it(),w=Hi($x,null),P=it(0);Tn($x,{register(){++P.value},unregister(){--P.value},closeParents(){setTimeout(()=>{P.value||(l.value=!1,w==null||w.closeParents())},40)}}),ui(l,L=>{L?w==null||w.register():w==null||w.unregister()});function C(){w==null||w.closeParents()}const F=_e(()=>ai({"aria-haspopup":"menu","aria-expanded":String(l.value),"aria-owns":p.value},t.activatorProps));return $t(()=>{const[L]=bl.filterProps(t);return ae(bl,ai({ref:x,class:["v-menu"]},L,{modelValue:l.value,"onUpdate:modelValue":B=>l.value=B,absolute:!0,activatorProps:F.value,"onClick:outside":C},c),{activator:r.activator,default:function(){for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return ae(Cn,{root:!0},{default:()=>{var Q;return[(Q=r.default)==null?void 0:Q.call(r,...U)]}})}})}),Co({id:p,openChildren:P},x)}}),kb=Ci({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ni,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Nc},...Dy({itemChildren:!1})},"v-select"),IE=Lt()({name:"VSelect",props:{...kb(),...Ah(gp({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Dl({transition:{component:Ym}})},emits:{"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,s){let{slots:r}=s;const{t:l}=ea(),c=it(),f=it(),p=Ei(t,"menu"),x=_e({get:()=>p.value,set:G=>{var oe;p.value&&!G&&((oe=f.value)!=null&&oe.openChildren)||(p.value=G)}}),{items:w,transformIn:P,transformOut:C}=Um(t),F=Ei(t,"modelValue",[],G=>P(Ya(G)),G=>{const oe=C(G);return t.multiple?oe:oe[0]??null}),L=op(),B=_e(()=>F.value.map(G=>w.value.find(oe=>t.valueComparator(oe.value,G.value))||G)),U=_e(()=>B.value.map(G=>G.props.value)),Y=_e(()=>t.hideSelected?w.value.filter(G=>!B.value.some(oe=>oe===G)):w.value),Q=it();function N(G){t.openOnClear&&(x.value=!0)}function X(){t.hideNoData&&!w.value.length||t.readonly||L!=null&&L.isReadonly.value||(x.value=!x.value)}function W(G){var oe,fe,pe,Te;t.readonly||L!=null&&L.isReadonly.value||(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(G.key)&&G.preventDefault(),["Enter","ArrowDown"," "].includes(G.key)&&(x.value=!0),["Escape","Tab"].includes(G.key)&&(x.value=!1),G.key==="ArrowDown"?(oe=Q.value)==null||oe.focus("next"):G.key==="ArrowUp"?(fe=Q.value)==null||fe.focus("prev"):G.key==="Home"?(pe=Q.value)==null||pe.focus("first"):G.key==="End"&&((Te=Q.value)==null||Te.focus("last")))}function he(G){if(t.multiple){const oe=U.value.findIndex(fe=>t.valueComparator(fe,G.value));if(oe===-1)F.value=[...F.value,G];else{const fe=[...F.value];fe.splice(oe,1),F.value=fe}}else F.value=[G],x.value=!1}function K(G){var oe;(oe=Q.value)!=null&&oe.$el.contains(G.relatedTarget)||(x.value=!1)}function le(G){var oe;G.relatedTarget==null&&((oe=c.value)==null||oe.focus())}return $t(()=>{const G=!!(t.chips||r.chip),oe=!!(!t.hideNoData||Y.value.length||r.prepend||r.append||r["no-data"]),[fe]=Ac.filterProps(t);return ae(Ac,ai({ref:c},fe,{modelValue:F.value.map(pe=>pe.props.value).join(", "),"onUpdate:modelValue":pe=>{pe==null&&(F.value=[])},validationValue:F.externalValue,dirty:F.value.length>0,class:["v-select",{"v-select--active-menu":x.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":F.value.length}],appendInnerIcon:t.menuIcon,readonly:!0,"onClick:clear":N,"onMousedown:control":X,onBlur:K,onKeydown:W}),{...r,default:()=>ae(bi,null,[ae(mp,ai({ref:f,modelValue:x.value,"onUpdate:modelValue":pe=>x.value=pe,activator:"parent",contentClass:"v-select__content",eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition},t.menuProps),{default:()=>[oe&&ae(d0,{ref:Q,selected:U.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:pe=>pe.preventDefault(),onFocusout:le},{default:()=>{var pe,Te,De;return[!Y.value.length&&!t.hideNoData&&(((pe=r["no-data"])==null?void 0:pe.call(r))??ae(ma,{title:l(t.noDataText)},null)),(Te=r["prepend-item"])==null?void 0:Te.call(r),Y.value.map((Me,He)=>{var je;return r.item?(je=r.item)==null?void 0:je.call(r,{item:Me,index:He,props:ai(Me.props,{onClick:()=>he(Me)})}):ae(ma,ai({key:He},Me.props,{onClick:()=>he(Me)}),{prepend:tt=>{let{isSelected:Ze}=tt;return t.multiple&&!t.hideSelected?ae(wl,{modelValue:Ze,ripple:!1},null):void 0}})}),(De=r["append-item"])==null?void 0:De.call(r)]}})]}),B.value.map((pe,Te)=>{var He;function De(je){je.stopPropagation(),je.preventDefault(),he(pe)}const Me={"onClick:close":De,modelValue:!0,"onUpdate:modelValue":void 0};return ae("div",{key:pe.value,class:"v-select__selection"},[G?r.chip?ae(Cn,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:pe.title}}},{default:()=>{var je;return[(je=r.chip)==null?void 0:je.call(r,{item:pe,index:Te,props:Me})]}}):ae(zc,ai({key:"chip",closable:t.closableChips,size:"small",text:pe.title},Me),null):((He=r.selection)==null?void 0:He.call(r,{item:pe,index:Te}))??ae("span",{class:"v-select__selection-text"},[pe.title,t.multiple&&Te<B.value.length-1&&ae("span",{class:"v-select__selection-comma"},[pi(",")])])])})])})}),Co({menu:x,select:he},c)}}),wK=Ci({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),OE=Symbol.for("vuetify:data-table-pagination");function kK(t){const s=Ei(t,"page",void 0,l=>+(l??1)),r=Ei(t,"itemsPerPage",void 0,l=>+(l??10));return{page:s,itemsPerPage:r}}function SK(t){const{page:s,itemsPerPage:r,itemsLength:l}=t,c=_e(()=>r.value===-1?0:r.value*(s.value-1)),f=_e(()=>r.value===-1?l.value:Math.min(l.value,c.value+r.value)),p=_e(()=>r.value===-1||l.value===0?1:Math.ceil(l.value/r.value));function x(P){r.value=P,s.value=1}const w={page:s,itemsPerPage:r,itemsLength:l,startIndex:c,stopIndex:f,pageCount:p,setItemsPerPage:x};return Tn(OE,w),w}function CK(){const t=Hi(OE);if(!t)throw new Error("Missing pagination!");return t}function AK(t){const{items:s,startIndex:r,stopIndex:l,itemsPerPage:c}=t;return{paginatedItems:_e(()=>c.value<=0?s.value:s.value.slice(r.value,l.value))}}const TK=Lt()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(t,s){let{slots:r}=s;const{t:l}=ea(),{page:c,pageCount:f,startIndex:p,stopIndex:x,itemsLength:w,itemsPerPage:P,setItemsPerPage:C}=CK(),F=_e(()=>t.itemsPerPageOptions.map(L=>({...L,title:l(L.title)})));return()=>{var L;return ae("div",{class:"v-data-table-footer"},[(L=r.prepend)==null?void 0:L.call(r),ae("div",{class:"v-data-table-footer__items-per-page"},[ae("span",null,[l(t.itemsPerPageText)]),ae(IE,{items:F.value,modelValue:P.value,"onUpdate:modelValue":B=>C(Number(B)),density:"compact",variant:"outlined","hide-details":!0},null)]),ae("div",{class:"v-data-table-footer__info"},[ae("div",null,[l(t.pageText,w.value?p.value+1:0,x.value,w.value)])]),ae("div",{class:"v-data-table-footer__pagination"},[ae(xn,{icon:t.firstIcon,variant:"plain",onClick:()=>c.value=1,disabled:c.value===1,"aria-label":l(t.firstPageLabel)},null),ae(xn,{icon:t.prevIcon,variant:"plain",onClick:()=>c.value=Math.max(1,c.value-1),disabled:c.value===1,"aria-label":l(t.prevPageLabel)},null),t.showCurrentPage&&ae("span",{key:"page",class:"v-data-table-footer__page"},[c.value]),ae(xn,{icon:t.nextIcon,variant:"plain",onClick:()=>c.value=Math.min(f.value,c.value+1),disabled:c.value===f.value,"aria-label":l(t.nextPageLabel)},null),ae(xn,{icon:t.lastIcon,variant:"plain",onClick:()=>c.value=f.value,disabled:c.value===f.value,"aria-label":l(t.lastPageLabel)},null)])])}}}),PK=Ci({...Dy({itemValue:"id"})},"v-data-table-item");function DK(t,s){const{items:r}=Um(t);return{items:_e(()=>r.value.map(c=>({...c,type:"item",columns:s.value.reduce((f,p)=>(f[p.key]=uo(c.raw,p.value??p.key),f),{})})))}}function MK(t){let{page:s,itemsPerPage:r,sortBy:l,groupBy:c,search:f}=t;const p=Qs("VDataTable"),x=_e(()=>({page:s.value,itemsPerPage:r.value,sortBy:l.value,groupBy:c.value}));ui(()=>f==null?void 0:f.value,()=>{s.value=1});let w=null;ui(x,()=>{Nc(w,x.value)||(p.emit("update:options",x.value),w=x.value)},{deep:!0,immediate:!0})}const EK=(t,s,r)=>t==null||s==null?-1:t.toString().toLocaleLowerCase().indexOf(s.toString().toLocaleLowerCase()),Sb=Ci({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function _K(t,s,r){var x;const l=[],c=(r==null?void 0:r.default)??EK,f=r!=null&&r.filterKeys?Ya(r.filterKeys):!1,p=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return l;e:for(let w=0;w<t.length;w++){const P=t[w],C={},F={};let L=-1;if(s&&!(r!=null&&r.noFilter)){if(typeof P=="object"){const Y=f||Object.keys(P);for(const Q of Y){const N=uo(P,Q,P),X=(x=r==null?void 0:r.customKeyFilter)==null?void 0:x[Q];if(L=X?X(N,s,P):c(N,s,P),L!==-1&&L!==!1)X?C[Q]=L:F[Q]=L;else if((r==null?void 0:r.filterMode)==="every")continue e}}else L=c(P,s,P),L!==-1&&L!==!1&&(F.title=L);const B=Object.keys(F).length,U=Object.keys(C).length;if(!B&&!U||(r==null?void 0:r.filterMode)==="union"&&U!==p&&!B||(r==null?void 0:r.filterMode)==="intersection"&&(U!==p||!B))continue}l.push({index:w,matches:{...F,...C}})}return l}function Cb(t,s,r,l){const c=_e(()=>typeof(r==null?void 0:r.value)!="string"&&typeof(r==null?void 0:r.value)!="number"?"":String(r.value)),f=it([]),p=it(new Map);Pr(()=>{f.value=[],p.value=new Map;const w=Ln(s);_K(w,c.value,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:Ln(l==null?void 0:l.filterKeys)??t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}).forEach(C=>{let{index:F,matches:L}=C;const B=w[F];f.value.push(B),p.value.set(B.value,L)})});function x(w){return p.value.get(w.value)}return{filteredItems:f,filteredMatches:p,getMatches:x}}const FK=Ci({...PK(),...Q$(),hideNoData:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean},"v-data-table"),NK=Lt()({name:"VDataTable",props:{search:String,...FK(),...pK(),...cK(),...tK(),...nK(),...wK(),...Sb()},emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"click:row":(t,s)=>!0},setup(t,s){let{emit:r,slots:l}=s;const{groupBy:c}=uK(t),{sortBy:f,multiSort:p,mustSort:x}=sK(t),{page:w,itemsPerPage:P}=kK(t),{columns:C}=eK(t,{groupBy:c,showSelect:Nt(t,"showSelect"),showExpand:Nt(t,"showExpand")}),{items:F}=DK(t,C),L=_e(()=>C.value.map(fe=>"columns."+fe.key)),B=Nt(t,"search"),{filteredItems:U}=Cb(t,F,B,{filterKeys:L});rK({sortBy:f,multiSort:p,mustSort:x,page:w});const{sortByWithGroups:Y,opened:Q,extractRows:N}=dK({groupBy:c,sortBy:f}),{sortedItems:X}=oK(U,Y,C),{flatItems:W}=gK(X,c,Q),he=_e(()=>W.value.length),{startIndex:K,stopIndex:le}=SK({page:w,itemsPerPage:P,itemsLength:he}),{paginatedItems:G}=AK({items:W,startIndex:K,stopIndex:le,itemsPerPage:P}),oe=_e(()=>N(G.value));return iK(t,oe),vK(t),MK({page:w,itemsPerPage:P,sortBy:f,groupBy:c,search:B}),ks({VDataTableRows:{hideNoData:Nt(t,"hideNoData"),noDataText:Nt(t,"noDataText")}}),$t(()=>ae(vE,{class:["v-data-table",{"v-data-table--show-select":t.showSelect}],fixedHeader:t.fixedHeader,fixedFooter:t.fixedFooter,height:t.height},{top:l.top,default:l.default??(()=>{var fe,pe,Te,De;return ae(bi,null,[(fe=l.colgroup)==null?void 0:fe.call(l,{columns:C}),ae("thead",null,[l.headers?l.headers():ae(hK,{sticky:t.fixedHeader,multiSort:t.multiSort},l)]),(pe=l.thead)==null?void 0:pe.call(l),ae("tbody",null,[l.body?l.body():ae(xK,{items:G.value,"onClick:row":(Me,He)=>r("click:row",Me,He)},l)]),(Te=l.tbody)==null?void 0:Te.call(l),(De=l.tfoot)==null?void 0:De.call(l)])}),bottom:l.bottom??(()=>ae(TK,null,{prepend:l["footer.prepend"]}))})),{}}});const LK=Lt()({name:"VApp",props:{...CT({fullHeight:!0}),...en()},setup(t,s){let{slots:r}=s;const l=mn(t),{layoutClasses:c,layoutStyles:f,getLayoutItem:p,items:x,layoutRef:w}=AT(t),{rtlClasses:P}=Cl();return $t(()=>{var C;return ae("div",{ref:w,class:["v-application",l.themeClasses.value,c.value,P.value],style:f.value},[ae("div",{class:"v-application__wrap"},[(C=r.default)==null?void 0:C.call(r)])])}),{getLayoutItem:p,items:x,theme:l}}});function Td(){const t=it(!1);return nn(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:_e(()=>t.value?void 0:{transition:"none !important"}),isBooted:hd(t)}}const IK=Lt()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...IP(),...ud(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=it(),c=Ei(t,"modelValue"),f=_e(()=>{var C,F;const w=((C=l.value)==null?void 0:C.contentHeight)??0,P=((F=l.value)==null?void 0:F.extensionHeight)??0;return w+P}),{ssrBootStyles:p}=Td(),{layoutItemStyles:x}=dd({id:t.name,order:_e(()=>parseInt(t.order,10)),position:Nt(t,"location"),layoutSize:f,elementSize:f,active:c,absolute:Nt(t,"absolute")});return $t(()=>{const[w]=$g.filterProps(t);return ae($g,ai({ref:l,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"}],style:{...x.value,height:void 0,...p.value}},w),r)}),{}}}),OK=Lt()({name:"VAppBarNavIcon",props:{icon:{type:Ni,default:"$menu"}},setup(t,s){let{slots:r}=s;return $t(()=>ae(xn,{class:"v-app-bar-nav-icon",icon:t.icon},r)),{}}}),RK=Lt()({name:"VAppBarTitle",props:LP(),setup(t,s){let{slots:r}=s;return $t(()=>ae(Wm,ai(t,{class:"v-app-bar-title"}),r)),{}}});function BK(t,s,r){if(s==null)return t;if(Array.isArray(s))throw new Error("Multiple matches is not implemented");return typeof s=="number"&&~s?ae(bi,null,[ae("span",{class:"v-autocomplete__unmask"},[t.substr(0,s)]),ae("span",{class:"v-autocomplete__mask"},[t.substr(s,r)]),ae("span",{class:"v-autocomplete__unmask"},[t.substr(s+r)])]):t}const VK=Lt()({name:"VAutocomplete",props:{search:String,...Sb({filterKeys:["title"]}),...kb(),...Ah(gp({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Dl({transition:!1})},emits:{"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,s){let{slots:r}=s;const{t:l}=ea(),c=it(),f=it(!1),p=it(!0),x=it(),w=Ei(t,"menu"),P=_e({get:()=>w.value,set:je=>{var tt;w.value&&!je&&((tt=x.value)!=null&&tt.openChildren)||(w.value=je)}}),{items:C,transformIn:F,transformOut:L}=Um(t),B=Ei(t,"search",""),U=Ei(t,"modelValue",[],je=>F(Ya(je)),je=>{const tt=L(je);return t.multiple?tt:tt[0]??null}),Y=op(),{filteredItems:Q,getMatches:N}=Cb(t,C,_e(()=>p.value?void 0:B.value)),X=_e(()=>U.value.map(je=>C.value.find(tt=>t.valueComparator(tt.value,je.value))||je)),W=_e(()=>t.hideSelected?Q.value.filter(je=>!X.value.some(tt=>tt.value===je.value)):Q.value),he=_e(()=>X.value.map(je=>je.props.value)),K=it();function le(je){t.openOnClear&&(P.value=!0),B.value=""}function G(){t.hideNoData&&!C.value.length||t.readonly||Y!=null&&Y.isReadonly.value||(P.value=!0)}function oe(je){var tt,Ze;t.readonly||Y!=null&&Y.isReadonly.value||(["Enter","ArrowDown","ArrowUp"].includes(je.key)&&je.preventDefault(),["Enter","ArrowDown"].includes(je.key)&&(P.value=!0),["Escape"].includes(je.key)&&(P.value=!1),["Enter","Escape","Tab"].includes(je.key)&&(p.value=!0),je.key==="ArrowDown"?(tt=K.value)==null||tt.focus("next"):je.key==="ArrowUp"&&((Ze=K.value)==null||Ze.focus("prev")))}function fe(je){B.value=je.target.value}function pe(){f.value&&(p.value=!0)}function Te(je){f.value=!0}function De(je){var tt;je.relatedTarget==null&&((tt=c.value)==null||tt.focus())}const Me=it(!1);function He(je){if(t.multiple){const tt=he.value.findIndex(Ze=>t.valueComparator(Ze,je.value));if(tt===-1)U.value=[...U.value,je],B.value="";else{const Ze=[...U.value];Ze.splice(tt,1),U.value=Ze}}else U.value=[je],Me.value=!0,r.selection||(B.value=je.title),P.value=!1,p.value=!0,on(()=>Me.value=!1)}return ui(f,je=>{var tt;je?(Me.value=!0,B.value=t.multiple||r.selection?"":String(((tt=X.value.at(-1))==null?void 0:tt.props.title)??""),p.value=!0,on(()=>Me.value=!1)):(P.value=!1,B.value="")}),ui(B,je=>{!f.value||Me.value||(je&&(P.value=!0),p.value=!je)}),$t(()=>{const je=!!(t.chips||r.chip),tt=!!(!t.hideNoData||W.value.length||r.prepend||r.append||r["no-data"]),[Ze]=Ac.filterProps(t);return ae(Ac,ai({ref:c},Ze,{modelValue:B.value,"onUpdate:modelValue":ft=>{ft==null&&(U.value=[])},validationValue:U.externalValue,dirty:U.value.length>0,onInput:fe,class:["v-autocomplete",{"v-autocomplete--active-menu":P.value,"v-autocomplete--chips":!!t.chips,[`v-autocomplete--${t.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!r.selection}],appendInnerIcon:t.menuIcon,readonly:t.readonly,"onClick:clear":le,"onMousedown:control":G,onFocus:()=>f.value=!0,onBlur:()=>f.value=!1,onKeydown:oe}),{...r,default:()=>ae(bi,null,[ae(mp,ai({ref:x,modelValue:P.value,"onUpdate:modelValue":ft=>P.value=ft,activator:"parent",contentClass:"v-autocomplete__content",eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:pe},t.menuProps),{default:()=>[tt&&ae(d0,{ref:K,selected:he.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ft=>ft.preventDefault(),onFocusin:Te,onFocusout:De},{default:()=>{var ft,Je,dt;return[!W.value.length&&!t.hideNoData&&(((ft=r["no-data"])==null?void 0:ft.call(r))??ae(ma,{title:l(t.noDataText)},null)),(Je=r["prepend-item"])==null?void 0:Je.call(r),W.value.map((at,Ie)=>{var qe;return((qe=r.item)==null?void 0:qe.call(r,{item:at,index:Ie,props:ai(at.props,{onClick:()=>He(at)})}))??ae(ma,ai({key:Ie},at.props,{onClick:()=>He(at)}),{prepend:Ue=>{let{isSelected:Ae}=Ue;return t.multiple&&!t.hideSelected?ae(wl,{modelValue:Ae,ripple:!1},null):void 0},title:()=>{var Ue,Ae;return p.value?at.title:BK(at.title,(Ue=N(at))==null?void 0:Ue.title,((Ae=B.value)==null?void 0:Ae.length)??0)}})}),(dt=r["append-item"])==null?void 0:dt.call(r)]}})]}),X.value.map((ft,Je)=>{var Ie;function dt(qe){qe.stopPropagation(),qe.preventDefault(),He(ft)}const at={"onClick:close":dt,modelValue:!0,"onUpdate:modelValue":void 0};return ae("div",{key:ft.value,class:"v-autocomplete__selection"},[je?r.chip?ae(Cn,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ft.title}}},{default:()=>{var qe;return[(qe=r.chip)==null?void 0:qe.call(r,{item:ft,index:Je,props:at})]}}):ae(zc,ai({key:"chip",closable:t.closableChips,size:"small",text:ft.title},at),null):((Ie=r.selection)==null?void 0:Ie.call(r,{item:ft,index:Je}))??ae("span",{class:"v-autocomplete__selection-text"},[ft.title,t.multiple&&Je<X.value.length-1&&ae("span",{class:"v-autocomplete__selection-comma"},[pi(",")])])])})])})}),Co({isFocused:f,isPristine:p,menu:P,search:B,filteredItems:Q,select:He},c)}});const zK=Lt()({name:"VBadge",inheritAttrs:!1,props:{bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ni,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ph({location:"top end"}),...Yn(),...Xi(),...en(),...Dl({transition:"scale-rotate-transition"})},setup(t,s){const{backgroundColorClasses:r,backgroundColorStyles:l}=ds(Nt(t,"color")),{roundedClasses:c}=gs(t),{t:f}=ea(),{textColorClasses:p,textColorStyles:x}=Er(Nt(t,"textColor")),{themeClasses:w}=kT(),{locationStyles:P}=Dh(t,!0,C=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(C)?+(t.offsetY??0):["left","right"].includes(C)?+(t.offsetX??0):0));return $t(()=>{const C=Number(t.content),F=!t.max||isNaN(C)?t.content:C<=t.max?C:`${t.max}+`,[L,B]=Lc(s.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return ae(t.tag,ai({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline}]},B),{default:()=>{var U,Y;return[ae("div",{class:"v-badge__wrapper"},[(Y=(U=s.slots).default)==null?void 0:Y.call(U),ae(Vo,{transition:t.transition},{default:()=>{var Q,N;return[ln(ae("span",ai({class:["v-badge__badge",w.value,r.value,c.value,p.value],style:[l.value,x.value,t.inline?{}:P.value],"aria-atomic":"true","aria-label":f(t.label,C),"aria-live":"polite",role:"status"},L),[t.dot?void 0:s.slots.badge?(N=(Q=s.slots).badge)==null?void 0:N.call(Q):t.icon?ae(Bi,{icon:t.icon},null):F]),[[Ka,t.modelValue]])]}})])]}})}),{}}});const RE=Lt()({name:"VBannerActions",props:{color:String,density:String},setup(t,s){let{slots:r}=s;return ks({VBtn:{color:t.color,density:t.density,variant:"text"}}),$t(()=>{var l;return ae("div",{class:"v-banner-actions"},[(l=r.default)==null?void 0:l.call(r)])}),{}}}),BE=bo("v-banner-text"),XK=Lt()({name:"VBanner",props:{avatar:String,color:String,icon:Ni,lines:String,stacked:Boolean,sticky:Boolean,text:String,...ba(),...Os(),...ko(),...Es(),...Ph(),...pd(),...Yn(),...Xi(),...en()},setup(t,s){let{slots:r}=s;const{borderClasses:l}=Ja(t),{densityClasses:c}=br(t),{mobile:f}=Qr(),{dimensionStyles:p}=So(t),{elevationClasses:x}=er(t),{locationStyles:w}=Dh(t),{positionClasses:P}=vd(t),{roundedClasses:C}=gs(t),{themeClasses:F}=mn(t),L=Nt(t,"color"),B=Nt(t,"density");ks({VBannerActions:{color:L,density:B}}),$t(()=>{const U=!!(t.text||r.text),Y=!!(t.avatar||t.icon),Q=!!(Y||r.prepend);return ae(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||f.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},l.value,c.value,x.value,P.value,C.value,F.value],style:[p.value,w.value],role:"banner"},{default:()=>{var N;return[Q&&ae("div",{key:"prepend",class:"v-banner__prepend"},[r.prepend?ae(Cn,{key:"prepend-defaults",disabled:!Y,defaults:{VAvatar:{color:L.value,density:B.value,icon:t.icon,image:t.avatar}}},r.prepend):ae(vh,{key:"prepend-avatar",color:L.value,density:B.value,icon:t.icon,image:t.avatar},null)]),ae("div",{class:"v-banner__content"},[U&&ae(BE,{key:"text"},{default:()=>{var X;return[((X=r.text)==null?void 0:X.call(r))??t.text]}}),(N=r.default)==null?void 0:N.call(r)]),r.actions&&ae(RE,{key:"actions"},r.actions)]}})})}});const HK=Lt()({name:"VBottomNavigation",props:{bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ba(),...Os(),...Es(),...Yn(),...ud({name:"bottom-navigation"}),...Xi({tag:"header"}),...xd({modelValue:!0,selectedClass:"v-btn--selected"}),...en()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{themeClasses:l}=kT(),{borderClasses:c}=Ja(t),{backgroundColorClasses:f,backgroundColorStyles:p}=ds(Nt(t,"bgColor")),{densityClasses:x}=br(t),{elevationClasses:w}=er(t),{roundedClasses:P}=gs(t),{ssrBootStyles:C}=Td(),F=_e(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),L=Nt(t,"active"),{layoutItemStyles:B}=dd({id:t.name,order:_e(()=>parseInt(t.order,10)),position:_e(()=>"bottom"),layoutSize:_e(()=>L.value?F.value:0),elementSize:F,active:L,absolute:Nt(t,"absolute")});return Vc(t,xy),ks({VBtn:{color:Nt(t,"color"),density:Nt(t,"density"),stacked:_e(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),$t(()=>ae(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":L.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},l.value,f.value,c.value,x.value,w.value,P.value],style:[p.value,B.value,{height:ci(F.value),transform:`translateY(${ci(L.value?0:100,"%")})`},C.value]},{default:()=>[r.default&&ae("div",{class:"v-bottom-navigation__content"},[r.default()])]})),{}}});const VE=Lt()({name:"VBreadcrumbsDivider",props:{divider:[Number,String]},setup(t,s){let{slots:r}=s;return $t(()=>{var l;return ae("li",{class:"v-breadcrumbs-divider"},[((l=r==null?void 0:r.default)==null?void 0:l.call(r))??t.divider])}),{}}}),zE=Lt()({name:"VBreadcrumbsItem",props:{active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...c0(),...Xi({tag:"li"})},setup(t,s){let{slots:r,attrs:l}=s;const c=h0(t,l),f=_e(()=>{var P;return t.active||((P=c.isActive)==null?void 0:P.value)}),p=_e(()=>f.value?t.activeColor:t.color),{textColorClasses:x,textColorStyles:w}=Er(p);return $t(()=>{const P=c.isLink.value?"a":t.tag;return ae(P,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":f.value,"v-breadcrumbs-item--disabled":t.disabled,"v-breadcrumbs-item--link":c.isLink.value,[`${t.activeClass}`]:f.value&&t.activeClass},x.value],style:[w.value],href:c.href.value,"aria-current":f.value?"page":void 0,onClick:c.navigate},{default:()=>{var C;return[((C=r.default)==null?void 0:C.call(r))??t.title]}})}),{}}}),YK=Lt()({name:"VBreadcrumbs",props:{activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ni,items:{type:Array,default:()=>[]},...Os(),...Yn(),...Xi({tag:"ul"})},setup(t,s){let{slots:r}=s;const{backgroundColorClasses:l,backgroundColorStyles:c}=ds(Nt(t,"bgColor")),{densityClasses:f}=br(t),{roundedClasses:p}=gs(t);return ks({VBreadcrumbsDivider:{divider:Nt(t,"divider")},VBreadcrumbsItem:{activeClass:Nt(t,"activeClass"),activeColor:Nt(t,"activeColor"),color:Nt(t,"color"),disabled:Nt(t,"disabled")}}),$t(()=>{const x=!!(r.prepend||t.icon);return ae(t.tag,{class:["v-breadcrumbs",l.value,f.value,p.value],style:c.value},{default:()=>{var w;return[x&&ae("div",{key:"prepend",class:"v-breadcrumbs__prepend"},[r.prepend?ae(Cn,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},r.prepend):ae(Bi,{key:"prepend-icon",start:!0,icon:t.icon},null)]),t.items.map((P,C,F)=>ae(bi,null,[ae(zE,ai({key:C,disabled:C>=F.length-1},typeof P=="string"?{title:P}:P),{default:r.title?()=>{var L;return(L=r.title)==null?void 0:L.call(r,{item:P,index:C})}:void 0}),C<F.length-1&&ae(VE,null,{default:r.divider?()=>{var L;return(L=r.divider)==null?void 0:L.call(r,{item:P,index:C})}:void 0})])),(w=r.default)==null?void 0:w.call(r)]}})}),{}}});const XE=Symbol.for("vuetify:v-window"),HE=Symbol.for("vuetify:v-window-group"),YE=Lt()({name:"VWindow",directives:{Touch:cy},props:{continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Xi(),...en()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{isRtl:c}=Cl(),{t:f}=ea(),p=Vc(t,HE),x=it(),w=_e(()=>c.value?!t.reverse:t.reverse),P=it(!1),C=_e(()=>{const he=t.direction==="vertical"?"y":"x",le=(w.value?!P.value:P.value)?"-reverse":"";return`v-window-${he}${le}-transition`}),F=it(0),L=it(void 0),B=_e(()=>p.items.value.findIndex(he=>p.selected.value.includes(he.id)));ui(B,(he,K)=>{const le=p.items.value.length,G=le-1;le<=2?P.value=he<K:he===G&&K===0?P.value=!0:he===0&&K===G?P.value=!1:P.value=he<K}),Tn(XE,{transition:C,isReversed:P,transitionCount:F,transitionHeight:L,rootRef:x});const U=_e(()=>t.continuous||B.value!==0),Y=_e(()=>t.continuous||B.value!==p.items.value.length-1);function Q(){U.value&&p.prev()}function N(){Y.value&&p.next()}const X=_e(()=>{const he=[],K={icon:c.value?t.nextIcon:t.prevIcon,class:`v-window__${w.value?"right":"left"}`,onClick:p.prev,ariaLabel:f("$vuetify.carousel.prev")};he.push(U.value?r.prev?r.prev({props:K}):ae(xn,K,null):ae("div",null,null));const le={icon:c.value?t.prevIcon:t.nextIcon,class:`v-window__${w.value?"left":"right"}`,onClick:p.next,ariaLabel:f("$vuetify.carousel.next")};return he.push(Y.value?r.next?r.next({props:le}):ae(xn,le,null):ae("div",null,null)),he}),W=_e(()=>t.touch===!1?t.touch:{...{left:()=>{w.value?Q():N()},right:()=>{w.value?N():Q()},start:K=>{let{originalEvent:le}=K;le.stopPropagation()}},...t.touch===!0?{}:t.touch});return $t(()=>ln(ae(t.tag,{ref:x,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},l.value]},{default:()=>{var he,K;return[ae("div",{class:"v-window__container",style:{height:L.value}},[(he=r.default)==null?void 0:he.call(r,{group:p}),t.showArrows!==!1&&ae("div",{class:"v-window__controls"},[X.value])]),(K=r.additional)==null?void 0:K.call(r,{group:p})]}}),[[Mr("touch"),W.value]])),{group:p}}}),UE=Lt()({name:"VWindowItem",directives:{Touch:cy},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...yd(),...tp()},emits:{"group:selected":t=>!0},setup(t,s){let{slots:r}=s;const l=Hi(XE),c=bd(t,HE),{isBooted:f}=Td();if(!l||!c)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const p=it(!1),x=_e(()=>l.isReversed.value?t.reverseTransition!==!1:t.transition!==!1);function w(){!p.value||!l||(p.value=!1,l.transitionCount.value>0&&(l.transitionCount.value-=1,l.transitionCount.value===0&&(l.transitionHeight.value=void 0)))}function P(){var U;p.value||!l||(p.value=!0,l.transitionCount.value===0&&(l.transitionHeight.value=ci((U=l.rootRef.value)==null?void 0:U.clientHeight)),l.transitionCount.value+=1)}function C(){w()}function F(U){p.value&&on(()=>{!x.value||!p.value||!l||(l.transitionHeight.value=ci(U.clientHeight))})}const L=_e(()=>{const U=l.isReversed.value?t.reverseTransition:t.transition;return x.value?{name:typeof U!="string"?l.transition.value:U,onBeforeEnter:P,onAfterEnter:w,onEnterCancelled:C,onBeforeLeave:P,onAfterLeave:w,onLeaveCancelled:C,onEnter:F}:!1}),{hasContent:B}=pb(t,c.isSelected);return $t(()=>ae(Vo,{transition:f.value&&L.value},{default:()=>{var U;return[ln(ae("div",{class:["v-window-item",c.selectedClass.value]},[B.value&&((U=r.default)==null?void 0:U.call(r))]),[[Ka,c.isSelected.value]])]}})),{}}}),UK=Lt()({name:"VCarousel",props:{color:String,cycle:Boolean,delimiterIcon:{type:Ni,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>t>0},modelValue:null,progress:[Boolean,String],showArrows:{type:[Boolean,String],default:!0,validator:t=>typeof t=="boolean"||t==="hover"},verticalDelimiters:[Boolean,String]},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{t:c}=ea(),f=it();let p=-1;ui(l,w),ui(()=>t.interval,w),ui(()=>t.cycle,P=>{P?w():window.clearTimeout(p)}),nn(x);function x(){!t.cycle||!f.value||(p=window.setTimeout(f.value.group.next,+t.interval>0?+t.interval:6e3))}function w(){window.clearTimeout(p),window.requestAnimationFrame(x)}return $t(()=>ae(YE,{ref:f,modelValue:l.value,"onUpdate:modelValue":P=>l.value=P,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters}],style:{height:ci(t.height)},continuous:!0,mandatory:"force",showArrows:t.showArrows},{default:r.default,additional:P=>{let{group:C}=P;return ae(bi,null,[!t.hideDelimiters&&ae("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[C.items.value.length>0&&ae(Cn,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[C.items.value.map((F,L)=>{const B={"aria-label":c("$vuetify.carousel.ariaLabel.delimiter",L+1,C.items.value.length),class:[C.isSelected(F.id)&&"v-btn--active"],onClick:()=>C.select(F.id,!0)};return r.item?r.item({props:B,item:F}):ae(xn,ai(F,B),null)})]})]),t.progress&&ae(vy,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(C.getItemIndex(l.value)+1)/C.items.value.length*100},null)])},prev:r.prev,next:r.next})),{}}}),WK=Lt()({name:"VCarouselItem",inheritAttrs:!1,props:{value:null},setup(t,s){let{slots:r,attrs:l}=s;$t(()=>ae(UE,{class:"v-carousel-item",value:t.value},{default:()=>[ae(md,l,r)]}))}});const GK=bo("v-code");const jK=Jr({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,s){let{emit:r}=s;const l=it(!1),c=it(!1),f=it({x:0,y:0}),p=_e(()=>{const{x:N,y:X}=f.value,W=parseInt(t.dotSize,10)/2;return{width:ci(t.dotSize),height:ci(t.dotSize),transform:`translate(${ci(N-W)}, ${ci(X-W)})`}}),x=it(),w=it(parseFloat(t.width)),P=it(parseFloat(t.height)),{resizeRef:C}=ph(N=>{var he;if(!((he=C.value)!=null&&he.offsetParent))return;const{width:X,height:W}=N[0].contentRect;w.value=X,P.value=W});function F(N,X,W){const{left:he,top:K,width:le,height:G}=W;f.value={x:ga(N-he,0,le),y:ga(X-K,0,G)}}function L(N){t.disabled||!x.value||F(N.clientX,N.clientY,x.value.getBoundingClientRect())}function B(N){N.preventDefault(),!t.disabled&&(l.value=!0,window.addEventListener("mousemove",U),window.addEventListener("mouseup",Y),window.addEventListener("touchmove",U),window.addEventListener("touchend",Y))}function U(N){if(t.disabled||!x.value)return;l.value=!0;const X=hR(N);F(X.clientX,X.clientY,x.value.getBoundingClientRect())}function Y(){window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",Y),window.removeEventListener("touchmove",U),window.removeEventListener("touchend",Y)}ui(f,()=>{var W,he;if(c.value){c.value=!1;return}if(!x.value)return;const{x:N,y:X}=f.value;r("update:color",{h:((W=t.color)==null?void 0:W.h)??0,s:ga(N,0,w.value)/w.value,v:1-ga(X,0,P.value)/P.value,a:((he=t.color)==null?void 0:he.a)??1})});function Q(){var K;if(!x.value)return;const N=x.value,X=N.getContext("2d");if(!X)return;const W=X.createLinearGradient(0,0,N.width,0);W.addColorStop(0,"hsla(0, 0%, 100%, 1)"),W.addColorStop(1,`hsla(${((K=t.color)==null?void 0:K.h)??0}, 100%, 50%, 1)`),X.fillStyle=W,X.fillRect(0,0,N.width,N.height);const he=X.createLinearGradient(0,0,0,N.height);he.addColorStop(0,"hsla(0, 0%, 100%, 0)"),he.addColorStop(1,"hsla(0, 0%, 0%, 1)"),X.fillStyle=he,X.fillRect(0,0,N.width,N.height)}return ui(()=>{var N;return(N=t.color)==null?void 0:N.h},Q,{immediate:!0}),ui(()=>[w.value,P.value],(N,X)=>{Q(),f.value={x:f.value.x*N[0]/X[0],y:f.value.y*N[1]/X[1]}},{flush:"post"}),ui(()=>t.color,()=>{if(l.value){l.value=!1;return}c.value=!0,f.value=t.color?{x:t.color.s*w.value,y:(1-t.color.v)*P.value}:{x:0,y:0}},{deep:!0,immediate:!0}),nn(()=>Q()),$t(()=>ae("div",{ref:C,class:"v-color-picker-canvas",onClick:L,onMousedown:B,onTouchstart:B},[ae("canvas",{ref:x,width:w.value,height:P.value},null),t.color&&ae("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:p.value},null)])),{}}});function ec(t,s){return s.every(r=>t.hasOwnProperty(r))}function WE(t){if(!t)return null;let s=null;if(typeof t=="string"){const r=uT(t);s=hT(r)}return typeof t=="object"&&(ec(t,["r","g","b"])?s=ay(t):ec(t,["h","s","l"])?s=rT(t):ec(t,["h","s","v"])&&(s=t)),s}function $K(t,s){if(s){const{a:r,...l}=t;return l}return t}function KK(t,s){if(s==null||typeof s=="string"){const r=cT(t);return t.a===1?r.slice(0,7):r}if(typeof s=="object"){let r;return ec(s,["r","g","b"])?r=Im(t):ec(s,["h","s","l"])?r=sT(t):ec(s,["h","s","v"])&&(r=t),$K(r,!ec(s,["a"])&&t.a===1)}return t}const yf={h:0,s:0,v:1,a:1},i1={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,s)=>({...t,r:Number(s)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,s)=>({...t,g:Number(s)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,s)=>({...t,b:Number(s)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:s}=t;return s?Math.round(s*100)/100:1},getColor:(t,s)=>({...t,a:Number(s)})}],to:Im,from:ay};var hS;const qK={...i1,inputs:(hS=i1.inputs)==null?void 0:hS.slice(0,3)},n1={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,s)=>({...t,h:Number(s)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,s)=>({...t,s:Number(s)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,s)=>({...t,l:Number(s)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:s}=t;return s?Math.round(s*100)/100:1},getColor:(t,s)=>({...t,a:Number(s)})}],to:sT,from:rT},ZK={...n1,inputs:n1.inputs.slice(0,3)},GE={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,s)=>s}],to:cT,from:hT},JK={...GE,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,s)=>s}]},tc={rgb:qK,rgba:i1,hsl:ZK,hsla:n1,hex:JK,hexa:GE},QK=t=>{let{label:s,...r}=t;return ae("div",{class:"v-color-picker-edit__input"},[ae("input",r,null),ae("span",null,[s])])},eq=Jr({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(tc).includes(t)},modes:{type:Array,default:()=>Object.keys(tc),validator:t=>Array.isArray(t)&&t.every(s=>Object.keys(tc).includes(s))}},emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,s){let{emit:r}=s;const l=_e(()=>t.modes.map(f=>({...tc[f],name:f}))),c=_e(()=>{var x;const f=l.value.find(w=>w.name===t.mode);if(!f)return[];const p=t.color?f.to(t.color):null;return(x=f.inputs)==null?void 0:x.map(w=>{let{getValue:P,getColor:C,...F}=w;return{...f.inputProps,...F,disabled:t.disabled,value:p&&P(p),onChange:L=>{const B=L.target;B&&r("update:color",f.from(C(p??yf,B.value)))}}})});return $t(()=>{var f;return ae("div",{class:"v-color-picker-edit"},[(f=c.value)==null?void 0:f.map(p=>ae(QK,p,null)),l.value.length>1&&ae(xn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const p=l.value.findIndex(x=>x.name===t.mode);r("update:mode",l.value[(p+1)%l.value.length].name)}},null)])}),{}}});const Ab=Symbol.for("vuetify:v-slider");function s1(t,s,r){const l=r==="vertical",c=s.getBoundingClientRect(),f="touches"in t?t.touches[0]:t;return l?f.clientY-(c.top+c.height/2):f.clientX-(c.left+c.width/2)}function tq(t,s){return"touches"in t&&t.touches.length?t.touches[0][s]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][s]:t[s]}const jE=Ci({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Yn(),...Es({elevation:2})},"slider"),$E=t=>{let{props:s,handleSliderMouseUp:r,handleMouseMove:l,getActiveThumb:c}=t;const{isRtl:f}=Cl(),p=Nt(s,"reverse"),x=_e(()=>{let Ae=f.value?"rtl":"ltr";return s.reverse&&(Ae=Ae==="rtl"?"ltr":"rtl"),Ae}),w=_e(()=>parseFloat(s.min)),P=_e(()=>parseFloat(s.max)),C=_e(()=>s.step>0?parseFloat(s.step):0),F=_e(()=>Math.max(lk(C.value),lk(w.value))),L=_e(()=>parseInt(s.thumbSize,10)),B=_e(()=>parseInt(s.tickSize,10)),U=_e(()=>parseInt(s.trackSize,10)),Y=_e(()=>(P.value-w.value)/C.value),Q=Nt(s,"disabled"),N=_e(()=>s.direction==="vertical"),X=_e(()=>s.error||s.disabled?void 0:s.thumbColor??s.color),W=_e(()=>s.error||s.disabled?void 0:s.trackColor??s.color),he=_e(()=>s.error||s.disabled?void 0:s.trackFillColor??s.color),K=it(!1),le=it(0),G=it(),oe=it();function fe(Ae){if(C.value<=0)return Ae;const Ye=ga(Ae,w.value,P.value),st=w.value%C.value,ht=Math.round((Ye-st)/C.value)*C.value+st;return parseFloat(Math.min(ht,P.value).toFixed(F.value))}function pe(Ae){var ut;const Ye=s.direction==="vertical",st=Ye?"top":"left",ht=Ye?"height":"width",vt=Ye?"clientY":"clientX",{[st]:kt,[ht]:Kt}=(ut=G.value)==null?void 0:ut.$el.getBoundingClientRect(),ve=tq(Ae,vt);let et=Math.min(Math.max((ve-kt-le.value)/Kt,0),1)||0;return(Ye||x.value==="rtl")&&(et=1-et),fe(w.value+et*(P.value-w.value))}let Te=!1;const De=Ae=>{Te||(le.value=0,r(pe(Ae))),K.value=!1,Te=!1,le.value=0},Me=Ae=>{oe.value=c(Ae),oe.value&&(oe.value.focus(),K.value=!0,oe.value.contains(Ae.target)?(Te=!0,le.value=s1(Ae,oe.value,s.direction)):(le.value=0,l(pe(Ae))))},He={passive:!0,capture:!0};function je(Ae){Te=!0,l(pe(Ae))}function tt(Ae){Ae.stopPropagation(),Ae.preventDefault(),De(Ae),window.removeEventListener("mousemove",je,He),window.removeEventListener("mouseup",tt)}function Ze(Ae){var Ye;De(Ae),window.removeEventListener("touchmove",je,He),(Ye=Ae.target)==null||Ye.removeEventListener("touchend",Ze)}function ft(Ae){var Ye;Me(Ae),window.addEventListener("touchmove",je,He),(Ye=Ae.target)==null||Ye.addEventListener("touchend",Ze,{passive:!1})}function Je(Ae){Ae.preventDefault(),Me(Ae),window.addEventListener("mousemove",je,He),window.addEventListener("mouseup",tt,{passive:!1})}const dt=Ae=>{const Ye=(Ae-w.value)/(P.value-w.value)*100;return ga(isNaN(Ye)?0:Ye,0,100)},at=Nt(s,"showTicks"),Ie=_e(()=>at.value?s.ticks?Array.isArray(s.ticks)?s.ticks.map(Ae=>({value:Ae,position:dt(Ae),label:Ae.toString()})):Object.keys(s.ticks).map(Ae=>({value:parseFloat(Ae),position:dt(parseFloat(Ae)),label:s.ticks[Ae]})):Y.value!==1/0?ol(Y.value+1).map(Ae=>{const Ye=w.value+Ae*C.value;return{value:Ye,position:dt(Ye)}}):[]:[]),qe=_e(()=>Ie.value.some(Ae=>{let{label:Ye}=Ae;return!!Ye})),Ue={activeThumbRef:oe,color:Nt(s,"color"),decimals:F,disabled:Q,direction:Nt(s,"direction"),elevation:Nt(s,"elevation"),hasLabels:qe,horizontalDirection:x,isReversed:p,min:w,max:P,mousePressed:K,numTicks:Y,onSliderMousedown:Je,onSliderTouchstart:ft,parsedTicks:Ie,parseMouseMove:pe,position:dt,readonly:Nt(s,"readonly"),rounded:Nt(s,"rounded"),roundValue:fe,showTicks:at,startOffset:le,step:C,thumbSize:L,thumbColor:X,thumbLabel:Nt(s,"thumbLabel"),ticks:Nt(s,"ticks"),tickSize:B,trackColor:W,trackContainerRef:G,trackFillColor:he,trackSize:U,vertical:N};return Tn(Ab,Ue),Ue},r1=Lt()({name:"VSliderThumb",directives:{Ripple:Th},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:Boolean,default:!0}},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r,emit:l}=s;const c=Hi(Ab);if(!c)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:f,step:p,vertical:x,disabled:w,thumbSize:P,thumbLabel:C,direction:F,readonly:L,elevation:B,isReversed:U,horizontalDirection:Y,mousePressed:Q,decimals:N}=c,{textColorClasses:X,textColorStyles:W}=Er(f),{pageup:he,pagedown:K,end:le,home:G,left:oe,right:fe,down:pe,up:Te}=px,De=[he,K,le,G,oe,fe,pe,Te],Me=_e(()=>p.value?[1,2,3]:[1,5,10]);function He(tt,Ze){if(!De.includes(tt.key))return;tt.preventDefault();const ft=p.value||.1,Je=(t.max-t.min)/ft;if([oe,fe,pe,Te].includes(tt.key)){const at=(Y.value==="rtl"?[oe,Te]:[fe,Te]).includes(tt.key)?1:-1,Ie=tt.shiftKey?2:tt.ctrlKey?1:0;Ze=Ze+at*ft*Me.value[Ie]}else if(tt.key===G)Ze=t.min;else if(tt.key===le)Ze=t.max;else{const dt=tt.key===K?1:-1;Ze=Ze-dt*ft*(Je>100?Je/10:10)}return Math.max(t.min,Math.min(t.max,Ze))}function je(tt){const Ze=He(tt,t.modelValue);Ze!=null&&l("update:modelValue",Ze)}return $t(()=>{const tt=ci(x.value||U.value?100-t.position:t.position,"%"),{elevationClasses:Ze}=er(_e(()=>w.value?void 0:B.value));return ae("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&Q.value}],style:{"--v-slider-thumb-position":tt,"--v-slider-thumb-size":ci(P.value)},role:"slider",tabindex:w.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":L.value,"aria-orientation":F.value,onKeydown:L.value?void 0:je},[ae("div",{class:["v-slider-thumb__surface",X.value,Ze.value],style:{...W.value}},null),ln(ae("div",{class:["v-slider-thumb__ripple",X.value],style:W.value},null),[[Mr("ripple"),t.ripple,null,{circle:!0,center:!0}]]),ae(fP,{origin:"bottom center"},{default:()=>{var ft;return[ln(ae("div",{class:"v-slider-thumb__label-container"},[ae("div",{class:["v-slider-thumb__label"]},[ae("div",null,[((ft=r["thumb-label"])==null?void 0:ft.call(r,{modelValue:t.modelValue}))??t.modelValue.toFixed(p.value?N.value:1)])])]),[[Ka,C.value&&t.focused||C.value==="always"]])]}})])}),{}}});const KE=Lt()({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(t,s){let{slots:r}=s;const l=Hi(Ab);if(!l)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:c,horizontalDirection:f,parsedTicks:p,rounded:x,showTicks:w,tickSize:P,trackColor:C,trackFillColor:F,trackSize:L,vertical:B,min:U,max:Y}=l,{roundedClasses:Q}=gs(x),{backgroundColorClasses:N,backgroundColorStyles:X}=ds(F),{backgroundColorClasses:W,backgroundColorStyles:he}=ds(C),K=_e(()=>`inset-${B.value?"block-end":"inline-start"}`),le=_e(()=>B.value?"height":"width"),G=_e(()=>({[K.value]:"0%",[le.value]:"100%"})),oe=_e(()=>t.stop-t.start),fe=_e(()=>({[K.value]:ci(t.start,"%"),[le.value]:ci(oe.value,"%")})),pe=_e(()=>w.value?(B.value?p.value.slice().reverse():p.value).map((De,Me)=>{var tt;const He=B.value?"bottom":"margin-inline-start",je=De.value!==U.value&&De.value!==Y.value?ci(De.position,"%"):void 0;return ae("div",{key:De.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":De.position>=t.start&&De.position<=t.stop,"v-slider-track__tick--first":De.value===U.value,"v-slider-track__tick--last":De.value===Y.value}],style:{[He]:je}},[(De.label||r["tick-label"])&&ae("div",{class:"v-slider-track__tick-label"},[((tt=r["tick-label"])==null?void 0:tt.call(r,{tick:De,index:Me}))??De.label])])}):[]);return $t(()=>ae("div",{class:["v-slider-track",Q.value],style:{"--v-slider-track-size":ci(L.value),"--v-slider-tick-size":ci(P.value),direction:B.value?void 0:f.value}},[ae("div",{class:["v-slider-track__background",W.value,{"v-slider-track__background--opacity":!!c.value||!F.value}],style:{...G.value,...he.value}},null),ae("div",{class:["v-slider-track__fill",N.value],style:{...fe.value,...X.value}},null),w.value&&ae("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":w.value==="always"}]},[pe.value])])),{}}}),a1=Lt()({name:"VSlider",props:{...lp(),...jE(),...Nl(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=it(),{min:c,max:f,mousePressed:p,roundValue:x,onSliderMousedown:w,onSliderTouchstart:P,trackContainerRef:C,position:F,hasLabels:L,readonly:B}=$E({props:t,handleSliderMouseUp:W=>U.value=x(W),handleMouseMove:W=>U.value=x(W),getActiveThumb:()=>{var W;return(W=l.value)==null?void 0:W.$el}}),U=Ei(t,"modelValue",void 0,W=>{const he=typeof W=="string"?parseFloat(W):W??c.value;return x(he)}),{isFocused:Y,focus:Q,blur:N}=jc(t),X=_e(()=>F(U.value));return $t(()=>{const[W,he]=Lh(t),K=!!(t.label||r.label||r.prepend);return ae(qo,ai({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||L.value,"v-slider--focused":Y.value,"v-slider--pressed":p.value,"v-slider--disabled":t.disabled}]},W,{focused:Y.value}),{...r,prepend:K?le=>{var G,oe;return ae(bi,null,[((G=r.label)==null?void 0:G.call(r,le))??t.label?ae(Ad,{id:le.id,class:"v-slider__label",text:t.label},null):void 0,(oe=r.prepend)==null?void 0:oe.call(r,le)])}:void 0,default:le=>{let{id:G,messagesId:oe}=le;return ae("div",{class:"v-slider__container",onMousedown:B.value?void 0:w,onTouchstartPassive:B.value?void 0:P},[ae("input",{id:G.value,name:t.name||G.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:U.value},null),ae(KE,{ref:C,start:0,stop:X.value},{"tick-label":r["tick-label"]}),ae(r1,{ref:l,"aria-describedby":oe.value,focused:Y.value,min:c.value,max:f.value,modelValue:U.value,"onUpdate:modelValue":fe=>U.value=fe,position:X.value,elevation:t.elevation,onFocus:Q,onBlur:N},{"thumb-label":r["thumb-label"]})])}})}),{}}}),iq=Jr({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean},emits:{"update:color":t=>!0},setup(t,s){let{emit:r}=s;return $t(()=>{var l,c;return ae("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha}]},[ae("div",{class:"v-color-picker-preview__dot"},[ae("div",{style:{background:aT(t.color??yf)}},null)]),ae("div",{class:"v-color-picker-preview__sliders"},[ae(a1,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(l=t.color)==null?void 0:l.h,"onUpdate:modelValue":f=>r("update:color",{...t.color??yf,h:f}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&ae(a1,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((c=t.color)==null?void 0:c.a)??1,"onUpdate:modelValue":f=>r("update:color",{...t.color??yf,a:f}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const nq=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),sq=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),rq=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),aq=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),oq=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),lq=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),hq=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),cq=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),uq=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),dq=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),fq=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),gq=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),mq=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),pq=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),vq=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),xq=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),yq=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),bq=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),wq=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),kq=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),Sq=Object.freeze({red:nq,pink:sq,purple:rq,deepPurple:aq,indigo:oq,blue:lq,lightBlue:hq,cyan:cq,teal:uq,green:dq,lightGreen:fq,lime:gq,yellow:mq,amber:pq,orange:vq,deepOrange:xq,brown:yq,blueGrey:bq,grey:wq,shades:kq});function Cq(t){return Object.keys(t).map(s=>{const r=t[s];return r.base?[r.base,r.darken4,r.darken3,r.darken2,r.darken1,r.lighten1,r.lighten2,r.lighten3,r.lighten4,r.lighten5]:[r.black,r.white,r.transparent]})}const Aq=Jr({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>Cq(Sq)},disabled:Boolean,color:Object,maxHeight:[Number,String]},emits:{"update:color":t=>!0},setup(t,s){let{emit:r}=s;return $t(()=>ae("div",{class:"v-color-picker-swatches",style:{maxHeight:ci(t.maxHeight)}},[ae("div",null,[t.swatches.map(l=>ae("div",{class:"v-color-picker-swatches__swatch"},[l.map(c=>{const f=WE(c);return ae("div",{class:"v-color-picker-swatches__color",onClick:()=>f&&r("update:color",f)},[ae("div",{style:{background:c}},[t.color&&Nc(t.color,f)?ae(Bi,{size:"x-small",icon:"$success",color:CR(c,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}});const Tq=Ci({color:String,...ba(),...ko(),...Es(),...Ph(),...pd(),...Yn(),...Xi(),...en()},"v-sheet"),qE=Lt()({name:"VSheet",props:{...Tq()},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{backgroundColorClasses:c,backgroundColorStyles:f}=ds(Nt(t,"color")),{borderClasses:p}=Ja(t),{dimensionStyles:x}=So(t),{elevationClasses:w}=er(t),{locationStyles:P}=Dh(t),{positionClasses:C}=vd(t),{roundedClasses:F}=gs(t);return $t(()=>ae(t.tag,{class:["v-sheet",l.value,c.value,p.value,w.value,C.value,F.value],style:[f.value,x.value,P.value]},r)),{}}}),Pq=Jr({name:"VColorPicker",props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(tc).includes(t)},modes:{type:Array,default:()=>Object.keys(tc),validator:t=>Array.isArray(t)&&t.every(s=>Object.keys(tc).includes(s))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},width:{type:[Number,String],default:300},...Es(),...Yn(),...en()},emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const s=Ei(t,"mode"),r=it(null),l=Ei(t,"modelValue",void 0,f=>{let p=WE(f);return p?(r.value&&(p={...p,h:r.value.h},r.value=null),p):null},f=>f?KK(f,t.modelValue):null),c=f=>{l.value=f,r.value=f};return nn(()=>{t.modes.includes(s.value)||(s.value=t.modes[0])}),ks({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),$t(()=>ae(qE,{rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker"],style:{"--v-color-picker-color-hsv":aT({...l.value??yf,a:1})},maxWidth:t.width},{default:()=>[!t.hideCanvas&&ae(jK,{key:"canvas",color:l.value,"onUpdate:color":c,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&ae("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&ae(iq,{key:"preview",color:l.value,"onUpdate:color":c,hideAlpha:!s.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&ae(eq,{key:"edit",modes:t.modes,mode:s.value,"onUpdate:mode":f=>s.value=f,color:l.value,"onUpdate:color":c,disabled:t.disabled},null)]),t.showSwatches&&ae(Aq,{key:"swatches",color:l.value,"onUpdate:color":c,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})),{}}});function Dq(t,s,r){if(s==null)return t;if(Array.isArray(s))throw new Error("Multiple matches is not implemented");return typeof s=="number"&&~s?ae(bi,null,[ae("span",{class:"v-combobox__unmask"},[t.substr(0,s)]),ae("span",{class:"v-combobox__mask"},[t.substr(s,r)]),ae("span",{class:"v-combobox__unmask"},[t.substr(s+r)])]):t}const Mq=Lt()({name:"VCombobox",props:{delimiters:Array,...Sb({filterKeys:["title"]}),...kb({hideNoData:!0,returnObject:!0}),...Ah(gp({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Dl({transition:!1})},emits:{"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,s){var dt;let{emit:r,slots:l}=s;const{t:c}=ea(),f=it(),p=it(!1),x=it(!0),w=it(),P=Ei(t,"menu"),C=_e({get:()=>P.value,set:at=>{var Ie;P.value&&!at&&((Ie=w.value)!=null&&Ie.openChildren)||(P.value=at)}}),F=it(-1),L=_e(()=>{var at;return(at=f.value)==null?void 0:at.color}),{items:B,transformIn:U,transformOut:Y}=Um(t),{textColorClasses:Q,textColorStyles:N}=Er(L),X=Ei(t,"modelValue",[],at=>U(Ya(at||[])),at=>{const Ie=Y(at);return t.multiple?Ie:Ie[0]??null}),W=op(),he=it(t.multiple?"":((dt=X.value[0])==null?void 0:dt.title)??""),K=_e({get:()=>he.value,set:at=>{var Ie;if(he.value=at,t.multiple||(X.value=[wu(t,at)]),at&&t.multiple&&((Ie=t.delimiters)!=null&&Ie.length)){const qe=at.split(new RegExp(`(?:${t.delimiters.join("|")})+`));qe.length>1&&(qe.forEach(Ue=>{Ue=Ue.trim(),Ue&&Ze(wu(t,Ue))}),he.value="")}at||(F.value=-1),p.value&&(C.value=!0),x.value=!at}});ui(he,at=>{r("update:search",at)}),ui(X,at=>{var Ie;t.multiple||(he.value=((Ie=at[0])==null?void 0:Ie.title)??"")});const{filteredItems:le,getMatches:G}=Cb(t,B,_e(()=>x.value?void 0:K.value)),oe=_e(()=>X.value.map(at=>B.value.find(Ie=>t.valueComparator(Ie.value,at.value))||at)),fe=_e(()=>t.hideSelected?le.value.filter(at=>!oe.value.some(Ie=>Ie.value===at.value)):le.value),pe=_e(()=>oe.value.map(at=>at.props.value)),Te=_e(()=>oe.value[F.value]),De=it();function Me(at){t.openOnClear&&(C.value=!0)}function He(){t.hideNoData&&!B.value.length||t.readonly||W!=null&&W.isReadonly.value||(C.value=!0)}function je(at){var Ue,Ae;if(t.readonly||W!=null&&W.isReadonly.value)return;const Ie=f.value.selectionStart,qe=pe.value.length;if((F.value>-1||["Enter","ArrowDown","ArrowUp"].includes(at.key))&&at.preventDefault(),["Enter","ArrowDown"].includes(at.key)&&(C.value=!0),["Escape"].includes(at.key)&&(C.value=!1),["Enter","Escape","Tab"].includes(at.key)&&(x.value=!0),at.key==="ArrowDown"?(Ue=De.value)==null||Ue.focus("next"):at.key==="ArrowUp"&&((Ae=De.value)==null||Ae.focus("prev")),!!t.multiple){if(["Backspace","Delete"].includes(at.key)){if(F.value<0){at.key==="Backspace"&&!K.value&&(F.value=qe-1);return}Ze(Te.value),on(()=>!Te.value&&(F.value=qe-2))}if(at.key==="ArrowLeft"){if(F.value<0&&Ie>0)return;const Ye=F.value>-1?F.value-1:qe-1;oe.value[Ye]?F.value=Ye:(F.value=-1,f.value.setSelectionRange(K.value.length,K.value.length))}if(at.key==="ArrowRight"){if(F.value<0)return;const Ye=F.value+1;oe.value[Ye]?F.value=Ye:(F.value=-1,f.value.setSelectionRange(0,0))}at.key==="Enter"&&K.value&&(Ze(wu(t,K.value)),K.value="")}}function tt(){p.value&&(x.value=!0)}function Ze(at){if(t.multiple){const Ie=pe.value.findIndex(qe=>t.valueComparator(qe,at.value));if(Ie===-1)X.value=[...X.value,at];else{const qe=[...X.value];qe.splice(Ie,1),X.value=qe}K.value=""}else X.value=[at],he.value=at.title,on(()=>{C.value=!1,x.value=!0})}function ft(at){p.value=!0}function Je(at){var Ie;at.relatedTarget==null&&((Ie=f.value)==null||Ie.focus())}return ui(le,at=>{!at.length&&t.hideNoData&&(C.value=!1)}),ui(p,at=>{if(at)F.value=-1;else{if(C.value=!1,!t.multiple||!K.value)return;X.value=[...X.value,wu(t,K.value)],K.value=""}}),$t(()=>{const at=!!(t.chips||l.chip),Ie=!!(!t.hideNoData||fe.value.length||l.prepend||l.append||l["no-data"]),[qe]=Ac.filterProps(t);return ae(Ac,ai({ref:f},qe,{modelValue:K.value,"onUpdate:modelValue":[Ue=>K.value=Ue,Ue=>{Ue==null&&(X.value=[])}],validationValue:X.externalValue,dirty:X.value.length>0,class:["v-combobox",{"v-combobox--active-menu":C.value,"v-combobox--chips":!!t.chips,"v-combobox--selecting-index":F.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0}],appendInnerIcon:t.items.length?t.menuIcon:void 0,readonly:t.readonly,"onClick:clear":Me,"onMousedown:control":He,onFocus:()=>p.value=!0,onBlur:()=>p.value=!1,onKeydown:je}),{...l,default:()=>ae(bi,null,[ae(mp,ai({ref:w,modelValue:C.value,"onUpdate:modelValue":Ue=>C.value=Ue,activator:"parent",contentClass:"v-combobox__content",eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:tt},t.menuProps),{default:()=>[Ie&&ae(d0,{ref:De,selected:pe.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Ue=>Ue.preventDefault(),onFocusin:ft,onFocusout:Je},{default:()=>{var Ue,Ae,Ye;return[!fe.value.length&&!t.hideNoData&&(((Ue=l["no-data"])==null?void 0:Ue.call(l))??ae(ma,{title:c(t.noDataText)},null)),(Ae=l["prepend-item"])==null?void 0:Ae.call(l),fe.value.map((st,ht)=>{var vt;return((vt=l.item)==null?void 0:vt.call(l,{item:st,index:ht,props:ai(st.props,{onClick:()=>Ze(st)})}))??ae(ma,ai({key:ht},st.props,{onClick:()=>Ze(st)}),{prepend:kt=>{let{isSelected:Kt}=kt;return t.multiple&&!t.hideSelected?ae(wl,{modelValue:Kt,ripple:!1},null):void 0},title:()=>{var kt,Kt;return x.value?st.title:Dq(st.title,(kt=G(st))==null?void 0:kt.title,((Kt=K.value)==null?void 0:Kt.length)??0)}})}),(Ye=l["append-item"])==null?void 0:Ye.call(l)]}})]}),oe.value.map((Ue,Ae)=>{var ht;function Ye(vt){vt.stopPropagation(),vt.preventDefault(),Ze(Ue)}const st={"onClick:close":Ye,modelValue:!0,"onUpdate:modelValue":void 0};return ae("div",{key:Ue.value,class:["v-combobox__selection",Ae===F.value&&["v-combobox__selection--selected",Q.value]],style:Ae===F.value?N.value:{}},[at?l.chip?ae(Cn,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Ue.title}}},{default:()=>{var vt;return[(vt=l.chip)==null?void 0:vt.call(l,{item:Ue,index:Ae,props:st})]}}):ae(zc,ai({key:"chip",closable:t.closableChips,size:"small",text:Ue.title},st),null):((ht=l.selection)==null?void 0:ht.call(l,{item:Ue,index:Ae}))??ae("span",{class:"v-combobox__selection-text"},[Ue.title,t.multiple&&Ae<oe.value.length-1&&ae("span",{class:"v-combobox__selection-comma"},[pi(",")])])])})])})}),Co({isFocused:p,isPristine:x,menu:C,search:K,selectionIndex:F,filteredItems:le,select:Ze},f)}});const t0=Symbol.for("vuetify:v-expansion-panel"),Eq=["default","accordion","inset","popout"],_q=Lt()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:t=>Eq.includes(t)},readonly:Boolean,...xd(),...Xi(),...en()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;Vc(t,t0);const{themeClasses:l}=mn(t),c=_e(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return ks({VExpansionPanel:{color:Nt(t,"color")},VExpansionPanelTitle:{readonly:Nt(t,"readonly")}}),$t(()=>ae(t.tag,{class:["v-expansion-panels",l.value,c.value]},r)),{}}}),ZE=Ci({color:String,expandIcon:{type:Ni,default:"$expand"},collapseIcon:{type:Ni,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),JE=Lt()({name:"VExpansionPanelTitle",directives:{Ripple:Th},props:{...ZE()},setup(t,s){let{slots:r}=s;const l=Hi(t0);if(!l)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:c,backgroundColorStyles:f}=ds(t,"color"),p=_e(()=>({collapseIcon:t.collapseIcon,disabled:l.disabled.value,expanded:l.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return $t(()=>{var x;return ln(ae("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":l.isSelected.value},c.value],style:f.value,type:"button",tabindex:l.disabled.value?-1:void 0,disabled:l.disabled.value,"aria-expanded":l.isSelected.value,onClick:t.readonly?void 0:l.toggle},[ae("span",{class:"v-expansion-panel-title__overlay"},null),(x=r.default)==null?void 0:x.call(r,p.value),!t.hideActions&&ae("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(p.value):ae(Bi,{icon:l.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[Mr("ripple"),t.ripple]])}),{}}}),QE=Lt()({name:"VExpansionPanelText",props:{...tp()},setup(t,s){let{slots:r}=s;const l=Hi(t0);if(!l)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:c,onAfterLeave:f}=pb(t,l.isSelected);return $t(()=>ae(_r,{onAfterLeave:f},{default:()=>{var p;return[ln(ae("div",{class:"v-expansion-panel-text"},[r.default&&c.value&&ae("div",{class:"v-expansion-panel-text__wrapper"},[(p=r.default)==null?void 0:p.call(r)])]),[[Ka,l.isSelected.value]])]}})),{}}}),Fq=Lt()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...Es(),...yd(),...tp(),...Yn(),...Xi(),...ZE()},emits:{"group:selected":t=>!0},setup(t,s){let{slots:r}=s;const l=bd(t,t0),{backgroundColorClasses:c,backgroundColorStyles:f}=ds(t,"bgColor"),{elevationClasses:p}=er(t),{roundedClasses:x}=gs(t),w=_e(()=>(l==null?void 0:l.disabled.value)||t.disabled),P=_e(()=>l.group.items.value.reduce((L,B,U)=>(l.group.selected.value.includes(B.id)&&L.push(U),L),[])),C=_e(()=>{const L=l.group.items.value.findIndex(B=>B.id===l.id);return!l.isSelected.value&&P.value.some(B=>B-L===1)}),F=_e(()=>{const L=l.group.items.value.findIndex(B=>B.id===l.id);return!l.isSelected.value&&P.value.some(B=>B-L===-1)});return Tn(t0,l),$t(()=>{const L=!!(r.text||t.text),B=!!(r.title||t.title);return ae(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":l.isSelected.value,"v-expansion-panel--before-active":C.value,"v-expansion-panel--after-active":F.value,"v-expansion-panel--disabled":w.value},x.value,c.value],style:f.value,"aria-expanded":l.isSelected.value},{default:()=>{var U;return[ae("div",{class:["v-expansion-panel__shadow",...p.value]},null),B&&ae(JE,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[r.title?r.title():t.title]}),L&&ae(QE,{key:"text",eager:t.eager},{default:()=>[r.text?r.text():t.text]}),(U=r.default)==null?void 0:U.call(r)]}})}),{}}});const Nq=Lt()({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...Nl({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>Ya(t).every(s=>s!=null&&typeof s=="object")},...dp({clearable:!0})},emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:r,emit:l,slots:c}=s;const{t:f}=ea(),p=Ei(t,"modelValue"),x=_e(()=>typeof t.showSize!="boolean"?t.showSize:void 0),w=_e(()=>(p.value??[]).reduce((le,G)=>{let{size:oe=0}=G;return le+oe},0)),P=_e(()=>ck(w.value,x.value)),C=_e(()=>(p.value??[]).map(le=>{const{name:G="",size:oe=0}=le;return t.showSize?`${G} (${ck(oe,x.value)})`:G})),F=_e(()=>{var G;const le=((G=p.value)==null?void 0:G.length)??0;return t.showSize?f(t.counterSizeString,le,P.value):f(t.counterString,le)}),L=it(),B=it(),U=it(!1),Y=it(),Q=_e(()=>t.messages.length?t.messages:t.persistentHint?t.hint:"");function N(){var le;Y.value!==document.activeElement&&((le=Y.value)==null||le.focus()),U.value||(U.value=!0)}function X(le){Hg(t["onClick:prepend"],le),he(le)}function W(le){l("mousedown:control",le)}function he(le){var G;(G=Y.value)==null||G.click(),l("click:control",le)}function K(le){le.stopPropagation(),N(),on(()=>{p.value=[],Hg(t["onClick:clear"],le)})}return ui(p,le=>{(!Array.isArray(le)||!le.length)&&Y.value&&(Y.value.value="")}),$t(()=>{const le=!!(c.counter||t.counter),G=!!(le||c.details),[oe,fe]=Ic(r),[{modelValue:pe,...Te}]=Lh(t),[De]=wb(t);return ae(qo,ai({ref:L,modelValue:p.value,"onUpdate:modelValue":Me=>p.value=Me,class:"v-file-input","onClick:prepend":X,"onClick:append":t["onClick:append"]},oe,Te,{focused:U.value,messages:Q.value}),{...c,default:Me=>{let{id:He,isDisabled:je,isDirty:tt,isReadonly:Ze,isValid:ft}=Me;return ae(C0,ai({ref:B,"prepend-icon":t.prependIcon,onMousedown:W,onClick:he,"onClick:clear":K,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},De,{id:He.value,active:tt.value||U.value,dirty:tt.value,disabled:je.value,focused:U.value,error:ft.value===!1}),{...c,default:Je=>{var Ie;let{props:{class:dt,...at}}=Je;return ae(bi,null,[ae("input",ai({ref:Y,type:"file",readonly:Ze.value,disabled:je.value,multiple:t.multiple,name:t.name,onClick:qe=>{qe.stopPropagation(),N()},onChange:qe=>{if(!qe.target)return;const Ue=qe.target;p.value=[...Ue.files??[]]},onFocus:N,onBlur:()=>U.value=!1},at,fe),null),ae("div",{class:dt},[!!((Ie=p.value)!=null&&Ie.length)&&(c.selection?c.selection({fileNames:C.value,totalBytes:w.value,totalBytesReadable:P.value}):t.chips?C.value.map(qe=>ae(zc,{key:qe,size:"small",color:t.color},{default:()=>[qe]})):C.value.join(", "))])])}})},details:G?Me=>{var He,je;return ae(bi,null,[(He=c.details)==null?void 0:He.call(c,Me),le&&ae(bi,null,[ae("span",null,null),ae(fp,{active:!!((je=p.value)!=null&&je.length),value:F.value},c.counter)])])}:void 0})}),Co({},L,B,Y)}});const Lq=Lt()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ba(),...Es(),...ud(),...Yn(),...Xi({tag:"footer"}),...en()},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{backgroundColorClasses:c,backgroundColorStyles:f}=ds(Nt(t,"color")),{borderClasses:p}=Ja(t),{elevationClasses:x}=er(t),{roundedClasses:w}=gs(t),P=it(32),{resizeRef:C}=ph(B=>{B.length&&(P.value=B[0].target.clientHeight)}),F=_e(()=>t.height==="auto"?P.value:parseInt(t.height,10)),{layoutItemStyles:L}=dd({id:t.name,order:_e(()=>parseInt(t.order,10)),position:_e(()=>"bottom"),layoutSize:F,elementSize:_e(()=>t.height==="auto"?void 0:F.value),active:_e(()=>t.app),absolute:Nt(t,"absolute")});return $t(()=>ae(t.tag,{ref:C,class:["v-footer",l.value,c.value,p.value,x.value,w.value],style:[f.value,t.app?L.value:void 0]},r)),{}}}),Iq=Lt()({name:"VForm",props:{...K$()},emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,s){let{slots:r,emit:l}=s;const c=q$(t),f=it();function p(w){w.preventDefault(),c.reset()}function x(w){const P=w,C=c.validate();P.then=C.then.bind(C),P.catch=C.catch.bind(C),P.finally=C.finally.bind(C),l("submit",P),P.defaultPrevented||C.then(F=>{var B;let{valid:L}=F;L&&((B=f.value)==null||B.submit())}),P.preventDefault()}return $t(()=>{var w;return ae("form",{ref:f,class:"v-form",novalidate:!0,onReset:p,onSubmit:x},[(w=r.default)==null?void 0:w.call(r,c)])}),Co(c,f)}}),Oq=Lt()({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...$M()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{runOpenDelay:c,runCloseDelay:f}=KM(t,p=>!t.disabled&&(l.value=p));return()=>{var p;return(p=r.default)==null?void 0:p.call(r,{isHovering:l.value,props:{onMouseenter:c,onMouseleave:f}})}}});const e_=Symbol.for("vuetify:v-item-group"),Rq=Lt()({name:"VItemGroup",props:{...xd({selectedClass:"v-item--selected"}),...Xi(),...en()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{isSelected:c,select:f,next:p,prev:x,selected:w}=Vc(t,e_);return()=>ae(t.tag,{class:["v-item-group",l.value]},{default:()=>{var P;return[(P=r.default)==null?void 0:P.call(r,{isSelected:c,select:f,next:p,prev:x,selected:w.value})]}})}}),Bq=Lt()({name:"VItem",props:yd(),emits:{"group:selected":t=>!0},setup(t,s){let{slots:r}=s;const{isSelected:l,select:c,toggle:f,selectedClass:p,value:x,disabled:w}=bd(t,e_);return()=>{var P;return(P=r.default)==null?void 0:P.call(r,{isSelected:l.value,selectedClass:p.value,select:c,toggle:f,value:x.value,disabled:w.value})}}});const Vq=bo("v-kbd");const zq=Lt()({name:"VLayout",props:CT(),setup(t,s){let{slots:r}=s;const{layoutClasses:l,layoutStyles:c,getLayoutItem:f,items:p,layoutRef:x}=AT(t);return $t(()=>{var w;return ae("div",{ref:x,class:l.value,style:c.value},[(w=r.default)==null?void 0:w.call(r)])}),{getLayoutItem:f,items:p}}});const Xq=Lt()({name:"VLayoutItem",props:{position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...ud()},setup(t,s){let{slots:r}=s;const{layoutItemStyles:l}=dd({id:t.name,order:_e(()=>parseInt(t.order,10)),position:Nt(t,"position"),elementSize:Nt(t,"size"),layoutSize:Nt(t,"size"),active:Nt(t,"modelValue"),absolute:Nt(t,"absolute")});return()=>{var c;return ae("div",{class:["v-layout-item"],style:l.value},[(c=r.default)==null?void 0:c.call(r)])}}}),Hq=Lt()({name:"VLazy",directives:{intersect:Bm},props:{modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...ko(),...Xi(),...Dl({transition:"fade-transition"})},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{dimensionStyles:l}=So(t),c=Ei(t,"modelValue");function f(p){c.value||(c.value=p)}return $t(()=>ln(ae(t.tag,{class:"v-lazy",style:l.value},{default:()=>[c.value&&ae(Vo,{transition:t.transition,appear:!0},{default:()=>{var p;return[(p=r.default)==null?void 0:p.call(r)]}})]}),[[Mr("intersect"),{handler:f,options:t.options},null]])),{}}});const Yq=Lt()({name:"VLocaleProvider",props:{locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0}},setup(t,s){let{slots:r}=s;const{rtlClasses:l}=UR(t);return $t(()=>{var c;return ae("div",{class:["v-locale-provider",l.value]},[(c=r.default)==null?void 0:c.call(r)])}),{}}});const Uq=Lt()({name:"VMain",props:{scrollable:Boolean,...Xi({tag:"main"})},setup(t,s){let{slots:r}=s;const{mainStyles:l}=i3(),{ssrBootStyles:c}=Td();return $t(()=>ae(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable}],style:[l.value,c.value]},{default:()=>{var f,p;return[t.scrollable?ae("div",{class:"v-main__scroller"},[(f=r.default)==null?void 0:f.call(r)]):(p=r.default)==null?void 0:p.call(r)]}})),{}}});function Wq(t){let{rootEl:s,isSticky:r,layoutItemStyles:l}=t;const c=it(!1),f=it(0),p=_e(()=>{const P=typeof c.value=="boolean"?"top":c.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,c.value?{[P]:ci(f.value)}:{top:l.value.top}]});nn(()=>{ui(r,P=>{P?window.addEventListener("scroll",w,{passive:!0}):window.removeEventListener("scroll",w)},{immediate:!0})}),vr(()=>{document.removeEventListener("scroll",w)});let x=0;function w(){const P=x>window.scrollY?"up":"down",C=s.value.getBoundingClientRect(),F=parseFloat(l.value.top??0),L=window.scrollY-Math.max(0,f.value-F),B=C.height+Math.max(f.value,F)-window.scrollY-window.innerHeight;C.height<window.innerHeight-F?(c.value="top",f.value=F):P==="up"&&c.value==="bottom"||P==="down"&&c.value==="top"?(f.value=window.scrollY+C.top,c.value=!0):P==="down"&&B<=0?(f.value=0,c.value="bottom"):P==="up"&&L<=0&&(f.value=C.top+L,c.value="top"),x=window.scrollY}return{isStuck:c,stickyStyles:p}}const Gq=100,jq=20;function rS(t){const s=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*s}function aS(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let s=0;for(let r=t.length-1;r>0;r--){if(t[r].t===t[r-1].t)continue;const l=rS(s),c=(t[r].d-t[r-1].d)/(t[r].t-t[r-1].t);s+=(c-l)*Math.abs(c),r===t.length-1&&(s*=.5)}return rS(s)*1e3}function $q(){const t={};function s(c){Array.from(c.changedTouches).forEach(f=>{(t[f.identifier]??(t[f.identifier]=new lR(jq))).push([c.timeStamp,f])})}function r(c){Array.from(c.changedTouches).forEach(f=>{delete t[f.identifier]})}function l(c){var P;const f=(P=t[c])==null?void 0:P.values().reverse();if(!f)throw new Error(`No samples for touch id ${c}`);const p=f[0],x=[],w=[];for(const C of f){if(p[0]-C[0]>Gq)break;x.push({t:C[0],d:C[1].clientX}),w.push({t:C[0],d:C[1].clientY})}return{x:aS(x),y:aS(w),get direction(){const{x:C,y:F}=this,[L,B]=[Math.abs(C),Math.abs(F)];return L>B&&C>=0?"right":L>B&&C<=0?"left":B>L&&F>=0?"down":B>L&&F<=0?"up":Kq()}}}return{addMovement:s,endTouch:r,getVelocity:l}}function Kq(){throw new Error}function qq(t){let{isActive:s,isTemporary:r,width:l,touchless:c,position:f}=t;nn(()=>{window.addEventListener("touchstart",N,{passive:!0}),window.addEventListener("touchmove",X,{passive:!1}),window.addEventListener("touchend",W,{passive:!0})}),vr(()=>{window.removeEventListener("touchstart",N),window.removeEventListener("touchmove",X),window.removeEventListener("touchend",W)});const p=_e(()=>["left","right"].includes(f.value)),{addMovement:x,endTouch:w,getVelocity:P}=$q();let C=!1;const F=it(!1),L=it(0),B=it(0);let U;function Y(K,le){return(f.value==="left"?K:f.value==="right"?document.documentElement.clientWidth-K:f.value==="top"?K:f.value==="bottom"?document.documentElement.clientHeight-K:fu())-(le?l.value:0)}function Q(K){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const G=f.value==="left"?(K-B.value)/l.value:f.value==="right"?(document.documentElement.clientWidth-K-B.value)/l.value:f.value==="top"?(K-B.value)/l.value:f.value==="bottom"?(document.documentElement.clientHeight-K-B.value)/l.value:fu();return le?Math.max(0,Math.min(1,G)):G}function N(K){if(c.value)return;const le=K.changedTouches[0].clientX,G=K.changedTouches[0].clientY,oe=25,fe=f.value==="left"?le<oe:f.value==="right"?le>document.documentElement.clientWidth-oe:f.value==="top"?G<oe:f.value==="bottom"?G>document.documentElement.clientHeight-oe:fu(),pe=s.value&&(f.value==="left"?le<l.value:f.value==="right"?le>document.documentElement.clientWidth-l.value:f.value==="top"?G<l.value:f.value==="bottom"?G>document.documentElement.clientHeight-l.value:fu());(fe||pe||s.value&&r.value)&&(C=!0,U=[le,G],B.value=Y(p.value?le:G,s.value),L.value=Q(p.value?le:G),w(K),x(K))}function X(K){const le=K.changedTouches[0].clientX,G=K.changedTouches[0].clientY;if(C){if(!K.cancelable){C=!1;return}const fe=Math.abs(le-U[0]),pe=Math.abs(G-U[1]);(p.value?fe>pe&&fe>3:pe>fe&&pe>3)?(F.value=!0,C=!1):(p.value?pe:fe)>3&&(C=!1)}if(!F.value)return;K.preventDefault(),x(K);const oe=Q(p.value?le:G,!1);L.value=Math.max(0,Math.min(1,oe)),oe>1?B.value=Y(p.value?le:G,!0):oe<0&&(B.value=Y(p.value?le:G,!1))}function W(K){if(C=!1,!F.value)return;x(K),F.value=!1;const le=P(K.changedTouches[0].identifier),G=Math.abs(le.x),oe=Math.abs(le.y);(p.value?G>oe&&G>400:oe>G&&oe>3)?s.value=le.direction===({left:"right",right:"left",top:"down",bottom:"up"}[f.value]||fu()):s.value=L.value>.5}const he=_e(()=>F.value?{transform:f.value==="left"?`translateX(calc(-100% + ${L.value*l.value}px))`:f.value==="right"?`translateX(calc(100% - ${L.value*l.value}px))`:f.value==="top"?`translateY(calc(-100% + ${L.value*l.value}px))`:f.value==="bottom"?`translateY(calc(100% - ${L.value*l.value}px))`:fu(),transition:"none"}:void 0);return{isDragging:F,dragProgress:L,dragStyles:he}}function fu(){throw new Error}const Zq=["start","end","left","right","top","bottom"],Jq=Lt()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Zq.includes(t)},sticky:Boolean,...ba(),...Es(),...ud(),...Yn(),...Xi({tag:"nav"}),...en()},emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,s){let{attrs:r,emit:l,slots:c}=s;const{isRtl:f}=Cl(),{themeClasses:p}=mn(t),{borderClasses:x}=Ja(t),{backgroundColorClasses:w,backgroundColorStyles:P}=ds(Nt(t,"color")),{elevationClasses:C}=er(t),{mobile:F}=Qr(),{roundedClasses:L}=gs(t),B=rP(),U=Ei(t,"modelValue",null,Ze=>!!Ze),{ssrBootStyles:Y}=Td(),Q=it(),N=it(!1),X=_e(()=>t.rail&&t.expandOnHover&&N.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),W=_e(()=>xx(t.location,f.value)),he=_e(()=>!t.permanent&&(F.value||t.temporary)),K=_e(()=>t.sticky&&!he.value&&W.value!=="bottom");t.expandOnHover&&t.rail!=null&&ui(N,Ze=>l("update:rail",!Ze)),t.disableResizeWatcher||ui(he,Ze=>!t.permanent&&on(()=>U.value=!Ze)),!t.disableRouteWatcher&&B&&ui(B.currentRoute,()=>he.value&&(U.value=!1)),ui(()=>t.permanent,Ze=>{Ze&&(U.value=!0)}),a0(()=>{t.modelValue!=null||he.value||(U.value=t.permanent||!F.value)});const{isDragging:le,dragProgress:G,dragStyles:oe}=qq({isActive:U,isTemporary:he,width:X,touchless:Nt(t,"touchless"),position:W}),fe=_e(()=>{const Ze=he.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):X.value;return le.value?Ze*G.value:Ze}),{layoutItemStyles:pe,layoutRect:Te,layoutItemScrimStyles:De}=dd({id:t.name,order:_e(()=>parseInt(t.order,10)),position:W,layoutSize:fe,elementSize:X,active:_e(()=>U.value||le.value),disableTransitions:_e(()=>le.value),absolute:_e(()=>t.absolute||K.value&&typeof Me.value!="string")}),{isStuck:Me,stickyStyles:He}=Wq({rootEl:Q,isSticky:K,layoutItemStyles:pe}),je=ds(_e(()=>typeof t.scrim=="string"?t.scrim:null)),tt=_e(()=>({...le.value?{opacity:G.value*.2,transition:"none"}:void 0,...Te.value?{left:ci(Te.value.left),right:ci(Te.value.right),top:ci(Te.value.top),bottom:ci(Te.value.bottom)}:void 0,...De.value}));return ks({VList:{bgColor:"transparent"}}),$t(()=>{const Ze=c.image||t.image;return ae(bi,null,[ae(t.tag,ai({ref:Q,onMouseenter:()=>N.value=!0,onMouseleave:()=>N.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${W.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":N.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":he.value,"v-navigation-drawer--active":U.value,"v-navigation-drawer--sticky":K.value},p.value,w.value,x.value,C.value,L.value],style:[P.value,pe.value,oe.value,Y.value,He.value]},r),{default:()=>{var ft,Je,dt,at;return[Ze&&ae("div",{key:"image",class:"v-navigation-drawer__img"},[c.image?(ft=c.image)==null?void 0:ft.call(c,{image:t.image}):ae("img",{src:t.image,alt:""},null)]),c.prepend&&ae("div",{class:"v-navigation-drawer__prepend"},[(Je=c.prepend)==null?void 0:Je.call(c)]),ae("div",{class:"v-navigation-drawer__content"},[(dt=c.default)==null?void 0:dt.call(c)]),c.append&&ae("div",{class:"v-navigation-drawer__append"},[(at=c.append)==null?void 0:at.call(c)])]}}),ae(Ga,{name:"fade-transition"},{default:()=>[he.value&&(le.value||U.value)&&!!t.scrim&&ae("div",{class:["v-navigation-drawer__scrim",je.backgroundColorClasses.value],style:[tt.value,je.backgroundColorStyles.value],onClick:()=>U.value=!1},null)]})])}),{isStuck:Me}}}),Qq=Jr({name:"VNoSsr",setup(t,s){let{slots:r}=s;const l=JM();return()=>{var c;return l.value&&((c=r.default)==null?void 0:c.call(r))}}});function eZ(){const t=it([]);P1(()=>t.value=[]);function s(r,l){t.value[l]=r}return{refs:t,updateRef:s}}const tZ=Lt()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:Ni,default:"$first"},prevIcon:{type:Ni,default:"$prev"},nextIcon:{type:Ni,default:"$next"},lastIcon:{type:Ni,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ba(),...Os(),...Es(),...Yn(),...Pl(),...Xi({tag:"nav"}),...en(),...Za({variant:"text"})},emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,s){let{slots:r,emit:l}=s;const c=Ei(t,"modelValue"),{t:f,n:p}=ea(),{isRtl:x}=Cl(),{themeClasses:w}=mn(t),{width:P}=Qr(),C=it(-1);ks(void 0,{scoped:!0});const{resizeRef:F}=ph(oe=>{if(!oe.length)return;const{target:fe,contentRect:pe}=oe[0],Te=fe.querySelector(".v-pagination__list > *");if(!Te)return;const De=pe.width,Me=Te.offsetWidth+parseFloat(getComputedStyle(Te).marginRight)*2;C.value=Y(De,Me)}),L=_e(()=>parseInt(t.length,10)),B=_e(()=>parseInt(t.start,10)),U=_e(()=>t.totalVisible?parseInt(t.totalVisible,10):C.value>=0?C.value:Y(P.value,58));function Y(oe,fe){const pe=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((oe-fe*pe)/fe).toFixed(2)))}const Q=_e(()=>{if(L.value<=0||isNaN(L.value)||L.value>Number.MAX_SAFE_INTEGER)return[];if(U.value<=1)return[c.value];if(L.value<=U.value)return ol(L.value,B.value);const oe=U.value%2===0,fe=oe?U.value/2:Math.floor(U.value/2),pe=oe?fe:fe+1,Te=L.value-fe;if(pe-c.value>=0)return[...ol(Math.max(1,U.value-1),B.value),t.ellipsis,L.value];if(c.value-Te>=(oe?1:0)){const De=U.value-1,Me=L.value-De+B.value;return[B.value,t.ellipsis,...ol(De,Me)]}else{const De=Math.max(1,U.value-3),Me=De===1?c.value:c.value-Math.ceil(De/2)+B.value;return[B.value,t.ellipsis,...ol(De,Me),t.ellipsis,L.value]}});function N(oe,fe,pe){oe.preventDefault(),c.value=fe,pe&&l(pe,fe)}const{refs:X,updateRef:W}=eZ();ks({VPaginationBtn:{color:Nt(t,"color"),border:Nt(t,"border"),density:Nt(t,"density"),size:Nt(t,"size"),variant:Nt(t,"variant"),rounded:Nt(t,"rounded"),elevation:Nt(t,"elevation")}});const he=_e(()=>Q.value.map((oe,fe)=>{const pe=Te=>W(Te,fe);if(typeof oe=="string")return{isActive:!1,key:`ellipsis-${fe}`,page:oe,props:{ref:pe,ellipsis:!0,icon:!0,disabled:!0}};{const Te=oe===c.value;return{isActive:Te,key:oe,page:p(oe),props:{ref:pe,ellipsis:!1,icon:!0,disabled:!!t.disabled||t.length<2,color:Te?t.activeColor:t.color,ariaCurrent:Te,ariaLabel:f(Te?t.currentPageAriaLabel:t.pageAriaLabel,oe),onClick:De=>N(De,oe)}}}})),K=_e(()=>{const oe=!!t.disabled||c.value<=B.value,fe=!!t.disabled||c.value>=B.value+L.value-1;return{first:t.showFirstLastPage?{icon:x.value?t.lastIcon:t.firstIcon,onClick:pe=>N(pe,B.value,"first"),disabled:oe,ariaLabel:f(t.firstAriaLabel),ariaDisabled:oe}:void 0,prev:{icon:x.value?t.nextIcon:t.prevIcon,onClick:pe=>N(pe,c.value-1,"prev"),disabled:oe,ariaLabel:f(t.previousAriaLabel),ariaDisabled:oe},next:{icon:x.value?t.prevIcon:t.nextIcon,onClick:pe=>N(pe,c.value+1,"next"),disabled:fe,ariaLabel:f(t.nextAriaLabel),ariaDisabled:fe},last:t.showFirstLastPage?{icon:x.value?t.firstIcon:t.lastIcon,onClick:pe=>N(pe,B.value+L.value-1,"last"),disabled:fe,ariaLabel:f(t.lastAriaLabel),ariaDisabled:fe}:void 0}});function le(){var fe;const oe=c.value-B.value;(fe=X.value[oe])==null||fe.$el.focus()}function G(oe){oe.key===px.left&&!t.disabled&&c.value>t.start?(c.value=c.value-1,on(le)):oe.key===px.right&&!t.disabled&&c.value<B.value+L.value-1&&(c.value=c.value+1,on(le))}return $t(()=>ae(t.tag,{ref:F,class:["v-pagination",w.value],role:"navigation","aria-label":f(t.ariaLabel),onKeydown:G,"data-test":"v-pagination-root"},{default:()=>[ae("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&ae("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(K.value.first):ae(xn,ai({_as:"VPaginationBtn"},K.value.first),null)]),ae("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(K.value.prev):ae(xn,ai({_as:"VPaginationBtn"},K.value.prev),null)]),he.value.map((oe,fe)=>ae("li",{key:oe.key,class:["v-pagination__item",{"v-pagination__item--is-active":oe.isActive}],"data-test":"v-pagination-item"},[r.item?r.item(oe):ae(xn,ai({_as:"VPaginationBtn"},oe.props),{default:()=>[oe.page]})])),ae("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(K.value.next):ae(xn,ai({_as:"VPaginationBtn"},K.value.next),null)]),t.showFirstLastPage&&ae("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(K.value.last):ae(xn,ai({_as:"VPaginationBtn"},K.value.last),null)])])]})),{}}});function iZ(t){return Math.floor(Math.abs(t))*Math.sign(t)}const nZ=Lt()({name:"VParallax",props:{scale:{type:[Number,String],default:.5}},setup(t,s){let{slots:r}=s;const{intersectionRef:l,isIntersecting:c}=py(),{resizeRef:f,contentRect:p}=ph(),{height:x}=Qr(),w=it();Pr(()=>{var B;l.value=f.value=(B=w.value)==null?void 0:B.$el});let P;ui(c,B=>{B?(P=gT(l.value),P=P===document.scrollingElement?document:P,P.addEventListener("scroll",L,{passive:!0}),L()):P.removeEventListener("scroll",L)}),vr(()=>{P==null||P.removeEventListener("scroll",L)}),ui(x,L),ui(()=>{var B;return(B=p.value)==null?void 0:B.height},L);const C=_e(()=>1-ga(+t.scale));let F=-1;function L(){c.value&&(cancelAnimationFrame(F),F=requestAnimationFrame(()=>{var K;const B=((K=w.value)==null?void 0:K.$el).querySelector(".v-img__img");if(!B)return;const U=P instanceof Document?document.documentElement.clientHeight:P.clientHeight,Y=P instanceof Document?window.scrollY:P.scrollTop,Q=l.value.getBoundingClientRect().top+Y,N=p.value.height,X=Q+(N-U)/2,W=iZ((Y-X)*C.value),he=Math.max(1,(C.value*(U-N)+N)/N);B.style.setProperty("transform",`translateY(${W}px) scale(${he})`)}))}return $t(()=>ae(md,{class:["v-parallax",{"v-parallax--active":c.value}],ref:w,cover:!0,onLoadstart:L,onLoad:L},r)),{}}}),sZ=Lt()({name:"VRadio",props:{...hp({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(t,s){let{slots:r}=s;return $t(()=>ae(rd,ai(t,{class:"v-radio",type:"radio"}),r)),{}}});const rZ=Lt()({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...Nl(),...Ah(bb(),["multiple"]),trueIcon:{type:Ni,default:"$radioOn"},falseIcon:{type:Ni,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:r,slots:l}=s;const c=yr(),f=_e(()=>t.id||`radio-group-${c}`),p=Ei(t,"modelValue");return $t(()=>{const[x,w]=Ic(r),[P,C]=Lh(t),[F,L]=rd.filterProps(t),B=l.label?l.label({label:t.label,props:{for:f.value}}):t.label;return ae(qo,ai({class:"v-radio-group"},x,P,{modelValue:p.value,"onUpdate:modelValue":U=>p.value=U,id:f.value}),{...l,default:U=>{let{id:Y,messagesId:Q,isDisabled:N,isReadonly:X}=U;return ae(bi,null,[B&&ae(Ad,{id:Y.value},{default:()=>[B]}),ae(CE,ai(F,{id:Y.value,"aria-describedby":Q.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:N.value,readonly:X.value,"aria-labelledby":B?Y.value:void 0,multiple:!1},w,{modelValue:p.value,"onUpdate:modelValue":W=>p.value=W}),l)])}})}),{}}}),aZ=Lt()({name:"VRangeSlider",props:{...lp(),...Nl(),...jE(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=it(),c=it(),f=it();function p(G){if(!l.value||!c.value)return;const oe=s1(G,l.value.$el,t.direction),fe=s1(G,c.value.$el,t.direction),pe=Math.abs(oe),Te=Math.abs(fe);return pe<Te||pe===Te&&oe<0?l.value.$el:c.value.$el}const{activeThumbRef:x,hasLabels:w,max:P,min:C,mousePressed:F,onSliderMousedown:L,onSliderTouchstart:B,position:U,roundValue:Y,trackContainerRef:Q}=$E({props:t,handleSliderMouseUp:G=>{var oe;N.value=x.value===((oe=l.value)==null?void 0:oe.$el)?[G,N.value[1]]:[N.value[0],G]},handleMouseMove:G=>{var pe,Te,De,Me;const[oe,fe]=N.value;!t.strict&&oe===fe&&oe!==C.value&&(x.value=G>oe?(pe=c.value)==null?void 0:pe.$el:(Te=l.value)==null?void 0:Te.$el,(De=x.value)==null||De.focus()),x.value===((Me=l.value)==null?void 0:Me.$el)?N.value=[Math.min(G,fe),fe]:N.value=[oe,Math.max(oe,G)]},getActiveThumb:p}),N=Ei(t,"modelValue",void 0,G=>!G||!G.length?[0,0]:G.map(oe=>Y(oe))),{isFocused:X,focus:W,blur:he}=jc(t),K=_e(()=>U(N.value[0])),le=_e(()=>U(N.value[1]));return $t(()=>{const[G,oe]=Lh(t),fe=!!(t.label||r.label||r.prepend);return ae(qo,ai({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||w.value,"v-slider--focused":X.value,"v-slider--pressed":F.value,"v-slider--disabled":t.disabled}],ref:f},G,{focused:X.value}),{...r,prepend:fe?pe=>{var Te,De;return ae(bi,null,[((Te=r.label)==null?void 0:Te.call(r,pe))??t.label?ae(Ad,{class:"v-slider__label",text:t.label},null):void 0,(De=r.prepend)==null?void 0:De.call(r,pe)])}:void 0,default:pe=>{var Me,He;let{id:Te,messagesId:De}=pe;return ae("div",{class:"v-slider__container",onMousedown:L,onTouchstartPassive:B},[ae("input",{id:`${Te.value}_start`,name:t.name||Te.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:N.value[0]},null),ae("input",{id:`${Te.value}_stop`,name:t.name||Te.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:N.value[1]},null),ae(KE,{ref:Q,start:K.value,stop:le.value},{"tick-label":r["tick-label"]}),ae(r1,{ref:l,"aria-describedby":De.value,focused:X&&x.value===((Me=l.value)==null?void 0:Me.$el),modelValue:N.value[0],"onUpdate:modelValue":je=>N.value=[je,N.value[1]],onFocus:je=>{var tt,Ze,ft,Je;W(),x.value=(tt=l.value)==null?void 0:tt.$el,N.value[0]===N.value[1]&&N.value[1]===C.value&&je.relatedTarget!==((Ze=c.value)==null?void 0:Ze.$el)&&((ft=l.value)==null||ft.$el.blur(),(Je=c.value)==null||Je.$el.focus())},onBlur:()=>{he(),x.value=void 0},min:C.value,max:N.value[1],position:K.value},{"thumb-label":r["thumb-label"]}),ae(r1,{ref:c,"aria-describedby":De.value,focused:X&&x.value===((He=c.value)==null?void 0:He.$el),modelValue:N.value[1],"onUpdate:modelValue":je=>N.value=[N.value[0],je],onFocus:je=>{var tt,Ze,ft,Je;W(),x.value=(tt=c.value)==null?void 0:tt.$el,N.value[0]===N.value[1]&&N.value[0]===P.value&&je.relatedTarget!==((Ze=l.value)==null?void 0:Ze.$el)&&((ft=c.value)==null||ft.$el.blur(),(Je=l.value)==null||Je.$el.focus())},onBlur:()=>{he(),x.value=void 0},min:N.value[0],max:P.value,position:le.value},{"thumb-label":r["thumb-label"]})])}})}),{}}});const oZ=Lt()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ni,default:"$ratingEmpty"},fullIcon:{type:Ni,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...Os(),...Pl(),...Xi(),...en()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{t:l}=ea(),{themeClasses:c}=mn(t),f=Ei(t,"modelValue"),p=_e(()=>ga(parseFloat(f.value),0,+t.length)),x=_e(()=>ol(Number(t.length),1)),w=_e(()=>x.value.flatMap(he=>t.halfIncrements?[he-.5,he]:[he])),P=it(-1),C=it(-1),F=it();let L=!1;const B=_e(()=>w.value.map(he=>{const K=t.hover&&P.value>-1,le=p.value>=he,G=P.value>=he,fe=(K?G:le)?t.fullIcon:t.emptyIcon,pe=t.activeColor??t.color,Te=le||G?pe:t.color;return{isFilled:le,isHovered:G,icon:fe,color:Te}})),U=_e(()=>[0,...w.value].map(he=>{function K(){P.value=he}function le(){P.value=-1}function G(){var pe;he===0&&p.value===0?(pe=F.value)==null||pe.focus():C.value=he}function oe(){L||(C.value=-1)}function fe(){t.disabled||t.readonly||(f.value=p.value===he&&t.clearable?0:he)}return{onMouseenter:t.hover?K:void 0,onMouseleave:t.hover?le:void 0,onFocus:G,onBlur:oe,onClick:fe}}));function Y(){L=!0}function Q(){L=!1}const N=_e(()=>t.name??`v-rating-${yr()}`);function X(he){var je,tt;let{value:K,index:le,showStar:G=!0}=he;const{onMouseenter:oe,onMouseleave:fe,onFocus:pe,onBlur:Te,onClick:De}=U.value[le+1],Me=`${N.value}-${String(K).replace(".","-")}`,He={color:(je=B.value[le])==null?void 0:je.color,density:t.density,disabled:t.disabled,icon:(tt=B.value[le])==null?void 0:tt.icon,ripple:t.ripple,size:t.size,tag:"span",variant:"plain"};return ae(bi,null,[ae("label",{for:Me,class:{"v-rating__item--half":t.halfIncrements&&K%1>0,"v-rating__item--full":t.halfIncrements&&K%1===0},onMousedown:Y,onMouseup:Q,onMouseenter:oe,onMouseleave:fe},[ae("span",{class:"v-rating__hidden"},[l(t.itemAriaLabel,K,t.length)]),G?r.item?r.item({...B.value[le],props:He,value:K,index:le}):ae(xn,He,null):void 0]),ae("input",{class:"v-rating__hidden",name:N.value,id:Me,type:"radio",value:K,checked:p.value===K,onClick:De,onFocus:pe,onBlur:Te,ref:le===0?F:void 0,readonly:t.readonly,disabled:t.disabled},null)])}function W(he){return r["item-label"]?r["item-label"](he):he.label?ae("span",null,[he.label]):ae("span",null,[pi("")])}return $t(()=>{var K;const he=!!((K=t.itemLabels)!=null&&K.length)||r["item-label"];return ae(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},c.value]},{default:()=>[ae(X,{value:0,index:-1,showStar:!1},null),x.value.map((le,G)=>{var oe,fe;return ae("div",{class:"v-rating__wrapper"},[he&&t.itemLabelPosition==="top"?W({value:le,index:G,label:(oe=t.itemLabels)==null?void 0:oe[G]}):void 0,ae("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(C.value)===le}]},[t.halfIncrements?ae(bi,null,[ae(X,{value:le-.5,index:G*2},null),ae(X,{value:le,index:G*2+1},null)]):ae(X,{value:le,index:G},null)]),he&&t.itemLabelPosition==="bottom"?W({value:le,index:G,label:(fe=t.itemLabels)==null?void 0:fe[G]}):void 0])})]})}),{}}});function oS(t){const r=Math.abs(t);return Math.sign(t)*(r/((1/.501-2)*(1-r)+1))}function lS(t){let{selectedElement:s,containerSize:r,contentSize:l,isRtl:c,currentScrollOffset:f,isHorizontal:p}=t;const x=p?s.clientWidth:s.clientHeight,w=p?s.offsetLeft:s.offsetTop,P=c&&p?l-w-x:w,C=r+f,F=x+P,L=x*.4;return P<=f?f=Math.max(P-L,0):C<=F&&(f=Math.min(f-(C-F-L),l-r)),f}function lZ(t){let{selectedElement:s,containerSize:r,contentSize:l,isRtl:c,isHorizontal:f}=t;const p=f?s.clientWidth:s.clientHeight,x=f?s.offsetLeft:s.offsetTop,w=c&&f?l-x-p/2-r/2:x+p/2-r/2;return Math.min(l-r,Math.max(0,w))}const t_=Symbol.for("vuetify:v-slide-group"),i_=Lt()({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:t_},nextIcon:{type:Ni,default:"$next"},prevIcon:{type:Ni,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Xi(),...xd({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const{isRtl:l}=Cl(),{mobile:c}=Qr(),f=Vc(t,t.symbol),p=it(!1),x=it(0),w=it(0),P=it(0),C=_e(()=>t.direction==="horizontal"),{resizeRef:F,contentRect:L}=ph(),{resizeRef:B,contentRect:U}=ph(),Y=_e(()=>f.selected.value.length?f.items.value.findIndex(dt=>dt.id===f.selected.value[0]):-1),Q=_e(()=>f.selected.value.length?f.items.value.findIndex(dt=>dt.id===f.selected.value[f.selected.value.length-1]):-1);if(ws){let dt=-1;ui(()=>[f.selected.value,L.value,U.value,C.value],()=>{cancelAnimationFrame(dt),dt=requestAnimationFrame(()=>{if(L.value&&U.value){const at=C.value?"width":"height";w.value=L.value[at],P.value=U.value[at],p.value=w.value+1<P.value}if(Y.value>=0&&B.value){const at=B.value.children[Q.value];Y.value===0||!p.value?x.value=0:t.centerActive?x.value=lZ({selectedElement:at,containerSize:w.value,contentSize:P.value,isRtl:l.value,isHorizontal:C.value}):p.value&&(x.value=lS({selectedElement:at,containerSize:w.value,contentSize:P.value,isRtl:l.value,currentScrollOffset:x.value,isHorizontal:C.value}))}})})}const N=it(!1);let X=0,W=0;function he(dt){const at=C.value?"clientX":"clientY";W=(l.value&&C.value?-1:1)*x.value,X=dt.touches[0][at],N.value=!0}function K(dt){if(!p.value)return;const at=C.value?"clientX":"clientY",Ie=l.value&&C.value?-1:1;x.value=Ie*(W+X-dt.touches[0][at])}function le(dt){const at=P.value-w.value;x.value<0||!p.value?x.value=0:x.value>=at&&(x.value=at),N.value=!1}function G(){F.value&&(F.value[C.value?"scrollLeft":"scrollTop"]=0)}const oe=it(!1);function fe(dt){if(oe.value=!0,!(!p.value||!B.value)){for(const at of dt.composedPath())for(const Ie of B.value.children)if(Ie===at){x.value=lS({selectedElement:Ie,containerSize:w.value,contentSize:P.value,isRtl:l.value,currentScrollOffset:x.value,isHorizontal:C.value});return}}}function pe(dt){oe.value=!1}function Te(dt){var at;!oe.value&&!(dt.relatedTarget&&((at=B.value)!=null&&at.contains(dt.relatedTarget)))&&Me()}function De(dt){B.value&&(C.value?dt.key==="ArrowRight"?Me(l.value?"prev":"next"):dt.key==="ArrowLeft"&&Me(l.value?"next":"prev"):dt.key==="ArrowDown"?Me("next"):dt.key==="ArrowUp"&&Me("prev"),dt.key==="Home"?Me("first"):dt.key==="End"&&Me("last"))}function Me(dt){var at,Ie,qe,Ue,Ae;if(B.value)if(!dt)(at=[...B.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(st=>!st.hasAttribute("disabled"))[0])==null||at.focus();else if(dt==="next"){const Ye=(Ie=B.value.querySelector(":focus"))==null?void 0:Ie.nextElementSibling;Ye?Ye.focus():Me("first")}else if(dt==="prev"){const Ye=(qe=B.value.querySelector(":focus"))==null?void 0:qe.previousElementSibling;Ye?Ye.focus():Me("last")}else dt==="first"?(Ue=B.value.firstElementChild)==null||Ue.focus():dt==="last"&&((Ae=B.value.lastElementChild)==null||Ae.focus())}function He(dt){const at=x.value+(dt==="prev"?-1:1)*w.value;x.value=ga(at,0,P.value-w.value)}const je=_e(()=>{let dt=x.value>P.value-w.value?-(P.value-w.value)+oS(P.value-w.value-x.value):-x.value;x.value<=0&&(dt=oS(-x.value));const at=l.value&&C.value?-1:1;return{transform:`translate${C.value?"X":"Y"}(${at*dt}px)`,transition:N.value?"none":"",willChange:N.value?"transform":""}}),tt=_e(()=>({next:f.next,prev:f.prev,select:f.select,isSelected:f.isSelected})),Ze=_e(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!c.value;case!0:return p.value||Math.abs(x.value)>0;case"mobile":return c.value||p.value||Math.abs(x.value)>0;default:return!c.value&&(p.value||Math.abs(x.value)>0)}}),ft=_e(()=>Math.abs(x.value)>0),Je=_e(()=>P.value>Math.abs(x.value)+w.value);return $t(()=>ae(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":Ze.value,"v-slide-group--is-overflowing":p.value}],tabindex:oe.value||f.selected.value.length?-1:0,onFocus:Te},{default:()=>{var dt,at,Ie;return[Ze.value&&ae("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ft.value}],onClick:()=>He("prev")},[((dt=r.prev)==null?void 0:dt.call(r,tt.value))??ae(Fx,null,{default:()=>[ae(Bi,{icon:l.value?t.nextIcon:t.prevIcon},null)]})]),ae("div",{key:"container",ref:F,class:"v-slide-group__container",onScroll:G},[ae("div",{ref:B,class:"v-slide-group__content",style:je.value,onTouchstartPassive:he,onTouchmovePassive:K,onTouchendPassive:le,onFocusin:fe,onFocusout:pe,onKeydown:De},[(at=r.default)==null?void 0:at.call(r,tt.value)])]),Ze.value&&ae("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Je.value}],onClick:()=>He("next")},[((Ie=r.next)==null?void 0:Ie.call(r,tt.value))??ae(Fx,null,{default:()=>[ae(Bi,{icon:l.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:f.selected,scrollTo:He,scrollOffset:x,focus:Me}}}),hZ=Lt()({name:"VSlideGroupItem",props:{...yd()},emits:{"group:selected":t=>!0},setup(t,s){let{slots:r}=s;const l=bd(t,t_);return()=>{var c;return(c=r.default)==null?void 0:c.call(r,{isSelected:l.isSelected.value,select:l.select,toggle:l.toggle,selectedClass:l.selectedClass.value})}}});const cZ=Lt()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Nl(),...hp()},emits:{"update:focused":t=>!0,"update:modelValue":()=>!0,"update:indeterminate":t=>!0},setup(t,s){let{attrs:r,slots:l}=s;const c=Ei(t,"indeterminate"),f=Ei(t,"modelValue"),{loaderClasses:p}=l0(t),{isFocused:x,focus:w,blur:P}=jc(t),C=_e(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),F=yr(),L=_e(()=>t.id||`switch-${F}`);function B(){c.value&&(c.value=!1)}return $t(()=>{const[U,Y]=Ic(r),[Q,N]=Lh(t),[X,W]=rd.filterProps(t),he=it();function K(){var le,G;(G=(le=he.value)==null?void 0:le.input)==null||G.click()}return ae(qo,ai({class:["v-switch",{"v-switch--inset":t.inset},{"v-switch--indeterminate":c.value},p.value]},U,Q,{id:L.value,focused:x.value}),{...l,default:le=>{let{id:G,messagesId:oe,isDisabled:fe,isReadonly:pe,isValid:Te}=le;return ae(rd,ai({ref:he},X,{modelValue:f.value,"onUpdate:modelValue":[De=>f.value=De,B],id:G.value,"aria-describedby":oe.value,type:"checkbox","aria-checked":c.value?"mixed":void 0,disabled:fe.value,readonly:pe.value,onFocus:w,onBlur:P},Y),{...l,default:()=>ae("div",{class:"v-switch__track",onClick:K},null),input:De=>{let{textColorClasses:Me,textColorStyles:He}=De;return ae("div",{class:["v-switch__thumb",Me.value],style:He.value},[t.loading&&ae(Hm,{name:"v-switch",active:!0,color:Te.value===!1?void 0:C.value},{default:je=>l.loader?l.loader(je):ae(yy,{active:je.isActive,color:je.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const uZ=Lt()({name:"VSystemBar",props:{color:String,height:[Number,String],window:Boolean,...Es(),...ud(),...Yn(),...Xi(),...en()},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{backgroundColorClasses:c,backgroundColorStyles:f}=ds(Nt(t,"color")),{elevationClasses:p}=er(t),{roundedClasses:x}=gs(t),{ssrBootStyles:w}=Td(),P=_e(()=>t.height??(t.window?32:24)),{layoutItemStyles:C}=dd({id:t.name,order:_e(()=>parseInt(t.order,10)),position:it("top"),layoutSize:P,elementSize:P,active:_e(()=>!0),absolute:Nt(t,"absolute")});return $t(()=>ae(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},l.value,c.value,p.value,x.value],style:[f.value,C.value,w.value]},r)),{}}});const n_=Symbol.for("vuetify:v-tabs"),s_=Lt()({name:"VTab",props:{fixed:Boolean,title:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ah(hP({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},setup(t,s){let{slots:r,attrs:l}=s;const{textColorClasses:c,textColorStyles:f}=Er(t,"sliderColor"),p=_e(()=>t.direction==="horizontal"),x=it(!1),w=it(),P=it();function C(F){var B,U;let{value:L}=F;if(x.value=L,L){const Y=(U=(B=w.value)==null?void 0:B.$el.parentElement)==null?void 0:U.querySelector(".v-tab--selected .v-tab__slider"),Q=P.value;if(!Y||!Q)return;const N=getComputedStyle(Y).color,X=Y.getBoundingClientRect(),W=Q.getBoundingClientRect(),he=p.value?"x":"y",K=p.value?"X":"Y",le=p.value?"right":"bottom",G=p.value?"width":"height",oe=X[he],fe=W[he],pe=oe>fe?X[le]-W[le]:X[he]-W[he],Te=Math.sign(pe)>0?p.value?"right":"bottom":Math.sign(pe)<0?p.value?"left":"top":"center",Me=(Math.abs(pe)+(Math.sign(pe)<0?X[G]:W[G]))/Math.max(X[G],W[G]),He=X[G]/W[G],je=1.5;qh(Q,{backgroundColor:[N,""],transform:[`translate${K}(${pe}px) scale${K}(${He})`,`translate${K}(${pe/je}px) scale${K}(${(Me-1)/je+1})`,""],transformOrigin:Array(3).fill(Te)},{duration:225,easing:If})}}return $t(()=>{const[F]=xn.filterProps(t);return ae(xn,ai({_as:"VTab",symbol:n_,ref:w,class:["v-tab"],tabindex:x.value?0:-1,role:"tab","aria-selected":String(x.value),active:!1,block:t.fixed,maxWidth:t.fixed?300:void 0,rounded:0},F,l,{"onGroup:selected":C}),{default:()=>[r.default?r.default():t.title,!t.hideSlider&&ae("div",{ref:P,class:["v-tab__slider",c.value],style:f.value},null)]})}),{}}});function dZ(t){return t?t.map(s=>typeof s=="string"?{title:s,value:s}:s):[]}const fZ=Lt()({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,modelValue:null,mandatory:{type:[Boolean,String],default:"force"},...Os(),...Xi()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),c=_e(()=>dZ(t.items)),{densityClasses:f}=br(t),{backgroundColorClasses:p,backgroundColorStyles:x}=ds(Nt(t,"bgColor"));return ks({VTab:{color:Nt(t,"color"),direction:Nt(t,"direction"),stacked:Nt(t,"stacked"),fixed:Nt(t,"fixedTabs"),sliderColor:Nt(t,"sliderColor"),hideSlider:Nt(t,"hideSlider")}}),$t(()=>ae(i_,{modelValue:l.value,"onUpdate:modelValue":w=>l.value=w,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},f.value,p.value],style:[{"--v-tabs-height":ci(t.height)},x.value],role:"tablist",symbol:n_,mandatory:t.mandatory,direction:t.direction},{default:()=>[r.default?r.default():c.value.map(w=>ae(s_,ai(w,{key:w.title}),null))]})),{}}});const gZ=Lt()({name:"VTextarea",directives:{Intersect:Bm},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,...Nl(),...dp()},emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:r,emit:l,slots:c}=s;const f=Ei(t,"modelValue"),{isFocused:p,focus:x,blur:w}=jc(t),P=_e(()=>typeof t.counterValue=="function"?t.counterValue(f.value):(f.value||"").toString().length),C=_e(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function F(pe,Te){var De,Me;!t.autofocus||!pe||(Me=(De=Te[0].target)==null?void 0:De.focus)==null||Me.call(De)}const L=it(),B=it(),U=it(""),Y=it(),Q=_e(()=>p.value||t.persistentPlaceholder),N=_e(()=>t.messages.length?t.messages:Q.value||t.persistentHint?t.hint:"");function X(){var pe;Y.value!==document.activeElement&&((pe=Y.value)==null||pe.focus()),p.value||x()}function W(pe){X(),l("click:control",pe)}function he(pe){l("mousedown:control",pe)}function K(pe){pe.stopPropagation(),X(),on(()=>{f.value="",Hg(t["onClick:clear"],pe)})}function le(pe){const Te=pe.target,De=[Te.selectionStart,Te.selectionEnd];f.value=Te.value,on(()=>{Te.selectionStart=De[0],Te.selectionEnd=De[1]})}const G=it();function oe(){t.autoGrow&&on(()=>{if(!G.value||!B.value)return;const pe=getComputedStyle(G.value),Te=getComputedStyle(B.value.$el),De=parseFloat(pe.getPropertyValue("--v-field-padding-top"))+parseFloat(pe.getPropertyValue("--v-input-padding-top"))+parseFloat(pe.getPropertyValue("--v-field-padding-bottom")),Me=G.value.scrollHeight,He=parseFloat(pe.lineHeight),je=Math.max(parseFloat(t.rows)*He+De,parseFloat(Te.getPropertyValue("--v-input-control-height"))),tt=parseFloat(t.maxRows)*He+De||1/0;U.value=ci(ga(Me??0,je,tt))})}nn(oe),ui(f,oe),ui(()=>t.rows,oe),ui(()=>t.maxRows,oe),ui(()=>t.density,oe);let fe;return ui(G,pe=>{pe?(fe=new ResizeObserver(oe),fe.observe(G.value)):fe==null||fe.disconnect()}),vr(()=>{fe==null||fe.disconnect()}),$t(()=>{const pe=!!(c.counter||t.counter||t.counterValue),Te=!!(pe||c.details),[De,Me]=Ic(r),[{modelValue:He,...je}]=Lh(t),[tt]=wb(t);return ae(qo,ai({ref:L,modelValue:f.value,"onUpdate:modelValue":Ze=>f.value=Ze,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},De,je,{focused:p.value,messages:N.value}),{...c,default:Ze=>{let{isDisabled:ft,isDirty:Je,isReadonly:dt,isValid:at}=Ze;return ae(C0,ai({ref:B,style:{"--v-textarea-control-height":U.value},onClick:W,onMousedown:he,"onClick:clear":K,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},tt,{active:Q.value||Je.value,dirty:Je.value||t.dirty,disabled:ft.value,focused:p.value,error:at.value===!1}),{...c,default:Ie=>{let{props:{class:qe,...Ue}}=Ie;return ae(bi,null,[t.prefix&&ae("span",{class:"v-text-field__prefix"},[t.prefix]),ln(ae("textarea",ai({ref:Y,class:qe,value:f.value,onInput:le,autofocus:t.autofocus,readonly:dt.value,disabled:ft.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:X,onBlur:w},Ue,Me),null),[[Mr("intersect"),{handler:F},null,{once:!0}]]),t.autoGrow&&ln(ae("textarea",{class:[qe,"v-textarea__sizer"],"onUpdate:modelValue":Ae=>f.value=Ae,ref:G,readonly:!0,"aria-hidden":"true"},null),[[Pf,f.value]]),t.suffix&&ae("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:Te?Ze=>{var ft;return ae(bi,null,[(ft=c.details)==null?void 0:ft.call(c,Ze),pe&&ae(bi,null,[ae("span",null,null),ae(fp,{active:t.persistentCounter||p.value,value:P.value,max:C.value},c.counter)])])}:void 0})}),Co({},L,B,Y)}});const mZ=Lt()({name:"VThemeProvider",props:{withBackground:Boolean,...en(),...Xi()},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t);return()=>{var c;return t.withBackground?ae(t.tag,{class:["v-theme-provider",l.value]},{default:()=>{var f;return[(f=r.default)==null?void 0:f.call(r)]}}):(c=r.default)==null?void 0:c.call(r)}}});const pZ=Lt()({name:"VTimeline",props:{align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Os(),...Xi(),...en()},setup(t,s){let{slots:r}=s;const{themeClasses:l}=mn(t),{densityClasses:c}=br(t);ks({VTimelineDivider:{lineColor:Nt(t,"lineColor")},VTimelineItem:{density:Nt(t,"density"),lineInset:Nt(t,"lineInset")}});const f=_e(()=>{const x=t.side?t.side:t.density!=="default"?"end":null;return x&&`v-timeline--side-${x}`}),p=_e(()=>{const x=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return x;case"start":return x[0];case"end":return x[1];default:return null}});return $t(()=>ae(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,p.value,{"v-timeline--inset-line":!!t.lineInset},l.value,c.value,f.value],style:{"--v-timeline-line-thickness":ci(t.lineThickness)}},r)),{}}}),vZ=Lt()({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ni,iconColor:String,lineColor:String,...Yn(),...Pl(),...Es()},setup(t,s){let{slots:r}=s;const{sizeClasses:l,sizeStyles:c}=gd(t,"v-timeline-divider__dot"),{backgroundColorStyles:f,backgroundColorClasses:p}=ds(Nt(t,"dotColor")),{roundedClasses:x}=gs(t,"v-timeline-divider__dot"),{elevationClasses:w}=er(t),{backgroundColorClasses:P,backgroundColorStyles:C}=ds(Nt(t,"lineColor"));return $t(()=>ae("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot}]},[ae("div",{class:["v-timeline-divider__before",P.value],style:C.value},null),!t.hideDot&&ae("div",{key:"dot",class:["v-timeline-divider__dot",w.value,x.value,l.value],style:c.value},[ae("div",{class:["v-timeline-divider__inner-dot",p.value,x.value],style:f.value},[r.default?ae(Cn,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},r.default):ae(Bi,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),ae("div",{class:["v-timeline-divider__after",P.value],style:C.value},null)])),{}}}),xZ=Lt()({name:"VTimelineItem",props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ni,iconColor:String,lineInset:[Number,String],...Yn(),...Es(),...Pl(),...Xi(),...ko()},setup(t,s){let{slots:r}=s;const{dimensionStyles:l}=So(t),c=it(0),f=it();return ui(f,p=>{var x;p&&(c.value=((x=p.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:x.getBoundingClientRect().width)??0)},{flush:"post"}),$t(()=>{var p,x;return ae("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot}],style:{"--v-timeline-dot-size":ci(c.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${ci(t.lineInset)})`:ci(0)}},[ae("div",{class:"v-timeline-item__body",style:l.value},[(p=r.default)==null?void 0:p.call(r)]),ae(vZ,{ref:f,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:r.icon}),t.density!=="compact"&&ae("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((x=r.opposite)==null?void 0:x.call(r))])])}),{}}});const yZ=Lt()({name:"VTooltip",props:{id:String,text:String,...Ah(k0({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=Ei(t,"modelValue"),{scopeId:c}=w0(),f=yr(),p=_e(()=>t.id||`v-tooltip-${f}`),x=it(),w=_e(()=>t.location.split(" ").length>1?t.location:t.location+" center"),P=_e(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),C=_e(()=>t.transition?t.transition:l.value?"scale-transition":"fade-transition"),F=_e(()=>ai({"aria-describedby":p.value},t.activatorProps));return $t(()=>{const[L]=bl.filterProps(t);return ae(bl,ai({ref:x,class:["v-tooltip"],id:p.value},L,{modelValue:l.value,"onUpdate:modelValue":B=>l.value=B,transition:C.value,absolute:!0,location:w.value,origin:P.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:F.value,_disableGlobalStack:!0},c),{activator:r.activator,default:function(){var Q;for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return((Q=r.default)==null?void 0:Q.call(r,...U))??t.text}})}),Co({},x)}}),bZ=Lt()({name:"VValidation",props:{...bE()},emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:r}=s;const l=wE(t,"validation");return()=>{var c;return(c=r.default)==null?void 0:c.call(r,l)}}}),wZ=Object.freeze(Object.defineProperty({__proto__:null,VAlert:by,VAlertTitle:aP,VApp:LK,VAppBar:IK,VAppBarNavIcon:OK,VAppBarTitle:RK,VAutocomplete:VK,VAvatar:vh,VBadge:zK,VBanner:XK,VBannerActions:RE,VBannerText:BE,VBottomNavigation:HK,VBreadcrumbs:YK,VBreadcrumbsDivider:VE,VBreadcrumbsItem:zE,VBtn:xn,VBtnGroup:_x,VBtnToggle:C4,VCard:xh,VCardActions:gy,VCardItem:sP,VCardSubtitle:nP,VCardText:Qu,VCardTitle:zm,VCarousel:UK,VCarouselItem:WK,VCheckbox:J$,VCheckboxBtn:wl,VChip:zc,VChipGroup:P4,VClassIcon:hy,VCode:GK,VCol:Ho,VColorPicker:Pq,VCombobox:Mq,VComponentIcon:Cx,VContainer:u0,VCounter:fp,VDefaultsProvider:Cn,VDialog:vf,VDialogBottomTransition:M4,VDialogTopTransition:E4,VDialogTransition:Ym,VDivider:Ty,VExpandTransition:_r,VExpandXTransition:ky,VExpansionPanel:Fq,VExpansionPanelText:QE,VExpansionPanelTitle:JE,VExpansionPanels:_q,VFabTransition:D4,VFadeTransition:Fx,VField:C0,VFieldLabel:$d,VFileInput:Nq,VFooter:Lq,VForm:Iq,VHover:Oq,VIcon:Bi,VImg:md,VInput:qo,VItem:Bq,VItemGroup:Rq,VKbd:Vq,VLabel:Ad,VLayout:zq,VLayoutItem:Xq,VLazy:Hq,VLigatureIcon:IR,VList:d0,VListGroup:Lx,VListImg:sB,VListItem:ma,VListItemAction:rB,VListItemMedia:aB,VListItemSubtitle:yu,VListItemTitle:bu,VListSubheader:EP,VLocaleProvider:Yq,VMain:Uq,VMenu:mp,VMessages:xE,VNavigationDrawer:Jq,VNoSsr:Qq,VOverlay:bl,VPagination:tZ,VParallax:nZ,VProgressCircular:yy,VProgressLinear:vy,VRadio:sZ,VRadioGroup:rZ,VRangeSlider:aZ,VRating:oZ,VResponsive:iP,VRow:yh,VScaleTransition:fP,VScrollXReverseTransition:F4,VScrollXTransition:_4,VScrollYReverseTransition:L4,VScrollYTransition:N4,VSelect:IE,VSelectionControl:rd,VSelectionControlGroup:CE,VSheet:qE,VSlideGroup:i_,VSlideGroupItem:hZ,VSlideXReverseTransition:O4,VSlideXTransition:I4,VSlideYReverseTransition:R4,VSlideYTransition:wy,VSlider:a1,VSnackbar:QM,VSpacer:Ay,VSvgIcon:xT,VSwitch:cZ,VSystemBar:uZ,VTab:s_,VTable:vE,VTabs:fZ,VTextField:Ac,VTextarea:gZ,VThemeProvider:mZ,VTimeline:pZ,VTimelineItem:xZ,VToolbar:$g,VToolbarItems:lB,VToolbarTitle:Wm,VTooltip:yZ,VValidation:bZ,VWindow:YE,VWindowItem:UE},Symbol.toStringTag,{value:"Module"}));SL();const kZ=TT({components:{...wZ,VDataTable:NK},directives:T3,icons:{defaultSet:"mdi",aliases:pT,sets:{mdi:vT}}}),A0=R1(yL);A0.use(kZ);A0.use(EL);A0.use($$);A0.use(ys);A0.mount("#app");
